var a0=om=>{throw TypeError(om)};var e0=(om,_g,pm)=>_g.has(om)||a0("Cannot "+pm);var Up=(om,_g,pm)=>(e0(om,_g,"read from private field"),pm?pm.call(om):_g.get(om)),im=(om,_g,pm)=>_g.has(om)?a0("Cannot add the same private member more than once"):_g instanceof WeakSet?_g.add(om):_g.set(om,pm),Sp=(om,_g,pm,Tm)=>(e0(om,_g,"write to private field"),Tm?Tm.call(om,pm):_g.set(om,pm),pm),dy=(om,_g,pm)=>(e0(om,_g,"access private method"),pm);(function(){"use strict";var om,_g,pm,Tm,Rm,Im,Hm,Km,Wm,Gm,qm,Ym,Xm,Zm,Jm,Qm,ey,Lm,Nm,Pm,Om,ty,ry,ny,fy;function _mergeNamespaces(at,zs){for(var Ws=0;Ws<zs.length;Ws++){const qs=zs[Ws];if(typeof qs!="string"&&!Array.isArray(qs)){for(const Ys in qs)if(Ys!=="default"&&!(Ys in at)){const Xs=Object.getOwnPropertyDescriptor(qs,Ys);Xs&&Object.defineProperty(at,Ys,Xs.get?Xs:{enumerable:!0,get:()=>qs[Ys]})}}}return Object.freeze(Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(at){return at&&at.__esModule&&Object.prototype.hasOwnProperty.call(at,"default")?at.default:at}function getAugmentedNamespace(at){if(at.__esModule)return at;var zs=at.default;if(typeof zs=="function"){var Ws=function qs(){return this instanceof qs?Reflect.construct(zs,arguments,this.constructor):zs.apply(this,arguments)};Ws.prototype=zs.prototype}else Ws={};return Object.defineProperty(Ws,"__esModule",{value:!0}),Object.keys(at).forEach(function(qs){var Ys=Object.getOwnPropertyDescriptor(at,qs);Object.defineProperty(Ws,qs,Ys.get?Ys:{enumerable:!0,get:function(){return at[qs]}})}),Ws}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$8=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$d=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$c=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$e=Symbol.for("react.context"),v$9=Symbol.for("react.forward_ref"),w$8=Symbol.for("react.suspense"),x$9=Symbol.for("react.memo"),y$8=Symbol.for("react.lazy"),z$6=Symbol.iterator;function A$7(at){return at===null||typeof at!="object"?null:(at=z$6&&at[z$6]||at["@@iterator"],typeof at=="function"?at:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$a=Object.assign,D$7={};function E$8(at,zs,Ws){this.props=at,this.context=zs,this.refs=D$7,this.updater=Ws||B$2}E$8.prototype.isReactComponent={},E$8.prototype.setState=function(at,zs){if(typeof at!="object"&&typeof at!="function"&&at!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,at,zs,"setState")},E$8.prototype.forceUpdate=function(at){this.updater.enqueueForceUpdate(this,at,"forceUpdate")};function F$4(){}F$4.prototype=E$8.prototype;function G$7(at,zs,Ws){this.props=at,this.context=zs,this.refs=D$7,this.updater=Ws||B$2}var H$7=G$7.prototype=new F$4;H$7.constructor=G$7,C$a(H$7,E$8.prototype),H$7.isPureReactComponent=!0;var I$7=Array.isArray,J$8=Object.prototype.hasOwnProperty,K$9={current:null},L$6={key:!0,ref:!0,__self:!0,__source:!0};function M$9(at,zs,Ws){var qs,Ys={},Xs=null,Zs=null;if(zs!=null)for(qs in zs.ref!==void 0&&(Zs=zs.ref),zs.key!==void 0&&(Xs=""+zs.key),zs)J$8.call(zs,qs)&&!L$6.hasOwnProperty(qs)&&(Ys[qs]=zs[qs]);var yl=arguments.length-2;if(yl===1)Ys.children=Ws;else if(1<yl){for(var Js=Array(yl),$l=0;$l<yl;$l++)Js[$l]=arguments[$l+2];Ys.children=Js}if(at&&at.defaultProps)for(qs in yl=at.defaultProps,yl)Ys[qs]===void 0&&(Ys[qs]=yl[qs]);return{$$typeof:l$8,type:at,key:Xs,ref:Zs,props:Ys,_owner:K$9.current}}function N$8(at,zs){return{$$typeof:l$8,type:at.type,key:zs,ref:at.ref,props:at.props,_owner:at._owner}}function O$7(at){return typeof at=="object"&&at!==null&&at.$$typeof===l$8}function escape$2(at){var zs={"=":"=0",":":"=2"};return"$"+at.replace(/[=:]/g,function(Ws){return zs[Ws]})}var P$b=/\/+/g;function Q$6(at,zs){return typeof at=="object"&&at!==null&&at.key!=null?escape$2(""+at.key):zs.toString(36)}function R$6(at,zs,Ws,qs,Ys){var Xs=typeof at;(Xs==="undefined"||Xs==="boolean")&&(at=null);var Zs=!1;if(at===null)Zs=!0;else switch(Xs){case"string":case"number":Zs=!0;break;case"object":switch(at.$$typeof){case l$8:case n$9:Zs=!0}}if(Zs)return Zs=at,Ys=Ys(Zs),at=qs===""?"."+Q$6(Zs,0):qs,I$7(Ys)?(Ws="",at!=null&&(Ws=at.replace(P$b,"$&/")+"/"),R$6(Ys,zs,Ws,"",function($l){return $l})):Ys!=null&&(O$7(Ys)&&(Ys=N$8(Ys,Ws+(!Ys.key||Zs&&Zs.key===Ys.key?"":(""+Ys.key).replace(P$b,"$&/")+"/")+at)),zs.push(Ys)),1;if(Zs=0,qs=qs===""?".":qs+":",I$7(at))for(var yl=0;yl<at.length;yl++){Xs=at[yl];var Js=qs+Q$6(Xs,yl);Zs+=R$6(Xs,zs,Ws,Js,Ys)}else if(Js=A$7(at),typeof Js=="function")for(at=Js.call(at),yl=0;!(Xs=at.next()).done;)Xs=Xs.value,Js=qs+Q$6(Xs,yl++),Zs+=R$6(Xs,zs,Ws,Js,Ys);else if(Xs==="object")throw zs=String(at),Error("Objects are not valid as a React child (found: "+(zs==="[object Object]"?"object with keys {"+Object.keys(at).join(", ")+"}":zs)+"). If you meant to render a collection of children, use an array instead.");return Zs}function S$a(at,zs,Ws){if(at==null)return at;var qs=[],Ys=0;return R$6(at,qs,"","",function(Xs){return zs.call(Ws,Xs,Ys++)}),qs}function T$8(at){if(at._status===-1){var zs=at._result;zs=zs(),zs.then(function(Ws){(at._status===0||at._status===-1)&&(at._status=1,at._result=Ws)},function(Ws){(at._status===0||at._status===-1)&&(at._status=2,at._result=Ws)}),at._status===-1&&(at._status=0,at._result=zs)}if(at._status===1)return at._result.default;throw at._result}var U$5={current:null},V$7={transition:null},W$8={ReactCurrentDispatcher:U$5,ReactCurrentBatchConfig:V$7,ReactCurrentOwner:K$9};function X$8(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$a,forEach:function(at,zs,Ws){S$a(at,function(){zs.apply(this,arguments)},Ws)},count:function(at){var zs=0;return S$a(at,function(){zs++}),zs},toArray:function(at){return S$a(at,function(zs){return zs})||[]},only:function(at){if(!O$7(at))throw Error("React.Children.only expected to receive a single React element child.");return at}},react_production_min.Component=E$8,react_production_min.Fragment=p$d,react_production_min.Profiler=r$c,react_production_min.PureComponent=G$7,react_production_min.StrictMode=q$5,react_production_min.Suspense=w$8,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$8,react_production_min.act=X$8,react_production_min.cloneElement=function(at,zs,Ws){if(at==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+at+".");var qs=C$a({},at.props),Ys=at.key,Xs=at.ref,Zs=at._owner;if(zs!=null){if(zs.ref!==void 0&&(Xs=zs.ref,Zs=K$9.current),zs.key!==void 0&&(Ys=""+zs.key),at.type&&at.type.defaultProps)var yl=at.type.defaultProps;for(Js in zs)J$8.call(zs,Js)&&!L$6.hasOwnProperty(Js)&&(qs[Js]=zs[Js]===void 0&&yl!==void 0?yl[Js]:zs[Js])}var Js=arguments.length-2;if(Js===1)qs.children=Ws;else if(1<Js){yl=Array(Js);for(var $l=0;$l<Js;$l++)yl[$l]=arguments[$l+2];qs.children=yl}return{$$typeof:l$8,type:at.type,key:Ys,ref:Xs,props:qs,_owner:Zs}},react_production_min.createContext=function(at){return at={$$typeof:u$e,_currentValue:at,_currentValue2:at,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},at.Provider={$$typeof:t$7,_context:at},at.Consumer=at},react_production_min.createElement=M$9,react_production_min.createFactory=function(at){var zs=M$9.bind(null,at);return zs.type=at,zs},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(at){return{$$typeof:v$9,render:at}},react_production_min.isValidElement=O$7,react_production_min.lazy=function(at){return{$$typeof:y$8,_payload:{_status:-1,_result:at},_init:T$8}},react_production_min.memo=function(at,zs){return{$$typeof:x$9,type:at,compare:zs===void 0?null:zs}},react_production_min.startTransition=function(at){var zs=V$7.transition;V$7.transition={};try{at()}finally{V$7.transition=zs}},react_production_min.unstable_act=X$8,react_production_min.useCallback=function(at,zs){return U$5.current.useCallback(at,zs)},react_production_min.useContext=function(at){return U$5.current.useContext(at)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(at){return U$5.current.useDeferredValue(at)},react_production_min.useEffect=function(at,zs){return U$5.current.useEffect(at,zs)},react_production_min.useId=function(){return U$5.current.useId()},react_production_min.useImperativeHandle=function(at,zs,Ws){return U$5.current.useImperativeHandle(at,zs,Ws)},react_production_min.useInsertionEffect=function(at,zs){return U$5.current.useInsertionEffect(at,zs)},react_production_min.useLayoutEffect=function(at,zs){return U$5.current.useLayoutEffect(at,zs)},react_production_min.useMemo=function(at,zs){return U$5.current.useMemo(at,zs)},react_production_min.useReducer=function(at,zs,Ws){return U$5.current.useReducer(at,zs,Ws)},react_production_min.useRef=function(at){return U$5.current.useRef(at)},react_production_min.useState=function(at){return U$5.current.useState(at)},react_production_min.useSyncExternalStore=function(at,zs,Ws){return U$5.current.useSyncExternalStore(at,zs,Ws)},react_production_min.useTransition=function(){return U$5.current.useTransition()},react_production_min.version="18.3.1",react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),t$6=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$d=reactExports,k$8=Symbol.for("react.element"),l$7=Symbol.for("react.fragment"),m$9=Object.prototype.hasOwnProperty,n$8=f$d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$c={key:!0,ref:!0,__self:!0,__source:!0};function q$4(at,zs,Ws){var qs,Ys={},Xs=null,Zs=null;Ws!==void 0&&(Xs=""+Ws),zs.key!==void 0&&(Xs=""+zs.key),zs.ref!==void 0&&(Zs=zs.ref);for(qs in zs)m$9.call(zs,qs)&&!p$c.hasOwnProperty(qs)&&(Ys[qs]=zs[qs]);if(at&&at.defaultProps)for(qs in zs=at.defaultProps,zs)Ys[qs]===void 0&&(Ys[qs]=zs[qs]);return{$$typeof:k$8,type:at,key:Xs,ref:Zs,props:Ys,_owner:n$8.current}}reactJsxRuntime_production_min.Fragment=l$7,reactJsxRuntime_production_min.jsx=q$4,reactJsxRuntime_production_min.jsxs=q$4,jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(at){function zs(Fl,Hl){var Zl=Fl.length;Fl.push(Hl);e:for(;0<Zl;){var Su=Zl-1>>>1,$u=Fl[Su];if(0<Ys($u,Hl))Fl[Su]=Hl,Fl[Zl]=$u,Zl=Su;else break e}}function Ws(Fl){return Fl.length===0?null:Fl[0]}function qs(Fl){if(Fl.length===0)return null;var Hl=Fl[0],Zl=Fl.pop();if(Zl!==Hl){Fl[0]=Zl;e:for(var Su=0,$u=Fl.length,Pu=$u>>>1;Su<Pu;){var ku=2*(Su+1)-1,Tu=Fl[ku],Ru=ku+1,Mu=Fl[Ru];if(0>Ys(Tu,Zl))Ru<$u&&0>Ys(Mu,Tu)?(Fl[Su]=Mu,Fl[Ru]=Zl,Su=Ru):(Fl[Su]=Tu,Fl[ku]=Zl,Su=ku);else if(Ru<$u&&0>Ys(Mu,Zl))Fl[Su]=Mu,Fl[Ru]=Zl,Su=Ru;else break e}}return Hl}function Ys(Fl,Hl){var Zl=Fl.sortIndex-Hl.sortIndex;return Zl!==0?Zl:Fl.id-Hl.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Xs=performance;at.unstable_now=function(){return Xs.now()}}else{var Zs=Date,yl=Zs.now();at.unstable_now=function(){return Zs.now()-yl}}var Js=[],$l=[],El=1,wl=null,_l=3,Sl=!1,Tl=!1,Il=!1,Al=typeof setTimeout=="function"?setTimeout:null,xl=typeof clearTimeout=="function"?clearTimeout:null,Pl=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Cl(Fl){for(var Hl=Ws($l);Hl!==null;){if(Hl.callback===null)qs($l);else if(Hl.startTime<=Fl)qs($l),Hl.sortIndex=Hl.expirationTime,zs(Js,Hl);else break;Hl=Ws($l)}}function Rl(Fl){if(Il=!1,Cl(Fl),!Tl)if(Ws(Js)!==null)Tl=!0,Dl(Ol);else{var Hl=Ws($l);Hl!==null&&Gl(Rl,Hl.startTime-Fl)}}function Ol(Fl,Hl){Tl=!1,Il&&(Il=!1,xl(Bl),Bl=-1),Sl=!0;var Zl=_l;try{for(Cl(Hl),wl=Ws(Js);wl!==null&&(!(wl.expirationTime>Hl)||Fl&&!Kl());){var Su=wl.callback;if(typeof Su=="function"){wl.callback=null,_l=wl.priorityLevel;var $u=Su(wl.expirationTime<=Hl);Hl=at.unstable_now(),typeof $u=="function"?wl.callback=$u:wl===Ws(Js)&&qs(Js),Cl(Hl)}else qs(Js);wl=Ws(Js)}if(wl!==null)var Pu=!0;else{var ku=Ws($l);ku!==null&&Gl(Rl,ku.startTime-Hl),Pu=!1}return Pu}finally{wl=null,_l=Zl,Sl=!1}}var Ml=!1,Ll=null,Bl=-1,Wl=5,Yl=-1;function Kl(){return!(at.unstable_now()-Yl<Wl)}function Xl(){if(Ll!==null){var Fl=at.unstable_now();Yl=Fl;var Hl=!0;try{Hl=Ll(!0,Fl)}finally{Hl?Ul():(Ml=!1,Ll=null)}}else Ml=!1}var Ul;if(typeof Pl=="function")Ul=function(){Pl(Xl)};else if(typeof MessageChannel<"u"){var Vl=new MessageChannel,Nl=Vl.port2;Vl.port1.onmessage=Xl,Ul=function(){Nl.postMessage(null)}}else Ul=function(){Al(Xl,0)};function Dl(Fl){Ll=Fl,Ml||(Ml=!0,Ul())}function Gl(Fl,Hl){Bl=Al(function(){Fl(at.unstable_now())},Hl)}at.unstable_IdlePriority=5,at.unstable_ImmediatePriority=1,at.unstable_LowPriority=4,at.unstable_NormalPriority=3,at.unstable_Profiling=null,at.unstable_UserBlockingPriority=2,at.unstable_cancelCallback=function(Fl){Fl.callback=null},at.unstable_continueExecution=function(){Tl||Sl||(Tl=!0,Dl(Ol))},at.unstable_forceFrameRate=function(Fl){0>Fl||125<Fl?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wl=0<Fl?Math.floor(1e3/Fl):5},at.unstable_getCurrentPriorityLevel=function(){return _l},at.unstable_getFirstCallbackNode=function(){return Ws(Js)},at.unstable_next=function(Fl){switch(_l){case 1:case 2:case 3:var Hl=3;break;default:Hl=_l}var Zl=_l;_l=Hl;try{return Fl()}finally{_l=Zl}},at.unstable_pauseExecution=function(){},at.unstable_requestPaint=function(){},at.unstable_runWithPriority=function(Fl,Hl){switch(Fl){case 1:case 2:case 3:case 4:case 5:break;default:Fl=3}var Zl=_l;_l=Fl;try{return Hl()}finally{_l=Zl}},at.unstable_scheduleCallback=function(Fl,Hl,Zl){var Su=at.unstable_now();switch(typeof Zl=="object"&&Zl!==null?(Zl=Zl.delay,Zl=typeof Zl=="number"&&0<Zl?Su+Zl:Su):Zl=Su,Fl){case 1:var $u=-1;break;case 2:$u=250;break;case 5:$u=1073741823;break;case 4:$u=1e4;break;default:$u=5e3}return $u=Zl+$u,Fl={id:El++,callback:Hl,priorityLevel:Fl,startTime:Zl,expirationTime:$u,sortIndex:-1},Zl>Su?(Fl.sortIndex=Zl,zs($l,Fl),Ws(Js)===null&&Fl===Ws($l)&&(Il?(xl(Bl),Bl=-1):Il=!0,Gl(Rl,Zl-Su))):(Fl.sortIndex=$u,zs(Js,Fl),Tl||Sl||(Tl=!0,Dl(Ol))),Fl},at.unstable_shouldYield=Kl,at.unstable_wrapCallback=function(Fl){var Hl=_l;return function(){var Zl=_l;_l=Hl;try{return Fl.apply(this,arguments)}finally{_l=Zl}}}})(scheduler_production_min),scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$b(at){for(var zs="https://reactjs.org/docs/error-decoder.html?invariant="+at,Ws=1;Ws<arguments.length;Ws++)zs+="&args[]="+encodeURIComponent(arguments[Ws]);return"Minified React error #"+at+"; visit "+zs+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$2={};function fa$1(at,zs){ha$1(at,zs),ha$1(at+"Capture",zs)}function ha$1(at,zs){for(ea$2[at]=zs,at=0;at<zs.length;at++)da$1.add(zs[at])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$2={};function oa$1(at){return ja$1.call(ma$2,at)?!0:ja$1.call(la$1,at)?!1:ka$1.test(at)?ma$2[at]=!0:(la$1[at]=!0,!1)}function pa$1(at,zs,Ws,qs){if(Ws!==null&&Ws.type===0)return!1;switch(typeof zs){case"function":case"symbol":return!0;case"boolean":return qs?!1:Ws!==null?!Ws.acceptsBooleans:(at=at.toLowerCase().slice(0,5),at!=="data-"&&at!=="aria-");default:return!1}}function qa$1(at,zs,Ws,qs){if(zs===null||typeof zs>"u"||pa$1(at,zs,Ws,qs))return!0;if(qs)return!1;if(Ws!==null)switch(Ws.type){case 3:return!zs;case 4:return zs===!1;case 5:return isNaN(zs);case 6:return isNaN(zs)||1>zs}return!1}function v$8(at,zs,Ws,qs,Ys,Xs,Zs){this.acceptsBooleans=zs===2||zs===3||zs===4,this.attributeName=qs,this.attributeNamespace=Ys,this.mustUseProperty=Ws,this.propertyName=at,this.type=zs,this.sanitizeURL=Xs,this.removeEmptyString=Zs}var z$5={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(at){z$5[at]=new v$8(at,0,!1,at,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(at){var zs=at[0];z$5[zs]=new v$8(zs,1,!1,at[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(at){z$5[at]=new v$8(at,2,!1,at.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(at){z$5[at]=new v$8(at,2,!1,at,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(at){z$5[at]=new v$8(at,3,!1,at.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(at){z$5[at]=new v$8(at,3,!0,at,null,!1,!1)}),["capture","download"].forEach(function(at){z$5[at]=new v$8(at,4,!1,at,null,!1,!1)}),["cols","rows","size","span"].forEach(function(at){z$5[at]=new v$8(at,6,!1,at,null,!1,!1)}),["rowSpan","start"].forEach(function(at){z$5[at]=new v$8(at,5,!1,at.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(at){return at[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(at){var zs=at.replace(ra$1,sa$1);z$5[zs]=new v$8(zs,1,!1,at,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(at){var zs=at.replace(ra$1,sa$1);z$5[zs]=new v$8(zs,1,!1,at,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(at){var zs=at.replace(ra$1,sa$1);z$5[zs]=new v$8(zs,1,!1,at,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(at){z$5[at]=new v$8(at,1,!1,at.toLowerCase(),null,!1,!1)}),z$5.xlinkHref=new v$8("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(at){z$5[at]=new v$8(at,1,!1,at.toLowerCase(),null,!0,!0)});function ta$2(at,zs,Ws,qs){var Ys=z$5.hasOwnProperty(zs)?z$5[zs]:null;(Ys!==null?Ys.type!==0:qs||!(2<zs.length)||zs[0]!=="o"&&zs[0]!=="O"||zs[1]!=="n"&&zs[1]!=="N")&&(qa$1(zs,Ws,Ys,qs)&&(Ws=null),qs||Ys===null?oa$1(zs)&&(Ws===null?at.removeAttribute(zs):at.setAttribute(zs,""+Ws)):Ys.mustUseProperty?at[Ys.propertyName]=Ws===null?Ys.type===3?!1:"":Ws:(zs=Ys.attributeName,qs=Ys.attributeNamespace,Ws===null?at.removeAttribute(zs):(Ys=Ys.type,Ws=Ys===3||Ys===4&&Ws===!0?"":""+Ws,qs?at.setAttributeNS(qs,zs,Ws):at.setAttribute(zs,Ws))))}var ua$2=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$2=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$2=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(at){return at===null||typeof at!="object"?null:(at=Ja$1&&at[Ja$1]||at["@@iterator"],typeof at=="function"?at:null)}var A$6=Object.assign,La$1;function Ma$1(at){if(La$1===void 0)try{throw Error()}catch(Ws){var zs=Ws.stack.trim().match(/\n( *(at )?)/);La$1=zs&&zs[1]||""}return`
`+La$1+at}var Na$1=!1;function Oa$1(at,zs){if(!at||Na$1)return"";Na$1=!0;var Ws=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(zs)if(zs=function(){throw Error()},Object.defineProperty(zs.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zs,[])}catch($l){var qs=$l}Reflect.construct(at,[],zs)}else{try{zs.call()}catch($l){qs=$l}at.call(zs.prototype)}else{try{throw Error()}catch($l){qs=$l}at()}}catch($l){if($l&&qs&&typeof $l.stack=="string"){for(var Ys=$l.stack.split(`
`),Xs=qs.stack.split(`
`),Zs=Ys.length-1,yl=Xs.length-1;1<=Zs&&0<=yl&&Ys[Zs]!==Xs[yl];)yl--;for(;1<=Zs&&0<=yl;Zs--,yl--)if(Ys[Zs]!==Xs[yl]){if(Zs!==1||yl!==1)do if(Zs--,yl--,0>yl||Ys[Zs]!==Xs[yl]){var Js=`
`+Ys[Zs].replace(" at new "," at ");return at.displayName&&Js.includes("<anonymous>")&&(Js=Js.replace("<anonymous>",at.displayName)),Js}while(1<=Zs&&0<=yl);break}}}finally{Na$1=!1,Error.prepareStackTrace=Ws}return(at=at?at.displayName||at.name:"")?Ma$1(at):""}function Pa$1(at){switch(at.tag){case 5:return Ma$1(at.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return at=Oa$1(at.type,!1),at;case 11:return at=Oa$1(at.type.render,!1),at;case 1:return at=Oa$1(at.type,!0),at;default:return""}}function Qa$1(at){if(at==null)return null;if(typeof at=="function")return at.displayName||at.name||null;if(typeof at=="string")return at;switch(at){case ya$1:return"Fragment";case wa$2:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof at=="object")switch(at.$$typeof){case Ca$1:return(at.displayName||"Context")+".Consumer";case Ba$1:return(at._context.displayName||"Context")+".Provider";case Da$1:var zs=at.render;return at=at.displayName,at||(at=zs.displayName||zs.name||"",at=at!==""?"ForwardRef("+at+")":"ForwardRef"),at;case Ga:return zs=at.displayName||null,zs!==null?zs:Qa$1(at.type)||"Memo";case Ha$1:zs=at._payload,at=at._init;try{return Qa$1(at(zs))}catch{}}return null}function Ra$1(at){var zs=at.type;switch(at.tag){case 24:return"Cache";case 9:return(zs.displayName||"Context")+".Consumer";case 10:return(zs._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return at=zs.render,at=at.displayName||at.name||"",zs.displayName||(at!==""?"ForwardRef("+at+")":"ForwardRef");case 7:return"Fragment";case 5:return zs;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(zs);case 8:return zs===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof zs=="function")return zs.displayName||zs.name||null;if(typeof zs=="string")return zs}return null}function Sa$1(at){switch(typeof at){case"boolean":case"number":case"string":case"undefined":return at;case"object":return at;default:return""}}function Ta$1(at){var zs=at.type;return(at=at.nodeName)&&at.toLowerCase()==="input"&&(zs==="checkbox"||zs==="radio")}function Ua$1(at){var zs=Ta$1(at)?"checked":"value",Ws=Object.getOwnPropertyDescriptor(at.constructor.prototype,zs),qs=""+at[zs];if(!at.hasOwnProperty(zs)&&typeof Ws<"u"&&typeof Ws.get=="function"&&typeof Ws.set=="function"){var Ys=Ws.get,Xs=Ws.set;return Object.defineProperty(at,zs,{configurable:!0,get:function(){return Ys.call(this)},set:function(Zs){qs=""+Zs,Xs.call(this,Zs)}}),Object.defineProperty(at,zs,{enumerable:Ws.enumerable}),{getValue:function(){return qs},setValue:function(Zs){qs=""+Zs},stopTracking:function(){at._valueTracker=null,delete at[zs]}}}}function Va$1(at){at._valueTracker||(at._valueTracker=Ua$1(at))}function Wa$1(at){if(!at)return!1;var zs=at._valueTracker;if(!zs)return!0;var Ws=zs.getValue(),qs="";return at&&(qs=Ta$1(at)?at.checked?"true":"false":at.value),at=qs,at!==Ws?(zs.setValue(at),!0):!1}function Xa$1(at){if(at=at||(typeof document<"u"?document:void 0),typeof at>"u")return null;try{return at.activeElement||at.body}catch{return at.body}}function Ya$1(at,zs){var Ws=zs.checked;return A$6({},zs,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Ws??at._wrapperState.initialChecked})}function Za(at,zs){var Ws=zs.defaultValue==null?"":zs.defaultValue,qs=zs.checked!=null?zs.checked:zs.defaultChecked;Ws=Sa$1(zs.value!=null?zs.value:Ws),at._wrapperState={initialChecked:qs,initialValue:Ws,controlled:zs.type==="checkbox"||zs.type==="radio"?zs.checked!=null:zs.value!=null}}function ab(at,zs){zs=zs.checked,zs!=null&&ta$2(at,"checked",zs,!1)}function bb(at,zs){ab(at,zs);var Ws=Sa$1(zs.value),qs=zs.type;if(Ws!=null)qs==="number"?(Ws===0&&at.value===""||at.value!=Ws)&&(at.value=""+Ws):at.value!==""+Ws&&(at.value=""+Ws);else if(qs==="submit"||qs==="reset"){at.removeAttribute("value");return}zs.hasOwnProperty("value")?cb(at,zs.type,Ws):zs.hasOwnProperty("defaultValue")&&cb(at,zs.type,Sa$1(zs.defaultValue)),zs.checked==null&&zs.defaultChecked!=null&&(at.defaultChecked=!!zs.defaultChecked)}function db(at,zs,Ws){if(zs.hasOwnProperty("value")||zs.hasOwnProperty("defaultValue")){var qs=zs.type;if(!(qs!=="submit"&&qs!=="reset"||zs.value!==void 0&&zs.value!==null))return;zs=""+at._wrapperState.initialValue,Ws||zs===at.value||(at.value=zs),at.defaultValue=zs}Ws=at.name,Ws!==""&&(at.name=""),at.defaultChecked=!!at._wrapperState.initialChecked,Ws!==""&&(at.name=Ws)}function cb(at,zs,Ws){(zs!=="number"||Xa$1(at.ownerDocument)!==at)&&(Ws==null?at.defaultValue=""+at._wrapperState.initialValue:at.defaultValue!==""+Ws&&(at.defaultValue=""+Ws))}var eb=Array.isArray;function fb(at,zs,Ws,qs){if(at=at.options,zs){zs={};for(var Ys=0;Ys<Ws.length;Ys++)zs["$"+Ws[Ys]]=!0;for(Ws=0;Ws<at.length;Ws++)Ys=zs.hasOwnProperty("$"+at[Ws].value),at[Ws].selected!==Ys&&(at[Ws].selected=Ys),Ys&&qs&&(at[Ws].defaultSelected=!0)}else{for(Ws=""+Sa$1(Ws),zs=null,Ys=0;Ys<at.length;Ys++){if(at[Ys].value===Ws){at[Ys].selected=!0,qs&&(at[Ys].defaultSelected=!0);return}zs!==null||at[Ys].disabled||(zs=at[Ys])}zs!==null&&(zs.selected=!0)}}function gb(at,zs){if(zs.dangerouslySetInnerHTML!=null)throw Error(p$b(91));return A$6({},zs,{value:void 0,defaultValue:void 0,children:""+at._wrapperState.initialValue})}function hb(at,zs){var Ws=zs.value;if(Ws==null){if(Ws=zs.children,zs=zs.defaultValue,Ws!=null){if(zs!=null)throw Error(p$b(92));if(eb(Ws)){if(1<Ws.length)throw Error(p$b(93));Ws=Ws[0]}zs=Ws}zs==null&&(zs=""),Ws=zs}at._wrapperState={initialValue:Sa$1(Ws)}}function ib(at,zs){var Ws=Sa$1(zs.value),qs=Sa$1(zs.defaultValue);Ws!=null&&(Ws=""+Ws,Ws!==at.value&&(at.value=Ws),zs.defaultValue==null&&at.defaultValue!==Ws&&(at.defaultValue=Ws)),qs!=null&&(at.defaultValue=""+qs)}function jb(at){var zs=at.textContent;zs===at._wrapperState.initialValue&&zs!==""&&zs!==null&&(at.value=zs)}function kb(at){switch(at){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(at,zs){return at==null||at==="http://www.w3.org/1999/xhtml"?kb(zs):at==="http://www.w3.org/2000/svg"&&zs==="foreignObject"?"http://www.w3.org/1999/xhtml":at}var mb,nb=function(at){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(zs,Ws,qs,Ys){MSApp.execUnsafeLocalFunction(function(){return at(zs,Ws,qs,Ys)})}:at}(function(at,zs){if(at.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in at)at.innerHTML=zs;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+zs.valueOf().toString()+"</svg>",zs=mb.firstChild;at.firstChild;)at.removeChild(at.firstChild);for(;zs.firstChild;)at.appendChild(zs.firstChild)}});function ob(at,zs){if(zs){var Ws=at.firstChild;if(Ws&&Ws===at.lastChild&&Ws.nodeType===3){Ws.nodeValue=zs;return}}at.textContent=zs}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(at){qb.forEach(function(zs){zs=zs+at.charAt(0).toUpperCase()+at.substring(1),pb[zs]=pb[at]})});function rb(at,zs,Ws){return zs==null||typeof zs=="boolean"||zs===""?"":Ws||typeof zs!="number"||zs===0||pb.hasOwnProperty(at)&&pb[at]?(""+zs).trim():zs+"px"}function sb(at,zs){at=at.style;for(var Ws in zs)if(zs.hasOwnProperty(Ws)){var qs=Ws.indexOf("--")===0,Ys=rb(Ws,zs[Ws],qs);Ws==="float"&&(Ws="cssFloat"),qs?at.setProperty(Ws,Ys):at[Ws]=Ys}}var tb=A$6({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(at,zs){if(zs){if(tb[at]&&(zs.children!=null||zs.dangerouslySetInnerHTML!=null))throw Error(p$b(137,at));if(zs.dangerouslySetInnerHTML!=null){if(zs.children!=null)throw Error(p$b(60));if(typeof zs.dangerouslySetInnerHTML!="object"||!("__html"in zs.dangerouslySetInnerHTML))throw Error(p$b(61))}if(zs.style!=null&&typeof zs.style!="object")throw Error(p$b(62))}}function vb(at,zs){if(at.indexOf("-")===-1)return typeof zs.is=="string";switch(at){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(at){return at=at.target||at.srcElement||window,at.correspondingUseElement&&(at=at.correspondingUseElement),at.nodeType===3?at.parentNode:at}var yb=null,zb=null,Ab=null;function Bb(at){if(at=Cb(at)){if(typeof yb!="function")throw Error(p$b(280));var zs=at.stateNode;zs&&(zs=Db(zs),yb(at.stateNode,at.type,zs))}}function Eb(at){zb?Ab?Ab.push(at):Ab=[at]:zb=at}function Fb(){if(zb){var at=zb,zs=Ab;if(Ab=zb=null,Bb(at),zs)for(at=0;at<zs.length;at++)Bb(zs[at])}}function Gb(at,zs){return at(zs)}function Hb(){}var Ib=!1;function Jb(at,zs,Ws){if(Ib)return at(zs,Ws);Ib=!0;try{return Gb(at,zs,Ws)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(at,zs){var Ws=at.stateNode;if(Ws===null)return null;var qs=Db(Ws);if(qs===null)return null;Ws=qs[zs];e:switch(zs){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(qs=!qs.disabled)||(at=at.type,qs=!(at==="button"||at==="input"||at==="select"||at==="textarea")),at=!qs;break e;default:at=!1}if(at)return null;if(Ws&&typeof Ws!="function")throw Error(p$b(231,zs,typeof Ws));return Ws}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(at,zs,Ws,qs,Ys,Xs,Zs,yl,Js){var $l=Array.prototype.slice.call(arguments,3);try{zs.apply(Ws,$l)}catch(El){this.onError(El)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(at){Ob=!0,Pb=at}};function Tb(at,zs,Ws,qs,Ys,Xs,Zs,yl,Js){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(at,zs,Ws,qs,Ys,Xs,Zs,yl,Js){if(Tb.apply(this,arguments),Ob){if(Ob){var $l=Pb;Ob=!1,Pb=null}else throw Error(p$b(198));Qb||(Qb=!0,Rb=$l)}}function Vb(at){var zs=at,Ws=at;if(at.alternate)for(;zs.return;)zs=zs.return;else{at=zs;do zs=at,zs.flags&4098&&(Ws=zs.return),at=zs.return;while(at)}return zs.tag===3?Ws:null}function Wb(at){if(at.tag===13){var zs=at.memoizedState;if(zs===null&&(at=at.alternate,at!==null&&(zs=at.memoizedState)),zs!==null)return zs.dehydrated}return null}function Xb(at){if(Vb(at)!==at)throw Error(p$b(188))}function Yb(at){var zs=at.alternate;if(!zs){if(zs=Vb(at),zs===null)throw Error(p$b(188));return zs!==at?null:at}for(var Ws=at,qs=zs;;){var Ys=Ws.return;if(Ys===null)break;var Xs=Ys.alternate;if(Xs===null){if(qs=Ys.return,qs!==null){Ws=qs;continue}break}if(Ys.child===Xs.child){for(Xs=Ys.child;Xs;){if(Xs===Ws)return Xb(Ys),at;if(Xs===qs)return Xb(Ys),zs;Xs=Xs.sibling}throw Error(p$b(188))}if(Ws.return!==qs.return)Ws=Ys,qs=Xs;else{for(var Zs=!1,yl=Ys.child;yl;){if(yl===Ws){Zs=!0,Ws=Ys,qs=Xs;break}if(yl===qs){Zs=!0,qs=Ys,Ws=Xs;break}yl=yl.sibling}if(!Zs){for(yl=Xs.child;yl;){if(yl===Ws){Zs=!0,Ws=Xs,qs=Ys;break}if(yl===qs){Zs=!0,qs=Xs,Ws=Ys;break}yl=yl.sibling}if(!Zs)throw Error(p$b(189))}}if(Ws.alternate!==qs)throw Error(p$b(190))}if(Ws.tag!==3)throw Error(p$b(188));return Ws.stateNode.current===Ws?at:zs}function Zb(at){return at=Yb(at),at!==null?$b(at):null}function $b(at){if(at.tag===5||at.tag===6)return at;for(at=at.child;at!==null;){var zs=$b(at);if(zs!==null)return zs;at=at.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(at){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,at,void 0,(at.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc=Math.LN2;function nc$1(at){return at>>>=0,at===0?32:31-(pc$1(at)/qc|0)|0}var rc$1=64,sc$1=4194304;function tc$1(at){switch(at&-at){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return at&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return at&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return at}}function uc$1(at,zs){var Ws=at.pendingLanes;if(Ws===0)return 0;var qs=0,Ys=at.suspendedLanes,Xs=at.pingedLanes,Zs=Ws&268435455;if(Zs!==0){var yl=Zs&~Ys;yl!==0?qs=tc$1(yl):(Xs&=Zs,Xs!==0&&(qs=tc$1(Xs)))}else Zs=Ws&~Ys,Zs!==0?qs=tc$1(Zs):Xs!==0&&(qs=tc$1(Xs));if(qs===0)return 0;if(zs!==0&&zs!==qs&&!(zs&Ys)&&(Ys=qs&-qs,Xs=zs&-zs,Ys>=Xs||Ys===16&&(Xs&4194240)!==0))return zs;if(qs&4&&(qs|=Ws&16),zs=at.entangledLanes,zs!==0)for(at=at.entanglements,zs&=qs;0<zs;)Ws=31-oc$1(zs),Ys=1<<Ws,qs|=at[Ws],zs&=~Ys;return qs}function vc$1(at,zs){switch(at){case 1:case 2:case 4:return zs+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return zs+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(at,zs){for(var Ws=at.suspendedLanes,qs=at.pingedLanes,Ys=at.expirationTimes,Xs=at.pendingLanes;0<Xs;){var Zs=31-oc$1(Xs),yl=1<<Zs,Js=Ys[Zs];Js===-1?(!(yl&Ws)||yl&qs)&&(Ys[Zs]=vc$1(yl,zs)):Js<=zs&&(at.expiredLanes|=yl),Xs&=~yl}}function xc$1(at){return at=at.pendingLanes&-1073741825,at!==0?at:at&1073741824?1073741824:0}function yc$1(){var at=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),at}function zc$1(at){for(var zs=[],Ws=0;31>Ws;Ws++)zs.push(at);return zs}function Ac$1(at,zs,Ws){at.pendingLanes|=zs,zs!==536870912&&(at.suspendedLanes=0,at.pingedLanes=0),at=at.eventTimes,zs=31-oc$1(zs),at[zs]=Ws}function Bc$1(at,zs){var Ws=at.pendingLanes&~zs;at.pendingLanes=zs,at.suspendedLanes=0,at.pingedLanes=0,at.expiredLanes&=zs,at.mutableReadLanes&=zs,at.entangledLanes&=zs,zs=at.entanglements;var qs=at.eventTimes;for(at=at.expirationTimes;0<Ws;){var Ys=31-oc$1(Ws),Xs=1<<Ys;zs[Ys]=0,qs[Ys]=-1,at[Ys]=-1,Ws&=~Xs}}function Cc$1(at,zs){var Ws=at.entangledLanes|=zs;for(at=at.entanglements;Ws;){var qs=31-oc$1(Ws),Ys=1<<qs;Ys&zs|at[qs]&zs&&(at[qs]|=zs),Ws&=~Ys}}var C$9=0;function Dc$1(at){return at&=-at,1<at?4<at?at&268435455?16:536870912:4:1}var Ec$1,Fc,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc=[],Lc$1=null,Mc=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(at,zs){switch(at){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(zs.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(zs.pointerId)}}function Tc$1(at,zs,Ws,qs,Ys,Xs){return at===null||at.nativeEvent!==Xs?(at={blockedOn:zs,domEventName:Ws,eventSystemFlags:qs,nativeEvent:Xs,targetContainers:[Ys]},zs!==null&&(zs=Cb(zs),zs!==null&&Fc(zs)),at):(at.eventSystemFlags|=qs,zs=at.targetContainers,Ys!==null&&zs.indexOf(Ys)===-1&&zs.push(Ys),at)}function Uc$1(at,zs,Ws,qs,Ys){switch(zs){case"focusin":return Lc$1=Tc$1(Lc$1,at,zs,Ws,qs,Ys),!0;case"dragenter":return Mc=Tc$1(Mc,at,zs,Ws,qs,Ys),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,at,zs,Ws,qs,Ys),!0;case"pointerover":var Xs=Ys.pointerId;return Oc$1.set(Xs,Tc$1(Oc$1.get(Xs)||null,at,zs,Ws,qs,Ys)),!0;case"gotpointercapture":return Xs=Ys.pointerId,Pc$1.set(Xs,Tc$1(Pc$1.get(Xs)||null,at,zs,Ws,qs,Ys)),!0}return!1}function Vc$1(at){var zs=Wc$1(at.target);if(zs!==null){var Ws=Vb(zs);if(Ws!==null){if(zs=Ws.tag,zs===13){if(zs=Wb(Ws),zs!==null){at.blockedOn=zs,Ic$1(at.priority,function(){Gc$1(Ws)});return}}else if(zs===3&&Ws.stateNode.current.memoizedState.isDehydrated){at.blockedOn=Ws.tag===3?Ws.stateNode.containerInfo:null;return}}}at.blockedOn=null}function Xc$1(at){if(at.blockedOn!==null)return!1;for(var zs=at.targetContainers;0<zs.length;){var Ws=Yc$1(at.domEventName,at.eventSystemFlags,zs[0],at.nativeEvent);if(Ws===null){Ws=at.nativeEvent;var qs=new Ws.constructor(Ws.type,Ws);wb=qs,Ws.target.dispatchEvent(qs),wb=null}else return zs=Cb(Ws),zs!==null&&Fc(zs),at.blockedOn=Ws,!1;zs.shift()}return!0}function Zc$1(at,zs,Ws){Xc$1(at)&&Ws.delete(zs)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc!==null&&Xc$1(Mc)&&(Mc=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad(at,zs){at.blockedOn===zs&&(at.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd(at){function zs(Ys){return ad(Ys,at)}if(0<Kc.length){ad(Kc[0],at);for(var Ws=1;Ws<Kc.length;Ws++){var qs=Kc[Ws];qs.blockedOn===at&&(qs.blockedOn=null)}}for(Lc$1!==null&&ad(Lc$1,at),Mc!==null&&ad(Mc,at),Nc$1!==null&&ad(Nc$1,at),Oc$1.forEach(zs),Pc$1.forEach(zs),Ws=0;Ws<Qc$1.length;Ws++)qs=Qc$1[Ws],qs.blockedOn===at&&(qs.blockedOn=null);for(;0<Qc$1.length&&(Ws=Qc$1[0],Ws.blockedOn===null);)Vc$1(Ws),Ws.blockedOn===null&&Qc$1.shift()}var cd=ua$2.ReactCurrentBatchConfig,dd=!0;function ed(at,zs,Ws,qs){var Ys=C$9,Xs=cd.transition;cd.transition=null;try{C$9=1,fd(at,zs,Ws,qs)}finally{C$9=Ys,cd.transition=Xs}}function gd(at,zs,Ws,qs){var Ys=C$9,Xs=cd.transition;cd.transition=null;try{C$9=4,fd(at,zs,Ws,qs)}finally{C$9=Ys,cd.transition=Xs}}function fd(at,zs,Ws,qs){if(dd){var Ys=Yc$1(at,zs,Ws,qs);if(Ys===null)hd(at,zs,qs,id,Ws),Sc$1(at,qs);else if(Uc$1(Ys,at,zs,Ws,qs))qs.stopPropagation();else if(Sc$1(at,qs),zs&4&&-1<Rc$1.indexOf(at)){for(;Ys!==null;){var Xs=Cb(Ys);if(Xs!==null&&Ec$1(Xs),Xs=Yc$1(at,zs,Ws,qs),Xs===null&&hd(at,zs,qs,id,Ws),Xs===Ys)break;Ys=Xs}Ys!==null&&qs.stopPropagation()}else hd(at,zs,qs,null,Ws)}}var id=null;function Yc$1(at,zs,Ws,qs){if(id=null,at=xb(qs),at=Wc$1(at),at!==null)if(zs=Vb(at),zs===null)at=null;else if(Ws=zs.tag,Ws===13){if(at=Wb(zs),at!==null)return at;at=null}else if(Ws===3){if(zs.stateNode.current.memoizedState.isDehydrated)return zs.tag===3?zs.stateNode.containerInfo:null;at=null}else zs!==at&&(at=null);return id=at,null}function jd(at){switch(at){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var at,zs=ld,Ws=zs.length,qs,Ys="value"in kd?kd.value:kd.textContent,Xs=Ys.length;for(at=0;at<Ws&&zs[at]===Ys[at];at++);var Zs=Ws-at;for(qs=1;qs<=Zs&&zs[Ws-qs]===Ys[Xs-qs];qs++);return md=Ys.slice(at,1<qs?1-qs:void 0)}function od(at){var zs=at.keyCode;return"charCode"in at?(at=at.charCode,at===0&&zs===13&&(at=13)):at=zs,at===10&&(at=13),32<=at||at===13?at:0}function pd(){return!0}function qd(){return!1}function rd(at){function zs(Ws,qs,Ys,Xs,Zs){this._reactName=Ws,this._targetInst=Ys,this.type=qs,this.nativeEvent=Xs,this.target=Zs,this.currentTarget=null;for(var yl in at)at.hasOwnProperty(yl)&&(Ws=at[yl],this[yl]=Ws?Ws(Xs):Xs[yl]);return this.isDefaultPrevented=(Xs.defaultPrevented!=null?Xs.defaultPrevented:Xs.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$6(zs.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ws=this.nativeEvent;Ws&&(Ws.preventDefault?Ws.preventDefault():typeof Ws.returnValue!="unknown"&&(Ws.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var Ws=this.nativeEvent;Ws&&(Ws.stopPropagation?Ws.stopPropagation():typeof Ws.cancelBubble!="unknown"&&(Ws.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),zs}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(at){return at.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$6({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$6({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(at){return at.relatedTarget===void 0?at.fromElement===at.srcElement?at.toElement:at.fromElement:at.relatedTarget},movementX:function(at){return"movementX"in at?at.movementX:(at!==yd&&(yd&&at.type==="mousemove"?(wd=at.screenX-yd.screenX,xd=at.screenY-yd.screenY):xd=wd=0,yd=at),wd)},movementY:function(at){return"movementY"in at?at.movementY:xd}}),Bd=rd(Ad),Cd=A$6({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$6({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$6({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$6({},sd,{clipboardData:function(at){return"clipboardData"in at?at.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$6({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(at){var zs=this.nativeEvent;return zs.getModifierState?zs.getModifierState(at):(at=Od[at])?!!zs[at]:!1}function zd(){return Pd}var Qd=A$6({},ud,{key:function(at){if(at.key){var zs=Md[at.key]||at.key;if(zs!=="Unidentified")return zs}return at.type==="keypress"?(at=od(at),at===13?"Enter":String.fromCharCode(at)):at.type==="keydown"||at.type==="keyup"?Nd[at.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(at){return at.type==="keypress"?od(at):0},keyCode:function(at){return at.type==="keydown"||at.type==="keyup"?at.keyCode:0},which:function(at){return at.type==="keypress"?od(at):at.type==="keydown"||at.type==="keyup"?at.keyCode:0}}),Rd=rd(Qd),Sd=A$6({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$6({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$6({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$6({},Ad,{deltaX:function(at){return"deltaX"in at?at.deltaX:"wheelDeltaX"in at?-at.wheelDeltaX:0},deltaY:function(at){return"deltaY"in at?at.deltaY:"wheelDeltaY"in at?-at.wheelDeltaY:"wheelDelta"in at?-at.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$3=ia$1&&"CompositionEvent"in window,be$5=null;ia$1&&"documentMode"in document&&(be$5=document.documentMode);var ce$3=ia$1&&"TextEvent"in window&&!be$5,de$5=ia$1&&(!ae$3||be$5&&8<be$5&&11>=be$5),ee$4=" ",fe$5=!1;function ge$6(at,zs){switch(at){case"keyup":return $d.indexOf(zs.keyCode)!==-1;case"keydown":return zs.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$4(at){return at=at.detail,typeof at=="object"&&"data"in at?at.data:null}var ie$3=!1;function je$3(at,zs){switch(at){case"compositionend":return he$4(zs);case"keypress":return zs.which!==32?null:(fe$5=!0,ee$4);case"textInput":return at=zs.data,at===ee$4&&fe$5?null:at;default:return null}}function ke$4(at,zs){if(ie$3)return at==="compositionend"||!ae$3&&ge$6(at,zs)?(at=nd(),md=ld=kd=null,ie$3=!1,at):null;switch(at){case"paste":return null;case"keypress":if(!(zs.ctrlKey||zs.altKey||zs.metaKey)||zs.ctrlKey&&zs.altKey){if(zs.char&&1<zs.char.length)return zs.char;if(zs.which)return String.fromCharCode(zs.which)}return null;case"compositionend":return de$5&&zs.locale!=="ko"?null:zs.data;default:return null}}var le$3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$6(at){var zs=at&&at.nodeName&&at.nodeName.toLowerCase();return zs==="input"?!!le$3[at.type]:zs==="textarea"}function ne$3(at,zs,Ws,qs){Eb(qs),zs=oe$4(zs,"onChange"),0<zs.length&&(Ws=new td("onChange","change",null,Ws,qs),at.push({event:Ws,listeners:zs}))}var pe$4=null,qe$4=null;function re$2(at){se$4(at,0)}function te$4(at){var zs=ue$4(at);if(Wa$1(zs))return at}function ve$4(at,zs){if(at==="change")return zs}var we$4=!1;if(ia$1){var xe$4;if(ia$1){var ye$6="oninput"in document;if(!ye$6){var ze$3=document.createElement("div");ze$3.setAttribute("oninput","return;"),ye$6=typeof ze$3.oninput=="function"}xe$4=ye$6}else xe$4=!1;we$4=xe$4&&(!document.documentMode||9<document.documentMode)}function Ae$6(){pe$4&&(pe$4.detachEvent("onpropertychange",Be$4),qe$4=pe$4=null)}function Be$4(at){if(at.propertyName==="value"&&te$4(qe$4)){var zs=[];ne$3(zs,qe$4,at,xb(at)),Jb(re$2,zs)}}function Ce$4(at,zs,Ws){at==="focusin"?(Ae$6(),pe$4=zs,qe$4=Ws,pe$4.attachEvent("onpropertychange",Be$4)):at==="focusout"&&Ae$6()}function De$6(at){if(at==="selectionchange"||at==="keyup"||at==="keydown")return te$4(qe$4)}function Ee$4(at,zs){if(at==="click")return te$4(zs)}function Fe$5(at,zs){if(at==="input"||at==="change")return te$4(zs)}function Ge$5(at,zs){return at===zs&&(at!==0||1/at===1/zs)||at!==at&&zs!==zs}var He$5=typeof Object.is=="function"?Object.is:Ge$5;function Ie$6(at,zs){if(He$5(at,zs))return!0;if(typeof at!="object"||at===null||typeof zs!="object"||zs===null)return!1;var Ws=Object.keys(at),qs=Object.keys(zs);if(Ws.length!==qs.length)return!1;for(qs=0;qs<Ws.length;qs++){var Ys=Ws[qs];if(!ja$1.call(zs,Ys)||!He$5(at[Ys],zs[Ys]))return!1}return!0}function Je$3(at){for(;at&&at.firstChild;)at=at.firstChild;return at}function Ke$5(at,zs){var Ws=Je$3(at);at=0;for(var qs;Ws;){if(Ws.nodeType===3){if(qs=at+Ws.textContent.length,at<=zs&&qs>=zs)return{node:Ws,offset:zs-at};at=qs}e:{for(;Ws;){if(Ws.nextSibling){Ws=Ws.nextSibling;break e}Ws=Ws.parentNode}Ws=void 0}Ws=Je$3(Ws)}}function Le$6(at,zs){return at&&zs?at===zs?!0:at&&at.nodeType===3?!1:zs&&zs.nodeType===3?Le$6(at,zs.parentNode):"contains"in at?at.contains(zs):at.compareDocumentPosition?!!(at.compareDocumentPosition(zs)&16):!1:!1}function Me$5(){for(var at=window,zs=Xa$1();zs instanceof at.HTMLIFrameElement;){try{var Ws=typeof zs.contentWindow.location.href=="string"}catch{Ws=!1}if(Ws)at=zs.contentWindow;else break;zs=Xa$1(at.document)}return zs}function Ne$3(at){var zs=at&&at.nodeName&&at.nodeName.toLowerCase();return zs&&(zs==="input"&&(at.type==="text"||at.type==="search"||at.type==="tel"||at.type==="url"||at.type==="password")||zs==="textarea"||at.contentEditable==="true")}function Oe$4(at){var zs=Me$5(),Ws=at.focusedElem,qs=at.selectionRange;if(zs!==Ws&&Ws&&Ws.ownerDocument&&Le$6(Ws.ownerDocument.documentElement,Ws)){if(qs!==null&&Ne$3(Ws)){if(zs=qs.start,at=qs.end,at===void 0&&(at=zs),"selectionStart"in Ws)Ws.selectionStart=zs,Ws.selectionEnd=Math.min(at,Ws.value.length);else if(at=(zs=Ws.ownerDocument||document)&&zs.defaultView||window,at.getSelection){at=at.getSelection();var Ys=Ws.textContent.length,Xs=Math.min(qs.start,Ys);qs=qs.end===void 0?Xs:Math.min(qs.end,Ys),!at.extend&&Xs>qs&&(Ys=qs,qs=Xs,Xs=Ys),Ys=Ke$5(Ws,Xs);var Zs=Ke$5(Ws,qs);Ys&&Zs&&(at.rangeCount!==1||at.anchorNode!==Ys.node||at.anchorOffset!==Ys.offset||at.focusNode!==Zs.node||at.focusOffset!==Zs.offset)&&(zs=zs.createRange(),zs.setStart(Ys.node,Ys.offset),at.removeAllRanges(),Xs>qs?(at.addRange(zs),at.extend(Zs.node,Zs.offset)):(zs.setEnd(Zs.node,Zs.offset),at.addRange(zs)))}}for(zs=[],at=Ws;at=at.parentNode;)at.nodeType===1&&zs.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof Ws.focus=="function"&&Ws.focus(),Ws=0;Ws<zs.length;Ws++)at=zs[Ws],at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}var Pe$5=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$5=null,Se$5=null,Te$7=!1;function Ue$5(at,zs,Ws){var qs=Ws.window===Ws?Ws.document:Ws.nodeType===9?Ws:Ws.ownerDocument;Te$7||Qe$2==null||Qe$2!==Xa$1(qs)||(qs=Qe$2,"selectionStart"in qs&&Ne$3(qs)?qs={start:qs.selectionStart,end:qs.selectionEnd}:(qs=(qs.ownerDocument&&qs.ownerDocument.defaultView||window).getSelection(),qs={anchorNode:qs.anchorNode,anchorOffset:qs.anchorOffset,focusNode:qs.focusNode,focusOffset:qs.focusOffset}),Se$5&&Ie$6(Se$5,qs)||(Se$5=qs,qs=oe$4(Re$5,"onSelect"),0<qs.length&&(zs=new td("onSelect","select",null,zs,Ws),at.push({event:zs,listeners:qs}),zs.target=Qe$2)))}function Ve$4(at,zs){var Ws={};return Ws[at.toLowerCase()]=zs.toLowerCase(),Ws["Webkit"+at]="webkit"+zs,Ws["Moz"+at]="moz"+zs,Ws}var We$3={animationend:Ve$4("Animation","AnimationEnd"),animationiteration:Ve$4("Animation","AnimationIteration"),animationstart:Ve$4("Animation","AnimationStart"),transitionend:Ve$4("Transition","TransitionEnd")},Xe$2={},Ye$3={};ia$1&&(Ye$3=document.createElement("div").style,"AnimationEvent"in window||(delete We$3.animationend.animation,delete We$3.animationiteration.animation,delete We$3.animationstart.animation),"TransitionEvent"in window||delete We$3.transitionend.transition);function Ze$3(at){if(Xe$2[at])return Xe$2[at];if(!We$3[at])return at;var zs=We$3[at],Ws;for(Ws in zs)if(zs.hasOwnProperty(Ws)&&Ws in Ye$3)return Xe$2[at]=zs[Ws];return at}var $e$5=Ze$3("animationend"),af$1=Ze$3("animationiteration"),bf$1=Ze$3("animationstart"),cf$1=Ze$3("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(at,zs){df$1.set(at,zs),fa$1(zs,[at])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$5,"onAnimationEnd"),ff$1(af$1,"onAnimationIteration"),ff$1(bf$1,"onAnimationStart"),ff$1("dblclick","onDoubleClick"),ff$1("focusin","onFocus"),ff$1("focusout","onBlur"),ff$1(cf$1,"onTransitionEnd"),ha$1("onMouseEnter",["mouseout","mouseover"]),ha$1("onMouseLeave",["mouseout","mouseover"]),ha$1("onPointerEnter",["pointerout","pointerover"]),ha$1("onPointerLeave",["pointerout","pointerover"]),fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(at,zs,Ws){var qs=at.type||"unknown-event";at.currentTarget=Ws,Ub(qs,zs,void 0,at),at.currentTarget=null}function se$4(at,zs){zs=(zs&4)!==0;for(var Ws=0;Ws<at.length;Ws++){var qs=at[Ws],Ys=qs.event;qs=qs.listeners;e:{var Xs=void 0;if(zs)for(var Zs=qs.length-1;0<=Zs;Zs--){var yl=qs[Zs],Js=yl.instance,$l=yl.currentTarget;if(yl=yl.listener,Js!==Xs&&Ys.isPropagationStopped())break e;nf$1(Ys,yl,$l),Xs=Js}else for(Zs=0;Zs<qs.length;Zs++){if(yl=qs[Zs],Js=yl.instance,$l=yl.currentTarget,yl=yl.listener,Js!==Xs&&Ys.isPropagationStopped())break e;nf$1(Ys,yl,$l),Xs=Js}}}if(Qb)throw at=Rb,Qb=!1,Rb=null,at}function D$6(at,zs){var Ws=zs[of$1];Ws===void 0&&(Ws=zs[of$1]=new Set);var qs=at+"__bubble";Ws.has(qs)||(pf$1(zs,at,2,!1),Ws.add(qs))}function qf$1(at,zs,Ws){var qs=0;zs&&(qs|=4),pf$1(Ws,at,qs,zs)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf$1(at){if(!at[rf$1]){at[rf$1]=!0,da$1.forEach(function(Ws){Ws!=="selectionchange"&&(mf$1.has(Ws)||qf$1(Ws,!1,at),qf$1(Ws,!0,at))});var zs=at.nodeType===9?at:at.ownerDocument;zs===null||zs[rf$1]||(zs[rf$1]=!0,qf$1("selectionchange",!1,zs))}}function pf$1(at,zs,Ws,qs){switch(jd(zs)){case 1:var Ys=ed;break;case 4:Ys=gd;break;default:Ys=fd}Ws=Ys.bind(null,zs,Ws,at),Ys=void 0,!Lb||zs!=="touchstart"&&zs!=="touchmove"&&zs!=="wheel"||(Ys=!0),qs?Ys!==void 0?at.addEventListener(zs,Ws,{capture:!0,passive:Ys}):at.addEventListener(zs,Ws,!0):Ys!==void 0?at.addEventListener(zs,Ws,{passive:Ys}):at.addEventListener(zs,Ws,!1)}function hd(at,zs,Ws,qs,Ys){var Xs=qs;if(!(zs&1)&&!(zs&2)&&qs!==null)e:for(;;){if(qs===null)return;var Zs=qs.tag;if(Zs===3||Zs===4){var yl=qs.stateNode.containerInfo;if(yl===Ys||yl.nodeType===8&&yl.parentNode===Ys)break;if(Zs===4)for(Zs=qs.return;Zs!==null;){var Js=Zs.tag;if((Js===3||Js===4)&&(Js=Zs.stateNode.containerInfo,Js===Ys||Js.nodeType===8&&Js.parentNode===Ys))return;Zs=Zs.return}for(;yl!==null;){if(Zs=Wc$1(yl),Zs===null)return;if(Js=Zs.tag,Js===5||Js===6){qs=Xs=Zs;continue e}yl=yl.parentNode}}qs=qs.return}Jb(function(){var $l=Xs,El=xb(Ws),wl=[];e:{var _l=df$1.get(at);if(_l!==void 0){var Sl=td,Tl=at;switch(at){case"keypress":if(od(Ws)===0)break e;case"keydown":case"keyup":Sl=Rd;break;case"focusin":Tl="focus",Sl=Fd;break;case"focusout":Tl="blur",Sl=Fd;break;case"beforeblur":case"afterblur":Sl=Fd;break;case"click":if(Ws.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Sl=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Sl=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Sl=Vd;break;case $e$5:case af$1:case bf$1:Sl=Hd;break;case cf$1:Sl=Xd;break;case"scroll":Sl=vd;break;case"wheel":Sl=Zd;break;case"copy":case"cut":case"paste":Sl=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Sl=Td}var Il=(zs&4)!==0,Al=!Il&&at==="scroll",xl=Il?_l!==null?_l+"Capture":null:_l;Il=[];for(var Pl=$l,Cl;Pl!==null;){Cl=Pl;var Rl=Cl.stateNode;if(Cl.tag===5&&Rl!==null&&(Cl=Rl,xl!==null&&(Rl=Kb(Pl,xl),Rl!=null&&Il.push(tf$1(Pl,Rl,Cl)))),Al)break;Pl=Pl.return}0<Il.length&&(_l=new Sl(_l,Tl,null,Ws,El),wl.push({event:_l,listeners:Il}))}}if(!(zs&7)){e:{if(_l=at==="mouseover"||at==="pointerover",Sl=at==="mouseout"||at==="pointerout",_l&&Ws!==wb&&(Tl=Ws.relatedTarget||Ws.fromElement)&&(Wc$1(Tl)||Tl[uf$1]))break e;if((Sl||_l)&&(_l=El.window===El?El:(_l=El.ownerDocument)?_l.defaultView||_l.parentWindow:window,Sl?(Tl=Ws.relatedTarget||Ws.toElement,Sl=$l,Tl=Tl?Wc$1(Tl):null,Tl!==null&&(Al=Vb(Tl),Tl!==Al||Tl.tag!==5&&Tl.tag!==6)&&(Tl=null)):(Sl=null,Tl=$l),Sl!==Tl)){if(Il=Bd,Rl="onMouseLeave",xl="onMouseEnter",Pl="mouse",(at==="pointerout"||at==="pointerover")&&(Il=Td,Rl="onPointerLeave",xl="onPointerEnter",Pl="pointer"),Al=Sl==null?_l:ue$4(Sl),Cl=Tl==null?_l:ue$4(Tl),_l=new Il(Rl,Pl+"leave",Sl,Ws,El),_l.target=Al,_l.relatedTarget=Cl,Rl=null,Wc$1(El)===$l&&(Il=new Il(xl,Pl+"enter",Tl,Ws,El),Il.target=Cl,Il.relatedTarget=Al,Rl=Il),Al=Rl,Sl&&Tl)t:{for(Il=Sl,xl=Tl,Pl=0,Cl=Il;Cl;Cl=vf$1(Cl))Pl++;for(Cl=0,Rl=xl;Rl;Rl=vf$1(Rl))Cl++;for(;0<Pl-Cl;)Il=vf$1(Il),Pl--;for(;0<Cl-Pl;)xl=vf$1(xl),Cl--;for(;Pl--;){if(Il===xl||xl!==null&&Il===xl.alternate)break t;Il=vf$1(Il),xl=vf$1(xl)}Il=null}else Il=null;Sl!==null&&wf$1(wl,_l,Sl,Il,!1),Tl!==null&&Al!==null&&wf$1(wl,Al,Tl,Il,!0)}}e:{if(_l=$l?ue$4($l):window,Sl=_l.nodeName&&_l.nodeName.toLowerCase(),Sl==="select"||Sl==="input"&&_l.type==="file")var Ol=ve$4;else if(me$6(_l))if(we$4)Ol=Fe$5;else{Ol=De$6;var Ml=Ce$4}else(Sl=_l.nodeName)&&Sl.toLowerCase()==="input"&&(_l.type==="checkbox"||_l.type==="radio")&&(Ol=Ee$4);if(Ol&&(Ol=Ol(at,$l))){ne$3(wl,Ol,Ws,El);break e}Ml&&Ml(at,_l,$l),at==="focusout"&&(Ml=_l._wrapperState)&&Ml.controlled&&_l.type==="number"&&cb(_l,"number",_l.value)}switch(Ml=$l?ue$4($l):window,at){case"focusin":(me$6(Ml)||Ml.contentEditable==="true")&&(Qe$2=Ml,Re$5=$l,Se$5=null);break;case"focusout":Se$5=Re$5=Qe$2=null;break;case"mousedown":Te$7=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$7=!1,Ue$5(wl,Ws,El);break;case"selectionchange":if(Pe$5)break;case"keydown":case"keyup":Ue$5(wl,Ws,El)}var Ll;if(ae$3)e:{switch(at){case"compositionstart":var Bl="onCompositionStart";break e;case"compositionend":Bl="onCompositionEnd";break e;case"compositionupdate":Bl="onCompositionUpdate";break e}Bl=void 0}else ie$3?ge$6(at,Ws)&&(Bl="onCompositionEnd"):at==="keydown"&&Ws.keyCode===229&&(Bl="onCompositionStart");Bl&&(de$5&&Ws.locale!=="ko"&&(ie$3||Bl!=="onCompositionStart"?Bl==="onCompositionEnd"&&ie$3&&(Ll=nd()):(kd=El,ld="value"in kd?kd.value:kd.textContent,ie$3=!0)),Ml=oe$4($l,Bl),0<Ml.length&&(Bl=new Ld(Bl,at,null,Ws,El),wl.push({event:Bl,listeners:Ml}),Ll?Bl.data=Ll:(Ll=he$4(Ws),Ll!==null&&(Bl.data=Ll)))),(Ll=ce$3?je$3(at,Ws):ke$4(at,Ws))&&($l=oe$4($l,"onBeforeInput"),0<$l.length&&(El=new Ld("onBeforeInput","beforeinput",null,Ws,El),wl.push({event:El,listeners:$l}),El.data=Ll))}se$4(wl,zs)})}function tf$1(at,zs,Ws){return{instance:at,listener:zs,currentTarget:Ws}}function oe$4(at,zs){for(var Ws=zs+"Capture",qs=[];at!==null;){var Ys=at,Xs=Ys.stateNode;Ys.tag===5&&Xs!==null&&(Ys=Xs,Xs=Kb(at,Ws),Xs!=null&&qs.unshift(tf$1(at,Xs,Ys)),Xs=Kb(at,zs),Xs!=null&&qs.push(tf$1(at,Xs,Ys))),at=at.return}return qs}function vf$1(at){if(at===null)return null;do at=at.return;while(at&&at.tag!==5);return at||null}function wf$1(at,zs,Ws,qs,Ys){for(var Xs=zs._reactName,Zs=[];Ws!==null&&Ws!==qs;){var yl=Ws,Js=yl.alternate,$l=yl.stateNode;if(Js!==null&&Js===qs)break;yl.tag===5&&$l!==null&&(yl=$l,Ys?(Js=Kb(Ws,Xs),Js!=null&&Zs.unshift(tf$1(Ws,Js,yl))):Ys||(Js=Kb(Ws,Xs),Js!=null&&Zs.push(tf$1(Ws,Js,yl)))),Ws=Ws.return}Zs.length!==0&&at.push({event:zs,listeners:Zs})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(at){return(typeof at=="string"?at:""+at).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(at,zs,Ws){if(zs=zf$1(zs),zf$1(at)!==zs&&Ws)throw Error(p$b(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(at,zs){return at==="textarea"||at==="noscript"||typeof zs.children=="string"||typeof zs.children=="number"||typeof zs.dangerouslySetInnerHTML=="object"&&zs.dangerouslySetInnerHTML!==null&&zs.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(at){return Hf$1.resolve(null).then(at).catch(If$1)}:Ff$1;function If$1(at){setTimeout(function(){throw at})}function Kf$1(at,zs){var Ws=zs,qs=0;do{var Ys=Ws.nextSibling;if(at.removeChild(Ws),Ys&&Ys.nodeType===8)if(Ws=Ys.data,Ws==="/$"){if(qs===0){at.removeChild(Ys),bd(zs);return}qs--}else Ws!=="$"&&Ws!=="$?"&&Ws!=="$!"||qs++;Ws=Ys}while(Ws);bd(zs)}function Lf$1(at){for(;at!=null;at=at.nextSibling){var zs=at.nodeType;if(zs===1||zs===3)break;if(zs===8){if(zs=at.data,zs==="$"||zs==="$!"||zs==="$?")break;if(zs==="/$")return null}}return at}function Mf$1(at){at=at.previousSibling;for(var zs=0;at;){if(at.nodeType===8){var Ws=at.data;if(Ws==="$"||Ws==="$!"||Ws==="$?"){if(zs===0)return at;zs--}else Ws==="/$"&&zs++}at=at.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$1="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$1(at){var zs=at[Of$1];if(zs)return zs;for(var Ws=at.parentNode;Ws;){if(zs=Ws[uf$1]||Ws[Of$1]){if(Ws=zs.alternate,zs.child!==null||Ws!==null&&Ws.child!==null)for(at=Mf$1(at);at!==null;){if(Ws=at[Of$1])return Ws;at=Mf$1(at)}return zs}at=Ws,Ws=at.parentNode}return null}function Cb(at){return at=at[Of$1]||at[uf$1],!at||at.tag!==5&&at.tag!==6&&at.tag!==13&&at.tag!==3?null:at}function ue$4(at){if(at.tag===5||at.tag===6)return at.stateNode;throw Error(p$b(33))}function Db(at){return at[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(at){return{current:at}}function E$7(at){0>Tf$1||(at.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G$6(at,zs){Tf$1++,Sf$1[Tf$1]=at.current,at.current=zs}var Vf$1={},H$6=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(at,zs){var Ws=at.type.contextTypes;if(!Ws)return Vf$1;var qs=at.stateNode;if(qs&&qs.__reactInternalMemoizedUnmaskedChildContext===zs)return qs.__reactInternalMemoizedMaskedChildContext;var Ys={},Xs;for(Xs in Ws)Ys[Xs]=zs[Xs];return qs&&(at=at.stateNode,at.__reactInternalMemoizedUnmaskedChildContext=zs,at.__reactInternalMemoizedMaskedChildContext=Ys),Ys}function Zf(at){return at=at.childContextTypes,at!=null}function $f$1(){E$7(Wf$1),E$7(H$6)}function ag(at,zs,Ws){if(H$6.current!==Vf$1)throw Error(p$b(168));G$6(H$6,zs),G$6(Wf$1,Ws)}function bg(at,zs,Ws){var qs=at.stateNode;if(zs=zs.childContextTypes,typeof qs.getChildContext!="function")return Ws;qs=qs.getChildContext();for(var Ys in qs)if(!(Ys in zs))throw Error(p$b(108,Ra$1(at)||"Unknown",Ys));return A$6({},Ws,qs)}function cg(at){return at=(at=at.stateNode)&&at.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H$6.current,G$6(H$6,at),G$6(Wf$1,Wf$1.current),!0}function dg(at,zs,Ws){var qs=at.stateNode;if(!qs)throw Error(p$b(169));Ws?(at=bg(at,zs,Xf$1),qs.__reactInternalMemoizedMergedChildContext=at,E$7(Wf$1),E$7(H$6),G$6(H$6,at)):E$7(Wf$1),G$6(Wf$1,Ws)}var eg=null,fg=!1,gg=!1;function hg(at){eg===null?eg=[at]:eg.push(at)}function ig(at){fg=!0,hg(at)}function jg(){if(!gg&&eg!==null){gg=!0;var at=0,zs=C$9;try{var Ws=eg;for(C$9=1;at<Ws.length;at++){var qs=Ws[at];do qs=qs(!0);while(qs!==null)}eg=null,fg=!1}catch(Ys){throw eg!==null&&(eg=eg.slice(at+1)),ac$1(fc$1,jg),Ys}finally{C$9=zs,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(at,zs){kg[lg++]=ng,kg[lg++]=mg,mg=at,ng=zs}function ug(at,zs,Ws){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=at;var qs=rg;at=sg;var Ys=32-oc$1(qs)-1;qs&=~(1<<Ys),Ws+=1;var Xs=32-oc$1(zs)+Ys;if(30<Xs){var Zs=Ys-Ys%5;Xs=(qs&(1<<Zs)-1).toString(32),qs>>=Zs,Ys-=Zs,rg=1<<32-oc$1(zs)+Ys|Ws<<Ys|qs,sg=Xs+at}else rg=1<<Xs|Ws<<Ys|qs,sg=at}function vg(at){at.return!==null&&(tg(at,1),ug(at,1,0))}function wg(at){for(;at===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;at===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$6=!1,zg=null;function Ag(at,zs){var Ws=Bg(5,null,null,0);Ws.elementType="DELETED",Ws.stateNode=zs,Ws.return=at,zs=at.deletions,zs===null?(at.deletions=[Ws],at.flags|=16):zs.push(Ws)}function Cg(at,zs){switch(at.tag){case 5:var Ws=at.type;return zs=zs.nodeType!==1||Ws.toLowerCase()!==zs.nodeName.toLowerCase()?null:zs,zs!==null?(at.stateNode=zs,xg=at,yg=Lf$1(zs.firstChild),!0):!1;case 6:return zs=at.pendingProps===""||zs.nodeType!==3?null:zs,zs!==null?(at.stateNode=zs,xg=at,yg=null,!0):!1;case 13:return zs=zs.nodeType!==8?null:zs,zs!==null?(Ws=qg!==null?{id:rg,overflow:sg}:null,at.memoizedState={dehydrated:zs,treeContext:Ws,retryLane:1073741824},Ws=Bg(18,null,null,0),Ws.stateNode=zs,Ws.return=at,at.child=Ws,xg=at,yg=null,!0):!1;default:return!1}}function Dg(at){return(at.mode&1)!==0&&(at.flags&128)===0}function Eg(at){if(I$6){var zs=yg;if(zs){var Ws=zs;if(!Cg(at,zs)){if(Dg(at))throw Error(p$b(418));zs=Lf$1(Ws.nextSibling);var qs=xg;zs&&Cg(at,zs)?Ag(qs,Ws):(at.flags=at.flags&-4097|2,I$6=!1,xg=at)}}else{if(Dg(at))throw Error(p$b(418));at.flags=at.flags&-4097|2,I$6=!1,xg=at}}}function Fg(at){for(at=at.return;at!==null&&at.tag!==5&&at.tag!==3&&at.tag!==13;)at=at.return;xg=at}function Gg(at){if(at!==xg)return!1;if(!I$6)return Fg(at),I$6=!0,!1;var zs;if((zs=at.tag!==3)&&!(zs=at.tag!==5)&&(zs=at.type,zs=zs!=="head"&&zs!=="body"&&!Ef$1(at.type,at.memoizedProps)),zs&&(zs=yg)){if(Dg(at))throw Hg(),Error(p$b(418));for(;zs;)Ag(at,zs),zs=Lf$1(zs.nextSibling)}if(Fg(at),at.tag===13){if(at=at.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(p$b(317));e:{for(at=at.nextSibling,zs=0;at;){if(at.nodeType===8){var Ws=at.data;if(Ws==="/$"){if(zs===0){yg=Lf$1(at.nextSibling);break e}zs--}else Ws!=="$"&&Ws!=="$!"&&Ws!=="$?"||zs++}at=at.nextSibling}yg=null}}else yg=xg?Lf$1(at.stateNode.nextSibling):null;return!0}function Hg(){for(var at=yg;at;)at=Lf$1(at.nextSibling)}function Ig(){yg=xg=null,I$6=!1}function Jg(at){zg===null?zg=[at]:zg.push(at)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(at,zs,Ws){if(at=Ws.ref,at!==null&&typeof at!="function"&&typeof at!="object"){if(Ws._owner){if(Ws=Ws._owner,Ws){if(Ws.tag!==1)throw Error(p$b(309));var qs=Ws.stateNode}if(!qs)throw Error(p$b(147,at));var Ys=qs,Xs=""+at;return zs!==null&&zs.ref!==null&&typeof zs.ref=="function"&&zs.ref._stringRef===Xs?zs.ref:(zs=function(Zs){var yl=Ys.refs;Zs===null?delete yl[Xs]:yl[Xs]=Zs},zs._stringRef=Xs,zs)}if(typeof at!="string")throw Error(p$b(284));if(!Ws._owner)throw Error(p$b(290,at))}return at}function Mg(at,zs){throw at=Object.prototype.toString.call(zs),Error(p$b(31,at==="[object Object]"?"object with keys {"+Object.keys(zs).join(", ")+"}":at))}function Ng(at){var zs=at._init;return zs(at._payload)}function Og(at){function zs(xl,Pl){if(at){var Cl=xl.deletions;Cl===null?(xl.deletions=[Pl],xl.flags|=16):Cl.push(Pl)}}function Ws(xl,Pl){if(!at)return null;for(;Pl!==null;)zs(xl,Pl),Pl=Pl.sibling;return null}function qs(xl,Pl){for(xl=new Map;Pl!==null;)Pl.key!==null?xl.set(Pl.key,Pl):xl.set(Pl.index,Pl),Pl=Pl.sibling;return xl}function Ys(xl,Pl){return xl=Pg(xl,Pl),xl.index=0,xl.sibling=null,xl}function Xs(xl,Pl,Cl){return xl.index=Cl,at?(Cl=xl.alternate,Cl!==null?(Cl=Cl.index,Cl<Pl?(xl.flags|=2,Pl):Cl):(xl.flags|=2,Pl)):(xl.flags|=1048576,Pl)}function Zs(xl){return at&&xl.alternate===null&&(xl.flags|=2),xl}function yl(xl,Pl,Cl,Rl){return Pl===null||Pl.tag!==6?(Pl=Qg(Cl,xl.mode,Rl),Pl.return=xl,Pl):(Pl=Ys(Pl,Cl),Pl.return=xl,Pl)}function Js(xl,Pl,Cl,Rl){var Ol=Cl.type;return Ol===ya$1?El(xl,Pl,Cl.props.children,Rl,Cl.key):Pl!==null&&(Pl.elementType===Ol||typeof Ol=="object"&&Ol!==null&&Ol.$$typeof===Ha$1&&Ng(Ol)===Pl.type)?(Rl=Ys(Pl,Cl.props),Rl.ref=Lg(xl,Pl,Cl),Rl.return=xl,Rl):(Rl=Rg(Cl.type,Cl.key,Cl.props,null,xl.mode,Rl),Rl.ref=Lg(xl,Pl,Cl),Rl.return=xl,Rl)}function $l(xl,Pl,Cl,Rl){return Pl===null||Pl.tag!==4||Pl.stateNode.containerInfo!==Cl.containerInfo||Pl.stateNode.implementation!==Cl.implementation?(Pl=Sg(Cl,xl.mode,Rl),Pl.return=xl,Pl):(Pl=Ys(Pl,Cl.children||[]),Pl.return=xl,Pl)}function El(xl,Pl,Cl,Rl,Ol){return Pl===null||Pl.tag!==7?(Pl=Tg(Cl,xl.mode,Rl,Ol),Pl.return=xl,Pl):(Pl=Ys(Pl,Cl),Pl.return=xl,Pl)}function wl(xl,Pl,Cl){if(typeof Pl=="string"&&Pl!==""||typeof Pl=="number")return Pl=Qg(""+Pl,xl.mode,Cl),Pl.return=xl,Pl;if(typeof Pl=="object"&&Pl!==null){switch(Pl.$$typeof){case va$1:return Cl=Rg(Pl.type,Pl.key,Pl.props,null,xl.mode,Cl),Cl.ref=Lg(xl,null,Pl),Cl.return=xl,Cl;case wa$2:return Pl=Sg(Pl,xl.mode,Cl),Pl.return=xl,Pl;case Ha$1:var Rl=Pl._init;return wl(xl,Rl(Pl._payload),Cl)}if(eb(Pl)||Ka$1(Pl))return Pl=Tg(Pl,xl.mode,Cl,null),Pl.return=xl,Pl;Mg(xl,Pl)}return null}function _l(xl,Pl,Cl,Rl){var Ol=Pl!==null?Pl.key:null;if(typeof Cl=="string"&&Cl!==""||typeof Cl=="number")return Ol!==null?null:yl(xl,Pl,""+Cl,Rl);if(typeof Cl=="object"&&Cl!==null){switch(Cl.$$typeof){case va$1:return Cl.key===Ol?Js(xl,Pl,Cl,Rl):null;case wa$2:return Cl.key===Ol?$l(xl,Pl,Cl,Rl):null;case Ha$1:return Ol=Cl._init,_l(xl,Pl,Ol(Cl._payload),Rl)}if(eb(Cl)||Ka$1(Cl))return Ol!==null?null:El(xl,Pl,Cl,Rl,null);Mg(xl,Cl)}return null}function Sl(xl,Pl,Cl,Rl,Ol){if(typeof Rl=="string"&&Rl!==""||typeof Rl=="number")return xl=xl.get(Cl)||null,yl(Pl,xl,""+Rl,Ol);if(typeof Rl=="object"&&Rl!==null){switch(Rl.$$typeof){case va$1:return xl=xl.get(Rl.key===null?Cl:Rl.key)||null,Js(Pl,xl,Rl,Ol);case wa$2:return xl=xl.get(Rl.key===null?Cl:Rl.key)||null,$l(Pl,xl,Rl,Ol);case Ha$1:var Ml=Rl._init;return Sl(xl,Pl,Cl,Ml(Rl._payload),Ol)}if(eb(Rl)||Ka$1(Rl))return xl=xl.get(Cl)||null,El(Pl,xl,Rl,Ol,null);Mg(Pl,Rl)}return null}function Tl(xl,Pl,Cl,Rl){for(var Ol=null,Ml=null,Ll=Pl,Bl=Pl=0,Wl=null;Ll!==null&&Bl<Cl.length;Bl++){Ll.index>Bl?(Wl=Ll,Ll=null):Wl=Ll.sibling;var Yl=_l(xl,Ll,Cl[Bl],Rl);if(Yl===null){Ll===null&&(Ll=Wl);break}at&&Ll&&Yl.alternate===null&&zs(xl,Ll),Pl=Xs(Yl,Pl,Bl),Ml===null?Ol=Yl:Ml.sibling=Yl,Ml=Yl,Ll=Wl}if(Bl===Cl.length)return Ws(xl,Ll),I$6&&tg(xl,Bl),Ol;if(Ll===null){for(;Bl<Cl.length;Bl++)Ll=wl(xl,Cl[Bl],Rl),Ll!==null&&(Pl=Xs(Ll,Pl,Bl),Ml===null?Ol=Ll:Ml.sibling=Ll,Ml=Ll);return I$6&&tg(xl,Bl),Ol}for(Ll=qs(xl,Ll);Bl<Cl.length;Bl++)Wl=Sl(Ll,xl,Bl,Cl[Bl],Rl),Wl!==null&&(at&&Wl.alternate!==null&&Ll.delete(Wl.key===null?Bl:Wl.key),Pl=Xs(Wl,Pl,Bl),Ml===null?Ol=Wl:Ml.sibling=Wl,Ml=Wl);return at&&Ll.forEach(function(Kl){return zs(xl,Kl)}),I$6&&tg(xl,Bl),Ol}function Il(xl,Pl,Cl,Rl){var Ol=Ka$1(Cl);if(typeof Ol!="function")throw Error(p$b(150));if(Cl=Ol.call(Cl),Cl==null)throw Error(p$b(151));for(var Ml=Ol=null,Ll=Pl,Bl=Pl=0,Wl=null,Yl=Cl.next();Ll!==null&&!Yl.done;Bl++,Yl=Cl.next()){Ll.index>Bl?(Wl=Ll,Ll=null):Wl=Ll.sibling;var Kl=_l(xl,Ll,Yl.value,Rl);if(Kl===null){Ll===null&&(Ll=Wl);break}at&&Ll&&Kl.alternate===null&&zs(xl,Ll),Pl=Xs(Kl,Pl,Bl),Ml===null?Ol=Kl:Ml.sibling=Kl,Ml=Kl,Ll=Wl}if(Yl.done)return Ws(xl,Ll),I$6&&tg(xl,Bl),Ol;if(Ll===null){for(;!Yl.done;Bl++,Yl=Cl.next())Yl=wl(xl,Yl.value,Rl),Yl!==null&&(Pl=Xs(Yl,Pl,Bl),Ml===null?Ol=Yl:Ml.sibling=Yl,Ml=Yl);return I$6&&tg(xl,Bl),Ol}for(Ll=qs(xl,Ll);!Yl.done;Bl++,Yl=Cl.next())Yl=Sl(Ll,xl,Bl,Yl.value,Rl),Yl!==null&&(at&&Yl.alternate!==null&&Ll.delete(Yl.key===null?Bl:Yl.key),Pl=Xs(Yl,Pl,Bl),Ml===null?Ol=Yl:Ml.sibling=Yl,Ml=Yl);return at&&Ll.forEach(function(Xl){return zs(xl,Xl)}),I$6&&tg(xl,Bl),Ol}function Al(xl,Pl,Cl,Rl){if(typeof Cl=="object"&&Cl!==null&&Cl.type===ya$1&&Cl.key===null&&(Cl=Cl.props.children),typeof Cl=="object"&&Cl!==null){switch(Cl.$$typeof){case va$1:e:{for(var Ol=Cl.key,Ml=Pl;Ml!==null;){if(Ml.key===Ol){if(Ol=Cl.type,Ol===ya$1){if(Ml.tag===7){Ws(xl,Ml.sibling),Pl=Ys(Ml,Cl.props.children),Pl.return=xl,xl=Pl;break e}}else if(Ml.elementType===Ol||typeof Ol=="object"&&Ol!==null&&Ol.$$typeof===Ha$1&&Ng(Ol)===Ml.type){Ws(xl,Ml.sibling),Pl=Ys(Ml,Cl.props),Pl.ref=Lg(xl,Ml,Cl),Pl.return=xl,xl=Pl;break e}Ws(xl,Ml);break}else zs(xl,Ml);Ml=Ml.sibling}Cl.type===ya$1?(Pl=Tg(Cl.props.children,xl.mode,Rl,Cl.key),Pl.return=xl,xl=Pl):(Rl=Rg(Cl.type,Cl.key,Cl.props,null,xl.mode,Rl),Rl.ref=Lg(xl,Pl,Cl),Rl.return=xl,xl=Rl)}return Zs(xl);case wa$2:e:{for(Ml=Cl.key;Pl!==null;){if(Pl.key===Ml)if(Pl.tag===4&&Pl.stateNode.containerInfo===Cl.containerInfo&&Pl.stateNode.implementation===Cl.implementation){Ws(xl,Pl.sibling),Pl=Ys(Pl,Cl.children||[]),Pl.return=xl,xl=Pl;break e}else{Ws(xl,Pl);break}else zs(xl,Pl);Pl=Pl.sibling}Pl=Sg(Cl,xl.mode,Rl),Pl.return=xl,xl=Pl}return Zs(xl);case Ha$1:return Ml=Cl._init,Al(xl,Pl,Ml(Cl._payload),Rl)}if(eb(Cl))return Tl(xl,Pl,Cl,Rl);if(Ka$1(Cl))return Il(xl,Pl,Cl,Rl);Mg(xl,Cl)}return typeof Cl=="string"&&Cl!==""||typeof Cl=="number"?(Cl=""+Cl,Pl!==null&&Pl.tag===6?(Ws(xl,Pl.sibling),Pl=Ys(Pl,Cl),Pl.return=xl,xl=Pl):(Ws(xl,Pl),Pl=Qg(Cl,xl.mode,Rl),Pl.return=xl,xl=Pl),Zs(xl)):Ws(xl,Pl)}return Al}var Ug=Og(!0),Vg=Og(!1),Wg=Uf$1(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(at){var zs=Wg.current;E$7(Wg),at._currentValue=zs}function bh(at,zs,Ws){for(;at!==null;){var qs=at.alternate;if((at.childLanes&zs)!==zs?(at.childLanes|=zs,qs!==null&&(qs.childLanes|=zs)):qs!==null&&(qs.childLanes&zs)!==zs&&(qs.childLanes|=zs),at===Ws)break;at=at.return}}function ch$1(at,zs){Xg=at,Zg=Yg=null,at=at.dependencies,at!==null&&at.firstContext!==null&&(at.lanes&zs&&(dh=!0),at.firstContext=null)}function eh(at){var zs=at._currentValue;if(Zg!==at)if(at={context:at,memoizedValue:zs,next:null},Yg===null){if(Xg===null)throw Error(p$b(308));Yg=at,Xg.dependencies={lanes:0,firstContext:at}}else Yg=Yg.next=at;return zs}var fh=null;function gh(at){fh===null?fh=[at]:fh.push(at)}function hh(at,zs,Ws,qs){var Ys=zs.interleaved;return Ys===null?(Ws.next=Ws,gh(zs)):(Ws.next=Ys.next,Ys.next=Ws),zs.interleaved=Ws,ih(at,qs)}function ih(at,zs){at.lanes|=zs;var Ws=at.alternate;for(Ws!==null&&(Ws.lanes|=zs),Ws=at,at=at.return;at!==null;)at.childLanes|=zs,Ws=at.alternate,Ws!==null&&(Ws.childLanes|=zs),Ws=at,at=at.return;return Ws.tag===3?Ws.stateNode:null}var jh=!1;function kh(at){at.updateQueue={baseState:at.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(at,zs){at=at.updateQueue,zs.updateQueue===at&&(zs.updateQueue={baseState:at.baseState,firstBaseUpdate:at.firstBaseUpdate,lastBaseUpdate:at.lastBaseUpdate,shared:at.shared,effects:at.effects})}function mh(at,zs){return{eventTime:at,lane:zs,tag:0,payload:null,callback:null,next:null}}function nh(at,zs,Ws){var qs=at.updateQueue;if(qs===null)return null;if(qs=qs.shared,K$8&2){var Ys=qs.pending;return Ys===null?zs.next=zs:(zs.next=Ys.next,Ys.next=zs),qs.pending=zs,ih(at,Ws)}return Ys=qs.interleaved,Ys===null?(zs.next=zs,gh(qs)):(zs.next=Ys.next,Ys.next=zs),qs.interleaved=zs,ih(at,Ws)}function oh(at,zs,Ws){if(zs=zs.updateQueue,zs!==null&&(zs=zs.shared,(Ws&4194240)!==0)){var qs=zs.lanes;qs&=at.pendingLanes,Ws|=qs,zs.lanes=Ws,Cc$1(at,Ws)}}function ph(at,zs){var Ws=at.updateQueue,qs=at.alternate;if(qs!==null&&(qs=qs.updateQueue,Ws===qs)){var Ys=null,Xs=null;if(Ws=Ws.firstBaseUpdate,Ws!==null){do{var Zs={eventTime:Ws.eventTime,lane:Ws.lane,tag:Ws.tag,payload:Ws.payload,callback:Ws.callback,next:null};Xs===null?Ys=Xs=Zs:Xs=Xs.next=Zs,Ws=Ws.next}while(Ws!==null);Xs===null?Ys=Xs=zs:Xs=Xs.next=zs}else Ys=Xs=zs;Ws={baseState:qs.baseState,firstBaseUpdate:Ys,lastBaseUpdate:Xs,shared:qs.shared,effects:qs.effects},at.updateQueue=Ws;return}at=Ws.lastBaseUpdate,at===null?Ws.firstBaseUpdate=zs:at.next=zs,Ws.lastBaseUpdate=zs}function qh(at,zs,Ws,qs){var Ys=at.updateQueue;jh=!1;var Xs=Ys.firstBaseUpdate,Zs=Ys.lastBaseUpdate,yl=Ys.shared.pending;if(yl!==null){Ys.shared.pending=null;var Js=yl,$l=Js.next;Js.next=null,Zs===null?Xs=$l:Zs.next=$l,Zs=Js;var El=at.alternate;El!==null&&(El=El.updateQueue,yl=El.lastBaseUpdate,yl!==Zs&&(yl===null?El.firstBaseUpdate=$l:yl.next=$l,El.lastBaseUpdate=Js))}if(Xs!==null){var wl=Ys.baseState;Zs=0,El=$l=Js=null,yl=Xs;do{var _l=yl.lane,Sl=yl.eventTime;if((qs&_l)===_l){El!==null&&(El=El.next={eventTime:Sl,lane:0,tag:yl.tag,payload:yl.payload,callback:yl.callback,next:null});e:{var Tl=at,Il=yl;switch(_l=zs,Sl=Ws,Il.tag){case 1:if(Tl=Il.payload,typeof Tl=="function"){wl=Tl.call(Sl,wl,_l);break e}wl=Tl;break e;case 3:Tl.flags=Tl.flags&-65537|128;case 0:if(Tl=Il.payload,_l=typeof Tl=="function"?Tl.call(Sl,wl,_l):Tl,_l==null)break e;wl=A$6({},wl,_l);break e;case 2:jh=!0}}yl.callback!==null&&yl.lane!==0&&(at.flags|=64,_l=Ys.effects,_l===null?Ys.effects=[yl]:_l.push(yl))}else Sl={eventTime:Sl,lane:_l,tag:yl.tag,payload:yl.payload,callback:yl.callback,next:null},El===null?($l=El=Sl,Js=wl):El=El.next=Sl,Zs|=_l;if(yl=yl.next,yl===null){if(yl=Ys.shared.pending,yl===null)break;_l=yl,yl=_l.next,_l.next=null,Ys.lastBaseUpdate=_l,Ys.shared.pending=null}}while(!0);if(El===null&&(Js=wl),Ys.baseState=Js,Ys.firstBaseUpdate=$l,Ys.lastBaseUpdate=El,zs=Ys.shared.interleaved,zs!==null){Ys=zs;do Zs|=Ys.lane,Ys=Ys.next;while(Ys!==zs)}else Xs===null&&(Ys.shared.lanes=0);rh|=Zs,at.lanes=Zs,at.memoizedState=wl}}function sh(at,zs,Ws){if(at=zs.effects,zs.effects=null,at!==null)for(zs=0;zs<at.length;zs++){var qs=at[zs],Ys=qs.callback;if(Ys!==null){if(qs.callback=null,qs=Ws,typeof Ys!="function")throw Error(p$b(191,Ys));Ys.call(qs)}}}var th={},uh=Uf$1(th),vh=Uf$1(th),wh=Uf$1(th);function xh(at){if(at===th)throw Error(p$b(174));return at}function yh(at,zs){switch(G$6(wh,zs),G$6(vh,at),G$6(uh,th),at=zs.nodeType,at){case 9:case 11:zs=(zs=zs.documentElement)?zs.namespaceURI:lb(null,"");break;default:at=at===8?zs.parentNode:zs,zs=at.namespaceURI||null,at=at.tagName,zs=lb(zs,at)}E$7(uh),G$6(uh,zs)}function zh(){E$7(uh),E$7(vh),E$7(wh)}function Ah(at){xh(wh.current);var zs=xh(uh.current),Ws=lb(zs,at.type);zs!==Ws&&(G$6(vh,at),G$6(uh,Ws))}function Bh(at){vh.current===at&&(E$7(uh),E$7(vh))}var L$5=Uf$1(0);function Ch(at){for(var zs=at;zs!==null;){if(zs.tag===13){var Ws=zs.memoizedState;if(Ws!==null&&(Ws=Ws.dehydrated,Ws===null||Ws.data==="$?"||Ws.data==="$!"))return zs}else if(zs.tag===19&&zs.memoizedProps.revealOrder!==void 0){if(zs.flags&128)return zs}else if(zs.child!==null){zs.child.return=zs,zs=zs.child;continue}if(zs===at)break;for(;zs.sibling===null;){if(zs.return===null||zs.return===at)return null;zs=zs.return}zs.sibling.return=zs.return,zs=zs.sibling}return null}var Dh=[];function Eh(){for(var at=0;at<Dh.length;at++)Dh[at]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$2.ReactCurrentDispatcher,Gh=ua$2.ReactCurrentBatchConfig,Hh=0,M$8=null,N$7=null,O$6=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$a(){throw Error(p$b(321))}function Mh(at,zs){if(zs===null)return!1;for(var Ws=0;Ws<zs.length&&Ws<at.length;Ws++)if(!He$5(at[Ws],zs[Ws]))return!1;return!0}function Nh(at,zs,Ws,qs,Ys,Xs){if(Hh=Xs,M$8=zs,zs.memoizedState=null,zs.updateQueue=null,zs.lanes=0,Fh.current=at===null||at.memoizedState===null?Oh:Ph,at=Ws(qs,Ys),Jh){Xs=0;do{if(Jh=!1,Kh=0,25<=Xs)throw Error(p$b(301));Xs+=1,O$6=N$7=null,zs.updateQueue=null,Fh.current=Qh,at=Ws(qs,Ys)}while(Jh)}if(Fh.current=Rh,zs=N$7!==null&&N$7.next!==null,Hh=0,O$6=N$7=M$8=null,Ih=!1,zs)throw Error(p$b(300));return at}function Sh(){var at=Kh!==0;return Kh=0,at}function Th(){var at={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$6===null?M$8.memoizedState=O$6=at:O$6=O$6.next=at,O$6}function Uh(){if(N$7===null){var at=M$8.alternate;at=at!==null?at.memoizedState:null}else at=N$7.next;var zs=O$6===null?M$8.memoizedState:O$6.next;if(zs!==null)O$6=zs,N$7=at;else{if(at===null)throw Error(p$b(310));N$7=at,at={memoizedState:N$7.memoizedState,baseState:N$7.baseState,baseQueue:N$7.baseQueue,queue:N$7.queue,next:null},O$6===null?M$8.memoizedState=O$6=at:O$6=O$6.next=at}return O$6}function Vh(at,zs){return typeof zs=="function"?zs(at):zs}function Wh(at){var zs=Uh(),Ws=zs.queue;if(Ws===null)throw Error(p$b(311));Ws.lastRenderedReducer=at;var qs=N$7,Ys=qs.baseQueue,Xs=Ws.pending;if(Xs!==null){if(Ys!==null){var Zs=Ys.next;Ys.next=Xs.next,Xs.next=Zs}qs.baseQueue=Ys=Xs,Ws.pending=null}if(Ys!==null){Xs=Ys.next,qs=qs.baseState;var yl=Zs=null,Js=null,$l=Xs;do{var El=$l.lane;if((Hh&El)===El)Js!==null&&(Js=Js.next={lane:0,action:$l.action,hasEagerState:$l.hasEagerState,eagerState:$l.eagerState,next:null}),qs=$l.hasEagerState?$l.eagerState:at(qs,$l.action);else{var wl={lane:El,action:$l.action,hasEagerState:$l.hasEagerState,eagerState:$l.eagerState,next:null};Js===null?(yl=Js=wl,Zs=qs):Js=Js.next=wl,M$8.lanes|=El,rh|=El}$l=$l.next}while($l!==null&&$l!==Xs);Js===null?Zs=qs:Js.next=yl,He$5(qs,zs.memoizedState)||(dh=!0),zs.memoizedState=qs,zs.baseState=Zs,zs.baseQueue=Js,Ws.lastRenderedState=qs}if(at=Ws.interleaved,at!==null){Ys=at;do Xs=Ys.lane,M$8.lanes|=Xs,rh|=Xs,Ys=Ys.next;while(Ys!==at)}else Ys===null&&(Ws.lanes=0);return[zs.memoizedState,Ws.dispatch]}function Xh(at){var zs=Uh(),Ws=zs.queue;if(Ws===null)throw Error(p$b(311));Ws.lastRenderedReducer=at;var qs=Ws.dispatch,Ys=Ws.pending,Xs=zs.memoizedState;if(Ys!==null){Ws.pending=null;var Zs=Ys=Ys.next;do Xs=at(Xs,Zs.action),Zs=Zs.next;while(Zs!==Ys);He$5(Xs,zs.memoizedState)||(dh=!0),zs.memoizedState=Xs,zs.baseQueue===null&&(zs.baseState=Xs),Ws.lastRenderedState=Xs}return[Xs,qs]}function Yh(){}function Zh(at,zs){var Ws=M$8,qs=Uh(),Ys=zs(),Xs=!He$5(qs.memoizedState,Ys);if(Xs&&(qs.memoizedState=Ys,dh=!0),qs=qs.queue,$h(ai$1.bind(null,Ws,qs,at),[at]),qs.getSnapshot!==zs||Xs||O$6!==null&&O$6.memoizedState.tag&1){if(Ws.flags|=2048,bi$2(9,ci$2.bind(null,Ws,qs,Ys,zs),void 0,null),Q$5===null)throw Error(p$b(349));Hh&30||di$2(Ws,zs,Ys)}return Ys}function di$2(at,zs,Ws){at.flags|=16384,at={getSnapshot:zs,value:Ws},zs=M$8.updateQueue,zs===null?(zs={lastEffect:null,stores:null},M$8.updateQueue=zs,zs.stores=[at]):(Ws=zs.stores,Ws===null?zs.stores=[at]:Ws.push(at))}function ci$2(at,zs,Ws,qs){zs.value=Ws,zs.getSnapshot=qs,ei$1(zs)&&fi$2(at)}function ai$1(at,zs,Ws){return Ws(function(){ei$1(zs)&&fi$2(at)})}function ei$1(at){var zs=at.getSnapshot;at=at.value;try{var Ws=zs();return!He$5(at,Ws)}catch{return!0}}function fi$2(at){var zs=ih(at,1);zs!==null&&gi$1(zs,at,1,-1)}function hi$2(at){var zs=Th();return typeof at=="function"&&(at=at()),zs.memoizedState=zs.baseState=at,at={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:at},zs.queue=at,at=at.dispatch=ii$2.bind(null,M$8,at),[zs.memoizedState,at]}function bi$2(at,zs,Ws,qs){return at={tag:at,create:zs,destroy:Ws,deps:qs,next:null},zs=M$8.updateQueue,zs===null?(zs={lastEffect:null,stores:null},M$8.updateQueue=zs,zs.lastEffect=at.next=at):(Ws=zs.lastEffect,Ws===null?zs.lastEffect=at.next=at:(qs=Ws.next,Ws.next=at,at.next=qs,zs.lastEffect=at)),at}function ji$2(){return Uh().memoizedState}function ki$2(at,zs,Ws,qs){var Ys=Th();M$8.flags|=at,Ys.memoizedState=bi$2(1|zs,Ws,void 0,qs===void 0?null:qs)}function li$2(at,zs,Ws,qs){var Ys=Uh();qs=qs===void 0?null:qs;var Xs=void 0;if(N$7!==null){var Zs=N$7.memoizedState;if(Xs=Zs.destroy,qs!==null&&Mh(qs,Zs.deps)){Ys.memoizedState=bi$2(zs,Ws,Xs,qs);return}}M$8.flags|=at,Ys.memoizedState=bi$2(1|zs,Ws,Xs,qs)}function mi$1(at,zs){return ki$2(8390656,8,at,zs)}function $h(at,zs){return li$2(2048,8,at,zs)}function ni$1(at,zs){return li$2(4,2,at,zs)}function oi$2(at,zs){return li$2(4,4,at,zs)}function pi$2(at,zs){if(typeof zs=="function")return at=at(),zs(at),function(){zs(null)};if(zs!=null)return at=at(),zs.current=at,function(){zs.current=null}}function qi$2(at,zs,Ws){return Ws=Ws!=null?Ws.concat([at]):null,li$2(4,4,pi$2.bind(null,zs,at),Ws)}function ri$2(){}function si$2(at,zs){var Ws=Uh();zs=zs===void 0?null:zs;var qs=Ws.memoizedState;return qs!==null&&zs!==null&&Mh(zs,qs[1])?qs[0]:(Ws.memoizedState=[at,zs],at)}function ti$1(at,zs){var Ws=Uh();zs=zs===void 0?null:zs;var qs=Ws.memoizedState;return qs!==null&&zs!==null&&Mh(zs,qs[1])?qs[0]:(at=at(),Ws.memoizedState=[at,zs],at)}function ui$1(at,zs,Ws){return Hh&21?(He$5(Ws,zs)||(Ws=yc$1(),M$8.lanes|=Ws,rh|=Ws,at.baseState=!0),zs):(at.baseState&&(at.baseState=!1,dh=!0),at.memoizedState=Ws)}function vi$2(at,zs){var Ws=C$9;C$9=Ws!==0&&4>Ws?Ws:4,at(!0);var qs=Gh.transition;Gh.transition={};try{at(!1),zs()}finally{C$9=Ws,Gh.transition=qs}}function wi$1(){return Uh().memoizedState}function xi$2(at,zs,Ws){var qs=yi$1(at);if(Ws={lane:qs,action:Ws,hasEagerState:!1,eagerState:null,next:null},zi$2(at))Ai$2(zs,Ws);else if(Ws=hh(at,zs,Ws,qs),Ws!==null){var Ys=R$5();gi$1(Ws,at,qs,Ys),Bi$1(Ws,zs,qs)}}function ii$2(at,zs,Ws){var qs=yi$1(at),Ys={lane:qs,action:Ws,hasEagerState:!1,eagerState:null,next:null};if(zi$2(at))Ai$2(zs,Ys);else{var Xs=at.alternate;if(at.lanes===0&&(Xs===null||Xs.lanes===0)&&(Xs=zs.lastRenderedReducer,Xs!==null))try{var Zs=zs.lastRenderedState,yl=Xs(Zs,Ws);if(Ys.hasEagerState=!0,Ys.eagerState=yl,He$5(yl,Zs)){var Js=zs.interleaved;Js===null?(Ys.next=Ys,gh(zs)):(Ys.next=Js.next,Js.next=Ys),zs.interleaved=Ys;return}}catch{}finally{}Ws=hh(at,zs,Ys,qs),Ws!==null&&(Ys=R$5(),gi$1(Ws,at,qs,Ys),Bi$1(Ws,zs,qs))}}function zi$2(at){var zs=at.alternate;return at===M$8||zs!==null&&zs===M$8}function Ai$2(at,zs){Jh=Ih=!0;var Ws=at.pending;Ws===null?zs.next=zs:(zs.next=Ws.next,Ws.next=zs),at.pending=zs}function Bi$1(at,zs,Ws){if(Ws&4194240){var qs=zs.lanes;qs&=at.pendingLanes,Ws|=qs,zs.lanes=Ws,Cc$1(at,Ws)}}var Rh={readContext:eh,useCallback:P$a,useContext:P$a,useEffect:P$a,useImperativeHandle:P$a,useInsertionEffect:P$a,useLayoutEffect:P$a,useMemo:P$a,useReducer:P$a,useRef:P$a,useState:P$a,useDebugValue:P$a,useDeferredValue:P$a,useTransition:P$a,useMutableSource:P$a,useSyncExternalStore:P$a,useId:P$a,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(at,zs){return Th().memoizedState=[at,zs===void 0?null:zs],at},useContext:eh,useEffect:mi$1,useImperativeHandle:function(at,zs,Ws){return Ws=Ws!=null?Ws.concat([at]):null,ki$2(4194308,4,pi$2.bind(null,zs,at),Ws)},useLayoutEffect:function(at,zs){return ki$2(4194308,4,at,zs)},useInsertionEffect:function(at,zs){return ki$2(4,2,at,zs)},useMemo:function(at,zs){var Ws=Th();return zs=zs===void 0?null:zs,at=at(),Ws.memoizedState=[at,zs],at},useReducer:function(at,zs,Ws){var qs=Th();return zs=Ws!==void 0?Ws(zs):zs,qs.memoizedState=qs.baseState=zs,at={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:zs},qs.queue=at,at=at.dispatch=xi$2.bind(null,M$8,at),[qs.memoizedState,at]},useRef:function(at){var zs=Th();return at={current:at},zs.memoizedState=at},useState:hi$2,useDebugValue:ri$2,useDeferredValue:function(at){return Th().memoizedState=at},useTransition:function(){var at=hi$2(!1),zs=at[0];return at=vi$2.bind(null,at[1]),Th().memoizedState=at,[zs,at]},useMutableSource:function(){},useSyncExternalStore:function(at,zs,Ws){var qs=M$8,Ys=Th();if(I$6){if(Ws===void 0)throw Error(p$b(407));Ws=Ws()}else{if(Ws=zs(),Q$5===null)throw Error(p$b(349));Hh&30||di$2(qs,zs,Ws)}Ys.memoizedState=Ws;var Xs={value:Ws,getSnapshot:zs};return Ys.queue=Xs,mi$1(ai$1.bind(null,qs,Xs,at),[at]),qs.flags|=2048,bi$2(9,ci$2.bind(null,qs,Xs,Ws,zs),void 0,null),Ws},useId:function(){var at=Th(),zs=Q$5.identifierPrefix;if(I$6){var Ws=sg,qs=rg;Ws=(qs&~(1<<32-oc$1(qs)-1)).toString(32)+Ws,zs=":"+zs+"R"+Ws,Ws=Kh++,0<Ws&&(zs+="H"+Ws.toString(32)),zs+=":"}else Ws=Lh++,zs=":"+zs+"r"+Ws.toString(32)+":";return at.memoizedState=zs},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$2,useMemo:ti$1,useReducer:Wh,useRef:ji$2,useState:function(){return Wh(Vh)},useDebugValue:ri$2,useDeferredValue:function(at){var zs=Uh();return ui$1(zs,N$7.memoizedState,at)},useTransition:function(){var at=Wh(Vh)[0],zs=Uh().memoizedState;return[at,zs]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$2,useMemo:ti$1,useReducer:Xh,useRef:ji$2,useState:function(){return Xh(Vh)},useDebugValue:ri$2,useDeferredValue:function(at){var zs=Uh();return N$7===null?zs.memoizedState=at:ui$1(zs,N$7.memoizedState,at)},useTransition:function(){var at=Xh(Vh)[0],zs=Uh().memoizedState;return[at,zs]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1};function Ci$2(at,zs){if(at&&at.defaultProps){zs=A$6({},zs),at=at.defaultProps;for(var Ws in at)zs[Ws]===void 0&&(zs[Ws]=at[Ws]);return zs}return zs}function Di$2(at,zs,Ws,qs){zs=at.memoizedState,Ws=Ws(qs,zs),Ws=Ws==null?zs:A$6({},zs,Ws),at.memoizedState=Ws,at.lanes===0&&(at.updateQueue.baseState=Ws)}var Ei$1={isMounted:function(at){return(at=at._reactInternals)?Vb(at)===at:!1},enqueueSetState:function(at,zs,Ws){at=at._reactInternals;var qs=R$5(),Ys=yi$1(at),Xs=mh(qs,Ys);Xs.payload=zs,Ws!=null&&(Xs.callback=Ws),zs=nh(at,Xs,Ys),zs!==null&&(gi$1(zs,at,Ys,qs),oh(zs,at,Ys))},enqueueReplaceState:function(at,zs,Ws){at=at._reactInternals;var qs=R$5(),Ys=yi$1(at),Xs=mh(qs,Ys);Xs.tag=1,Xs.payload=zs,Ws!=null&&(Xs.callback=Ws),zs=nh(at,Xs,Ys),zs!==null&&(gi$1(zs,at,Ys,qs),oh(zs,at,Ys))},enqueueForceUpdate:function(at,zs){at=at._reactInternals;var Ws=R$5(),qs=yi$1(at),Ys=mh(Ws,qs);Ys.tag=2,zs!=null&&(Ys.callback=zs),zs=nh(at,Ys,qs),zs!==null&&(gi$1(zs,at,qs,Ws),oh(zs,at,qs))}};function Fi$2(at,zs,Ws,qs,Ys,Xs,Zs){return at=at.stateNode,typeof at.shouldComponentUpdate=="function"?at.shouldComponentUpdate(qs,Xs,Zs):zs.prototype&&zs.prototype.isPureReactComponent?!Ie$6(Ws,qs)||!Ie$6(Ys,Xs):!0}function Gi$2(at,zs,Ws){var qs=!1,Ys=Vf$1,Xs=zs.contextType;return typeof Xs=="object"&&Xs!==null?Xs=eh(Xs):(Ys=Zf(zs)?Xf$1:H$6.current,qs=zs.contextTypes,Xs=(qs=qs!=null)?Yf$1(at,Ys):Vf$1),zs=new zs(Ws,Xs),at.memoizedState=zs.state!==null&&zs.state!==void 0?zs.state:null,zs.updater=Ei$1,at.stateNode=zs,zs._reactInternals=at,qs&&(at=at.stateNode,at.__reactInternalMemoizedUnmaskedChildContext=Ys,at.__reactInternalMemoizedMaskedChildContext=Xs),zs}function Hi$2(at,zs,Ws,qs){at=zs.state,typeof zs.componentWillReceiveProps=="function"&&zs.componentWillReceiveProps(Ws,qs),typeof zs.UNSAFE_componentWillReceiveProps=="function"&&zs.UNSAFE_componentWillReceiveProps(Ws,qs),zs.state!==at&&Ei$1.enqueueReplaceState(zs,zs.state,null)}function Ii$1(at,zs,Ws,qs){var Ys=at.stateNode;Ys.props=Ws,Ys.state=at.memoizedState,Ys.refs={},kh(at);var Xs=zs.contextType;typeof Xs=="object"&&Xs!==null?Ys.context=eh(Xs):(Xs=Zf(zs)?Xf$1:H$6.current,Ys.context=Yf$1(at,Xs)),Ys.state=at.memoizedState,Xs=zs.getDerivedStateFromProps,typeof Xs=="function"&&(Di$2(at,zs,Xs,Ws),Ys.state=at.memoizedState),typeof zs.getDerivedStateFromProps=="function"||typeof Ys.getSnapshotBeforeUpdate=="function"||typeof Ys.UNSAFE_componentWillMount!="function"&&typeof Ys.componentWillMount!="function"||(zs=Ys.state,typeof Ys.componentWillMount=="function"&&Ys.componentWillMount(),typeof Ys.UNSAFE_componentWillMount=="function"&&Ys.UNSAFE_componentWillMount(),zs!==Ys.state&&Ei$1.enqueueReplaceState(Ys,Ys.state,null),qh(at,Ws,Ys,qs),Ys.state=at.memoizedState),typeof Ys.componentDidMount=="function"&&(at.flags|=4194308)}function Ji$1(at,zs){try{var Ws="",qs=zs;do Ws+=Pa$1(qs),qs=qs.return;while(qs);var Ys=Ws}catch(Xs){Ys=`
Error generating stack: `+Xs.message+`
`+Xs.stack}return{value:at,source:zs,stack:Ys,digest:null}}function Ki$2(at,zs,Ws){return{value:at,source:null,stack:Ws??null,digest:zs??null}}function Li$2(at,zs){try{console.error(zs.value)}catch(Ws){setTimeout(function(){throw Ws})}}var Mi$2=typeof WeakMap=="function"?WeakMap:Map;function Ni$2(at,zs,Ws){Ws=mh(-1,Ws),Ws.tag=3,Ws.payload={element:null};var qs=zs.value;return Ws.callback=function(){Oi$2||(Oi$2=!0,Pi$2=qs),Li$2(at,zs)},Ws}function Qi$1(at,zs,Ws){Ws=mh(-1,Ws),Ws.tag=3;var qs=at.type.getDerivedStateFromError;if(typeof qs=="function"){var Ys=zs.value;Ws.payload=function(){return qs(Ys)},Ws.callback=function(){Li$2(at,zs)}}var Xs=at.stateNode;return Xs!==null&&typeof Xs.componentDidCatch=="function"&&(Ws.callback=function(){Li$2(at,zs),typeof qs!="function"&&(Ri$2===null?Ri$2=new Set([this]):Ri$2.add(this));var Zs=zs.stack;this.componentDidCatch(zs.value,{componentStack:Zs!==null?Zs:""})}),Ws}function Si$2(at,zs,Ws){var qs=at.pingCache;if(qs===null){qs=at.pingCache=new Mi$2;var Ys=new Set;qs.set(zs,Ys)}else Ys=qs.get(zs),Ys===void 0&&(Ys=new Set,qs.set(zs,Ys));Ys.has(Ws)||(Ys.add(Ws),at=Ti$2.bind(null,at,zs,Ws),zs.then(at,at))}function Ui$2(at){do{var zs;if((zs=at.tag===13)&&(zs=at.memoizedState,zs=zs!==null?zs.dehydrated!==null:!0),zs)return at;at=at.return}while(at!==null);return null}function Vi$2(at,zs,Ws,qs,Ys){return at.mode&1?(at.flags|=65536,at.lanes=Ys,at):(at===zs?at.flags|=65536:(at.flags|=128,Ws.flags|=131072,Ws.flags&=-52805,Ws.tag===1&&(Ws.alternate===null?Ws.tag=17:(zs=mh(-1,1),zs.tag=2,nh(Ws,zs,1))),Ws.lanes|=1),at)}var Wi$2=ua$2.ReactCurrentOwner,dh=!1;function Xi$1(at,zs,Ws,qs){zs.child=at===null?Vg(zs,null,Ws,qs):Ug(zs,at.child,Ws,qs)}function Yi$1(at,zs,Ws,qs,Ys){Ws=Ws.render;var Xs=zs.ref;return ch$1(zs,Ys),qs=Nh(at,zs,Ws,qs,Xs,Ys),Ws=Sh(),at!==null&&!dh?(zs.updateQueue=at.updateQueue,zs.flags&=-2053,at.lanes&=~Ys,Zi$1(at,zs,Ys)):(I$6&&Ws&&vg(zs),zs.flags|=1,Xi$1(at,zs,qs,Ys),zs.child)}function $i$2(at,zs,Ws,qs,Ys){if(at===null){var Xs=Ws.type;return typeof Xs=="function"&&!aj(Xs)&&Xs.defaultProps===void 0&&Ws.compare===null&&Ws.defaultProps===void 0?(zs.tag=15,zs.type=Xs,bj(at,zs,Xs,qs,Ys)):(at=Rg(Ws.type,null,qs,zs,zs.mode,Ys),at.ref=zs.ref,at.return=zs,zs.child=at)}if(Xs=at.child,!(at.lanes&Ys)){var Zs=Xs.memoizedProps;if(Ws=Ws.compare,Ws=Ws!==null?Ws:Ie$6,Ws(Zs,qs)&&at.ref===zs.ref)return Zi$1(at,zs,Ys)}return zs.flags|=1,at=Pg(Xs,qs),at.ref=zs.ref,at.return=zs,zs.child=at}function bj(at,zs,Ws,qs,Ys){if(at!==null){var Xs=at.memoizedProps;if(Ie$6(Xs,qs)&&at.ref===zs.ref)if(dh=!1,zs.pendingProps=qs=Xs,(at.lanes&Ys)!==0)at.flags&131072&&(dh=!0);else return zs.lanes=at.lanes,Zi$1(at,zs,Ys)}return cj(at,zs,Ws,qs,Ys)}function dj(at,zs,Ws){var qs=zs.pendingProps,Ys=qs.children,Xs=at!==null?at.memoizedState:null;if(qs.mode==="hidden")if(!(zs.mode&1))zs.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$6(ej,fj),fj|=Ws;else{if(!(Ws&1073741824))return at=Xs!==null?Xs.baseLanes|Ws:Ws,zs.lanes=zs.childLanes=1073741824,zs.memoizedState={baseLanes:at,cachePool:null,transitions:null},zs.updateQueue=null,G$6(ej,fj),fj|=at,null;zs.memoizedState={baseLanes:0,cachePool:null,transitions:null},qs=Xs!==null?Xs.baseLanes:Ws,G$6(ej,fj),fj|=qs}else Xs!==null?(qs=Xs.baseLanes|Ws,zs.memoizedState=null):qs=Ws,G$6(ej,fj),fj|=qs;return Xi$1(at,zs,Ys,Ws),zs.child}function gj(at,zs){var Ws=zs.ref;(at===null&&Ws!==null||at!==null&&at.ref!==Ws)&&(zs.flags|=512,zs.flags|=2097152)}function cj(at,zs,Ws,qs,Ys){var Xs=Zf(Ws)?Xf$1:H$6.current;return Xs=Yf$1(zs,Xs),ch$1(zs,Ys),Ws=Nh(at,zs,Ws,qs,Xs,Ys),qs=Sh(),at!==null&&!dh?(zs.updateQueue=at.updateQueue,zs.flags&=-2053,at.lanes&=~Ys,Zi$1(at,zs,Ys)):(I$6&&qs&&vg(zs),zs.flags|=1,Xi$1(at,zs,Ws,Ys),zs.child)}function hj(at,zs,Ws,qs,Ys){if(Zf(Ws)){var Xs=!0;cg(zs)}else Xs=!1;if(ch$1(zs,Ys),zs.stateNode===null)ij(at,zs),Gi$2(zs,Ws,qs),Ii$1(zs,Ws,qs,Ys),qs=!0;else if(at===null){var Zs=zs.stateNode,yl=zs.memoizedProps;Zs.props=yl;var Js=Zs.context,$l=Ws.contextType;typeof $l=="object"&&$l!==null?$l=eh($l):($l=Zf(Ws)?Xf$1:H$6.current,$l=Yf$1(zs,$l));var El=Ws.getDerivedStateFromProps,wl=typeof El=="function"||typeof Zs.getSnapshotBeforeUpdate=="function";wl||typeof Zs.UNSAFE_componentWillReceiveProps!="function"&&typeof Zs.componentWillReceiveProps!="function"||(yl!==qs||Js!==$l)&&Hi$2(zs,Zs,qs,$l),jh=!1;var _l=zs.memoizedState;Zs.state=_l,qh(zs,qs,Zs,Ys),Js=zs.memoizedState,yl!==qs||_l!==Js||Wf$1.current||jh?(typeof El=="function"&&(Di$2(zs,Ws,El,qs),Js=zs.memoizedState),(yl=jh||Fi$2(zs,Ws,yl,qs,_l,Js,$l))?(wl||typeof Zs.UNSAFE_componentWillMount!="function"&&typeof Zs.componentWillMount!="function"||(typeof Zs.componentWillMount=="function"&&Zs.componentWillMount(),typeof Zs.UNSAFE_componentWillMount=="function"&&Zs.UNSAFE_componentWillMount()),typeof Zs.componentDidMount=="function"&&(zs.flags|=4194308)):(typeof Zs.componentDidMount=="function"&&(zs.flags|=4194308),zs.memoizedProps=qs,zs.memoizedState=Js),Zs.props=qs,Zs.state=Js,Zs.context=$l,qs=yl):(typeof Zs.componentDidMount=="function"&&(zs.flags|=4194308),qs=!1)}else{Zs=zs.stateNode,lh(at,zs),yl=zs.memoizedProps,$l=zs.type===zs.elementType?yl:Ci$2(zs.type,yl),Zs.props=$l,wl=zs.pendingProps,_l=Zs.context,Js=Ws.contextType,typeof Js=="object"&&Js!==null?Js=eh(Js):(Js=Zf(Ws)?Xf$1:H$6.current,Js=Yf$1(zs,Js));var Sl=Ws.getDerivedStateFromProps;(El=typeof Sl=="function"||typeof Zs.getSnapshotBeforeUpdate=="function")||typeof Zs.UNSAFE_componentWillReceiveProps!="function"&&typeof Zs.componentWillReceiveProps!="function"||(yl!==wl||_l!==Js)&&Hi$2(zs,Zs,qs,Js),jh=!1,_l=zs.memoizedState,Zs.state=_l,qh(zs,qs,Zs,Ys);var Tl=zs.memoizedState;yl!==wl||_l!==Tl||Wf$1.current||jh?(typeof Sl=="function"&&(Di$2(zs,Ws,Sl,qs),Tl=zs.memoizedState),($l=jh||Fi$2(zs,Ws,$l,qs,_l,Tl,Js)||!1)?(El||typeof Zs.UNSAFE_componentWillUpdate!="function"&&typeof Zs.componentWillUpdate!="function"||(typeof Zs.componentWillUpdate=="function"&&Zs.componentWillUpdate(qs,Tl,Js),typeof Zs.UNSAFE_componentWillUpdate=="function"&&Zs.UNSAFE_componentWillUpdate(qs,Tl,Js)),typeof Zs.componentDidUpdate=="function"&&(zs.flags|=4),typeof Zs.getSnapshotBeforeUpdate=="function"&&(zs.flags|=1024)):(typeof Zs.componentDidUpdate!="function"||yl===at.memoizedProps&&_l===at.memoizedState||(zs.flags|=4),typeof Zs.getSnapshotBeforeUpdate!="function"||yl===at.memoizedProps&&_l===at.memoizedState||(zs.flags|=1024),zs.memoizedProps=qs,zs.memoizedState=Tl),Zs.props=qs,Zs.state=Tl,Zs.context=Js,qs=$l):(typeof Zs.componentDidUpdate!="function"||yl===at.memoizedProps&&_l===at.memoizedState||(zs.flags|=4),typeof Zs.getSnapshotBeforeUpdate!="function"||yl===at.memoizedProps&&_l===at.memoizedState||(zs.flags|=1024),qs=!1)}return jj(at,zs,Ws,qs,Xs,Ys)}function jj(at,zs,Ws,qs,Ys,Xs){gj(at,zs);var Zs=(zs.flags&128)!==0;if(!qs&&!Zs)return Ys&&dg(zs,Ws,!1),Zi$1(at,zs,Xs);qs=zs.stateNode,Wi$2.current=zs;var yl=Zs&&typeof Ws.getDerivedStateFromError!="function"?null:qs.render();return zs.flags|=1,at!==null&&Zs?(zs.child=Ug(zs,at.child,null,Xs),zs.child=Ug(zs,null,yl,Xs)):Xi$1(at,zs,yl,Xs),zs.memoizedState=qs.state,Ys&&dg(zs,Ws,!0),zs.child}function kj(at){var zs=at.stateNode;zs.pendingContext?ag(at,zs.pendingContext,zs.pendingContext!==zs.context):zs.context&&ag(at,zs.context,!1),yh(at,zs.containerInfo)}function lj(at,zs,Ws,qs,Ys){return Ig(),Jg(Ys),zs.flags|=256,Xi$1(at,zs,Ws,qs),zs.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(at){return{baseLanes:at,cachePool:null,transitions:null}}function oj(at,zs,Ws){var qs=zs.pendingProps,Ys=L$5.current,Xs=!1,Zs=(zs.flags&128)!==0,yl;if((yl=Zs)||(yl=at!==null&&at.memoizedState===null?!1:(Ys&2)!==0),yl?(Xs=!0,zs.flags&=-129):(at===null||at.memoizedState!==null)&&(Ys|=1),G$6(L$5,Ys&1),at===null)return Eg(zs),at=zs.memoizedState,at!==null&&(at=at.dehydrated,at!==null)?(zs.mode&1?at.data==="$!"?zs.lanes=8:zs.lanes=1073741824:zs.lanes=1,null):(Zs=qs.children,at=qs.fallback,Xs?(qs=zs.mode,Xs=zs.child,Zs={mode:"hidden",children:Zs},!(qs&1)&&Xs!==null?(Xs.childLanes=0,Xs.pendingProps=Zs):Xs=pj(Zs,qs,0,null),at=Tg(at,qs,Ws,null),Xs.return=zs,at.return=zs,Xs.sibling=at,zs.child=Xs,zs.child.memoizedState=nj(Ws),zs.memoizedState=mj,at):qj(zs,Zs));if(Ys=at.memoizedState,Ys!==null&&(yl=Ys.dehydrated,yl!==null))return rj(at,zs,Zs,qs,yl,Ys,Ws);if(Xs){Xs=qs.fallback,Zs=zs.mode,Ys=at.child,yl=Ys.sibling;var Js={mode:"hidden",children:qs.children};return!(Zs&1)&&zs.child!==Ys?(qs=zs.child,qs.childLanes=0,qs.pendingProps=Js,zs.deletions=null):(qs=Pg(Ys,Js),qs.subtreeFlags=Ys.subtreeFlags&14680064),yl!==null?Xs=Pg(yl,Xs):(Xs=Tg(Xs,Zs,Ws,null),Xs.flags|=2),Xs.return=zs,qs.return=zs,qs.sibling=Xs,zs.child=qs,qs=Xs,Xs=zs.child,Zs=at.child.memoizedState,Zs=Zs===null?nj(Ws):{baseLanes:Zs.baseLanes|Ws,cachePool:null,transitions:Zs.transitions},Xs.memoizedState=Zs,Xs.childLanes=at.childLanes&~Ws,zs.memoizedState=mj,qs}return Xs=at.child,at=Xs.sibling,qs=Pg(Xs,{mode:"visible",children:qs.children}),!(zs.mode&1)&&(qs.lanes=Ws),qs.return=zs,qs.sibling=null,at!==null&&(Ws=zs.deletions,Ws===null?(zs.deletions=[at],zs.flags|=16):Ws.push(at)),zs.child=qs,zs.memoizedState=null,qs}function qj(at,zs){return zs=pj({mode:"visible",children:zs},at.mode,0,null),zs.return=at,at.child=zs}function sj(at,zs,Ws,qs){return qs!==null&&Jg(qs),Ug(zs,at.child,null,Ws),at=qj(zs,zs.pendingProps.children),at.flags|=2,zs.memoizedState=null,at}function rj(at,zs,Ws,qs,Ys,Xs,Zs){if(Ws)return zs.flags&256?(zs.flags&=-257,qs=Ki$2(Error(p$b(422))),sj(at,zs,Zs,qs)):zs.memoizedState!==null?(zs.child=at.child,zs.flags|=128,null):(Xs=qs.fallback,Ys=zs.mode,qs=pj({mode:"visible",children:qs.children},Ys,0,null),Xs=Tg(Xs,Ys,Zs,null),Xs.flags|=2,qs.return=zs,Xs.return=zs,qs.sibling=Xs,zs.child=qs,zs.mode&1&&Ug(zs,at.child,null,Zs),zs.child.memoizedState=nj(Zs),zs.memoizedState=mj,Xs);if(!(zs.mode&1))return sj(at,zs,Zs,null);if(Ys.data==="$!"){if(qs=Ys.nextSibling&&Ys.nextSibling.dataset,qs)var yl=qs.dgst;return qs=yl,Xs=Error(p$b(419)),qs=Ki$2(Xs,qs,void 0),sj(at,zs,Zs,qs)}if(yl=(Zs&at.childLanes)!==0,dh||yl){if(qs=Q$5,qs!==null){switch(Zs&-Zs){case 4:Ys=2;break;case 16:Ys=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ys=32;break;case 536870912:Ys=268435456;break;default:Ys=0}Ys=Ys&(qs.suspendedLanes|Zs)?0:Ys,Ys!==0&&Ys!==Xs.retryLane&&(Xs.retryLane=Ys,ih(at,Ys),gi$1(qs,at,Ys,-1))}return tj(),qs=Ki$2(Error(p$b(421))),sj(at,zs,Zs,qs)}return Ys.data==="$?"?(zs.flags|=128,zs.child=at.child,zs=uj.bind(null,at),Ys._reactRetry=zs,null):(at=Xs.treeContext,yg=Lf$1(Ys.nextSibling),xg=zs,I$6=!0,zg=null,at!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=at.id,sg=at.overflow,qg=zs),zs=qj(zs,qs.children),zs.flags|=4096,zs)}function vj(at,zs,Ws){at.lanes|=zs;var qs=at.alternate;qs!==null&&(qs.lanes|=zs),bh(at.return,zs,Ws)}function wj(at,zs,Ws,qs,Ys){var Xs=at.memoizedState;Xs===null?at.memoizedState={isBackwards:zs,rendering:null,renderingStartTime:0,last:qs,tail:Ws,tailMode:Ys}:(Xs.isBackwards=zs,Xs.rendering=null,Xs.renderingStartTime=0,Xs.last=qs,Xs.tail=Ws,Xs.tailMode=Ys)}function xj(at,zs,Ws){var qs=zs.pendingProps,Ys=qs.revealOrder,Xs=qs.tail;if(Xi$1(at,zs,qs.children,Ws),qs=L$5.current,qs&2)qs=qs&1|2,zs.flags|=128;else{if(at!==null&&at.flags&128)e:for(at=zs.child;at!==null;){if(at.tag===13)at.memoizedState!==null&&vj(at,Ws,zs);else if(at.tag===19)vj(at,Ws,zs);else if(at.child!==null){at.child.return=at,at=at.child;continue}if(at===zs)break e;for(;at.sibling===null;){if(at.return===null||at.return===zs)break e;at=at.return}at.sibling.return=at.return,at=at.sibling}qs&=1}if(G$6(L$5,qs),!(zs.mode&1))zs.memoizedState=null;else switch(Ys){case"forwards":for(Ws=zs.child,Ys=null;Ws!==null;)at=Ws.alternate,at!==null&&Ch(at)===null&&(Ys=Ws),Ws=Ws.sibling;Ws=Ys,Ws===null?(Ys=zs.child,zs.child=null):(Ys=Ws.sibling,Ws.sibling=null),wj(zs,!1,Ys,Ws,Xs);break;case"backwards":for(Ws=null,Ys=zs.child,zs.child=null;Ys!==null;){if(at=Ys.alternate,at!==null&&Ch(at)===null){zs.child=Ys;break}at=Ys.sibling,Ys.sibling=Ws,Ws=Ys,Ys=at}wj(zs,!0,Ws,null,Xs);break;case"together":wj(zs,!1,null,null,void 0);break;default:zs.memoizedState=null}return zs.child}function ij(at,zs){!(zs.mode&1)&&at!==null&&(at.alternate=null,zs.alternate=null,zs.flags|=2)}function Zi$1(at,zs,Ws){if(at!==null&&(zs.dependencies=at.dependencies),rh|=zs.lanes,!(Ws&zs.childLanes))return null;if(at!==null&&zs.child!==at.child)throw Error(p$b(153));if(zs.child!==null){for(at=zs.child,Ws=Pg(at,at.pendingProps),zs.child=Ws,Ws.return=zs;at.sibling!==null;)at=at.sibling,Ws=Ws.sibling=Pg(at,at.pendingProps),Ws.return=zs;Ws.sibling=null}return zs.child}function yj(at,zs,Ws){switch(zs.tag){case 3:kj(zs),Ig();break;case 5:Ah(zs);break;case 1:Zf(zs.type)&&cg(zs);break;case 4:yh(zs,zs.stateNode.containerInfo);break;case 10:var qs=zs.type._context,Ys=zs.memoizedProps.value;G$6(Wg,qs._currentValue),qs._currentValue=Ys;break;case 13:if(qs=zs.memoizedState,qs!==null)return qs.dehydrated!==null?(G$6(L$5,L$5.current&1),zs.flags|=128,null):Ws&zs.child.childLanes?oj(at,zs,Ws):(G$6(L$5,L$5.current&1),at=Zi$1(at,zs,Ws),at!==null?at.sibling:null);G$6(L$5,L$5.current&1);break;case 19:if(qs=(Ws&zs.childLanes)!==0,at.flags&128){if(qs)return xj(at,zs,Ws);zs.flags|=128}if(Ys=zs.memoizedState,Ys!==null&&(Ys.rendering=null,Ys.tail=null,Ys.lastEffect=null),G$6(L$5,L$5.current),qs)break;return null;case 22:case 23:return zs.lanes=0,dj(at,zs,Ws)}return Zi$1(at,zs,Ws)}var zj,Aj,Bj,Cj;zj=function(at,zs){for(var Ws=zs.child;Ws!==null;){if(Ws.tag===5||Ws.tag===6)at.appendChild(Ws.stateNode);else if(Ws.tag!==4&&Ws.child!==null){Ws.child.return=Ws,Ws=Ws.child;continue}if(Ws===zs)break;for(;Ws.sibling===null;){if(Ws.return===null||Ws.return===zs)return;Ws=Ws.return}Ws.sibling.return=Ws.return,Ws=Ws.sibling}},Aj=function(){},Bj=function(at,zs,Ws,qs){var Ys=at.memoizedProps;if(Ys!==qs){at=zs.stateNode,xh(uh.current);var Xs=null;switch(Ws){case"input":Ys=Ya$1(at,Ys),qs=Ya$1(at,qs),Xs=[];break;case"select":Ys=A$6({},Ys,{value:void 0}),qs=A$6({},qs,{value:void 0}),Xs=[];break;case"textarea":Ys=gb(at,Ys),qs=gb(at,qs),Xs=[];break;default:typeof Ys.onClick!="function"&&typeof qs.onClick=="function"&&(at.onclick=Bf$1)}ub(Ws,qs);var Zs;Ws=null;for($l in Ys)if(!qs.hasOwnProperty($l)&&Ys.hasOwnProperty($l)&&Ys[$l]!=null)if($l==="style"){var yl=Ys[$l];for(Zs in yl)yl.hasOwnProperty(Zs)&&(Ws||(Ws={}),Ws[Zs]="")}else $l!=="dangerouslySetInnerHTML"&&$l!=="children"&&$l!=="suppressContentEditableWarning"&&$l!=="suppressHydrationWarning"&&$l!=="autoFocus"&&(ea$2.hasOwnProperty($l)?Xs||(Xs=[]):(Xs=Xs||[]).push($l,null));for($l in qs){var Js=qs[$l];if(yl=Ys!=null?Ys[$l]:void 0,qs.hasOwnProperty($l)&&Js!==yl&&(Js!=null||yl!=null))if($l==="style")if(yl){for(Zs in yl)!yl.hasOwnProperty(Zs)||Js&&Js.hasOwnProperty(Zs)||(Ws||(Ws={}),Ws[Zs]="");for(Zs in Js)Js.hasOwnProperty(Zs)&&yl[Zs]!==Js[Zs]&&(Ws||(Ws={}),Ws[Zs]=Js[Zs])}else Ws||(Xs||(Xs=[]),Xs.push($l,Ws)),Ws=Js;else $l==="dangerouslySetInnerHTML"?(Js=Js?Js.__html:void 0,yl=yl?yl.__html:void 0,Js!=null&&yl!==Js&&(Xs=Xs||[]).push($l,Js)):$l==="children"?typeof Js!="string"&&typeof Js!="number"||(Xs=Xs||[]).push($l,""+Js):$l!=="suppressContentEditableWarning"&&$l!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty($l)?(Js!=null&&$l==="onScroll"&&D$6("scroll",at),Xs||yl===Js||(Xs=[])):(Xs=Xs||[]).push($l,Js))}Ws&&(Xs=Xs||[]).push("style",Ws);var $l=Xs;(zs.updateQueue=$l)&&(zs.flags|=4)}},Cj=function(at,zs,Ws,qs){Ws!==qs&&(zs.flags|=4)};function Dj(at,zs){if(!I$6)switch(at.tailMode){case"hidden":zs=at.tail;for(var Ws=null;zs!==null;)zs.alternate!==null&&(Ws=zs),zs=zs.sibling;Ws===null?at.tail=null:Ws.sibling=null;break;case"collapsed":Ws=at.tail;for(var qs=null;Ws!==null;)Ws.alternate!==null&&(qs=Ws),Ws=Ws.sibling;qs===null?zs||at.tail===null?at.tail=null:at.tail.sibling=null:qs.sibling=null}}function S$9(at){var zs=at.alternate!==null&&at.alternate.child===at.child,Ws=0,qs=0;if(zs)for(var Ys=at.child;Ys!==null;)Ws|=Ys.lanes|Ys.childLanes,qs|=Ys.subtreeFlags&14680064,qs|=Ys.flags&14680064,Ys.return=at,Ys=Ys.sibling;else for(Ys=at.child;Ys!==null;)Ws|=Ys.lanes|Ys.childLanes,qs|=Ys.subtreeFlags,qs|=Ys.flags,Ys.return=at,Ys=Ys.sibling;return at.subtreeFlags|=qs,at.childLanes=Ws,zs}function Ej(at,zs,Ws){var qs=zs.pendingProps;switch(wg(zs),zs.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$9(zs),null;case 1:return Zf(zs.type)&&$f$1(),S$9(zs),null;case 3:return qs=zs.stateNode,zh(),E$7(Wf$1),E$7(H$6),Eh(),qs.pendingContext&&(qs.context=qs.pendingContext,qs.pendingContext=null),(at===null||at.child===null)&&(Gg(zs)?zs.flags|=4:at===null||at.memoizedState.isDehydrated&&!(zs.flags&256)||(zs.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(at,zs),S$9(zs),null;case 5:Bh(zs);var Ys=xh(wh.current);if(Ws=zs.type,at!==null&&zs.stateNode!=null)Bj(at,zs,Ws,qs,Ys),at.ref!==zs.ref&&(zs.flags|=512,zs.flags|=2097152);else{if(!qs){if(zs.stateNode===null)throw Error(p$b(166));return S$9(zs),null}if(at=xh(uh.current),Gg(zs)){qs=zs.stateNode,Ws=zs.type;var Xs=zs.memoizedProps;switch(qs[Of$1]=zs,qs[Pf$1]=Xs,at=(zs.mode&1)!==0,Ws){case"dialog":D$6("cancel",qs),D$6("close",qs);break;case"iframe":case"object":case"embed":D$6("load",qs);break;case"video":case"audio":for(Ys=0;Ys<lf$1.length;Ys++)D$6(lf$1[Ys],qs);break;case"source":D$6("error",qs);break;case"img":case"image":case"link":D$6("error",qs),D$6("load",qs);break;case"details":D$6("toggle",qs);break;case"input":Za(qs,Xs),D$6("invalid",qs);break;case"select":qs._wrapperState={wasMultiple:!!Xs.multiple},D$6("invalid",qs);break;case"textarea":hb(qs,Xs),D$6("invalid",qs)}ub(Ws,Xs),Ys=null;for(var Zs in Xs)if(Xs.hasOwnProperty(Zs)){var yl=Xs[Zs];Zs==="children"?typeof yl=="string"?qs.textContent!==yl&&(Xs.suppressHydrationWarning!==!0&&Af$1(qs.textContent,yl,at),Ys=["children",yl]):typeof yl=="number"&&qs.textContent!==""+yl&&(Xs.suppressHydrationWarning!==!0&&Af$1(qs.textContent,yl,at),Ys=["children",""+yl]):ea$2.hasOwnProperty(Zs)&&yl!=null&&Zs==="onScroll"&&D$6("scroll",qs)}switch(Ws){case"input":Va$1(qs),db(qs,Xs,!0);break;case"textarea":Va$1(qs),jb(qs);break;case"select":case"option":break;default:typeof Xs.onClick=="function"&&(qs.onclick=Bf$1)}qs=Ys,zs.updateQueue=qs,qs!==null&&(zs.flags|=4)}else{Zs=Ys.nodeType===9?Ys:Ys.ownerDocument,at==="http://www.w3.org/1999/xhtml"&&(at=kb(Ws)),at==="http://www.w3.org/1999/xhtml"?Ws==="script"?(at=Zs.createElement("div"),at.innerHTML="<script><\/script>",at=at.removeChild(at.firstChild)):typeof qs.is=="string"?at=Zs.createElement(Ws,{is:qs.is}):(at=Zs.createElement(Ws),Ws==="select"&&(Zs=at,qs.multiple?Zs.multiple=!0:qs.size&&(Zs.size=qs.size))):at=Zs.createElementNS(at,Ws),at[Of$1]=zs,at[Pf$1]=qs,zj(at,zs,!1,!1),zs.stateNode=at;e:{switch(Zs=vb(Ws,qs),Ws){case"dialog":D$6("cancel",at),D$6("close",at),Ys=qs;break;case"iframe":case"object":case"embed":D$6("load",at),Ys=qs;break;case"video":case"audio":for(Ys=0;Ys<lf$1.length;Ys++)D$6(lf$1[Ys],at);Ys=qs;break;case"source":D$6("error",at),Ys=qs;break;case"img":case"image":case"link":D$6("error",at),D$6("load",at),Ys=qs;break;case"details":D$6("toggle",at),Ys=qs;break;case"input":Za(at,qs),Ys=Ya$1(at,qs),D$6("invalid",at);break;case"option":Ys=qs;break;case"select":at._wrapperState={wasMultiple:!!qs.multiple},Ys=A$6({},qs,{value:void 0}),D$6("invalid",at);break;case"textarea":hb(at,qs),Ys=gb(at,qs),D$6("invalid",at);break;default:Ys=qs}ub(Ws,Ys),yl=Ys;for(Xs in yl)if(yl.hasOwnProperty(Xs)){var Js=yl[Xs];Xs==="style"?sb(at,Js):Xs==="dangerouslySetInnerHTML"?(Js=Js?Js.__html:void 0,Js!=null&&nb(at,Js)):Xs==="children"?typeof Js=="string"?(Ws!=="textarea"||Js!=="")&&ob(at,Js):typeof Js=="number"&&ob(at,""+Js):Xs!=="suppressContentEditableWarning"&&Xs!=="suppressHydrationWarning"&&Xs!=="autoFocus"&&(ea$2.hasOwnProperty(Xs)?Js!=null&&Xs==="onScroll"&&D$6("scroll",at):Js!=null&&ta$2(at,Xs,Js,Zs))}switch(Ws){case"input":Va$1(at),db(at,qs,!1);break;case"textarea":Va$1(at),jb(at);break;case"option":qs.value!=null&&at.setAttribute("value",""+Sa$1(qs.value));break;case"select":at.multiple=!!qs.multiple,Xs=qs.value,Xs!=null?fb(at,!!qs.multiple,Xs,!1):qs.defaultValue!=null&&fb(at,!!qs.multiple,qs.defaultValue,!0);break;default:typeof Ys.onClick=="function"&&(at.onclick=Bf$1)}switch(Ws){case"button":case"input":case"select":case"textarea":qs=!!qs.autoFocus;break e;case"img":qs=!0;break e;default:qs=!1}}qs&&(zs.flags|=4)}zs.ref!==null&&(zs.flags|=512,zs.flags|=2097152)}return S$9(zs),null;case 6:if(at&&zs.stateNode!=null)Cj(at,zs,at.memoizedProps,qs);else{if(typeof qs!="string"&&zs.stateNode===null)throw Error(p$b(166));if(Ws=xh(wh.current),xh(uh.current),Gg(zs)){if(qs=zs.stateNode,Ws=zs.memoizedProps,qs[Of$1]=zs,(Xs=qs.nodeValue!==Ws)&&(at=xg,at!==null))switch(at.tag){case 3:Af$1(qs.nodeValue,Ws,(at.mode&1)!==0);break;case 5:at.memoizedProps.suppressHydrationWarning!==!0&&Af$1(qs.nodeValue,Ws,(at.mode&1)!==0)}Xs&&(zs.flags|=4)}else qs=(Ws.nodeType===9?Ws:Ws.ownerDocument).createTextNode(qs),qs[Of$1]=zs,zs.stateNode=qs}return S$9(zs),null;case 13:if(E$7(L$5),qs=zs.memoizedState,at===null||at.memoizedState!==null&&at.memoizedState.dehydrated!==null){if(I$6&&yg!==null&&zs.mode&1&&!(zs.flags&128))Hg(),Ig(),zs.flags|=98560,Xs=!1;else if(Xs=Gg(zs),qs!==null&&qs.dehydrated!==null){if(at===null){if(!Xs)throw Error(p$b(318));if(Xs=zs.memoizedState,Xs=Xs!==null?Xs.dehydrated:null,!Xs)throw Error(p$b(317));Xs[Of$1]=zs}else Ig(),!(zs.flags&128)&&(zs.memoizedState=null),zs.flags|=4;S$9(zs),Xs=!1}else zg!==null&&(Fj(zg),zg=null),Xs=!0;if(!Xs)return zs.flags&65536?zs:null}return zs.flags&128?(zs.lanes=Ws,zs):(qs=qs!==null,qs!==(at!==null&&at.memoizedState!==null)&&qs&&(zs.child.flags|=8192,zs.mode&1&&(at===null||L$5.current&1?T$7===0&&(T$7=3):tj())),zs.updateQueue!==null&&(zs.flags|=4),S$9(zs),null);case 4:return zh(),Aj(at,zs),at===null&&sf$1(zs.stateNode.containerInfo),S$9(zs),null;case 10:return ah(zs.type._context),S$9(zs),null;case 17:return Zf(zs.type)&&$f$1(),S$9(zs),null;case 19:if(E$7(L$5),Xs=zs.memoizedState,Xs===null)return S$9(zs),null;if(qs=(zs.flags&128)!==0,Zs=Xs.rendering,Zs===null)if(qs)Dj(Xs,!1);else{if(T$7!==0||at!==null&&at.flags&128)for(at=zs.child;at!==null;){if(Zs=Ch(at),Zs!==null){for(zs.flags|=128,Dj(Xs,!1),qs=Zs.updateQueue,qs!==null&&(zs.updateQueue=qs,zs.flags|=4),zs.subtreeFlags=0,qs=Ws,Ws=zs.child;Ws!==null;)Xs=Ws,at=qs,Xs.flags&=14680066,Zs=Xs.alternate,Zs===null?(Xs.childLanes=0,Xs.lanes=at,Xs.child=null,Xs.subtreeFlags=0,Xs.memoizedProps=null,Xs.memoizedState=null,Xs.updateQueue=null,Xs.dependencies=null,Xs.stateNode=null):(Xs.childLanes=Zs.childLanes,Xs.lanes=Zs.lanes,Xs.child=Zs.child,Xs.subtreeFlags=0,Xs.deletions=null,Xs.memoizedProps=Zs.memoizedProps,Xs.memoizedState=Zs.memoizedState,Xs.updateQueue=Zs.updateQueue,Xs.type=Zs.type,at=Zs.dependencies,Xs.dependencies=at===null?null:{lanes:at.lanes,firstContext:at.firstContext}),Ws=Ws.sibling;return G$6(L$5,L$5.current&1|2),zs.child}at=at.sibling}Xs.tail!==null&&B$1()>Gj&&(zs.flags|=128,qs=!0,Dj(Xs,!1),zs.lanes=4194304)}else{if(!qs)if(at=Ch(Zs),at!==null){if(zs.flags|=128,qs=!0,Ws=at.updateQueue,Ws!==null&&(zs.updateQueue=Ws,zs.flags|=4),Dj(Xs,!0),Xs.tail===null&&Xs.tailMode==="hidden"&&!Zs.alternate&&!I$6)return S$9(zs),null}else 2*B$1()-Xs.renderingStartTime>Gj&&Ws!==1073741824&&(zs.flags|=128,qs=!0,Dj(Xs,!1),zs.lanes=4194304);Xs.isBackwards?(Zs.sibling=zs.child,zs.child=Zs):(Ws=Xs.last,Ws!==null?Ws.sibling=Zs:zs.child=Zs,Xs.last=Zs)}return Xs.tail!==null?(zs=Xs.tail,Xs.rendering=zs,Xs.tail=zs.sibling,Xs.renderingStartTime=B$1(),zs.sibling=null,Ws=L$5.current,G$6(L$5,qs?Ws&1|2:Ws&1),zs):(S$9(zs),null);case 22:case 23:return Hj(),qs=zs.memoizedState!==null,at!==null&&at.memoizedState!==null!==qs&&(zs.flags|=8192),qs&&zs.mode&1?fj&1073741824&&(S$9(zs),zs.subtreeFlags&6&&(zs.flags|=8192)):S$9(zs),null;case 24:return null;case 25:return null}throw Error(p$b(156,zs.tag))}function Ij(at,zs){switch(wg(zs),zs.tag){case 1:return Zf(zs.type)&&$f$1(),at=zs.flags,at&65536?(zs.flags=at&-65537|128,zs):null;case 3:return zh(),E$7(Wf$1),E$7(H$6),Eh(),at=zs.flags,at&65536&&!(at&128)?(zs.flags=at&-65537|128,zs):null;case 5:return Bh(zs),null;case 13:if(E$7(L$5),at=zs.memoizedState,at!==null&&at.dehydrated!==null){if(zs.alternate===null)throw Error(p$b(340));Ig()}return at=zs.flags,at&65536?(zs.flags=at&-65537|128,zs):null;case 19:return E$7(L$5),null;case 4:return zh(),null;case 10:return ah(zs.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$4=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$6=null;function Lj(at,zs){var Ws=at.ref;if(Ws!==null)if(typeof Ws=="function")try{Ws(null)}catch(qs){W$7(at,zs,qs)}else Ws.current=null}function Mj(at,zs,Ws){try{Ws()}catch(qs){W$7(at,zs,qs)}}var Nj=!1;function Oj(at,zs){if(Cf$1=dd,at=Me$5(),Ne$3(at)){if("selectionStart"in at)var Ws={start:at.selectionStart,end:at.selectionEnd};else e:{Ws=(Ws=at.ownerDocument)&&Ws.defaultView||window;var qs=Ws.getSelection&&Ws.getSelection();if(qs&&qs.rangeCount!==0){Ws=qs.anchorNode;var Ys=qs.anchorOffset,Xs=qs.focusNode;qs=qs.focusOffset;try{Ws.nodeType,Xs.nodeType}catch{Ws=null;break e}var Zs=0,yl=-1,Js=-1,$l=0,El=0,wl=at,_l=null;t:for(;;){for(var Sl;wl!==Ws||Ys!==0&&wl.nodeType!==3||(yl=Zs+Ys),wl!==Xs||qs!==0&&wl.nodeType!==3||(Js=Zs+qs),wl.nodeType===3&&(Zs+=wl.nodeValue.length),(Sl=wl.firstChild)!==null;)_l=wl,wl=Sl;for(;;){if(wl===at)break t;if(_l===Ws&&++$l===Ys&&(yl=Zs),_l===Xs&&++El===qs&&(Js=Zs),(Sl=wl.nextSibling)!==null)break;wl=_l,_l=wl.parentNode}wl=Sl}Ws=yl===-1||Js===-1?null:{start:yl,end:Js}}else Ws=null}Ws=Ws||{start:0,end:0}}else Ws=null;for(Df$1={focusedElem:at,selectionRange:Ws},dd=!1,V$6=zs;V$6!==null;)if(zs=V$6,at=zs.child,(zs.subtreeFlags&1028)!==0&&at!==null)at.return=zs,V$6=at;else for(;V$6!==null;){zs=V$6;try{var Tl=zs.alternate;if(zs.flags&1024)switch(zs.tag){case 0:case 11:case 15:break;case 1:if(Tl!==null){var Il=Tl.memoizedProps,Al=Tl.memoizedState,xl=zs.stateNode,Pl=xl.getSnapshotBeforeUpdate(zs.elementType===zs.type?Il:Ci$2(zs.type,Il),Al);xl.__reactInternalSnapshotBeforeUpdate=Pl}break;case 3:var Cl=zs.stateNode.containerInfo;Cl.nodeType===1?Cl.textContent="":Cl.nodeType===9&&Cl.documentElement&&Cl.removeChild(Cl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$b(163))}}catch(Rl){W$7(zs,zs.return,Rl)}if(at=zs.sibling,at!==null){at.return=zs.return,V$6=at;break}V$6=zs.return}return Tl=Nj,Nj=!1,Tl}function Pj(at,zs,Ws){var qs=zs.updateQueue;if(qs=qs!==null?qs.lastEffect:null,qs!==null){var Ys=qs=qs.next;do{if((Ys.tag&at)===at){var Xs=Ys.destroy;Ys.destroy=void 0,Xs!==void 0&&Mj(zs,Ws,Xs)}Ys=Ys.next}while(Ys!==qs)}}function Qj(at,zs){if(zs=zs.updateQueue,zs=zs!==null?zs.lastEffect:null,zs!==null){var Ws=zs=zs.next;do{if((Ws.tag&at)===at){var qs=Ws.create;Ws.destroy=qs()}Ws=Ws.next}while(Ws!==zs)}}function Rj(at){var zs=at.ref;if(zs!==null){var Ws=at.stateNode;switch(at.tag){case 5:at=Ws;break;default:at=Ws}typeof zs=="function"?zs(at):zs.current=at}}function Sj(at){var zs=at.alternate;zs!==null&&(at.alternate=null,Sj(zs)),at.child=null,at.deletions=null,at.sibling=null,at.tag===5&&(zs=at.stateNode,zs!==null&&(delete zs[Of$1],delete zs[Pf$1],delete zs[of$1],delete zs[Qf$1],delete zs[Rf$1])),at.stateNode=null,at.return=null,at.dependencies=null,at.memoizedProps=null,at.memoizedState=null,at.pendingProps=null,at.stateNode=null,at.updateQueue=null}function Tj(at){return at.tag===5||at.tag===3||at.tag===4}function Uj(at){e:for(;;){for(;at.sibling===null;){if(at.return===null||Tj(at.return))return null;at=at.return}for(at.sibling.return=at.return,at=at.sibling;at.tag!==5&&at.tag!==6&&at.tag!==18;){if(at.flags&2||at.child===null||at.tag===4)continue e;at.child.return=at,at=at.child}if(!(at.flags&2))return at.stateNode}}function Vj(at,zs,Ws){var qs=at.tag;if(qs===5||qs===6)at=at.stateNode,zs?Ws.nodeType===8?Ws.parentNode.insertBefore(at,zs):Ws.insertBefore(at,zs):(Ws.nodeType===8?(zs=Ws.parentNode,zs.insertBefore(at,Ws)):(zs=Ws,zs.appendChild(at)),Ws=Ws._reactRootContainer,Ws!=null||zs.onclick!==null||(zs.onclick=Bf$1));else if(qs!==4&&(at=at.child,at!==null))for(Vj(at,zs,Ws),at=at.sibling;at!==null;)Vj(at,zs,Ws),at=at.sibling}function Wj(at,zs,Ws){var qs=at.tag;if(qs===5||qs===6)at=at.stateNode,zs?Ws.insertBefore(at,zs):Ws.appendChild(at);else if(qs!==4&&(at=at.child,at!==null))for(Wj(at,zs,Ws),at=at.sibling;at!==null;)Wj(at,zs,Ws),at=at.sibling}var X$7=null,Xj=!1;function Yj(at,zs,Ws){for(Ws=Ws.child;Ws!==null;)Zj(at,zs,Ws),Ws=Ws.sibling}function Zj(at,zs,Ws){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,Ws)}catch{}switch(Ws.tag){case 5:U$4||Lj(Ws,zs);case 6:var qs=X$7,Ys=Xj;X$7=null,Yj(at,zs,Ws),X$7=qs,Xj=Ys,X$7!==null&&(Xj?(at=X$7,Ws=Ws.stateNode,at.nodeType===8?at.parentNode.removeChild(Ws):at.removeChild(Ws)):X$7.removeChild(Ws.stateNode));break;case 18:X$7!==null&&(Xj?(at=X$7,Ws=Ws.stateNode,at.nodeType===8?Kf$1(at.parentNode,Ws):at.nodeType===1&&Kf$1(at,Ws),bd(at)):Kf$1(X$7,Ws.stateNode));break;case 4:qs=X$7,Ys=Xj,X$7=Ws.stateNode.containerInfo,Xj=!0,Yj(at,zs,Ws),X$7=qs,Xj=Ys;break;case 0:case 11:case 14:case 15:if(!U$4&&(qs=Ws.updateQueue,qs!==null&&(qs=qs.lastEffect,qs!==null))){Ys=qs=qs.next;do{var Xs=Ys,Zs=Xs.destroy;Xs=Xs.tag,Zs!==void 0&&(Xs&2||Xs&4)&&Mj(Ws,zs,Zs),Ys=Ys.next}while(Ys!==qs)}Yj(at,zs,Ws);break;case 1:if(!U$4&&(Lj(Ws,zs),qs=Ws.stateNode,typeof qs.componentWillUnmount=="function"))try{qs.props=Ws.memoizedProps,qs.state=Ws.memoizedState,qs.componentWillUnmount()}catch(yl){W$7(Ws,zs,yl)}Yj(at,zs,Ws);break;case 21:Yj(at,zs,Ws);break;case 22:Ws.mode&1?(U$4=(qs=U$4)||Ws.memoizedState!==null,Yj(at,zs,Ws),U$4=qs):Yj(at,zs,Ws);break;default:Yj(at,zs,Ws)}}function ak(at){var zs=at.updateQueue;if(zs!==null){at.updateQueue=null;var Ws=at.stateNode;Ws===null&&(Ws=at.stateNode=new Kj),zs.forEach(function(qs){var Ys=bk.bind(null,at,qs);Ws.has(qs)||(Ws.add(qs),qs.then(Ys,Ys))})}}function ck(at,zs){var Ws=zs.deletions;if(Ws!==null)for(var qs=0;qs<Ws.length;qs++){var Ys=Ws[qs];try{var Xs=at,Zs=zs,yl=Zs;e:for(;yl!==null;){switch(yl.tag){case 5:X$7=yl.stateNode,Xj=!1;break e;case 3:X$7=yl.stateNode.containerInfo,Xj=!0;break e;case 4:X$7=yl.stateNode.containerInfo,Xj=!0;break e}yl=yl.return}if(X$7===null)throw Error(p$b(160));Zj(Xs,Zs,Ys),X$7=null,Xj=!1;var Js=Ys.alternate;Js!==null&&(Js.return=null),Ys.return=null}catch($l){W$7(Ys,zs,$l)}}if(zs.subtreeFlags&12854)for(zs=zs.child;zs!==null;)dk(zs,at),zs=zs.sibling}function dk(at,zs){var Ws=at.alternate,qs=at.flags;switch(at.tag){case 0:case 11:case 14:case 15:if(ck(zs,at),ek(at),qs&4){try{Pj(3,at,at.return),Qj(3,at)}catch(Il){W$7(at,at.return,Il)}try{Pj(5,at,at.return)}catch(Il){W$7(at,at.return,Il)}}break;case 1:ck(zs,at),ek(at),qs&512&&Ws!==null&&Lj(Ws,Ws.return);break;case 5:if(ck(zs,at),ek(at),qs&512&&Ws!==null&&Lj(Ws,Ws.return),at.flags&32){var Ys=at.stateNode;try{ob(Ys,"")}catch(Il){W$7(at,at.return,Il)}}if(qs&4&&(Ys=at.stateNode,Ys!=null)){var Xs=at.memoizedProps,Zs=Ws!==null?Ws.memoizedProps:Xs,yl=at.type,Js=at.updateQueue;if(at.updateQueue=null,Js!==null)try{yl==="input"&&Xs.type==="radio"&&Xs.name!=null&&ab(Ys,Xs),vb(yl,Zs);var $l=vb(yl,Xs);for(Zs=0;Zs<Js.length;Zs+=2){var El=Js[Zs],wl=Js[Zs+1];El==="style"?sb(Ys,wl):El==="dangerouslySetInnerHTML"?nb(Ys,wl):El==="children"?ob(Ys,wl):ta$2(Ys,El,wl,$l)}switch(yl){case"input":bb(Ys,Xs);break;case"textarea":ib(Ys,Xs);break;case"select":var _l=Ys._wrapperState.wasMultiple;Ys._wrapperState.wasMultiple=!!Xs.multiple;var Sl=Xs.value;Sl!=null?fb(Ys,!!Xs.multiple,Sl,!1):_l!==!!Xs.multiple&&(Xs.defaultValue!=null?fb(Ys,!!Xs.multiple,Xs.defaultValue,!0):fb(Ys,!!Xs.multiple,Xs.multiple?[]:"",!1))}Ys[Pf$1]=Xs}catch(Il){W$7(at,at.return,Il)}}break;case 6:if(ck(zs,at),ek(at),qs&4){if(at.stateNode===null)throw Error(p$b(162));Ys=at.stateNode,Xs=at.memoizedProps;try{Ys.nodeValue=Xs}catch(Il){W$7(at,at.return,Il)}}break;case 3:if(ck(zs,at),ek(at),qs&4&&Ws!==null&&Ws.memoizedState.isDehydrated)try{bd(zs.containerInfo)}catch(Il){W$7(at,at.return,Il)}break;case 4:ck(zs,at),ek(at);break;case 13:ck(zs,at),ek(at),Ys=at.child,Ys.flags&8192&&(Xs=Ys.memoizedState!==null,Ys.stateNode.isHidden=Xs,!Xs||Ys.alternate!==null&&Ys.alternate.memoizedState!==null||(fk=B$1())),qs&4&&ak(at);break;case 22:if(El=Ws!==null&&Ws.memoizedState!==null,at.mode&1?(U$4=($l=U$4)||El,ck(zs,at),U$4=$l):ck(zs,at),ek(at),qs&8192){if($l=at.memoizedState!==null,(at.stateNode.isHidden=$l)&&!El&&at.mode&1)for(V$6=at,El=at.child;El!==null;){for(wl=V$6=El;V$6!==null;){switch(_l=V$6,Sl=_l.child,_l.tag){case 0:case 11:case 14:case 15:Pj(4,_l,_l.return);break;case 1:Lj(_l,_l.return);var Tl=_l.stateNode;if(typeof Tl.componentWillUnmount=="function"){qs=_l,Ws=_l.return;try{zs=qs,Tl.props=zs.memoizedProps,Tl.state=zs.memoizedState,Tl.componentWillUnmount()}catch(Il){W$7(qs,Ws,Il)}}break;case 5:Lj(_l,_l.return);break;case 22:if(_l.memoizedState!==null){gk(wl);continue}}Sl!==null?(Sl.return=_l,V$6=Sl):gk(wl)}El=El.sibling}e:for(El=null,wl=at;;){if(wl.tag===5){if(El===null){El=wl;try{Ys=wl.stateNode,$l?(Xs=Ys.style,typeof Xs.setProperty=="function"?Xs.setProperty("display","none","important"):Xs.display="none"):(yl=wl.stateNode,Js=wl.memoizedProps.style,Zs=Js!=null&&Js.hasOwnProperty("display")?Js.display:null,yl.style.display=rb("display",Zs))}catch(Il){W$7(at,at.return,Il)}}}else if(wl.tag===6){if(El===null)try{wl.stateNode.nodeValue=$l?"":wl.memoizedProps}catch(Il){W$7(at,at.return,Il)}}else if((wl.tag!==22&&wl.tag!==23||wl.memoizedState===null||wl===at)&&wl.child!==null){wl.child.return=wl,wl=wl.child;continue}if(wl===at)break e;for(;wl.sibling===null;){if(wl.return===null||wl.return===at)break e;El===wl&&(El=null),wl=wl.return}El===wl&&(El=null),wl.sibling.return=wl.return,wl=wl.sibling}}break;case 19:ck(zs,at),ek(at),qs&4&&ak(at);break;case 21:break;default:ck(zs,at),ek(at)}}function ek(at){var zs=at.flags;if(zs&2){try{e:{for(var Ws=at.return;Ws!==null;){if(Tj(Ws)){var qs=Ws;break e}Ws=Ws.return}throw Error(p$b(160))}switch(qs.tag){case 5:var Ys=qs.stateNode;qs.flags&32&&(ob(Ys,""),qs.flags&=-33);var Xs=Uj(at);Wj(at,Xs,Ys);break;case 3:case 4:var Zs=qs.stateNode.containerInfo,yl=Uj(at);Vj(at,yl,Zs);break;default:throw Error(p$b(161))}}catch(Js){W$7(at,at.return,Js)}at.flags&=-3}zs&4096&&(at.flags&=-4097)}function hk(at,zs,Ws){V$6=at,ik(at)}function ik(at,zs,Ws){for(var qs=(at.mode&1)!==0;V$6!==null;){var Ys=V$6,Xs=Ys.child;if(Ys.tag===22&&qs){var Zs=Ys.memoizedState!==null||Jj;if(!Zs){var yl=Ys.alternate,Js=yl!==null&&yl.memoizedState!==null||U$4;yl=Jj;var $l=U$4;if(Jj=Zs,(U$4=Js)&&!$l)for(V$6=Ys;V$6!==null;)Zs=V$6,Js=Zs.child,Zs.tag===22&&Zs.memoizedState!==null?jk(Ys):Js!==null?(Js.return=Zs,V$6=Js):jk(Ys);for(;Xs!==null;)V$6=Xs,ik(Xs),Xs=Xs.sibling;V$6=Ys,Jj=yl,U$4=$l}kk(at)}else Ys.subtreeFlags&8772&&Xs!==null?(Xs.return=Ys,V$6=Xs):kk(at)}}function kk(at){for(;V$6!==null;){var zs=V$6;if(zs.flags&8772){var Ws=zs.alternate;try{if(zs.flags&8772)switch(zs.tag){case 0:case 11:case 15:U$4||Qj(5,zs);break;case 1:var qs=zs.stateNode;if(zs.flags&4&&!U$4)if(Ws===null)qs.componentDidMount();else{var Ys=zs.elementType===zs.type?Ws.memoizedProps:Ci$2(zs.type,Ws.memoizedProps);qs.componentDidUpdate(Ys,Ws.memoizedState,qs.__reactInternalSnapshotBeforeUpdate)}var Xs=zs.updateQueue;Xs!==null&&sh(zs,Xs,qs);break;case 3:var Zs=zs.updateQueue;if(Zs!==null){if(Ws=null,zs.child!==null)switch(zs.child.tag){case 5:Ws=zs.child.stateNode;break;case 1:Ws=zs.child.stateNode}sh(zs,Zs,Ws)}break;case 5:var yl=zs.stateNode;if(Ws===null&&zs.flags&4){Ws=yl;var Js=zs.memoizedProps;switch(zs.type){case"button":case"input":case"select":case"textarea":Js.autoFocus&&Ws.focus();break;case"img":Js.src&&(Ws.src=Js.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(zs.memoizedState===null){var $l=zs.alternate;if($l!==null){var El=$l.memoizedState;if(El!==null){var wl=El.dehydrated;wl!==null&&bd(wl)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$b(163))}U$4||zs.flags&512&&Rj(zs)}catch(_l){W$7(zs,zs.return,_l)}}if(zs===at){V$6=null;break}if(Ws=zs.sibling,Ws!==null){Ws.return=zs.return,V$6=Ws;break}V$6=zs.return}}function gk(at){for(;V$6!==null;){var zs=V$6;if(zs===at){V$6=null;break}var Ws=zs.sibling;if(Ws!==null){Ws.return=zs.return,V$6=Ws;break}V$6=zs.return}}function jk(at){for(;V$6!==null;){var zs=V$6;try{switch(zs.tag){case 0:case 11:case 15:var Ws=zs.return;try{Qj(4,zs)}catch(Js){W$7(zs,Ws,Js)}break;case 1:var qs=zs.stateNode;if(typeof qs.componentDidMount=="function"){var Ys=zs.return;try{qs.componentDidMount()}catch(Js){W$7(zs,Ys,Js)}}var Xs=zs.return;try{Rj(zs)}catch(Js){W$7(zs,Xs,Js)}break;case 5:var Zs=zs.return;try{Rj(zs)}catch(Js){W$7(zs,Zs,Js)}}}catch(Js){W$7(zs,zs.return,Js)}if(zs===at){V$6=null;break}var yl=zs.sibling;if(yl!==null){yl.return=zs.return,V$6=yl;break}V$6=zs.return}}var lk=Math.ceil,mk=ua$2.ReactCurrentDispatcher,nk=ua$2.ReactCurrentOwner,ok=ua$2.ReactCurrentBatchConfig,K$8=0,Q$5=null,Y$3=null,Z$2=0,fj=0,ej=Uf$1(0),T$7=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$2=!1,Pi$2=null,Ri$2=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$5(){return K$8&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi$1(at){return at.mode&1?K$8&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(at=C$9,at!==0||(at=window.event,at=at===void 0?16:jd(at.type)),at):1}function gi$1(at,zs,Ws,qs){if(50<yk)throw yk=0,zk=null,Error(p$b(185));Ac$1(at,Ws,qs),(!(K$8&2)||at!==Q$5)&&(at===Q$5&&(!(K$8&2)&&(qk|=Ws),T$7===4&&Ck(at,Z$2)),Dk(at,qs),Ws===1&&K$8===0&&!(zs.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(at,zs){var Ws=at.callbackNode;wc$1(at,zs);var qs=uc$1(at,at===Q$5?Z$2:0);if(qs===0)Ws!==null&&bc$1(Ws),at.callbackNode=null,at.callbackPriority=0;else if(zs=qs&-qs,at.callbackPriority!==zs){if(Ws!=null&&bc$1(Ws),zs===1)at.tag===0?ig(Ek.bind(null,at)):hg(Ek.bind(null,at)),Jf$1(function(){!(K$8&6)&&jg()}),Ws=null;else{switch(Dc$1(qs)){case 1:Ws=fc$1;break;case 4:Ws=gc$1;break;case 16:Ws=hc$1;break;case 536870912:Ws=jc$1;break;default:Ws=hc$1}Ws=Fk(Ws,Gk.bind(null,at))}at.callbackPriority=zs,at.callbackNode=Ws}}function Gk(at,zs){if(Ak=-1,Bk=0,K$8&6)throw Error(p$b(327));var Ws=at.callbackNode;if(Hk()&&at.callbackNode!==Ws)return null;var qs=uc$1(at,at===Q$5?Z$2:0);if(qs===0)return null;if(qs&30||qs&at.expiredLanes||zs)zs=Ik(at,qs);else{zs=qs;var Ys=K$8;K$8|=2;var Xs=Jk();(Q$5!==at||Z$2!==zs)&&(uk=null,Gj=B$1()+500,Kk(at,zs));do try{Lk();break}catch(yl){Mk(at,yl)}while(!0);$g(),mk.current=Xs,K$8=Ys,Y$3!==null?zs=0:(Q$5=null,Z$2=0,zs=T$7)}if(zs!==0){if(zs===2&&(Ys=xc$1(at),Ys!==0&&(qs=Ys,zs=Nk(at,Ys))),zs===1)throw Ws=pk,Kk(at,0),Ck(at,qs),Dk(at,B$1()),Ws;if(zs===6)Ck(at,qs);else{if(Ys=at.current.alternate,!(qs&30)&&!Ok(Ys)&&(zs=Ik(at,qs),zs===2&&(Xs=xc$1(at),Xs!==0&&(qs=Xs,zs=Nk(at,Xs))),zs===1))throw Ws=pk,Kk(at,0),Ck(at,qs),Dk(at,B$1()),Ws;switch(at.finishedWork=Ys,at.finishedLanes=qs,zs){case 0:case 1:throw Error(p$b(345));case 2:Pk(at,tk,uk);break;case 3:if(Ck(at,qs),(qs&130023424)===qs&&(zs=fk+500-B$1(),10<zs)){if(uc$1(at,0)!==0)break;if(Ys=at.suspendedLanes,(Ys&qs)!==qs){R$5(),at.pingedLanes|=at.suspendedLanes&Ys;break}at.timeoutHandle=Ff$1(Pk.bind(null,at,tk,uk),zs);break}Pk(at,tk,uk);break;case 4:if(Ck(at,qs),(qs&4194240)===qs)break;for(zs=at.eventTimes,Ys=-1;0<qs;){var Zs=31-oc$1(qs);Xs=1<<Zs,Zs=zs[Zs],Zs>Ys&&(Ys=Zs),qs&=~Xs}if(qs=Ys,qs=B$1()-qs,qs=(120>qs?120:480>qs?480:1080>qs?1080:1920>qs?1920:3e3>qs?3e3:4320>qs?4320:1960*lk(qs/1960))-qs,10<qs){at.timeoutHandle=Ff$1(Pk.bind(null,at,tk,uk),qs);break}Pk(at,tk,uk);break;case 5:Pk(at,tk,uk);break;default:throw Error(p$b(329))}}}return Dk(at,B$1()),at.callbackNode===Ws?Gk.bind(null,at):null}function Nk(at,zs){var Ws=sk;return at.current.memoizedState.isDehydrated&&(Kk(at,zs).flags|=256),at=Ik(at,zs),at!==2&&(zs=tk,tk=Ws,zs!==null&&Fj(zs)),at}function Fj(at){tk===null?tk=at:tk.push.apply(tk,at)}function Ok(at){for(var zs=at;;){if(zs.flags&16384){var Ws=zs.updateQueue;if(Ws!==null&&(Ws=Ws.stores,Ws!==null))for(var qs=0;qs<Ws.length;qs++){var Ys=Ws[qs],Xs=Ys.getSnapshot;Ys=Ys.value;try{if(!He$5(Xs(),Ys))return!1}catch{return!1}}}if(Ws=zs.child,zs.subtreeFlags&16384&&Ws!==null)Ws.return=zs,zs=Ws;else{if(zs===at)break;for(;zs.sibling===null;){if(zs.return===null||zs.return===at)return!0;zs=zs.return}zs.sibling.return=zs.return,zs=zs.sibling}}return!0}function Ck(at,zs){for(zs&=~rk,zs&=~qk,at.suspendedLanes|=zs,at.pingedLanes&=~zs,at=at.expirationTimes;0<zs;){var Ws=31-oc$1(zs),qs=1<<Ws;at[Ws]=-1,zs&=~qs}}function Ek(at){if(K$8&6)throw Error(p$b(327));Hk();var zs=uc$1(at,0);if(!(zs&1))return Dk(at,B$1()),null;var Ws=Ik(at,zs);if(at.tag!==0&&Ws===2){var qs=xc$1(at);qs!==0&&(zs=qs,Ws=Nk(at,qs))}if(Ws===1)throw Ws=pk,Kk(at,0),Ck(at,zs),Dk(at,B$1()),Ws;if(Ws===6)throw Error(p$b(345));return at.finishedWork=at.current.alternate,at.finishedLanes=zs,Pk(at,tk,uk),Dk(at,B$1()),null}function Qk(at,zs){var Ws=K$8;K$8|=1;try{return at(zs)}finally{K$8=Ws,K$8===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(at){wk!==null&&wk.tag===0&&!(K$8&6)&&Hk();var zs=K$8;K$8|=1;var Ws=ok.transition,qs=C$9;try{if(ok.transition=null,C$9=1,at)return at()}finally{C$9=qs,ok.transition=Ws,K$8=zs,!(K$8&6)&&jg()}}function Hj(){fj=ej.current,E$7(ej)}function Kk(at,zs){at.finishedWork=null,at.finishedLanes=0;var Ws=at.timeoutHandle;if(Ws!==-1&&(at.timeoutHandle=-1,Gf$1(Ws)),Y$3!==null)for(Ws=Y$3.return;Ws!==null;){var qs=Ws;switch(wg(qs),qs.tag){case 1:qs=qs.type.childContextTypes,qs!=null&&$f$1();break;case 3:zh(),E$7(Wf$1),E$7(H$6),Eh();break;case 5:Bh(qs);break;case 4:zh();break;case 13:E$7(L$5);break;case 19:E$7(L$5);break;case 10:ah(qs.type._context);break;case 22:case 23:Hj()}Ws=Ws.return}if(Q$5=at,Y$3=at=Pg(at.current,null),Z$2=fj=zs,T$7=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(zs=0;zs<fh.length;zs++)if(Ws=fh[zs],qs=Ws.interleaved,qs!==null){Ws.interleaved=null;var Ys=qs.next,Xs=Ws.pending;if(Xs!==null){var Zs=Xs.next;Xs.next=Ys,qs.next=Zs}Ws.pending=qs}fh=null}return at}function Mk(at,zs){do{var Ws=Y$3;try{if($g(),Fh.current=Rh,Ih){for(var qs=M$8.memoizedState;qs!==null;){var Ys=qs.queue;Ys!==null&&(Ys.pending=null),qs=qs.next}Ih=!1}if(Hh=0,O$6=N$7=M$8=null,Jh=!1,Kh=0,nk.current=null,Ws===null||Ws.return===null){T$7=1,pk=zs,Y$3=null;break}e:{var Xs=at,Zs=Ws.return,yl=Ws,Js=zs;if(zs=Z$2,yl.flags|=32768,Js!==null&&typeof Js=="object"&&typeof Js.then=="function"){var $l=Js,El=yl,wl=El.tag;if(!(El.mode&1)&&(wl===0||wl===11||wl===15)){var _l=El.alternate;_l?(El.updateQueue=_l.updateQueue,El.memoizedState=_l.memoizedState,El.lanes=_l.lanes):(El.updateQueue=null,El.memoizedState=null)}var Sl=Ui$2(Zs);if(Sl!==null){Sl.flags&=-257,Vi$2(Sl,Zs,yl,Xs,zs),Sl.mode&1&&Si$2(Xs,$l,zs),zs=Sl,Js=$l;var Tl=zs.updateQueue;if(Tl===null){var Il=new Set;Il.add(Js),zs.updateQueue=Il}else Tl.add(Js);break e}else{if(!(zs&1)){Si$2(Xs,$l,zs),tj();break e}Js=Error(p$b(426))}}else if(I$6&&yl.mode&1){var Al=Ui$2(Zs);if(Al!==null){!(Al.flags&65536)&&(Al.flags|=256),Vi$2(Al,Zs,yl,Xs,zs),Jg(Ji$1(Js,yl));break e}}Xs=Js=Ji$1(Js,yl),T$7!==4&&(T$7=2),sk===null?sk=[Xs]:sk.push(Xs),Xs=Zs;do{switch(Xs.tag){case 3:Xs.flags|=65536,zs&=-zs,Xs.lanes|=zs;var xl=Ni$2(Xs,Js,zs);ph(Xs,xl);break e;case 1:yl=Js;var Pl=Xs.type,Cl=Xs.stateNode;if(!(Xs.flags&128)&&(typeof Pl.getDerivedStateFromError=="function"||Cl!==null&&typeof Cl.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(Cl)))){Xs.flags|=65536,zs&=-zs,Xs.lanes|=zs;var Rl=Qi$1(Xs,yl,zs);ph(Xs,Rl);break e}}Xs=Xs.return}while(Xs!==null)}Sk(Ws)}catch(Ol){zs=Ol,Y$3===Ws&&Ws!==null&&(Y$3=Ws=Ws.return);continue}break}while(!0)}function Jk(){var at=mk.current;return mk.current=Rh,at===null?Rh:at}function tj(){(T$7===0||T$7===3||T$7===2)&&(T$7=4),Q$5===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$5,Z$2)}function Ik(at,zs){var Ws=K$8;K$8|=2;var qs=Jk();(Q$5!==at||Z$2!==zs)&&(uk=null,Kk(at,zs));do try{Tk();break}catch(Ys){Mk(at,Ys)}while(!0);if($g(),K$8=Ws,mk.current=qs,Y$3!==null)throw Error(p$b(261));return Q$5=null,Z$2=0,T$7}function Tk(){for(;Y$3!==null;)Uk(Y$3)}function Lk(){for(;Y$3!==null&&!cc$1();)Uk(Y$3)}function Uk(at){var zs=Vk(at.alternate,at,fj);at.memoizedProps=at.pendingProps,zs===null?Sk(at):Y$3=zs,nk.current=null}function Sk(at){var zs=at;do{var Ws=zs.alternate;if(at=zs.return,zs.flags&32768){if(Ws=Ij(Ws,zs),Ws!==null){Ws.flags&=32767,Y$3=Ws;return}if(at!==null)at.flags|=32768,at.subtreeFlags=0,at.deletions=null;else{T$7=6,Y$3=null;return}}else if(Ws=Ej(Ws,zs,fj),Ws!==null){Y$3=Ws;return}if(zs=zs.sibling,zs!==null){Y$3=zs;return}Y$3=zs=at}while(zs!==null);T$7===0&&(T$7=5)}function Pk(at,zs,Ws){var qs=C$9,Ys=ok.transition;try{ok.transition=null,C$9=1,Wk(at,zs,Ws,qs)}finally{ok.transition=Ys,C$9=qs}return null}function Wk(at,zs,Ws,qs){do Hk();while(wk!==null);if(K$8&6)throw Error(p$b(327));Ws=at.finishedWork;var Ys=at.finishedLanes;if(Ws===null)return null;if(at.finishedWork=null,at.finishedLanes=0,Ws===at.current)throw Error(p$b(177));at.callbackNode=null,at.callbackPriority=0;var Xs=Ws.lanes|Ws.childLanes;if(Bc$1(at,Xs),at===Q$5&&(Y$3=Q$5=null,Z$2=0),!(Ws.subtreeFlags&2064)&&!(Ws.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),Xs=(Ws.flags&15990)!==0,Ws.subtreeFlags&15990||Xs){Xs=ok.transition,ok.transition=null;var Zs=C$9;C$9=1;var yl=K$8;K$8|=4,nk.current=null,Oj(at,Ws),dk(Ws,at),Oe$4(Df$1),dd=!!Cf$1,Df$1=Cf$1=null,at.current=Ws,hk(Ws),dc$1(),K$8=yl,C$9=Zs,ok.transition=Xs}else at.current=Ws;if(vk&&(vk=!1,wk=at,xk=Ys),Xs=at.pendingLanes,Xs===0&&(Ri$2=null),mc$1(Ws.stateNode),Dk(at,B$1()),zs!==null)for(qs=at.onRecoverableError,Ws=0;Ws<zs.length;Ws++)Ys=zs[Ws],qs(Ys.value,{componentStack:Ys.stack,digest:Ys.digest});if(Oi$2)throw Oi$2=!1,at=Pi$2,Pi$2=null,at;return xk&1&&at.tag!==0&&Hk(),Xs=at.pendingLanes,Xs&1?at===zk?yk++:(yk=0,zk=at):yk=0,jg(),null}function Hk(){if(wk!==null){var at=Dc$1(xk),zs=ok.transition,Ws=C$9;try{if(ok.transition=null,C$9=16>at?16:at,wk===null)var qs=!1;else{if(at=wk,wk=null,xk=0,K$8&6)throw Error(p$b(331));var Ys=K$8;for(K$8|=4,V$6=at.current;V$6!==null;){var Xs=V$6,Zs=Xs.child;if(V$6.flags&16){var yl=Xs.deletions;if(yl!==null){for(var Js=0;Js<yl.length;Js++){var $l=yl[Js];for(V$6=$l;V$6!==null;){var El=V$6;switch(El.tag){case 0:case 11:case 15:Pj(8,El,Xs)}var wl=El.child;if(wl!==null)wl.return=El,V$6=wl;else for(;V$6!==null;){El=V$6;var _l=El.sibling,Sl=El.return;if(Sj(El),El===$l){V$6=null;break}if(_l!==null){_l.return=Sl,V$6=_l;break}V$6=Sl}}}var Tl=Xs.alternate;if(Tl!==null){var Il=Tl.child;if(Il!==null){Tl.child=null;do{var Al=Il.sibling;Il.sibling=null,Il=Al}while(Il!==null)}}V$6=Xs}}if(Xs.subtreeFlags&2064&&Zs!==null)Zs.return=Xs,V$6=Zs;else e:for(;V$6!==null;){if(Xs=V$6,Xs.flags&2048)switch(Xs.tag){case 0:case 11:case 15:Pj(9,Xs,Xs.return)}var xl=Xs.sibling;if(xl!==null){xl.return=Xs.return,V$6=xl;break e}V$6=Xs.return}}var Pl=at.current;for(V$6=Pl;V$6!==null;){Zs=V$6;var Cl=Zs.child;if(Zs.subtreeFlags&2064&&Cl!==null)Cl.return=Zs,V$6=Cl;else e:for(Zs=Pl;V$6!==null;){if(yl=V$6,yl.flags&2048)try{switch(yl.tag){case 0:case 11:case 15:Qj(9,yl)}}catch(Ol){W$7(yl,yl.return,Ol)}if(yl===Zs){V$6=null;break e}var Rl=yl.sibling;if(Rl!==null){Rl.return=yl.return,V$6=Rl;break e}V$6=yl.return}}if(K$8=Ys,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,at)}catch{}qs=!0}return qs}finally{C$9=Ws,ok.transition=zs}}return!1}function Xk(at,zs,Ws){zs=Ji$1(Ws,zs),zs=Ni$2(at,zs,1),at=nh(at,zs,1),zs=R$5(),at!==null&&(Ac$1(at,1,zs),Dk(at,zs))}function W$7(at,zs,Ws){if(at.tag===3)Xk(at,at,Ws);else for(;zs!==null;){if(zs.tag===3){Xk(zs,at,Ws);break}else if(zs.tag===1){var qs=zs.stateNode;if(typeof zs.type.getDerivedStateFromError=="function"||typeof qs.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(qs))){at=Ji$1(Ws,at),at=Qi$1(zs,at,1),zs=nh(zs,at,1),at=R$5(),zs!==null&&(Ac$1(zs,1,at),Dk(zs,at));break}}zs=zs.return}}function Ti$2(at,zs,Ws){var qs=at.pingCache;qs!==null&&qs.delete(zs),zs=R$5(),at.pingedLanes|=at.suspendedLanes&Ws,Q$5===at&&(Z$2&Ws)===Ws&&(T$7===4||T$7===3&&(Z$2&130023424)===Z$2&&500>B$1()-fk?Kk(at,0):rk|=Ws),Dk(at,zs)}function Yk(at,zs){zs===0&&(at.mode&1?(zs=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):zs=1);var Ws=R$5();at=ih(at,zs),at!==null&&(Ac$1(at,zs,Ws),Dk(at,Ws))}function uj(at){var zs=at.memoizedState,Ws=0;zs!==null&&(Ws=zs.retryLane),Yk(at,Ws)}function bk(at,zs){var Ws=0;switch(at.tag){case 13:var qs=at.stateNode,Ys=at.memoizedState;Ys!==null&&(Ws=Ys.retryLane);break;case 19:qs=at.stateNode;break;default:throw Error(p$b(314))}qs!==null&&qs.delete(zs),Yk(at,Ws)}var Vk;Vk=function(at,zs,Ws){if(at!==null)if(at.memoizedProps!==zs.pendingProps||Wf$1.current)dh=!0;else{if(!(at.lanes&Ws)&&!(zs.flags&128))return dh=!1,yj(at,zs,Ws);dh=!!(at.flags&131072)}else dh=!1,I$6&&zs.flags&1048576&&ug(zs,ng,zs.index);switch(zs.lanes=0,zs.tag){case 2:var qs=zs.type;ij(at,zs),at=zs.pendingProps;var Ys=Yf$1(zs,H$6.current);ch$1(zs,Ws),Ys=Nh(null,zs,qs,at,Ys,Ws);var Xs=Sh();return zs.flags|=1,typeof Ys=="object"&&Ys!==null&&typeof Ys.render=="function"&&Ys.$$typeof===void 0?(zs.tag=1,zs.memoizedState=null,zs.updateQueue=null,Zf(qs)?(Xs=!0,cg(zs)):Xs=!1,zs.memoizedState=Ys.state!==null&&Ys.state!==void 0?Ys.state:null,kh(zs),Ys.updater=Ei$1,zs.stateNode=Ys,Ys._reactInternals=zs,Ii$1(zs,qs,at,Ws),zs=jj(null,zs,qs,!0,Xs,Ws)):(zs.tag=0,I$6&&Xs&&vg(zs),Xi$1(null,zs,Ys,Ws),zs=zs.child),zs;case 16:qs=zs.elementType;e:{switch(ij(at,zs),at=zs.pendingProps,Ys=qs._init,qs=Ys(qs._payload),zs.type=qs,Ys=zs.tag=Zk(qs),at=Ci$2(qs,at),Ys){case 0:zs=cj(null,zs,qs,at,Ws);break e;case 1:zs=hj(null,zs,qs,at,Ws);break e;case 11:zs=Yi$1(null,zs,qs,at,Ws);break e;case 14:zs=$i$2(null,zs,qs,Ci$2(qs.type,at),Ws);break e}throw Error(p$b(306,qs,""))}return zs;case 0:return qs=zs.type,Ys=zs.pendingProps,Ys=zs.elementType===qs?Ys:Ci$2(qs,Ys),cj(at,zs,qs,Ys,Ws);case 1:return qs=zs.type,Ys=zs.pendingProps,Ys=zs.elementType===qs?Ys:Ci$2(qs,Ys),hj(at,zs,qs,Ys,Ws);case 3:e:{if(kj(zs),at===null)throw Error(p$b(387));qs=zs.pendingProps,Xs=zs.memoizedState,Ys=Xs.element,lh(at,zs),qh(zs,qs,null,Ws);var Zs=zs.memoizedState;if(qs=Zs.element,Xs.isDehydrated)if(Xs={element:qs,isDehydrated:!1,cache:Zs.cache,pendingSuspenseBoundaries:Zs.pendingSuspenseBoundaries,transitions:Zs.transitions},zs.updateQueue.baseState=Xs,zs.memoizedState=Xs,zs.flags&256){Ys=Ji$1(Error(p$b(423)),zs),zs=lj(at,zs,qs,Ws,Ys);break e}else if(qs!==Ys){Ys=Ji$1(Error(p$b(424)),zs),zs=lj(at,zs,qs,Ws,Ys);break e}else for(yg=Lf$1(zs.stateNode.containerInfo.firstChild),xg=zs,I$6=!0,zg=null,Ws=Vg(zs,null,qs,Ws),zs.child=Ws;Ws;)Ws.flags=Ws.flags&-3|4096,Ws=Ws.sibling;else{if(Ig(),qs===Ys){zs=Zi$1(at,zs,Ws);break e}Xi$1(at,zs,qs,Ws)}zs=zs.child}return zs;case 5:return Ah(zs),at===null&&Eg(zs),qs=zs.type,Ys=zs.pendingProps,Xs=at!==null?at.memoizedProps:null,Zs=Ys.children,Ef$1(qs,Ys)?Zs=null:Xs!==null&&Ef$1(qs,Xs)&&(zs.flags|=32),gj(at,zs),Xi$1(at,zs,Zs,Ws),zs.child;case 6:return at===null&&Eg(zs),null;case 13:return oj(at,zs,Ws);case 4:return yh(zs,zs.stateNode.containerInfo),qs=zs.pendingProps,at===null?zs.child=Ug(zs,null,qs,Ws):Xi$1(at,zs,qs,Ws),zs.child;case 11:return qs=zs.type,Ys=zs.pendingProps,Ys=zs.elementType===qs?Ys:Ci$2(qs,Ys),Yi$1(at,zs,qs,Ys,Ws);case 7:return Xi$1(at,zs,zs.pendingProps,Ws),zs.child;case 8:return Xi$1(at,zs,zs.pendingProps.children,Ws),zs.child;case 12:return Xi$1(at,zs,zs.pendingProps.children,Ws),zs.child;case 10:e:{if(qs=zs.type._context,Ys=zs.pendingProps,Xs=zs.memoizedProps,Zs=Ys.value,G$6(Wg,qs._currentValue),qs._currentValue=Zs,Xs!==null)if(He$5(Xs.value,Zs)){if(Xs.children===Ys.children&&!Wf$1.current){zs=Zi$1(at,zs,Ws);break e}}else for(Xs=zs.child,Xs!==null&&(Xs.return=zs);Xs!==null;){var yl=Xs.dependencies;if(yl!==null){Zs=Xs.child;for(var Js=yl.firstContext;Js!==null;){if(Js.context===qs){if(Xs.tag===1){Js=mh(-1,Ws&-Ws),Js.tag=2;var $l=Xs.updateQueue;if($l!==null){$l=$l.shared;var El=$l.pending;El===null?Js.next=Js:(Js.next=El.next,El.next=Js),$l.pending=Js}}Xs.lanes|=Ws,Js=Xs.alternate,Js!==null&&(Js.lanes|=Ws),bh(Xs.return,Ws,zs),yl.lanes|=Ws;break}Js=Js.next}}else if(Xs.tag===10)Zs=Xs.type===zs.type?null:Xs.child;else if(Xs.tag===18){if(Zs=Xs.return,Zs===null)throw Error(p$b(341));Zs.lanes|=Ws,yl=Zs.alternate,yl!==null&&(yl.lanes|=Ws),bh(Zs,Ws,zs),Zs=Xs.sibling}else Zs=Xs.child;if(Zs!==null)Zs.return=Xs;else for(Zs=Xs;Zs!==null;){if(Zs===zs){Zs=null;break}if(Xs=Zs.sibling,Xs!==null){Xs.return=Zs.return,Zs=Xs;break}Zs=Zs.return}Xs=Zs}Xi$1(at,zs,Ys.children,Ws),zs=zs.child}return zs;case 9:return Ys=zs.type,qs=zs.pendingProps.children,ch$1(zs,Ws),Ys=eh(Ys),qs=qs(Ys),zs.flags|=1,Xi$1(at,zs,qs,Ws),zs.child;case 14:return qs=zs.type,Ys=Ci$2(qs,zs.pendingProps),Ys=Ci$2(qs.type,Ys),$i$2(at,zs,qs,Ys,Ws);case 15:return bj(at,zs,zs.type,zs.pendingProps,Ws);case 17:return qs=zs.type,Ys=zs.pendingProps,Ys=zs.elementType===qs?Ys:Ci$2(qs,Ys),ij(at,zs),zs.tag=1,Zf(qs)?(at=!0,cg(zs)):at=!1,ch$1(zs,Ws),Gi$2(zs,qs,Ys),Ii$1(zs,qs,Ys,Ws),jj(null,zs,qs,!0,at,Ws);case 19:return xj(at,zs,Ws);case 22:return dj(at,zs,Ws)}throw Error(p$b(156,zs.tag))};function Fk(at,zs){return ac$1(at,zs)}function $k(at,zs,Ws,qs){this.tag=at,this.key=Ws,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=zs,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=qs,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(at,zs,Ws,qs){return new $k(at,zs,Ws,qs)}function aj(at){return at=at.prototype,!(!at||!at.isReactComponent)}function Zk(at){if(typeof at=="function")return aj(at)?1:0;if(at!=null){if(at=at.$$typeof,at===Da$1)return 11;if(at===Ga)return 14}return 2}function Pg(at,zs){var Ws=at.alternate;return Ws===null?(Ws=Bg(at.tag,zs,at.key,at.mode),Ws.elementType=at.elementType,Ws.type=at.type,Ws.stateNode=at.stateNode,Ws.alternate=at,at.alternate=Ws):(Ws.pendingProps=zs,Ws.type=at.type,Ws.flags=0,Ws.subtreeFlags=0,Ws.deletions=null),Ws.flags=at.flags&14680064,Ws.childLanes=at.childLanes,Ws.lanes=at.lanes,Ws.child=at.child,Ws.memoizedProps=at.memoizedProps,Ws.memoizedState=at.memoizedState,Ws.updateQueue=at.updateQueue,zs=at.dependencies,Ws.dependencies=zs===null?null:{lanes:zs.lanes,firstContext:zs.firstContext},Ws.sibling=at.sibling,Ws.index=at.index,Ws.ref=at.ref,Ws}function Rg(at,zs,Ws,qs,Ys,Xs){var Zs=2;if(qs=at,typeof at=="function")aj(at)&&(Zs=1);else if(typeof at=="string")Zs=5;else e:switch(at){case ya$1:return Tg(Ws.children,Ys,Xs,zs);case za$1:Zs=8,Ys|=8;break;case Aa$1:return at=Bg(12,Ws,zs,Ys|2),at.elementType=Aa$1,at.lanes=Xs,at;case Ea$1:return at=Bg(13,Ws,zs,Ys),at.elementType=Ea$1,at.lanes=Xs,at;case Fa$1:return at=Bg(19,Ws,zs,Ys),at.elementType=Fa$1,at.lanes=Xs,at;case Ia$2:return pj(Ws,Ys,Xs,zs);default:if(typeof at=="object"&&at!==null)switch(at.$$typeof){case Ba$1:Zs=10;break e;case Ca$1:Zs=9;break e;case Da$1:Zs=11;break e;case Ga:Zs=14;break e;case Ha$1:Zs=16,qs=null;break e}throw Error(p$b(130,at==null?at:typeof at,""))}return zs=Bg(Zs,Ws,zs,Ys),zs.elementType=at,zs.type=qs,zs.lanes=Xs,zs}function Tg(at,zs,Ws,qs){return at=Bg(7,at,qs,zs),at.lanes=Ws,at}function pj(at,zs,Ws,qs){return at=Bg(22,at,qs,zs),at.elementType=Ia$2,at.lanes=Ws,at.stateNode={isHidden:!1},at}function Qg(at,zs,Ws){return at=Bg(6,at,null,zs),at.lanes=Ws,at}function Sg(at,zs,Ws){return zs=Bg(4,at.children!==null?at.children:[],at.key,zs),zs.lanes=Ws,zs.stateNode={containerInfo:at.containerInfo,pendingChildren:null,implementation:at.implementation},zs}function al(at,zs,Ws,qs,Ys){this.tag=zs,this.containerInfo=at,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=qs,this.onRecoverableError=Ys,this.mutableSourceEagerHydrationData=null}function bl(at,zs,Ws,qs,Ys,Xs,Zs,yl,Js){return at=new al(at,zs,Ws,yl,Js),zs===1?(zs=1,Xs===!0&&(zs|=8)):zs=0,Xs=Bg(3,null,null,zs),at.current=Xs,Xs.stateNode=at,Xs.memoizedState={element:qs,isDehydrated:Ws,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(Xs),at}function cl(at,zs,Ws){var qs=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$2,key:qs==null?null:""+qs,children:at,containerInfo:zs,implementation:Ws}}function dl(at){if(!at)return Vf$1;at=at._reactInternals;e:{if(Vb(at)!==at||at.tag!==1)throw Error(p$b(170));var zs=at;do{switch(zs.tag){case 3:zs=zs.stateNode.context;break e;case 1:if(Zf(zs.type)){zs=zs.stateNode.__reactInternalMemoizedMergedChildContext;break e}}zs=zs.return}while(zs!==null);throw Error(p$b(171))}if(at.tag===1){var Ws=at.type;if(Zf(Ws))return bg(at,Ws,zs)}return zs}function el(at,zs,Ws,qs,Ys,Xs,Zs,yl,Js){return at=bl(Ws,qs,!0,at,Ys,Xs,Zs,yl,Js),at.context=dl(null),Ws=at.current,qs=R$5(),Ys=yi$1(Ws),Xs=mh(qs,Ys),Xs.callback=zs??null,nh(Ws,Xs,Ys),at.current.lanes=Ys,Ac$1(at,Ys,qs),Dk(at,qs),at}function fl(at,zs,Ws,qs){var Ys=zs.current,Xs=R$5(),Zs=yi$1(Ys);return Ws=dl(Ws),zs.context===null?zs.context=Ws:zs.pendingContext=Ws,zs=mh(Xs,Zs),zs.payload={element:at},qs=qs===void 0?null:qs,qs!==null&&(zs.callback=qs),at=nh(Ys,zs,Zs),at!==null&&(gi$1(at,Ys,Zs,Xs),oh(at,Ys,Zs)),Zs}function gl(at){if(at=at.current,!at.child)return null;switch(at.child.tag){case 5:return at.child.stateNode;default:return at.child.stateNode}}function hl(at,zs){if(at=at.memoizedState,at!==null&&at.dehydrated!==null){var Ws=at.retryLane;at.retryLane=Ws!==0&&Ws<zs?Ws:zs}}function il(at,zs){hl(at,zs),(at=at.alternate)&&hl(at,zs)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(at){console.error(at)};function ll(at){this._internalRoot=at}ml.prototype.render=ll.prototype.render=function(at){var zs=this._internalRoot;if(zs===null)throw Error(p$b(409));fl(at,zs,null,null)},ml.prototype.unmount=ll.prototype.unmount=function(){var at=this._internalRoot;if(at!==null){this._internalRoot=null;var zs=at.containerInfo;Rk(function(){fl(null,at,null,null)}),zs[uf$1]=null}};function ml(at){this._internalRoot=at}ml.prototype.unstable_scheduleHydration=function(at){if(at){var zs=Hc$1();at={blockedOn:null,target:at,priority:zs};for(var Ws=0;Ws<Qc$1.length&&zs!==0&&zs<Qc$1[Ws].priority;Ws++);Qc$1.splice(Ws,0,at),Ws===0&&Vc$1(at)}};function nl(at){return!(!at||at.nodeType!==1&&at.nodeType!==9&&at.nodeType!==11)}function ol(at){return!(!at||at.nodeType!==1&&at.nodeType!==9&&at.nodeType!==11&&(at.nodeType!==8||at.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(at,zs,Ws,qs,Ys){if(Ys){if(typeof qs=="function"){var Xs=qs;qs=function(){var $l=gl(Zs);Xs.call($l)}}var Zs=el(zs,qs,at,0,null,!1,!1,"",pl);return at._reactRootContainer=Zs,at[uf$1]=Zs.current,sf$1(at.nodeType===8?at.parentNode:at),Rk(),Zs}for(;Ys=at.lastChild;)at.removeChild(Ys);if(typeof qs=="function"){var yl=qs;qs=function(){var $l=gl(Js);yl.call($l)}}var Js=bl(at,0,!1,null,null,!1,!1,"",pl);return at._reactRootContainer=Js,at[uf$1]=Js.current,sf$1(at.nodeType===8?at.parentNode:at),Rk(function(){fl(zs,Js,Ws,qs)}),Js}function rl(at,zs,Ws,qs,Ys){var Xs=Ws._reactRootContainer;if(Xs){var Zs=Xs;if(typeof Ys=="function"){var yl=Ys;Ys=function(){var Js=gl(Zs);yl.call(Js)}}fl(zs,Zs,at,Ys)}else Zs=ql(Ws,zs,at,Ys,qs);return gl(Zs)}Ec$1=function(at){switch(at.tag){case 3:var zs=at.stateNode;if(zs.current.memoizedState.isDehydrated){var Ws=tc$1(zs.pendingLanes);Ws!==0&&(Cc$1(zs,Ws|1),Dk(zs,B$1()),!(K$8&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var qs=ih(at,1);if(qs!==null){var Ys=R$5();gi$1(qs,at,1,Ys)}}),il(at,1)}},Fc=function(at){if(at.tag===13){var zs=ih(at,134217728);if(zs!==null){var Ws=R$5();gi$1(zs,at,134217728,Ws)}il(at,134217728)}},Gc$1=function(at){if(at.tag===13){var zs=yi$1(at),Ws=ih(at,zs);if(Ws!==null){var qs=R$5();gi$1(Ws,at,zs,qs)}il(at,zs)}},Hc$1=function(){return C$9},Ic$1=function(at,zs){var Ws=C$9;try{return C$9=at,zs()}finally{C$9=Ws}},yb=function(at,zs,Ws){switch(zs){case"input":if(bb(at,Ws),zs=Ws.name,Ws.type==="radio"&&zs!=null){for(Ws=at;Ws.parentNode;)Ws=Ws.parentNode;for(Ws=Ws.querySelectorAll("input[name="+JSON.stringify(""+zs)+'][type="radio"]'),zs=0;zs<Ws.length;zs++){var qs=Ws[zs];if(qs!==at&&qs.form===at.form){var Ys=Db(qs);if(!Ys)throw Error(p$b(90));Wa$1(qs),bb(qs,Ys)}}}break;case"textarea":ib(at,Ws);break;case"select":zs=Ws.value,zs!=null&&fb(at,!!Ws.multiple,zs,!1)}},Gb=Qk,Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$4,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(at){return at=Zb(at),at===null?null:at.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc$1=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,reactDom_production_min.createPortal=function(at,zs){var Ws=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(zs))throw Error(p$b(200));return cl(at,zs,null,Ws)},reactDom_production_min.createRoot=function(at,zs){if(!nl(at))throw Error(p$b(299));var Ws=!1,qs="",Ys=kl;return zs!=null&&(zs.unstable_strictMode===!0&&(Ws=!0),zs.identifierPrefix!==void 0&&(qs=zs.identifierPrefix),zs.onRecoverableError!==void 0&&(Ys=zs.onRecoverableError)),zs=bl(at,1,!1,null,null,Ws,!1,qs,Ys),at[uf$1]=zs.current,sf$1(at.nodeType===8?at.parentNode:at),new ll(zs)},reactDom_production_min.findDOMNode=function(at){if(at==null)return null;if(at.nodeType===1)return at;var zs=at._reactInternals;if(zs===void 0)throw typeof at.render=="function"?Error(p$b(188)):(at=Object.keys(at).join(","),Error(p$b(268,at)));return at=Zb(zs),at=at===null?null:at.stateNode,at},reactDom_production_min.flushSync=function(at){return Rk(at)},reactDom_production_min.hydrate=function(at,zs,Ws){if(!ol(zs))throw Error(p$b(200));return rl(null,at,zs,!0,Ws)},reactDom_production_min.hydrateRoot=function(at,zs,Ws){if(!nl(at))throw Error(p$b(405));var qs=Ws!=null&&Ws.hydratedSources||null,Ys=!1,Xs="",Zs=kl;if(Ws!=null&&(Ws.unstable_strictMode===!0&&(Ys=!0),Ws.identifierPrefix!==void 0&&(Xs=Ws.identifierPrefix),Ws.onRecoverableError!==void 0&&(Zs=Ws.onRecoverableError)),zs=el(zs,null,at,1,Ws??null,Ys,!1,Xs,Zs),at[uf$1]=zs.current,sf$1(at),qs)for(at=0;at<qs.length;at++)Ws=qs[at],Ys=Ws._getVersion,Ys=Ys(Ws._source),zs.mutableSourceEagerHydrationData==null?zs.mutableSourceEagerHydrationData=[Ws,Ys]:zs.mutableSourceEagerHydrationData.push(Ws,Ys);return new ml(zs)},reactDom_production_min.render=function(at,zs,Ws){if(!ol(zs))throw Error(p$b(200));return rl(null,at,zs,!1,Ws)},reactDom_production_min.unmountComponentAtNode=function(at){if(!ol(at))throw Error(p$b(40));return at._reactRootContainer?(Rk(function(){rl(null,null,at,!1,function(){at._reactRootContainer=null,at[uf$1]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Qk,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(at,zs,Ws,qs){if(!ol(Ws))throw Error(p$b(200));if(at==null||at._reactInternals===void 0)throw Error(p$b(38));return rl(at,zs,Ws,!1,qs)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(at){console.error(at)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$8=reactDomExports;client.createRoot=m$8.createRoot,client.hydrateRoot=m$8.hydrateRoot;function _arrayLikeToArray$5(at,zs){(zs==null||zs>at.length)&&(zs=at.length);for(var Ws=0,qs=Array(zs);Ws<zs;Ws++)qs[Ws]=at[Ws];return qs}function _arrayWithHoles$2(at){if(Array.isArray(at))return at}function _arrayWithoutHoles$1(at){if(Array.isArray(at))return _arrayLikeToArray$5(at)}function asyncGeneratorStep(at,zs,Ws,qs,Ys,Xs,Zs){try{var yl=at[Xs](Zs),Js=yl.value}catch($l){return void Ws($l)}yl.done?zs(Js):Promise.resolve(Js).then(qs,Ys)}function _asyncToGenerator(at){return function(){var zs=this,Ws=arguments;return new Promise(function(qs,Ys){var Xs=at.apply(zs,Ws);function Zs(Js){asyncGeneratorStep(Xs,qs,Ys,Zs,yl,"next",Js)}function yl(Js){asyncGeneratorStep(Xs,qs,Ys,Zs,yl,"throw",Js)}Zs(void 0)})}}function _createForOfIteratorHelper(at,zs){var Ws=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(!Ws){if(Array.isArray(at)||(Ws=_unsupportedIterableToArray$5(at))||zs){Ws&&(at=Ws);var qs=0,Ys=function(){};return{s:Ys,n:function(){return qs>=at.length?{done:!0}:{done:!1,value:at[qs++]}},e:function(Js){throw Js},f:Ys}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xs,Zs=!0,yl=!1;return{s:function(){Ws=Ws.call(at)},n:function(){var Js=Ws.next();return Zs=Js.done,Js},e:function(Js){yl=!0,Xs=Js},f:function(){try{Zs||Ws.return==null||Ws.return()}finally{if(yl)throw Xs}}}}function _defineProperty$6(at,zs,Ws){return(zs=_toPropertyKey$7(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function _iterableToArray$1(at){if(typeof Symbol<"u"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function _iterableToArrayLimit$2(at,zs){var Ws=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(Ws!=null){var qs,Ys,Xs,Zs,yl=[],Js=!0,$l=!1;try{if(Xs=(Ws=Ws.call(at)).next,zs===0){if(Object(Ws)!==Ws)return;Js=!1}else for(;!(Js=(qs=Xs.call(Ws)).done)&&(yl.push(qs.value),yl.length!==zs);Js=!0);}catch(El){$l=!0,Ys=El}finally{try{if(!Js&&Ws.return!=null&&(Zs=Ws.return(),Object(Zs)!==Zs))return}finally{if($l)throw Ys}}return yl}}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$6(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread2$2(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys$6(Object(Ws),!0).forEach(function(qs){_defineProperty$6(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys$6(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _objectWithoutProperties$1(at,zs){if(at==null)return{};var Ws,qs,Ys=_objectWithoutPropertiesLoose$1(at,zs);if(Object.getOwnPropertySymbols){var Xs=Object.getOwnPropertySymbols(at);for(qs=0;qs<Xs.length;qs++)Ws=Xs[qs],zs.indexOf(Ws)===-1&&{}.propertyIsEnumerable.call(at,Ws)&&(Ys[Ws]=at[Ws])}return Ys}function _objectWithoutPropertiesLoose$1(at,zs){if(at==null)return{};var Ws={};for(var qs in at)if({}.hasOwnProperty.call(at,qs)){if(zs.indexOf(qs)!==-1)continue;Ws[qs]=at[qs]}return Ws}function _regenerator(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var at,zs,Ws=typeof Symbol=="function"?Symbol:{},qs=Ws.iterator||"@@iterator",Ys=Ws.toStringTag||"@@toStringTag";function Xs(Sl,Tl,Il,Al){var xl=Tl&&Tl.prototype instanceof yl?Tl:yl,Pl=Object.create(xl.prototype);return _regeneratorDefine(Pl,"_invoke",function(Cl,Rl,Ol){var Ml,Ll,Bl,Wl=0,Yl=Ol||[],Kl=!1,Xl={p:0,n:0,v:at,a:Ul,f:Ul.bind(at,4),d:function(Vl,Nl){return Ml=Vl,Ll=0,Bl=at,Xl.n=Nl,Zs}};function Ul(Vl,Nl){for(Ll=Vl,Bl=Nl,zs=0;!Kl&&Wl&&!Dl&&zs<Yl.length;zs++){var Dl,Gl=Yl[zs],Fl=Xl.p,Hl=Gl[2];Vl>3?(Dl=Hl===Nl)&&(Bl=Gl[(Ll=Gl[4])?5:(Ll=3,3)],Gl[4]=Gl[5]=at):Gl[0]<=Fl&&((Dl=Vl<2&&Fl<Gl[1])?(Ll=0,Xl.v=Nl,Xl.n=Gl[1]):Fl<Hl&&(Dl=Vl<3||Gl[0]>Nl||Nl>Hl)&&(Gl[4]=Vl,Gl[5]=Nl,Xl.n=Hl,Ll=0))}if(Dl||Vl>1)return Zs;throw Kl=!0,Nl}return function(Vl,Nl,Dl){if(Wl>1)throw TypeError("Generator is already running");for(Kl&&Nl===1&&Ul(Nl,Dl),Ll=Nl,Bl=Dl;(zs=Ll<2?at:Bl)||!Kl;){Ml||(Ll?Ll<3?(Ll>1&&(Xl.n=-1),Ul(Ll,Bl)):Xl.n=Bl:Xl.v=Bl);try{if(Wl=2,Ml){if(Ll||(Vl="next"),zs=Ml[Vl]){if(!(zs=zs.call(Ml,Bl)))throw TypeError("iterator result is not an object");if(!zs.done)return zs;Bl=zs.value,Ll<2&&(Ll=0)}else Ll===1&&(zs=Ml.return)&&zs.call(Ml),Ll<2&&(Bl=TypeError("The iterator does not provide a '"+Vl+"' method"),Ll=1);Ml=at}else if((zs=(Kl=Xl.n<0)?Bl:Cl.call(Rl,Xl))!==Zs)break}catch(Gl){Ml=at,Ll=1,Bl=Gl}finally{Wl=1}}return{value:zs,done:Kl}}}(Sl,Il,Al),!0),Pl}var Zs={};function yl(){}function Js(){}function $l(){}zs=Object.getPrototypeOf;var El=[][qs]?zs(zs([][qs]())):(_regeneratorDefine(zs={},qs,function(){return this}),zs),wl=$l.prototype=yl.prototype=Object.create(El);function _l(Sl){return Object.setPrototypeOf?Object.setPrototypeOf(Sl,$l):(Sl.__proto__=$l,_regeneratorDefine(Sl,Ys,"GeneratorFunction")),Sl.prototype=Object.create(wl),Sl}return Js.prototype=$l,_regeneratorDefine(wl,"constructor",$l),_regeneratorDefine($l,"constructor",Js),Js.displayName="GeneratorFunction",_regeneratorDefine($l,Ys,"GeneratorFunction"),_regeneratorDefine(wl),_regeneratorDefine(wl,Ys,"Generator"),_regeneratorDefine(wl,qs,function(){return this}),_regeneratorDefine(wl,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:Xs,m:_l}})()}function _regeneratorDefine(at,zs,Ws,qs){var Ys=Object.defineProperty;try{Ys({},"",{})}catch{Ys=0}_regeneratorDefine=function(Xs,Zs,yl,Js){function $l(El,wl){_regeneratorDefine(Xs,El,function(_l){return this._invoke(El,wl,_l)})}Zs?Ys?Ys(Xs,Zs,{value:yl,enumerable:!Js,configurable:!Js,writable:!Js}):Xs[Zs]=yl:($l("next",0),$l("throw",1),$l("return",2))},_regeneratorDefine(at,zs,Ws,qs)}function _slicedToArray$2(at,zs){return _arrayWithHoles$2(at)||_iterableToArrayLimit$2(at,zs)||_unsupportedIterableToArray$5(at,zs)||_nonIterableRest$2()}function _toConsumableArray$1(at){return _arrayWithoutHoles$1(at)||_iterableToArray$1(at)||_unsupportedIterableToArray$5(at)||_nonIterableSpread$1()}function _toPrimitive$7(at,zs){if(typeof at!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(typeof qs!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zs==="string"?String:Number)(at)}function _toPropertyKey$7(at){var zs=_toPrimitive$7(at,"string");return typeof zs=="symbol"?zs:zs+""}function _unsupportedIterableToArray$5(at,zs){if(at){if(typeof at=="string")return _arrayLikeToArray$5(at,zs);var Ws={}.toString.call(at).slice(8,-1);return Ws==="Object"&&at.constructor&&(Ws=at.constructor.name),Ws==="Map"||Ws==="Set"?Array.from(at):Ws==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ws)?_arrayLikeToArray$5(at,zs):void 0}}var SessionType;(function(at){at.READ_ONLY="SESSION_TYPE_READ_ONLY",at.READ_WRITE="SESSION_TYPE_READ_WRITE"})(SessionType||(SessionType={}));var AuthAction;(function(at){at.LOGIN="LOGIN",at.SIGNUP="SIGNUP"})(AuthAction||(AuthAction={}));var TurnkeyErrorCodes;(function(at){at.UNKNOWN="UNKNOWN",at.NETWORK_ERROR="NETWORK_ERROR",at.KEY_PAIR_CLEANUP_ERROR="KEY_PAIR_CLEANUP_ERROR",at.LOGOUT_ERROR="LOGOUT_ERROR",at.CREATE_PASSKEY_ERROR="CREATE_PASSKEY_ERROR",at.SELECT_PASSKEY_CANCELLED="SELECT_PASSKEY_CANCELLED",at.CONNECT_WALLET_CANCELLED="CONNECT_WALLET_CANCELLED",at.WALLET_CONNECT_INITIALIZATION_ERROR="WALLET_CONNECT_INITIALIZATION_ERROR",at.WALLET_CONNECT_EXPIRED="WALLET_CONNECT_EXPIRED",at.PASSKEY_SIGNUP_AUTH_ERROR="PASSKEY_SIGNUP_AUTH_ERROR",at.PASSKEY_LOGIN_AUTH_ERROR="PASSKEY_LOGIN_AUTH_ERROR",at.WALLET_BUILD_LOGIN_REQUEST_ERROR="WALLET_BUILD_LOGIN_REQUEST_ERROR",at.WALLET_LOGIN_AUTH_ERROR="WALLET_LOGIN_AUTH_ERROR",at.WALLET_SIGNUP_AUTH_ERROR="WALLET_SIGNUP_AUTH_ERROR",at.WALLET_LOGIN_OR_SIGNUP_ERROR="WALLET_LOGIN_OR_SIGNUP_ERROR",at.INIT_OTP_ERROR="INIT_OTP_ERROR",at.VERIFY_OTP_ERROR="VERIFY_OTP_ERROR",at.OTP_LOGIN_ERROR="OTP_LOGIN_ERROR",at.OTP_SIGNUP_ERROR="OTP_SIGNUP_ERROR",at.OTP_COMPLETION_ERROR="OTP_COMPLETION_ERROR",at.OAUTH_LOGIN_ERROR="OAUTH_LOGIN_ERROR",at.OAUTH_SIGNUP_ERROR="OAUTH_SIGNUP_ERROR",at.ACCOUNT_FETCH_ERROR="ACCOUNT_FETCH_ERROR",at.INVALID_OTP_CODE="INVALID_OTP_CODE",at.FETCH_WALLETS_ERROR="FETCH_WALLETS_ERROR",at.FETCH_WALLET_ACCOUNTS_ERROR="FETCH_WALLET_ACCOUNTS_ERROR",at.FETCH_PRIVATE_KEYS_ERROR="FETCH_PRIVATE_KEYS_ERROR",at.SIGN_MESSAGE_ERROR="SIGN_MESSAGE_ERROR",at.SIGN_TRANSACTION_ERROR="SIGN_TRANSACTION_ERROR",at.POLL_TRANSACTION_STATUS_ERROR="POLL_TRANSACTION_STATUS_ERROR",at.SIGN_AND_SEND_TRANSACTION_ERROR="SIGN_AND_SEND_TRANSACTION_ERROR",at.ETH_SEND_TRANSACTION_ERROR="ETH_SEND_TRANSACTION_ERROR",at.FETCH_USER_ERROR="FETCH_USERS_ERROR",at.CREATE_WALLET_ERROR="CREATE_WALLET_ERROR",at.CREATE_WALLET_ACCOUNT_ERROR="CREATE_WALLET_ACCOUNT_ERROR",at.EXPORT_WALLET_ERROR="EXPORT_WALLET_ERROR",at.EXPORT_PRIVATE_KEY_ERROR="EXPORT_PRIVATE_KEY_ERROR",at.EXPORT_WALLET_ACCOUNT_ERROR="EXPORT_WALLET_ACCOUNT_ERROR",at.IMPORT_WALLET_ERROR="IMPORT_WALLET_ERROR",at.DELETE_SUB_ORGANIZATION_ERROR="DELETE_SUB_ORGANIZATION_ERROR",at.CREATE_SUB_ORGANIZATION_ERROR="CREATE_SUB_ORGANIZATION_ERROR",at.CREATE_USERS_ERROR="CREATE_USERS_ERROR",at.FETCH_BOOT_PROOF_ERROR="FETCH_BOOT_PROOF_ERROR",at.VERIFY_APP_PROOFS_ERROR="VERIFY_APP_PROOFS_ERROR",at.CREATE_POLICY_ERROR="CREATE_POLICY_ERROR",at.STORE_SESSION_ERROR="STORE_SESSION_ERROR",at.CLEAR_SESSION_ERROR="CLEAR_SESSION_ERROR",at.CLEAR_ALL_SESSIONS_ERROR="CLEAR_ALL_SESSIONS_ERROR",at.REFRESH_SESSION_ERROR="REFRESH_SESSION_ERROR",at.GET_SESSION_ERROR="GET_SESSION_ERROR",at.GET_WALLET_PROVIDERS_ERROR="GET_WALLET_PROVIDERS_ERROR",at.GET_ALL_SESSIONS_ERROR="GET_ALL_SESSIONS_ERROR",at.SET_ACTIVE_SESSION_ERROR="SET_ACTIVE_SESSION_ERROR",at.GET_ACTIVE_SESSION_KEY_ERROR="GET_ACTIVE_SESSION_KEY_ERROR",at.CLEAR_UNUSED_KEY_PAIRS_ERROR="CLEAR_UNUSED_KEY_PAIRS_ERROR",at.CREATE_API_KEY_PAIR_ERROR="CREATE_API_KEY_PAIR_ERROR",at.GET_PROXY_AUTH_CONFIG_ERROR="GET_PROXY_AUTH_CONFIG_ERROR",at.UPDATE_USER_EMAIL_ERROR="UPDATE_USER_EMAIL_ERROR",at.UPDATE_USER_NAME_ERROR="UPDATE_USER_NAME_ERROR",at.UPDATE_USER_PHONE_NUMBER_ERROR="UPDATE_USER_PHONE_NUMBER_ERROR",at.ADD_OAUTH_PROVIDER_ERROR="ADD_OAUTH_PROVIDER_ERROR",at.REMOVE_OAUTH_PROVIDER_ERROR="REMOVE_OAUTH_PROVIDER_ERROR",at.ADD_PASSKEY_ERROR="ADD_PASSKEY_ERROR",at.REMOVE_PASSKEY_ERROR="REMOVE_PASSKEY_ERROR",at.CONNECT_WALLET_ACCOUNT_ERROR="CONNECT_WALLET_ACCOUNT_ERROR",at.DISCONNECT_WALLET_ACCOUNT_ERROR="DISCONNECT_WALLET_ACCOUNT_ERROR",at.SWITCH_WALLET_CHAIN_ERROR="SWITCH_WALLET_CHAIN_ERROR",at.ONRAMP_ERROR="ONRAMP_ERROR",at.MAX_OTP_INITIATED_ERROR="MAX_OTP_INITIATED_ERROR",at.CLIENT_NOT_INITIALIZED="CLIENT_NOT_INITIALIZED",at.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED="WALLET_MANAGER_COMPONENT_NOT_INITIALIZED",at.CONFIG_NOT_INITIALIZED="CONFIG_NOT_INITIALIZED",at.AUTH_METHOD_NOT_ENABLED="AUTH_METHOD_NOT_ENABLED",at.FEATURE_NOT_ENABLED="FEATURE_NOT_ENABLED",at.INITIALIZE_CLIENT_ERROR="INITIALIZE_CLIENT_ERROR",at.INITIALIZE_SESSION_ERROR="INITIALIZE_SESSION_ERROR",at.SCHEDULE_SESSION_EXPIRY_ERROR="SCHEDULE_SESSION_EXPIRY_ERROR",at.HANDLE_POST_AUTH_ERROR="HANDLE_POST_AUTH_ERROR",at.HANDLE_POST_LOGOUT_ERROR="HANDLE_POST_LOGOUT_ERROR",at.CLEAR_SESSION_TIMEOUTS_ERROR="CLEAR_SESSION_TIMEOUTS_ERROR",at.UPDATE_USER_ERROR="UPDATE_USER_ERROR",at.ACCOUNT_ALREADY_EXISTS="ACCOUNT_ALREADY_EXISTS",at.INITIALIZE_IFRAME_ERROR="INITIALIZE_IFRAME_ERROR",at.PLATFORM_MISMATCH="PLATFORM_MISMATCH",at.UNSUPPORTED_PLATFORM="UNSUPPORTED_PLATFORM",at.USER_CANCELED="USER_CANCELED",at.BAD_RESPONSE="BAD_RESPONSE",at.OIDC_TOKEN_ERROR="OIDC_TOKEN_ERROR",at.MISSING_PARAMS="MISSING_PARAMS",at.INVALID_CONFIGURATION="INVALID_CONFIGURATION",at.INVALID_REQUEST="INVALID_REQUEST",at.VALIDATION_ERROR="VALIDATION_ERROR",at.SESSION_EXPIRED="SESSION_EXPIRED",at.NO_SESSION_FOUND="NO_SESSION_FOUND",at.NO_WALLET_FOUND="NO_WALLET_FOUND",at.NO_WALLETS_FOUND="NO_WALLETS_FOUND",at.NOT_FOUND="NOT_FOUND",at.INTERNAL_ERROR="INTERNAL_ERROR",at.UNAUTHORIZED="UNAUTHORIZED",at.FORBIDDEN="FORBIDDEN",at.BAD_REQUEST="BAD_REQUEST",at.CONFLICT="CONFLICT",at.TIMEOUT="TIMEOUT",at.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE",at.GATEWAY_TIMEOUT="GATEWAY_TIMEOUT"})(TurnkeyErrorCodes||(TurnkeyErrorCodes={}));class TurnkeyError extends Error{constructor(zs,Ws,qs){super(zs),this.code=Ws,this.cause=qs,this.name="TurnkeyError"}}class TurnkeyNetworkError extends TurnkeyError{constructor(zs,Ws,qs,Ys){super(zs,qs,Ys),this.statusCode=Ws,this.name="TurnkeyNetworkError"}}var FiatOnRampProvider;(function(at){at.COINBASE="FIAT_ON_RAMP_PROVIDER_COINBASE",at.MOONPAY="FIAT_ON_RAMP_PROVIDER_MOONPAY"})(FiatOnRampProvider||(FiatOnRampProvider={}));var FiatOnRampCryptoCurrency;(function(at){at.BITCOIN="FIAT_ON_RAMP_CRYPTO_CURRENCY_BTC",at.ETHEREUM="FIAT_ON_RAMP_CRYPTO_CURRENCY_ETH",at.SOLANA="FIAT_ON_RAMP_CRYPTO_CURRENCY_SOL",at.USDC="FIAT_ON_RAMP_CRYPTO_CURRENCY_USDC"})(FiatOnRampCryptoCurrency||(FiatOnRampCryptoCurrency={}));var FiatOnRampCurrency;(function(at){at.AUD="FIAT_ON_RAMP_CURRENCY_AUD",at.BGN="FIAT_ON_RAMP_CURRENCY_BGN",at.BRL="FIAT_ON_RAMP_CURRENCY_BRL",at.CAD="FIAT_ON_RAMP_CURRENCY_CAD",at.CHF="FIAT_ON_RAMP_CURRENCY_CHF",at.COP="FIAT_ON_RAMP_CURRENCY_COP",at.CZK="FIAT_ON_RAMP_CURRENCY_CZK",at.DKK="FIAT_ON_RAMP_CURRENCY_DKK",at.DOP="FIAT_ON_RAMP_CURRENCY_DOP",at.EGP="FIAT_ON_RAMP_CURRENCY_EGP",at.EUR="FIAT_ON_RAMP_CURRENCY_EUR",at.GBP="FIAT_ON_RAMP_CURRENCY_GBP",at.HKD="FIAT_ON_RAMP_CURRENCY_HKD",at.IDR="FIAT_ON_RAMP_CURRENCY_IDR",at.ILS="FIAT_ON_RAMP_CURRENCY_ILS",at.JOD="FIAT_ON_RAMP_CURRENCY_JOD",at.KES="FIAT_ON_RAMP_CURRENCY_KES",at.KWD="FIAT_ON_RAMP_CURRENCY_KWD",at.LKR="FIAT_ON_RAMP_CURRENCY_LKR",at.MXN="FIAT_ON_RAMP_CURRENCY_MXN",at.NGN="FIAT_ON_RAMP_CURRENCY_NGN",at.NOK="FIAT_ON_RAMP_CURRENCY_NOK",at.NZD="FIAT_ON_RAMP_CURRENCY_NZD",at.OMR="FIAT_ON_RAMP_CURRENCY_OMR",at.PEN="FIAT_ON_RAMP_CURRENCY_PEN",at.PLN="FIAT_ON_RAMP_CURRENCY_PLN",at.RON="FIAT_ON_RAMP_CURRENCY_RON",at.SEK="FIAT_ON_RAMP_CURRENCY_SEK",at.THB="FIAT_ON_RAMP_CURRENCY_THB",at.TRY="FIAT_ON_RAMP_CURRENCY_TRY",at.TWD="FIAT_ON_RAMP_CURRENCY_TWD",at.USD="FIAT_ON_RAMP_CURRENCY_USD",at.VND="FIAT_ON_RAMP_CURRENCY_VND",at.ZAR="FIAT_ON_RAMP_CURRENCY_ZAR"})(FiatOnRampCurrency||(FiatOnRampCurrency={}));var FiatOnRampBlockchainNetwork;(function(at){at.BITCOIN="FIAT_ON_RAMP_BLOCKCHAIN_NETWORK_BITCOIN",at.ETHEREUM="FIAT_ON_RAMP_BLOCKCHAIN_NETWORK_ETHEREUM",at.SOLANA="FIAT_ON_RAMP_BLOCKCHAIN_NETWORK_SOLANA",at.BASE="FIAT_ON_RAMP_BLOCKCHAIN_NETWORK_BASE"})(FiatOnRampBlockchainNetwork||(FiatOnRampBlockchainNetwork={}));var FiatOnRampPaymentMethod;(function(at){at.CREDIT_DEBIT_CARD="FIAT_ON_RAMP_PAYMENT_METHOD_CREDIT_DEBIT_CARD",at.APPLE_PAY="FIAT_ON_RAMP_PAYMENT_METHOD_APPLE_PAY",at.GBP_BANK_TRANSFER="FIAT_ON_RAMP_PAYMENT_METHOD_GBP_BANK_TRANSFER",at.GBP_OPEN_BANKING_PAYMENT="FIAT_ON_RAMP_PAYMENT_METHOD_GBP_OPEN_BANKING_PAYMENT",at.GOOGLE_PAY="FIAT_ON_RAMP_PAYMENT_METHOD_GOOGLE_PAY",at.SEPA_BANK_TRANSFER="FIAT_ON_RAMP_PAYMENT_METHOD_SEPA_BANK_TRANSFER",at.PIX_INSTANT_PAYMENT="FIAT_ON_RAMP_PAYMENT_METHOD_PIX_INSTANT_PAYMENT",at.PAYPAL="FIAT_ON_RAMP_PAYMENT_METHOD_PAYPAL",at.VENMO="FIAT_ON_RAMP_PAYMENT_METHOD_VENMO",at.MOONPAY_BALANCE="FIAT_ON_RAMP_PAYMENT_METHOD_MOONPAY_BALANCE",at.CRYPTO_ACCOUNT="FIAT_ON_RAMP_PAYMENT_METHOD_CRYPTO_ACCOUNT",at.FIAT_WALLET="FIAT_ON_RAMP_PAYMENT_METHOD_FIAT_WALLET",at.ACH_BANK_ACCOUNT="FIAT_ON_RAMP_PAYMENT_METHOD_ACH_BANK_ACCOUNT"})(FiatOnRampPaymentMethod||(FiatOnRampPaymentMethod={}));var OAuthProviders;(function(at){at.DISCORD="DISCORD",at.APPLE="Apple",at.GOOGLE="Google",at.FACEBOOK="Facebook",at.X="X"})(OAuthProviders||(OAuthProviders={}));const scriptRel="modulepreload",assetsURL=function(at){return"/"+at},seen={},__vitePreload=function(zs,Ws,qs){let Ys=Promise.resolve();function Xs(Zs){const yl=new Event("vite:preloadError",{cancelable:!0});if(yl.payload=Zs,window.dispatchEvent(yl),!yl.defaultPrevented)throw Zs}return Ys.then(Zs=>{for(const yl of Zs||[])yl.status==="rejected"&&Xs(yl.reason);return zs().catch(Xs)})};function uint8ArrayToHexString(at){return at.reduce((zs,Ws)=>zs+Ws.toString(16).padStart(2,"0"),"")}const uint8ArrayFromHexString=(at,zs)=>{const Ws=/^[0-9A-Fa-f]+$/;if(!at||at.length%2!=0||!Ws.test(at))throw new Error(`cannot create uint8array from invalid hex string: "${at}"`);const qs=new Uint8Array(at.match(/../g).map(Xs=>parseInt(Xs,16)));if(!zs)return qs;if(at.length/2>zs)throw new Error("hex value cannot fit in a buffer of "+zs+" byte(s)");let Ys=new Uint8Array(zs);return Ys.set(qs,zs-qs.length),Ys},normalizePadding=(at,zs)=>{const Ws=zs-at.length;if(Ws>0){const qs=new Uint8Array(Ws).fill(0);return new Uint8Array([...qs,...at])}if(Ws<0){const qs=Ws*-1;let Ys=0;for(let Xs=0;Xs<qs&&Xs<at.length;Xs++)at[Xs]===0&&Ys++;if(Ys!==qs)throw new Error(`invalid number of starting zeroes. Expected number of zeroes: ${qs}. Found: ${Ys}.`);return at.slice(qs,qs+zs)}return at};function stringToBase64urlString(at){const zs=btoa$1(at);return base64StringToBase64UrlEncodedString(zs)}function hexStringToBase64url(at,zs){const Ws=at.padStart(Math.ceil(at.length/2)*2,"0"),qs=uint8ArrayFromHexString(Ws,zs);return stringToBase64urlString(qs.reduce((Ys,Xs)=>Ys+String.fromCharCode(Xs),""))}function base64StringToBase64UrlEncodedString(at){return at.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function base64UrlToBase64(at){let zs=at.replace(/-/g,"+").replace(/_/g,"/");const Ws=(4-zs.length%4)%4;return zs+"=".repeat(Ws)}function decodeBase64urlToString(at){const zs=base64UrlToBase64(at);return atob$1(zs)}function btoa$1(at){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let zs;for(at=`${at}`,zs=0;zs<at.length;zs++)if(at.charCodeAt(zs)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${at.charCodeAt(zs)} at position ${zs}`);let Ws="";for(zs=0;zs<at.length;zs+=3){const qs=[void 0,void 0,void 0,void 0];qs[0]=at.charCodeAt(zs)>>2,qs[1]=(at.charCodeAt(zs)&3)<<4,at.length>zs+1&&(qs[1]|=at.charCodeAt(zs+1)>>4,qs[2]=(at.charCodeAt(zs+1)&15)<<2),at.length>zs+2&&(qs[2]|=at.charCodeAt(zs+2)>>6,qs[3]=at.charCodeAt(zs+2)&63);for(let Ys=0;Ys<qs.length;Ys++)typeof qs[Ys]>"u"?Ws+="=":Ws+=btoaLookup(qs[Ys])}return Ws}function btoaLookup(at){const zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(at>=0&&at<64)return zs[at]}function atob$1(at){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");const zs=String(at).replace(/[^A-Za-z0-9+/=]/g,"");if(zs.length%4===1)throw new Error("InvalidCharacterError: The string to be decoded is not correctly encoded.");const Ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let qs="",Ys=0,Xs=0,Zs=0;for(;Zs<zs.length;){const yl=zs.charAt(Zs),Js=Ws.indexOf(yl);if(Js<0||Js>64){Zs++;continue}for(yl==="="?Xs=0:(Ys=Ys<<6|Js,Xs+=6);Xs>=8;)Xs-=8,qs+=String.fromCharCode(Ys>>Xs&255);Zs++}return qs}function pointEncode(at){if(at.length!==65||at[0]!==4)throw new Error("Invalid uncompressed P-256 key");const zs=at.slice(1,33),Ws=at.slice(33,65);if(zs.length!==32||Ws.length!==32)throw new Error("Invalid x or y length");const qs=Ws[31]&1?3:2,Ys=new Uint8Array(33);return Ys[0]=qs,Ys.set(zs,1),Ys}function base$1(at){if(at.length>=255)throw new TypeError("Alphabet too long");const zs=new Uint8Array(256);for(let $l=0;$l<zs.length;$l++)zs[$l]=255;for(let $l=0;$l<at.length;$l++){const El=at.charAt($l),wl=El.charCodeAt(0);if(zs[wl]!==255)throw new TypeError(El+" is ambiguous");zs[wl]=$l}const Ws=at.length,qs=at.charAt(0),Ys=Math.log(Ws)/Math.log(256),Xs=Math.log(256)/Math.log(Ws);function Zs($l){if($l instanceof Uint8Array||(ArrayBuffer.isView($l)?$l=new Uint8Array($l.buffer,$l.byteOffset,$l.byteLength):Array.isArray($l)&&($l=Uint8Array.from($l))),!($l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if($l.length===0)return"";let El=0,wl=0,_l=0;const Sl=$l.length;for(;_l!==Sl&&$l[_l]===0;)_l++,El++;const Tl=(Sl-_l)*Xs+1>>>0,Il=new Uint8Array(Tl);for(;_l!==Sl;){let Pl=$l[_l],Cl=0;for(let Rl=Tl-1;(Pl!==0||Cl<wl)&&Rl!==-1;Rl--,Cl++)Pl+=256*Il[Rl]>>>0,Il[Rl]=Pl%Ws>>>0,Pl=Pl/Ws>>>0;if(Pl!==0)throw new Error("Non-zero carry");wl=Cl,_l++}let Al=Tl-wl;for(;Al!==Tl&&Il[Al]===0;)Al++;let xl=qs.repeat(El);for(;Al<Tl;++Al)xl+=at.charAt(Il[Al]);return xl}function yl($l){if(typeof $l!="string")throw new TypeError("Expected String");if($l.length===0)return new Uint8Array;let El=0,wl=0,_l=0;for(;$l[El]===qs;)wl++,El++;const Sl=($l.length-El)*Ys+1>>>0,Tl=new Uint8Array(Sl);for(;El<$l.length;){const Pl=$l.charCodeAt(El);if(Pl>255)return;let Cl=zs[Pl];if(Cl===255)return;let Rl=0;for(let Ol=Sl-1;(Cl!==0||Rl<_l)&&Ol!==-1;Ol--,Rl++)Cl+=Ws*Tl[Ol]>>>0,Tl[Ol]=Cl%256>>>0,Cl=Cl/256>>>0;if(Cl!==0)throw new Error("Non-zero carry");_l=Rl,El++}let Il=Sl-_l;for(;Il!==Sl&&Tl[Il]===0;)Il++;const Al=new Uint8Array(wl+(Sl-Il));let xl=wl;for(;Il!==Sl;)Al[xl++]=Tl[Il++];return Al}function Js($l){const El=yl($l);if(El)return El;throw new Error("Non-base"+Ws+" character")}return{encode:Zs,decodeUnsafe:yl,decode:Js}}var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ue$3=base$1(ALPHABET),raw$1=Object.freeze(Object.defineProperty({__proto__:null,default:ue$3},Symbol.toStringTag,{value:"Module"}));function unwrap$1(at){let zs=at;for(;zs&&!(zs.encode&&zs.decode&&zs.decodeUnsafe)&&zs.default;)zs=zs.default;return zs}const bs58=unwrap$1(raw$1),crypto$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$4(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function anumber$1(at){if(!Number.isSafeInteger(at)||at<0)throw new Error("positive integer expected, got "+at)}function abytes$3(at,...zs){if(!isBytes$4(at))throw new Error("Uint8Array expected");if(zs.length>0&&!zs.includes(at.length))throw new Error("Uint8Array expected of length "+zs+", got length="+at.length)}function ahash(at){if(typeof at!="function"||typeof at.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber$1(at.outputLen),anumber$1(at.blockLen)}function aexists(at,zs=!0){if(at.destroyed)throw new Error("Hash instance has been destroyed");if(zs&&at.finished)throw new Error("Hash#digest() has already been called")}function aoutput(at,zs){abytes$3(at);const Ws=zs.outputLen;if(at.length<Ws)throw new Error("digestInto() expects output buffer of length at least "+Ws)}function u32$1(at){return new Uint32Array(at.buffer,at.byteOffset,Math.floor(at.byteLength/4))}function clean(...at){for(let zs=0;zs<at.length;zs++)at[zs].fill(0)}function createView$1(at){return new DataView(at.buffer,at.byteOffset,at.byteLength)}function rotr$1(at,zs){return at<<32-zs|at>>>zs}const isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(at){return at<<24&4278190080|at<<8&16711680|at>>>8&65280|at>>>24&255}function byteSwap32(at){for(let zs=0;zs<at.length;zs++)at[zs]=byteSwap(at[zs]);return at}const swap32IfBE=isLE$1?at=>at:byteSwap32,hasHexBuiltin$3=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes$6=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function bytesToHex$5(at){if(abytes$3(at),hasHexBuiltin$3)return at.toHex();let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=hexes$6[at[Ws]];return zs}const asciis$3={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16$3(at){if(at>=asciis$3._0&&at<=asciis$3._9)return at-asciis$3._0;if(at>=asciis$3.A&&at<=asciis$3.F)return at-(asciis$3.A-10);if(at>=asciis$3.a&&at<=asciis$3.f)return at-(asciis$3.a-10)}function hexToBytes$5(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);if(hasHexBuiltin$3)return Uint8Array.fromHex(at);const zs=at.length,Ws=zs/2;if(zs%2)throw new Error("hex string expected, got unpadded hex of length "+zs);const qs=new Uint8Array(Ws);for(let Ys=0,Xs=0;Ys<Ws;Ys++,Xs+=2){const Zs=asciiToBase16$3(at.charCodeAt(Xs)),yl=asciiToBase16$3(at.charCodeAt(Xs+1));if(Zs===void 0||yl===void 0){const Js=at[Xs]+at[Xs+1];throw new Error('hex string expected, got non-hex character "'+Js+'" at index '+Xs)}qs[Ys]=Zs*16+yl}return qs}function utf8ToBytes$2(at){if(typeof at!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(at))}function toBytes$2(at){return typeof at=="string"&&(at=utf8ToBytes$2(at)),abytes$3(at),at}function concatBytes$6(...at){let zs=0;for(let qs=0;qs<at.length;qs++){const Ys=at[qs];abytes$3(Ys),zs+=Ys.length}const Ws=new Uint8Array(zs);for(let qs=0,Ys=0;qs<at.length;qs++){const Xs=at[qs];Ws.set(Xs,Ys),Ys+=Xs.length}return Ws}let Hash$2=class{};function createHasher(at){const zs=qs=>at().update(toBytes$2(qs)).digest(),Ws=at();return zs.outputLen=Ws.outputLen,zs.blockLen=Ws.blockLen,zs.create=()=>at(),zs}function randomBytes$1(at=32){if(crypto$3&&typeof crypto$3.getRandomValues=="function")return crypto$3.getRandomValues(new Uint8Array(at));if(crypto$3&&typeof crypto$3.randomBytes=="function")return Uint8Array.from(crypto$3.randomBytes(at));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(at,zs,Ws,qs){if(typeof at.setBigUint64=="function")return at.setBigUint64(zs,Ws,qs);const Ys=BigInt(32),Xs=BigInt(4294967295),Zs=Number(Ws>>Ys&Xs),yl=Number(Ws&Xs),Js=qs?4:0,$l=qs?0:4;at.setUint32(zs+Js,Zs,qs),at.setUint32(zs+$l,yl,qs)}function Chi$1(at,zs,Ws){return at&zs^~at&Ws}function Maj$1(at,zs,Ws){return at&zs^at&Ws^zs&Ws}class HashMD extends Hash$2{constructor(zs,Ws,qs,Ys){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=zs,this.outputLen=Ws,this.padOffset=qs,this.isLE=Ys,this.buffer=new Uint8Array(zs),this.view=createView$1(this.buffer)}update(zs){aexists(this),zs=toBytes$2(zs),abytes$3(zs);const{view:Ws,buffer:qs,blockLen:Ys}=this,Xs=zs.length;for(let Zs=0;Zs<Xs;){const yl=Math.min(Ys-this.pos,Xs-Zs);if(yl===Ys){const Js=createView$1(zs);for(;Ys<=Xs-Zs;Zs+=Ys)this.process(Js,Zs);continue}qs.set(zs.subarray(Zs,Zs+yl),this.pos),this.pos+=yl,Zs+=yl,this.pos===Ys&&(this.process(Ws,0),this.pos=0)}return this.length+=zs.length,this.roundClean(),this}digestInto(zs){aexists(this),aoutput(zs,this),this.finished=!0;const{buffer:Ws,view:qs,blockLen:Ys,isLE:Xs}=this;let{pos:Zs}=this;Ws[Zs++]=128,clean(this.buffer.subarray(Zs)),this.padOffset>Ys-Zs&&(this.process(qs,0),Zs=0);for(let wl=Zs;wl<Ys;wl++)Ws[wl]=0;setBigUint64$1(qs,Ys-8,BigInt(this.length*8),Xs),this.process(qs,0);const yl=createView$1(zs),Js=this.outputLen;if(Js%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $l=Js/4,El=this.get();if($l>El.length)throw new Error("_sha2: outputLen bigger than state");for(let wl=0;wl<$l;wl++)yl.setUint32(4*wl,El[wl],Xs)}digest(){const{buffer:zs,outputLen:Ws}=this;this.digestInto(zs);const qs=zs.slice(0,Ws);return this.destroy(),qs}_cloneInto(zs){zs||(zs=new this.constructor),zs.set(...this.get());const{blockLen:Ws,buffer:qs,length:Ys,finished:Xs,destroyed:Zs,pos:yl}=this;return zs.destroyed=Zs,zs.finished=Xs,zs.length=Ys,zs.pos=yl,Ys%Ws&&zs.buffer.set(qs),zs}clone(){return this._cloneInto()}}const SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(at,zs=!1){return zs?{h:Number(at&U32_MASK64$1),l:Number(at>>_32n$1&U32_MASK64$1)}:{h:Number(at>>_32n$1&U32_MASK64$1)|0,l:Number(at&U32_MASK64$1)|0}}function split$1(at,zs=!1){const Ws=at.length;let qs=new Uint32Array(Ws),Ys=new Uint32Array(Ws);for(let Xs=0;Xs<Ws;Xs++){const{h:Zs,l:yl}=fromBig$1(at[Xs],zs);[qs[Xs],Ys[Xs]]=[Zs,yl]}return[qs,Ys]}const shrSH$1=(at,zs,Ws)=>at>>>Ws,shrSL$1=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,rotrSH$1=(at,zs,Ws)=>at>>>Ws|zs<<32-Ws,rotrSL$1=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,rotrBH$1=(at,zs,Ws)=>at<<64-Ws|zs>>>Ws-32,rotrBL$1=(at,zs,Ws)=>at>>>Ws-32|zs<<64-Ws,rotlSH$1=(at,zs,Ws)=>at<<Ws|zs>>>32-Ws,rotlSL$1=(at,zs,Ws)=>zs<<Ws|at>>>32-Ws,rotlBH$1=(at,zs,Ws)=>zs<<Ws-32|at>>>64-Ws,rotlBL$1=(at,zs,Ws)=>at<<Ws-32|zs>>>64-Ws;function add$1(at,zs,Ws,qs){const Ys=(zs>>>0)+(qs>>>0);return{h:at+Ws+(Ys/2**32|0)|0,l:Ys|0}}const add3L$1=(at,zs,Ws)=>(at>>>0)+(zs>>>0)+(Ws>>>0),add3H$1=(at,zs,Ws,qs)=>zs+Ws+qs+(at/2**32|0)|0,add4L$1=(at,zs,Ws,qs)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0),add4H$1=(at,zs,Ws,qs,Ys)=>zs+Ws+qs+Ys+(at/2**32|0)|0,add5L$1=(at,zs,Ws,qs,Ys)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0)+(Ys>>>0),add5H$1=(at,zs,Ws,qs,Ys,Xs)=>zs+Ws+qs+Ys+Xs+(at/2**32|0)|0,SHA256_K$1=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends HashMD{constructor(zs=32){super(64,zs,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:zs,B:Ws,C:qs,D:Ys,E:Xs,F:Zs,G:yl,H:Js}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js){this.A=zs|0,this.B=Ws|0,this.C=qs|0,this.D=Ys|0,this.E=Xs|0,this.F=Zs|0,this.G=yl|0,this.H=Js|0}process(zs,Ws){for(let wl=0;wl<16;wl++,Ws+=4)SHA256_W$1[wl]=zs.getUint32(Ws,!1);for(let wl=16;wl<64;wl++){const _l=SHA256_W$1[wl-15],Sl=SHA256_W$1[wl-2],Tl=rotr$1(_l,7)^rotr$1(_l,18)^_l>>>3,Il=rotr$1(Sl,17)^rotr$1(Sl,19)^Sl>>>10;SHA256_W$1[wl]=Il+SHA256_W$1[wl-7]+Tl+SHA256_W$1[wl-16]|0}let{A:qs,B:Ys,C:Xs,D:Zs,E:yl,F:Js,G:$l,H:El}=this;for(let wl=0;wl<64;wl++){const _l=rotr$1(yl,6)^rotr$1(yl,11)^rotr$1(yl,25),Sl=El+_l+Chi$1(yl,Js,$l)+SHA256_K$1[wl]+SHA256_W$1[wl]|0,Il=(rotr$1(qs,2)^rotr$1(qs,13)^rotr$1(qs,22))+Maj$1(qs,Ys,Xs)|0;El=$l,$l=Js,Js=yl,yl=Zs+Sl|0,Zs=Xs,Xs=Ys,Ys=qs,qs=Sl+Il|0}qs=qs+this.A|0,Ys=Ys+this.B|0,Xs=Xs+this.C|0,Zs=Zs+this.D|0,yl=yl+this.E|0,Js=Js+this.F|0,$l=$l+this.G|0,El=El+this.H|0,this.set(qs,Ys,Xs,Zs,yl,Js,$l,El)}roundClean(){clean(SHA256_W$1)}destroy(){this.set(0,0,0,0,0,0,0,0),clean(this.buffer)}};const K512=split$1(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(at=>BigInt(at))),SHA512_Kh$1=K512[0],SHA512_Kl$1=K512[1],SHA512_W_H$1=new Uint32Array(80),SHA512_W_L$1=new Uint32Array(80);let SHA512$1=class extends HashMD{constructor(zs=64){super(128,zs,16,!1),this.Ah=SHA512_IV[0]|0,this.Al=SHA512_IV[1]|0,this.Bh=SHA512_IV[2]|0,this.Bl=SHA512_IV[3]|0,this.Ch=SHA512_IV[4]|0,this.Cl=SHA512_IV[5]|0,this.Dh=SHA512_IV[6]|0,this.Dl=SHA512_IV[7]|0,this.Eh=SHA512_IV[8]|0,this.El=SHA512_IV[9]|0,this.Fh=SHA512_IV[10]|0,this.Fl=SHA512_IV[11]|0,this.Gh=SHA512_IV[12]|0,this.Gl=SHA512_IV[13]|0,this.Hh=SHA512_IV[14]|0,this.Hl=SHA512_IV[15]|0}get(){const{Ah:zs,Al:Ws,Bh:qs,Bl:Ys,Ch:Xs,Cl:Zs,Dh:yl,Dl:Js,Eh:$l,El,Fh:wl,Fl:_l,Gh:Sl,Gl:Tl,Hh:Il,Hl:Al}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al){this.Ah=zs|0,this.Al=Ws|0,this.Bh=qs|0,this.Bl=Ys|0,this.Ch=Xs|0,this.Cl=Zs|0,this.Dh=yl|0,this.Dl=Js|0,this.Eh=$l|0,this.El=El|0,this.Fh=wl|0,this.Fl=_l|0,this.Gh=Sl|0,this.Gl=Tl|0,this.Hh=Il|0,this.Hl=Al|0}process(zs,Ws){for(let Cl=0;Cl<16;Cl++,Ws+=4)SHA512_W_H$1[Cl]=zs.getUint32(Ws),SHA512_W_L$1[Cl]=zs.getUint32(Ws+=4);for(let Cl=16;Cl<80;Cl++){const Rl=SHA512_W_H$1[Cl-15]|0,Ol=SHA512_W_L$1[Cl-15]|0,Ml=rotrSH$1(Rl,Ol,1)^rotrSH$1(Rl,Ol,8)^shrSH$1(Rl,Ol,7),Ll=rotrSL$1(Rl,Ol,1)^rotrSL$1(Rl,Ol,8)^shrSL$1(Rl,Ol,7),Bl=SHA512_W_H$1[Cl-2]|0,Wl=SHA512_W_L$1[Cl-2]|0,Yl=rotrSH$1(Bl,Wl,19)^rotrBH$1(Bl,Wl,61)^shrSH$1(Bl,Wl,6),Kl=rotrSL$1(Bl,Wl,19)^rotrBL$1(Bl,Wl,61)^shrSL$1(Bl,Wl,6),Xl=add4L$1(Ll,Kl,SHA512_W_L$1[Cl-7],SHA512_W_L$1[Cl-16]),Ul=add4H$1(Xl,Ml,Yl,SHA512_W_H$1[Cl-7],SHA512_W_H$1[Cl-16]);SHA512_W_H$1[Cl]=Ul|0,SHA512_W_L$1[Cl]=Xl|0}let{Ah:qs,Al:Ys,Bh:Xs,Bl:Zs,Ch:yl,Cl:Js,Dh:$l,Dl:El,Eh:wl,El:_l,Fh:Sl,Fl:Tl,Gh:Il,Gl:Al,Hh:xl,Hl:Pl}=this;for(let Cl=0;Cl<80;Cl++){const Rl=rotrSH$1(wl,_l,14)^rotrSH$1(wl,_l,18)^rotrBH$1(wl,_l,41),Ol=rotrSL$1(wl,_l,14)^rotrSL$1(wl,_l,18)^rotrBL$1(wl,_l,41),Ml=wl&Sl^~wl&Il,Ll=_l&Tl^~_l&Al,Bl=add5L$1(Pl,Ol,Ll,SHA512_Kl$1[Cl],SHA512_W_L$1[Cl]),Wl=add5H$1(Bl,xl,Rl,Ml,SHA512_Kh$1[Cl],SHA512_W_H$1[Cl]),Yl=Bl|0,Kl=rotrSH$1(qs,Ys,28)^rotrBH$1(qs,Ys,34)^rotrBH$1(qs,Ys,39),Xl=rotrSL$1(qs,Ys,28)^rotrBL$1(qs,Ys,34)^rotrBL$1(qs,Ys,39),Ul=qs&Xs^qs&yl^Xs&yl,Vl=Ys&Zs^Ys&Js^Zs&Js;xl=Il|0,Pl=Al|0,Il=Sl|0,Al=Tl|0,Sl=wl|0,Tl=_l|0,{h:wl,l:_l}=add$1($l|0,El|0,Wl|0,Yl|0),$l=yl|0,El=Js|0,yl=Xs|0,Js=Zs|0,Xs=qs|0,Zs=Ys|0;const Nl=add3L$1(Yl,Xl,Vl);qs=add3H$1(Nl,Wl,Kl,Ul),Ys=Nl|0}({h:qs,l:Ys}=add$1(this.Ah|0,this.Al|0,qs|0,Ys|0)),{h:Xs,l:Zs}=add$1(this.Bh|0,this.Bl|0,Xs|0,Zs|0),{h:yl,l:Js}=add$1(this.Ch|0,this.Cl|0,yl|0,Js|0),{h:$l,l:El}=add$1(this.Dh|0,this.Dl|0,$l|0,El|0),{h:wl,l:_l}=add$1(this.Eh|0,this.El|0,wl|0,_l|0),{h:Sl,l:Tl}=add$1(this.Fh|0,this.Fl|0,Sl|0,Tl|0),{h:Il,l:Al}=add$1(this.Gh|0,this.Gl|0,Il|0,Al|0),{h:xl,l:Pl}=add$1(this.Hh|0,this.Hl|0,xl|0,Pl|0),this.set(qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al,xl,Pl)}roundClean(){clean(SHA512_W_H$1,SHA512_W_L$1)}destroy(){clean(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class SHA384 extends SHA512$1{constructor(){super(48),this.Ah=SHA384_IV[0]|0,this.Al=SHA384_IV[1]|0,this.Bh=SHA384_IV[2]|0,this.Bl=SHA384_IV[3]|0,this.Ch=SHA384_IV[4]|0,this.Cl=SHA384_IV[5]|0,this.Dh=SHA384_IV[6]|0,this.Dl=SHA384_IV[7]|0,this.Eh=SHA384_IV[8]|0,this.El=SHA384_IV[9]|0,this.Fh=SHA384_IV[10]|0,this.Fl=SHA384_IV[11]|0,this.Gh=SHA384_IV[12]|0,this.Gl=SHA384_IV[13]|0,this.Hh=SHA384_IV[14]|0,this.Hl=SHA384_IV[15]|0}}const sha256$3=createHasher(()=>new SHA256$1),sha512$1=createHasher(()=>new SHA512$1),sha384=createHasher(()=>new SHA384),sha256$2=sha256$3;function bs58checkBase(at){function zs(Xs){var Zs=Uint8Array.from(Xs),yl=at(Zs),Js=Zs.length+4,$l=new Uint8Array(Js);return $l.set(Zs,0),$l.set(yl.subarray(0,4),Zs.length),ue$3.encode($l)}function Ws(Xs){var Zs=Xs.slice(0,-4),yl=Xs.slice(-4),Js=at(Zs);if(!(yl[0]^Js[0]|yl[1]^Js[1]|yl[2]^Js[2]|yl[3]^Js[3]))return Zs}function qs(Xs){var Zs=ue$3.decodeUnsafe(Xs);if(Zs!=null)return Ws(Zs)}function Ys(Xs){var Zs=ue$3.decode(Xs),yl=Ws(Zs);if(yl==null)throw new Error("Invalid checksum");return yl}return{encode:zs,decode:Ys,decodeUnsafe:qs}}function sha256x2(at){return sha256$2(sha256$2(at))}const index$4=bs58checkBase(sha256x2),raw=Object.freeze(Object.defineProperty({__proto__:null,default:index$4},Symbol.toStringTag,{value:"Module"}));function unwrap(at){let zs=at;for(;zs&&!(zs.encode&&zs.decode&&zs.decodeUnsafe)&&zs.default;)zs=zs.default;return zs}unwrap(raw);const DEFAULT_JWK_MEMBER_BYTE_LENGTH=32;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$n=BigInt(0),_1n$o=BigInt(1);function isBytes$3(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function abytes$2(at){if(!isBytes$3(at))throw new Error("Uint8Array expected")}function abool$2(at,zs){if(typeof zs!="boolean")throw new Error(at+" boolean expected, got "+zs)}function numberToHexUnpadded$4(at){const zs=at.toString(16);return zs.length&1?"0"+zs:zs}function hexToNumber$5(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return at===""?_0n$n:BigInt("0x"+at)}const hasHexBuiltin$2=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes$5=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function bytesToHex$4(at){if(abytes$2(at),hasHexBuiltin$2)return at.toHex();let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=hexes$5[at[Ws]];return zs}const asciis$2={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16$2(at){if(at>=asciis$2._0&&at<=asciis$2._9)return at-asciis$2._0;if(at>=asciis$2.A&&at<=asciis$2.F)return at-(asciis$2.A-10);if(at>=asciis$2.a&&at<=asciis$2.f)return at-(asciis$2.a-10)}function hexToBytes$4(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);if(hasHexBuiltin$2)return Uint8Array.fromHex(at);const zs=at.length,Ws=zs/2;if(zs%2)throw new Error("hex string expected, got unpadded hex of length "+zs);const qs=new Uint8Array(Ws);for(let Ys=0,Xs=0;Ys<Ws;Ys++,Xs+=2){const Zs=asciiToBase16$2(at.charCodeAt(Xs)),yl=asciiToBase16$2(at.charCodeAt(Xs+1));if(Zs===void 0||yl===void 0){const Js=at[Xs]+at[Xs+1];throw new Error('hex string expected, got non-hex character "'+Js+'" at index '+Xs)}qs[Ys]=Zs*16+yl}return qs}function bytesToNumberBE$4(at){return hexToNumber$5(bytesToHex$4(at))}function bytesToNumberLE$4(at){return abytes$2(at),hexToNumber$5(bytesToHex$4(Uint8Array.from(at).reverse()))}function numberToBytesBE$4(at,zs){return hexToBytes$4(at.toString(16).padStart(zs*2,"0"))}function numberToBytesLE$4(at,zs){return numberToBytesBE$4(at,zs).reverse()}function ensureBytes$4(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=hexToBytes$4(zs)}catch(Xs){throw new Error(at+" must be hex string or Uint8Array, cause: "+Xs)}else if(isBytes$3(zs))qs=Uint8Array.from(zs);else throw new Error(at+" must be hex string or Uint8Array");const Ys=qs.length;if(typeof Ws=="number"&&Ys!==Ws)throw new Error(at+" of length "+Ws+" expected, got "+Ys);return qs}function concatBytes$5(...at){let zs=0;for(let qs=0;qs<at.length;qs++){const Ys=at[qs];abytes$2(Ys),zs+=Ys.length}const Ws=new Uint8Array(zs);for(let qs=0,Ys=0;qs<at.length;qs++){const Xs=at[qs];Ws.set(Xs,Ys),Ys+=Xs.length}return Ws}const isPosBig$3=at=>typeof at=="bigint"&&_0n$n<=at;function inRange$3(at,zs,Ws){return isPosBig$3(at)&&isPosBig$3(zs)&&isPosBig$3(Ws)&&zs<=at&&at<Ws}function aInRange$3(at,zs,Ws,qs){if(!inRange$3(zs,Ws,qs))throw new Error("expected valid "+at+": "+Ws+" <= n < "+qs+", got "+zs)}function bitLen$4(at){let zs;for(zs=0;at>_0n$n;at>>=_1n$o,zs+=1);return zs}const bitMask$4=at=>(_1n$o<<BigInt(at))-_1n$o,u8n$3=at=>new Uint8Array(at),u8fr$3=at=>Uint8Array.from(at);function createHmacDrbg$4(at,zs,Ws){if(typeof at!="number"||at<2)throw new Error("hashLen must be a number");if(typeof zs!="number"||zs<2)throw new Error("qByteLen must be a number");if(typeof Ws!="function")throw new Error("hmacFn must be a function");let qs=u8n$3(at),Ys=u8n$3(at),Xs=0;const Zs=()=>{qs.fill(1),Ys.fill(0),Xs=0},yl=(...wl)=>Ws(Ys,qs,...wl),Js=(wl=u8n$3(0))=>{Ys=yl(u8fr$3([0]),wl),qs=yl(),wl.length!==0&&(Ys=yl(u8fr$3([1]),wl),qs=yl())},$l=()=>{if(Xs++>=1e3)throw new Error("drbg: tried 1000 values");let wl=0;const _l=[];for(;wl<zs;){qs=yl();const Sl=qs.slice();_l.push(Sl),wl+=qs.length}return concatBytes$5(..._l)};return(wl,_l)=>{Zs(),Js(wl);let Sl;for(;!(Sl=_l($l()));)Js();return Zs(),Sl}}const validatorFns$3={bigint:at=>typeof at=="bigint",function:at=>typeof at=="function",boolean:at=>typeof at=="boolean",string:at=>typeof at=="string",stringOrUint8Array:at=>typeof at=="string"||isBytes$3(at),isSafeInteger:at=>Number.isSafeInteger(at),array:at=>Array.isArray(at),field:(at,zs)=>zs.Fp.isValid(at),hash:at=>typeof at=="function"&&Number.isSafeInteger(at.outputLen)};function validateObject$3(at,zs,Ws={}){const qs=(Ys,Xs,Zs)=>{const yl=validatorFns$3[Xs];if(typeof yl!="function")throw new Error("invalid validator function");const Js=at[Ys];if(!(Zs&&Js===void 0)&&!yl(Js,at))throw new Error("param "+String(Ys)+" is invalid. Expected "+Xs+", got "+Js)};for(const[Ys,Xs]of Object.entries(zs))qs(Ys,Xs,!1);for(const[Ys,Xs]of Object.entries(Ws))qs(Ys,Xs,!0);return at}function memoized$3(at){const zs=new WeakMap;return(Ws,...qs)=>{const Ys=zs.get(Ws);if(Ys!==void 0)return Ys;const Xs=at(Ws,...qs);return zs.set(Ws,Xs),Xs}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$m=BigInt(0),_1n$n=BigInt(1),_2n$b=BigInt(2),_3n$9=BigInt(3),_4n$7=BigInt(4),_5n$4=BigInt(5),_8n$4=BigInt(8);function mod$4(at,zs){const Ws=at%zs;return Ws>=_0n$m?Ws:zs+Ws}function invert$4(at,zs){if(at===_0n$m)throw new Error("invert: expected non-zero number");if(zs<=_0n$m)throw new Error("invert: expected positive modulus, got "+zs);let Ws=mod$4(at,zs),qs=zs,Ys=_0n$m,Xs=_1n$n;for(;Ws!==_0n$m;){const yl=qs/Ws,Js=qs%Ws,$l=Ys-Xs*yl;qs=Ws,Ws=Js,Ys=Xs,Xs=$l}if(qs!==_1n$n)throw new Error("invert: does not exist");return mod$4(Ys,zs)}function tonelliShanks$4(at){let zs=at-_1n$n,Ws=0;for(;zs%_2n$b===_0n$m;)zs/=_2n$b,Ws++;let qs=_2n$b;const Ys=Field$4(at);for(;qs<at&&FpIsSquare(Ys,qs);)if(qs++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(Ws===1){const Zs=(at+_1n$n)/_4n$7;return function(Js,$l){const El=Js.pow($l,Zs);if(!Js.eql(Js.sqr(El),$l))throw new Error("Cannot find square root");return El}}const Xs=(zs+_1n$n)/_2n$b;return function(yl,Js){if(!FpIsSquare(yl,Js))throw new Error("Cannot find square root");let $l=Ws,El=yl.pow(yl.mul(yl.ONE,qs),zs),wl=yl.pow(Js,Xs),_l=yl.pow(Js,zs);for(;!yl.eql(_l,yl.ONE);){if(yl.eql(_l,yl.ZERO))return yl.ZERO;let Sl=1;for(let Il=yl.sqr(_l);Sl<$l&&!yl.eql(Il,yl.ONE);Sl++)Il=yl.sqr(Il);const Tl=yl.pow(El,_1n$n<<BigInt($l-Sl-1));El=yl.sqr(Tl),wl=yl.mul(wl,Tl),_l=yl.mul(_l,El),$l=Sl}return wl}}function FpSqrt$4(at){return at%_4n$7===_3n$9?function(Ws,qs){const Ys=(at+_1n$n)/_4n$7,Xs=Ws.pow(qs,Ys);if(!Ws.eql(Ws.sqr(Xs),qs))throw new Error("Cannot find square root");return Xs}:at%_8n$4===_5n$4?function(Ws,qs){const Ys=Ws.mul(qs,_2n$b),Xs=(at-_5n$4)/_8n$4,Zs=Ws.pow(Ys,Xs),yl=Ws.mul(qs,Zs),Js=Ws.mul(Ws.mul(yl,_2n$b),Zs),$l=Ws.mul(yl,Ws.sub(Js,Ws.ONE));if(!Ws.eql(Ws.sqr($l),qs))throw new Error("Cannot find square root");return $l}:tonelliShanks$4(at)}const FIELD_FIELDS$4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$4(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Ws=FIELD_FIELDS$4.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return validateObject$3(at,Ws)}function FpPow$4(at,zs,Ws){if(Ws<_0n$m)throw new Error("invalid exponent, negatives unsupported");if(Ws===_0n$m)return at.ONE;if(Ws===_1n$n)return zs;let qs=at.ONE,Ys=zs;for(;Ws>_0n$m;)Ws&_1n$n&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=_1n$n;return qs}function FpInvertBatch$4(at,zs,Ws=!1){const qs=new Array(zs.length).fill(Ws?at.ZERO:void 0),Ys=zs.reduce((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=Zs,at.mul(Zs,yl)),at.ONE),Xs=at.inv(Ys);return zs.reduceRight((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=at.mul(Zs,qs[Js]),at.mul(Zs,yl)),Xs),qs}function FpLegendre$3(at,zs){const Ws=(at.ORDER-_1n$n)/_2n$b,qs=at.pow(zs,Ws),Ys=at.eql(qs,at.ONE),Xs=at.eql(qs,at.ZERO),Zs=at.eql(qs,at.neg(at.ONE));if(!Ys&&!Xs&&!Zs)throw new Error("Cannot find square root: probably non-prime P");return Ys?1:Xs?0:-1}function FpIsSquare(at,zs){const Ws=FpLegendre$3(at,zs);return Ws===0||Ws===1}function nLength$4(at,zs){zs!==void 0&&anumber$1(zs);const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function Field$4(at,zs,Ws=!1,qs={}){if(at<=_0n$m)throw new Error("invalid field: expected ORDER > 0, got "+at);const{nBitLength:Ys,nByteLength:Xs}=nLength$4(at,zs);if(Xs>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Zs;const yl=Object.freeze({ORDER:at,isLE:Ws,BITS:Ys,BYTES:Xs,MASK:bitMask$4(Ys),ZERO:_0n$m,ONE:_1n$n,create:Js=>mod$4(Js,at),isValid:Js=>{if(typeof Js!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Js);return _0n$m<=Js&&Js<at},is0:Js=>Js===_0n$m,isOdd:Js=>(Js&_1n$n)===_1n$n,neg:Js=>mod$4(-Js,at),eql:(Js,$l)=>Js===$l,sqr:Js=>mod$4(Js*Js,at),add:(Js,$l)=>mod$4(Js+$l,at),sub:(Js,$l)=>mod$4(Js-$l,at),mul:(Js,$l)=>mod$4(Js*$l,at),pow:(Js,$l)=>FpPow$4(yl,Js,$l),div:(Js,$l)=>mod$4(Js*invert$4($l,at),at),sqrN:Js=>Js*Js,addN:(Js,$l)=>Js+$l,subN:(Js,$l)=>Js-$l,mulN:(Js,$l)=>Js*$l,inv:Js=>invert$4(Js,at),sqrt:qs.sqrt||(Js=>(Zs||(Zs=FpSqrt$4(at)),Zs(yl,Js))),toBytes:Js=>Ws?numberToBytesLE$4(Js,Xs):numberToBytesBE$4(Js,Xs),fromBytes:Js=>{if(Js.length!==Xs)throw new Error("Field.fromBytes: expected "+Xs+" bytes, got "+Js.length);return Ws?bytesToNumberLE$4(Js):bytesToNumberBE$4(Js)},invertBatch:Js=>FpInvertBatch$4(yl,Js),cmov:(Js,$l,El)=>El?$l:Js});return Object.freeze(yl)}function getFieldBytesLength$4(at){if(typeof at!="bigint")throw new Error("field order must be bigint");const zs=at.toString(2).length;return Math.ceil(zs/8)}function getMinHashLength$4(at){const zs=getFieldBytesLength$4(at);return zs+Math.ceil(zs/2)}function mapHashToField$4(at,zs,Ws=!1){const qs=at.length,Ys=getFieldBytesLength$4(zs),Xs=getMinHashLength$4(zs);if(qs<16||qs<Xs||qs>1024)throw new Error("expected "+Xs+"-1024 bytes of input, got "+qs);const Zs=Ws?bytesToNumberLE$4(at):bytesToNumberBE$4(at),yl=mod$4(Zs,zs-_1n$n)+_1n$n;return Ws?numberToBytesLE$4(yl,Ys):numberToBytesBE$4(yl,Ys)}let HMAC$1=class extends Hash$2{constructor(zs,Ws){super(),this.finished=!1,this.destroyed=!1,ahash(zs);const qs=toBytes$2(Ws);if(this.iHash=zs.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const Ys=this.blockLen,Xs=new Uint8Array(Ys);Xs.set(qs.length>Ys?zs.create().update(qs).digest():qs);for(let Zs=0;Zs<Xs.length;Zs++)Xs[Zs]^=54;this.iHash.update(Xs),this.oHash=zs.create();for(let Zs=0;Zs<Xs.length;Zs++)Xs[Zs]^=106;this.oHash.update(Xs),clean(Xs)}update(zs){return aexists(this),this.iHash.update(zs),this}digestInto(zs){aexists(this),abytes$3(zs,this.outputLen),this.finished=!0,this.iHash.digestInto(zs),this.oHash.update(zs),this.oHash.digestInto(zs),this.destroy()}digest(){const zs=new Uint8Array(this.oHash.outputLen);return this.digestInto(zs),zs}_cloneInto(zs){zs||(zs=Object.create(Object.getPrototypeOf(this),{}));const{oHash:Ws,iHash:qs,finished:Ys,destroyed:Xs,blockLen:Zs,outputLen:yl}=this;return zs=zs,zs.finished=Ys,zs.destroyed=Xs,zs.blockLen=Zs,zs.outputLen=yl,zs.oHash=Ws._cloneInto(zs.oHash),zs.iHash=qs._cloneInto(zs.iHash),zs}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$1=(at,zs,Ws)=>new HMAC$1(at,zs).update(Ws).digest();hmac$1.create=(at,zs)=>new HMAC$1(at,zs);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$l=BigInt(0),_1n$m=BigInt(1);function constTimeNegate$2(at,zs){const Ws=zs.negate();return at?Ws:zs}function validateW$3(at,zs){if(!Number.isSafeInteger(at)||at<=0||at>zs)throw new Error("invalid window size, expected [1.."+zs+"], got W="+at)}function calcWOpts$3(at,zs){validateW$3(at,zs);const Ws=Math.ceil(zs/at)+1,qs=2**(at-1),Ys=2**at,Xs=bitMask$4(at),Zs=BigInt(at);return{windows:Ws,windowSize:qs,mask:Xs,maxNumber:Ys,shiftBy:Zs}}function calcOffsets$3(at,zs,Ws){const{windowSize:qs,mask:Ys,maxNumber:Xs,shiftBy:Zs}=Ws;let yl=Number(at&Ys),Js=at>>Zs;yl>qs&&(yl-=Xs,Js+=_1n$m);const $l=zs*qs,El=$l+Math.abs(yl)-1,wl=yl===0,_l=yl<0,Sl=zs%2!==0;return{nextN:Js,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:$l}}function validateMSMPoints$3(at,zs){if(!Array.isArray(at))throw new Error("array expected");at.forEach((Ws,qs)=>{if(!(Ws instanceof zs))throw new Error("invalid point at index "+qs)})}function validateMSMScalars$3(at,zs){if(!Array.isArray(at))throw new Error("array of scalars expected");at.forEach((Ws,qs)=>{if(!zs.isValid(Ws))throw new Error("invalid scalar at index "+qs)})}const pointPrecomputes$3=new WeakMap,pointWindowSizes$3=new WeakMap;function getW$3(at){return pointWindowSizes$3.get(at)||1}function wNAF$4(at,zs){return{constTimeNegate:constTimeNegate$2,hasPrecomputes(Ws){return getW$3(Ws)!==1},unsafeLadder(Ws,qs,Ys=at.ZERO){let Xs=Ws;for(;qs>_0n$l;)qs&_1n$m&&(Ys=Ys.add(Xs)),Xs=Xs.double(),qs>>=_1n$m;return Ys},precomputeWindow(Ws,qs){const{windows:Ys,windowSize:Xs}=calcWOpts$3(qs,zs),Zs=[];let yl=Ws,Js=yl;for(let $l=0;$l<Ys;$l++){Js=yl,Zs.push(Js);for(let El=1;El<Xs;El++)Js=Js.add(yl),Zs.push(Js);yl=Js.double()}return Zs},wNAF(Ws,qs,Ys){let Xs=at.ZERO,Zs=at.BASE;const yl=calcWOpts$3(Ws,zs);for(let Js=0;Js<yl.windows;Js++){const{nextN:$l,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:Tl}=calcOffsets$3(Ys,Js,yl);Ys=$l,wl?Zs=Zs.add(constTimeNegate$2(Sl,qs[Tl])):Xs=Xs.add(constTimeNegate$2(_l,qs[El]))}return{p:Xs,f:Zs}},wNAFUnsafe(Ws,qs,Ys,Xs=at.ZERO){const Zs=calcWOpts$3(Ws,zs);for(let yl=0;yl<Zs.windows&&Ys!==_0n$l;yl++){const{nextN:Js,offset:$l,isZero:El,isNeg:wl}=calcOffsets$3(Ys,yl,Zs);if(Ys=Js,!El){const _l=qs[$l];Xs=Xs.add(wl?_l.negate():_l)}}return Xs},getPrecomputes(Ws,qs,Ys){let Xs=pointPrecomputes$3.get(qs);return Xs||(Xs=this.precomputeWindow(qs,Ws),Ws!==1&&pointPrecomputes$3.set(qs,Ys(Xs))),Xs},wNAFCached(Ws,qs,Ys){const Xs=getW$3(Ws);return this.wNAF(Xs,this.getPrecomputes(Xs,Ws,Ys),qs)},wNAFCachedUnsafe(Ws,qs,Ys,Xs){const Zs=getW$3(Ws);return Zs===1?this.unsafeLadder(Ws,qs,Xs):this.wNAFUnsafe(Zs,this.getPrecomputes(Zs,Ws,Ys),qs,Xs)},setWindowSize(Ws,qs){validateW$3(qs,zs),pointWindowSizes$3.set(Ws,qs),pointPrecomputes$3.delete(Ws)}}}function pippenger$3(at,zs,Ws,qs){if(validateMSMPoints$3(Ws,at),validateMSMScalars$3(qs,zs),Ws.length!==qs.length)throw new Error("arrays of points and scalars must have equal length");const Ys=at.ZERO,Xs=bitLen$4(BigInt(Ws.length)),Zs=Xs>12?Xs-3:Xs>4?Xs-2:Xs?2:1,yl=bitMask$4(Zs),Js=new Array(Number(yl)+1).fill(Ys),$l=Math.floor((zs.BITS-1)/Zs)*Zs;let El=Ys;for(let wl=$l;wl>=0;wl-=Zs){Js.fill(Ys);for(let Sl=0;Sl<qs.length;Sl++){const Tl=qs[Sl],Il=Number(Tl>>BigInt(wl)&yl);Js[Il]=Js[Il].add(Ws[Sl])}let _l=Ys;for(let Sl=Js.length-1,Tl=Ys;Sl>0;Sl--)Tl=Tl.add(Js[Sl]),_l=_l.add(Tl);if(El=El.add(_l),wl!==0)for(let Sl=0;Sl<Zs;Sl++)El=El.double()}return El}function validateBasic$3(at){return validateField$4(at.Fp),validateObject$3(at,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$4(at.n,at.nBitLength),...at,p:at.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts$2(at){at.lowS!==void 0&&abool$2("lowS",at.lowS),at.prehash!==void 0&&abool$2("prehash",at.prehash)}function validatePointOpts$3(at){const zs=validateBasic$3(at);validateObject$3(zs,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:Ws,Fp:qs,a:Ys}=zs;if(Ws){if(!qs.eql(Ys,qs.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof Ws!="object"||typeof Ws.beta!="bigint"||typeof Ws.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...zs})}let DERErr$3=class extends Error{constructor(zs=""){super(zs)}};const DER$4={Err:DERErr$3,_tlv:{encode:(at,zs)=>{const{Err:Ws}=DER$4;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length&1)throw new Ws("tlv.encode: unpadded data");const qs=zs.length/2,Ys=numberToHexUnpadded$4(qs);if(Ys.length/2&128)throw new Ws("tlv.encode: long form length too big");const Xs=qs>127?numberToHexUnpadded$4(Ys.length/2|128):"";return numberToHexUnpadded$4(at)+Xs+Ys+zs},decode(at,zs){const{Err:Ws}=DER$4;let qs=0;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length<2||zs[qs++]!==at)throw new Ws("tlv.decode: wrong tlv");const Ys=zs[qs++],Xs=!!(Ys&128);let Zs=0;if(!Xs)Zs=Ys;else{const Js=Ys&127;if(!Js)throw new Ws("tlv.decode(long): indefinite length not supported");if(Js>4)throw new Ws("tlv.decode(long): byte length is too big");const $l=zs.subarray(qs,qs+Js);if($l.length!==Js)throw new Ws("tlv.decode: length bytes not complete");if($l[0]===0)throw new Ws("tlv.decode(long): zero leftmost byte");for(const El of $l)Zs=Zs<<8|El;if(qs+=Js,Zs<128)throw new Ws("tlv.decode(long): not minimal encoding")}const yl=zs.subarray(qs,qs+Zs);if(yl.length!==Zs)throw new Ws("tlv.decode: wrong value length");return{v:yl,l:zs.subarray(qs+Zs)}}},_int:{encode(at){const{Err:zs}=DER$4;if(at<_0n$k)throw new zs("integer: negative integers are not allowed");let Ws=numberToHexUnpadded$4(at);if(Number.parseInt(Ws[0],16)&8&&(Ws="00"+Ws),Ws.length&1)throw new zs("unexpected DER parsing assertion: unpadded hex");return Ws},decode(at){const{Err:zs}=DER$4;if(at[0]&128)throw new zs("invalid signature integer: negative");if(at[0]===0&&!(at[1]&128))throw new zs("invalid signature integer: unnecessary leading zero");return bytesToNumberBE$4(at)}},toSig(at){const{Err:zs,_int:Ws,_tlv:qs}=DER$4,Ys=ensureBytes$4("signature",at),{v:Xs,l:Zs}=qs.decode(48,Ys);if(Zs.length)throw new zs("invalid signature: left bytes after parsing");const{v:yl,l:Js}=qs.decode(2,Xs),{v:$l,l:El}=qs.decode(2,Js);if(El.length)throw new zs("invalid signature: left bytes after parsing");return{r:Ws.decode(yl),s:Ws.decode($l)}},hexFromSig(at){const{_tlv:zs,_int:Ws}=DER$4,qs=zs.encode(2,Ws.encode(at.r)),Ys=zs.encode(2,Ws.encode(at.s)),Xs=qs+Ys;return zs.encode(48,Xs)}},_0n$k=BigInt(0),_1n$l=BigInt(1);BigInt(2);const _3n$8=BigInt(3);BigInt(4);function weierstrassPoints$3(at){const zs=validatePointOpts$3(at),{Fp:Ws}=zs,qs=Field$4(zs.n,zs.nBitLength),Ys=zs.toBytes||((Il,Al,xl)=>{const Pl=Al.toAffine();return concatBytes$5(Uint8Array.from([4]),Ws.toBytes(Pl.x),Ws.toBytes(Pl.y))}),Xs=zs.fromBytes||(Il=>{const Al=Il.subarray(1),xl=Ws.fromBytes(Al.subarray(0,Ws.BYTES)),Pl=Ws.fromBytes(Al.subarray(Ws.BYTES,2*Ws.BYTES));return{x:xl,y:Pl}});function Zs(Il){const{a:Al,b:xl}=zs,Pl=Ws.sqr(Il),Cl=Ws.mul(Pl,Il);return Ws.add(Ws.add(Cl,Ws.mul(Il,Al)),xl)}if(!Ws.eql(Ws.sqr(zs.Gy),Zs(zs.Gx)))throw new Error("bad generator point: equation left != right");function yl(Il){return inRange$3(Il,_1n$l,zs.n)}function Js(Il){const{allowedPrivateKeyLengths:Al,nByteLength:xl,wrapPrivateKey:Pl,n:Cl}=zs;if(Al&&typeof Il!="bigint"){if(isBytes$3(Il)&&(Il=bytesToHex$4(Il)),typeof Il!="string"||!Al.includes(Il.length))throw new Error("invalid private key");Il=Il.padStart(xl*2,"0")}let Rl;try{Rl=typeof Il=="bigint"?Il:bytesToNumberBE$4(ensureBytes$4("private key",Il,xl))}catch{throw new Error("invalid private key, expected hex or "+xl+" bytes, got "+typeof Il)}return Pl&&(Rl=mod$4(Rl,Cl)),aInRange$3("private key",Rl,_1n$l,Cl),Rl}function $l(Il){if(!(Il instanceof _l))throw new Error("ProjectivePoint expected")}const El=memoized$3((Il,Al)=>{const{px:xl,py:Pl,pz:Cl}=Il;if(Ws.eql(Cl,Ws.ONE))return{x:xl,y:Pl};const Rl=Il.is0();Al==null&&(Al=Rl?Ws.ONE:Ws.inv(Cl));const Ol=Ws.mul(xl,Al),Ml=Ws.mul(Pl,Al),Ll=Ws.mul(Cl,Al);if(Rl)return{x:Ws.ZERO,y:Ws.ZERO};if(!Ws.eql(Ll,Ws.ONE))throw new Error("invZ was invalid");return{x:Ol,y:Ml}}),wl=memoized$3(Il=>{if(Il.is0()){if(zs.allowInfinityPoint&&!Ws.is0(Il.py))return;throw new Error("bad point: ZERO")}const{x:Al,y:xl}=Il.toAffine();if(!Ws.isValid(Al)||!Ws.isValid(xl))throw new Error("bad point: x or y not FE");const Pl=Ws.sqr(xl),Cl=Zs(Al);if(!Ws.eql(Pl,Cl))throw new Error("bad point: equation left != right");if(!Il.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _l{constructor(Al,xl,Pl){if(Al==null||!Ws.isValid(Al))throw new Error("x required");if(xl==null||!Ws.isValid(xl)||Ws.is0(xl))throw new Error("y required");if(Pl==null||!Ws.isValid(Pl))throw new Error("z required");this.px=Al,this.py=xl,this.pz=Pl,Object.freeze(this)}static fromAffine(Al){const{x:xl,y:Pl}=Al||{};if(!Al||!Ws.isValid(xl)||!Ws.isValid(Pl))throw new Error("invalid affine point");if(Al instanceof _l)throw new Error("projective point not allowed");const Cl=Rl=>Ws.eql(Rl,Ws.ZERO);return Cl(xl)&&Cl(Pl)?_l.ZERO:new _l(xl,Pl,Ws.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Al){const xl=FpInvertBatch$4(Ws,Al.map(Pl=>Pl.pz));return Al.map((Pl,Cl)=>Pl.toAffine(xl[Cl])).map(_l.fromAffine)}static fromHex(Al){const xl=_l.fromAffine(Xs(ensureBytes$4("pointHex",Al)));return xl.assertValidity(),xl}static fromPrivateKey(Al){return _l.BASE.multiply(Js(Al))}static msm(Al,xl){return pippenger$3(_l,qs,Al,xl)}_setWindowSize(Al){Tl.setWindowSize(this,Al)}assertValidity(){wl(this)}hasEvenY(){const{y:Al}=this.toAffine();if(Ws.isOdd)return!Ws.isOdd(Al);throw new Error("Field doesn't support isOdd")}equals(Al){$l(Al);const{px:xl,py:Pl,pz:Cl}=this,{px:Rl,py:Ol,pz:Ml}=Al,Ll=Ws.eql(Ws.mul(xl,Ml),Ws.mul(Rl,Cl)),Bl=Ws.eql(Ws.mul(Pl,Ml),Ws.mul(Ol,Cl));return Ll&&Bl}negate(){return new _l(this.px,Ws.neg(this.py),this.pz)}double(){const{a:Al,b:xl}=zs,Pl=Ws.mul(xl,_3n$8),{px:Cl,py:Rl,pz:Ol}=this;let Ml=Ws.ZERO,Ll=Ws.ZERO,Bl=Ws.ZERO,Wl=Ws.mul(Cl,Cl),Yl=Ws.mul(Rl,Rl),Kl=Ws.mul(Ol,Ol),Xl=Ws.mul(Cl,Rl);return Xl=Ws.add(Xl,Xl),Bl=Ws.mul(Cl,Ol),Bl=Ws.add(Bl,Bl),Ml=Ws.mul(Al,Bl),Ll=Ws.mul(Pl,Kl),Ll=Ws.add(Ml,Ll),Ml=Ws.sub(Yl,Ll),Ll=Ws.add(Yl,Ll),Ll=Ws.mul(Ml,Ll),Ml=Ws.mul(Xl,Ml),Bl=Ws.mul(Pl,Bl),Kl=Ws.mul(Al,Kl),Xl=Ws.sub(Wl,Kl),Xl=Ws.mul(Al,Xl),Xl=Ws.add(Xl,Bl),Bl=Ws.add(Wl,Wl),Wl=Ws.add(Bl,Wl),Wl=Ws.add(Wl,Kl),Wl=Ws.mul(Wl,Xl),Ll=Ws.add(Ll,Wl),Kl=Ws.mul(Rl,Ol),Kl=Ws.add(Kl,Kl),Wl=Ws.mul(Kl,Xl),Ml=Ws.sub(Ml,Wl),Bl=Ws.mul(Kl,Yl),Bl=Ws.add(Bl,Bl),Bl=Ws.add(Bl,Bl),new _l(Ml,Ll,Bl)}add(Al){$l(Al);const{px:xl,py:Pl,pz:Cl}=this,{px:Rl,py:Ol,pz:Ml}=Al;let Ll=Ws.ZERO,Bl=Ws.ZERO,Wl=Ws.ZERO;const Yl=zs.a,Kl=Ws.mul(zs.b,_3n$8);let Xl=Ws.mul(xl,Rl),Ul=Ws.mul(Pl,Ol),Vl=Ws.mul(Cl,Ml),Nl=Ws.add(xl,Pl),Dl=Ws.add(Rl,Ol);Nl=Ws.mul(Nl,Dl),Dl=Ws.add(Xl,Ul),Nl=Ws.sub(Nl,Dl),Dl=Ws.add(xl,Cl);let Gl=Ws.add(Rl,Ml);return Dl=Ws.mul(Dl,Gl),Gl=Ws.add(Xl,Vl),Dl=Ws.sub(Dl,Gl),Gl=Ws.add(Pl,Cl),Ll=Ws.add(Ol,Ml),Gl=Ws.mul(Gl,Ll),Ll=Ws.add(Ul,Vl),Gl=Ws.sub(Gl,Ll),Wl=Ws.mul(Yl,Dl),Ll=Ws.mul(Kl,Vl),Wl=Ws.add(Ll,Wl),Ll=Ws.sub(Ul,Wl),Wl=Ws.add(Ul,Wl),Bl=Ws.mul(Ll,Wl),Ul=Ws.add(Xl,Xl),Ul=Ws.add(Ul,Xl),Vl=Ws.mul(Yl,Vl),Dl=Ws.mul(Kl,Dl),Ul=Ws.add(Ul,Vl),Vl=Ws.sub(Xl,Vl),Vl=Ws.mul(Yl,Vl),Dl=Ws.add(Dl,Vl),Xl=Ws.mul(Ul,Dl),Bl=Ws.add(Bl,Xl),Xl=Ws.mul(Gl,Dl),Ll=Ws.mul(Nl,Ll),Ll=Ws.sub(Ll,Xl),Xl=Ws.mul(Nl,Ul),Wl=Ws.mul(Gl,Wl),Wl=Ws.add(Wl,Xl),new _l(Ll,Bl,Wl)}subtract(Al){return this.add(Al.negate())}is0(){return this.equals(_l.ZERO)}wNAF(Al){return Tl.wNAFCached(this,Al,_l.normalizeZ)}multiplyUnsafe(Al){const{endo:xl,n:Pl}=zs;aInRange$3("scalar",Al,_0n$k,Pl);const Cl=_l.ZERO;if(Al===_0n$k)return Cl;if(this.is0()||Al===_1n$l)return this;if(!xl||Tl.hasPrecomputes(this))return Tl.wNAFCachedUnsafe(this,Al,_l.normalizeZ);let{k1neg:Rl,k1:Ol,k2neg:Ml,k2:Ll}=xl.splitScalar(Al),Bl=Cl,Wl=Cl,Yl=this;for(;Ol>_0n$k||Ll>_0n$k;)Ol&_1n$l&&(Bl=Bl.add(Yl)),Ll&_1n$l&&(Wl=Wl.add(Yl)),Yl=Yl.double(),Ol>>=_1n$l,Ll>>=_1n$l;return Rl&&(Bl=Bl.negate()),Ml&&(Wl=Wl.negate()),Wl=new _l(Ws.mul(Wl.px,xl.beta),Wl.py,Wl.pz),Bl.add(Wl)}multiply(Al){const{endo:xl,n:Pl}=zs;aInRange$3("scalar",Al,_1n$l,Pl);let Cl,Rl;if(xl){const{k1neg:Ol,k1:Ml,k2neg:Ll,k2:Bl}=xl.splitScalar(Al);let{p:Wl,f:Yl}=this.wNAF(Ml),{p:Kl,f:Xl}=this.wNAF(Bl);Wl=Tl.constTimeNegate(Ol,Wl),Kl=Tl.constTimeNegate(Ll,Kl),Kl=new _l(Ws.mul(Kl.px,xl.beta),Kl.py,Kl.pz),Cl=Wl.add(Kl),Rl=Yl.add(Xl)}else{const{p:Ol,f:Ml}=this.wNAF(Al);Cl=Ol,Rl=Ml}return _l.normalizeZ([Cl,Rl])[0]}multiplyAndAddUnsafe(Al,xl,Pl){const Cl=_l.BASE,Rl=(Ml,Ll)=>Ll===_0n$k||Ll===_1n$l||!Ml.equals(Cl)?Ml.multiplyUnsafe(Ll):Ml.multiply(Ll),Ol=Rl(this,xl).add(Rl(Al,Pl));return Ol.is0()?void 0:Ol}toAffine(Al){return El(this,Al)}isTorsionFree(){const{h:Al,isTorsionFree:xl}=zs;if(Al===_1n$l)return!0;if(xl)return xl(_l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Al,clearCofactor:xl}=zs;return Al===_1n$l?this:xl?xl(_l,this):this.multiplyUnsafe(zs.h)}toRawBytes(Al=!0){return abool$2("isCompressed",Al),this.assertValidity(),Ys(_l,this,Al)}toHex(Al=!0){return abool$2("isCompressed",Al),bytesToHex$4(this.toRawBytes(Al))}}_l.BASE=new _l(zs.Gx,zs.Gy,Ws.ONE),_l.ZERO=new _l(Ws.ZERO,Ws.ONE,Ws.ZERO);const Sl=zs.nBitLength,Tl=wNAF$4(_l,zs.endo?Math.ceil(Sl/2):Sl);return{CURVE:zs,ProjectivePoint:_l,normPrivateKeyToScalar:Js,weierstrassEquation:Zs,isWithinCurveOrder:yl}}function validateOpts$3(at){const zs=validateBasic$3(at);return validateObject$3(zs,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...zs})}function weierstrass$4(at){const zs=validateOpts$3(at),{Fp:Ws,n:qs}=zs,Ys=Ws.BYTES+1,Xs=2*Ws.BYTES+1;function Zs(Vl){return mod$4(Vl,qs)}function yl(Vl){return invert$4(Vl,qs)}const{ProjectivePoint:Js,normPrivateKeyToScalar:$l,weierstrassEquation:El,isWithinCurveOrder:wl}=weierstrassPoints$3({...zs,toBytes(Vl,Nl,Dl){const Gl=Nl.toAffine(),Fl=Ws.toBytes(Gl.x),Hl=concatBytes$5;return abool$2("isCompressed",Dl),Dl?Hl(Uint8Array.from([Nl.hasEvenY()?2:3]),Fl):Hl(Uint8Array.from([4]),Fl,Ws.toBytes(Gl.y))},fromBytes(Vl){const Nl=Vl.length,Dl=Vl[0],Gl=Vl.subarray(1);if(Nl===Ys&&(Dl===2||Dl===3)){const Fl=bytesToNumberBE$4(Gl);if(!inRange$3(Fl,_1n$l,Ws.ORDER))throw new Error("Point is not on curve");const Hl=El(Fl);let Zl;try{Zl=Ws.sqrt(Hl)}catch(Pu){const ku=Pu instanceof Error?": "+Pu.message:"";throw new Error("Point is not on curve"+ku)}const Su=(Zl&_1n$l)===_1n$l;return(Dl&1)===1!==Su&&(Zl=Ws.neg(Zl)),{x:Fl,y:Zl}}else if(Nl===Xs&&Dl===4){const Fl=Ws.fromBytes(Gl.subarray(0,Ws.BYTES)),Hl=Ws.fromBytes(Gl.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Fl,y:Hl}}else{const Fl=Ys,Hl=Xs;throw new Error("invalid Point, expected length of "+Fl+", or uncompressed "+Hl+", got "+Nl)}}}),_l=Vl=>bytesToHex$4(numberToBytesBE$4(Vl,zs.nByteLength));function Sl(Vl){const Nl=qs>>_1n$l;return Vl>Nl}function Tl(Vl){return Sl(Vl)?Zs(-Vl):Vl}const Il=(Vl,Nl,Dl)=>bytesToNumberBE$4(Vl.slice(Nl,Dl));class Al{constructor(Nl,Dl,Gl){aInRange$3("r",Nl,_1n$l,qs),aInRange$3("s",Dl,_1n$l,qs),this.r=Nl,this.s=Dl,Gl!=null&&(this.recovery=Gl),Object.freeze(this)}static fromCompact(Nl){const Dl=zs.nByteLength;return Nl=ensureBytes$4("compactSignature",Nl,Dl*2),new Al(Il(Nl,0,Dl),Il(Nl,Dl,2*Dl))}static fromDER(Nl){const{r:Dl,s:Gl}=DER$4.toSig(ensureBytes$4("DER",Nl));return new Al(Dl,Gl)}assertValidity(){}addRecoveryBit(Nl){return new Al(this.r,this.s,Nl)}recoverPublicKey(Nl){const{r:Dl,s:Gl,recovery:Fl}=this,Hl=Ml(ensureBytes$4("msgHash",Nl));if(Fl==null||![0,1,2,3].includes(Fl))throw new Error("recovery id invalid");const Zl=Fl===2||Fl===3?Dl+zs.n:Dl;if(Zl>=Ws.ORDER)throw new Error("recovery id 2 or 3 invalid");const Su=Fl&1?"03":"02",$u=Js.fromHex(Su+_l(Zl)),Pu=yl(Zl),ku=Zs(-Hl*Pu),Tu=Zs(Gl*Pu),Ru=Js.BASE.multiplyAndAddUnsafe($u,ku,Tu);if(!Ru)throw new Error("point at infinify");return Ru.assertValidity(),Ru}hasHighS(){return Sl(this.s)}normalizeS(){return this.hasHighS()?new Al(this.r,Zs(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$4(this.toDERHex())}toDERHex(){return DER$4.hexFromSig(this)}toCompactRawBytes(){return hexToBytes$4(this.toCompactHex())}toCompactHex(){return _l(this.r)+_l(this.s)}}const xl={isValidPrivateKey(Vl){try{return $l(Vl),!0}catch{return!1}},normPrivateKeyToScalar:$l,randomPrivateKey:()=>{const Vl=getMinHashLength$4(zs.n);return mapHashToField$4(zs.randomBytes(Vl),zs.n)},precompute(Vl=8,Nl=Js.BASE){return Nl._setWindowSize(Vl),Nl.multiply(BigInt(3)),Nl}};function Pl(Vl,Nl=!0){return Js.fromPrivateKey(Vl).toRawBytes(Nl)}function Cl(Vl){const Nl=isBytes$3(Vl),Dl=typeof Vl=="string",Gl=(Nl||Dl)&&Vl.length;return Nl?Gl===Ys||Gl===Xs:Dl?Gl===2*Ys||Gl===2*Xs:Vl instanceof Js}function Rl(Vl,Nl,Dl=!0){if(Cl(Vl))throw new Error("first arg must be private key");if(!Cl(Nl))throw new Error("second arg must be public key");return Js.fromHex(Nl).multiply($l(Vl)).toRawBytes(Dl)}const Ol=zs.bits2int||function(Vl){if(Vl.length>8192)throw new Error("input is too large");const Nl=bytesToNumberBE$4(Vl),Dl=Vl.length*8-zs.nBitLength;return Dl>0?Nl>>BigInt(Dl):Nl},Ml=zs.bits2int_modN||function(Vl){return Zs(Ol(Vl))},Ll=bitMask$4(zs.nBitLength);function Bl(Vl){return aInRange$3("num < 2^"+zs.nBitLength,Vl,_0n$k,Ll),numberToBytesBE$4(Vl,zs.nByteLength)}function Wl(Vl,Nl,Dl=Yl){if(["recovered","canonical"].some(Hu=>Hu in Dl))throw new Error("sign() legacy options not supported");const{hash:Gl,randomBytes:Fl}=zs;let{lowS:Hl,prehash:Zl,extraEntropy:Su}=Dl;Hl==null&&(Hl=!0),Vl=ensureBytes$4("msgHash",Vl),validateSigVerOpts$2(Dl),Zl&&(Vl=ensureBytes$4("prehashed msgHash",Gl(Vl)));const $u=Ml(Vl),Pu=$l(Nl),ku=[Bl(Pu),Bl($u)];if(Su!=null&&Su!==!1){const Hu=Su===!0?Fl(Ws.BYTES):Su;ku.push(ensureBytes$4("extraEntropy",Hu))}const Tu=concatBytes$5(...ku),Ru=$u;function Mu(Hu){const Ku=Ol(Hu);if(!wl(Ku))return;const Fu=yl(Ku),ju=Js.BASE.multiply(Ku).toAffine(),qu=Zs(ju.x);if(qu===_0n$k)return;const Zu=Zs(Fu*Zs(Ru+qu*Pu));if(Zu===_0n$k)return;let _d=(ju.x===qu?0:2)|Number(ju.y&_1n$l),vp=Zu;return Hl&&Sl(Zu)&&(vp=Tl(Zu),_d^=1),new Al(qu,vp,_d)}return{seed:Tu,k2sig:Mu}}const Yl={lowS:zs.lowS,prehash:!1},Kl={lowS:zs.lowS,prehash:!1};function Xl(Vl,Nl,Dl=Yl){const{seed:Gl,k2sig:Fl}=Wl(Vl,Nl,Dl),Hl=zs;return createHmacDrbg$4(Hl.hash.outputLen,Hl.nByteLength,Hl.hmac)(Gl,Fl)}Js.BASE._setWindowSize(8);function Ul(Vl,Nl,Dl,Gl=Kl){var _d;const Fl=Vl;Nl=ensureBytes$4("msgHash",Nl),Dl=ensureBytes$4("publicKey",Dl);const{lowS:Hl,prehash:Zl,format:Su}=Gl;if(validateSigVerOpts$2(Gl),"strict"in Gl)throw new Error("options.strict was renamed to lowS");if(Su!==void 0&&Su!=="compact"&&Su!=="der")throw new Error("format must be compact or der");const $u=typeof Fl=="string"||isBytes$3(Fl),Pu=!$u&&!Su&&typeof Fl=="object"&&Fl!==null&&typeof Fl.r=="bigint"&&typeof Fl.s=="bigint";if(!$u&&!Pu)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ku,Tu;try{if(Pu&&(ku=new Al(Fl.r,Fl.s)),$u){try{Su!=="compact"&&(ku=Al.fromDER(Fl))}catch(vp){if(!(vp instanceof DER$4.Err))throw vp}!ku&&Su!=="der"&&(ku=Al.fromCompact(Fl))}Tu=Js.fromHex(Dl)}catch{return!1}if(!ku||Hl&&ku.hasHighS())return!1;Zl&&(Nl=zs.hash(Nl));const{r:Ru,s:Mu}=ku,Hu=Ml(Nl),Ku=yl(Mu),Fu=Zs(Hu*Ku),ju=Zs(Ru*Ku),qu=(_d=Js.BASE.multiplyAndAddUnsafe(Tu,Fu,ju))==null?void 0:_d.toAffine();return qu?Zs(qu.x)===Ru:!1}return{CURVE:zs,getPublicKey:Pl,getSharedSecret:Rl,sign:Xl,verify:Ul,ProjectivePoint:Js,Signature:Al,utils:xl}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$3(at){return{hash:at,hmac:(zs,...Ws)=>hmac$1(at,zs,concatBytes$6(...Ws)),randomBytes:randomBytes$1}}function createCurve$4(at,zs){const Ws=qs=>weierstrass$4({...at,...getHash$3(qs)});return{...Ws(zs),create:Ws}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fp256$1=Field$4(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),p256_a=Fp256$1.create(BigInt("-3")),p256_b=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),p256$3=createCurve$4({a:p256_a,b:p256_b,Fp:Fp256$1,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},sha256$3),Fp384$1=Field$4(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),p384_a=Fp384$1.create(BigInt("-3")),p384_b=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");createCurve$4({a:p384_a,b:p384_b,Fp:Fp384$1,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},sha384);const Fp521$1=Field$4(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),p521_a=Fp521$1.create(BigInt("-3")),p521_b=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");createCurve$4({a:p521_a,b:p521_b,Fp:Fp521$1,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},sha512$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p256$2=p256$3;var __extends$4=function(){var at=function(zs,Ws){return at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(qs,Ys){qs.__proto__=Ys}||function(qs,Ys){for(var Xs in Ys)Object.prototype.hasOwnProperty.call(Ys,Xs)&&(qs[Xs]=Ys[Xs])},at(zs,Ws)};return function(zs,Ws){if(typeof Ws!="function"&&Ws!==null)throw new TypeError("Class extends value "+String(Ws)+" is not a constructor or null");at(zs,Ws);function qs(){this.constructor=zs}zs.prototype=Ws===null?Object.create(Ws):(qs.prototype=Ws.prototype,new qs)}}();(function(at){__extends$4(zs,at);function zs(Ws,qs){var Ys="Invalid schema: ".concat(JSON.stringify(Ws)," expected ").concat(qs);return at.call(this,Ys)||this}return zs})(Error);const modSqrt$1=(at,zs)=>{if(zs<=BigInt(0))throw new Error("p must be positive");const Ws=at%zs;if(testBit$1(zs,0)&&testBit$1(zs,1)){const qs=zs+BigInt(1)>>BigInt(2),Ys=modPow$1(Ws,qs,zs);if(Ys*Ys%zs!==Ws)throw new Error("could not find a modular square root");return Ys}throw new Error("unsupported modulus value")},testBit$1=(at,zs)=>{const Ws=BigInt(1)<<BigInt(zs);return(at&Ws)!==BigInt(0)},modPow$1=(at,zs,Ws)=>{if(zs===BigInt(0))return BigInt(1);let qs=at%Ws;const Ys=zs.toString(2);for(let Xs=1;Xs<Ys.length;++Xs)qs=qs*qs%Ws,Ys[Xs]==="1"&&(qs=qs*at%Ws);return qs},AWS_ROOT_CERT_PEM=`-----BEGIN CERTIFICATE-----
MIICETCCAZagAwIBAgIRAPkxdWgbkK/hHUbMtOTn+FYwCgYIKoZIzj0EAwMwSTEL
MAkGA1UEBhMCVVMxDzANBgNVBAoMBkFtYXpvbjEMMAoGA1UECwwDQVdTMRswGQYD
VQQDDBJhd3Mubml0cm8tZW5jbGF2ZXMwHhcNMTkxMDI4MTMyODA1WhcNNDkxMDI4
MTQyODA1WjBJMQswCQYDVQQGEwJVUzEPMA0GA1UECgwGQW1hem9uMQwwCgYDVQQL
DANBV1MxGzAZBgNVBAMMEmF3cy5uaXRyby1lbmNsYXZlczB2MBAGByqGSM49AgEG
BSuBBAAiA2IABPwCVOumCMHzaHDimtqQvkY4MpJzbolL//Zy2YlES1BR5TSksfbb
48C8WBoyt7F2Bw7eEtaaP+ohG2bnUs990d0JX28TcPQXCEPZ3BABIeTPYwEoCWZE
h8l5YoQwTcU/9KNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUkCW1DdkF
R+eWw5b6cp3PmanfS5YwDgYDVR0PAQH/BAQDAgGGMAoGCCqGSM49BAMDA2kAMGYC
MQCjfy+Rocm9Xue4YnwWmNJVA44fA0P5W2OpYow9OYCVRaEevL8uO1XYru5xtMPW
rfMCMQCi85sWBbJwKKXdS6BptQFuZbT73o/gBh1qUxl/nNr12UO8Yfwr6wPLb+6N
IwLz3/Y=
-----END CERTIFICATE-----`,AWS_ROOT_CERT_SHA256="641A0321A3E244EFE456463195D606317ED7CDCC3C1756E09893F3C68F79BB5B",getPublicKey=(at,zs=!0)=>p256$2.getPublicKey(at,zs),generateP256KeyPair=()=>{const at=randomBytes$1(32),zs=getPublicKey(at,!0),Ws=uint8ArrayToHexString(uncompressRawPublicKey(zs));return{privateKey:uint8ArrayToHexString(at),publicKey:uint8ArrayToHexString(zs),publicKeyUncompressed:Ws}},compressRawPublicKey=at=>{const zs=at.byteLength;var Ws=at.slice(0,1+zs>>>1);return Ws[0]=2|at[zs-1]&1,Ws},uncompressRawPublicKey=(at,zs="CURVE_P256")=>{if(at.length!==33)throw new Error("failed to uncompress raw public key: invalid length");if(!(at[0]===2||at[0]===3))throw new Error("failed to uncompress raw public key: invalid prefix");const Ws=at[0]===3,qs=BigInt("0x"+uint8ArrayToHexString(at.subarray(1)));let Ys,Xs,Zs;zs==="CURVE_P256"?(Ys=BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951"),Zs=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Xs=Ys-BigInt(3)):(Ys=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xs=BigInt(0),Zs=BigInt(7));const yl=((qs*qs+Xs)*qs+Zs)%Ys;let Js=modSqrt$1(yl,Ys);if(Ws!==testBit$1(Js,0)&&(Js=(Ys-Js)%Ys),qs<BigInt(0)||qs>=Ys)throw new Error("x is out of range");if(Js<BigInt(0)||Js>=Ys)throw new Error("y is out of range");var $l="04"+bigIntToHex(qs,64)+bigIntToHex(Js,64);return uint8ArrayFromHexString($l)},bigIntToHex=(at,zs)=>{const Ws=at.toString(16);if(Ws.length>zs)throw new Error(`number cannot fit in a hex string of ${zs} characters`);return Ws.padStart(zs,"0")},fromDerSignature=at=>{const zs=uint8ArrayFromHexString(at);if(zs.length<2)throw new Error("failed to convert DER-encoded signature: insufficient length");if(zs[0]!==48)throw new Error("failed to convert DER-encoded signature: invalid format (missing SEQUENCE tag)");let Ws=1;const qs=zs[Ws];if(qs<=127){if(zs.length<2+qs)throw new Error("failed to convert DER-encoded signature: inconsistent message length header");Ws+=1}else throw new Error("failed to convert DER-encoded signature: unexpectedly large or invalid signature length");if(zs[Ws]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for r");Ws++;const Ys=zs[Ws];if(Ys>33)throw new Error("failed to convert DER-encoded signature: unexpected length for r");Ws++;const Xs=zs.slice(Ws,Ws+Ys);if(Ws+=Ys,zs[Ws]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for s");Ws++;const Zs=zs[Ws];if(Zs>33)throw new Error("failed to convert DER-encoded signature: unexpected length for s");Ws++;const yl=zs.slice(Ws,Ws+Zs),Js=normalizePadding(Xs,32),$l=normalizePadding(yl,32);return new Uint8Array([...Js,...$l])},toDerSignature=at=>{const zs=uint8ArrayFromHexString(at),Ws=zs.slice(0,32),qs=zs.slice(32,64),Ys=Js=>{if(Js===void 0||Js.length===0||Js[0]===void 0)throw new Error("Invalid integer: input is undefined or empty.");const El=Js[0]&128?new Uint8Array([0,...Js]):Js;return new Uint8Array([2,El.length,...El])},Xs=Ys(Ws),Zs=Ys(qs),yl=new Uint8Array([48,Xs.length+Zs.length,...Xs,...Zs]);return uint8ArrayToHexString(yl)};var Enclave;(function(at){at.NOTARIZER="notarizer",at.SIGNER="signer",at.EVM_PARSER="evm-parser",at.TLS_FETCHER="tls-fetcher",at.UMP="ump"})(Enclave||(Enclave={}));var cbor={exports:{}};(function(at){(function(zs,Ws){var qs=Math.pow(2,-24),Ys=Math.pow(2,32),Xs=Math.pow(2,53);function Zs($l){var El=new ArrayBuffer(256),wl=new DataView(El),_l,Sl=0;function Tl(Kl){for(var Xl=El.byteLength,Ul=Sl+Kl;Xl<Ul;)Xl*=2;if(Xl!==El.byteLength){var Vl=wl;El=new ArrayBuffer(Xl),wl=new DataView(El);for(var Nl=Sl+3>>2,Dl=0;Dl<Nl;++Dl)wl.setUint32(Dl*4,Vl.getUint32(Dl*4))}return _l=Kl,wl}function Il(){Sl+=_l}function Al(Kl){Il(Tl(8).setFloat64(Sl,Kl))}function xl(Kl){Il(Tl(1).setUint8(Sl,Kl))}function Pl(Kl){for(var Xl=Tl(Kl.length),Ul=0;Ul<Kl.length;++Ul)Xl.setUint8(Sl+Ul,Kl[Ul]);Il()}function Cl(Kl){Il(Tl(2).setUint16(Sl,Kl))}function Rl(Kl){Il(Tl(4).setUint32(Sl,Kl))}function Ol(Kl){var Xl=Kl%Ys,Ul=(Kl-Xl)/Ys,Vl=Tl(8);Vl.setUint32(Sl,Ul),Vl.setUint32(Sl+4,Xl),Il()}function Ml(Kl,Xl){Xl<24?xl(Kl<<5|Xl):Xl<256?(xl(Kl<<5|24),xl(Xl)):Xl<65536?(xl(Kl<<5|25),Cl(Xl)):Xl<4294967296?(xl(Kl<<5|26),Rl(Xl)):(xl(Kl<<5|27),Ol(Xl))}function Ll(Kl){var Xl;if(Kl===!1)return xl(244);if(Kl===!0)return xl(245);if(Kl===null)return xl(246);if(Kl===Ws)return xl(247);switch(typeof Kl){case"number":if(Math.floor(Kl)===Kl){if(0<=Kl&&Kl<=Xs)return Ml(0,Kl);if(-Xs<=Kl&&Kl<0)return Ml(1,-(Kl+1))}return xl(251),Al(Kl);case"string":var Ul=[];for(Xl=0;Xl<Kl.length;++Xl){var Vl=Kl.charCodeAt(Xl);Vl<128?Ul.push(Vl):Vl<2048?(Ul.push(192|Vl>>6),Ul.push(128|Vl&63)):Vl<55296?(Ul.push(224|Vl>>12),Ul.push(128|Vl>>6&63),Ul.push(128|Vl&63)):(Vl=(Vl&1023)<<10,Vl|=Kl.charCodeAt(++Xl)&1023,Vl+=65536,Ul.push(240|Vl>>18),Ul.push(128|Vl>>12&63),Ul.push(128|Vl>>6&63),Ul.push(128|Vl&63))}return Ml(3,Ul.length),Pl(Ul);default:var Nl;if(Array.isArray(Kl))for(Nl=Kl.length,Ml(4,Nl),Xl=0;Xl<Nl;++Xl)Ll(Kl[Xl]);else if(Kl instanceof Uint8Array)Ml(2,Kl.length),Pl(Kl);else{var Dl=Object.keys(Kl);for(Nl=Dl.length,Ml(5,Nl),Xl=0;Xl<Nl;++Xl){var Gl=Dl[Xl];Ll(Gl),Ll(Kl[Gl])}}}}if(Ll($l),"slice"in El)return El.slice(0,Sl);for(var Bl=new ArrayBuffer(Sl),Wl=new DataView(Bl),Yl=0;Yl<Sl;++Yl)Wl.setUint8(Yl,wl.getUint8(Yl));return Bl}function yl($l,El,wl){var _l=new DataView($l),Sl=0;typeof El!="function"&&(El=function(Ul){return Ul}),typeof wl!="function"&&(wl=function(){return Ws});function Tl(Ul,Vl){return Sl+=Vl,Ul}function Il(Ul){return Tl(new Uint8Array($l,Sl,Ul),Ul)}function Al(){var Ul=new ArrayBuffer(4),Vl=new DataView(Ul),Nl=Rl(),Dl=Nl&32768,Gl=Nl&31744,Fl=Nl&1023;if(Gl===31744)Gl=261120;else if(Gl!==0)Gl+=114688;else if(Fl!==0)return Fl*qs;return Vl.setUint32(0,Dl<<16|Gl<<13|Fl<<13),Vl.getFloat32(0)}function xl(){return Tl(_l.getFloat32(Sl),4)}function Pl(){return Tl(_l.getFloat64(Sl),8)}function Cl(){return Tl(_l.getUint8(Sl),1)}function Rl(){return Tl(_l.getUint16(Sl),2)}function Ol(){return Tl(_l.getUint32(Sl),4)}function Ml(){return Ol()*Ys+Ol()}function Ll(){return _l.getUint8(Sl)!==255?!1:(Sl+=1,!0)}function Bl(Ul){if(Ul<24)return Ul;if(Ul===24)return Cl();if(Ul===25)return Rl();if(Ul===26)return Ol();if(Ul===27)return Ml();if(Ul===31)return-1;throw"Invalid length encoding"}function Wl(Ul){var Vl=Cl();if(Vl===255)return-1;var Nl=Bl(Vl&31);if(Nl<0||Vl>>5!==Ul)throw"Invalid indefinite length element";return Nl}function Yl(Ul,Vl){for(var Nl=0;Nl<Vl;++Nl){var Dl=Cl();Dl&128&&(Dl<224?(Dl=(Dl&31)<<6|Cl()&63,Vl-=1):Dl<240?(Dl=(Dl&15)<<12|(Cl()&63)<<6|Cl()&63,Vl-=2):(Dl=(Dl&15)<<18|(Cl()&63)<<12|(Cl()&63)<<6|Cl()&63,Vl-=3)),Dl<65536?Ul.push(Dl):(Dl-=65536,Ul.push(55296|Dl>>10),Ul.push(56320|Dl&1023))}}function Kl(){var Ul=Cl(),Vl=Ul>>5,Nl=Ul&31,Dl,Gl;if(Vl===7)switch(Nl){case 25:return Al();case 26:return xl();case 27:return Pl()}if(Gl=Bl(Nl),Gl<0&&(Vl<2||6<Vl))throw"Invalid length";switch(Vl){case 0:return Gl;case 1:return-1-Gl;case 2:if(Gl<0){for(var Fl=[],Hl=0;(Gl=Wl(Vl))>=0;)Hl+=Gl,Fl.push(Il(Gl));var Zl=new Uint8Array(Hl),Su=0;for(Dl=0;Dl<Fl.length;++Dl)Zl.set(Fl[Dl],Su),Su+=Fl[Dl].length;return Zl}return Il(Gl);case 3:var $u=[];if(Gl<0)for(;(Gl=Wl(Vl))>=0;)Yl($u,Gl);else Yl($u,Gl);return String.fromCharCode.apply(null,$u);case 4:var Pu;if(Gl<0)for(Pu=[];!Ll();)Pu.push(Kl());else for(Pu=new Array(Gl),Dl=0;Dl<Gl;++Dl)Pu[Dl]=Kl();return Pu;case 5:var ku={};for(Dl=0;Dl<Gl||Gl<0&&!Ll();++Dl){var Tu=Kl();ku[Tu]=Kl()}return ku;case 6:return El(Kl(),Gl);case 7:switch(Gl){case 20:return!1;case 21:return!0;case 22:return null;case 23:return Ws;default:return wl(Gl)}}}var Xl=Kl();if(Sl!==$l.byteLength)throw"Remaining bytes";return Xl}var Js={encode:Zs,decode:yl};at.exports?at.exports=Js:zs.CBOR||(zs.CBOR=Js)})(commonjsGlobal)})(cbor);var cborExports=cbor.exports;/*! *****************************************************************************
	Copyright (C) Microsoft. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Reflect$1;(function(at){(function(zs){var Ws=typeof globalThis=="object"?globalThis:typeof commonjsGlobal=="object"?commonjsGlobal:typeof self=="object"?self:typeof this=="object"?this:yl(),qs=Ys(at);typeof Ws.Reflect<"u"&&(qs=Ys(Ws.Reflect,qs)),zs(qs,Ws),typeof Ws.Reflect>"u"&&(Ws.Reflect=at);function Ys(Js,$l){return function(El,wl){Object.defineProperty(Js,El,{configurable:!0,writable:!0,value:wl}),$l&&$l(El,wl)}}function Xs(){try{return Function("return this;")()}catch{}}function Zs(){try{return(0,eval)("(function() { return this; })()")}catch{}}function yl(){return Xs()||Zs()}})(function(zs,Ws){var qs=Object.prototype.hasOwnProperty,Ys=typeof Symbol=="function",Xs=Ys&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",Zs=Ys&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",yl=typeof Object.create=="function",Js={__proto__:[]}instanceof Array,$l=!yl&&!Js,El={create:yl?function(){return am(Object.create(null))}:Js?function(){return am({__proto__:null})}:function(){return am({})},has:$l?function(zu,Vu){return qs.call(zu,Vu)}:function(zu,Vu){return Vu in zu},get:$l?function(zu,Vu){return qs.call(zu,Vu)?zu[Vu]:void 0}:function(zu,Vu){return zu[Vu]}},wl=Object.getPrototypeOf(Function),_l=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Am(),Sl=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ym(),Tl=typeof WeakMap=="function"?WeakMap:vm(),Il=Ys?Symbol.for("@reflect-metadata:registry"):void 0,Al=Dp(),xl=Qu(Al);function Pl(zu,Vu,Ju,rp){if($u(Ju)){if(!ju(zu))throw new TypeError;if(!Zu(Vu))throw new TypeError;return Xl(zu,Vu)}else{if(!ju(zu))throw new TypeError;if(!Tu(Vu))throw new TypeError;if(!Tu(rp)&&!$u(rp)&&!Pu(rp))throw new TypeError;return Pu(rp)&&(rp=void 0),Ju=Fu(Ju),Ul(zu,Vu,Ju,rp)}}zs("decorate",Pl);function Cl(zu,Vu){function Ju(rp,$p){if(!Tu(rp))throw new TypeError;if(!$u($p)&&!_d($p))throw new TypeError;Fl(zu,Vu,rp,$p)}return Ju}zs("metadata",Cl);function Rl(zu,Vu,Ju,rp){if(!Tu(Ju))throw new TypeError;return $u(rp)||(rp=Fu(rp)),Fl(zu,Vu,Ju,rp)}zs("defineMetadata",Rl);function Ol(zu,Vu,Ju){if(!Tu(Vu))throw new TypeError;return $u(Ju)||(Ju=Fu(Ju)),Vl(zu,Vu,Ju)}zs("hasMetadata",Ol);function Ml(zu,Vu,Ju){if(!Tu(Vu))throw new TypeError;return $u(Ju)||(Ju=Fu(Ju)),Nl(zu,Vu,Ju)}zs("hasOwnMetadata",Ml);function Ll(zu,Vu,Ju){if(!Tu(Vu))throw new TypeError;return $u(Ju)||(Ju=Fu(Ju)),Dl(zu,Vu,Ju)}zs("getMetadata",Ll);function Bl(zu,Vu,Ju){if(!Tu(Vu))throw new TypeError;return $u(Ju)||(Ju=Fu(Ju)),Gl(zu,Vu,Ju)}zs("getOwnMetadata",Bl);function Wl(zu,Vu){if(!Tu(zu))throw new TypeError;return $u(Vu)||(Vu=Fu(Vu)),Hl(zu,Vu)}zs("getMetadataKeys",Wl);function Yl(zu,Vu){if(!Tu(zu))throw new TypeError;return $u(Vu)||(Vu=Fu(Vu)),Zl(zu,Vu)}zs("getOwnMetadataKeys",Yl);function Kl(zu,Vu,Ju){if(!Tu(Vu))throw new TypeError;if($u(Ju)||(Ju=Fu(Ju)),!Tu(Vu))throw new TypeError;$u(Ju)||(Ju=Fu(Ju));var rp=tm(Vu,Ju,!1);return $u(rp)?!1:rp.OrdinaryDeleteMetadata(zu,Vu,Ju)}zs("deleteMetadata",Kl);function Xl(zu,Vu){for(var Ju=zu.length-1;Ju>=0;--Ju){var rp=zu[Ju],$p=rp(Vu);if(!$u($p)&&!Pu($p)){if(!Zu($p))throw new TypeError;Vu=$p}}return Vu}function Ul(zu,Vu,Ju,rp){for(var $p=zu.length-1;$p>=0;--$p){var Bp=zu[$p],Kp=Bp(Vu,Ju,rp);if(!$u(Kp)&&!Pu(Kp)){if(!Tu(Kp))throw new TypeError;rp=Kp}}return rp}function Vl(zu,Vu,Ju){var rp=Nl(zu,Vu,Ju);if(rp)return!0;var $p=em(Vu);return Pu($p)?!1:Vl(zu,$p,Ju)}function Nl(zu,Vu,Ju){var rp=tm(Vu,Ju,!1);return $u(rp)?!1:Hu(rp.OrdinaryHasOwnMetadata(zu,Vu,Ju))}function Dl(zu,Vu,Ju){var rp=Nl(zu,Vu,Ju);if(rp)return Gl(zu,Vu,Ju);var $p=em(Vu);if(!Pu($p))return Dl(zu,$p,Ju)}function Gl(zu,Vu,Ju){var rp=tm(Vu,Ju,!1);if(!$u(rp))return rp.OrdinaryGetOwnMetadata(zu,Vu,Ju)}function Fl(zu,Vu,Ju,rp){var $p=tm(Ju,rp,!0);$p.OrdinaryDefineOwnMetadata(zu,Vu,Ju,rp)}function Hl(zu,Vu){var Ju=Zl(zu,Vu),rp=em(zu);if(rp===null)return Ju;var $p=Hl(rp,Vu);if($p.length<=0)return Ju;if(Ju.length<=0)return $p;for(var Bp=new Sl,Kp=[],Ip=0,fp=Ju;Ip<fp.length;Ip++){var hp=fp[Ip],gp=Bp.has(hp);gp||(Bp.add(hp),Kp.push(hp))}for(var pp=0,dp=$p;pp<dp.length;pp++){var hp=dp[pp],gp=Bp.has(hp);gp||(Bp.add(hp),Kp.push(hp))}return Kp}function Zl(zu,Vu){var Ju=tm(zu,Vu,!1);return Ju?Ju.OrdinaryOwnMetadataKeys(zu,Vu):[]}function Su(zu){if(zu===null)return 1;switch(typeof zu){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return zu===null?1:6;default:return 6}}function $u(zu){return zu===void 0}function Pu(zu){return zu===null}function ku(zu){return typeof zu=="symbol"}function Tu(zu){return typeof zu=="object"?zu!==null:typeof zu=="function"}function Ru(zu,Vu){switch(Su(zu)){case 0:return zu;case 1:return zu;case 2:return zu;case 3:return zu;case 4:return zu;case 5:return zu}var Ju="string",rp=Ap(zu,Xs);if(rp!==void 0){var $p=rp.call(zu,Ju);if(Tu($p))throw new TypeError;return $p}return Mu(zu)}function Mu(zu,Vu){var Ju,rp,$p;{var Bp=zu.toString;if(qu(Bp)){var rp=Bp.call(zu);if(!Tu(rp))return rp}var Ju=zu.valueOf;if(qu(Ju)){var rp=Ju.call(zu);if(!Tu(rp))return rp}}throw new TypeError}function Hu(zu){return!!zu}function Ku(zu){return""+zu}function Fu(zu){var Vu=Ru(zu);return ku(Vu)?Vu:Ku(Vu)}function ju(zu){return Array.isArray?Array.isArray(zu):zu instanceof Object?zu instanceof Array:Object.prototype.toString.call(zu)==="[object Array]"}function qu(zu){return typeof zu=="function"}function Zu(zu){return typeof zu=="function"}function _d(zu){switch(Su(zu)){case 3:return!0;case 4:return!0;default:return!1}}function vp(zu,Vu){return zu===Vu||zu!==zu&&Vu!==Vu}function Ap(zu,Vu){var Ju=zu[Vu];if(Ju!=null){if(!qu(Ju))throw new TypeError;return Ju}}function Rp(zu){var Vu=Ap(zu,Zs);if(!qu(Vu))throw new TypeError;var Ju=Vu.call(zu);if(!Tu(Ju))throw new TypeError;return Ju}function xp(zu){return zu.value}function Gp(zu){var Vu=zu.next();return Vu.done?!1:Vu}function Cp(zu){var Vu=zu.return;Vu&&Vu.call(zu)}function em(zu){var Vu=Object.getPrototypeOf(zu);if(typeof zu!="function"||zu===wl||Vu!==wl)return Vu;var Ju=zu.prototype,rp=Ju&&Object.getPrototypeOf(Ju);if(rp==null||rp===Object.prototype)return Vu;var $p=rp.constructor;return typeof $p!="function"||$p===zu?Vu:$p}function dm(){var zu;!$u(Il)&&typeof Ws.Reflect<"u"&&!(Il in Ws.Reflect)&&typeof Ws.Reflect.defineMetadata=="function"&&(zu=yp(Ws.Reflect));var Vu,Ju,rp,$p=new Tl,Bp={registerProvider:Kp,getProvider:fp,setProvider:gp};return Bp;function Kp(pp){if(!Object.isExtensible(Bp))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case zu===pp:break;case $u(Vu):Vu=pp;break;case Vu===pp:break;case $u(Ju):Ju=pp;break;case Ju===pp:break;default:rp===void 0&&(rp=new Sl),rp.add(pp);break}}function Ip(pp,dp){if(!$u(Vu)){if(Vu.isProviderFor(pp,dp))return Vu;if(!$u(Ju)){if(Ju.isProviderFor(pp,dp))return Vu;if(!$u(rp))for(var Hp=Rp(rp);;){var Xp=Gp(Hp);if(!Xp)return;var um=xp(Xp);if(um.isProviderFor(pp,dp))return Cp(Hp),um}}}if(!$u(zu)&&zu.isProviderFor(pp,dp))return zu}function fp(pp,dp){var Hp=$p.get(pp),Xp;return $u(Hp)||(Xp=Hp.get(dp)),$u(Xp)&&(Xp=Ip(pp,dp),$u(Xp)||($u(Hp)&&(Hp=new _l,$p.set(pp,Hp)),Hp.set(dp,Xp))),Xp}function hp(pp){if($u(pp))throw new TypeError;return Vu===pp||Ju===pp||!$u(rp)&&rp.has(pp)}function gp(pp,dp,Hp){if(!hp(Hp))throw new Error("Metadata provider not registered.");var Xp=fp(pp,dp);if(Xp!==Hp){if(!$u(Xp))return!1;var um=$p.get(pp);$u(um)&&(um=new _l,$p.set(pp,um)),um.set(dp,Hp)}return!0}}function Dp(){var zu;return!$u(Il)&&Tu(Ws.Reflect)&&Object.isExtensible(Ws.Reflect)&&(zu=Ws.Reflect[Il]),$u(zu)&&(zu=dm()),!$u(Il)&&Tu(Ws.Reflect)&&Object.isExtensible(Ws.Reflect)&&Object.defineProperty(Ws.Reflect,Il,{enumerable:!1,configurable:!1,writable:!1,value:zu}),zu}function Qu(zu){var Vu=new Tl,Ju={isProviderFor:function(hp,gp){var pp=Vu.get(hp);return $u(pp)?!1:pp.has(gp)},OrdinaryDefineOwnMetadata:Kp,OrdinaryHasOwnMetadata:$p,OrdinaryGetOwnMetadata:Bp,OrdinaryOwnMetadataKeys:Ip,OrdinaryDeleteMetadata:fp};return Al.registerProvider(Ju),Ju;function rp(hp,gp,pp){var dp=Vu.get(hp),Hp=!1;if($u(dp)){if(!pp)return;dp=new _l,Vu.set(hp,dp),Hp=!0}var Xp=dp.get(gp);if($u(Xp)){if(!pp)return;if(Xp=new _l,dp.set(gp,Xp),!zu.setProvider(hp,gp,Ju))throw dp.delete(gp),Hp&&Vu.delete(hp),new Error("Wrong provider for target.")}return Xp}function $p(hp,gp,pp){var dp=rp(gp,pp,!1);return $u(dp)?!1:Hu(dp.has(hp))}function Bp(hp,gp,pp){var dp=rp(gp,pp,!1);if(!$u(dp))return dp.get(hp)}function Kp(hp,gp,pp,dp){var Hp=rp(pp,dp,!0);Hp.set(hp,gp)}function Ip(hp,gp){var pp=[],dp=rp(hp,gp,!1);if($u(dp))return pp;for(var Hp=dp.keys(),Xp=Rp(Hp),um=0;;){var fm=Gp(Xp);if(!fm)return pp.length=um,pp;var gm=xp(fm);try{pp[um]=gm}catch(Fm){try{Cp(Xp)}finally{throw Fm}}um++}}function fp(hp,gp,pp){var dp=rp(gp,pp,!1);if($u(dp)||!dp.delete(hp))return!1;if(dp.size===0){var Hp=Vu.get(gp);$u(Hp)||(Hp.delete(pp),Hp.size===0&&Vu.delete(Hp))}return!0}}function yp(zu){var Vu=zu.defineMetadata,Ju=zu.hasOwnMetadata,rp=zu.getOwnMetadata,$p=zu.getOwnMetadataKeys,Bp=zu.deleteMetadata,Kp=new Tl,Ip={isProviderFor:function(fp,hp){var gp=Kp.get(fp);return!$u(gp)&&gp.has(hp)?!0:$p(fp,hp).length?($u(gp)&&(gp=new Sl,Kp.set(fp,gp)),gp.add(hp),!0):!1},OrdinaryDefineOwnMetadata:Vu,OrdinaryHasOwnMetadata:Ju,OrdinaryGetOwnMetadata:rp,OrdinaryOwnMetadataKeys:$p,OrdinaryDeleteMetadata:Bp};return Ip}function tm(zu,Vu,Ju){var rp=Al.getProvider(zu,Vu);if(!$u(rp))return rp;if(Ju){if(Al.setProvider(zu,Vu,xl))return xl;throw new Error("Illegal state.")}}function Am(){var zu={},Vu=[],Ju=function(){function Ip(fp,hp,gp){this._index=0,this._keys=fp,this._values=hp,this._selector=gp}return Ip.prototype["@@iterator"]=function(){return this},Ip.prototype[Zs]=function(){return this},Ip.prototype.next=function(){var fp=this._index;if(fp>=0&&fp<this._keys.length){var hp=this._selector(this._keys[fp],this._values[fp]);return fp+1>=this._keys.length?(this._index=-1,this._keys=Vu,this._values=Vu):this._index++,{value:hp,done:!1}}return{value:void 0,done:!0}},Ip.prototype.throw=function(fp){throw this._index>=0&&(this._index=-1,this._keys=Vu,this._values=Vu),fp},Ip.prototype.return=function(fp){return this._index>=0&&(this._index=-1,this._keys=Vu,this._values=Vu),{value:fp,done:!0}},Ip}(),rp=function(){function Ip(){this._keys=[],this._values=[],this._cacheKey=zu,this._cacheIndex=-2}return Object.defineProperty(Ip.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ip.prototype.has=function(fp){return this._find(fp,!1)>=0},Ip.prototype.get=function(fp){var hp=this._find(fp,!1);return hp>=0?this._values[hp]:void 0},Ip.prototype.set=function(fp,hp){var gp=this._find(fp,!0);return this._values[gp]=hp,this},Ip.prototype.delete=function(fp){var hp=this._find(fp,!1);if(hp>=0){for(var gp=this._keys.length,pp=hp+1;pp<gp;pp++)this._keys[pp-1]=this._keys[pp],this._values[pp-1]=this._values[pp];return this._keys.length--,this._values.length--,vp(fp,this._cacheKey)&&(this._cacheKey=zu,this._cacheIndex=-2),!0}return!1},Ip.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=zu,this._cacheIndex=-2},Ip.prototype.keys=function(){return new Ju(this._keys,this._values,$p)},Ip.prototype.values=function(){return new Ju(this._keys,this._values,Bp)},Ip.prototype.entries=function(){return new Ju(this._keys,this._values,Kp)},Ip.prototype["@@iterator"]=function(){return this.entries()},Ip.prototype[Zs]=function(){return this.entries()},Ip.prototype._find=function(fp,hp){if(!vp(this._cacheKey,fp)){this._cacheIndex=-1;for(var gp=0;gp<this._keys.length;gp++)if(vp(this._keys[gp],fp)){this._cacheIndex=gp;break}}return this._cacheIndex<0&&hp&&(this._cacheIndex=this._keys.length,this._keys.push(fp),this._values.push(void 0)),this._cacheIndex},Ip}();return rp;function $p(Ip,fp){return Ip}function Bp(Ip,fp){return fp}function Kp(Ip,fp){return[Ip,fp]}}function ym(){var zu=function(){function Vu(){this._map=new _l}return Object.defineProperty(Vu.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Vu.prototype.has=function(Ju){return this._map.has(Ju)},Vu.prototype.add=function(Ju){return this._map.set(Ju,Ju),this},Vu.prototype.delete=function(Ju){return this._map.delete(Ju)},Vu.prototype.clear=function(){this._map.clear()},Vu.prototype.keys=function(){return this._map.keys()},Vu.prototype.values=function(){return this._map.keys()},Vu.prototype.entries=function(){return this._map.entries()},Vu.prototype["@@iterator"]=function(){return this.keys()},Vu.prototype[Zs]=function(){return this.keys()},Vu}();return zu}function vm(){var zu=16,Vu=El.create(),Ju=rp();return function(){function fp(){this._key=rp()}return fp.prototype.has=function(hp){var gp=$p(hp,!1);return gp!==void 0?El.has(gp,this._key):!1},fp.prototype.get=function(hp){var gp=$p(hp,!1);return gp!==void 0?El.get(gp,this._key):void 0},fp.prototype.set=function(hp,gp){var pp=$p(hp,!0);return pp[this._key]=gp,this},fp.prototype.delete=function(hp){var gp=$p(hp,!1);return gp!==void 0?delete gp[this._key]:!1},fp.prototype.clear=function(){this._key=rp()},fp}();function rp(){var fp;do fp="@@WeakMap@@"+Ip();while(El.has(Vu,fp));return Vu[fp]=!0,fp}function $p(fp,hp){if(!qs.call(fp,Ju)){if(!hp)return;Object.defineProperty(fp,Ju,{value:El.create()})}return fp[Ju]}function Bp(fp,hp){for(var gp=0;gp<hp;++gp)fp[gp]=Math.random()*255|0;return fp}function Kp(fp){if(typeof Uint8Array=="function"){var hp=new Uint8Array(fp);return typeof crypto<"u"?crypto.getRandomValues(hp):typeof msCrypto<"u"?msCrypto.getRandomValues(hp):Bp(hp,fp),hp}return Bp(new Array(fp),fp)}function Ip(){var fp=Kp(zu);fp[6]=fp[6]&79|64,fp[8]=fp[8]&191|128;for(var hp="",gp=0;gp<zu;++gp){var pp=fp[gp];(gp===4||gp===6||gp===8)&&(hp+="-"),pp<16&&(hp+="0"),hp+=pp.toString(16).toLowerCase()}return hp}}function am(zu){return zu.__=void 0,delete zu.__,zu}})})(Reflect$1||(Reflect$1={}));/*!
 * MIT License
 * 
 * Copyright (c) 2017-2024 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const ARRAY_BUFFER_NAME="[object ArrayBuffer]";class BufferSourceConverter{static isArrayBuffer(zs){return Object.prototype.toString.call(zs)===ARRAY_BUFFER_NAME}static toArrayBuffer(zs){return this.isArrayBuffer(zs)?zs:zs.byteLength===zs.buffer.byteLength||zs.byteOffset===0&&zs.byteLength===zs.buffer.byteLength?zs.buffer:this.toUint8Array(zs.buffer).slice(zs.byteOffset,zs.byteOffset+zs.byteLength).buffer}static toUint8Array(zs){return this.toView(zs,Uint8Array)}static toView(zs,Ws){if(zs.constructor===Ws)return zs;if(this.isArrayBuffer(zs))return new Ws(zs);if(this.isArrayBufferView(zs))return new Ws(zs.buffer,zs.byteOffset,zs.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(zs){return this.isArrayBufferView(zs)||this.isArrayBuffer(zs)}static isArrayBufferView(zs){return ArrayBuffer.isView(zs)||zs&&this.isArrayBuffer(zs.buffer)}static isEqual(zs,Ws){const qs=BufferSourceConverter.toUint8Array(zs),Ys=BufferSourceConverter.toUint8Array(Ws);if(qs.length!==Ys.byteLength)return!1;for(let Xs=0;Xs<qs.length;Xs++)if(qs[Xs]!==Ys[Xs])return!1;return!0}static concat(...zs){let Ws;Array.isArray(zs[0])&&!(zs[1]instanceof Function)||Array.isArray(zs[0])&&zs[1]instanceof Function?Ws=zs[0]:zs[zs.length-1]instanceof Function?Ws=zs.slice(0,zs.length-1):Ws=zs;let qs=0;for(const Zs of Ws)qs+=Zs.byteLength;const Ys=new Uint8Array(qs);let Xs=0;for(const Zs of Ws){const yl=this.toUint8Array(Zs);Ys.set(yl,Xs),Xs+=yl.length}return zs[zs.length-1]instanceof Function?this.toView(Ys,zs[zs.length-1]):Ys.buffer}}const STRING_TYPE="string",HEX_REGEX=/^[0-9a-f\s]+$/i,BASE64_REGEX=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,BASE64URL_REGEX=/^[a-zA-Z0-9-_]+$/;class Utf8Converter{static fromString(zs){const Ws=unescape(encodeURIComponent(zs)),qs=new Uint8Array(Ws.length);for(let Ys=0;Ys<Ws.length;Ys++)qs[Ys]=Ws.charCodeAt(Ys);return qs.buffer}static toString(zs){const Ws=BufferSourceConverter.toUint8Array(zs);let qs="";for(let Xs=0;Xs<Ws.length;Xs++)qs+=String.fromCharCode(Ws[Xs]);return decodeURIComponent(escape(qs))}}class Utf16Converter{static toString(zs,Ws=!1){const qs=BufferSourceConverter.toArrayBuffer(zs),Ys=new DataView(qs);let Xs="";for(let Zs=0;Zs<qs.byteLength;Zs+=2){const yl=Ys.getUint16(Zs,Ws);Xs+=String.fromCharCode(yl)}return Xs}static fromString(zs,Ws=!1){const qs=new ArrayBuffer(zs.length*2),Ys=new DataView(qs);for(let Xs=0;Xs<zs.length;Xs++)Ys.setUint16(Xs*2,zs.charCodeAt(Xs),Ws);return qs}}class Convert{static isHex(zs){return typeof zs===STRING_TYPE&&HEX_REGEX.test(zs)}static isBase64(zs){return typeof zs===STRING_TYPE&&BASE64_REGEX.test(zs)}static isBase64Url(zs){return typeof zs===STRING_TYPE&&BASE64URL_REGEX.test(zs)}static ToString(zs,Ws="utf8"){const qs=BufferSourceConverter.toUint8Array(zs);switch(Ws.toLowerCase()){case"utf8":return this.ToUtf8String(qs);case"binary":return this.ToBinary(qs);case"hex":return this.ToHex(qs);case"base64":return this.ToBase64(qs);case"base64url":return this.ToBase64Url(qs);case"utf16le":return Utf16Converter.toString(qs,!0);case"utf16":case"utf16be":return Utf16Converter.toString(qs);default:throw new Error(`Unknown type of encoding '${Ws}'`)}}static FromString(zs,Ws="utf8"){if(!zs)return new ArrayBuffer(0);switch(Ws.toLowerCase()){case"utf8":return this.FromUtf8String(zs);case"binary":return this.FromBinary(zs);case"hex":return this.FromHex(zs);case"base64":return this.FromBase64(zs);case"base64url":return this.FromBase64Url(zs);case"utf16le":return Utf16Converter.fromString(zs,!0);case"utf16":case"utf16be":return Utf16Converter.fromString(zs);default:throw new Error(`Unknown type of encoding '${Ws}'`)}}static ToBase64(zs){const Ws=BufferSourceConverter.toUint8Array(zs);if(typeof btoa<"u"){const qs=this.ToString(Ws,"binary");return btoa(qs)}else return Buffer.from(Ws).toString("base64")}static FromBase64(zs){const Ws=this.formatString(zs);if(!Ws)return new ArrayBuffer(0);if(!Convert.isBase64(Ws))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(Ws)):new Uint8Array(Buffer.from(Ws,"base64")).buffer}static FromBase64Url(zs){const Ws=this.formatString(zs);if(!Ws)return new ArrayBuffer(0);if(!Convert.isBase64Url(Ws))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(Ws.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(zs){return this.ToBase64(zs).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(zs,Ws=Convert.DEFAULT_UTF8_ENCODING){switch(Ws){case"ascii":return this.FromBinary(zs);case"utf8":return Utf8Converter.fromString(zs);case"utf16":case"utf16be":return Utf16Converter.fromString(zs);case"utf16le":case"usc2":return Utf16Converter.fromString(zs,!0);default:throw new Error(`Unknown type of encoding '${Ws}'`)}}static ToUtf8String(zs,Ws=Convert.DEFAULT_UTF8_ENCODING){switch(Ws){case"ascii":return this.ToBinary(zs);case"utf8":return Utf8Converter.toString(zs);case"utf16":case"utf16be":return Utf16Converter.toString(zs);case"utf16le":case"usc2":return Utf16Converter.toString(zs,!0);default:throw new Error(`Unknown type of encoding '${Ws}'`)}}static FromBinary(zs){const Ws=zs.length,qs=new Uint8Array(Ws);for(let Ys=0;Ys<Ws;Ys++)qs[Ys]=zs.charCodeAt(Ys);return qs.buffer}static ToBinary(zs){const Ws=BufferSourceConverter.toUint8Array(zs);let qs="";for(let Ys=0;Ys<Ws.length;Ys++)qs+=String.fromCharCode(Ws[Ys]);return qs}static ToHex(zs){const Ws=BufferSourceConverter.toUint8Array(zs);let qs="";const Ys=Ws.length;for(let Xs=0;Xs<Ys;Xs++){const Zs=Ws[Xs];Zs<16&&(qs+="0"),qs+=Zs.toString(16)}return qs}static FromHex(zs){let Ws=this.formatString(zs);if(!Ws)return new ArrayBuffer(0);if(!Convert.isHex(Ws))throw new TypeError("Argument 'hexString' is not HEX encoded");Ws.length%2&&(Ws=`0${Ws}`);const qs=new Uint8Array(Ws.length/2);for(let Ys=0;Ys<Ws.length;Ys=Ys+2){const Xs=Ws.slice(Ys,Ys+2);qs[Ys/2]=parseInt(Xs,16)}return qs.buffer}static ToUtf16String(zs,Ws=!1){return Utf16Converter.toString(zs,Ws)}static FromUtf16String(zs,Ws=!1){return Utf16Converter.fromString(zs,Ws)}static Base64Padding(zs){const Ws=4-zs.length%4;if(Ws<4)for(let qs=0;qs<Ws;qs++)zs+="=";return zs}static formatString(zs){return(zs==null?void 0:zs.replace(/[\n\r\t ]/g,""))||""}}Convert.DEFAULT_UTF8_ENCODING="utf8";function combine(...at){const zs=at.map(Ys=>Ys.byteLength).reduce((Ys,Xs)=>Ys+Xs),Ws=new Uint8Array(zs);let qs=0;return at.map(Ys=>new Uint8Array(Ys)).forEach(Ys=>{for(const Xs of Ys)Ws[qs++]=Xs}),Ws.buffer}function isEqual(at,zs){if(!(at&&zs)||at.byteLength!==zs.byteLength)return!1;const Ws=new Uint8Array(at),qs=new Uint8Array(zs);for(let Ys=0;Ys<at.byteLength;Ys++)if(Ws[Ys]!==qs[Ys])return!1;return!0}/*!
 Copyright (c) Peculiar Ventures, LLC
*/function utilFromBase(at,zs){let Ws=0;if(at.length===1)return at[0];for(let qs=at.length-1;qs>=0;qs--)Ws+=at[at.length-1-qs]*Math.pow(2,zs*qs);return Ws}function utilToBase(at,zs,Ws=-1){const qs=Ws;let Ys=at,Xs=0,Zs=Math.pow(2,zs);for(let yl=1;yl<8;yl++){if(at<Zs){let Js;if(qs<0)Js=new ArrayBuffer(yl),Xs=yl;else{if(qs<yl)return new ArrayBuffer(0);Js=new ArrayBuffer(qs),Xs=qs}const $l=new Uint8Array(Js);for(let El=yl-1;El>=0;El--){const wl=Math.pow(2,El*zs);$l[Xs-El-1]=Math.floor(Ys/wl),Ys-=$l[Xs-El-1]*wl}return Js}Zs*=Math.pow(2,zs)}return new ArrayBuffer(0)}function utilConcatView(...at){let zs=0,Ws=0;for(const Xs of at)zs+=Xs.length;const qs=new ArrayBuffer(zs),Ys=new Uint8Array(qs);for(const Xs of at)Ys.set(Xs,Ws),Ws+=Xs.length;return Ys}function utilDecodeTC(){const at=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const yl=at[0]===255&&at[1]&128,Js=at[0]===0&&(at[1]&128)===0;(yl||Js)&&this.warnings.push("Needlessly long format")}const zs=new ArrayBuffer(this.valueHex.byteLength),Ws=new Uint8Array(zs);for(let yl=0;yl<this.valueHex.byteLength;yl++)Ws[yl]=0;Ws[0]=at[0]&128;const qs=utilFromBase(Ws,8),Ys=new ArrayBuffer(this.valueHex.byteLength),Xs=new Uint8Array(Ys);for(let yl=0;yl<this.valueHex.byteLength;yl++)Xs[yl]=at[yl];return Xs[0]&=127,utilFromBase(Xs,8)-qs}function utilEncodeTC(at){const zs=at<0?at*-1:at;let Ws=128;for(let qs=1;qs<8;qs++){if(zs<=Ws){if(at<0){const Zs=Ws-zs,yl=utilToBase(Zs,8,qs),Js=new Uint8Array(yl);return Js[0]|=128,yl}let Ys=utilToBase(zs,8,qs),Xs=new Uint8Array(Ys);if(Xs[0]&128){const Zs=Ys.slice(0),yl=new Uint8Array(Zs);Ys=new ArrayBuffer(Ys.byteLength+1),Xs=new Uint8Array(Ys);for(let Js=0;Js<Zs.byteLength;Js++)Xs[Js+1]=yl[Js];Xs[0]=0}return Ys}Ws*=Math.pow(2,8)}return new ArrayBuffer(0)}function isEqualBuffer(at,zs){if(at.byteLength!==zs.byteLength)return!1;const Ws=new Uint8Array(at),qs=new Uint8Array(zs);for(let Ys=0;Ys<Ws.length;Ys++)if(Ws[Ys]!==qs[Ys])return!1;return!0}function padNumber(at,zs){const Ws=at.toString(10);if(zs<Ws.length)return"";const qs=zs-Ws.length,Ys=new Array(qs);for(let Zs=0;Zs<qs;Zs++)Ys[Zs]="0";return Ys.join("").concat(Ws)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function assertBigInt(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function concat$4(at){let zs=0,Ws=0;for(let Ys=0;Ys<at.length;Ys++){const Xs=at[Ys];zs+=Xs.byteLength}const qs=new Uint8Array(zs);for(let Ys=0;Ys<at.length;Ys++){const Xs=at[Ys];qs.set(new Uint8Array(Xs),Ws),Ws+=Xs.byteLength}return qs.buffer}function checkBufferParams(at,zs,Ws,qs){return zs instanceof Uint8Array?zs.byteLength?Ws<0?(at.error="Wrong parameter: inputOffset less than zero",!1):qs<0?(at.error="Wrong parameter: inputLength less than zero",!1):zs.byteLength-Ws-qs<0?(at.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(at.error="Wrong parameter: inputBuffer has zero length",!1):(at.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class ViewWriter{constructor(){this.items=[]}write(zs){this.items.push(zs)}final(){return concat$4(this.items)}}const powers2=[new Uint8Array([1])],digitsString="0123456789",NAME$1="name",VALUE_HEX_VIEW="valueHexView",IS_HEX_ONLY="isHexOnly",ID_BLOCK="idBlock",TAG_CLASS="tagClass",TAG_NUMBER="tagNumber",IS_CONSTRUCTED="isConstructed",FROM_BER="fromBER",TO_BER="toBER",LOCAL="local",EMPTY_STRING="",EMPTY_BUFFER=new ArrayBuffer(0),EMPTY_VIEW$1=new Uint8Array(0),END_OF_CONTENT_NAME="EndOfContent",OCTET_STRING_NAME="OCTET STRING",BIT_STRING_NAME="BIT STRING";function HexBlock(at){var zs;return zs=class extends at{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(qs){this.valueHexView=new Uint8Array(qs)}constructor(...qs){var Ys;super(...qs);const Xs=qs[0]||{};this.isHexOnly=(Ys=Xs.isHexOnly)!==null&&Ys!==void 0?Ys:!1,this.valueHexView=Xs.valueHex?BufferSourceConverter.toUint8Array(Xs.valueHex):EMPTY_VIEW$1}fromBER(qs,Ys,Xs){const Zs=qs instanceof ArrayBuffer?new Uint8Array(qs):qs;if(!checkBufferParams(this,Zs,Ys,Xs))return-1;const yl=Ys+Xs;return this.valueHexView=Zs.subarray(Ys,yl),this.valueHexView.length?(this.blockLength=Xs,yl):(this.warnings.push("Zero buffer length"),Ys)}toBER(qs=!1){return this.isHexOnly?qs?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",EMPTY_BUFFER)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Convert.ToHex(this.valueHexView)}}},zs.NAME="hexBlock",zs}class LocalBaseBlock{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(zs){this.valueBeforeDecodeView=new Uint8Array(zs)}constructor({blockLength:zs=0,error:Ws=EMPTY_STRING,warnings:qs=[],valueBeforeDecode:Ys=EMPTY_VIEW$1}={}){this.blockLength=zs,this.error=Ws,this.warnings=qs,this.valueBeforeDecodeView=BufferSourceConverter.toUint8Array(Ys)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Convert.ToHex(this.valueBeforeDecodeView)}}}LocalBaseBlock.NAME="baseBlock";class ValueBlock extends LocalBaseBlock{fromBER(zs,Ws,qs){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(zs,Ws){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}ValueBlock.NAME="valueBlock";class LocalIdentificationBlock extends HexBlock(LocalBaseBlock){constructor({idBlock:zs={}}={}){var Ws,qs,Ys,Xs;super(),zs?(this.isHexOnly=(Ws=zs.isHexOnly)!==null&&Ws!==void 0?Ws:!1,this.valueHexView=zs.valueHex?BufferSourceConverter.toUint8Array(zs.valueHex):EMPTY_VIEW$1,this.tagClass=(qs=zs.tagClass)!==null&&qs!==void 0?qs:-1,this.tagNumber=(Ys=zs.tagNumber)!==null&&Ys!==void 0?Ys:-1,this.isConstructed=(Xs=zs.isConstructed)!==null&&Xs!==void 0?Xs:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(zs=!1){let Ws=0;switch(this.tagClass){case 1:Ws|=0;break;case 2:Ws|=64;break;case 3:Ws|=128;break;case 4:Ws|=192;break;default:return this.error="Unknown tag class",EMPTY_BUFFER}if(this.isConstructed&&(Ws|=32),this.tagNumber<31&&!this.isHexOnly){const Ys=new Uint8Array(1);if(!zs){let Xs=this.tagNumber;Xs&=31,Ws|=Xs,Ys[0]=Ws}return Ys.buffer}if(!this.isHexOnly){const Ys=utilToBase(this.tagNumber,7),Xs=new Uint8Array(Ys),Zs=Ys.byteLength,yl=new Uint8Array(Zs+1);if(yl[0]=Ws|31,!zs){for(let Js=0;Js<Zs-1;Js++)yl[Js+1]=Xs[Js]|128;yl[Zs]=Xs[Zs-1]}return yl.buffer}const qs=new Uint8Array(this.valueHexView.byteLength+1);if(qs[0]=Ws|31,!zs){const Ys=this.valueHexView;for(let Xs=0;Xs<Ys.length-1;Xs++)qs[Xs+1]=Ys[Xs]|128;qs[this.valueHexView.byteLength]=Ys[Ys.length-1]}return qs.buffer}fromBER(zs,Ws,qs){const Ys=BufferSourceConverter.toUint8Array(zs);if(!checkBufferParams(this,Ys,Ws,qs))return-1;const Xs=Ys.subarray(Ws,Ws+qs);if(Xs.length===0)return this.error="Zero buffer length",-1;switch(Xs[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(Xs[0]&32)===32,this.isHexOnly=!1;const yl=Xs[0]&31;if(yl!==31)this.tagNumber=yl,this.blockLength=1;else{let Js=1,$l=this.valueHexView=new Uint8Array(255),El=255;for(;Xs[Js]&128;){if($l[Js-1]=Xs[Js]&127,Js++,Js>=Xs.length)return this.error="End of input reached before message was fully decoded",-1;if(Js===El){El+=255;const _l=new Uint8Array(El);for(let Sl=0;Sl<$l.length;Sl++)_l[Sl]=$l[Sl];$l=this.valueHexView=new Uint8Array(El)}}this.blockLength=Js+1,$l[Js-1]=Xs[Js]&127;const wl=new Uint8Array(Js);for(let _l=0;_l<Js;_l++)wl[_l]=$l[_l];$l=this.valueHexView=new Uint8Array(Js),$l.set(wl),this.blockLength<=9?this.tagNumber=utilFromBase($l,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return Ws+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}LocalIdentificationBlock.NAME="identificationBlock";class LocalLengthBlock extends LocalBaseBlock{constructor({lenBlock:zs={}}={}){var Ws,qs,Ys;super(),this.isIndefiniteForm=(Ws=zs.isIndefiniteForm)!==null&&Ws!==void 0?Ws:!1,this.longFormUsed=(qs=zs.longFormUsed)!==null&&qs!==void 0?qs:!1,this.length=(Ys=zs.length)!==null&&Ys!==void 0?Ys:0}fromBER(zs,Ws,qs){const Ys=BufferSourceConverter.toUint8Array(zs);if(!checkBufferParams(this,Ys,Ws,qs))return-1;const Xs=Ys.subarray(Ws,Ws+qs);if(Xs.length===0)return this.error="Zero buffer length",-1;if(Xs[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=Xs[0]===128,this.isIndefiniteForm)return this.blockLength=1,Ws+this.blockLength;if(this.longFormUsed=!!(Xs[0]&128),this.longFormUsed===!1)return this.length=Xs[0],this.blockLength=1,Ws+this.blockLength;const Zs=Xs[0]&127;if(Zs>8)return this.error="Too big integer",-1;if(Zs+1>Xs.length)return this.error="End of input reached before message was fully decoded",-1;const yl=Ws+1,Js=Ys.subarray(yl,yl+Zs);return Js[Zs-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=utilFromBase(Js,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=Zs+1,Ws+this.blockLength}toBER(zs=!1){let Ws,qs;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return Ws=new ArrayBuffer(1),zs===!1&&(qs=new Uint8Array(Ws),qs[0]=128),Ws;if(this.longFormUsed){const Ys=utilToBase(this.length,8);if(Ys.byteLength>127)return this.error="Too big length",EMPTY_BUFFER;if(Ws=new ArrayBuffer(Ys.byteLength+1),zs)return Ws;const Xs=new Uint8Array(Ys);qs=new Uint8Array(Ws),qs[0]=Ys.byteLength|128;for(let Zs=0;Zs<Ys.byteLength;Zs++)qs[Zs+1]=Xs[Zs];return Ws}return Ws=new ArrayBuffer(1),zs===!1&&(qs=new Uint8Array(Ws),qs[0]=this.length),Ws}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}LocalLengthBlock.NAME="lengthBlock";const typeStore={};class BaseBlock extends LocalBaseBlock{constructor({name:zs=EMPTY_STRING,optional:Ws=!1,primitiveSchema:qs,...Ys}={},Xs){super(Ys),this.name=zs,this.optional=Ws,qs&&(this.primitiveSchema=qs),this.idBlock=new LocalIdentificationBlock(Ys),this.lenBlock=new LocalLengthBlock(Ys),this.valueBlock=Xs?new Xs(Ys):new ValueBlock(Ys)}fromBER(zs,Ws,qs){const Ys=this.valueBlock.fromBER(zs,Ws,this.lenBlock.isIndefiniteForm?qs:this.lenBlock.length);return Ys===-1?(this.error=this.valueBlock.error,Ys):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),Ys)}toBER(zs,Ws){const qs=Ws||new ViewWriter;Ws||prepareIndefiniteForm(this);const Ys=this.idBlock.toBER(zs);if(qs.write(Ys),this.lenBlock.isIndefiniteForm)qs.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(zs,qs),qs.write(new ArrayBuffer(2));else{const Xs=this.valueBlock.toBER(zs);this.lenBlock.length=Xs.byteLength;const Zs=this.lenBlock.toBER(zs);qs.write(Zs),qs.write(Xs)}return Ws?EMPTY_BUFFER:qs.final()}toJSON(){const zs={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(zs.primitiveSchema=this.primitiveSchema.toJSON()),zs}toString(zs="ascii"){return zs==="ascii"?this.onAsciiEncoding():Convert.ToHex(this.toBER())}onAsciiEncoding(){const zs=this.constructor.NAME,Ws=Convert.ToHex(this.valueBlock.valueBeforeDecodeView);return`${zs} : ${Ws}`}isEqual(zs){if(this===zs)return!0;if(!(zs instanceof this.constructor))return!1;const Ws=this.toBER(),qs=zs.toBER();return isEqualBuffer(Ws,qs)}}BaseBlock.NAME="BaseBlock";function prepareIndefiniteForm(at){var zs;if(at instanceof typeStore.Constructed)for(const Ws of at.valueBlock.value)prepareIndefiniteForm(Ws)&&(at.lenBlock.isIndefiniteForm=!0);return!!(!((zs=at.lenBlock)===null||zs===void 0)&&zs.isIndefiniteForm)}class BaseStringBlock extends BaseBlock{getValue(){return this.valueBlock.value}setValue(zs){this.valueBlock.value=zs}constructor({value:zs=EMPTY_STRING,...Ws}={},qs){super(Ws,qs),zs&&this.fromString(zs)}fromBER(zs,Ws,qs){const Ys=this.valueBlock.fromBER(zs,Ws,this.lenBlock.isIndefiniteForm?qs:this.lenBlock.length);return Ys===-1?(this.error=this.valueBlock.error,Ys):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),Ys)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}BaseStringBlock.NAME="BaseStringBlock";class LocalPrimitiveValueBlock extends HexBlock(ValueBlock){constructor({isHexOnly:zs=!0,...Ws}={}){super(Ws),this.isHexOnly=zs}}LocalPrimitiveValueBlock.NAME="PrimitiveValueBlock";var _a$w;class Primitive extends BaseBlock{constructor(zs={}){super(zs,LocalPrimitiveValueBlock),this.idBlock.isConstructed=!1}}_a$w=Primitive,typeStore.Primitive=_a$w,Primitive.NAME="PRIMITIVE";function localChangeType(at,zs){if(at instanceof zs)return at;const Ws=new zs;return Ws.idBlock=at.idBlock,Ws.lenBlock=at.lenBlock,Ws.warnings=at.warnings,Ws.valueBeforeDecodeView=at.valueBeforeDecodeView,Ws}function localFromBER(at,zs=0,Ws=at.length){const qs=zs;let Ys=new BaseBlock({},ValueBlock);const Xs=new LocalBaseBlock;if(!checkBufferParams(Xs,at,zs,Ws))return Ys.error=Xs.error,{offset:-1,result:Ys};if(!at.subarray(zs,zs+Ws).length)return Ys.error="Zero buffer length",{offset:-1,result:Ys};let yl=Ys.idBlock.fromBER(at,zs,Ws);if(Ys.idBlock.warnings.length&&Ys.warnings.concat(Ys.idBlock.warnings),yl===-1)return Ys.error=Ys.idBlock.error,{offset:-1,result:Ys};if(zs=yl,Ws-=Ys.idBlock.blockLength,yl=Ys.lenBlock.fromBER(at,zs,Ws),Ys.lenBlock.warnings.length&&Ys.warnings.concat(Ys.lenBlock.warnings),yl===-1)return Ys.error=Ys.lenBlock.error,{offset:-1,result:Ys};if(zs=yl,Ws-=Ys.lenBlock.blockLength,!Ys.idBlock.isConstructed&&Ys.lenBlock.isIndefiniteForm)return Ys.error="Indefinite length form used for primitive encoding form",{offset:-1,result:Ys};let Js=BaseBlock;switch(Ys.idBlock.tagClass){case 1:if(Ys.idBlock.tagNumber>=37&&Ys.idBlock.isHexOnly===!1)return Ys.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:Ys};switch(Ys.idBlock.tagNumber){case 0:if(Ys.idBlock.isConstructed&&Ys.lenBlock.length>0)return Ys.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:Ys};Js=typeStore.EndOfContent;break;case 1:Js=typeStore.Boolean;break;case 2:Js=typeStore.Integer;break;case 3:Js=typeStore.BitString;break;case 4:Js=typeStore.OctetString;break;case 5:Js=typeStore.Null;break;case 6:Js=typeStore.ObjectIdentifier;break;case 10:Js=typeStore.Enumerated;break;case 12:Js=typeStore.Utf8String;break;case 13:Js=typeStore.RelativeObjectIdentifier;break;case 14:Js=typeStore.TIME;break;case 15:return Ys.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:Ys};case 16:Js=typeStore.Sequence;break;case 17:Js=typeStore.Set;break;case 18:Js=typeStore.NumericString;break;case 19:Js=typeStore.PrintableString;break;case 20:Js=typeStore.TeletexString;break;case 21:Js=typeStore.VideotexString;break;case 22:Js=typeStore.IA5String;break;case 23:Js=typeStore.UTCTime;break;case 24:Js=typeStore.GeneralizedTime;break;case 25:Js=typeStore.GraphicString;break;case 26:Js=typeStore.VisibleString;break;case 27:Js=typeStore.GeneralString;break;case 28:Js=typeStore.UniversalString;break;case 29:Js=typeStore.CharacterString;break;case 30:Js=typeStore.BmpString;break;case 31:Js=typeStore.DATE;break;case 32:Js=typeStore.TimeOfDay;break;case 33:Js=typeStore.DateTime;break;case 34:Js=typeStore.Duration;break;default:{const $l=Ys.idBlock.isConstructed?new typeStore.Constructed:new typeStore.Primitive;$l.idBlock=Ys.idBlock,$l.lenBlock=Ys.lenBlock,$l.warnings=Ys.warnings,Ys=$l}}break;case 2:case 3:case 4:default:Js=Ys.idBlock.isConstructed?typeStore.Constructed:typeStore.Primitive}return Ys=localChangeType(Ys,Js),yl=Ys.fromBER(at,zs,Ys.lenBlock.isIndefiniteForm?Ws:Ys.lenBlock.length),Ys.valueBeforeDecodeView=at.subarray(qs,qs+Ys.blockLength),{offset:yl,result:Ys}}function fromBER(at){if(!at.byteLength){const zs=new BaseBlock({},ValueBlock);return zs.error="Input buffer has zero length",{offset:-1,result:zs}}return localFromBER(BufferSourceConverter.toUint8Array(at).slice(),0,at.byteLength)}function checkLen(at,zs){return at?1:zs}class LocalConstructedValueBlock extends ValueBlock{constructor({value:zs=[],isIndefiniteForm:Ws=!1,...qs}={}){super(qs),this.value=zs,this.isIndefiniteForm=Ws}fromBER(zs,Ws,qs){const Ys=BufferSourceConverter.toUint8Array(zs);if(!checkBufferParams(this,Ys,Ws,qs))return-1;if(this.valueBeforeDecodeView=Ys.subarray(Ws,Ws+qs),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),Ws;let Xs=Ws;for(;checkLen(this.isIndefiniteForm,qs)>0;){const Zs=localFromBER(Ys,Xs,qs);if(Zs.offset===-1)return this.error=Zs.result.error,this.warnings.concat(Zs.result.warnings),-1;if(Xs=Zs.offset,this.blockLength+=Zs.result.blockLength,qs-=Zs.result.blockLength,this.value.push(Zs.result),this.isIndefiniteForm&&Zs.result.constructor.NAME===END_OF_CONTENT_NAME)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===END_OF_CONTENT_NAME?this.value.pop():this.warnings.push("No EndOfContent block encoded")),Xs}toBER(zs,Ws){const qs=Ws||new ViewWriter;for(let Ys=0;Ys<this.value.length;Ys++)this.value[Ys].toBER(zs,qs);return Ws?EMPTY_BUFFER:qs.final()}toJSON(){const zs={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const Ws of this.value)zs.value.push(Ws.toJSON());return zs}}LocalConstructedValueBlock.NAME="ConstructedValueBlock";var _a$v;class Constructed extends BaseBlock{constructor(zs={}){super(zs,LocalConstructedValueBlock),this.idBlock.isConstructed=!0}fromBER(zs,Ws,qs){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const Ys=this.valueBlock.fromBER(zs,Ws,this.lenBlock.isIndefiniteForm?qs:this.lenBlock.length);return Ys===-1?(this.error=this.valueBlock.error,Ys):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),Ys)}onAsciiEncoding(){const zs=[];for(const qs of this.valueBlock.value)zs.push(qs.toString("ascii").split(`
`).map(Ys=>`  ${Ys}`).join(`
`));const Ws=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return zs.length?`${Ws} :
${zs.join(`
`)}`:`${Ws} :`}}_a$v=Constructed,typeStore.Constructed=_a$v,Constructed.NAME="CONSTRUCTED";class LocalEndOfContentValueBlock extends ValueBlock{fromBER(zs,Ws,qs){return Ws}toBER(zs){return EMPTY_BUFFER}}LocalEndOfContentValueBlock.override="EndOfContentValueBlock";var _a$u;class EndOfContent extends BaseBlock{constructor(zs={}){super(zs,LocalEndOfContentValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}_a$u=EndOfContent,typeStore.EndOfContent=_a$u,EndOfContent.NAME=END_OF_CONTENT_NAME;var _a$t;class Null extends BaseBlock{constructor(zs={}){super(zs,ValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(zs,Ws,qs){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=qs,Ws+qs>zs.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):Ws+qs}toBER(zs,Ws){const qs=new ArrayBuffer(2);if(!zs){const Ys=new Uint8Array(qs);Ys[0]=5,Ys[1]=0}return Ws&&Ws.write(qs),qs}onAsciiEncoding(){return`${this.constructor.NAME}`}}_a$t=Null,typeStore.Null=_a$t,Null.NAME="NULL";class LocalBooleanValueBlock extends HexBlock(ValueBlock){get value(){for(const zs of this.valueHexView)if(zs>0)return!0;return!1}set value(zs){this.valueHexView[0]=zs?255:0}constructor({value:zs,...Ws}={}){super(Ws),Ws.valueHex?this.valueHexView=BufferSourceConverter.toUint8Array(Ws.valueHex):this.valueHexView=new Uint8Array(1),zs&&(this.value=zs)}fromBER(zs,Ws,qs){const Ys=BufferSourceConverter.toUint8Array(zs);return checkBufferParams(this,Ys,Ws,qs)?(this.valueHexView=Ys.subarray(Ws,Ws+qs),qs>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,utilDecodeTC.call(this),this.blockLength=qs,Ws+qs):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}LocalBooleanValueBlock.NAME="BooleanValueBlock";var _a$s;let Boolean$1=class extends BaseBlock{getValue(){return this.valueBlock.value}setValue(zs){this.valueBlock.value=zs}constructor(zs={}){super(zs,LocalBooleanValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};_a$s=Boolean$1,typeStore.Boolean=_a$s,Boolean$1.NAME="BOOLEAN";class LocalOctetStringValueBlock extends HexBlock(LocalConstructedValueBlock){constructor({isConstructed:zs=!1,...Ws}={}){super(Ws),this.isConstructed=zs}fromBER(zs,Ws,qs){let Ys=0;if(this.isConstructed){if(this.isHexOnly=!1,Ys=LocalConstructedValueBlock.prototype.fromBER.call(this,zs,Ws,qs),Ys===-1)return Ys;for(let Xs=0;Xs<this.value.length;Xs++){const Zs=this.value[Xs].constructor.NAME;if(Zs===END_OF_CONTENT_NAME){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Zs!==OCTET_STRING_NAME)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,Ys=super.fromBER(zs,Ws,qs),this.blockLength=qs;return Ys}toBER(zs,Ws){return this.isConstructed?LocalConstructedValueBlock.prototype.toBER.call(this,zs,Ws):zs?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}LocalOctetStringValueBlock.NAME="OctetStringValueBlock";var _a$r;let OctetString$1=class extends BaseBlock{constructor({idBlock:zs={},lenBlock:Ws={},...qs}={}){var Ys,Xs;(Ys=qs.isConstructed)!==null&&Ys!==void 0||(qs.isConstructed=!!(!((Xs=qs.value)===null||Xs===void 0)&&Xs.length)),super({idBlock:{isConstructed:qs.isConstructed,...zs},lenBlock:{...Ws,isIndefiniteForm:!!qs.isIndefiniteForm},...qs},LocalOctetStringValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(zs,Ws,qs){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,qs===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),Ws;if(!this.valueBlock.isConstructed){const Xs=(zs instanceof ArrayBuffer?new Uint8Array(zs):zs).subarray(Ws,Ws+qs);try{if(Xs.byteLength){const Zs=localFromBER(Xs,0,Xs.byteLength);Zs.offset!==-1&&Zs.offset===qs&&(this.valueBlock.value=[Zs.result])}}catch{}}return super.fromBER(zs,Ws,qs)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Constructed.prototype.onAsciiEncoding.call(this);const zs=this.constructor.NAME,Ws=Convert.ToHex(this.valueBlock.valueHexView);return`${zs} : ${Ws}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const zs=[];for(const Ws of this.valueBlock.value)Ws instanceof _a$r&&zs.push(Ws.valueBlock.valueHexView);return BufferSourceConverter.concat(zs)}};_a$r=OctetString$1,typeStore.OctetString=_a$r,OctetString$1.NAME=OCTET_STRING_NAME;class LocalBitStringValueBlock extends HexBlock(LocalConstructedValueBlock){constructor({unusedBits:zs=0,isConstructed:Ws=!1,...qs}={}){super(qs),this.unusedBits=zs,this.isConstructed=Ws,this.blockLength=this.valueHexView.byteLength}fromBER(zs,Ws,qs){if(!qs)return Ws;let Ys=-1;if(this.isConstructed){if(Ys=LocalConstructedValueBlock.prototype.fromBER.call(this,zs,Ws,qs),Ys===-1)return Ys;for(const yl of this.value){const Js=yl.constructor.NAME;if(Js===END_OF_CONTENT_NAME){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(Js!==BIT_STRING_NAME)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const $l=yl.valueBlock;if(this.unusedBits>0&&$l.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=$l.unusedBits}return Ys}const Xs=BufferSourceConverter.toUint8Array(zs);if(!checkBufferParams(this,Xs,Ws,qs))return-1;const Zs=Xs.subarray(Ws,Ws+qs);if(this.unusedBits=Zs[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const yl=Zs.subarray(1);try{if(yl.byteLength){const Js=localFromBER(yl,0,yl.byteLength);Js.offset!==-1&&Js.offset===qs-1&&(this.value=[Js.result])}}catch{}}return this.valueHexView=Zs.subarray(1),this.blockLength=Zs.length,Ws+qs}toBER(zs,Ws){if(this.isConstructed)return LocalConstructedValueBlock.prototype.toBER.call(this,zs,Ws);if(zs)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){const Ys=new Uint8Array(1);return Ys[0]=0,Ys.buffer}const qs=new Uint8Array(this.valueHexView.length+1);return qs[0]=this.unusedBits,qs.set(this.valueHexView,1),qs.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}LocalBitStringValueBlock.NAME="BitStringValueBlock";var _a$q;let BitString$1=class extends BaseBlock{constructor({idBlock:zs={},lenBlock:Ws={},...qs}={}){var Ys,Xs;(Ys=qs.isConstructed)!==null&&Ys!==void 0||(qs.isConstructed=!!(!((Xs=qs.value)===null||Xs===void 0)&&Xs.length)),super({idBlock:{isConstructed:qs.isConstructed,...zs},lenBlock:{...Ws,isIndefiniteForm:!!qs.isIndefiniteForm},...qs},LocalBitStringValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(zs,Ws,qs){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(zs,Ws,qs)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Constructed.prototype.onAsciiEncoding.call(this);{const zs=[],Ws=this.valueBlock.valueHexView;for(const Zs of Ws)zs.push(Zs.toString(2).padStart(8,"0"));const qs=zs.join(""),Ys=this.constructor.NAME,Xs=qs.substring(0,qs.length-this.valueBlock.unusedBits);return`${Ys} : ${Xs}`}}};_a$q=BitString$1,typeStore.BitString=_a$q,BitString$1.NAME=BIT_STRING_NAME;var _a$p;function viewAdd(at,zs){const Ws=new Uint8Array([0]),qs=new Uint8Array(at),Ys=new Uint8Array(zs);let Xs=qs.slice(0);const Zs=Xs.length-1,yl=Ys.slice(0),Js=yl.length-1;let $l=0;const El=Js<Zs?Zs:Js;let wl=0;for(let _l=El;_l>=0;_l--,wl++){switch(!0){case wl<yl.length:$l=Xs[Zs-wl]+yl[Js-wl]+Ws[0];break;default:$l=Xs[Zs-wl]+Ws[0]}switch(Ws[0]=$l/10,!0){case wl>=Xs.length:Xs=utilConcatView(new Uint8Array([$l%10]),Xs);break;default:Xs[Zs-wl]=$l%10}}return Ws[0]>0&&(Xs=utilConcatView(Ws,Xs)),Xs}function power2(at){if(at>=powers2.length)for(let zs=powers2.length;zs<=at;zs++){const Ws=new Uint8Array([0]);let qs=powers2[zs-1].slice(0);for(let Ys=qs.length-1;Ys>=0;Ys--){const Xs=new Uint8Array([(qs[Ys]<<1)+Ws[0]]);Ws[0]=Xs[0]/10,qs[Ys]=Xs[0]%10}Ws[0]>0&&(qs=utilConcatView(Ws,qs)),powers2.push(qs)}return powers2[at]}function viewSub(at,zs){let Ws=0;const qs=new Uint8Array(at),Ys=new Uint8Array(zs),Xs=qs.slice(0),Zs=Xs.length-1,yl=Ys.slice(0),Js=yl.length-1;let $l,El=0;for(let wl=Js;wl>=0;wl--,El++)switch($l=Xs[Zs-El]-yl[Js-El]-Ws,!0){case $l<0:Ws=1,Xs[Zs-El]=$l+10;break;default:Ws=0,Xs[Zs-El]=$l}if(Ws>0)for(let wl=Zs-Js+1;wl>=0;wl--,El++)if($l=Xs[Zs-El]-Ws,$l<0)Ws=1,Xs[Zs-El]=$l+10;else{Ws=0,Xs[Zs-El]=$l;break}return Xs.slice()}class LocalIntegerValueBlock extends HexBlock(ValueBlock){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=utilDecodeTC.call(this)))}constructor({value:zs,...Ws}={}){super(Ws),this._valueDec=0,Ws.valueHex&&this.setValueHex(),zs!==void 0&&(this.valueDec=zs)}set valueDec(zs){this._valueDec=zs,this.isHexOnly=!1,this.valueHexView=new Uint8Array(utilEncodeTC(zs))}get valueDec(){return this._valueDec}fromDER(zs,Ws,qs,Ys=0){const Xs=this.fromBER(zs,Ws,qs);if(Xs===-1)return Xs;const Zs=this.valueHexView;return Zs[0]===0&&Zs[1]&128?this.valueHexView=Zs.subarray(1):Ys!==0&&Zs.length<Ys&&(Ys-Zs.length>1&&(Ys=Zs.length+1),this.valueHexView=Zs.subarray(Ys-Zs.length)),Xs}toDER(zs=!1){const Ws=this.valueHexView;switch(!0){case(Ws[0]&128)!==0:{const qs=new Uint8Array(this.valueHexView.length+1);qs[0]=0,qs.set(Ws,1),this.valueHexView=qs}break;case(Ws[0]===0&&(Ws[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(zs)}fromBER(zs,Ws,qs){const Ys=super.fromBER(zs,Ws,qs);return Ys===-1||this.setValueHex(),Ys}toBER(zs){return zs?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const zs=this.valueHexView.length*8-1;let Ws=new Uint8Array(this.valueHexView.length*8/3),qs=0,Ys;const Xs=this.valueHexView;let Zs="",yl=!1;for(let Js=Xs.byteLength-1;Js>=0;Js--){Ys=Xs[Js];for(let $l=0;$l<8;$l++){if((Ys&1)===1)switch(qs){case zs:Ws=viewSub(power2(qs),Ws),Zs="-";break;default:Ws=viewAdd(Ws,power2(qs))}qs++,Ys>>=1}}for(let Js=0;Js<Ws.length;Js++)Ws[Js]&&(yl=!0),yl&&(Zs+=digitsString.charAt(Ws[Js]));return yl===!1&&(Zs+=digitsString.charAt(0)),Zs}}_a$p=LocalIntegerValueBlock,LocalIntegerValueBlock.NAME="IntegerValueBlock",Object.defineProperty(_a$p.prototype,"valueHex",{set:function(at){this.valueHexView=new Uint8Array(at),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var _a$o;class Integer extends BaseBlock{constructor(zs={}){super(zs,LocalIntegerValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return assertBigInt(),BigInt(this.valueBlock.toString())}static fromBigInt(zs){assertBigInt();const Ws=BigInt(zs),qs=new ViewWriter,Ys=Ws.toString(16).replace(/^-/,""),Xs=new Uint8Array(Convert.FromHex(Ys));if(Ws<0){const yl=new Uint8Array(Xs.length+(Xs[0]&128?1:0));yl[0]|=128;const $l=BigInt(`0x${Convert.ToHex(yl)}`)+Ws,El=BufferSourceConverter.toUint8Array(Convert.FromHex($l.toString(16)));El[0]|=128,qs.write(El)}else Xs[0]&128&&qs.write(new Uint8Array([0])),qs.write(Xs);return new _a$o({valueHex:qs.final()})}convertToDER(){const zs=new _a$o({valueHex:this.valueBlock.valueHexView});return zs.valueBlock.toDER(),zs}convertFromDER(){return new _a$o({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}_a$o=Integer,typeStore.Integer=_a$o,Integer.NAME="INTEGER";var _a$n;class Enumerated extends Integer{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}_a$n=Enumerated,typeStore.Enumerated=_a$n,Enumerated.NAME="ENUMERATED";class LocalSidValueBlock extends HexBlock(ValueBlock){constructor({valueDec:zs=-1,isFirstSid:Ws=!1,...qs}={}){super(qs),this.valueDec=zs,this.isFirstSid=Ws}fromBER(zs,Ws,qs){if(!qs)return Ws;const Ys=BufferSourceConverter.toUint8Array(zs);if(!checkBufferParams(this,Ys,Ws,qs))return-1;const Xs=Ys.subarray(Ws,Ws+qs);this.valueHexView=new Uint8Array(qs);for(let yl=0;yl<qs&&(this.valueHexView[yl]=Xs[yl]&127,this.blockLength++,!!(Xs[yl]&128));yl++);const Zs=new Uint8Array(this.blockLength);for(let yl=0;yl<this.blockLength;yl++)Zs[yl]=this.valueHexView[yl];return this.valueHexView=Zs,Xs[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=utilFromBase(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),Ws+this.blockLength)}set valueBigInt(zs){assertBigInt();let Ws=BigInt(zs).toString(2);for(;Ws.length%7;)Ws="0"+Ws;const qs=new Uint8Array(Ws.length/7);for(let Ys=0;Ys<qs.length;Ys++)qs[Ys]=parseInt(Ws.slice(Ys*7,Ys*7+7),2)+(Ys+1<qs.length?128:0);this.fromBER(qs.buffer,0,qs.length)}toBER(zs){if(this.isHexOnly){if(zs)return new ArrayBuffer(this.valueHexView.byteLength);const Ys=this.valueHexView,Xs=new Uint8Array(this.blockLength);for(let Zs=0;Zs<this.blockLength-1;Zs++)Xs[Zs]=Ys[Zs]|128;return Xs[this.blockLength-1]=Ys[this.blockLength-1],Xs.buffer}const Ws=utilToBase(this.valueDec,7);if(Ws.byteLength===0)return this.error="Error during encoding SID value",EMPTY_BUFFER;const qs=new Uint8Array(Ws.byteLength);if(!zs){const Ys=new Uint8Array(Ws),Xs=Ws.byteLength-1;for(let Zs=0;Zs<Xs;Zs++)qs[Zs]=Ys[Zs]|128;qs[Xs]=Ys[Xs]}return qs}toString(){let zs="";if(this.isHexOnly)zs=Convert.ToHex(this.valueHexView);else if(this.isFirstSid){let Ws=this.valueDec;this.valueDec<=39?zs="0.":this.valueDec<=79?(zs="1.",Ws-=40):(zs="2.",Ws-=80),zs+=Ws.toString()}else zs=this.valueDec.toString();return zs}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}LocalSidValueBlock.NAME="sidBlock";class LocalObjectIdentifierValueBlock extends ValueBlock{constructor({value:zs=EMPTY_STRING,...Ws}={}){super(Ws),this.value=[],zs&&this.fromString(zs)}fromBER(zs,Ws,qs){let Ys=Ws;for(;qs>0;){const Xs=new LocalSidValueBlock;if(Ys=Xs.fromBER(zs,Ys,qs),Ys===-1)return this.blockLength=0,this.error=Xs.error,Ys;this.value.length===0&&(Xs.isFirstSid=!0),this.blockLength+=Xs.blockLength,qs-=Xs.blockLength,this.value.push(Xs)}return Ys}toBER(zs){const Ws=[];for(let qs=0;qs<this.value.length;qs++){const Ys=this.value[qs].toBER(zs);if(Ys.byteLength===0)return this.error=this.value[qs].error,EMPTY_BUFFER;Ws.push(Ys)}return concat$4(Ws)}fromString(zs){this.value=[];let Ws=0,qs=0,Ys="",Xs=!1;do if(qs=zs.indexOf(".",Ws),qs===-1?Ys=zs.substring(Ws):Ys=zs.substring(Ws,qs),Ws=qs+1,Xs){const Zs=this.value[0];let yl=0;switch(Zs.valueDec){case 0:break;case 1:yl=40;break;case 2:yl=80;break;default:this.value=[];return}const Js=parseInt(Ys,10);if(isNaN(Js))return;Zs.valueDec=Js+yl,Xs=!1}else{const Zs=new LocalSidValueBlock;if(Ys>Number.MAX_SAFE_INTEGER){assertBigInt();const yl=BigInt(Ys);Zs.valueBigInt=yl}else if(Zs.valueDec=parseInt(Ys,10),isNaN(Zs.valueDec))return;this.value.length||(Zs.isFirstSid=!0,Xs=!0),this.value.push(Zs)}while(qs!==-1)}toString(){let zs="",Ws=!1;for(let qs=0;qs<this.value.length;qs++){Ws=this.value[qs].isHexOnly;let Ys=this.value[qs].toString();qs!==0&&(zs=`${zs}.`),Ws?(Ys=`{${Ys}}`,this.value[qs].isFirstSid?zs=`2.{${Ys} - 80}`:zs+=Ys):zs+=Ys}return zs}toJSON(){const zs={...super.toJSON(),value:this.toString(),sidArray:[]};for(let Ws=0;Ws<this.value.length;Ws++)zs.sidArray.push(this.value[Ws].toJSON());return zs}}LocalObjectIdentifierValueBlock.NAME="ObjectIdentifierValueBlock";var _a$m;class ObjectIdentifier extends BaseBlock{getValue(){return this.valueBlock.toString()}setValue(zs){this.valueBlock.fromString(zs)}constructor(zs={}){super(zs,LocalObjectIdentifierValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}_a$m=ObjectIdentifier,typeStore.ObjectIdentifier=_a$m,ObjectIdentifier.NAME="OBJECT IDENTIFIER";class LocalRelativeSidValueBlock extends HexBlock(LocalBaseBlock){constructor({valueDec:zs=0,...Ws}={}){super(Ws),this.valueDec=zs}fromBER(zs,Ws,qs){if(qs===0)return Ws;const Ys=BufferSourceConverter.toUint8Array(zs);if(!checkBufferParams(this,Ys,Ws,qs))return-1;const Xs=Ys.subarray(Ws,Ws+qs);this.valueHexView=new Uint8Array(qs);for(let yl=0;yl<qs&&(this.valueHexView[yl]=Xs[yl]&127,this.blockLength++,!!(Xs[yl]&128));yl++);const Zs=new Uint8Array(this.blockLength);for(let yl=0;yl<this.blockLength;yl++)Zs[yl]=this.valueHexView[yl];return this.valueHexView=Zs,Xs[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=utilFromBase(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),Ws+this.blockLength)}toBER(zs){if(this.isHexOnly){if(zs)return new ArrayBuffer(this.valueHexView.byteLength);const Ys=this.valueHexView,Xs=new Uint8Array(this.blockLength);for(let Zs=0;Zs<this.blockLength-1;Zs++)Xs[Zs]=Ys[Zs]|128;return Xs[this.blockLength-1]=Ys[this.blockLength-1],Xs.buffer}const Ws=utilToBase(this.valueDec,7);if(Ws.byteLength===0)return this.error="Error during encoding SID value",EMPTY_BUFFER;const qs=new Uint8Array(Ws.byteLength);if(!zs){const Ys=new Uint8Array(Ws),Xs=Ws.byteLength-1;for(let Zs=0;Zs<Xs;Zs++)qs[Zs]=Ys[Zs]|128;qs[Xs]=Ys[Xs]}return qs.buffer}toString(){let zs="";return this.isHexOnly?zs=Convert.ToHex(this.valueHexView):zs=this.valueDec.toString(),zs}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}LocalRelativeSidValueBlock.NAME="relativeSidBlock";class LocalRelativeObjectIdentifierValueBlock extends ValueBlock{constructor({value:zs=EMPTY_STRING,...Ws}={}){super(Ws),this.value=[],zs&&this.fromString(zs)}fromBER(zs,Ws,qs){let Ys=Ws;for(;qs>0;){const Xs=new LocalRelativeSidValueBlock;if(Ys=Xs.fromBER(zs,Ys,qs),Ys===-1)return this.blockLength=0,this.error=Xs.error,Ys;this.blockLength+=Xs.blockLength,qs-=Xs.blockLength,this.value.push(Xs)}return Ys}toBER(zs,Ws){const qs=[];for(let Ys=0;Ys<this.value.length;Ys++){const Xs=this.value[Ys].toBER(zs);if(Xs.byteLength===0)return this.error=this.value[Ys].error,EMPTY_BUFFER;qs.push(Xs)}return concat$4(qs)}fromString(zs){this.value=[];let Ws=0,qs=0,Ys="";do{qs=zs.indexOf(".",Ws),qs===-1?Ys=zs.substring(Ws):Ys=zs.substring(Ws,qs),Ws=qs+1;const Xs=new LocalRelativeSidValueBlock;if(Xs.valueDec=parseInt(Ys,10),isNaN(Xs.valueDec))return!0;this.value.push(Xs)}while(qs!==-1);return!0}toString(){let zs="",Ws=!1;for(let qs=0;qs<this.value.length;qs++){Ws=this.value[qs].isHexOnly;let Ys=this.value[qs].toString();qs!==0&&(zs=`${zs}.`),Ws&&(Ys=`{${Ys}}`),zs+=Ys}return zs}toJSON(){const zs={...super.toJSON(),value:this.toString(),sidArray:[]};for(let Ws=0;Ws<this.value.length;Ws++)zs.sidArray.push(this.value[Ws].toJSON());return zs}}LocalRelativeObjectIdentifierValueBlock.NAME="RelativeObjectIdentifierValueBlock";var _a$l;class RelativeObjectIdentifier extends BaseBlock{getValue(){return this.valueBlock.toString()}setValue(zs){this.valueBlock.fromString(zs)}constructor(zs={}){super(zs,LocalRelativeObjectIdentifierValueBlock),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}_a$l=RelativeObjectIdentifier,typeStore.RelativeObjectIdentifier=_a$l,RelativeObjectIdentifier.NAME="RelativeObjectIdentifier";var _a$k;class Sequence extends Constructed{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}_a$k=Sequence,typeStore.Sequence=_a$k,Sequence.NAME="SEQUENCE";var _a$j;let Set$1=class extends Constructed{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};_a$j=Set$1,typeStore.Set=_a$j,Set$1.NAME="SET";class LocalStringValueBlock extends HexBlock(ValueBlock){constructor({...zs}={}){super(zs),this.isHexOnly=!0,this.value=EMPTY_STRING}toJSON(){return{...super.toJSON(),value:this.value}}}LocalStringValueBlock.NAME="StringValueBlock";class LocalSimpleStringValueBlock extends LocalStringValueBlock{}LocalSimpleStringValueBlock.NAME="SimpleStringValueBlock";class LocalSimpleStringBlock extends BaseStringBlock{constructor({...zs}={}){super(zs,LocalSimpleStringValueBlock)}fromBuffer(zs){this.valueBlock.value=String.fromCharCode.apply(null,BufferSourceConverter.toUint8Array(zs))}fromString(zs){const Ws=zs.length,qs=this.valueBlock.valueHexView=new Uint8Array(Ws);for(let Ys=0;Ys<Ws;Ys++)qs[Ys]=zs.charCodeAt(Ys);this.valueBlock.value=zs}}LocalSimpleStringBlock.NAME="SIMPLE STRING";class LocalUtf8StringValueBlock extends LocalSimpleStringBlock{fromBuffer(zs){this.valueBlock.valueHexView=BufferSourceConverter.toUint8Array(zs);try{this.valueBlock.value=Convert.ToUtf8String(zs)}catch(Ws){this.warnings.push(`Error during "decodeURIComponent": ${Ws}, using raw string`),this.valueBlock.value=Convert.ToBinary(zs)}}fromString(zs){this.valueBlock.valueHexView=new Uint8Array(Convert.FromUtf8String(zs)),this.valueBlock.value=zs}}LocalUtf8StringValueBlock.NAME="Utf8StringValueBlock";var _a$i;class Utf8String extends LocalUtf8StringValueBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}_a$i=Utf8String,typeStore.Utf8String=_a$i,Utf8String.NAME="UTF8String";class LocalBmpStringValueBlock extends LocalSimpleStringBlock{fromBuffer(zs){this.valueBlock.value=Convert.ToUtf16String(zs),this.valueBlock.valueHexView=BufferSourceConverter.toUint8Array(zs)}fromString(zs){this.valueBlock.value=zs,this.valueBlock.valueHexView=new Uint8Array(Convert.FromUtf16String(zs))}}LocalBmpStringValueBlock.NAME="BmpStringValueBlock";var _a$h;class BmpString extends LocalBmpStringValueBlock{constructor({...zs}={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}_a$h=BmpString,typeStore.BmpString=_a$h,BmpString.NAME="BMPString";class LocalUniversalStringValueBlock extends LocalSimpleStringBlock{fromBuffer(zs){const Ws=ArrayBuffer.isView(zs)?zs.slice().buffer:zs.slice(0),qs=new Uint8Array(Ws);for(let Ys=0;Ys<qs.length;Ys+=4)qs[Ys]=qs[Ys+3],qs[Ys+1]=qs[Ys+2],qs[Ys+2]=0,qs[Ys+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(Ws))}fromString(zs){const Ws=zs.length,qs=this.valueBlock.valueHexView=new Uint8Array(Ws*4);for(let Ys=0;Ys<Ws;Ys++){const Xs=utilToBase(zs.charCodeAt(Ys),8),Zs=new Uint8Array(Xs);if(Zs.length>4)continue;const yl=4-Zs.length;for(let Js=Zs.length-1;Js>=0;Js--)qs[Ys*4+Js+yl]=Zs[Js]}this.valueBlock.value=zs}}LocalUniversalStringValueBlock.NAME="UniversalStringValueBlock";var _a$g;class UniversalString extends LocalUniversalStringValueBlock{constructor({...zs}={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}_a$g=UniversalString,typeStore.UniversalString=_a$g,UniversalString.NAME="UniversalString";var _a$f;class NumericString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}_a$f=NumericString,typeStore.NumericString=_a$f,NumericString.NAME="NumericString";var _a$e;class PrintableString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}_a$e=PrintableString,typeStore.PrintableString=_a$e,PrintableString.NAME="PrintableString";var _a$d;class TeletexString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}_a$d=TeletexString,typeStore.TeletexString=_a$d,TeletexString.NAME="TeletexString";var _a$c;class VideotexString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}_a$c=VideotexString,typeStore.VideotexString=_a$c,VideotexString.NAME="VideotexString";var _a$b;class IA5String extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}_a$b=IA5String,typeStore.IA5String=_a$b,IA5String.NAME="IA5String";var _a$a;class GraphicString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}_a$a=GraphicString,typeStore.GraphicString=_a$a,GraphicString.NAME="GraphicString";var _a$9;class VisibleString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}_a$9=VisibleString,typeStore.VisibleString=_a$9,VisibleString.NAME="VisibleString";var _a$8;class GeneralString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}_a$8=GeneralString,typeStore.GeneralString=_a$8,GeneralString.NAME="GeneralString";var _a$7;class CharacterString extends LocalSimpleStringBlock{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}_a$7=CharacterString,typeStore.CharacterString=_a$7,CharacterString.NAME="CharacterString";var _a$6;class UTCTime extends VisibleString{constructor({value:zs,valueDate:Ws,...qs}={}){if(super(qs),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,zs){this.fromString(zs),this.valueBlock.valueHexView=new Uint8Array(zs.length);for(let Ys=0;Ys<zs.length;Ys++)this.valueBlock.valueHexView[Ys]=zs.charCodeAt(Ys)}Ws&&(this.fromDate(Ws),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(zs){this.fromString(String.fromCharCode.apply(null,BufferSourceConverter.toUint8Array(zs)))}toBuffer(){const zs=this.toString(),Ws=new ArrayBuffer(zs.length),qs=new Uint8Array(Ws);for(let Ys=0;Ys<zs.length;Ys++)qs[Ys]=zs.charCodeAt(Ys);return Ws}fromDate(zs){this.year=zs.getUTCFullYear(),this.month=zs.getUTCMonth()+1,this.day=zs.getUTCDate(),this.hour=zs.getUTCHours(),this.minute=zs.getUTCMinutes(),this.second=zs.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(zs){const qs=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(zs);if(qs===null){this.error="Wrong input string for conversion";return}const Ys=parseInt(qs[1],10);Ys>=50?this.year=1900+Ys:this.year=2e3+Ys,this.month=parseInt(qs[2],10),this.day=parseInt(qs[3],10),this.hour=parseInt(qs[4],10),this.minute=parseInt(qs[5],10),this.second=parseInt(qs[6],10)}toString(zs="iso"){if(zs==="iso"){const Ws=new Array(7);return Ws[0]=padNumber(this.year<2e3?this.year-1900:this.year-2e3,2),Ws[1]=padNumber(this.month,2),Ws[2]=padNumber(this.day,2),Ws[3]=padNumber(this.hour,2),Ws[4]=padNumber(this.minute,2),Ws[5]=padNumber(this.second,2),Ws[6]="Z",Ws.join("")}return super.toString(zs)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}_a$6=UTCTime,typeStore.UTCTime=_a$6,UTCTime.NAME="UTCTime";var _a$5;class GeneralizedTime extends UTCTime{constructor(zs={}){var Ws;super(zs),(Ws=this.millisecond)!==null&&Ws!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(zs){super.fromDate(zs),this.millisecond=zs.getUTCMilliseconds()}toDate(){const zs=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(zs)}fromString(zs){let Ws=!1,qs="",Ys="",Xs=0,Zs,yl=0,Js=0;if(zs[zs.length-1]==="Z")qs=zs.substring(0,zs.length-1),Ws=!0;else{const wl=new Number(zs[zs.length-1]);if(isNaN(wl.valueOf()))throw new Error("Wrong input string for conversion");qs=zs}if(Ws){if(qs.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(qs.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let wl=1,_l=qs.indexOf("+"),Sl="";if(_l===-1&&(_l=qs.indexOf("-"),wl=-1),_l!==-1){if(Sl=qs.substring(_l+1),qs=qs.substring(0,_l),Sl.length!==2&&Sl.length!==4)throw new Error("Wrong input string for conversion");let Tl=parseInt(Sl.substring(0,2),10);if(isNaN(Tl.valueOf()))throw new Error("Wrong input string for conversion");if(yl=wl*Tl,Sl.length===4){if(Tl=parseInt(Sl.substring(2,4),10),isNaN(Tl.valueOf()))throw new Error("Wrong input string for conversion");Js=wl*Tl}}}let $l=qs.indexOf(".");if($l===-1&&($l=qs.indexOf(",")),$l!==-1){const wl=new Number(`0${qs.substring($l)}`);if(isNaN(wl.valueOf()))throw new Error("Wrong input string for conversion");Xs=wl.valueOf(),Ys=qs.substring(0,$l)}else Ys=qs;switch(!0){case Ys.length===8:if(Zs=/(\d{4})(\d{2})(\d{2})/ig,$l!==-1)throw new Error("Wrong input string for conversion");break;case Ys.length===10:if(Zs=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,$l!==-1){let wl=60*Xs;this.minute=Math.floor(wl),wl=60*(wl-this.minute),this.second=Math.floor(wl),wl=1e3*(wl-this.second),this.millisecond=Math.floor(wl)}break;case Ys.length===12:if(Zs=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,$l!==-1){let wl=60*Xs;this.second=Math.floor(wl),wl=1e3*(wl-this.second),this.millisecond=Math.floor(wl)}break;case Ys.length===14:if(Zs=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,$l!==-1){const wl=1e3*Xs;this.millisecond=Math.floor(wl)}break;default:throw new Error("Wrong input string for conversion")}const El=Zs.exec(Ys);if(El===null)throw new Error("Wrong input string for conversion");for(let wl=1;wl<El.length;wl++)switch(wl){case 1:this.year=parseInt(El[wl],10);break;case 2:this.month=parseInt(El[wl],10);break;case 3:this.day=parseInt(El[wl],10);break;case 4:this.hour=parseInt(El[wl],10)+yl;break;case 5:this.minute=parseInt(El[wl],10)+Js;break;case 6:this.second=parseInt(El[wl],10);break;default:throw new Error("Wrong input string for conversion")}if(Ws===!1){const wl=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=wl.getUTCFullYear(),this.month=wl.getUTCMonth(),this.day=wl.getUTCDay(),this.hour=wl.getUTCHours(),this.minute=wl.getUTCMinutes(),this.second=wl.getUTCSeconds(),this.millisecond=wl.getUTCMilliseconds()}}toString(zs="iso"){if(zs==="iso"){const Ws=[];return Ws.push(padNumber(this.year,4)),Ws.push(padNumber(this.month,2)),Ws.push(padNumber(this.day,2)),Ws.push(padNumber(this.hour,2)),Ws.push(padNumber(this.minute,2)),Ws.push(padNumber(this.second,2)),this.millisecond!==0&&(Ws.push("."),Ws.push(padNumber(this.millisecond,3))),Ws.push("Z"),Ws.join("")}return super.toString(zs)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}_a$5=GeneralizedTime,typeStore.GeneralizedTime=_a$5,GeneralizedTime.NAME="GeneralizedTime";var _a$4;class DATE extends Utf8String{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}_a$4=DATE,typeStore.DATE=_a$4,DATE.NAME="DATE";var _a$3;class TimeOfDay extends Utf8String{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}_a$3=TimeOfDay,typeStore.TimeOfDay=_a$3,TimeOfDay.NAME="TimeOfDay";var _a$2;class DateTime extends Utf8String{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}_a$2=DateTime,typeStore.DateTime=_a$2,DateTime.NAME="DateTime";var _a$1$1;class Duration extends Utf8String{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}_a$1$1=Duration,typeStore.Duration=_a$1$1,Duration.NAME="Duration";var _a$x;class TIME extends Utf8String{constructor(zs={}){super(zs),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}_a$x=TIME,typeStore.TIME=_a$x,TIME.NAME="TIME";class Any{constructor({name:zs=EMPTY_STRING,optional:Ws=!1}={}){this.name=zs,this.optional=Ws}}class Choice extends Any{constructor({value:zs=[],...Ws}={}){super(Ws),this.value=zs}}class Repeated extends Any{constructor({value:zs=new Any,local:Ws=!1,...qs}={}){super(qs),this.value=zs,this.local=Ws}}class RawData{get data(){return this.dataView.slice().buffer}set data(zs){this.dataView=BufferSourceConverter.toUint8Array(zs)}constructor({data:zs=EMPTY_VIEW$1}={}){this.dataView=BufferSourceConverter.toUint8Array(zs)}fromBER(zs,Ws,qs){const Ys=Ws+qs;return this.dataView=BufferSourceConverter.toUint8Array(zs).subarray(Ws,Ys),Ys}toBER(zs){return this.dataView.slice().buffer}}function compareSchema(at,zs,Ws){if(Ws instanceof Choice){for(const Xs of Ws.value)if(compareSchema(at,zs,Xs).verified)return{verified:!0,result:at};{const Xs={verified:!1,result:{error:"Wrong values for Choice type"}};return Ws.hasOwnProperty(NAME$1)&&(Xs.name=Ws.name),Xs}}if(Ws instanceof Any)return Ws.hasOwnProperty(NAME$1)&&(at[Ws.name]=zs),{verified:!0,result:at};if(!(at instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(zs instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(Ws instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(ID_BLOCK in Ws))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(FROM_BER in Ws.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(TO_BER in Ws.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const qs=Ws.idBlock.toBER(!1);if(qs.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(Ws.idBlock.fromBER(qs,0,qs.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(Ws.idBlock.hasOwnProperty(TAG_CLASS)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(Ws.idBlock.tagClass!==zs.idBlock.tagClass)return{verified:!1,result:at};if(Ws.idBlock.hasOwnProperty(TAG_NUMBER)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(Ws.idBlock.tagNumber!==zs.idBlock.tagNumber)return{verified:!1,result:at};if(Ws.idBlock.hasOwnProperty(IS_CONSTRUCTED)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(Ws.idBlock.isConstructed!==zs.idBlock.isConstructed)return{verified:!1,result:at};if(!(IS_HEX_ONLY in Ws.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(Ws.idBlock.isHexOnly!==zs.idBlock.isHexOnly)return{verified:!1,result:at};if(Ws.idBlock.isHexOnly){if(!(VALUE_HEX_VIEW in Ws.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const Xs=Ws.idBlock.valueHexView,Zs=zs.idBlock.valueHexView;if(Xs.length!==Zs.length)return{verified:!1,result:at};for(let yl=0;yl<Xs.length;yl++)if(Xs[yl]!==Zs[1])return{verified:!1,result:at}}if(Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&(at[Ws.name]=zs)),Ws instanceof typeStore.Constructed){let Xs=0,Zs={verified:!1,result:{error:"Unknown error"}},yl=Ws.valueBlock.value.length;if(yl>0&&Ws.valueBlock.value[0]instanceof Repeated&&(yl=zs.valueBlock.value.length),yl===0)return{verified:!0,result:at};if(zs.valueBlock.value.length===0&&Ws.valueBlock.value.length!==0){let Js=!0;for(let $l=0;$l<Ws.valueBlock.value.length;$l++)Js=Js&&(Ws.valueBlock.value[$l].optional||!1);return Js?{verified:!0,result:at}:(Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&delete at[Ws.name]),at.error="Inconsistent object length",{verified:!1,result:at})}for(let Js=0;Js<yl;Js++)if(Js-Xs>=zs.valueBlock.value.length){if(Ws.valueBlock.value[Js].optional===!1){const $l={verified:!1,result:at};return at.error="Inconsistent length between ASN.1 data and schema",Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&(delete at[Ws.name],$l.name=Ws.name)),$l}}else if(Ws.valueBlock.value[0]instanceof Repeated){if(Zs=compareSchema(at,zs.valueBlock.value[Js],Ws.valueBlock.value[0].value),Zs.verified===!1)if(Ws.valueBlock.value[0].optional)Xs++;else return Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&delete at[Ws.name]),Zs;if(NAME$1 in Ws.valueBlock.value[0]&&Ws.valueBlock.value[0].name.length>0){let $l={};LOCAL in Ws.valueBlock.value[0]&&Ws.valueBlock.value[0].local?$l=zs:$l=at,typeof $l[Ws.valueBlock.value[0].name]>"u"&&($l[Ws.valueBlock.value[0].name]=[]),$l[Ws.valueBlock.value[0].name].push(zs.valueBlock.value[Js])}}else if(Zs=compareSchema(at,zs.valueBlock.value[Js-Xs],Ws.valueBlock.value[Js]),Zs.verified===!1)if(Ws.valueBlock.value[Js].optional)Xs++;else return Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&delete at[Ws.name]),Zs;if(Zs.verified===!1){const Js={verified:!1,result:at};return Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&(delete at[Ws.name],Js.name=Ws.name)),Js}return{verified:!0,result:at}}if(Ws.primitiveSchema&&VALUE_HEX_VIEW in zs.valueBlock){const Xs=localFromBER(zs.valueBlock.valueHexView);if(Xs.offset===-1){const Zs={verified:!1,result:Xs.result};return Ws.name&&(Ws.name=Ws.name.replace(/^\s+|\s+$/g,EMPTY_STRING),Ws.name&&(delete at[Ws.name],Zs.name=Ws.name)),Zs}return compareSchema(at,Xs.result,Ws.primitiveSchema)}return{verified:!0,result:at}}function verifySchema(at,zs){if(!(zs instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const Ws=localFromBER(BufferSourceConverter.toUint8Array(at));return Ws.offset===-1?{verified:!1,result:Ws.result}:compareSchema(Ws.result,Ws.result,zs)}const asn1js=Object.freeze(Object.defineProperty({__proto__:null,Any,BaseBlock,BaseStringBlock,BitString:BitString$1,BmpString,Boolean:Boolean$1,CharacterString,Choice,Constructed,DATE,DateTime,Duration,EndOfContent,Enumerated,GeneralString,GeneralizedTime,GraphicString,HexBlock,IA5String,Integer,Null,NumericString,ObjectIdentifier,OctetString:OctetString$1,Primitive,PrintableString,RawData,RelativeObjectIdentifier,Repeated,Sequence,Set:Set$1,TIME,TeletexString,TimeOfDay,UTCTime,UniversalString,Utf8String,ValueBlock,VideotexString,ViewWriter,VisibleString,compareSchema,fromBER,verifySchema},Symbol.toStringTag,{value:"Module"}));var AsnTypeTypes;(function(at){at[at.Sequence=0]="Sequence",at[at.Set=1]="Set",at[at.Choice=2]="Choice"})(AsnTypeTypes||(AsnTypeTypes={}));var AsnPropTypes;(function(at){at[at.Any=1]="Any",at[at.Boolean=2]="Boolean",at[at.OctetString=3]="OctetString",at[at.BitString=4]="BitString",at[at.Integer=5]="Integer",at[at.Enumerated=6]="Enumerated",at[at.ObjectIdentifier=7]="ObjectIdentifier",at[at.Utf8String=8]="Utf8String",at[at.BmpString=9]="BmpString",at[at.UniversalString=10]="UniversalString",at[at.NumericString=11]="NumericString",at[at.PrintableString=12]="PrintableString",at[at.TeletexString=13]="TeletexString",at[at.VideotexString=14]="VideotexString",at[at.IA5String=15]="IA5String",at[at.GraphicString=16]="GraphicString",at[at.VisibleString=17]="VisibleString",at[at.GeneralString=18]="GeneralString",at[at.CharacterString=19]="CharacterString",at[at.UTCTime=20]="UTCTime",at[at.GeneralizedTime=21]="GeneralizedTime",at[at.DATE=22]="DATE",at[at.TimeOfDay=23]="TimeOfDay",at[at.DateTime=24]="DateTime",at[at.Duration=25]="Duration",at[at.TIME=26]="TIME",at[at.Null=27]="Null"})(AsnPropTypes||(AsnPropTypes={}));class BitString{constructor(zs,Ws=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),zs)if(typeof zs=="number")this.fromNumber(zs);else if(BufferSourceConverter.isBufferSource(zs))this.unusedBits=Ws,this.value=BufferSourceConverter.toArrayBuffer(zs);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(zs){if(!(zs instanceof BitString$1))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=zs.valueBlock.unusedBits,this.value=zs.valueBlock.valueHex,this}toASN(){return new BitString$1({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(zs){return new BitString$1({name:zs})}toNumber(){let zs="";const Ws=new Uint8Array(this.value);for(const qs of Ws)zs+=qs.toString(2).padStart(8,"0");return zs=zs.split("").reverse().join(""),this.unusedBits&&(zs=zs.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(zs,2)}fromNumber(zs){let Ws=zs.toString(2);const qs=Ws.length+7>>3;this.unusedBits=(qs<<3)-Ws.length;const Ys=new Uint8Array(qs);Ws=Ws.padStart(qs<<3,"0").split("").reverse().join("");let Xs=0;for(;Xs<qs;)Ys[Xs]=parseInt(Ws.slice(Xs<<3,(Xs<<3)+8),2),Xs++;this.value=Ys.buffer}}class OctetString{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(zs){typeof zs=="number"?this.buffer=new ArrayBuffer(zs):BufferSourceConverter.isBufferSource(zs)?this.buffer=BufferSourceConverter.toArrayBuffer(zs):Array.isArray(zs)?this.buffer=new Uint8Array(zs):this.buffer=new ArrayBuffer(0)}fromASN(zs){if(!(zs instanceof OctetString$1))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=zs.valueBlock.valueHex,this}toASN(){return new OctetString$1({valueHex:this.buffer})}toSchema(zs){return new OctetString$1({name:zs})}}const AsnAnyConverter={fromASN:at=>at instanceof Null?null:at.valueBeforeDecodeView,toASN:at=>{if(at===null)return new Null;const zs=fromBER(at);if(zs.result.error)throw new Error(zs.result.error);return zs.result}},AsnIntegerConverter={fromASN:at=>at.valueBlock.valueHexView.byteLength>=4?at.valueBlock.toString():at.valueBlock.valueDec,toASN:at=>new Integer({value:+at})},AsnEnumeratedConverter={fromASN:at=>at.valueBlock.valueDec,toASN:at=>new Enumerated({value:at})},AsnIntegerArrayBufferConverter={fromASN:at=>at.valueBlock.valueHexView,toASN:at=>new Integer({valueHex:at})},AsnBitStringConverter={fromASN:at=>at.valueBlock.valueHexView,toASN:at=>new BitString$1({valueHex:at})},AsnObjectIdentifierConverter={fromASN:at=>at.valueBlock.toString(),toASN:at=>new ObjectIdentifier({value:at})},AsnBooleanConverter={fromASN:at=>at.valueBlock.value,toASN:at=>new Boolean$1({value:at})},AsnOctetStringConverter={fromASN:at=>at.valueBlock.valueHexView,toASN:at=>new OctetString$1({valueHex:at})},AsnConstructedOctetStringConverter={fromASN:at=>new OctetString(at.getValue()),toASN:at=>at.toASN()};function createStringConverter(at){return{fromASN:zs=>zs.valueBlock.value,toASN:zs=>new at({value:zs})}}const AsnUtf8StringConverter=createStringConverter(Utf8String),AsnBmpStringConverter=createStringConverter(BmpString),AsnUniversalStringConverter=createStringConverter(UniversalString),AsnNumericStringConverter=createStringConverter(NumericString),AsnPrintableStringConverter=createStringConverter(PrintableString),AsnTeletexStringConverter=createStringConverter(TeletexString),AsnVideotexStringConverter=createStringConverter(VideotexString),AsnIA5StringConverter=createStringConverter(IA5String),AsnGraphicStringConverter=createStringConverter(GraphicString),AsnVisibleStringConverter=createStringConverter(VisibleString),AsnGeneralStringConverter=createStringConverter(GeneralString),AsnCharacterStringConverter=createStringConverter(CharacterString),AsnUTCTimeConverter={fromASN:at=>at.toDate(),toASN:at=>new UTCTime({valueDate:at})},AsnGeneralizedTimeConverter={fromASN:at=>at.toDate(),toASN:at=>new GeneralizedTime({valueDate:at})},AsnNullConverter={fromASN:()=>null,toASN:()=>new Null};function defaultConverter(at){switch(at){case AsnPropTypes.Any:return AsnAnyConverter;case AsnPropTypes.BitString:return AsnBitStringConverter;case AsnPropTypes.BmpString:return AsnBmpStringConverter;case AsnPropTypes.Boolean:return AsnBooleanConverter;case AsnPropTypes.CharacterString:return AsnCharacterStringConverter;case AsnPropTypes.Enumerated:return AsnEnumeratedConverter;case AsnPropTypes.GeneralString:return AsnGeneralStringConverter;case AsnPropTypes.GeneralizedTime:return AsnGeneralizedTimeConverter;case AsnPropTypes.GraphicString:return AsnGraphicStringConverter;case AsnPropTypes.IA5String:return AsnIA5StringConverter;case AsnPropTypes.Integer:return AsnIntegerConverter;case AsnPropTypes.Null:return AsnNullConverter;case AsnPropTypes.NumericString:return AsnNumericStringConverter;case AsnPropTypes.ObjectIdentifier:return AsnObjectIdentifierConverter;case AsnPropTypes.OctetString:return AsnOctetStringConverter;case AsnPropTypes.PrintableString:return AsnPrintableStringConverter;case AsnPropTypes.TeletexString:return AsnTeletexStringConverter;case AsnPropTypes.UTCTime:return AsnUTCTimeConverter;case AsnPropTypes.UniversalString:return AsnUniversalStringConverter;case AsnPropTypes.Utf8String:return AsnUtf8StringConverter;case AsnPropTypes.VideotexString:return AsnVideotexStringConverter;case AsnPropTypes.VisibleString:return AsnVisibleStringConverter;default:return null}}function isConvertible(at){return typeof at=="function"&&at.prototype?at.prototype.toASN&&at.prototype.fromASN?!0:isConvertible(at.prototype):!!(at&&typeof at=="object"&&"toASN"in at&&"fromASN"in at)}function isTypeOfArray(at){var zs;if(at){const Ws=Object.getPrototypeOf(at);return((zs=Ws==null?void 0:Ws.prototype)===null||zs===void 0?void 0:zs.constructor)===Array?!0:isTypeOfArray(Ws)}return!1}function isArrayEqual(at,zs){if(!(at&&zs)||at.byteLength!==zs.byteLength)return!1;const Ws=new Uint8Array(at),qs=new Uint8Array(zs);for(let Ys=0;Ys<at.byteLength;Ys++)if(Ws[Ys]!==qs[Ys])return!1;return!0}class AsnSchemaStorage{constructor(){this.items=new WeakMap}has(zs){return this.items.has(zs)}get(zs,Ws=!1){const qs=this.items.get(zs);if(!qs)throw new Error(`Cannot get schema for '${zs.prototype.constructor.name}' target`);if(Ws&&!qs.schema)throw new Error(`Schema '${zs.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return qs}cache(zs){const Ws=this.get(zs);Ws.schema||(Ws.schema=this.create(zs,!0))}createDefault(zs){const Ws={type:AsnTypeTypes.Sequence,items:{}},qs=this.findParentSchema(zs);return qs&&(Object.assign(Ws,qs),Ws.items=Object.assign({},Ws.items,qs.items)),Ws}create(zs,Ws){const qs=this.items.get(zs)||this.createDefault(zs),Ys=[];for(const Xs in qs.items){const Zs=qs.items[Xs],yl=Ws?Xs:"";let Js;if(typeof Zs.type=="number"){const El=AsnPropTypes[Zs.type],wl=asn1js[El];if(!wl)throw new Error(`Cannot get ASN1 class by name '${El}'`);Js=new wl({name:yl})}else isConvertible(Zs.type)?Js=new Zs.type().toSchema(yl):Zs.optional?this.get(Zs.type).type===AsnTypeTypes.Choice?Js=new Any({name:yl}):(Js=this.create(Zs.type,!1),Js.name=yl):Js=new Any({name:yl});const $l=!!Zs.optional||Zs.defaultValue!==void 0;if(Zs.repeated){Js.name="";const El=Zs.repeated==="set"?Set$1:Sequence;Js=new El({name:"",value:[new Repeated({name:yl,value:Js})]})}if(Zs.context!==null&&Zs.context!==void 0)if(Zs.implicit)if(typeof Zs.type=="number"||isConvertible(Zs.type)){const El=Zs.repeated?Constructed:Primitive;Ys.push(new El({name:yl,optional:$l,idBlock:{tagClass:3,tagNumber:Zs.context}}))}else{this.cache(Zs.type);const El=!!Zs.repeated;let wl=El?Js:this.get(Zs.type,!0).schema;wl="valueBlock"in wl?wl.valueBlock.value:wl.value,Ys.push(new Constructed({name:El?"":yl,optional:$l,idBlock:{tagClass:3,tagNumber:Zs.context},value:wl}))}else Ys.push(new Constructed({optional:$l,idBlock:{tagClass:3,tagNumber:Zs.context},value:[Js]}));else Js.optional=$l,Ys.push(Js)}switch(qs.type){case AsnTypeTypes.Sequence:return new Sequence({value:Ys,name:""});case AsnTypeTypes.Set:return new Set$1({value:Ys,name:""});case AsnTypeTypes.Choice:return new Choice({value:Ys,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(zs,Ws){return this.items.set(zs,Ws),this}findParentSchema(zs){const Ws=Object.getPrototypeOf(zs);return Ws?this.items.get(Ws)||this.findParentSchema(Ws):null}}const schemaStorage=new AsnSchemaStorage,AsnType=at=>zs=>{let Ws;schemaStorage.has(zs)?Ws=schemaStorage.get(zs):(Ws=schemaStorage.createDefault(zs),schemaStorage.set(zs,Ws)),Object.assign(Ws,at)},AsnProp=at=>(zs,Ws)=>{let qs;schemaStorage.has(zs.constructor)?qs=schemaStorage.get(zs.constructor):(qs=schemaStorage.createDefault(zs.constructor),schemaStorage.set(zs.constructor,qs));const Ys=Object.assign({},at);if(typeof Ys.type=="number"&&!Ys.converter){const Xs=defaultConverter(at.type);if(!Xs)throw new Error(`Cannot get default converter for property '${Ws}' of ${zs.constructor.name}`);Ys.converter=Xs}Ys.raw=at.raw,qs.items[Ws]=Ys};class AsnSchemaValidationError extends Error{constructor(){super(...arguments),this.schemas=[]}}class AsnParser{static parse(zs,Ws){const qs=fromBER(zs);if(qs.result.error)throw new Error(qs.result.error);return this.fromASN(qs.result,Ws)}static fromASN(zs,Ws){try{if(isConvertible(Ws))return new Ws().fromASN(zs);const qs=schemaStorage.get(Ws);schemaStorage.cache(Ws);let Ys=qs.schema;const Xs=this.handleChoiceTypes(zs,qs,Ws,Ys);if(Xs!=null&&Xs.result)return Xs.result;Xs!=null&&Xs.targetSchema&&(Ys=Xs.targetSchema);const Zs=this.handleSequenceTypes(zs,qs,Ws,Ys),yl=new Ws;return isTypeOfArray(Ws)?this.handleArrayTypes(zs,qs,Ws):(this.processSchemaItems(qs,Zs,yl),yl)}catch(qs){throw qs instanceof AsnSchemaValidationError&&qs.schemas.push(Ws.name),qs}}static handleChoiceTypes(zs,Ws,qs,Ys){if(zs.constructor===Constructed&&Ws.type===AsnTypeTypes.Choice&&zs.idBlock.tagClass===3)for(const Xs in Ws.items){const Zs=Ws.items[Xs];if(Zs.context===zs.idBlock.tagNumber&&Zs.implicit&&typeof Zs.type=="function"&&schemaStorage.has(Zs.type)){const yl=schemaStorage.get(Zs.type);if(yl&&yl.type===AsnTypeTypes.Sequence){const Js=new Sequence;if("value"in zs.valueBlock&&Array.isArray(zs.valueBlock.value)&&"value"in Js.valueBlock){Js.valueBlock.value=zs.valueBlock.value;const $l=this.fromASN(Js,Zs.type),El=new qs;return El[Xs]=$l,{result:El}}}}}else if(zs.constructor===Constructed&&Ws.type!==AsnTypeTypes.Choice){const Xs=new Constructed({idBlock:{tagClass:3,tagNumber:zs.idBlock.tagNumber},value:Ws.schema.valueBlock.value});for(const Zs in Ws.items)delete zs[Zs];return{targetSchema:Xs}}return null}static handleSequenceTypes(zs,Ws,qs,Ys){if(Ws.type===AsnTypeTypes.Sequence){const Xs=compareSchema({},zs,Ys);if(!Xs.verified)throw new AsnSchemaValidationError(`Data does not match to ${qs.name} ASN1 schema.${Xs.result.error?` ${Xs.result.error}`:""}`);return Xs}else{const Xs=compareSchema({},zs,Ys);if(!Xs.verified)throw new AsnSchemaValidationError(`Data does not match to ${qs.name} ASN1 schema.${Xs.result.error?` ${Xs.result.error}`:""}`);return Xs}}static processRepeatedField(zs,Ws,qs){let Ys=zs.slice(Ws);if(Ys.length===1&&Ys[0].constructor.name==="Sequence"){const Xs=Ys[0];Xs.valueBlock&&Xs.valueBlock.value&&Array.isArray(Xs.valueBlock.value)&&(Ys=Xs.valueBlock.value)}if(typeof qs.type=="number"){const Xs=defaultConverter(qs.type);if(!Xs)throw new Error(`No converter for ASN.1 type ${qs.type}`);return Ys.filter(Zs=>Zs&&Zs.valueBlock).map(Zs=>{try{return Xs.fromASN(Zs)}catch{return}}).filter(Zs=>Zs!==void 0)}else return Ys.filter(Xs=>Xs&&Xs.valueBlock).map(Xs=>{try{return this.fromASN(Xs,qs.type)}catch{return}}).filter(Xs=>Xs!==void 0)}static processPrimitiveField(zs,Ws){const qs=defaultConverter(Ws.type);if(!qs)throw new Error(`No converter for ASN.1 type ${Ws.type}`);return qs.fromASN(zs)}static isOptionalChoiceField(zs){return zs.optional&&typeof zs.type=="function"&&schemaStorage.has(zs.type)&&schemaStorage.get(zs.type).type===AsnTypeTypes.Choice}static processOptionalChoiceField(zs,Ws){try{return{processed:!0,value:this.fromASN(zs,Ws.type)}}catch(qs){if(qs instanceof AsnSchemaValidationError&&/Wrong values for Choice type/.test(qs.message))return{processed:!1};throw qs}}static handleArrayTypes(zs,Ws,qs){if(!("value"in zs.valueBlock&&Array.isArray(zs.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const Ys=Ws.itemType;if(typeof Ys=="number"){const Xs=defaultConverter(Ys);if(!Xs)throw new Error(`Cannot get default converter for array item of ${qs.name} ASN1 schema`);return qs.from(zs.valueBlock.value,Zs=>Xs.fromASN(Zs))}else return qs.from(zs.valueBlock.value,Xs=>this.fromASN(Xs,Ys))}static processSchemaItems(zs,Ws,qs){for(const Ys in zs.items){const Xs=Ws.result[Ys];if(!Xs)continue;const Zs=zs.items[Ys],yl=Zs.type;let Js;typeof yl=="number"||isConvertible(yl)?Js=this.processPrimitiveSchemaItem(Xs,Zs,yl):Js=this.processComplexSchemaItem(Xs,Zs,yl),Js&&typeof Js=="object"&&"value"in Js&&"raw"in Js?(qs[Ys]=Js.value,qs[`${Ys}Raw`]=Js.raw):qs[Ys]=Js}}static processPrimitiveSchemaItem(zs,Ws,qs){var Ys;const Xs=(Ys=Ws.converter)!==null&&Ys!==void 0?Ys:isConvertible(qs)?new qs:null;if(!Xs)throw new Error("Converter is empty");return Ws.repeated?this.processRepeatedPrimitiveItem(zs,Ws,Xs):this.processSinglePrimitiveItem(zs,Ws,qs,Xs)}static processRepeatedPrimitiveItem(zs,Ws,qs){if(Ws.implicit){const Ys=Ws.repeated==="sequence"?Sequence:Set$1,Xs=new Ys;Xs.valueBlock=zs.valueBlock;const Zs=fromBER(Xs.toBER(!1));if(Zs.offset===-1)throw new Error(`Cannot parse the child item. ${Zs.result.error}`);if(!("value"in Zs.result.valueBlock&&Array.isArray(Zs.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const yl=Zs.result.valueBlock.value;return Array.from(yl,Js=>qs.fromASN(Js))}else return Array.from(zs,Ys=>qs.fromASN(Ys))}static processSinglePrimitiveItem(zs,Ws,qs,Ys){let Xs=zs;if(Ws.implicit){let Zs;if(isConvertible(qs))Zs=new qs().toSchema("");else{const yl=AsnPropTypes[qs],Js=asn1js[yl];if(!Js)throw new Error(`Cannot get '${yl}' class from asn1js module`);Zs=new Js}Zs.valueBlock=Xs.valueBlock,Xs=fromBER(Zs.toBER(!1)).result}return Ys.fromASN(Xs)}static processComplexSchemaItem(zs,Ws,qs){if(Ws.repeated){if(!Array.isArray(zs))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(zs,Ys=>this.fromASN(Ys,qs))}else{const Ys=this.handleImplicitTagging(zs,Ws,qs);if(this.isOptionalChoiceField(Ws))try{return this.fromASN(Ys,qs)}catch(Xs){if(Xs instanceof AsnSchemaValidationError&&/Wrong values for Choice type/.test(Xs.message))return;throw Xs}else{const Xs=this.fromASN(Ys,qs);return Ws.raw?{value:Xs,raw:zs.valueBeforeDecodeView}:Xs}}}static handleImplicitTagging(zs,Ws,qs){if(Ws.implicit&&typeof Ws.context=="number"){const Ys=schemaStorage.get(qs);if(Ys.type===AsnTypeTypes.Sequence){const Xs=new Sequence;if("value"in zs.valueBlock&&Array.isArray(zs.valueBlock.value)&&"value"in Xs.valueBlock)return Xs.valueBlock.value=zs.valueBlock.value,Xs}else if(Ys.type===AsnTypeTypes.Set){const Xs=new Set$1;if("value"in zs.valueBlock&&Array.isArray(zs.valueBlock.value)&&"value"in Xs.valueBlock)return Xs.valueBlock.value=zs.valueBlock.value,Xs}}return zs}}class AsnSerializer{static serialize(zs){return zs instanceof BaseBlock?zs.toBER(!1):this.toASN(zs).toBER(!1)}static toASN(zs){if(zs&&typeof zs=="object"&&isConvertible(zs))return zs.toASN();if(!(zs&&typeof zs=="object"))throw new TypeError("Parameter 1 should be type of Object.");const Ws=zs.constructor,qs=schemaStorage.get(Ws);schemaStorage.cache(Ws);let Ys=[];if(qs.itemType){if(!Array.isArray(zs))throw new TypeError("Parameter 1 should be type of Array.");if(typeof qs.itemType=="number"){const Zs=defaultConverter(qs.itemType);if(!Zs)throw new Error(`Cannot get default converter for array item of ${Ws.name} ASN1 schema`);Ys=zs.map(yl=>Zs.toASN(yl))}else Ys=zs.map(Zs=>this.toAsnItem({type:qs.itemType},"[]",Ws,Zs))}else for(const Zs in qs.items){const yl=qs.items[Zs],Js=zs[Zs];if(Js===void 0||yl.defaultValue===Js||typeof yl.defaultValue=="object"&&typeof Js=="object"&&isArrayEqual(this.serialize(yl.defaultValue),this.serialize(Js)))continue;const $l=AsnSerializer.toAsnItem(yl,Zs,Ws,Js);if(typeof yl.context=="number")if(yl.implicit)if(!yl.repeated&&(typeof yl.type=="number"||isConvertible(yl.type))){const El={};El.valueHex=$l instanceof Null?$l.valueBeforeDecodeView:$l.valueBlock.toBER(),Ys.push(new Primitive({optional:yl.optional,idBlock:{tagClass:3,tagNumber:yl.context},...El}))}else Ys.push(new Constructed({optional:yl.optional,idBlock:{tagClass:3,tagNumber:yl.context},value:$l.valueBlock.value}));else Ys.push(new Constructed({optional:yl.optional,idBlock:{tagClass:3,tagNumber:yl.context},value:[$l]}));else yl.repeated?Ys=Ys.concat($l):Ys.push($l)}let Xs;switch(qs.type){case AsnTypeTypes.Sequence:Xs=new Sequence({value:Ys});break;case AsnTypeTypes.Set:Xs=new Set$1({value:Ys});break;case AsnTypeTypes.Choice:if(!Ys[0])throw new Error(`Schema '${Ws.name}' has wrong data. Choice cannot be empty.`);Xs=Ys[0];break}return Xs}static toAsnItem(zs,Ws,qs,Ys){let Xs;if(typeof zs.type=="number"){const Zs=zs.converter;if(!Zs)throw new Error(`Property '${Ws}' doesn't have converter for type ${AsnPropTypes[zs.type]} in schema '${qs.name}'`);if(zs.repeated){if(!Array.isArray(Ys))throw new TypeError("Parameter 'objProp' should be type of Array.");const yl=Array.from(Ys,$l=>Zs.toASN($l)),Js=zs.repeated==="sequence"?Sequence:Set$1;Xs=new Js({value:yl})}else Xs=Zs.toASN(Ys)}else if(zs.repeated){if(!Array.isArray(Ys))throw new TypeError("Parameter 'objProp' should be type of Array.");const Zs=Array.from(Ys,Js=>this.toASN(Js)),yl=zs.repeated==="sequence"?Sequence:Set$1;Xs=new yl({value:Zs})}else Xs=this.toASN(Ys);return Xs}}class AsnArray extends Array{constructor(zs=[]){if(typeof zs=="number")super(zs);else{super();for(const Ws of zs)this.push(Ws)}}}class AsnConvert{static serialize(zs){return AsnSerializer.serialize(zs)}static parse(zs,Ws){return AsnParser.parse(zs,Ws)}static toString(zs){const Ws=BufferSourceConverter.isBufferSource(zs)?BufferSourceConverter.toArrayBuffer(zs):AsnConvert.serialize(zs),qs=fromBER(Ws);if(qs.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${qs.result.error}`);return qs.result.toString()}}function __decorate$2(at,zs,Ws,qs){var Ys=arguments.length,Xs=Ys<3?zs:qs===null?qs=Object.getOwnPropertyDescriptor(zs,Ws):qs,Zs;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xs=Reflect.decorate(at,zs,Ws,qs);else for(var yl=at.length-1;yl>=0;yl--)(Zs=at[yl])&&(Xs=(Ys<3?Zs(Xs):Ys>3?Zs(zs,Ws,Xs):Zs(zs,Ws))||Xs);return Ys>3&&Xs&&Object.defineProperty(zs,Ws,Xs),Xs}typeof SuppressedError=="function"&&SuppressedError;class IpConverter{static isIPv4(zs){return/^(\d{1,3}\.){3}\d{1,3}$/.test(zs)}static parseIPv4(zs){const Ws=zs.split(".");if(Ws.length!==4)throw new Error("Invalid IPv4 address");return Ws.map(qs=>{const Ys=parseInt(qs,10);if(isNaN(Ys)||Ys<0||Ys>255)throw new Error("Invalid IPv4 address part");return Ys})}static parseIPv6(zs){const qs=this.expandIPv6(zs).split(":");if(qs.length!==8)throw new Error("Invalid IPv6 address");return qs.reduce((Ys,Xs)=>{const Zs=parseInt(Xs,16);if(isNaN(Zs)||Zs<0||Zs>65535)throw new Error("Invalid IPv6 address part");return Ys.push(Zs>>8&255),Ys.push(Zs&255),Ys},[])}static expandIPv6(zs){if(!zs.includes("::"))return zs;const Ws=zs.split("::");if(Ws.length>2)throw new Error("Invalid IPv6 address");const qs=Ws[0]?Ws[0].split(":"):[],Ys=Ws[1]?Ws[1].split(":"):[],Xs=8-(qs.length+Ys.length);if(Xs<0)throw new Error("Invalid IPv6 address");return[...qs,...Array(Xs).fill("0"),...Ys].join(":")}static formatIPv6(zs){const Ws=[];for(let qs=0;qs<16;qs+=2)Ws.push((zs[qs]<<8|zs[qs+1]).toString(16));return this.compressIPv6(Ws.join(":"))}static compressIPv6(zs){const Ws=zs.split(":");let qs=-1,Ys=0,Xs=-1,Zs=0;for(let yl=0;yl<Ws.length;yl++)Ws[yl]==="0"?(Xs===-1&&(Xs=yl),Zs++):(Zs>Ys&&(qs=Xs,Ys=Zs),Xs=-1,Zs=0);if(Zs>Ys&&(qs=Xs,Ys=Zs),Ys>1){const yl=Ws.slice(0,qs).join(":"),Js=Ws.slice(qs+Ys).join(":");return`${yl}::${Js}`}return zs}static parseCIDR(zs){const[Ws,qs]=zs.split("/"),Ys=parseInt(qs,10);if(this.isIPv4(Ws)){if(Ys<0||Ys>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(Ws),Ys]}else{if(Ys<0||Ys>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(Ws),Ys]}}static decodeIP(zs){if(zs.length===64&&parseInt(zs,16)===0)return"::/0";if(zs.length!==16)return zs;const Ws=parseInt(zs.slice(8),16).toString(2).split("").reduce((Ys,Xs)=>Ys+ +Xs,0);let qs=zs.slice(0,8).replace(/(.{2})/g,Ys=>`${parseInt(Ys,16)}.`);return qs=qs.slice(0,-1),`${qs}/${Ws}`}static toString(zs){const Ws=new Uint8Array(zs);if(Ws.length===4)return Array.from(Ws).join(".");if(Ws.length===16)return this.formatIPv6(Ws);if(Ws.length===8||Ws.length===32){const qs=Ws.length/2,Ys=Ws.slice(0,qs),Xs=Ws.slice(qs);if(Ws.every(Js=>Js===0))return Ws.length===8?"0.0.0.0/0":"::/0";const yl=Xs.reduce((Js,$l)=>Js+($l.toString(2).match(/1/g)||[]).length,0);return Ws.length===8?`${Array.from(Ys).join(".")}/${yl}`:`${this.formatIPv6(Ys)}/${yl}`}return this.decodeIP(Convert.ToHex(zs))}static fromString(zs){if(zs.includes("/")){const[qs,Ys]=this.parseCIDR(zs),Xs=new Uint8Array(qs.length);let Zs=Ys;for(let Js=0;Js<Xs.length;Js++)Zs>=8?(Xs[Js]=255,Zs-=8):Zs>0&&(Xs[Js]=255<<8-Zs,Zs=0);const yl=new Uint8Array(qs.length*2);return yl.set(qs,0),yl.set(Xs,qs.length),yl.buffer}const Ws=this.isIPv4(zs)?this.parseIPv4(zs):this.parseIPv6(zs);return new Uint8Array(Ws).buffer}}var RelativeDistinguishedName_1,RDNSequence_1,Name_1;let DirectoryString=class{constructor(zs={}){Object.assign(this,zs)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};__decorate$2([AsnProp({type:AsnPropTypes.TeletexString})],DirectoryString.prototype,"teletexString",void 0),__decorate$2([AsnProp({type:AsnPropTypes.PrintableString})],DirectoryString.prototype,"printableString",void 0),__decorate$2([AsnProp({type:AsnPropTypes.UniversalString})],DirectoryString.prototype,"universalString",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Utf8String})],DirectoryString.prototype,"utf8String",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BmpString})],DirectoryString.prototype,"bmpString",void 0),DirectoryString=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],DirectoryString);let AttributeValue=class extends DirectoryString{constructor(zs={}){super(zs),Object.assign(this,zs)}toString(){return this.ia5String||(this.anyValue?Convert.ToHex(this.anyValue):super.toString())}};__decorate$2([AsnProp({type:AsnPropTypes.IA5String})],AttributeValue.prototype,"ia5String",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],AttributeValue.prototype,"anyValue",void 0),AttributeValue=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],AttributeValue);class AttributeTypeAndValue{constructor(zs={}){this.type="",this.value=new AttributeValue,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AttributeTypeAndValue.prototype,"type",void 0),__decorate$2([AsnProp({type:AttributeValue})],AttributeTypeAndValue.prototype,"value",void 0);let RelativeDistinguishedName=RelativeDistinguishedName_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,RelativeDistinguishedName_1.prototype)}};RelativeDistinguishedName=RelativeDistinguishedName_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:AttributeTypeAndValue})],RelativeDistinguishedName);let RDNSequence=RDNSequence_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,RDNSequence_1.prototype)}};RDNSequence=RDNSequence_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:RelativeDistinguishedName})],RDNSequence);let Name$1=Name_1=class extends RDNSequence{constructor(zs){super(zs),Object.setPrototypeOf(this,Name_1.prototype)}};Name$1=Name_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],Name$1);const AsnIpConverter={fromASN:at=>IpConverter.toString(AsnOctetStringConverter.fromASN(at)),toASN:at=>AsnOctetStringConverter.toASN(IpConverter.fromString(at))};class OtherName{constructor(zs={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherName.prototype,"typeId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:0})],OtherName.prototype,"value",void 0);class EDIPartyName{constructor(zs={}){this.partyName=new DirectoryString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:DirectoryString,optional:!0,context:0,implicit:!0})],EDIPartyName.prototype,"nameAssigner",void 0),__decorate$2([AsnProp({type:DirectoryString,context:1,implicit:!0})],EDIPartyName.prototype,"partyName",void 0);let GeneralName$1=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:OtherName,context:0,implicit:!0})],GeneralName$1.prototype,"otherName",void 0),__decorate$2([AsnProp({type:AsnPropTypes.IA5String,context:1,implicit:!0})],GeneralName$1.prototype,"rfc822Name",void 0),__decorate$2([AsnProp({type:AsnPropTypes.IA5String,context:2,implicit:!0})],GeneralName$1.prototype,"dNSName",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:3,implicit:!0})],GeneralName$1.prototype,"x400Address",void 0),__decorate$2([AsnProp({type:Name$1,context:4,implicit:!1})],GeneralName$1.prototype,"directoryName",void 0),__decorate$2([AsnProp({type:EDIPartyName,context:5})],GeneralName$1.prototype,"ediPartyName",void 0),__decorate$2([AsnProp({type:AsnPropTypes.IA5String,context:6,implicit:!0})],GeneralName$1.prototype,"uniformResourceIdentifier",void 0),__decorate$2([AsnProp({type:AsnPropTypes.OctetString,context:7,implicit:!0,converter:AsnIpConverter})],GeneralName$1.prototype,"iPAddress",void 0),__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier,context:8,implicit:!0})],GeneralName$1.prototype,"registeredID",void 0),GeneralName$1=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],GeneralName$1);const id_pkix="1.3.6.1.5.5.7",id_pe=`${id_pkix}.1`,id_kp=`${id_pkix}.3`,id_ad=`${id_pkix}.48`,id_ad_ocsp=`${id_ad}.1`,id_ad_caIssuers=`${id_ad}.2`,id_ad_timeStamping=`${id_ad}.3`,id_ad_caRepository=`${id_ad}.5`,id_ce="2.5.29";var AuthorityInfoAccessSyntax_1;const id_pe_authorityInfoAccess=`${id_pe}.1`;class AccessDescription{constructor(zs={}){this.accessMethod="",this.accessLocation=new GeneralName$1,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AccessDescription.prototype,"accessMethod",void 0),__decorate$2([AsnProp({type:GeneralName$1})],AccessDescription.prototype,"accessLocation",void 0);let AuthorityInfoAccessSyntax=AuthorityInfoAccessSyntax_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,AuthorityInfoAccessSyntax_1.prototype)}};AuthorityInfoAccessSyntax=AuthorityInfoAccessSyntax_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:AccessDescription})],AuthorityInfoAccessSyntax);const id_ce_authorityKeyIdentifier=`${id_ce}.35`;class KeyIdentifier extends OctetString{}class AuthorityKeyIdentifier{constructor(zs={}){zs&&Object.assign(this,zs)}}__decorate$2([AsnProp({type:KeyIdentifier,context:0,optional:!0,implicit:!0})],AuthorityKeyIdentifier.prototype,"keyIdentifier",void 0),__decorate$2([AsnProp({type:GeneralName$1,context:1,optional:!0,implicit:!0,repeated:"sequence"})],AuthorityKeyIdentifier.prototype,"authorityCertIssuer",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:2,optional:!0,implicit:!0,converter:AsnIntegerArrayBufferConverter})],AuthorityKeyIdentifier.prototype,"authorityCertSerialNumber",void 0);const id_ce_basicConstraints=`${id_ce}.19`;class BasicConstraints{constructor(zs={}){this.cA=!1,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Boolean,defaultValue:!1})],BasicConstraints.prototype,"cA",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,optional:!0})],BasicConstraints.prototype,"pathLenConstraint",void 0);var GeneralNames_1;let GeneralNames$1=GeneralNames_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,GeneralNames_1.prototype)}};GeneralNames$1=GeneralNames_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:GeneralName$1})],GeneralNames$1);var CertificateIssuer_1;let CertificateIssuer=CertificateIssuer_1=class extends GeneralNames$1{constructor(zs){super(zs),Object.setPrototypeOf(this,CertificateIssuer_1.prototype)}};CertificateIssuer=CertificateIssuer_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],CertificateIssuer);var CertificatePolicies_1;const id_ce_certificatePolicies=`${id_ce}.32`;let DisplayText=class{constructor(zs={}){Object.assign(this,zs)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};__decorate$2([AsnProp({type:AsnPropTypes.IA5String})],DisplayText.prototype,"ia5String",void 0),__decorate$2([AsnProp({type:AsnPropTypes.VisibleString})],DisplayText.prototype,"visibleString",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BmpString})],DisplayText.prototype,"bmpString",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Utf8String})],DisplayText.prototype,"utf8String",void 0),DisplayText=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],DisplayText);class NoticeReference{constructor(zs={}){this.organization=new DisplayText,this.noticeNumbers=[],Object.assign(this,zs)}}__decorate$2([AsnProp({type:DisplayText})],NoticeReference.prototype,"organization",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,repeated:"sequence"})],NoticeReference.prototype,"noticeNumbers",void 0);class UserNotice{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:NoticeReference,optional:!0})],UserNotice.prototype,"noticeRef",void 0),__decorate$2([AsnProp({type:DisplayText,optional:!0})],UserNotice.prototype,"explicitText",void 0);let Qualifier=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.IA5String})],Qualifier.prototype,"cPSuri",void 0),__decorate$2([AsnProp({type:UserNotice})],Qualifier.prototype,"userNotice",void 0),Qualifier=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],Qualifier);class PolicyQualifierInfo{constructor(zs={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyQualifierInfo.prototype,"policyQualifierId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],PolicyQualifierInfo.prototype,"qualifier",void 0);class PolicyInformation{constructor(zs={}){this.policyIdentifier="",Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyInformation.prototype,"policyIdentifier",void 0),__decorate$2([AsnProp({type:PolicyQualifierInfo,repeated:"sequence",optional:!0})],PolicyInformation.prototype,"policyQualifiers",void 0);let CertificatePolicies=CertificatePolicies_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,CertificatePolicies_1.prototype)}};CertificatePolicies=CertificatePolicies_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:PolicyInformation})],CertificatePolicies);let CRLNumber=class{constructor(zs=0){this.value=zs}};__decorate$2([AsnProp({type:AsnPropTypes.Integer})],CRLNumber.prototype,"value",void 0),CRLNumber=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],CRLNumber);let BaseCRLNumber=class extends CRLNumber{};BaseCRLNumber=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],BaseCRLNumber);var CRLDistributionPoints_1;const id_ce_cRLDistributionPoints=`${id_ce}.31`;var ReasonFlags;(function(at){at[at.unused=1]="unused",at[at.keyCompromise=2]="keyCompromise",at[at.cACompromise=4]="cACompromise",at[at.affiliationChanged=8]="affiliationChanged",at[at.superseded=16]="superseded",at[at.cessationOfOperation=32]="cessationOfOperation",at[at.certificateHold=64]="certificateHold",at[at.privilegeWithdrawn=128]="privilegeWithdrawn",at[at.aACompromise=256]="aACompromise"})(ReasonFlags||(ReasonFlags={}));class Reason extends BitString{toJSON(){const zs=[],Ws=this.toNumber();return Ws&ReasonFlags.aACompromise&&zs.push("aACompromise"),Ws&ReasonFlags.affiliationChanged&&zs.push("affiliationChanged"),Ws&ReasonFlags.cACompromise&&zs.push("cACompromise"),Ws&ReasonFlags.certificateHold&&zs.push("certificateHold"),Ws&ReasonFlags.cessationOfOperation&&zs.push("cessationOfOperation"),Ws&ReasonFlags.keyCompromise&&zs.push("keyCompromise"),Ws&ReasonFlags.privilegeWithdrawn&&zs.push("privilegeWithdrawn"),Ws&ReasonFlags.superseded&&zs.push("superseded"),Ws&ReasonFlags.unused&&zs.push("unused"),zs}toString(){return`[${this.toJSON().join(", ")}]`}}let DistributionPointName=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:GeneralName$1,context:0,repeated:"sequence",implicit:!0})],DistributionPointName.prototype,"fullName",void 0),__decorate$2([AsnProp({type:RelativeDistinguishedName,context:1,implicit:!0})],DistributionPointName.prototype,"nameRelativeToCRLIssuer",void 0),DistributionPointName=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],DistributionPointName);class DistributionPoint{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:DistributionPointName,context:0,optional:!0})],DistributionPoint.prototype,"distributionPoint",void 0),__decorate$2([AsnProp({type:Reason,context:1,optional:!0,implicit:!0})],DistributionPoint.prototype,"reasons",void 0),__decorate$2([AsnProp({type:GeneralName$1,context:2,optional:!0,repeated:"sequence",implicit:!0})],DistributionPoint.prototype,"cRLIssuer",void 0);let CRLDistributionPoints=CRLDistributionPoints_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,CRLDistributionPoints_1.prototype)}};CRLDistributionPoints=CRLDistributionPoints_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:DistributionPoint})],CRLDistributionPoints);var FreshestCRL_1;let FreshestCRL=FreshestCRL_1=class extends CRLDistributionPoints{constructor(zs){super(zs),Object.setPrototypeOf(this,FreshestCRL_1.prototype)}};FreshestCRL=FreshestCRL_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:DistributionPoint})],FreshestCRL);class IssuingDistributionPoint{constructor(zs={}){this.onlyContainsUserCerts=IssuingDistributionPoint.ONLY,this.onlyContainsCACerts=IssuingDistributionPoint.ONLY,this.indirectCRL=IssuingDistributionPoint.ONLY,this.onlyContainsAttributeCerts=IssuingDistributionPoint.ONLY,Object.assign(this,zs)}}IssuingDistributionPoint.ONLY=!1,__decorate$2([AsnProp({type:DistributionPointName,context:0,optional:!0})],IssuingDistributionPoint.prototype,"distributionPoint",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Boolean,context:1,defaultValue:IssuingDistributionPoint.ONLY,implicit:!0})],IssuingDistributionPoint.prototype,"onlyContainsUserCerts",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Boolean,context:2,defaultValue:IssuingDistributionPoint.ONLY,implicit:!0})],IssuingDistributionPoint.prototype,"onlyContainsCACerts",void 0),__decorate$2([AsnProp({type:Reason,context:3,optional:!0,implicit:!0})],IssuingDistributionPoint.prototype,"onlySomeReasons",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Boolean,context:4,defaultValue:IssuingDistributionPoint.ONLY,implicit:!0})],IssuingDistributionPoint.prototype,"indirectCRL",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Boolean,context:5,defaultValue:IssuingDistributionPoint.ONLY,implicit:!0})],IssuingDistributionPoint.prototype,"onlyContainsAttributeCerts",void 0);var CRLReasons;(function(at){at[at.unspecified=0]="unspecified",at[at.keyCompromise=1]="keyCompromise",at[at.cACompromise=2]="cACompromise",at[at.affiliationChanged=3]="affiliationChanged",at[at.superseded=4]="superseded",at[at.cessationOfOperation=5]="cessationOfOperation",at[at.certificateHold=6]="certificateHold",at[at.removeFromCRL=8]="removeFromCRL",at[at.privilegeWithdrawn=9]="privilegeWithdrawn",at[at.aACompromise=10]="aACompromise"})(CRLReasons||(CRLReasons={}));let CRLReason=class{constructor(zs=CRLReasons.unspecified){this.reason=CRLReasons.unspecified,this.reason=zs}toJSON(){return CRLReasons[this.reason]}toString(){return this.toJSON()}};__decorate$2([AsnProp({type:AsnPropTypes.Enumerated})],CRLReason.prototype,"reason",void 0),CRLReason=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],CRLReason);var ExtendedKeyUsage_1;const id_ce_extKeyUsage=`${id_ce}.37`;let ExtendedKeyUsage$1=ExtendedKeyUsage_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,ExtendedKeyUsage_1.prototype)}};ExtendedKeyUsage$1=ExtendedKeyUsage_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:AsnPropTypes.ObjectIdentifier})],ExtendedKeyUsage$1);const id_kp_serverAuth=`${id_kp}.1`,id_kp_clientAuth=`${id_kp}.2`,id_kp_codeSigning=`${id_kp}.3`,id_kp_emailProtection=`${id_kp}.4`,id_kp_timeStamping=`${id_kp}.8`,id_kp_OCSPSigning=`${id_kp}.9`;let InhibitAnyPolicy=class{constructor(zs=new ArrayBuffer(0)){this.value=zs}};__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],InhibitAnyPolicy.prototype,"value",void 0),InhibitAnyPolicy=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],InhibitAnyPolicy);let InvalidityDate=class{constructor(zs){this.value=new Date,zs&&(this.value=zs)}};__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime})],InvalidityDate.prototype,"value",void 0),InvalidityDate=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],InvalidityDate);var IssueAlternativeName_1;let IssueAlternativeName=IssueAlternativeName_1=class extends GeneralNames$1{constructor(zs){super(zs),Object.setPrototypeOf(this,IssueAlternativeName_1.prototype)}};IssueAlternativeName=IssueAlternativeName_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],IssueAlternativeName);const id_ce_keyUsage=`${id_ce}.15`;var KeyUsageFlags$1;(function(at){at[at.digitalSignature=1]="digitalSignature",at[at.nonRepudiation=2]="nonRepudiation",at[at.keyEncipherment=4]="keyEncipherment",at[at.dataEncipherment=8]="dataEncipherment",at[at.keyAgreement=16]="keyAgreement",at[at.keyCertSign=32]="keyCertSign",at[at.cRLSign=64]="cRLSign",at[at.encipherOnly=128]="encipherOnly",at[at.decipherOnly=256]="decipherOnly"})(KeyUsageFlags$1||(KeyUsageFlags$1={}));class KeyUsage extends BitString{toJSON(){const zs=this.toNumber(),Ws=[];return zs&KeyUsageFlags$1.cRLSign&&Ws.push("crlSign"),zs&KeyUsageFlags$1.dataEncipherment&&Ws.push("dataEncipherment"),zs&KeyUsageFlags$1.decipherOnly&&Ws.push("decipherOnly"),zs&KeyUsageFlags$1.digitalSignature&&Ws.push("digitalSignature"),zs&KeyUsageFlags$1.encipherOnly&&Ws.push("encipherOnly"),zs&KeyUsageFlags$1.keyAgreement&&Ws.push("keyAgreement"),zs&KeyUsageFlags$1.keyCertSign&&Ws.push("keyCertSign"),zs&KeyUsageFlags$1.keyEncipherment&&Ws.push("keyEncipherment"),zs&KeyUsageFlags$1.nonRepudiation&&Ws.push("nonRepudiation"),Ws}toString(){return`[${this.toJSON().join(", ")}]`}}var GeneralSubtrees_1;class GeneralSubtree{constructor(zs={}){this.base=new GeneralName$1,this.minimum=0,Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralName$1})],GeneralSubtree.prototype,"base",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:0,defaultValue:0,implicit:!0})],GeneralSubtree.prototype,"minimum",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:1,optional:!0,implicit:!0})],GeneralSubtree.prototype,"maximum",void 0);let GeneralSubtrees=GeneralSubtrees_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,GeneralSubtrees_1.prototype)}};GeneralSubtrees=GeneralSubtrees_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:GeneralSubtree})],GeneralSubtrees);class NameConstraints{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralSubtrees,context:0,optional:!0,implicit:!0})],NameConstraints.prototype,"permittedSubtrees",void 0),__decorate$2([AsnProp({type:GeneralSubtrees,context:1,optional:!0,implicit:!0})],NameConstraints.prototype,"excludedSubtrees",void 0);class PolicyConstraints{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:0,implicit:!0,optional:!0,converter:AsnIntegerArrayBufferConverter})],PolicyConstraints.prototype,"requireExplicitPolicy",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:1,implicit:!0,optional:!0,converter:AsnIntegerArrayBufferConverter})],PolicyConstraints.prototype,"inhibitPolicyMapping",void 0);var PolicyMappings_1;class PolicyMapping{constructor(zs={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyMapping.prototype,"issuerDomainPolicy",void 0),__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PolicyMapping.prototype,"subjectDomainPolicy",void 0);let PolicyMappings=PolicyMappings_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,PolicyMappings_1.prototype)}};PolicyMappings=PolicyMappings_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:PolicyMapping})],PolicyMappings);var SubjectAlternativeName_1;const id_ce_subjectAltName=`${id_ce}.17`;let SubjectAlternativeName=SubjectAlternativeName_1=class extends GeneralNames$1{constructor(zs){super(zs),Object.setPrototypeOf(this,SubjectAlternativeName_1.prototype)}};SubjectAlternativeName=SubjectAlternativeName_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],SubjectAlternativeName);let Attribute$2=class{constructor(zs={}){this.type="",this.values=[],Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Attribute$2.prototype,"type",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,repeated:"set"})],Attribute$2.prototype,"values",void 0);var SubjectDirectoryAttributes_1;let SubjectDirectoryAttributes=SubjectDirectoryAttributes_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,SubjectDirectoryAttributes_1.prototype)}};SubjectDirectoryAttributes=SubjectDirectoryAttributes_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:Attribute$2})],SubjectDirectoryAttributes);const id_ce_subjectKeyIdentifier=`${id_ce}.14`;class SubjectKeyIdentifier extends KeyIdentifier{}class PrivateKeyUsagePeriod{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime,context:0,implicit:!0,optional:!0})],PrivateKeyUsagePeriod.prototype,"notBefore",void 0),__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime,context:1,implicit:!0,optional:!0})],PrivateKeyUsagePeriod.prototype,"notAfter",void 0);var EntrustInfoFlags;(function(at){at[at.keyUpdateAllowed=1]="keyUpdateAllowed",at[at.newExtensions=2]="newExtensions",at[at.pKIXCertificate=4]="pKIXCertificate"})(EntrustInfoFlags||(EntrustInfoFlags={}));class EntrustInfo extends BitString{toJSON(){const zs=[],Ws=this.toNumber();return Ws&EntrustInfoFlags.pKIXCertificate&&zs.push("pKIXCertificate"),Ws&EntrustInfoFlags.newExtensions&&zs.push("newExtensions"),Ws&EntrustInfoFlags.keyUpdateAllowed&&zs.push("keyUpdateAllowed"),zs}toString(){return`[${this.toJSON().join(", ")}]`}}class EntrustVersionInfo{constructor(zs={}){this.entrustVers="",this.entrustInfoFlags=new EntrustInfo,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.GeneralString})],EntrustVersionInfo.prototype,"entrustVers",void 0),__decorate$2([AsnProp({type:EntrustInfo})],EntrustVersionInfo.prototype,"entrustInfoFlags",void 0);var SubjectInfoAccessSyntax_1;let SubjectInfoAccessSyntax=SubjectInfoAccessSyntax_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,SubjectInfoAccessSyntax_1.prototype)}};SubjectInfoAccessSyntax=SubjectInfoAccessSyntax_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:AccessDescription})],SubjectInfoAccessSyntax);class AlgorithmIdentifier{constructor(zs={}){this.algorithm="",Object.assign(this,zs)}isEqual(zs){return zs instanceof AlgorithmIdentifier&&zs.algorithm==this.algorithm&&(zs.parameters&&this.parameters&&isEqual(zs.parameters,this.parameters)||zs.parameters===this.parameters)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],AlgorithmIdentifier.prototype,"algorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,optional:!0})],AlgorithmIdentifier.prototype,"parameters",void 0);class SubjectPublicKeyInfo{constructor(zs={}){this.algorithm=new AlgorithmIdentifier,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AlgorithmIdentifier})],SubjectPublicKeyInfo.prototype,"algorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],SubjectPublicKeyInfo.prototype,"subjectPublicKey",void 0);let Time=class{constructor(zs){if(zs)if(typeof zs=="string"||typeof zs=="number"||zs instanceof Date){const Ws=new Date(zs);Ws.getUTCFullYear()>2049?this.generalTime=Ws:this.utcTime=Ws}else Object.assign(this,zs)}getTime(){const zs=this.utcTime||this.generalTime;if(!zs)throw new Error("Cannot get time from CHOICE object");return zs}};__decorate$2([AsnProp({type:AsnPropTypes.UTCTime})],Time.prototype,"utcTime",void 0),__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime})],Time.prototype,"generalTime",void 0),Time=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],Time);class Validity{constructor(zs){this.notBefore=new Time(new Date),this.notAfter=new Time(new Date),zs&&(this.notBefore=new Time(zs.notBefore),this.notAfter=new Time(zs.notAfter))}}__decorate$2([AsnProp({type:Time})],Validity.prototype,"notBefore",void 0),__decorate$2([AsnProp({type:Time})],Validity.prototype,"notAfter",void 0);var Extensions_1;let Extension$1=class l0{constructor(zs={}){this.extnID="",this.critical=l0.CRITICAL,this.extnValue=new OctetString,Object.assign(this,zs)}};Extension$1.CRITICAL=!1,__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Extension$1.prototype,"extnID",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Boolean,defaultValue:Extension$1.CRITICAL})],Extension$1.prototype,"critical",void 0),__decorate$2([AsnProp({type:OctetString})],Extension$1.prototype,"extnValue",void 0);let Extensions=Extensions_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,Extensions_1.prototype)}};Extensions=Extensions_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:Extension$1})],Extensions);var Version$1;(function(at){at[at.v1=0]="v1",at[at.v2=1]="v2",at[at.v3=2]="v3"})(Version$1||(Version$1={}));class TBSCertificate{constructor(zs={}){this.version=Version$1.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new AlgorithmIdentifier,this.issuer=new Name$1,this.validity=new Validity,this.subject=new Name$1,this.subjectPublicKeyInfo=new SubjectPublicKeyInfo,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:0,defaultValue:Version$1.v1})],TBSCertificate.prototype,"version",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],TBSCertificate.prototype,"serialNumber",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],TBSCertificate.prototype,"signature",void 0),__decorate$2([AsnProp({type:Name$1})],TBSCertificate.prototype,"issuer",void 0),__decorate$2([AsnProp({type:Validity})],TBSCertificate.prototype,"validity",void 0),__decorate$2([AsnProp({type:Name$1})],TBSCertificate.prototype,"subject",void 0),__decorate$2([AsnProp({type:SubjectPublicKeyInfo})],TBSCertificate.prototype,"subjectPublicKeyInfo",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString,context:1,implicit:!0,optional:!0})],TBSCertificate.prototype,"issuerUniqueID",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString,context:2,implicit:!0,optional:!0})],TBSCertificate.prototype,"subjectUniqueID",void 0),__decorate$2([AsnProp({type:Extensions,context:3,optional:!0})],TBSCertificate.prototype,"extensions",void 0);class Certificate{constructor(zs={}){this.tbsCertificate=new TBSCertificate,this.signatureAlgorithm=new AlgorithmIdentifier,this.signatureValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:TBSCertificate,raw:!0})],Certificate.prototype,"tbsCertificate",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],Certificate.prototype,"signatureAlgorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],Certificate.prototype,"signatureValue",void 0);class RevokedCertificate{constructor(zs={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Time,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RevokedCertificate.prototype,"userCertificate",void 0),__decorate$2([AsnProp({type:Time})],RevokedCertificate.prototype,"revocationDate",void 0),__decorate$2([AsnProp({type:Extension$1,optional:!0,repeated:"sequence"})],RevokedCertificate.prototype,"crlEntryExtensions",void 0);class TBSCertList{constructor(zs={}){this.signature=new AlgorithmIdentifier,this.issuer=new Name$1,this.thisUpdate=new Time,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,optional:!0})],TBSCertList.prototype,"version",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],TBSCertList.prototype,"signature",void 0),__decorate$2([AsnProp({type:Name$1})],TBSCertList.prototype,"issuer",void 0),__decorate$2([AsnProp({type:Time})],TBSCertList.prototype,"thisUpdate",void 0),__decorate$2([AsnProp({type:Time,optional:!0})],TBSCertList.prototype,"nextUpdate",void 0),__decorate$2([AsnProp({type:RevokedCertificate,repeated:"sequence",optional:!0})],TBSCertList.prototype,"revokedCertificates",void 0),__decorate$2([AsnProp({type:Extension$1,optional:!0,context:0,repeated:"sequence"})],TBSCertList.prototype,"crlExtensions",void 0);class CertificateList{constructor(zs={}){this.tbsCertList=new TBSCertList,this.signatureAlgorithm=new AlgorithmIdentifier,this.signature=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:TBSCertList,raw:!0})],CertificateList.prototype,"tbsCertList",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],CertificateList.prototype,"signatureAlgorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],CertificateList.prototype,"signature",void 0);class IssuerAndSerialNumber{constructor(zs={}){this.issuer=new Name$1,this.serialNumber=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:Name$1})],IssuerAndSerialNumber.prototype,"issuer",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],IssuerAndSerialNumber.prototype,"serialNumber",void 0);let SignerIdentifier=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:SubjectKeyIdentifier,context:0,implicit:!0})],SignerIdentifier.prototype,"subjectKeyIdentifier",void 0),__decorate$2([AsnProp({type:IssuerAndSerialNumber})],SignerIdentifier.prototype,"issuerAndSerialNumber",void 0),SignerIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],SignerIdentifier);var CMSVersion;(function(at){at[at.v0=0]="v0",at[at.v1=1]="v1",at[at.v2=2]="v2",at[at.v3=3]="v3",at[at.v4=4]="v4",at[at.v5=5]="v5"})(CMSVersion||(CMSVersion={}));let DigestAlgorithmIdentifier=class extends AlgorithmIdentifier{};DigestAlgorithmIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],DigestAlgorithmIdentifier);let SignatureAlgorithmIdentifier=class extends AlgorithmIdentifier{};SignatureAlgorithmIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],SignatureAlgorithmIdentifier);let KeyEncryptionAlgorithmIdentifier=class extends AlgorithmIdentifier{};KeyEncryptionAlgorithmIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],KeyEncryptionAlgorithmIdentifier);let ContentEncryptionAlgorithmIdentifier=class extends AlgorithmIdentifier{};ContentEncryptionAlgorithmIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],ContentEncryptionAlgorithmIdentifier);let MessageAuthenticationCodeAlgorithm=class extends AlgorithmIdentifier{};MessageAuthenticationCodeAlgorithm=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],MessageAuthenticationCodeAlgorithm);let KeyDerivationAlgorithmIdentifier=class extends AlgorithmIdentifier{};KeyDerivationAlgorithmIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],KeyDerivationAlgorithmIdentifier);let Attribute$1=class{constructor(zs={}){this.attrType="",this.attrValues=[],Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Attribute$1.prototype,"attrType",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,repeated:"set"})],Attribute$1.prototype,"attrValues",void 0);var SignerInfos_1;class SignerInfo{constructor(zs={}){this.version=CMSVersion.v0,this.sid=new SignerIdentifier,this.digestAlgorithm=new DigestAlgorithmIdentifier,this.signatureAlgorithm=new SignatureAlgorithmIdentifier,this.signature=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],SignerInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:SignerIdentifier})],SignerInfo.prototype,"sid",void 0),__decorate$2([AsnProp({type:DigestAlgorithmIdentifier})],SignerInfo.prototype,"digestAlgorithm",void 0),__decorate$2([AsnProp({type:Attribute$1,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],SignerInfo.prototype,"signedAttrs",void 0),__decorate$2([AsnProp({type:SignatureAlgorithmIdentifier})],SignerInfo.prototype,"signatureAlgorithm",void 0),__decorate$2([AsnProp({type:OctetString})],SignerInfo.prototype,"signature",void 0),__decorate$2([AsnProp({type:Attribute$1,repeated:"set",context:1,implicit:!0,optional:!0})],SignerInfo.prototype,"unsignedAttrs",void 0);let SignerInfos=SignerInfos_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,SignerInfos_1.prototype)}};SignerInfos=SignerInfos_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:SignerInfo})],SignerInfos);let CounterSignature$1=class extends SignerInfo{};CounterSignature$1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],CounterSignature$1);let SigningTime$1=class extends Time{};SigningTime$1=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],SigningTime$1);class ACClearAttrs{constructor(zs={}){this.acIssuer=new GeneralName$1,this.acSerial=0,this.attrs=[],Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralName$1})],ACClearAttrs.prototype,"acIssuer",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer})],ACClearAttrs.prototype,"acSerial",void 0),__decorate$2([AsnProp({type:Attribute$2,repeated:"sequence"})],ACClearAttrs.prototype,"attrs",void 0);var AttrSpec_1;let AttrSpec=AttrSpec_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,AttrSpec_1.prototype)}};AttrSpec=AttrSpec_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:AsnPropTypes.ObjectIdentifier})],AttrSpec);class AAControls{constructor(zs={}){this.permitUnSpecified=!0,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,optional:!0})],AAControls.prototype,"pathLenConstraint",void 0),__decorate$2([AsnProp({type:AttrSpec,implicit:!0,context:0,optional:!0})],AAControls.prototype,"permittedAttrs",void 0),__decorate$2([AsnProp({type:AttrSpec,implicit:!0,context:1,optional:!0})],AAControls.prototype,"excludedAttrs",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Boolean,defaultValue:!0})],AAControls.prototype,"permitUnSpecified",void 0);class IssuerSerial{constructor(zs={}){this.issuer=new GeneralNames$1,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralNames$1})],IssuerSerial.prototype,"issuer",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],IssuerSerial.prototype,"serial",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString,optional:!0})],IssuerSerial.prototype,"issuerUID",void 0);var DigestedObjectType;(function(at){at[at.publicKey=0]="publicKey",at[at.publicKeyCert=1]="publicKeyCert",at[at.otherObjectTypes=2]="otherObjectTypes"})(DigestedObjectType||(DigestedObjectType={}));class ObjectDigestInfo{constructor(zs={}){this.digestedObjectType=DigestedObjectType.publicKey,this.digestAlgorithm=new AlgorithmIdentifier,this.objectDigest=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Enumerated})],ObjectDigestInfo.prototype,"digestedObjectType",void 0),__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier,optional:!0})],ObjectDigestInfo.prototype,"otherObjectTypeID",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],ObjectDigestInfo.prototype,"digestAlgorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],ObjectDigestInfo.prototype,"objectDigest",void 0);class V2Form{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralNames$1,optional:!0})],V2Form.prototype,"issuerName",void 0),__decorate$2([AsnProp({type:IssuerSerial,context:0,implicit:!0,optional:!0})],V2Form.prototype,"baseCertificateID",void 0),__decorate$2([AsnProp({type:ObjectDigestInfo,context:1,implicit:!0,optional:!0})],V2Form.prototype,"objectDigestInfo",void 0);let AttCertIssuer=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:GeneralName$1,repeated:"sequence"})],AttCertIssuer.prototype,"v1Form",void 0),__decorate$2([AsnProp({type:V2Form,context:0,implicit:!0})],AttCertIssuer.prototype,"v2Form",void 0),AttCertIssuer=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],AttCertIssuer);class AttCertValidityPeriod{constructor(zs={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime})],AttCertValidityPeriod.prototype,"notBeforeTime",void 0),__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime})],AttCertValidityPeriod.prototype,"notAfterTime",void 0);class Holder{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:IssuerSerial,implicit:!0,context:0,optional:!0})],Holder.prototype,"baseCertificateID",void 0),__decorate$2([AsnProp({type:GeneralNames$1,implicit:!0,context:1,optional:!0})],Holder.prototype,"entityName",void 0),__decorate$2([AsnProp({type:ObjectDigestInfo,implicit:!0,context:2,optional:!0})],Holder.prototype,"objectDigestInfo",void 0);var AttCertVersion;(function(at){at[at.v2=1]="v2"})(AttCertVersion||(AttCertVersion={}));class AttributeCertificateInfo{constructor(zs={}){this.version=AttCertVersion.v2,this.holder=new Holder,this.issuer=new AttCertIssuer,this.signature=new AlgorithmIdentifier,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new AttCertValidityPeriod,this.attributes=[],Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],AttributeCertificateInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:Holder})],AttributeCertificateInfo.prototype,"holder",void 0),__decorate$2([AsnProp({type:AttCertIssuer})],AttributeCertificateInfo.prototype,"issuer",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],AttributeCertificateInfo.prototype,"signature",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],AttributeCertificateInfo.prototype,"serialNumber",void 0),__decorate$2([AsnProp({type:AttCertValidityPeriod})],AttributeCertificateInfo.prototype,"attrCertValidityPeriod",void 0),__decorate$2([AsnProp({type:Attribute$2,repeated:"sequence"})],AttributeCertificateInfo.prototype,"attributes",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString,optional:!0})],AttributeCertificateInfo.prototype,"issuerUniqueID",void 0),__decorate$2([AsnProp({type:Extensions,optional:!0})],AttributeCertificateInfo.prototype,"extensions",void 0);class AttributeCertificate{constructor(zs={}){this.acinfo=new AttributeCertificateInfo,this.signatureAlgorithm=new AlgorithmIdentifier,this.signatureValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AttributeCertificateInfo})],AttributeCertificate.prototype,"acinfo",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],AttributeCertificate.prototype,"signatureAlgorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],AttributeCertificate.prototype,"signatureValue",void 0);var ClassListFlags;(function(at){at[at.unmarked=1]="unmarked",at[at.unclassified=2]="unclassified",at[at.restricted=4]="restricted",at[at.confidential=8]="confidential",at[at.secret=16]="secret",at[at.topSecret=32]="topSecret"})(ClassListFlags||(ClassListFlags={}));class ClassList extends BitString{}class SecurityCategory{constructor(zs={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier,implicit:!0,context:0})],SecurityCategory.prototype,"type",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,implicit:!0,context:1})],SecurityCategory.prototype,"value",void 0);class Clearance{constructor(zs={}){this.policyId="",this.classList=new ClassList(ClassListFlags.unclassified),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],Clearance.prototype,"policyId",void 0),__decorate$2([AsnProp({type:ClassList,defaultValue:new ClassList(ClassListFlags.unclassified)})],Clearance.prototype,"classList",void 0),__decorate$2([AsnProp({type:SecurityCategory,repeated:"set"})],Clearance.prototype,"securityCategories",void 0);class IetfAttrSyntaxValueChoices{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:OctetString})],IetfAttrSyntaxValueChoices.prototype,"cotets",void 0),__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],IetfAttrSyntaxValueChoices.prototype,"oid",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Utf8String})],IetfAttrSyntaxValueChoices.prototype,"string",void 0);class IetfAttrSyntax{constructor(zs={}){this.values=[],Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralNames$1,implicit:!0,context:0,optional:!0})],IetfAttrSyntax.prototype,"policyAuthority",void 0),__decorate$2([AsnProp({type:IetfAttrSyntaxValueChoices,repeated:"sequence"})],IetfAttrSyntax.prototype,"values",void 0);var Targets_1;class TargetCert{constructor(zs={}){this.targetCertificate=new IssuerSerial,Object.assign(this,zs)}}__decorate$2([AsnProp({type:IssuerSerial})],TargetCert.prototype,"targetCertificate",void 0),__decorate$2([AsnProp({type:GeneralName$1,optional:!0})],TargetCert.prototype,"targetName",void 0),__decorate$2([AsnProp({type:ObjectDigestInfo,optional:!0})],TargetCert.prototype,"certDigestInfo",void 0);let Target=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:GeneralName$1,context:0,implicit:!0})],Target.prototype,"targetName",void 0),__decorate$2([AsnProp({type:GeneralName$1,context:1,implicit:!0})],Target.prototype,"targetGroup",void 0),__decorate$2([AsnProp({type:TargetCert,context:2,implicit:!0})],Target.prototype,"targetCert",void 0),Target=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],Target);let Targets=Targets_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,Targets_1.prototype)}};Targets=Targets_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:Target})],Targets);var ProxyInfo_1;let ProxyInfo=ProxyInfo_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,ProxyInfo_1.prototype)}};ProxyInfo=ProxyInfo_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:Targets})],ProxyInfo);class RoleSyntax{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralNames$1,implicit:!0,context:0,optional:!0})],RoleSyntax.prototype,"roleAuthority",void 0),__decorate$2([AsnProp({type:GeneralName$1,implicit:!0,context:1})],RoleSyntax.prototype,"roleName",void 0);class SvceAuthInfo{constructor(zs={}){this.service=new GeneralName$1,this.ident=new GeneralName$1,Object.assign(this,zs)}}__decorate$2([AsnProp({type:GeneralName$1})],SvceAuthInfo.prototype,"service",void 0),__decorate$2([AsnProp({type:GeneralName$1})],SvceAuthInfo.prototype,"ident",void 0),__decorate$2([AsnProp({type:OctetString,optional:!0})],SvceAuthInfo.prototype,"authInfo",void 0);var CertificateSet_1;class OtherCertificateFormat{constructor(zs={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherCertificateFormat.prototype,"otherCertFormat",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],OtherCertificateFormat.prototype,"otherCert",void 0);let CertificateChoices=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:Certificate})],CertificateChoices.prototype,"certificate",void 0),__decorate$2([AsnProp({type:AttributeCertificate,context:2,implicit:!0})],CertificateChoices.prototype,"v2AttrCert",void 0),__decorate$2([AsnProp({type:OtherCertificateFormat,context:3,implicit:!0})],CertificateChoices.prototype,"other",void 0),CertificateChoices=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],CertificateChoices);let CertificateSet=CertificateSet_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,CertificateSet_1.prototype)}};CertificateSet=CertificateSet_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:CertificateChoices})],CertificateSet);class ContentInfo{constructor(zs={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ContentInfo.prototype,"contentType",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:0})],ContentInfo.prototype,"content",void 0);let EncapsulatedContent=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:OctetString})],EncapsulatedContent.prototype,"single",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],EncapsulatedContent.prototype,"any",void 0),EncapsulatedContent=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],EncapsulatedContent);class EncapsulatedContentInfo{constructor(zs={}){this.eContentType="",Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],EncapsulatedContentInfo.prototype,"eContentType",void 0),__decorate$2([AsnProp({type:EncapsulatedContent,context:0,optional:!0})],EncapsulatedContentInfo.prototype,"eContent",void 0);let EncryptedContent=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:OctetString,context:0,implicit:!0,optional:!0})],EncryptedContent.prototype,"value",void 0),__decorate$2([AsnProp({type:OctetString,converter:AsnConstructedOctetStringConverter,context:0,implicit:!0,optional:!0,repeated:"sequence"})],EncryptedContent.prototype,"constructedValue",void 0),EncryptedContent=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],EncryptedContent);class EncryptedContentInfo{constructor(zs={}){this.contentType="",this.contentEncryptionAlgorithm=new ContentEncryptionAlgorithmIdentifier,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],EncryptedContentInfo.prototype,"contentType",void 0),__decorate$2([AsnProp({type:ContentEncryptionAlgorithmIdentifier})],EncryptedContentInfo.prototype,"contentEncryptionAlgorithm",void 0),__decorate$2([AsnProp({type:EncryptedContent,optional:!0})],EncryptedContentInfo.prototype,"encryptedContent",void 0);class OtherKeyAttribute{constructor(zs={}){this.keyAttrId="",Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherKeyAttribute.prototype,"keyAttrId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,optional:!0})],OtherKeyAttribute.prototype,"keyAttr",void 0);var RecipientEncryptedKeys_1;class RecipientKeyIdentifier{constructor(zs={}){this.subjectKeyIdentifier=new SubjectKeyIdentifier,Object.assign(this,zs)}}__decorate$2([AsnProp({type:SubjectKeyIdentifier})],RecipientKeyIdentifier.prototype,"subjectKeyIdentifier",void 0),__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime,optional:!0})],RecipientKeyIdentifier.prototype,"date",void 0),__decorate$2([AsnProp({type:OtherKeyAttribute,optional:!0})],RecipientKeyIdentifier.prototype,"other",void 0);let KeyAgreeRecipientIdentifier=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:RecipientKeyIdentifier,context:0,implicit:!0,optional:!0})],KeyAgreeRecipientIdentifier.prototype,"rKeyId",void 0),__decorate$2([AsnProp({type:IssuerAndSerialNumber,optional:!0})],KeyAgreeRecipientIdentifier.prototype,"issuerAndSerialNumber",void 0),KeyAgreeRecipientIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],KeyAgreeRecipientIdentifier);class RecipientEncryptedKey{constructor(zs={}){this.rid=new KeyAgreeRecipientIdentifier,this.encryptedKey=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:KeyAgreeRecipientIdentifier})],RecipientEncryptedKey.prototype,"rid",void 0),__decorate$2([AsnProp({type:OctetString})],RecipientEncryptedKey.prototype,"encryptedKey",void 0);let RecipientEncryptedKeys=RecipientEncryptedKeys_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,RecipientEncryptedKeys_1.prototype)}};RecipientEncryptedKeys=RecipientEncryptedKeys_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:RecipientEncryptedKey})],RecipientEncryptedKeys);class OriginatorPublicKey{constructor(zs={}){this.algorithm=new AlgorithmIdentifier,this.publicKey=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AlgorithmIdentifier})],OriginatorPublicKey.prototype,"algorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],OriginatorPublicKey.prototype,"publicKey",void 0);let OriginatorIdentifierOrKey=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:SubjectKeyIdentifier,context:0,implicit:!0,optional:!0})],OriginatorIdentifierOrKey.prototype,"subjectKeyIdentifier",void 0),__decorate$2([AsnProp({type:OriginatorPublicKey,context:1,implicit:!0,optional:!0})],OriginatorIdentifierOrKey.prototype,"originatorKey",void 0),__decorate$2([AsnProp({type:IssuerAndSerialNumber,optional:!0})],OriginatorIdentifierOrKey.prototype,"issuerAndSerialNumber",void 0),OriginatorIdentifierOrKey=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],OriginatorIdentifierOrKey);class KeyAgreeRecipientInfo{constructor(zs={}){this.version=CMSVersion.v3,this.originator=new OriginatorIdentifierOrKey,this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier,this.recipientEncryptedKeys=new RecipientEncryptedKeys,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],KeyAgreeRecipientInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:OriginatorIdentifierOrKey,context:0})],KeyAgreeRecipientInfo.prototype,"originator",void 0),__decorate$2([AsnProp({type:OctetString,context:1,optional:!0})],KeyAgreeRecipientInfo.prototype,"ukm",void 0),__decorate$2([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],KeyAgreeRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0),__decorate$2([AsnProp({type:RecipientEncryptedKeys})],KeyAgreeRecipientInfo.prototype,"recipientEncryptedKeys",void 0);let RecipientIdentifier=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:SubjectKeyIdentifier,context:0,implicit:!0})],RecipientIdentifier.prototype,"subjectKeyIdentifier",void 0),__decorate$2([AsnProp({type:IssuerAndSerialNumber})],RecipientIdentifier.prototype,"issuerAndSerialNumber",void 0),RecipientIdentifier=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],RecipientIdentifier);class KeyTransRecipientInfo{constructor(zs={}){this.version=CMSVersion.v0,this.rid=new RecipientIdentifier,this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier,this.encryptedKey=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],KeyTransRecipientInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:RecipientIdentifier})],KeyTransRecipientInfo.prototype,"rid",void 0),__decorate$2([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],KeyTransRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0),__decorate$2([AsnProp({type:OctetString})],KeyTransRecipientInfo.prototype,"encryptedKey",void 0);class KEKIdentifier{constructor(zs={}){this.keyIdentifier=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:OctetString})],KEKIdentifier.prototype,"keyIdentifier",void 0),__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime,optional:!0})],KEKIdentifier.prototype,"date",void 0),__decorate$2([AsnProp({type:OtherKeyAttribute,optional:!0})],KEKIdentifier.prototype,"other",void 0);class KEKRecipientInfo{constructor(zs={}){this.version=CMSVersion.v4,this.kekid=new KEKIdentifier,this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier,this.encryptedKey=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],KEKRecipientInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:KEKIdentifier})],KEKRecipientInfo.prototype,"kekid",void 0),__decorate$2([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],KEKRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0),__decorate$2([AsnProp({type:OctetString})],KEKRecipientInfo.prototype,"encryptedKey",void 0);class PasswordRecipientInfo{constructor(zs={}){this.version=CMSVersion.v0,this.keyEncryptionAlgorithm=new KeyEncryptionAlgorithmIdentifier,this.encryptedKey=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],PasswordRecipientInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:KeyDerivationAlgorithmIdentifier,context:0,optional:!0})],PasswordRecipientInfo.prototype,"keyDerivationAlgorithm",void 0),__decorate$2([AsnProp({type:KeyEncryptionAlgorithmIdentifier})],PasswordRecipientInfo.prototype,"keyEncryptionAlgorithm",void 0),__decorate$2([AsnProp({type:OctetString})],PasswordRecipientInfo.prototype,"encryptedKey",void 0);class OtherRecipientInfo{constructor(zs={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherRecipientInfo.prototype,"oriType",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],OtherRecipientInfo.prototype,"oriValue",void 0);let RecipientInfo=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:KeyTransRecipientInfo,optional:!0})],RecipientInfo.prototype,"ktri",void 0),__decorate$2([AsnProp({type:KeyAgreeRecipientInfo,context:1,implicit:!0,optional:!0})],RecipientInfo.prototype,"kari",void 0),__decorate$2([AsnProp({type:KEKRecipientInfo,context:2,implicit:!0,optional:!0})],RecipientInfo.prototype,"kekri",void 0),__decorate$2([AsnProp({type:PasswordRecipientInfo,context:3,implicit:!0,optional:!0})],RecipientInfo.prototype,"pwri",void 0),__decorate$2([AsnProp({type:OtherRecipientInfo,context:4,implicit:!0,optional:!0})],RecipientInfo.prototype,"ori",void 0),RecipientInfo=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],RecipientInfo);var RecipientInfos_1;let RecipientInfos=RecipientInfos_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,RecipientInfos_1.prototype)}};RecipientInfos=RecipientInfos_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:RecipientInfo})],RecipientInfos);var RevocationInfoChoices_1;class OtherRevocationInfoFormat{constructor(zs={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],OtherRevocationInfoFormat.prototype,"otherRevInfoFormat",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],OtherRevocationInfoFormat.prototype,"otherRevInfo",void 0);let RevocationInfoChoice=class{constructor(zs={}){this.other=new OtherRevocationInfoFormat,Object.assign(this,zs)}};__decorate$2([AsnProp({type:OtherRevocationInfoFormat,context:1,implicit:!0})],RevocationInfoChoice.prototype,"other",void 0),RevocationInfoChoice=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],RevocationInfoChoice);let RevocationInfoChoices=RevocationInfoChoices_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,RevocationInfoChoices_1.prototype)}};RevocationInfoChoices=RevocationInfoChoices_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:RevocationInfoChoice})],RevocationInfoChoices);class OriginatorInfo{constructor(zs={}){Object.assign(this,zs)}}__decorate$2([AsnProp({type:CertificateSet,context:0,implicit:!0,optional:!0})],OriginatorInfo.prototype,"certs",void 0),__decorate$2([AsnProp({type:RevocationInfoChoices,context:1,implicit:!0,optional:!0})],OriginatorInfo.prototype,"crls",void 0);var UnprotectedAttributes_1;let UnprotectedAttributes=UnprotectedAttributes_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,UnprotectedAttributes_1.prototype)}};UnprotectedAttributes=UnprotectedAttributes_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:Attribute$1})],UnprotectedAttributes);class EnvelopedData{constructor(zs={}){this.version=CMSVersion.v0,this.recipientInfos=new RecipientInfos,this.encryptedContentInfo=new EncryptedContentInfo,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],EnvelopedData.prototype,"version",void 0),__decorate$2([AsnProp({type:OriginatorInfo,context:0,implicit:!0,optional:!0})],EnvelopedData.prototype,"originatorInfo",void 0),__decorate$2([AsnProp({type:RecipientInfos})],EnvelopedData.prototype,"recipientInfos",void 0),__decorate$2([AsnProp({type:EncryptedContentInfo})],EnvelopedData.prototype,"encryptedContentInfo",void 0),__decorate$2([AsnProp({type:UnprotectedAttributes,context:1,implicit:!0,optional:!0})],EnvelopedData.prototype,"unprotectedAttrs",void 0);const id_data="1.2.840.113549.1.7.1",id_signedData="1.2.840.113549.1.7.2";var DigestAlgorithmIdentifiers_1;let DigestAlgorithmIdentifiers=DigestAlgorithmIdentifiers_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,DigestAlgorithmIdentifiers_1.prototype)}};DigestAlgorithmIdentifiers=DigestAlgorithmIdentifiers_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:DigestAlgorithmIdentifier})],DigestAlgorithmIdentifiers);class SignedData{constructor(zs={}){this.version=CMSVersion.v0,this.digestAlgorithms=new DigestAlgorithmIdentifiers,this.encapContentInfo=new EncapsulatedContentInfo,this.signerInfos=new SignerInfos,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],SignedData.prototype,"version",void 0),__decorate$2([AsnProp({type:DigestAlgorithmIdentifiers})],SignedData.prototype,"digestAlgorithms",void 0),__decorate$2([AsnProp({type:EncapsulatedContentInfo})],SignedData.prototype,"encapContentInfo",void 0),__decorate$2([AsnProp({type:CertificateSet,context:0,implicit:!0,optional:!0})],SignedData.prototype,"certificates",void 0),__decorate$2([AsnProp({type:RevocationInfoChoices,context:1,implicit:!0,optional:!0})],SignedData.prototype,"crls",void 0),__decorate$2([AsnProp({type:SignerInfos})],SignedData.prototype,"signerInfos",void 0);const id_ecPublicKey="1.2.840.10045.2.1",id_ecdsaWithSHA1="1.2.840.10045.4.1",id_ecdsaWithSHA224="1.2.840.10045.4.3.1",id_ecdsaWithSHA256="1.2.840.10045.4.3.2",id_ecdsaWithSHA384="1.2.840.10045.4.3.3",id_ecdsaWithSHA512="1.2.840.10045.4.3.4",id_secp256r1="1.2.840.10045.3.1.7",id_secp384r1="1.3.132.0.34",id_secp521r1="1.3.132.0.35";function create$2(at){return new AlgorithmIdentifier({algorithm:at})}const ecdsaWithSHA1=create$2(id_ecdsaWithSHA1);create$2(id_ecdsaWithSHA224);const ecdsaWithSHA256=create$2(id_ecdsaWithSHA256),ecdsaWithSHA384=create$2(id_ecdsaWithSHA384),ecdsaWithSHA512=create$2(id_ecdsaWithSHA512);let FieldID=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],FieldID.prototype,"fieldType",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any})],FieldID.prototype,"parameters",void 0),FieldID=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],FieldID);class ECPoint extends OctetString{}let Curve$1=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.OctetString})],Curve$1.prototype,"a",void 0),__decorate$2([AsnProp({type:AsnPropTypes.OctetString})],Curve$1.prototype,"b",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString,optional:!0})],Curve$1.prototype,"seed",void 0),Curve$1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],Curve$1);var ECPVer;(function(at){at[at.ecpVer1=1]="ecpVer1"})(ECPVer||(ECPVer={}));let SpecifiedECDomain=class{constructor(zs={}){this.version=ECPVer.ecpVer1,Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.Integer})],SpecifiedECDomain.prototype,"version",void 0),__decorate$2([AsnProp({type:FieldID})],SpecifiedECDomain.prototype,"fieldID",void 0),__decorate$2([AsnProp({type:Curve$1})],SpecifiedECDomain.prototype,"curve",void 0),__decorate$2([AsnProp({type:ECPoint})],SpecifiedECDomain.prototype,"base",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],SpecifiedECDomain.prototype,"order",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,optional:!0})],SpecifiedECDomain.prototype,"cofactor",void 0),SpecifiedECDomain=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],SpecifiedECDomain);let ECParameters=class{constructor(zs={}){Object.assign(this,zs)}};__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ECParameters.prototype,"namedCurve",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Null})],ECParameters.prototype,"implicitCurve",void 0),__decorate$2([AsnProp({type:SpecifiedECDomain})],ECParameters.prototype,"specifiedCurve",void 0),ECParameters=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],ECParameters);class ECPrivateKey{constructor(zs={}){this.version=1,this.privateKey=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],ECPrivateKey.prototype,"version",void 0),__decorate$2([AsnProp({type:OctetString})],ECPrivateKey.prototype,"privateKey",void 0),__decorate$2([AsnProp({type:ECParameters,context:0,optional:!0})],ECPrivateKey.prototype,"parameters",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString,context:1,optional:!0})],ECPrivateKey.prototype,"publicKey",void 0);class ECDSASigValue{constructor(zs={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],ECDSASigValue.prototype,"r",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],ECDSASigValue.prototype,"s",void 0);const id_pkcs_1="1.2.840.113549.1.1",id_rsaEncryption=`${id_pkcs_1}.1`,id_RSAES_OAEP=`${id_pkcs_1}.7`,id_pSpecified=`${id_pkcs_1}.9`,id_RSASSA_PSS=`${id_pkcs_1}.10`,id_md2WithRSAEncryption=`${id_pkcs_1}.2`,id_md5WithRSAEncryption=`${id_pkcs_1}.4`,id_sha1WithRSAEncryption=`${id_pkcs_1}.5`,id_sha224WithRSAEncryption=`${id_pkcs_1}.14`,id_sha256WithRSAEncryption=`${id_pkcs_1}.11`,id_sha384WithRSAEncryption=`${id_pkcs_1}.12`,id_sha512WithRSAEncryption=`${id_pkcs_1}.13`,id_sha512_224WithRSAEncryption=`${id_pkcs_1}.15`,id_sha512_256WithRSAEncryption=`${id_pkcs_1}.16`,id_sha1="1.3.14.3.2.26",id_sha224="2.16.840.1.101.3.4.2.4",id_sha256="2.16.840.1.101.3.4.2.1",id_sha384="2.16.840.1.101.3.4.2.2",id_sha512="2.16.840.1.101.3.4.2.3",id_sha512_224="2.16.840.1.101.3.4.2.5",id_sha512_256="2.16.840.1.101.3.4.2.6",id_md2="1.2.840.113549.2.2",id_md5="1.2.840.113549.2.5",id_mgf1=`${id_pkcs_1}.8`;function create$1(at){return new AlgorithmIdentifier({algorithm:at,parameters:null})}create$1(id_md2),create$1(id_md5);const sha1=create$1(id_sha1);create$1(id_sha224),create$1(id_sha256),create$1(id_sha384),create$1(id_sha512),create$1(id_sha512_224),create$1(id_sha512_256);const mgf1SHA1=new AlgorithmIdentifier({algorithm:id_mgf1,parameters:AsnConvert.serialize(sha1)}),pSpecifiedEmpty=new AlgorithmIdentifier({algorithm:id_pSpecified,parameters:AsnConvert.serialize(AsnOctetStringConverter.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});create$1(id_rsaEncryption),create$1(id_md2WithRSAEncryption),create$1(id_md5WithRSAEncryption),create$1(id_sha1WithRSAEncryption),create$1(id_sha512_224WithRSAEncryption),create$1(id_sha512_256WithRSAEncryption),create$1(id_sha384WithRSAEncryption),create$1(id_sha512WithRSAEncryption),create$1(id_sha512_224WithRSAEncryption),create$1(id_sha512_256WithRSAEncryption);class RsaEsOaepParams{constructor(zs={}){this.hashAlgorithm=new AlgorithmIdentifier(sha1),this.maskGenAlgorithm=new AlgorithmIdentifier({algorithm:id_mgf1,parameters:AsnConvert.serialize(sha1)}),this.pSourceAlgorithm=new AlgorithmIdentifier(pSpecifiedEmpty),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AlgorithmIdentifier,context:0,defaultValue:sha1})],RsaEsOaepParams.prototype,"hashAlgorithm",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier,context:1,defaultValue:mgf1SHA1})],RsaEsOaepParams.prototype,"maskGenAlgorithm",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier,context:2,defaultValue:pSpecifiedEmpty})],RsaEsOaepParams.prototype,"pSourceAlgorithm",void 0),new AlgorithmIdentifier({algorithm:id_RSAES_OAEP,parameters:AsnConvert.serialize(new RsaEsOaepParams)});class RsaSaPssParams{constructor(zs={}){this.hashAlgorithm=new AlgorithmIdentifier(sha1),this.maskGenAlgorithm=new AlgorithmIdentifier({algorithm:id_mgf1,parameters:AsnConvert.serialize(sha1)}),this.saltLength=20,this.trailerField=1,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AlgorithmIdentifier,context:0,defaultValue:sha1})],RsaSaPssParams.prototype,"hashAlgorithm",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier,context:1,defaultValue:mgf1SHA1})],RsaSaPssParams.prototype,"maskGenAlgorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:2,defaultValue:20})],RsaSaPssParams.prototype,"saltLength",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,context:3,defaultValue:1})],RsaSaPssParams.prototype,"trailerField",void 0),new AlgorithmIdentifier({algorithm:id_RSASSA_PSS,parameters:AsnConvert.serialize(new RsaSaPssParams)});class DigestInfo{constructor(zs={}){this.digestAlgorithm=new AlgorithmIdentifier,this.digest=new OctetString,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AlgorithmIdentifier})],DigestInfo.prototype,"digestAlgorithm",void 0),__decorate$2([AsnProp({type:OctetString})],DigestInfo.prototype,"digest",void 0);var OtherPrimeInfos_1;class OtherPrimeInfo{constructor(zs={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],OtherPrimeInfo.prototype,"prime",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],OtherPrimeInfo.prototype,"exponent",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],OtherPrimeInfo.prototype,"coefficient",void 0);let OtherPrimeInfos=OtherPrimeInfos_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,OtherPrimeInfos_1.prototype)}};OtherPrimeInfos=OtherPrimeInfos_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:OtherPrimeInfo})],OtherPrimeInfos);class RSAPrivateKey{constructor(zs={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],RSAPrivateKey.prototype,"version",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"modulus",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"publicExponent",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"privateExponent",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"prime1",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"prime2",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"exponent1",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"exponent2",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPrivateKey.prototype,"coefficient",void 0),__decorate$2([AsnProp({type:OtherPrimeInfos,optional:!0})],RSAPrivateKey.prototype,"otherPrimeInfos",void 0);class RSAPublicKey{constructor(zs={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPublicKey.prototype,"modulus",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,converter:AsnIntegerArrayBufferConverter})],RSAPublicKey.prototype,"publicExponent",void 0);var Lifecycle;(function(at){at[at.Transient=0]="Transient",at[at.Singleton=1]="Singleton",at[at.ResolutionScoped=2]="ResolutionScoped",at[at.ContainerScoped=3]="ContainerScoped"})(Lifecycle||(Lifecycle={}));const Lifecycle$1=Lifecycle;/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$3=function(at,zs){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ws,qs){Ws.__proto__=qs}||function(Ws,qs){for(var Ys in qs)qs.hasOwnProperty(Ys)&&(Ws[Ys]=qs[Ys])},extendStatics$3(at,zs)};function __extends$3(at,zs){extendStatics$3(at,zs);function Ws(){this.constructor=at}at.prototype=zs===null?Object.create(zs):(Ws.prototype=zs.prototype,new Ws)}function __awaiter$3(at,zs,Ws,qs){function Ys(Xs){return Xs instanceof Ws?Xs:new Ws(function(Zs){Zs(Xs)})}return new(Ws||(Ws=Promise))(function(Xs,Zs){function yl(El){try{$l(qs.next(El))}catch(wl){Zs(wl)}}function Js(El){try{$l(qs.throw(El))}catch(wl){Zs(wl)}}function $l(El){El.done?Xs(El.value):Ys(El.value).then(yl,Js)}$l((qs=qs.apply(at,[])).next())})}function __generator$3(at,zs){var Ws={label:0,sent:function(){if(Xs[0]&1)throw Xs[1];return Xs[1]},trys:[],ops:[]},qs,Ys,Xs,Zs;return Zs={next:yl(0),throw:yl(1),return:yl(2)},typeof Symbol=="function"&&(Zs[Symbol.iterator]=function(){return this}),Zs;function yl($l){return function(El){return Js([$l,El])}}function Js($l){if(qs)throw new TypeError("Generator is already executing.");for(;Ws;)try{if(qs=1,Ys&&(Xs=$l[0]&2?Ys.return:$l[0]?Ys.throw||((Xs=Ys.return)&&Xs.call(Ys),0):Ys.next)&&!(Xs=Xs.call(Ys,$l[1])).done)return Xs;switch(Ys=0,Xs&&($l=[$l[0]&2,Xs.value]),$l[0]){case 0:case 1:Xs=$l;break;case 4:return Ws.label++,{value:$l[1],done:!1};case 5:Ws.label++,Ys=$l[1],$l=[0];continue;case 7:$l=Ws.ops.pop(),Ws.trys.pop();continue;default:if(Xs=Ws.trys,!(Xs=Xs.length>0&&Xs[Xs.length-1])&&($l[0]===6||$l[0]===2)){Ws=0;continue}if($l[0]===3&&(!Xs||$l[1]>Xs[0]&&$l[1]<Xs[3])){Ws.label=$l[1];break}if($l[0]===6&&Ws.label<Xs[1]){Ws.label=Xs[1],Xs=$l;break}if(Xs&&Ws.label<Xs[2]){Ws.label=Xs[2],Ws.ops.push($l);break}Xs[2]&&Ws.ops.pop(),Ws.trys.pop();continue}$l=zs.call(at,Ws)}catch(El){$l=[6,El],Ys=0}finally{qs=Xs=0}if($l[0]&5)throw $l[1];return{value:$l[0]?$l[1]:void 0,done:!0}}}function __values$2(at){var zs=typeof Symbol=="function"&&Symbol.iterator,Ws=zs&&at[zs],qs=0;if(Ws)return Ws.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&qs>=at.length&&(at=void 0),{value:at&&at[qs++],done:!at}}};throw new TypeError(zs?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$2(at,zs){var Ws=typeof Symbol=="function"&&at[Symbol.iterator];if(!Ws)return at;var qs=Ws.call(at),Ys,Xs=[],Zs;try{for(;(zs===void 0||zs-- >0)&&!(Ys=qs.next()).done;)Xs.push(Ys.value)}catch(yl){Zs={error:yl}}finally{try{Ys&&!Ys.done&&(Ws=qs.return)&&Ws.call(qs)}finally{if(Zs)throw Zs.error}}return Xs}function __spread$2(){for(var at=[],zs=0;zs<arguments.length;zs++)at=at.concat(__read$2(arguments[zs]));return at}var INJECTION_TOKEN_METADATA_KEY="injectionTokens";function getParamInfo(at){var zs=Reflect.getMetadata("design:paramtypes",at)||[],Ws=Reflect.getOwnMetadata(INJECTION_TOKEN_METADATA_KEY,at)||{};return Object.keys(Ws).forEach(function(qs){zs[+qs]=Ws[qs]}),zs}function isClassProvider(at){return!!at.useClass}function isFactoryProvider(at){return!!at.useFactory}var DelayedConstructor=function(){function at(zs){this.wrap=zs,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return at.prototype.createProxy=function(zs){var Ws=this,qs={},Ys=!1,Xs,Zs=function(){return Ys||(Xs=zs(Ws.wrap()),Ys=!0),Xs};return new Proxy(qs,this.createHandler(Zs))},at.prototype.createHandler=function(zs){var Ws={},qs=function(Ys){Ws[Ys]=function(){for(var Xs=[],Zs=0;Zs<arguments.length;Zs++)Xs[Zs]=arguments[Zs];Xs[0]=zs();var yl=Reflect[Ys];return yl.apply(void 0,__spread$2(Xs))}};return this.reflectMethods.forEach(qs),Ws},at}();function isNormalToken(at){return typeof at=="string"||typeof at=="symbol"}function isTokenDescriptor(at){return typeof at=="object"&&"token"in at&&"multiple"in at}function isTransformDescriptor(at){return typeof at=="object"&&"token"in at&&"transform"in at}function isConstructorToken(at){return typeof at=="function"||at instanceof DelayedConstructor}function isTokenProvider(at){return!!at.useToken}function isValueProvider(at){return at.useValue!=null}function isProvider(at){return isClassProvider(at)||isValueProvider(at)||isTokenProvider(at)||isFactoryProvider(at)}var RegistryBase=function(){function at(){this._registryMap=new Map}return at.prototype.entries=function(){return this._registryMap.entries()},at.prototype.getAll=function(zs){return this.ensure(zs),this._registryMap.get(zs)},at.prototype.get=function(zs){this.ensure(zs);var Ws=this._registryMap.get(zs);return Ws[Ws.length-1]||null},at.prototype.set=function(zs,Ws){this.ensure(zs),this._registryMap.get(zs).push(Ws)},at.prototype.setAll=function(zs,Ws){this._registryMap.set(zs,Ws)},at.prototype.has=function(zs){return this.ensure(zs),this._registryMap.get(zs).length>0},at.prototype.clear=function(){this._registryMap.clear()},at.prototype.ensure=function(zs){this._registryMap.has(zs)||this._registryMap.set(zs,[])},at}(),Registry=function(at){__extends$3(zs,at);function zs(){return at!==null&&at.apply(this,arguments)||this}return zs}(RegistryBase),ResolutionContext=function(){function at(){this.scopedResolutions=new Map}return at}();function formatDependency(at,zs){if(at===null)return"at position #"+zs;var Ws=at.split(",")[zs].trim();return'"'+Ws+'" at position #'+zs}function composeErrorMessage(at,zs,Ws){return Ws===void 0&&(Ws="    "),__spread$2([at],zs.message.split(`
`).map(function(qs){return Ws+qs})).join(`
`)}function formatErrorCtor(at,zs,Ws){var qs=__read$2(at.toString().match(/constructor\(([\w, ]+)\)/)||[],2),Ys=qs[1],Xs=Ys===void 0?null:Ys,Zs=formatDependency(Xs,zs);return composeErrorMessage("Cannot inject the dependency "+Zs+' of "'+at.name+'" constructor. Reason:',Ws)}function isDisposable(at){if(typeof at.dispose!="function")return!1;var zs=at.dispose;return!(zs.length>0)}var PreResolutionInterceptors=function(at){__extends$3(zs,at);function zs(){return at!==null&&at.apply(this,arguments)||this}return zs}(RegistryBase),PostResolutionInterceptors=function(at){__extends$3(zs,at);function zs(){return at!==null&&at.apply(this,arguments)||this}return zs}(RegistryBase),Interceptors=function(){function at(){this.preResolution=new PreResolutionInterceptors,this.postResolution=new PostResolutionInterceptors}return at}(),typeInfo=new Map,InternalDependencyContainer=function(){function at(zs){this.parent=zs,this._registry=new Registry,this.interceptors=new Interceptors,this.disposed=!1,this.disposables=new Set}return at.prototype.register=function(zs,Ws,qs){qs===void 0&&(qs={lifecycle:Lifecycle$1.Transient}),this.ensureNotDisposed();var Ys;if(isProvider(Ws)?Ys=Ws:Ys={useClass:Ws},isTokenProvider(Ys))for(var Xs=[zs],Zs=Ys;Zs!=null;){var yl=Zs.useToken;if(Xs.includes(yl))throw new Error("Token registration cycle detected! "+__spread$2(Xs,[yl]).join(" -> "));Xs.push(yl);var Js=this._registry.get(yl);Js&&isTokenProvider(Js.provider)?Zs=Js.provider:Zs=null}if((qs.lifecycle===Lifecycle$1.Singleton||qs.lifecycle==Lifecycle$1.ContainerScoped||qs.lifecycle==Lifecycle$1.ResolutionScoped)&&(isValueProvider(Ys)||isFactoryProvider(Ys)))throw new Error('Cannot use lifecycle "'+Lifecycle$1[qs.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(zs,{provider:Ys,options:qs}),this},at.prototype.registerType=function(zs,Ws){return this.ensureNotDisposed(),isNormalToken(Ws)?this.register(zs,{useToken:Ws}):this.register(zs,{useClass:Ws})},at.prototype.registerInstance=function(zs,Ws){return this.ensureNotDisposed(),this.register(zs,{useValue:Ws})},at.prototype.registerSingleton=function(zs,Ws){if(this.ensureNotDisposed(),isNormalToken(zs)){if(isNormalToken(Ws))return this.register(zs,{useToken:Ws},{lifecycle:Lifecycle$1.Singleton});if(Ws)return this.register(zs,{useClass:Ws},{lifecycle:Lifecycle$1.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var qs=zs;return Ws&&!isNormalToken(Ws)&&(qs=Ws),this.register(zs,{useClass:qs},{lifecycle:Lifecycle$1.Singleton})},at.prototype.resolve=function(zs,Ws,qs){Ws===void 0&&(Ws=new ResolutionContext),qs===void 0&&(qs=!1),this.ensureNotDisposed();var Ys=this.getRegistration(zs);if(!Ys&&isNormalToken(zs)){if(qs)return;throw new Error('Attempted to resolve unregistered dependency token: "'+zs.toString()+'"')}if(this.executePreResolutionInterceptor(zs,"Single"),Ys){var Xs=this.resolveRegistration(Ys,Ws);return this.executePostResolutionInterceptor(zs,Xs,"Single"),Xs}if(isConstructorToken(zs)){var Xs=this.construct(zs,Ws);return this.executePostResolutionInterceptor(zs,Xs,"Single"),Xs}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},at.prototype.executePreResolutionInterceptor=function(zs,Ws){var qs,Ys;if(this.interceptors.preResolution.has(zs)){var Xs=[];try{for(var Zs=__values$2(this.interceptors.preResolution.getAll(zs)),yl=Zs.next();!yl.done;yl=Zs.next()){var Js=yl.value;Js.options.frequency!="Once"&&Xs.push(Js),Js.callback(zs,Ws)}}catch($l){qs={error:$l}}finally{try{yl&&!yl.done&&(Ys=Zs.return)&&Ys.call(Zs)}finally{if(qs)throw qs.error}}this.interceptors.preResolution.setAll(zs,Xs)}},at.prototype.executePostResolutionInterceptor=function(zs,Ws,qs){var Ys,Xs;if(this.interceptors.postResolution.has(zs)){var Zs=[];try{for(var yl=__values$2(this.interceptors.postResolution.getAll(zs)),Js=yl.next();!Js.done;Js=yl.next()){var $l=Js.value;$l.options.frequency!="Once"&&Zs.push($l),$l.callback(zs,Ws,qs)}}catch(El){Ys={error:El}}finally{try{Js&&!Js.done&&(Xs=yl.return)&&Xs.call(yl)}finally{if(Ys)throw Ys.error}}this.interceptors.postResolution.setAll(zs,Zs)}},at.prototype.resolveRegistration=function(zs,Ws){if(this.ensureNotDisposed(),zs.options.lifecycle===Lifecycle$1.ResolutionScoped&&Ws.scopedResolutions.has(zs))return Ws.scopedResolutions.get(zs);var qs=zs.options.lifecycle===Lifecycle$1.Singleton,Ys=zs.options.lifecycle===Lifecycle$1.ContainerScoped,Xs=qs||Ys,Zs;return isValueProvider(zs.provider)?Zs=zs.provider.useValue:isTokenProvider(zs.provider)?Zs=Xs?zs.instance||(zs.instance=this.resolve(zs.provider.useToken,Ws)):this.resolve(zs.provider.useToken,Ws):isClassProvider(zs.provider)?Zs=Xs?zs.instance||(zs.instance=this.construct(zs.provider.useClass,Ws)):this.construct(zs.provider.useClass,Ws):isFactoryProvider(zs.provider)?Zs=zs.provider.useFactory(this):Zs=this.construct(zs.provider,Ws),zs.options.lifecycle===Lifecycle$1.ResolutionScoped&&Ws.scopedResolutions.set(zs,Zs),Zs},at.prototype.resolveAll=function(zs,Ws,qs){var Ys=this;Ws===void 0&&(Ws=new ResolutionContext),qs===void 0&&(qs=!1),this.ensureNotDisposed();var Xs=this.getAllRegistrations(zs);if(!Xs&&isNormalToken(zs)){if(qs)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+zs.toString()+'"')}if(this.executePreResolutionInterceptor(zs,"All"),Xs){var Zs=Xs.map(function(Js){return Ys.resolveRegistration(Js,Ws)});return this.executePostResolutionInterceptor(zs,Zs,"All"),Zs}var yl=[this.construct(zs,Ws)];return this.executePostResolutionInterceptor(zs,yl,"All"),yl},at.prototype.isRegistered=function(zs,Ws){return Ws===void 0&&(Ws=!1),this.ensureNotDisposed(),this._registry.has(zs)||Ws&&(this.parent||!1)&&this.parent.isRegistered(zs,!0)},at.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},at.prototype.clearInstances=function(){var zs,Ws;this.ensureNotDisposed();try{for(var qs=__values$2(this._registry.entries()),Ys=qs.next();!Ys.done;Ys=qs.next()){var Xs=__read$2(Ys.value,2),Zs=Xs[0],yl=Xs[1];this._registry.setAll(Zs,yl.filter(function(Js){return!isValueProvider(Js.provider)}).map(function(Js){return Js.instance=void 0,Js}))}}catch(Js){zs={error:Js}}finally{try{Ys&&!Ys.done&&(Ws=qs.return)&&Ws.call(qs)}finally{if(zs)throw zs.error}}},at.prototype.createChildContainer=function(){var zs,Ws;this.ensureNotDisposed();var qs=new at(this);try{for(var Ys=__values$2(this._registry.entries()),Xs=Ys.next();!Xs.done;Xs=Ys.next()){var Zs=__read$2(Xs.value,2),yl=Zs[0],Js=Zs[1];Js.some(function($l){var El=$l.options;return El.lifecycle===Lifecycle$1.ContainerScoped})&&qs._registry.setAll(yl,Js.map(function($l){return $l.options.lifecycle===Lifecycle$1.ContainerScoped?{provider:$l.provider,options:$l.options}:$l}))}}catch($l){zs={error:$l}}finally{try{Xs&&!Xs.done&&(Ws=Ys.return)&&Ws.call(Ys)}finally{if(zs)throw zs.error}}return qs},at.prototype.beforeResolution=function(zs,Ws,qs){qs===void 0&&(qs={frequency:"Always"}),this.interceptors.preResolution.set(zs,{callback:Ws,options:qs})},at.prototype.afterResolution=function(zs,Ws,qs){qs===void 0&&(qs={frequency:"Always"}),this.interceptors.postResolution.set(zs,{callback:Ws,options:qs})},at.prototype.dispose=function(){return __awaiter$3(this,void 0,void 0,function(){var zs;return __generator$3(this,function(Ws){switch(Ws.label){case 0:return this.disposed=!0,zs=[],this.disposables.forEach(function(qs){var Ys=qs.dispose();Ys&&zs.push(Ys)}),[4,Promise.all(zs)];case 1:return Ws.sent(),[2]}})})},at.prototype.getRegistration=function(zs){return this.isRegistered(zs)?this._registry.get(zs):this.parent?this.parent.getRegistration(zs):null},at.prototype.getAllRegistrations=function(zs){return this.isRegistered(zs)?this._registry.getAll(zs):this.parent?this.parent.getAllRegistrations(zs):null},at.prototype.construct=function(zs,Ws){var qs=this;if(zs instanceof DelayedConstructor)return zs.createProxy(function(Xs){return qs.resolve(Xs,Ws)});var Ys=function(){var Xs=typeInfo.get(zs);if(!Xs||Xs.length===0){if(zs.length===0)return new zs;throw new Error('TypeInfo not known for "'+zs.name+'"')}var Zs=Xs.map(qs.resolveParams(Ws,zs));return new(zs.bind.apply(zs,__spread$2([void 0],Zs)))}();return isDisposable(Ys)&&this.disposables.add(Ys),Ys},at.prototype.resolveParams=function(zs,Ws){var qs=this;return function(Ys,Xs){var Zs,yl,Js;try{return isTokenDescriptor(Ys)?isTransformDescriptor(Ys)?Ys.multiple?(Zs=qs.resolve(Ys.transform)).transform.apply(Zs,__spread$2([qs.resolveAll(Ys.token,new ResolutionContext,Ys.isOptional)],Ys.transformArgs)):(yl=qs.resolve(Ys.transform)).transform.apply(yl,__spread$2([qs.resolve(Ys.token,zs,Ys.isOptional)],Ys.transformArgs)):Ys.multiple?qs.resolveAll(Ys.token,new ResolutionContext,Ys.isOptional):qs.resolve(Ys.token,zs,Ys.isOptional):isTransformDescriptor(Ys)?(Js=qs.resolve(Ys.transform,zs)).transform.apply(Js,__spread$2([qs.resolve(Ys.token,zs)],Ys.transformArgs)):qs.resolve(Ys,zs)}catch($l){throw new Error(formatErrorCtor(Ws,Xs,$l))}}},at.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},at}(),instance=new InternalDependencyContainer;function injectable(at){return function(zs){typeInfo.set(zs,getParamInfo(zs))}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var PKCS12AttrSet_1;class PKCS12Attribute{constructor(zs={}){this.attrId="",this.attrValues=[],Object.assign(zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],PKCS12Attribute.prototype,"attrId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,repeated:"set"})],PKCS12Attribute.prototype,"attrValues",void 0);let PKCS12AttrSet=PKCS12AttrSet_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,PKCS12AttrSet_1.prototype)}};PKCS12AttrSet=PKCS12AttrSet_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:PKCS12Attribute})],PKCS12AttrSet);var AuthenticatedSafe_1;let AuthenticatedSafe=AuthenticatedSafe_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,AuthenticatedSafe_1.prototype)}};AuthenticatedSafe=AuthenticatedSafe_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:ContentInfo})],AuthenticatedSafe);class CertBag{constructor(zs={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],CertBag.prototype,"certId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:0})],CertBag.prototype,"certValue",void 0);class CRLBag{constructor(zs={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],CRLBag.prototype,"crlId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:0})],CRLBag.prototype,"crltValue",void 0);class EncryptedData extends OctetString{}let EncryptedPrivateKeyInfo$1=class{constructor(zs={}){this.encryptionAlgorithm=new AlgorithmIdentifier,this.encryptedData=new EncryptedData,Object.assign(this,zs)}};__decorate$2([AsnProp({type:AlgorithmIdentifier})],EncryptedPrivateKeyInfo$1.prototype,"encryptionAlgorithm",void 0),__decorate$2([AsnProp({type:EncryptedData})],EncryptedPrivateKeyInfo$1.prototype,"encryptedData",void 0);var Attributes_1$1,Version;(function(at){at[at.v1=0]="v1"})(Version||(Version={}));class PrivateKey extends OctetString{}let Attributes$1=Attributes_1$1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,Attributes_1$1.prototype)}};Attributes$1=Attributes_1$1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:Attribute$2})],Attributes$1);class PrivateKeyInfo{constructor(zs={}){this.version=Version.v1,this.privateKeyAlgorithm=new AlgorithmIdentifier,this.privateKey=new PrivateKey,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],PrivateKeyInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],PrivateKeyInfo.prototype,"privateKeyAlgorithm",void 0),__decorate$2([AsnProp({type:PrivateKey})],PrivateKeyInfo.prototype,"privateKey",void 0),__decorate$2([AsnProp({type:Attributes$1,implicit:!0,context:0,optional:!0})],PrivateKeyInfo.prototype,"attributes",void 0);let KeyBag=class extends PrivateKeyInfo{};KeyBag=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],KeyBag);let PKCS8ShroudedKeyBag=class extends EncryptedPrivateKeyInfo$1{};PKCS8ShroudedKeyBag=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],PKCS8ShroudedKeyBag);class SecretBag{constructor(zs={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],SecretBag.prototype,"secretTypeId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:0})],SecretBag.prototype,"secretValue",void 0);class MacData{constructor(zs={}){this.mac=new DigestInfo,this.macSalt=new OctetString,this.iterations=1,Object.assign(this,zs)}}__decorate$2([AsnProp({type:DigestInfo})],MacData.prototype,"mac",void 0),__decorate$2([AsnProp({type:OctetString})],MacData.prototype,"macSalt",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Integer,defaultValue:1})],MacData.prototype,"iterations",void 0);class PFX{constructor(zs={}){this.version=3,this.authSafe=new ContentInfo,this.macData=new MacData,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],PFX.prototype,"version",void 0),__decorate$2([AsnProp({type:ContentInfo})],PFX.prototype,"authSafe",void 0),__decorate$2([AsnProp({type:MacData,optional:!0})],PFX.prototype,"macData",void 0);var SafeContents_1;class SafeBag{constructor(zs={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],SafeBag.prototype,"bagId",void 0),__decorate$2([AsnProp({type:AsnPropTypes.Any,context:0})],SafeBag.prototype,"bagValue",void 0),__decorate$2([AsnProp({type:PKCS12Attribute,repeated:"set",optional:!0})],SafeBag.prototype,"bagAttributes",void 0);let SafeContents=SafeContents_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,SafeContents_1.prototype)}};SafeContents=SafeContents_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:SafeBag})],SafeContents);var ExtensionRequest_1,ExtendedCertificateAttributes_1,SMIMECapabilities_1;const id_pkcs9="1.2.840.113549.1.9",id_pkcs9_at_challengePassword=`${id_pkcs9}.7`,id_pkcs9_at_extensionRequest=`${id_pkcs9}.14`;let PKCS9String=class extends DirectoryString{constructor(zs={}){super(zs)}toString(){return this.ia5String||super.toString()}};__decorate$2([AsnProp({type:AsnPropTypes.IA5String})],PKCS9String.prototype,"ia5String",void 0),PKCS9String=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],PKCS9String);let Pkcs7PDU=class extends ContentInfo{};Pkcs7PDU=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],Pkcs7PDU);let UserPKCS12=class extends PFX{};UserPKCS12=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],UserPKCS12);let EncryptedPrivateKeyInfo=class extends EncryptedPrivateKeyInfo$1{};EncryptedPrivateKeyInfo=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],EncryptedPrivateKeyInfo);let EmailAddress=class{constructor(zs=""){this.value=zs}toString(){return this.value}};__decorate$2([AsnProp({type:AsnPropTypes.IA5String})],EmailAddress.prototype,"value",void 0),EmailAddress=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],EmailAddress);let UnstructuredName=class extends PKCS9String{};UnstructuredName=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],UnstructuredName);let UnstructuredAddress=class extends DirectoryString{};UnstructuredAddress=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],UnstructuredAddress);let DateOfBirth=class{constructor(zs=new Date){this.value=zs}};__decorate$2([AsnProp({type:AsnPropTypes.GeneralizedTime})],DateOfBirth.prototype,"value",void 0),DateOfBirth=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],DateOfBirth);let PlaceOfBirth=class extends DirectoryString{};PlaceOfBirth=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],PlaceOfBirth);let Gender=class{constructor(zs="M"){this.value=zs}toString(){return this.value}};__decorate$2([AsnProp({type:AsnPropTypes.PrintableString})],Gender.prototype,"value",void 0),Gender=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],Gender);let CountryOfCitizenship=class{constructor(zs=""){this.value=zs}toString(){return this.value}};__decorate$2([AsnProp({type:AsnPropTypes.PrintableString})],CountryOfCitizenship.prototype,"value",void 0),CountryOfCitizenship=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],CountryOfCitizenship);let CountryOfResidence=class extends CountryOfCitizenship{};CountryOfResidence=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],CountryOfResidence);let Pseudonym=class extends DirectoryString{};Pseudonym=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],Pseudonym);let ContentType=class{constructor(zs=""){this.value=zs}toString(){return this.value}};__decorate$2([AsnProp({type:AsnPropTypes.ObjectIdentifier})],ContentType.prototype,"value",void 0),ContentType=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],ContentType);let SigningTime=class extends Time{};SigningTime=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],SigningTime);let SequenceNumber=class{constructor(zs=0){this.value=zs}toString(){return this.value.toString()}};__decorate$2([AsnProp({type:AsnPropTypes.Integer})],SequenceNumber.prototype,"value",void 0),SequenceNumber=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],SequenceNumber);let CounterSignature=class extends SignerInfo{};CounterSignature=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],CounterSignature);let ChallengePassword=class extends DirectoryString{};ChallengePassword=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],ChallengePassword);let ExtensionRequest=ExtensionRequest_1=class extends Extensions{constructor(zs){super(zs),Object.setPrototypeOf(this,ExtensionRequest_1.prototype)}};ExtensionRequest=ExtensionRequest_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],ExtensionRequest);let ExtendedCertificateAttributes=ExtendedCertificateAttributes_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,ExtendedCertificateAttributes_1.prototype)}};ExtendedCertificateAttributes=ExtendedCertificateAttributes_1=__decorate$2([AsnType({type:AsnTypeTypes.Set,itemType:Attribute$1})],ExtendedCertificateAttributes);let FriendlyName=class{constructor(zs=""){this.value=zs}toString(){return this.value}};__decorate$2([AsnProp({type:AsnPropTypes.BmpString})],FriendlyName.prototype,"value",void 0),FriendlyName=__decorate$2([AsnType({type:AsnTypeTypes.Choice})],FriendlyName);let SMIMECapability=class extends AlgorithmIdentifier{};SMIMECapability=__decorate$2([AsnType({type:AsnTypeTypes.Sequence})],SMIMECapability);let SMIMECapabilities=SMIMECapabilities_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,SMIMECapabilities_1.prototype)}};SMIMECapabilities=SMIMECapabilities_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:SMIMECapability})],SMIMECapabilities);var Attributes_1;let Attributes=Attributes_1=class extends AsnArray{constructor(zs){super(zs),Object.setPrototypeOf(this,Attributes_1.prototype)}};Attributes=Attributes_1=__decorate$2([AsnType({type:AsnTypeTypes.Sequence,itemType:Attribute$2})],Attributes);class CertificationRequestInfo{constructor(zs={}){this.version=0,this.subject=new Name$1,this.subjectPKInfo=new SubjectPublicKeyInfo,this.attributes=new Attributes,Object.assign(this,zs)}}__decorate$2([AsnProp({type:AsnPropTypes.Integer})],CertificationRequestInfo.prototype,"version",void 0),__decorate$2([AsnProp({type:Name$1})],CertificationRequestInfo.prototype,"subject",void 0),__decorate$2([AsnProp({type:SubjectPublicKeyInfo})],CertificationRequestInfo.prototype,"subjectPKInfo",void 0),__decorate$2([AsnProp({type:Attributes,implicit:!0,context:0,optional:!0})],CertificationRequestInfo.prototype,"attributes",void 0);class CertificationRequest{constructor(zs={}){this.certificationRequestInfo=new CertificationRequestInfo,this.signatureAlgorithm=new AlgorithmIdentifier,this.signature=new ArrayBuffer(0),Object.assign(this,zs)}}__decorate$2([AsnProp({type:CertificationRequestInfo,raw:!0})],CertificationRequest.prototype,"certificationRequestInfo",void 0),__decorate$2([AsnProp({type:AlgorithmIdentifier})],CertificationRequest.prototype,"signatureAlgorithm",void 0),__decorate$2([AsnProp({type:AsnPropTypes.BitString})],CertificationRequest.prototype,"signature",void 0);/*!
 * MIT License
 * 
 * Copyright (c) Peculiar Ventures. All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const diAlgorithm="crypto.algorithm";class AlgorithmProvider{getAlgorithms(){return instance.resolveAll(diAlgorithm)}toAsnAlgorithm(zs){({...zs});for(const Ws of this.getAlgorithms()){const qs=Ws.toAsnAlgorithm(zs);if(qs)return qs}if(/^[0-9.]+$/.test(zs.name)){const Ws=new AlgorithmIdentifier({algorithm:zs.name});if("parameters"in zs){const qs=zs;Ws.parameters=qs.parameters}return Ws}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(zs){for(const qs of this.getAlgorithms()){const Ys=qs.toWebAlgorithm(zs);if(Ys)return Ys}return{name:zs.algorithm,parameters:zs.parameters}}}const diAlgorithmProvider="crypto.algorithmProvider";instance.registerSingleton(diAlgorithmProvider,AlgorithmProvider);var EcAlgorithm_1;const idVersionOne="1.3.36.3.3.2.8.1.1",idBrainpoolP160r1=`${idVersionOne}.1`,idBrainpoolP160t1=`${idVersionOne}.2`,idBrainpoolP192r1=`${idVersionOne}.3`,idBrainpoolP192t1=`${idVersionOne}.4`,idBrainpoolP224r1=`${idVersionOne}.5`,idBrainpoolP224t1=`${idVersionOne}.6`,idBrainpoolP256r1=`${idVersionOne}.7`,idBrainpoolP256t1=`${idVersionOne}.8`,idBrainpoolP320r1=`${idVersionOne}.9`,idBrainpoolP320t1=`${idVersionOne}.10`,idBrainpoolP384r1=`${idVersionOne}.11`,idBrainpoolP384t1=`${idVersionOne}.12`,idBrainpoolP512r1=`${idVersionOne}.13`,idBrainpoolP512t1=`${idVersionOne}.14`,brainpoolP160r1="brainpoolP160r1",brainpoolP160t1="brainpoolP160t1",brainpoolP192r1="brainpoolP192r1",brainpoolP192t1="brainpoolP192t1",brainpoolP224r1="brainpoolP224r1",brainpoolP224t1="brainpoolP224t1",brainpoolP256r1="brainpoolP256r1",brainpoolP256t1="brainpoolP256t1",brainpoolP320r1="brainpoolP320r1",brainpoolP320t1="brainpoolP320t1",brainpoolP384r1="brainpoolP384r1",brainpoolP384t1="brainpoolP384t1",brainpoolP512r1="brainpoolP512r1",brainpoolP512t1="brainpoolP512t1",ECDSA="ECDSA";let EcAlgorithm=EcAlgorithm_1=class{toAsnAlgorithm(zs){switch(zs.name.toLowerCase()){case ECDSA.toLowerCase():if("hash"in zs)switch((typeof zs.hash=="string"?zs.hash:zs.hash.name).toLowerCase()){case"sha-1":return ecdsaWithSHA1;case"sha-256":return ecdsaWithSHA256;case"sha-384":return ecdsaWithSHA384;case"sha-512":return ecdsaWithSHA512}else if("namedCurve"in zs){let Ws="";switch(zs.namedCurve){case"P-256":Ws=id_secp256r1;break;case"K-256":Ws=EcAlgorithm_1.SECP256K1;break;case"P-384":Ws=id_secp384r1;break;case"P-521":Ws=id_secp521r1;break;case brainpoolP160r1:Ws=idBrainpoolP160r1;break;case brainpoolP160t1:Ws=idBrainpoolP160t1;break;case brainpoolP192r1:Ws=idBrainpoolP192r1;break;case brainpoolP192t1:Ws=idBrainpoolP192t1;break;case brainpoolP224r1:Ws=idBrainpoolP224r1;break;case brainpoolP224t1:Ws=idBrainpoolP224t1;break;case brainpoolP256r1:Ws=idBrainpoolP256r1;break;case brainpoolP256t1:Ws=idBrainpoolP256t1;break;case brainpoolP320r1:Ws=idBrainpoolP320r1;break;case brainpoolP320t1:Ws=idBrainpoolP320t1;break;case brainpoolP384r1:Ws=idBrainpoolP384r1;break;case brainpoolP384t1:Ws=idBrainpoolP384t1;break;case brainpoolP512r1:Ws=idBrainpoolP512r1;break;case brainpoolP512t1:Ws=idBrainpoolP512t1;break}if(Ws)return new AlgorithmIdentifier({algorithm:id_ecPublicKey,parameters:AsnConvert.serialize(new ECParameters({namedCurve:Ws}))})}}return null}toWebAlgorithm(zs){switch(zs.algorithm){case id_ecdsaWithSHA1:return{name:ECDSA,hash:{name:"SHA-1"}};case id_ecdsaWithSHA256:return{name:ECDSA,hash:{name:"SHA-256"}};case id_ecdsaWithSHA384:return{name:ECDSA,hash:{name:"SHA-384"}};case id_ecdsaWithSHA512:return{name:ECDSA,hash:{name:"SHA-512"}};case id_ecPublicKey:{if(!zs.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(AsnConvert.parse(zs.parameters,ECParameters).namedCurve){case id_secp256r1:return{name:ECDSA,namedCurve:"P-256"};case EcAlgorithm_1.SECP256K1:return{name:ECDSA,namedCurve:"K-256"};case id_secp384r1:return{name:ECDSA,namedCurve:"P-384"};case id_secp521r1:return{name:ECDSA,namedCurve:"P-521"};case idBrainpoolP160r1:return{name:ECDSA,namedCurve:brainpoolP160r1};case idBrainpoolP160t1:return{name:ECDSA,namedCurve:brainpoolP160t1};case idBrainpoolP192r1:return{name:ECDSA,namedCurve:brainpoolP192r1};case idBrainpoolP192t1:return{name:ECDSA,namedCurve:brainpoolP192t1};case idBrainpoolP224r1:return{name:ECDSA,namedCurve:brainpoolP224r1};case idBrainpoolP224t1:return{name:ECDSA,namedCurve:brainpoolP224t1};case idBrainpoolP256r1:return{name:ECDSA,namedCurve:brainpoolP256r1};case idBrainpoolP256t1:return{name:ECDSA,namedCurve:brainpoolP256t1};case idBrainpoolP320r1:return{name:ECDSA,namedCurve:brainpoolP320r1};case idBrainpoolP320t1:return{name:ECDSA,namedCurve:brainpoolP320t1};case idBrainpoolP384r1:return{name:ECDSA,namedCurve:brainpoolP384r1};case idBrainpoolP384t1:return{name:ECDSA,namedCurve:brainpoolP384t1};case idBrainpoolP512r1:return{name:ECDSA,namedCurve:brainpoolP512r1};case idBrainpoolP512t1:return{name:ECDSA,namedCurve:brainpoolP512t1}}}}return null}};EcAlgorithm.SECP256K1="1.3.132.0.10",EcAlgorithm=EcAlgorithm_1=__decorate$2([injectable()],EcAlgorithm),instance.registerSingleton(diAlgorithm,EcAlgorithm);const NAME=Symbol("name"),VALUE=Symbol("value");class TextObject{constructor(zs,Ws={},qs=""){this[NAME]=zs,this[VALUE]=qs;for(const Ys in Ws)this[Ys]=Ws[Ys]}}TextObject.NAME=NAME,TextObject.VALUE=VALUE;class DefaultAlgorithmSerializer{static toTextObject(zs){const Ws=new TextObject("Algorithm Identifier",{},OidSerializer.toString(zs.algorithm));if(zs.parameters)switch(zs.algorithm){case id_ecPublicKey:{const qs=new EcAlgorithm().toWebAlgorithm(zs);qs&&"namedCurve"in qs?Ws["Named Curve"]=qs.namedCurve:Ws.Parameters=zs.parameters;break}default:Ws.Parameters=zs.parameters}return Ws}}class OidSerializer{static toString(zs){const Ws=this.items[zs];return Ws||zs}}OidSerializer.items={[id_sha1]:"sha1",[id_sha224]:"sha224",[id_sha256]:"sha256",[id_sha384]:"sha384",[id_sha512]:"sha512",[id_rsaEncryption]:"rsaEncryption",[id_sha1WithRSAEncryption]:"sha1WithRSAEncryption",[id_sha224WithRSAEncryption]:"sha224WithRSAEncryption",[id_sha256WithRSAEncryption]:"sha256WithRSAEncryption",[id_sha384WithRSAEncryption]:"sha384WithRSAEncryption",[id_sha512WithRSAEncryption]:"sha512WithRSAEncryption",[id_ecPublicKey]:"ecPublicKey",[id_ecdsaWithSHA1]:"ecdsaWithSHA1",[id_ecdsaWithSHA224]:"ecdsaWithSHA224",[id_ecdsaWithSHA256]:"ecdsaWithSHA256",[id_ecdsaWithSHA384]:"ecdsaWithSHA384",[id_ecdsaWithSHA512]:"ecdsaWithSHA512",[id_kp_serverAuth]:"TLS WWW server authentication",[id_kp_clientAuth]:"TLS WWW client authentication",[id_kp_codeSigning]:"Code Signing",[id_kp_emailProtection]:"E-mail Protection",[id_kp_timeStamping]:"Time Stamping",[id_kp_OCSPSigning]:"OCSP Signing",[id_signedData]:"Signed Data"};class TextConverter{static serialize(zs){return this.serializeObj(zs).join(`
`)}static pad(zs=0){return"".padStart(2*zs," ")}static serializeObj(zs,Ws=0){const qs=[];let Ys=this.pad(Ws++),Xs="";const Zs=zs[TextObject.VALUE];Zs&&(Xs=` ${Zs}`),qs.push(`${Ys}${zs[TextObject.NAME]}:${Xs}`),Ys=this.pad(Ws);for(const yl in zs){if(typeof yl=="symbol")continue;const Js=zs[yl],$l=yl?`${yl}: `:"";if(typeof Js=="string"||typeof Js=="number"||typeof Js=="boolean")qs.push(`${Ys}${$l}${Js}`);else if(Js instanceof Date)qs.push(`${Ys}${$l}${Js.toUTCString()}`);else if(Array.isArray(Js))for(const El of Js)El[TextObject.NAME]=yl,qs.push(...this.serializeObj(El,Ws));else if(Js instanceof TextObject)Js[TextObject.NAME]=yl,qs.push(...this.serializeObj(Js,Ws));else if(BufferSourceConverter.isBufferSource(Js))yl?(qs.push(`${Ys}${$l}`),qs.push(...this.serializeBufferSource(Js,Ws+1))):qs.push(...this.serializeBufferSource(Js,Ws));else if("toTextObject"in Js){const El=Js.toTextObject();El[TextObject.NAME]=yl,qs.push(...this.serializeObj(El,Ws))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return qs}static serializeBufferSource(zs,Ws=0){const qs=this.pad(Ws),Ys=BufferSourceConverter.toUint8Array(zs),Xs=[];for(let Zs=0;Zs<Ys.length;){const yl=[];for(let Js=0;Js<16&&Zs<Ys.length;Js++){Js===8&&yl.push("");const $l=Ys[Zs++].toString(16).padStart(2,"0");yl.push($l)}Xs.push(`${qs}${yl.join(" ")}`)}return Xs}static serializeAlgorithm(zs){return this.algorithmSerializer.toTextObject(zs)}}TextConverter.oidSerializer=OidSerializer,TextConverter.algorithmSerializer=DefaultAlgorithmSerializer;class AsnData{constructor(...zs){if(zs.length===1){const Ws=zs[0];this.rawData=AsnConvert.serialize(Ws),this.onInit(Ws)}else{const Ws=AsnConvert.parse(zs[0],zs[1]);this.rawData=BufferSourceConverter.toArrayBuffer(zs[0]),this.onInit(Ws)}}equal(zs){return zs instanceof AsnData?isEqual(zs.rawData,this.rawData):!1}toString(zs="text"){switch(zs){case"asn":return AsnConvert.toString(this.rawData);case"text":return TextConverter.serialize(this.toTextObject());case"hex":return Convert.ToHex(this.rawData);case"base64":return Convert.ToBase64(this.rawData);case"base64url":return Convert.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const zs=this.toTextObjectEmpty();return zs[""]=this.rawData,zs}toTextObjectEmpty(zs){return new TextObject(this.getTextName(),{},zs)}}AsnData.NAME="ASN";class Extension extends AsnData{constructor(...zs){let Ws;BufferSourceConverter.isBufferSource(zs[0])?Ws=BufferSourceConverter.toArrayBuffer(zs[0]):Ws=AsnConvert.serialize(new Extension$1({extnID:zs[0],critical:zs[1],extnValue:new OctetString(BufferSourceConverter.toArrayBuffer(zs[2]))})),super(Ws,Extension$1)}onInit(zs){this.type=zs.extnID,this.critical=zs.critical,this.value=zs.extnValue.buffer}toTextObject(){const zs=this.toTextObjectWithoutValue();return zs[""]=this.value,zs}toTextObjectWithoutValue(){const zs=this.toTextObjectEmpty(this.critical?"critical":void 0);return zs[TextObject.NAME]===Extension.NAME&&(zs[TextObject.NAME]=OidSerializer.toString(this.type)),zs}}var _a$1;class CryptoProvider{static isCryptoKeyPair(zs){return zs&&zs.privateKey&&zs.publicKey}static isCryptoKey(zs){return zs&&zs.usages&&zs.type&&zs.algorithm&&zs.extractable!==void 0}constructor(){this.items=new Map,this[_a$1]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(CryptoProvider.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(CryptoProvider.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(zs){return this.items.delete(zs)}forEach(zs,Ws){return this.items.forEach(zs,Ws)}has(zs){return this.items.has(zs)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(zs=CryptoProvider.DEFAULT){const Ws=this.items.get(zs.toLowerCase());if(!Ws)throw new Error(`Cannot get Crypto by name '${zs}'`);return Ws}set(zs,Ws){if(typeof zs=="string"){if(!Ws)throw new TypeError("Argument 'value' is required");this.items.set(zs.toLowerCase(),Ws)}else this.items.set(CryptoProvider.DEFAULT,zs);return this}}_a$1=Symbol.toStringTag,CryptoProvider.DEFAULT="default";const cryptoProvider=new CryptoProvider,OID_REGEX=/^[0-2](?:\.[1-9][0-9]*)+$/;function isOID(at){return new RegExp(OID_REGEX).test(at)}class NameIdentifier{constructor(zs={}){this.items={};for(const Ws in zs)this.register(Ws,zs[Ws])}get(zs){return this.items[zs]||null}findId(zs){return isOID(zs)?zs:this.get(zs)}register(zs,Ws){this.items[zs]=Ws,this.items[Ws]=zs}}const names=new NameIdentifier;names.register("CN","2.5.4.3"),names.register("L","2.5.4.7"),names.register("ST","2.5.4.8"),names.register("O","2.5.4.10"),names.register("OU","2.5.4.11"),names.register("C","2.5.4.6"),names.register("DC","0.9.2342.19200300.100.1.25"),names.register("E","1.2.840.113549.1.9.1"),names.register("G","2.5.4.42"),names.register("I","2.5.4.43"),names.register("SN","2.5.4.4"),names.register("T","2.5.4.12");function replaceUnknownCharacter(at,zs){return`\\${Convert.ToHex(Convert.FromUtf8String(zs)).toUpperCase()}`}function escape$1(at){return at.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,replaceUnknownCharacter)}class Name{static isASCII(zs){for(let Ws=0;Ws<zs.length;Ws++)if(zs.charCodeAt(Ws)>255)return!1;return!0}static isPrintableString(zs){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(zs)}constructor(zs,Ws={}){this.extraNames=new NameIdentifier,this.asn=new Name$1;for(const qs in Ws)if(Object.prototype.hasOwnProperty.call(Ws,qs)){const Ys=Ws[qs];this.extraNames.register(qs,Ys)}typeof zs=="string"?this.asn=this.fromString(zs):zs instanceof Name$1?this.asn=zs:BufferSourceConverter.isBufferSource(zs)?this.asn=AsnConvert.parse(zs,Name$1):this.asn=this.fromJSON(zs)}getField(zs){const Ws=this.extraNames.findId(zs)||names.findId(zs),qs=[];for(const Ys of this.asn)for(const Xs of Ys)Xs.type===Ws&&qs.push(Xs.value.toString());return qs}getName(zs){return this.extraNames.get(zs)||names.get(zs)}toString(){return this.asn.map(zs=>zs.map(Ws=>{const qs=this.getName(Ws.type)||Ws.type,Ys=Ws.value.anyValue?`#${Convert.ToHex(Ws.value.anyValue)}`:escape$1(Ws.value.toString());return`${qs}=${Ys}`}).join("+")).join(", ")}toJSON(){var zs;const Ws=[];for(const qs of this.asn){const Ys={};for(const Xs of qs){const Zs=this.getName(Xs.type)||Xs.type;(zs=Ys[Zs])!==null&&zs!==void 0||(Ys[Zs]=[]),Ys[Zs].push(Xs.value.anyValue?`#${Convert.ToHex(Xs.value.anyValue)}`:Xs.value.toString())}Ws.push(Ys)}return Ws}fromString(zs){const Ws=new Name$1,qs=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let Ys=null,Xs=",";for(;Ys=qs.exec(`${zs},`);){let[,Zs,yl]=Ys;const Js=yl[yl.length-1];(Js===","||Js==="+")&&(yl=yl.slice(0,yl.length-1),Ys[3]=Js);const $l=Ys[3];Zs=this.getTypeOid(Zs);const El=this.createAttribute(Zs,yl);Xs==="+"?Ws[Ws.length-1].push(El):Ws.push(new RelativeDistinguishedName([El])),Xs=$l}return Ws}fromJSON(zs){const Ws=new Name$1;for(const qs of zs){const Ys=new RelativeDistinguishedName;for(const Xs in qs){const Zs=this.getTypeOid(Xs),yl=qs[Xs];for(const Js of yl){const $l=this.createAttribute(Zs,Js);Ys.push($l)}}Ws.push(Ys)}return Ws}getTypeOid(zs){if(/[\d.]+/.test(zs)||(zs=this.getName(zs)||""),!zs)throw new Error(`Cannot get OID for name type '${zs}'`);return zs}createAttribute(zs,Ws){const qs=new AttributeTypeAndValue({type:zs});if(typeof Ws=="object")for(const Ys in Ws)switch(Ys){case"ia5String":qs.value.ia5String=Ws[Ys];break;case"utf8String":qs.value.utf8String=Ws[Ys];break;case"universalString":qs.value.universalString=Ws[Ys];break;case"bmpString":qs.value.bmpString=Ws[Ys];break;case"printableString":qs.value.printableString=Ws[Ys];break}else if(Ws[0]==="#")qs.value.anyValue=Convert.FromHex(Ws.slice(1));else{const Ys=this.processStringValue(Ws);zs===this.getName("E")||zs===this.getName("DC")?qs.value.ia5String=Ys:Name.isPrintableString(Ys)?qs.value.printableString=Ys:qs.value.utf8String=Ys}return qs}processStringValue(zs){const Ws=/"(.*?[^\\])?"/.exec(zs);return Ws&&(zs=Ws[1]),zs.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return AsnConvert.serialize(this.asn)}async getThumbprint(...zs){var Ws;let qs,Ys="SHA-1";return zs.length>=1&&!(!((Ws=zs[0])===null||Ws===void 0)&&Ws.subtle)?(Ys=zs[0]||Ys,qs=zs[1]||cryptoProvider.get()):qs=zs[0]||cryptoProvider.get(),await qs.subtle.digest(Ys,this.toArrayBuffer())}}const ERR_GN_CONSTRUCTOR="Cannot initialize GeneralName from ASN.1 data.",ERR_GN_STRING_FORMAT=`${ERR_GN_CONSTRUCTOR} Unsupported string format in use.`,ERR_GUID=`${ERR_GN_CONSTRUCTOR} Value doesn't match to GUID regular expression.`,GUID_REGEX=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,id_GUID="1.3.6.1.4.1.311.25.1",id_UPN="1.3.6.1.4.1.311.20.2.3",DNS="dns",DN="dn",EMAIL="email",IP="ip",URL$1="url",GUID="guid",UPN="upn",REGISTERED_ID="id";class GeneralName extends AsnData{constructor(...zs){let Ws;if(zs.length===2)switch(zs[0]){case DN:{const qs=new Name(zs[1]).toArrayBuffer(),Ys=AsnConvert.parse(qs,Name$1);Ws=new GeneralName$1({directoryName:Ys});break}case DNS:Ws=new GeneralName$1({dNSName:zs[1]});break;case EMAIL:Ws=new GeneralName$1({rfc822Name:zs[1]});break;case GUID:{const qs=new RegExp(GUID_REGEX,"i").exec(zs[1]);if(!qs)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const Ys=qs.slice(1).map((Xs,Zs)=>Zs<3?Convert.ToHex(new Uint8Array(Convert.FromHex(Xs)).reverse()):Xs).join("");Ws=new GeneralName$1({otherName:new OtherName({typeId:id_GUID,value:AsnConvert.serialize(new OctetString(Convert.FromHex(Ys)))})});break}case IP:Ws=new GeneralName$1({iPAddress:zs[1]});break;case REGISTERED_ID:Ws=new GeneralName$1({registeredID:zs[1]});break;case UPN:{Ws=new GeneralName$1({otherName:new OtherName({typeId:id_UPN,value:AsnConvert.serialize(AsnUtf8StringConverter.toASN(zs[1]))})});break}case URL$1:Ws=new GeneralName$1({uniformResourceIdentifier:zs[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else BufferSourceConverter.isBufferSource(zs[0])?Ws=AsnConvert.parse(zs[0],GeneralName$1):Ws=zs[0];super(Ws)}onInit(zs){if(zs.dNSName!=null)this.type=DNS,this.value=zs.dNSName;else if(zs.rfc822Name!=null)this.type=EMAIL,this.value=zs.rfc822Name;else if(zs.iPAddress!=null)this.type=IP,this.value=zs.iPAddress;else if(zs.uniformResourceIdentifier!=null)this.type=URL$1,this.value=zs.uniformResourceIdentifier;else if(zs.registeredID!=null)this.type=REGISTERED_ID,this.value=zs.registeredID;else if(zs.directoryName!=null)this.type=DN,this.value=new Name(zs.directoryName).toString();else if(zs.otherName!=null)if(zs.otherName.typeId===id_GUID){this.type=GUID;const Ws=AsnConvert.parse(zs.otherName.value,OctetString),qs=new RegExp(GUID_REGEX,"i").exec(Convert.ToHex(Ws));if(!qs)throw new Error(ERR_GUID);this.value=qs.slice(1).map((Ys,Xs)=>Xs<3?Convert.ToHex(new Uint8Array(Convert.FromHex(Ys)).reverse()):Ys).join("-")}else if(zs.otherName.typeId===id_UPN)this.type=UPN,this.value=AsnConvert.parse(zs.otherName.value,DirectoryString).toString();else throw new Error(ERR_GN_STRING_FORMAT);else throw new Error(ERR_GN_STRING_FORMAT)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let zs;switch(this.type){case DN:case DNS:case GUID:case IP:case REGISTERED_ID:case UPN:case URL$1:zs=this.type.toUpperCase();break;case EMAIL:zs="Email";break;default:throw new Error("Unsupported GeneralName type")}let Ws=this.value;return this.type===REGISTERED_ID&&(Ws=OidSerializer.toString(Ws)),new TextObject(zs,void 0,Ws)}}class GeneralNames extends AsnData{constructor(zs){let Ws;if(zs instanceof GeneralNames$1)Ws=zs;else if(Array.isArray(zs)){const qs=[];for(const Ys of zs)if(Ys instanceof GeneralName$1)qs.push(Ys);else{const Xs=AsnConvert.parse(new GeneralName(Ys.type,Ys.value).rawData,GeneralName$1);qs.push(Xs)}Ws=new GeneralNames$1(qs)}else if(BufferSourceConverter.isBufferSource(zs))Ws=AsnConvert.parse(zs,GeneralNames$1);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(Ws)}onInit(zs){const Ws=[];for(const qs of zs){let Ys=null;try{Ys=new GeneralName(qs)}catch{continue}Ws.push(Ys)}this.items=Ws}toJSON(){return this.items.map(zs=>zs.toJSON())}toTextObject(){const zs=super.toTextObjectEmpty();for(const Ws of this.items){const qs=Ws.toTextObject();let Ys=zs[qs[TextObject.NAME]];Array.isArray(Ys)||(Ys=[],zs[qs[TextObject.NAME]]=Ys),Ys.push(qs)}return zs}}GeneralNames.NAME="GeneralNames";const rPaddingTag="-{5}",rEolChars="\\n",rNameTag=`[^${rEolChars}]+`,rBeginTag=`${rPaddingTag}BEGIN (${rNameTag}(?=${rPaddingTag}))${rPaddingTag}`,rEndTag=`${rPaddingTag}END \\1${rPaddingTag}`,rEolGroup="\\n",rHeaderKey=`[^:${rEolChars}]+`,rHeaderValue=`(?:[^${rEolChars}]+${rEolGroup}(?: +[^${rEolChars}]+${rEolGroup})*)`,rBase64Chars="[a-zA-Z0-9=+/]+",rBase64=`(?:${rBase64Chars}${rEolGroup})+`,rPem=`${rBeginTag}${rEolGroup}(?:((?:${rHeaderKey}: ${rHeaderValue})+))?${rEolGroup}?(${rBase64})${rEndTag}`;class PemConverter{static isPem(zs){return typeof zs=="string"&&new RegExp(rPem,"g").test(zs)}static decodeWithHeaders(zs){zs=zs.replace(/\r/g,"");const Ws=new RegExp(rPem,"g"),qs=[];let Ys=null;for(;Ys=Ws.exec(zs);){const Xs=Ys[3].replace(new RegExp(`[${rEolChars}]+`,"g"),""),Zs={type:Ys[1],headers:[],rawData:Convert.FromBase64(Xs)},yl=Ys[2];if(yl){const Js=yl.split(new RegExp(rEolGroup,"g"));let $l=null;for(const El of Js){const[wl,_l]=El.split(/:(.*)/);if(_l===void 0){if(!$l)throw new Error("Cannot parse PEM string. Incorrect header value");$l.value+=wl.trim()}else $l&&Zs.headers.push($l),$l={key:wl,value:_l.trim()}}$l&&Zs.headers.push($l)}qs.push(Zs)}return qs}static decode(zs){return this.decodeWithHeaders(zs).map(qs=>qs.rawData)}static decodeFirst(zs){const Ws=this.decode(zs);if(!Ws.length)throw new RangeError("PEM string doesn't contain any objects");return Ws[0]}static encode(zs,Ws){if(Array.isArray(zs)){const qs=new Array;return Ws?zs.forEach(Ys=>{if(!BufferSourceConverter.isBufferSource(Ys))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");qs.push(this.encodeStruct({type:Ws,rawData:BufferSourceConverter.toArrayBuffer(Ys)}))}):zs.forEach(Ys=>{if(!("type"in Ys))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");qs.push(this.encodeStruct(Ys))}),qs.join(`
`)}else{if(!Ws)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:Ws,rawData:BufferSourceConverter.toArrayBuffer(zs)})}}static encodeStruct(zs){var Ws;const qs=zs.type.toLocaleUpperCase(),Ys=[];if(Ys.push(`-----BEGIN ${qs}-----`),!((Ws=zs.headers)===null||Ws===void 0)&&Ws.length){for(const $l of zs.headers)Ys.push(`${$l.key}: ${$l.value}`);Ys.push("")}const Xs=Convert.ToBase64(zs.rawData);let Zs,yl=0;const Js=Array();for(;yl<Xs.length&&(Xs.length-yl<64?Zs=Xs.substring(yl):(Zs=Xs.substring(yl,yl+64),yl+=64),Zs.length!==0);)if(Js.push(Zs),Zs.length<64)break;return Ys.push(...Js),Ys.push(`-----END ${qs}-----`),Ys.join(`
`)}}PemConverter.CertificateTag="CERTIFICATE",PemConverter.CrlTag="CRL",PemConverter.CertificateRequestTag="CERTIFICATE REQUEST",PemConverter.PublicKeyTag="PUBLIC KEY",PemConverter.PrivateKeyTag="PRIVATE KEY";class PemData extends AsnData{static isAsnEncoded(zs){return BufferSourceConverter.isBufferSource(zs)||typeof zs=="string"}static toArrayBuffer(zs){if(typeof zs=="string"){if(PemConverter.isPem(zs))return PemConverter.decode(zs)[0];if(Convert.isHex(zs))return Convert.FromHex(zs);if(Convert.isBase64(zs))return Convert.FromBase64(zs);if(Convert.isBase64Url(zs))return Convert.FromBase64Url(zs);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{const Ws=Convert.ToBinary(zs);return PemConverter.isPem(Ws)?PemConverter.decode(Ws)[0]:Convert.isHex(Ws)?Convert.FromHex(Ws):Convert.isBase64(Ws)?Convert.FromBase64(Ws):Convert.isBase64Url(Ws)?Convert.FromBase64Url(Ws):BufferSourceConverter.toArrayBuffer(zs)}}constructor(...zs){PemData.isAsnEncoded(zs[0])?super(PemData.toArrayBuffer(zs[0]),zs[1]):super(zs[0])}toString(zs="pem"){switch(zs){case"pem":return PemConverter.encode(this.rawData,this.tag);default:return super.toString(zs)}}}class PublicKey extends PemData{static async create(zs,Ws=cryptoProvider.get()){if(zs instanceof PublicKey)return zs;if(CryptoProvider.isCryptoKey(zs)){if(zs.type!=="public")throw new TypeError("Public key is required");const qs=await Ws.subtle.exportKey("spki",zs);return new PublicKey(qs)}else{if(zs.publicKey)return zs.publicKey;if(BufferSourceConverter.isBufferSource(zs))return new PublicKey(zs);throw new TypeError("Unsupported PublicKeyType")}}constructor(zs){PemData.isAsnEncoded(zs)?super(zs,SubjectPublicKeyInfo):super(zs),this.tag=PemConverter.PublicKeyTag}async export(...zs){let Ws,qs=["verify"],Ys={hash:"SHA-256",...this.algorithm};zs.length>1?(Ys=zs[0]||Ys,qs=zs[1]||qs,Ws=zs[2]||cryptoProvider.get()):Ws=zs[0]||cryptoProvider.get();let Xs=this.rawData;const Zs=AsnConvert.parse(this.rawData,SubjectPublicKeyInfo);return Zs.algorithm.algorithm===id_RSASSA_PSS&&(Xs=convertSpkiToRsaPkcs1(Zs,Xs)),Ws.subtle.importKey("spki",Xs,Ys,!0,qs)}onInit(zs){const Ws=instance.resolve(diAlgorithmProvider),qs=this.algorithm=Ws.toWebAlgorithm(zs.algorithm);switch(zs.algorithm.algorithm){case id_rsaEncryption:{const Ys=AsnConvert.parse(zs.subjectPublicKey,RSAPublicKey),Xs=BufferSourceConverter.toUint8Array(Ys.modulus);qs.publicExponent=BufferSourceConverter.toUint8Array(Ys.publicExponent),qs.modulusLength=(Xs[0]?Xs:Xs.slice(1)).byteLength<<3;break}}}async getThumbprint(...zs){var Ws;let qs,Ys="SHA-1";return zs.length>=1&&!(!((Ws=zs[0])===null||Ws===void 0)&&Ws.subtle)?(Ys=zs[0]||Ys,qs=zs[1]||cryptoProvider.get()):qs=zs[0]||cryptoProvider.get(),await qs.subtle.digest(Ys,this.rawData)}async getKeyIdentifier(...zs){let Ws,qs="SHA-1";zs.length===1?typeof zs[0]=="string"?(qs=zs[0],Ws=cryptoProvider.get()):Ws=zs[0]:zs.length===2?(qs=zs[0],Ws=zs[1]):Ws=cryptoProvider.get();const Ys=AsnConvert.parse(this.rawData,SubjectPublicKeyInfo);return await Ws.subtle.digest(qs,Ys.subjectPublicKey)}toTextObject(){const zs=this.toTextObjectEmpty(),Ws=AsnConvert.parse(this.rawData,SubjectPublicKeyInfo);switch(zs.Algorithm=TextConverter.serializeAlgorithm(Ws.algorithm),Ws.algorithm.algorithm){case id_ecPublicKey:zs["EC Point"]=Ws.subjectPublicKey;break;case id_rsaEncryption:default:zs["Raw Data"]=Ws.subjectPublicKey}return zs}}function convertSpkiToRsaPkcs1(at,zs){return at.algorithm=new AlgorithmIdentifier({algorithm:id_rsaEncryption,parameters:null}),zs=AsnConvert.serialize(at),zs}class AuthorityKeyIdentifierExtension extends Extension{static async create(zs,Ws=!1,qs=cryptoProvider.get()){if("name"in zs&&"serialNumber"in zs)return new AuthorityKeyIdentifierExtension(zs,Ws);const Xs=await(await PublicKey.create(zs,qs)).getKeyIdentifier(qs);return new AuthorityKeyIdentifierExtension(Convert.ToHex(Xs),Ws)}constructor(...zs){if(BufferSourceConverter.isBufferSource(zs[0]))super(zs[0]);else if(typeof zs[0]=="string"){const Ws=new AuthorityKeyIdentifier({keyIdentifier:new KeyIdentifier(Convert.FromHex(zs[0]))});super(id_ce_authorityKeyIdentifier,zs[1],AsnConvert.serialize(Ws))}else{const Ws=zs[0],qs=Ws.name instanceof GeneralNames?AsnConvert.parse(Ws.name.rawData,GeneralNames$1):Ws.name,Ys=new AuthorityKeyIdentifier({authorityCertIssuer:qs,authorityCertSerialNumber:Convert.FromHex(Ws.serialNumber)});super(id_ce_authorityKeyIdentifier,zs[1],AsnConvert.serialize(Ys))}}onInit(zs){super.onInit(zs);const Ws=AsnConvert.parse(zs.extnValue,AuthorityKeyIdentifier);Ws.keyIdentifier&&(this.keyId=Convert.ToHex(Ws.keyIdentifier)),(Ws.authorityCertIssuer||Ws.authorityCertSerialNumber)&&(this.certId={name:Ws.authorityCertIssuer||[],serialNumber:Ws.authorityCertSerialNumber?Convert.ToHex(Ws.authorityCertSerialNumber):""})}toTextObject(){const zs=this.toTextObjectWithoutValue(),Ws=AsnConvert.parse(this.value,AuthorityKeyIdentifier);return Ws.authorityCertIssuer&&(zs["Authority Issuer"]=new GeneralNames(Ws.authorityCertIssuer).toTextObject()),Ws.authorityCertSerialNumber&&(zs["Authority Serial Number"]=Ws.authorityCertSerialNumber),Ws.keyIdentifier&&(zs[""]=Ws.keyIdentifier),zs}}AuthorityKeyIdentifierExtension.NAME="Authority Key Identifier";class BasicConstraintsExtension extends Extension{constructor(...zs){if(BufferSourceConverter.isBufferSource(zs[0])){super(zs[0]);const Ws=AsnConvert.parse(this.value,BasicConstraints);this.ca=Ws.cA,this.pathLength=Ws.pathLenConstraint}else{const Ws=new BasicConstraints({cA:zs[0],pathLenConstraint:zs[1]});super(id_ce_basicConstraints,zs[2],AsnConvert.serialize(Ws)),this.ca=zs[0],this.pathLength=zs[1]}}toTextObject(){const zs=this.toTextObjectWithoutValue();return this.ca&&(zs.CA=this.ca),this.pathLength!==void 0&&(zs["Path Length"]=this.pathLength),zs}}BasicConstraintsExtension.NAME="Basic Constraints";var ExtendedKeyUsage;(function(at){at.serverAuth="1.3.6.1.5.5.7.3.1",at.clientAuth="1.3.6.1.5.5.7.3.2",at.codeSigning="1.3.6.1.5.5.7.3.3",at.emailProtection="1.3.6.1.5.5.7.3.4",at.timeStamping="1.3.6.1.5.5.7.3.8",at.ocspSigning="1.3.6.1.5.5.7.3.9"})(ExtendedKeyUsage||(ExtendedKeyUsage={}));class ExtendedKeyUsageExtension extends Extension{constructor(...zs){if(BufferSourceConverter.isBufferSource(zs[0])){super(zs[0]);const Ws=AsnConvert.parse(this.value,ExtendedKeyUsage$1);this.usages=Ws.map(qs=>qs)}else{const Ws=new ExtendedKeyUsage$1(zs[0]);super(id_ce_extKeyUsage,zs[1],AsnConvert.serialize(Ws)),this.usages=zs[0]}}toTextObject(){const zs=this.toTextObjectWithoutValue();return zs[""]=this.usages.map(Ws=>OidSerializer.toString(Ws)).join(", "),zs}}ExtendedKeyUsageExtension.NAME="Extended Key Usages";var KeyUsageFlags;(function(at){at[at.digitalSignature=1]="digitalSignature",at[at.nonRepudiation=2]="nonRepudiation",at[at.keyEncipherment=4]="keyEncipherment",at[at.dataEncipherment=8]="dataEncipherment",at[at.keyAgreement=16]="keyAgreement",at[at.keyCertSign=32]="keyCertSign",at[at.cRLSign=64]="cRLSign",at[at.encipherOnly=128]="encipherOnly",at[at.decipherOnly=256]="decipherOnly"})(KeyUsageFlags||(KeyUsageFlags={}));class KeyUsagesExtension extends Extension{constructor(...zs){if(BufferSourceConverter.isBufferSource(zs[0])){super(zs[0]);const Ws=AsnConvert.parse(this.value,KeyUsage);this.usages=Ws.toNumber()}else{const Ws=new KeyUsage(zs[0]);super(id_ce_keyUsage,zs[1],AsnConvert.serialize(Ws)),this.usages=zs[0]}}toTextObject(){const zs=this.toTextObjectWithoutValue(),Ws=AsnConvert.parse(this.value,KeyUsage);return zs[""]=Ws.toJSON().join(", "),zs}}KeyUsagesExtension.NAME="Key Usages";class SubjectKeyIdentifierExtension extends Extension{static async create(zs,Ws=!1,qs=cryptoProvider.get()){const Xs=await(await PublicKey.create(zs,qs)).getKeyIdentifier(qs);return new SubjectKeyIdentifierExtension(Convert.ToHex(Xs),Ws)}constructor(...zs){if(BufferSourceConverter.isBufferSource(zs[0])){super(zs[0]);const Ws=AsnConvert.parse(this.value,SubjectKeyIdentifier);this.keyId=Convert.ToHex(Ws)}else{const Ws=typeof zs[0]=="string"?Convert.FromHex(zs[0]):zs[0],qs=new SubjectKeyIdentifier(Ws);super(id_ce_subjectKeyIdentifier,zs[1],AsnConvert.serialize(qs)),this.keyId=Convert.ToHex(Ws)}}toTextObject(){const zs=this.toTextObjectWithoutValue(),Ws=AsnConvert.parse(this.value,SubjectKeyIdentifier);return zs[""]=Ws,zs}}SubjectKeyIdentifierExtension.NAME="Subject Key Identifier";class SubjectAlternativeNameExtension extends Extension{constructor(...zs){BufferSourceConverter.isBufferSource(zs[0])?super(zs[0]):super(id_ce_subjectAltName,zs[1],new GeneralNames(zs[0]||[]).rawData)}onInit(zs){super.onInit(zs);const Ws=AsnConvert.parse(zs.extnValue,SubjectAlternativeName);this.names=new GeneralNames(Ws)}toTextObject(){const zs=this.toTextObjectWithoutValue(),Ws=this.names.toTextObject();for(const qs in Ws)zs[qs]=Ws[qs];return zs}}SubjectAlternativeNameExtension.NAME="Subject Alternative Name";class ExtensionFactory{static register(zs,Ws){this.items.set(zs,Ws)}static create(zs){const Ws=new Extension(zs),qs=this.items.get(Ws.type);return qs?new qs(zs):Ws}}ExtensionFactory.items=new Map;class CertificatePolicyExtension extends Extension{constructor(...zs){var Ws;if(BufferSourceConverter.isBufferSource(zs[0])){super(zs[0]);const qs=AsnConvert.parse(this.value,CertificatePolicies);this.policies=qs.map(Ys=>Ys.policyIdentifier)}else{const qs=zs[0],Ys=(Ws=zs[1])!==null&&Ws!==void 0?Ws:!1,Xs=new CertificatePolicies(qs.map(Zs=>new PolicyInformation({policyIdentifier:Zs})));super(id_ce_certificatePolicies,Ys,AsnConvert.serialize(Xs)),this.policies=qs}}toTextObject(){const zs=this.toTextObjectWithoutValue();return zs.Policy=this.policies.map(Ws=>new TextObject("",{},OidSerializer.toString(Ws))),zs}}CertificatePolicyExtension.NAME="Certificate Policies",ExtensionFactory.register(id_ce_certificatePolicies,CertificatePolicyExtension);class CRLDistributionPointsExtension extends Extension{constructor(...zs){var Ws;if(BufferSourceConverter.isBufferSource(zs[0]))super(zs[0]);else if(Array.isArray(zs[0])&&typeof zs[0][0]=="string"){const Ys=zs[0].map(Zs=>new DistributionPoint({distributionPoint:new DistributionPointName({fullName:[new GeneralName$1({uniformResourceIdentifier:Zs})]})})),Xs=new CRLDistributionPoints(Ys);super(id_ce_cRLDistributionPoints,zs[1],AsnConvert.serialize(Xs))}else{const qs=new CRLDistributionPoints(zs[0]);super(id_ce_cRLDistributionPoints,zs[1],AsnConvert.serialize(qs))}(Ws=this.distributionPoints)!==null&&Ws!==void 0||(this.distributionPoints=[])}onInit(zs){super.onInit(zs);const Ws=AsnConvert.parse(zs.extnValue,CRLDistributionPoints);this.distributionPoints=Ws}toTextObject(){const zs=this.toTextObjectWithoutValue();return zs["Distribution Point"]=this.distributionPoints.map(Ws=>{var qs;const Ys={};return Ws.distributionPoint&&(Ys[""]=(qs=Ws.distributionPoint.fullName)===null||qs===void 0?void 0:qs.map(Xs=>new GeneralName(Xs).toString()).join(", ")),Ws.reasons&&(Ys.Reasons=Ws.reasons.toString()),Ws.cRLIssuer&&(Ys["CRL Issuer"]=Ws.cRLIssuer.map(Xs=>Xs.toString()).join(", ")),Ys}),zs}}CRLDistributionPointsExtension.NAME="CRL Distribution Points";class AuthorityInfoAccessExtension extends Extension{constructor(...zs){var Ws,qs,Ys,Xs;if(BufferSourceConverter.isBufferSource(zs[0]))super(zs[0]);else if(zs[0]instanceof AuthorityInfoAccessSyntax){const Zs=new AuthorityInfoAccessSyntax(zs[0]);super(id_pe_authorityInfoAccess,zs[1],AsnConvert.serialize(Zs))}else{const Zs=zs[0],yl=new AuthorityInfoAccessSyntax;addAccessDescriptions(yl,Zs,id_ad_ocsp,"ocsp"),addAccessDescriptions(yl,Zs,id_ad_caIssuers,"caIssuers"),addAccessDescriptions(yl,Zs,id_ad_timeStamping,"timeStamping"),addAccessDescriptions(yl,Zs,id_ad_caRepository,"caRepository"),super(id_pe_authorityInfoAccess,zs[1],AsnConvert.serialize(yl))}(Ws=this.ocsp)!==null&&Ws!==void 0||(this.ocsp=[]),(qs=this.caIssuers)!==null&&qs!==void 0||(this.caIssuers=[]),(Ys=this.timeStamping)!==null&&Ys!==void 0||(this.timeStamping=[]),(Xs=this.caRepository)!==null&&Xs!==void 0||(this.caRepository=[])}onInit(zs){super.onInit(zs),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],AsnConvert.parse(zs.extnValue,AuthorityInfoAccessSyntax).forEach(qs=>{switch(qs.accessMethod){case id_ad_ocsp:this.ocsp.push(new GeneralName(qs.accessLocation));break;case id_ad_caIssuers:this.caIssuers.push(new GeneralName(qs.accessLocation));break;case id_ad_timeStamping:this.timeStamping.push(new GeneralName(qs.accessLocation));break;case id_ad_caRepository:this.caRepository.push(new GeneralName(qs.accessLocation));break}})}toTextObject(){const zs=this.toTextObjectWithoutValue();return this.ocsp.length&&addUrlsToObject(zs,"OCSP",this.ocsp),this.caIssuers.length&&addUrlsToObject(zs,"CA Issuers",this.caIssuers),this.timeStamping.length&&addUrlsToObject(zs,"Time Stamping",this.timeStamping),this.caRepository.length&&addUrlsToObject(zs,"CA Repository",this.caRepository),zs}}AuthorityInfoAccessExtension.NAME="Authority Info Access";function addUrlsToObject(at,zs,Ws){if(Ws.length===1)at[zs]=Ws[0].toTextObject();else{const qs=new TextObject("");Ws.forEach((Ys,Xs)=>{const Zs=Ys.toTextObject(),yl=`${Zs[TextObject.NAME]} ${Xs+1}`;let Js=qs[yl];Array.isArray(Js)||(Js=[],qs[yl]=Js),Js.push(Zs)}),at[zs]=qs}}function addAccessDescriptions(at,zs,Ws,qs){const Ys=zs[qs];Ys&&(Array.isArray(Ys)?Ys:[Ys]).forEach(Zs=>{typeof Zs=="string"&&(Zs=new GeneralName("url",Zs)),at.push(new AccessDescription({accessMethod:Ws,accessLocation:AsnConvert.parse(Zs.rawData,GeneralName$1)}))})}class Attribute extends AsnData{constructor(...zs){let Ws;if(BufferSourceConverter.isBufferSource(zs[0]))Ws=BufferSourceConverter.toArrayBuffer(zs[0]);else{const qs=zs[0],Ys=Array.isArray(zs[1])?zs[1].map(Xs=>BufferSourceConverter.toArrayBuffer(Xs)):[];Ws=AsnConvert.serialize(new Attribute$2({type:qs,values:Ys}))}super(Ws,Attribute$2)}onInit(zs){this.type=zs.type,this.values=zs.values}toTextObject(){const zs=this.toTextObjectWithoutValue();return zs.Value=this.values.map(Ws=>new TextObject("",{"":Ws})),zs}toTextObjectWithoutValue(){const zs=this.toTextObjectEmpty();return zs[TextObject.NAME]===Attribute.NAME&&(zs[TextObject.NAME]=OidSerializer.toString(this.type)),zs}}Attribute.NAME="Attribute";class ChallengePasswordAttribute extends Attribute{constructor(...zs){var Ws;if(BufferSourceConverter.isBufferSource(zs[0]))super(zs[0]);else{const qs=new ChallengePassword({printableString:zs[0]});super(id_pkcs9_at_challengePassword,[AsnConvert.serialize(qs)])}(Ws=this.password)!==null&&Ws!==void 0||(this.password="")}onInit(zs){if(super.onInit(zs),this.values[0]){const Ws=AsnConvert.parse(this.values[0],ChallengePassword);this.password=Ws.toString()}}toTextObject(){const zs=this.toTextObjectWithoutValue();return zs[TextObject.VALUE]=this.password,zs}}ChallengePasswordAttribute.NAME="Challenge Password";class ExtensionsAttribute extends Attribute{constructor(...zs){var Ws;if(BufferSourceConverter.isBufferSource(zs[0]))super(zs[0]);else{const qs=zs[0],Ys=new Extensions;for(const Xs of qs)Ys.push(AsnConvert.parse(Xs.rawData,Extension$1));super(id_pkcs9_at_extensionRequest,[AsnConvert.serialize(Ys)])}(Ws=this.items)!==null&&Ws!==void 0||(this.items=[])}onInit(zs){if(super.onInit(zs),this.values[0]){const Ws=AsnConvert.parse(this.values[0],Extensions);this.items=Ws.map(qs=>ExtensionFactory.create(AsnConvert.serialize(qs)))}}toTextObject(){const zs=this.toTextObjectWithoutValue(),Ws=this.items.map(qs=>qs.toTextObject());for(const qs of Ws)zs[qs[TextObject.NAME]]=qs;return zs}}ExtensionsAttribute.NAME="Extensions";class AttributeFactory{static register(zs,Ws){this.items.set(zs,Ws)}static create(zs){const Ws=new Attribute(zs),qs=this.items.get(Ws.type);return qs?new qs(zs):Ws}}AttributeFactory.items=new Map;const diAsnSignatureFormatter="crypto.signatureFormatter";class AsnDefaultSignatureFormatter{toAsnSignature(zs,Ws){return BufferSourceConverter.toArrayBuffer(Ws)}toWebSignature(zs,Ws){return BufferSourceConverter.toArrayBuffer(Ws)}}var RsaAlgorithm_1;let RsaAlgorithm=RsaAlgorithm_1=class{static createPssParams(zs,Ws){const qs=RsaAlgorithm_1.getHashAlgorithm(zs);return qs?new RsaSaPssParams({hashAlgorithm:qs,maskGenAlgorithm:new AlgorithmIdentifier({algorithm:id_mgf1,parameters:AsnConvert.serialize(qs)}),saltLength:Ws}):null}static getHashAlgorithm(zs){const Ws=instance.resolve(diAlgorithmProvider);return typeof zs=="string"?Ws.toAsnAlgorithm({name:zs}):typeof zs=="object"&&zs&&"name"in zs?Ws.toAsnAlgorithm(zs):null}toAsnAlgorithm(zs){switch(zs.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in zs){let Ws;if(typeof zs.hash=="string")Ws=zs.hash;else if(zs.hash&&typeof zs.hash=="object"&&"name"in zs.hash&&typeof zs.hash.name=="string")Ws=zs.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(Ws.toLowerCase()){case"sha-1":return new AlgorithmIdentifier({algorithm:id_sha1WithRSAEncryption,parameters:null});case"sha-256":return new AlgorithmIdentifier({algorithm:id_sha256WithRSAEncryption,parameters:null});case"sha-384":return new AlgorithmIdentifier({algorithm:id_sha384WithRSAEncryption,parameters:null});case"sha-512":return new AlgorithmIdentifier({algorithm:id_sha512WithRSAEncryption,parameters:null})}}else return new AlgorithmIdentifier({algorithm:id_rsaEncryption,parameters:null});break;case"rsa-pss":if("hash"in zs){if(!("saltLength"in zs&&typeof zs.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");const Ws=RsaAlgorithm_1.createPssParams(zs.hash,zs.saltLength);if(!Ws)throw new Error("Cannot create PSS parameters");return new AlgorithmIdentifier({algorithm:id_RSASSA_PSS,parameters:AsnConvert.serialize(Ws)})}else return new AlgorithmIdentifier({algorithm:id_RSASSA_PSS,parameters:null})}return null}toWebAlgorithm(zs){switch(zs.algorithm){case id_rsaEncryption:return{name:"RSASSA-PKCS1-v1_5"};case id_sha1WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case id_sha256WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case id_sha384WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case id_sha512WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case id_RSASSA_PSS:if(zs.parameters){const Ws=AsnConvert.parse(zs.parameters,RsaSaPssParams);return{name:"RSA-PSS",hash:instance.resolve(diAlgorithmProvider).toWebAlgorithm(Ws.hashAlgorithm),saltLength:Ws.saltLength}}else return{name:"RSA-PSS"}}return null}};RsaAlgorithm=RsaAlgorithm_1=__decorate$2([injectable()],RsaAlgorithm),instance.registerSingleton(diAlgorithm,RsaAlgorithm);let ShaAlgorithm=class{toAsnAlgorithm(zs){switch(zs.name.toLowerCase()){case"sha-1":return new AlgorithmIdentifier({algorithm:id_sha1});case"sha-256":return new AlgorithmIdentifier({algorithm:id_sha256});case"sha-384":return new AlgorithmIdentifier({algorithm:id_sha384});case"sha-512":return new AlgorithmIdentifier({algorithm:id_sha512})}return null}toWebAlgorithm(zs){switch(zs.algorithm){case id_sha1:return{name:"SHA-1"};case id_sha256:return{name:"SHA-256"};case id_sha384:return{name:"SHA-384"};case id_sha512:return{name:"SHA-512"}}return null}};ShaAlgorithm=__decorate$2([injectable()],ShaAlgorithm),instance.registerSingleton(diAlgorithm,ShaAlgorithm);class AsnEcSignatureFormatter{addPadding(zs,Ws){const qs=BufferSourceConverter.toUint8Array(Ws),Ys=new Uint8Array(zs);return Ys.set(qs,zs-qs.length),Ys}removePadding(zs,Ws=!1){let qs=BufferSourceConverter.toUint8Array(zs);for(let Ys=0;Ys<qs.length;Ys++)if(qs[Ys]){qs=qs.slice(Ys);break}if(Ws&&qs[0]>127){const Ys=new Uint8Array(qs.length+1);return Ys.set(qs,1),Ys.buffer}return qs.buffer}toAsnSignature(zs,Ws){if(zs.name==="ECDSA"){const qs=zs.namedCurve,Ys=AsnEcSignatureFormatter.namedCurveSize.get(qs)||AsnEcSignatureFormatter.defaultNamedCurveSize,Xs=new ECDSASigValue,Zs=BufferSourceConverter.toUint8Array(Ws);return Xs.r=this.removePadding(Zs.slice(0,Ys),!0),Xs.s=this.removePadding(Zs.slice(Ys,Ys+Ys),!0),AsnConvert.serialize(Xs)}return null}toWebSignature(zs,Ws){if(zs.name==="ECDSA"){const qs=AsnConvert.parse(Ws,ECDSASigValue),Ys=zs.namedCurve,Xs=AsnEcSignatureFormatter.namedCurveSize.get(Ys)||AsnEcSignatureFormatter.defaultNamedCurveSize,Zs=this.addPadding(Xs,this.removePadding(qs.r)),yl=this.addPadding(Xs,this.removePadding(qs.s));return combine(Zs,yl)}return null}}AsnEcSignatureFormatter.namedCurveSize=new Map,AsnEcSignatureFormatter.defaultNamedCurveSize=32;const idX25519="1.3.101.110",idX448="1.3.101.111",idEd25519="1.3.101.112",idEd448="1.3.101.113";let EdAlgorithm=class{toAsnAlgorithm(zs){let Ws=null;switch(zs.name.toLowerCase()){case"ed25519":Ws=idEd25519;break;case"x25519":Ws=idX25519;break;case"eddsa":switch(zs.namedCurve.toLowerCase()){case"ed25519":Ws=idEd25519;break;case"ed448":Ws=idEd448;break}break;case"ecdh-es":switch(zs.namedCurve.toLowerCase()){case"x25519":Ws=idX25519;break;case"x448":Ws=idX448;break}}return Ws?new AlgorithmIdentifier({algorithm:Ws}):null}toWebAlgorithm(zs){switch(zs.algorithm){case idEd25519:return{name:"Ed25519"};case idEd448:return{name:"EdDSA",namedCurve:"Ed448"};case idX25519:return{name:"X25519"};case idX448:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};EdAlgorithm=__decorate$2([injectable()],EdAlgorithm),instance.registerSingleton(diAlgorithm,EdAlgorithm);class Pkcs10CertificateRequest extends PemData{constructor(zs){PemData.isAsnEncoded(zs)?super(zs,CertificationRequest):super(zs),this.tag=PemConverter.CertificateRequestTag}onInit(zs){this.tbs=AsnConvert.serialize(zs.certificationRequestInfo),this.publicKey=new PublicKey(zs.certificationRequestInfo.subjectPKInfo);const Ws=instance.resolve(diAlgorithmProvider);this.signatureAlgorithm=Ws.toWebAlgorithm(zs.signatureAlgorithm),this.signature=zs.signature,this.attributes=zs.certificationRequestInfo.attributes.map(Ys=>AttributeFactory.create(AsnConvert.serialize(Ys)));const qs=this.getAttribute(id_pkcs9_at_extensionRequest);this.extensions=[],qs instanceof ExtensionsAttribute&&(this.extensions=qs.items),this.subjectName=new Name(zs.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(zs){for(const Ws of this.attributes)if(Ws.type===zs)return Ws;return null}getAttributes(zs){return this.attributes.filter(Ws=>Ws.type===zs)}getExtension(zs){for(const Ws of this.extensions)if(Ws.type===zs)return Ws;return null}getExtensions(zs){return this.extensions.filter(Ws=>Ws.type===zs)}async verify(zs=cryptoProvider.get()){const Ws={...this.publicKey.algorithm,...this.signatureAlgorithm},qs=await this.publicKey.export(Ws,["verify"],zs),Ys=instance.resolveAll(diAsnSignatureFormatter).reverse();let Xs=null;for(const yl of Ys)if(Xs=yl.toWebSignature(Ws,this.signature),Xs)break;if(!Xs)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await zs.subtle.verify(this.signatureAlgorithm,qs,Xs,this.tbs)}toTextObject(){const zs=this.toTextObjectEmpty(),Ws=AsnConvert.parse(this.rawData,CertificationRequest),qs=Ws.certificationRequestInfo,Ys=new TextObject("",{Version:`${Version$1[qs.version]} (${qs.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const Xs=new TextObject("");for(const Zs of this.attributes){const yl=Zs.toTextObject();Xs[yl[TextObject.NAME]]=yl}Ys.Attributes=Xs}return zs.Data=Ys,zs.Signature=new TextObject("",{Algorithm:TextConverter.serializeAlgorithm(Ws.signatureAlgorithm),"":Ws.signature}),zs}}Pkcs10CertificateRequest.NAME="PKCS#10 Certificate Request";class X509Certificate extends PemData{constructor(zs){PemData.isAsnEncoded(zs)?super(zs,Certificate):super(zs),this.tag=PemConverter.CertificateTag}onInit(zs){const Ws=zs.tbsCertificate;this.tbs=AsnConvert.serialize(Ws),this.serialNumber=Convert.ToHex(Ws.serialNumber),this.subjectName=new Name(Ws.subject),this.subject=new Name(Ws.subject).toString(),this.issuerName=new Name(Ws.issuer),this.issuer=this.issuerName.toString();const qs=instance.resolve(diAlgorithmProvider);this.signatureAlgorithm=qs.toWebAlgorithm(zs.signatureAlgorithm),this.signature=zs.signatureValue;const Ys=Ws.validity.notBefore.utcTime||Ws.validity.notBefore.generalTime;if(!Ys)throw new Error("Cannot get 'notBefore' value");this.notBefore=Ys;const Xs=Ws.validity.notAfter.utcTime||Ws.validity.notAfter.generalTime;if(!Xs)throw new Error("Cannot get 'notAfter' value");this.notAfter=Xs,this.extensions=[],Ws.extensions&&(this.extensions=Ws.extensions.map(Zs=>ExtensionFactory.create(AsnConvert.serialize(Zs)))),this.publicKey=new PublicKey(Ws.subjectPublicKeyInfo)}getExtension(zs){for(const Ws of this.extensions)if(typeof zs=="string"){if(Ws.type===zs)return Ws}else if(Ws instanceof zs)return Ws;return null}getExtensions(zs){return this.extensions.filter(Ws=>typeof zs=="string"?Ws.type===zs:Ws instanceof zs)}async verify(zs={},Ws=cryptoProvider.get()){let qs,Ys;const Xs=zs.publicKey;try{if(!Xs)qs={...this.publicKey.algorithm,...this.signatureAlgorithm},Ys=await this.publicKey.export(qs,["verify"],Ws);else if("publicKey"in Xs)qs={...Xs.publicKey.algorithm,...this.signatureAlgorithm},Ys=await Xs.publicKey.export(qs,["verify"],Ws);else if(Xs instanceof PublicKey)qs={...Xs.algorithm,...this.signatureAlgorithm},Ys=await Xs.export(qs,["verify"],Ws);else if(BufferSourceConverter.isBufferSource(Xs)){const $l=new PublicKey(Xs);qs={...$l.algorithm,...this.signatureAlgorithm},Ys=await $l.export(qs,["verify"],Ws)}else qs={...Xs.algorithm,...this.signatureAlgorithm},Ys=Xs}catch{return!1}const Zs=instance.resolveAll(diAsnSignatureFormatter).reverse();let yl=null;for(const $l of Zs)if(yl=$l.toWebSignature(qs,this.signature),yl)break;if(!yl)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const Js=await Ws.subtle.verify(this.signatureAlgorithm,Ys,yl,this.tbs);if(zs.signatureOnly)return Js;{const El=(zs.date||new Date).getTime();return Js&&this.notBefore.getTime()<El&&El<this.notAfter.getTime()}}async getThumbprint(...zs){let Ws,qs="SHA-1";return zs[0]&&(zs[0].subtle?Ws=zs[0]:(qs=zs[0]||qs,Ws=zs[1])),Ws??(Ws=cryptoProvider.get()),await Ws.subtle.digest(qs,this.rawData)}async isSelfSigned(zs=cryptoProvider.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},zs)}toTextObject(){const zs=this.toTextObjectEmpty(),Ws=AsnConvert.parse(this.rawData,Certificate),qs=Ws.tbsCertificate,Ys=new TextObject("",{Version:`${Version$1[qs.version]} (${qs.version})`,"Serial Number":qs.serialNumber,"Signature Algorithm":TextConverter.serializeAlgorithm(qs.signature),Issuer:this.issuer,Validity:new TextObject("",{"Not Before":qs.validity.notBefore.getTime(),"Not After":qs.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(qs.issuerUniqueID&&(Ys["Issuer Unique ID"]=qs.issuerUniqueID),qs.subjectUniqueID&&(Ys["Subject Unique ID"]=qs.subjectUniqueID),this.extensions.length){const Xs=new TextObject("");for(const Zs of this.extensions){const yl=Zs.toTextObject();Xs[yl[TextObject.NAME]]=yl}Ys.Extensions=Xs}return zs.Data=Ys,zs.Signature=new TextObject("",{Algorithm:TextConverter.serializeAlgorithm(Ws.signatureAlgorithm),"":Ws.signatureValue}),zs}}X509Certificate.NAME="Certificate";class X509Certificates extends Array{constructor(zs){if(super(),PemData.isAsnEncoded(zs))this.import(zs);else if(zs instanceof X509Certificate)this.push(zs);else if(Array.isArray(zs))for(const Ws of zs)this.push(Ws)}export(zs){const Ws=new SignedData;Ws.version=1,Ws.encapContentInfo.eContentType=id_data,Ws.encapContentInfo.eContent=new EncapsulatedContent({single:new OctetString}),Ws.certificates=new CertificateSet(this.map(Xs=>new CertificateChoices({certificate:AsnConvert.parse(Xs.rawData,Certificate)})));const qs=new ContentInfo({contentType:id_signedData,content:AsnConvert.serialize(Ws)}),Ys=AsnConvert.serialize(qs);return zs==="raw"?Ys:this.toString(zs)}import(zs){const Ws=PemData.toArrayBuffer(zs),qs=AsnConvert.parse(Ws,ContentInfo);if(qs.contentType!==id_signedData)throw new TypeError("Cannot parse CMS package. Incoming data is not a SignedData object.");const Ys=AsnConvert.parse(qs.content,SignedData);this.clear();for(const Xs of Ys.certificates||[])Xs.certificate&&this.push(new X509Certificate(Xs.certificate))}clear(){for(;this.pop(););}toString(zs="pem"){const Ws=this.export("raw");switch(zs){case"pem":return PemConverter.encode(Ws,"CMS");case"pem-chain":return this.map(qs=>qs.toString("pem")).join(`
`);case"asn":return AsnConvert.toString(Ws);case"hex":return Convert.ToHex(Ws);case"base64":return Convert.ToBase64(Ws);case"base64url":return Convert.ToBase64Url(Ws);case"text":return TextConverter.serialize(this.toTextObject());default:throw TypeError("Argument 'format' is unsupported value")}}toTextObject(){const zs=AsnConvert.parse(this.export("raw"),ContentInfo),Ws=AsnConvert.parse(zs.content,SignedData);return new TextObject("X509Certificates",{"Content Type":OidSerializer.toString(zs.contentType),Content:new TextObject("",{Version:`${CMSVersion[Ws.version]} (${Ws.version})`,Certificates:new TextObject("",{Certificate:this.map(Ys=>Ys.toTextObject())})})})}}class X509ChainBuilder{constructor(zs={}){this.certificates=[],zs.certificates&&(this.certificates=zs.certificates)}async build(zs,Ws=cryptoProvider.get()){const qs=new X509Certificates(zs);let Ys=zs;for(;Ys=await this.findIssuer(Ys,Ws);){const Xs=await Ys.getThumbprint(Ws);for(const Zs of qs){const yl=await Zs.getThumbprint(Ws);if(isEqual(Xs,yl))throw new Error("Cannot build a certificate chain. Circular dependency.")}qs.push(Ys)}return qs}async findIssuer(zs,Ws=cryptoProvider.get()){if(!await zs.isSelfSigned(Ws)){const qs=zs.getExtension(id_ce_authorityKeyIdentifier);for(const Ys of this.certificates)if(Ys.subject===zs.issuer){if(qs){if(qs.keyId){const Xs=Ys.getExtension(id_ce_subjectKeyIdentifier);if(Xs&&Xs.keyId!==qs.keyId)continue}else if(qs.certId){const Xs=Ys.getExtension(id_ce_subjectAltName);if(Xs&&!(qs.certId.serialNumber===Ys.serialNumber&&isEqual(AsnConvert.serialize(qs.certId.name),AsnConvert.serialize(Xs))))continue}}try{const Xs={...Ys.publicKey.algorithm,...zs.signatureAlgorithm},Zs=await Ys.publicKey.export(Xs,["verify"],Ws);if(!await zs.verify({publicKey:Zs,signatureOnly:!0},Ws))continue}catch{continue}return Ys}}return null}}var X509CrlReason;(function(at){at[at.unspecified=0]="unspecified",at[at.keyCompromise=1]="keyCompromise",at[at.cACompromise=2]="cACompromise",at[at.affiliationChanged=3]="affiliationChanged",at[at.superseded=4]="superseded",at[at.cessationOfOperation=5]="cessationOfOperation",at[at.certificateHold=6]="certificateHold",at[at.removeFromCRL=8]="removeFromCRL",at[at.privilegeWithdrawn=9]="privilegeWithdrawn",at[at.aACompromise=10]="aACompromise"})(X509CrlReason||(X509CrlReason={})),ExtensionFactory.register(id_ce_basicConstraints,BasicConstraintsExtension),ExtensionFactory.register(id_ce_extKeyUsage,ExtendedKeyUsageExtension),ExtensionFactory.register(id_ce_keyUsage,KeyUsagesExtension),ExtensionFactory.register(id_ce_subjectKeyIdentifier,SubjectKeyIdentifierExtension),ExtensionFactory.register(id_ce_authorityKeyIdentifier,AuthorityKeyIdentifierExtension),ExtensionFactory.register(id_ce_subjectAltName,SubjectAlternativeNameExtension),ExtensionFactory.register(id_ce_cRLDistributionPoints,CRLDistributionPointsExtension),ExtensionFactory.register(id_pe_authorityInfoAccess,AuthorityInfoAccessExtension),AttributeFactory.register(id_pkcs9_at_challengePassword,ChallengePasswordAttribute),AttributeFactory.register(id_pkcs9_at_extensionRequest,ExtensionsAttribute),instance.registerSingleton(diAsnSignatureFormatter,AsnDefaultSignatureFormatter),instance.registerSingleton(diAsnSignatureFormatter,AsnEcSignatureFormatter),AsnEcSignatureFormatter.namedCurveSize.set("P-256",32),AsnEcSignatureFormatter.namedCurveSize.set("K-256",32),AsnEcSignatureFormatter.namedCurveSize.set("P-384",48),AsnEcSignatureFormatter.namedCurveSize.set("P-521",66);const getCryptoInstance=async()=>{var zs;let at;if(typeof globalThis<"u"&&((zs=globalThis.crypto)!=null&&zs.subtle))return at=globalThis.crypto,cryptoProvider.set(at),at;throw new Error("Web Crypto API is not available in this environment. You may need to polyfill it.")};async function sha256Hex(at){const Ws=await(await getCryptoInstance()).subtle.digest("SHA-256",at);return uint8ArrayToHexString(new Uint8Array(Ws)).toUpperCase()}async function importEcdsaPublicKey(at){return(await getCryptoInstance()).subtle.importKey("spki",at,{name:"ECDSA",namedCurve:"P-384"},!1,["verify"])}async function verify(at,zs){verifyAppProofSignature(at);const Ws=Uint8Array.from(atob(zs.awsAttestationDocB64).split("").map(wl=>wl.charCodeAt(0))),qs=cborExports.decode(Ws.buffer),[,,Ys]=qs,Xs=cborExports.decode(new Uint8Array(Ys).buffer);await verifyCoseSign1Sig(qs,Xs.certificate);const Zs=parseInt(JSON.parse(at.proofPayload).timestampMs);await verifyCertificateChain(Xs.cabundle,AWS_ROOT_CERT_PEM,Xs.certificate,Zs);const yl=Uint8Array.from(atob(zs.qosManifestB64).split("").map(wl=>wl.charCodeAt(0))),Js=sha256$3(yl);if(!bytesEq(Js,Xs.user_data))throw new Error(`attestationDoc's user_data doesn't match the hash of the manifest. attestationDoc.user_data: ${Xs.user_data} , manifest digest: ${Js}`);const $l=new Uint8Array(Xs.public_key),El=uint8ArrayToHexString($l);if(at.publicKey!==El||El!==zs.ephemeralPublicKeyHex)throw new Error(`Ephemeral pub keys from app proof: ${at.publicKey}, boot proof structure ${zs.ephemeralPublicKeyHex}, and attestation doc ${El} should all match`)}function verifyAppProofSignature(at){if(at.scheme!=="SIGNATURE_SCHEME_EPHEMERAL_KEY_P256")throw new Error("Unsupported signature scheme");let zs;try{zs=uint8ArrayFromHexString(at.publicKey)}catch{throw new Error("Failed to decode public key")}if(zs.length!==130)throw new Error(`Expected 130 bytes (encryption + signing pub keys), got ${zs.length} bytes`);const Ws=zs.slice(65);if(Ws.length!==65||Ws[0]!==4)throw new Error("Invalid signing key format: expected 65-byte uncompressed P-256 point (0x04||X||Y)");try{p256$2.ProjectivePoint.fromHex(Ws)}catch(yl){throw new Error(`Invalid P-256 public key: ${yl}`)}let qs;try{qs=uint8ArrayFromHexString(at.signature)}catch{throw new Error("Failed to decode signature")}if(qs.length!==64)throw new Error(`Expected 64 bytes signature (r||s), got ${qs.length} bytes`);const Ys=new TextEncoder().encode(at.proofPayload),Xs=sha256$3(Ys);if(!p256$2.verify(qs,Xs,Ws))throw new Error("Signature verification failed")}async function verifyCertificateChain(at,zs,Ws,qs){try{const Ys=new X509Certificate(zs),Xs=new Uint8Array(Ys.rawData),Zs=await sha256Hex(Xs);if(Zs!==AWS_ROOT_CERT_SHA256)throw new Error(`Pinned AWS root fingerprint mismatch: expected=${AWS_ROOT_CERT_SHA256} actual=${Zs}`);const Js=at.slice(1).map(Sl=>{if(!Sl)throw new Error("Invalid certificate data in cabundle");return new X509Certificate(Sl)}),$l=new X509Certificate(Ws),wl=await new X509ChainBuilder({certificates:[Ys,...Js]}).build($l);if(wl.length!==Js.length+2)throw new Error(`Incorrect number of certs in X509 Chain. Expected ${Js.length+2}, got ${wl.length}`);const _l=new Date(qs);for(let Sl=0;Sl<wl.length;Sl++){const Tl=wl[Sl];if(!Tl)throw new Error("Invalid certificate in chain");if(Sl===wl.length-1){if(!await Tl.verify({publicKey:Tl.publicKey,date:_l}))throw new Error("Pinned root failed self-signature verification")}else{const Il=wl[Sl+1];if(!Il)throw new Error("Issuer can't be null");if(!await Tl.verify({publicKey:Il.publicKey,signatureOnly:!0,date:_l}))throw new Error(`Signature check failed: ${Tl.subject} not signed by ${Il==null?void 0:Il.subject}`)}}}catch(Ys){throw new Error(`Certificate chain verification failed: ${Ys instanceof Error?Ys.message:String(Ys)}`)}}async function verifyCoseSign1Sig(at,zs){const[Ws,,qs,Ys]=at,Xs=new Uint8Array(cborExports.encode(["Signature1",new Uint8Array(Ws),new Uint8Array(0),new Uint8Array(qs)])),Zs=new X509Certificate(zs),yl=await importEcdsaPublicKey(Zs.publicKey.rawData);if(!await(await getCryptoInstance()).subtle.verify({name:"ECDSA",hash:{name:"SHA-384"}},yl,new Uint8Array(Ys),Xs))throw new Error("COSE_Sign1 ES384 verification failed")}function bytesEq(at,zs){const Ws=new Uint8Array(at),qs=new Uint8Array(zs);if(Ws.length!==qs.length)return!1;for(let Ys=0;Ys<Ws.length;Ys++)if(Ws[Ys]!==qs[Ys])return!1;return!0}const index$3=Object.freeze(Object.defineProperty({__proto__:null,get Enclave(){return Enclave},compressRawPublicKey,fromDerSignature,generateP256KeyPair,getCryptoInstance,getPublicKey,toDerSignature,uncompressRawPublicKey,verify,verifyAppProofSignature,verifyCertificateChain,verifyCoseSign1Sig},Symbol.toStringTag,{value:"Module"}));/**
 * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
 *
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fromHex$3(at){if(at.length%2!=0)throw new Error("Hex string length must be multiple of 2");const zs=new Uint8Array(at.length/2);for(let Ws=0;Ws<at.length;Ws+=2)zs[Ws/2]=parseInt(at.substring(Ws,Ws+2),16);return zs}function toHex$4(at){let zs="";for(let Ws=0;Ws<at.length;Ws++){const qs=at[Ws].toString(16);zs+=qs.length>1?qs:"0"+qs}return zs}function toBase64(at,zs){return btoa(toByteString(at)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toByteString(at){let zs="";for(let Ws=0;Ws<at.length;Ws+=1)zs+=String.fromCharCode(at[Ws]);return zs}/**
 * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
 * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
 * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
 * - Method isP256CurvePoint added to check whether an uncompressed point is valid
 *
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getModulus(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function getB(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function byteArrayToInteger(at){return BigInt("0x"+toHex$4(at))}function integerToByteArray(at,zs){const Ws=at.toString(16),qs=zs*2;let Ys="";if(qs<Ws.length)throw new Error(`cannot pack integer with ${Ws.length} hex chars into ${zs} bytes`);return Ys="0".repeat(qs-Ws.length),fromHex$3(Ys+Ws)}function testBit(at,zs){const Ws=BigInt(1)<<BigInt(zs);return(at&Ws)!==BigInt(0)}function modPow(at,zs,Ws){if(zs===BigInt(0))return BigInt(1);let qs=at;const Ys=zs.toString(2);for(let Xs=1;Xs<Ys.length;++Xs)qs=qs*qs%Ws,Ys[Xs]==="1"&&(qs=qs*at%Ws);return qs}function modSqrt(at,zs){if(zs<=BigInt(0))throw new Error("p must be positive");const Ws=at%zs;if(testBit(zs,0)&&testBit(zs,1)){const qs=zs+BigInt(1)>>BigInt(2),Ys=modPow(Ws,qs,zs);if(Ys*Ys%zs!==Ws)throw new Error("could not find a modular square root");return Ys}throw new Error("unsupported modulus value")}function getY(at,zs){const Ws=getModulus(),qs=Ws-BigInt(3),Ys=getB(),Xs=((at*at+qs)*at+Ys)%Ws;let Zs=modSqrt(Xs,Ws);return zs!==testBit(Zs,0)&&(Zs=(Ws-Zs)%Ws),Zs}function isP256CurvePoint(at,zs){const Ws=getModulus(),qs=Ws-BigInt(3),Ys=getB(),Xs=((at*at+qs)*at+Ys)%Ws;return zs**BigInt(2)%Ws===Xs}function pointDecode(at){const zs=fieldSizeInBytes(),Ws=zs+1,qs=2*zs+1;if(at.length!==Ws&&at.length!==qs)throw new Error("Invalid length: point is not in compressed or uncompressed format");if((at[0]===2||at[0]===3)&&at.length==Ws){const Ys=at[0]===3,Xs=byteArrayToInteger(at.subarray(1,at.length)),Zs=getModulus();if(Xs<BigInt(0)||Xs>=Zs)throw new Error("x is out of range");const yl=getY(Xs,Ys);return{kty:"EC",crv:"P-256",x:toBase64(integerToByteArray(Xs,32)),y:toBase64(integerToByteArray(yl,32)),ext:!0}}else if(at[0]===4&&at.length==qs){const Ys=byteArrayToInteger(at.subarray(1,zs+1)),Xs=byteArrayToInteger(at.subarray(zs+1,2*zs+1)),Zs=getModulus();if(Ys<BigInt(0)||Ys>=Zs||Xs<BigInt(0)||Xs>=Zs||!isP256CurvePoint(Ys,Xs))throw new Error("invalid uncompressed x and y coordinates");return{kty:"EC",crv:"P-256",x:toBase64(integerToByteArray(Ys,32)),y:toBase64(integerToByteArray(Xs,32)),ext:!0}}throw new Error("invalid format")}function fieldSizeInBytes(){return 32}const stampHeaderName$3="X-Stamp";var SignatureFormat;(function(at){at.Der="der",at.Raw="raw"})(SignatureFormat||(SignatureFormat={}));const isCryptoEnabledBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",isNode$1=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,detectRuntime=()=>isCryptoEnabledBrowser?"browser":isNode$1?"node":"purejs",signWithApiKey$3=async(at,zs)=>{const Ws=zs??detectRuntime();switch(Ws){case"browser":return(await __vitePreload(async()=>{const{signWithApiKey:qs}=await Promise.resolve().then(()=>webcrypto);return{signWithApiKey:qs}},void 0)).signWithApiKey(at);case"node":return(await __vitePreload(async()=>{const{signWithApiKey:qs}=await Promise.resolve().then(()=>nodecrypto);return{signWithApiKey:qs}},void 0)).signWithApiKey(at);case"purejs":return(await __vitePreload(async()=>{const{signWithApiKey:qs}=await Promise.resolve().then(()=>purejs);return{signWithApiKey:qs}},void 0)).signWithApiKey(at);default:throw new Error(`Unsupported runtime: ${Ws}`)}};class ApiKeyStamper{constructor(zs){this.apiPublicKey=zs.apiPublicKey,this.apiPrivateKey=zs.apiPrivateKey,this.runtimeOverride=zs.runtimeOverride}async stamp(zs){const Ws=await signWithApiKey$3({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:zs},this.runtimeOverride),qs={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:Ws};return{stampHeaderName:stampHeaderName$3,stampHeaderValue:stringToBase64urlString(JSON.stringify(qs))}}async sign(zs,Ws){switch(Ws){case SignatureFormat.Raw:{const qs=await signWithApiKey$3({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:zs},this.runtimeOverride),Ys=fromDerSignature(qs);return uint8ArrayToHexString(Ys)}case SignatureFormat.Der:return signWithApiKey$3({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:zs},this.runtimeOverride);default:throw new Error(`Unsupported signature format: ${Ws}`)}}}function bufferToBase64url$1(at){const zs=new Uint8Array(at);let Ws="";for(const Xs of zs)Ws+=String.fromCharCode(Xs);return btoa(Ws).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const copyValue$1="copy",convertValue$1="convert";function convert$3(at,zs,Ws){if(zs===copyValue$1)return Ws;if(zs===convertValue$1)return at(Ws);if(zs instanceof Array)return Ws.map(qs=>convert$3(at,zs[0],qs));if(zs instanceof Object){const qs={};for(const[Ys,Xs]of Object.entries(zs)){if(Xs.derive){const Zs=Xs.derive(Ws);Zs!==void 0&&(Ws[Ys]=Zs)}if(!(Ys in Ws)){if(Xs.required)throw new Error(`Missing key: ${Ys}`);continue}if(Ws[Ys]==null){qs[Ys]=null;continue}qs[Ys]=convert$3(at,Xs.schema,Ws[Ys])}return qs}}function derived$1(at,zs){return{required:!0,schema:at,derive:zs}}function required$1(at){return{required:!0,schema:at}}function optional$1(at){return{required:!1,schema:at}}const simplifiedClientExtensionResultsSchema$1={appid:optional$1(copyValue$1),appidExclude:optional$1(copyValue$1),credProps:optional$1(copyValue$1)},publicKeyCredentialWithAssertion={type:required$1(copyValue$1),id:required$1(copyValue$1),rawId:required$1(convertValue$1),authenticatorAttachment:optional$1(copyValue$1),response:required$1({clientDataJSON:required$1(convertValue$1),authenticatorData:required$1(convertValue$1),signature:required$1(convertValue$1),userHandle:required$1(convertValue$1)}),clientExtensionResults:derived$1(simplifiedClientExtensionResultsSchema$1,at=>at.getClientExtensionResults())};function getResponseToJSON(at){return convert$3(bufferToBase64url$1,publicKeyCredentialWithAssertion,at)}async function get$2(at){const zs=await navigator.credentials.get(at);return zs.toJSON=()=>getResponseToJSON(zs),zs}const K$7=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function createHash$1(at){return new Hash$1}let Hash$1=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!sharedBuffer||sharedOffset>=8e3)&&(sharedBuffer=new ArrayBuffer(8e3),sharedOffset=0),this._byte=new Uint8Array(sharedBuffer,sharedOffset,80),this._word=new Int32Array(sharedBuffer,sharedOffset,20),sharedOffset+=80}update(zs){if(typeof zs=="string")return this._utf8(zs);if(zs==null)throw new TypeError("Invalid type: "+typeof zs);const Ws=zs.byteOffset,qs=zs.byteLength;let Ys=qs/64|0,Xs=0;if(Ys&&!(Ws&3)&&!(this._size%64)){const yl=new Int32Array(zs.buffer,Ws,Ys*16);for(;Ys--;)this._int32(yl,Xs>>2),Xs+=64;this._size+=Xs}if(zs.BYTES_PER_ELEMENT!==1&&zs.buffer){const yl=new Uint8Array(zs.buffer,Ws+Xs,qs-Xs);return this._uint8(yl)}return Xs===qs?this:this._uint8(zs,Xs)}_uint8(zs,Ws){const{_byte:qs,_word:Ys}=this,Xs=zs.length;for(Ws=Ws|0;Ws<Xs;){const Zs=this._size%64;let yl=Zs;for(;Ws<Xs&&yl<64;)qs[yl++]=zs[Ws++];yl>=64&&this._int32(Ys),this._size+=yl-Zs}return this}_utf8(zs){const{_byte:Ws,_word:qs}=this,Ys=zs.length;let Xs=this._sp;for(let Zs=0;Zs<Ys;){const yl=this._size%64;let Js=yl;for(;Zs<Ys&&Js<64;){let $l=zs.charCodeAt(Zs++)|0;$l<128?Ws[Js++]=$l:$l<2048?(Ws[Js++]=192|$l>>>6,Ws[Js++]=128|$l&63):$l<55296||$l>57343?(Ws[Js++]=224|$l>>>12,Ws[Js++]=128|$l>>>6&63,Ws[Js++]=128|$l&63):Xs?($l=((Xs&1023)<<10)+($l&1023)+65536,Ws[Js++]=240|$l>>>18,Ws[Js++]=128|$l>>>12&63,Ws[Js++]=128|$l>>>6&63,Ws[Js++]=128|$l&63,Xs=0):Xs=$l}Js>=64&&(this._int32(qs),qs[0]=qs[16]),this._size+=Js-yl}return this._sp=Xs,this}_int32(zs,Ws){let{A:qs,B:Ys,C:Xs,D:Zs,E:yl,F:Js,G:$l,H:El}=this,wl=0;for(Ws=Ws|0;wl<16;)W$6[wl++]=swap32(zs[Ws++]);for(wl=16;wl<64;wl++)W$6[wl]=gamma1(W$6[wl-2])+W$6[wl-7]+gamma0(W$6[wl-15])+W$6[wl-16]|0;for(wl=0;wl<64;wl++){const _l=El+sigma1(yl)+ch(yl,Js,$l)+K$7[wl]+W$6[wl]|0,Sl=sigma0(qs)+maj(qs,Ys,Xs)|0;El=$l,$l=Js,Js=yl,yl=Zs+_l|0,Zs=Xs,Xs=Ys,Ys=qs,qs=_l+Sl|0}this.A=qs+this.A|0,this.B=Ys+this.B|0,this.C=Xs+this.C|0,this.D=Zs+this.D|0,this.E=yl+this.E|0,this.F=Js+this.F|0,this.G=$l+this.G|0,this.H=El+this.H|0}digest(zs){const{_byte:Ws,_word:qs}=this;let Ys=this._size%64|0;for(Ws[Ys++]=128;Ys&3;)Ws[Ys++]=0;if(Ys>>=2,Ys>14){for(;Ys<16;)qs[Ys++]=0;Ys=0,this._int32(qs)}for(;Ys<16;)qs[Ys++]=0;const Xs=this._size*8,Zs=(Xs&4294967295)>>>0,yl=(Xs-Zs)/4294967296;return yl&&(qs[14]=swap32(yl)),Zs&&(qs[15]=swap32(Zs)),this._int32(qs),zs==="hex"?this._hex():this._bin()}_hex(){const{A:zs,B:Ws,C:qs,D:Ys,E:Xs,F:Zs,G:yl,H:Js}=this;return hex32(zs)+hex32(Ws)+hex32(qs)+hex32(Ys)+hex32(Xs)+hex32(Zs)+hex32(yl)+hex32(Js)}_bin(){const{A:zs,B:Ws,C:qs,D:Ys,E:Xs,F:Zs,G:yl,H:Js,_byte:$l,_word:El}=this;return El[0]=swap32(zs),El[1]=swap32(Ws),El[2]=swap32(qs),El[3]=swap32(Ys),El[4]=swap32(Xs),El[5]=swap32(Zs),El[6]=swap32(yl),El[7]=swap32(Js),$l.slice(0,32)}};const W$6=new Int32Array(64);let sharedBuffer,sharedOffset=0;const hex32=at=>(at+4294967296).toString(16).substr(-8),swapLE=at=>at<<24&4278190080|at<<8&16711680|at>>8&65280|at>>24&255,swapBE=at=>at,swap32=isBE()?swapBE:swapLE,ch=(at,zs,Ws)=>Ws^at&(zs^Ws),maj=(at,zs,Ws)=>at&zs|Ws&(at|zs),sigma0=at=>(at>>>2|at<<30)^(at>>>13|at<<19)^(at>>>22|at<<10),sigma1=at=>(at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7),gamma0=at=>(at>>>7|at<<25)^(at>>>18|at<<14)^at>>>3,gamma1=at=>(at>>>17|at<<15)^(at>>>19|at<<13)^at>>>10;function isBE(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}const stampHeaderName$2="X-Stamp-Webauthn",defaultTimeout=5*60*1e3,defaultUserVerification="preferred";class WebauthnStamper{constructor(zs){this.rpId=zs.rpId,this.timeout=zs.timeout||defaultTimeout,this.userVerification=zs.userVerification||defaultUserVerification,this.allowCredentials=zs.allowCredentials||[]}async stamp(zs){const Ws=getChallengeFromPayload(zs),qs={publicKey:{rpId:this.rpId,challenge:Ws,allowCredentials:this.allowCredentials,timeout:this.timeout,userVerification:this.userVerification}},Xs=(await get$2(qs)).toJSON(),Zs={authenticatorData:Xs.response.authenticatorData,clientDataJson:Xs.response.clientDataJSON,credentialId:Xs.id,signature:Xs.response.signature};return{stampHeaderName:stampHeaderName$2,stampHeaderValue:JSON.stringify(Zs)}}}function getChallengeFromPayload(at){const zs=createHash$1().update(at).digest("hex");return new TextEncoder().encode(zs)}var StamperType;(function(at){at.ApiKey="api-key",at.Passkey="passkey",at.Wallet="wallet"})(StamperType||(StamperType={}));var SessionKey;(function(at){at.DefaultSessionkey="@turnkey/session/v3"})(SessionKey||(SessionKey={}));var OtpType;(function(at){at.Email="OTP_TYPE_EMAIL",at.Sms="OTP_TYPE_SMS"})(OtpType||(OtpType={}));var FilterType;(function(at){at.Email="EMAIL",at.Sms="PHONE_NUMBER",at.OidcToken="OIDC_TOKEN",at.PublicKey="PUBLIC_KEY"})(FilterType||(FilterType={}));const OtpTypeToFilterTypeMap={[OtpType.Email]:FilterType.Email,[OtpType.Sms]:FilterType.Sms};var Chain;(function(at){at.Ethereum="ethereum",at.Solana="solana"})(Chain||(Chain={}));var Curve;(function(at){at.SECP256K1="CURVE_SECP256K1",at.ED25519="CURVE_ED25519"})(Curve||(Curve={}));var WalletInterfaceType;(function(at){at.Solana="solana",at.Ethereum="ethereum",at.WalletConnect="wallet_connect"})(WalletInterfaceType||(WalletInterfaceType={}));var WalletSource;(function(at){at.Embedded="embedded",at.Connected="connected"})(WalletSource||(WalletSource={}));var SignIntent;(function(at){at.SignMessage="sign_message",at.SignTransaction="sign_transaction",at.SignAndSendTransaction="sign_and_send"})(SignIntent||(SignIntent={}));class TurnkeyRequestError extends Error{constructor(zs){let Ws=`Turnkey error ${zs.code}: ${zs.message}`;zs.details!=null&&(Ws+=` (Details: ${JSON.stringify(zs.details)})`),super(Ws),this.name="TurnkeyRequestError",this.details=zs.details??null,this.code=zs.code}}const TERMINAL_ACTIVITY_STATUSES=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"],VERSION="@turnkey/core@1.11.0";class TurnkeySDKClientBase{constructor(zs){this.getActivity=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_activity",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetActivity=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_activity",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getApiKey=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_api_key",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetApiKey=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_api_key",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getApiKeys=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_api_keys",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetApiKeys=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getAttestationDocument=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_attestation",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetAttestationDocument=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_attestation",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getAuthenticator=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_authenticator",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetAuthenticator=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getAuthenticators=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_authenticators",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetAuthenticators=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getBootProof=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_boot_proof",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetBootProof=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_boot_proof",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getGasUsage=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_gas_usage",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetGasUsage=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_gas_usage",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getLatestBootProof=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_latest_boot_proof",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetLatestBootProof=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_latest_boot_proof",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getNonces=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_nonces",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetNonces=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_nonces",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getOauth2Credential=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_oauth2_credential",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetOauth2Credential=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_oauth2_credential",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getOauthProviders=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_oauth_providers",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetOauthProviders=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getOnRampTransactionStatus=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_onramp_transaction_status",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetOnRampTransactionStatus=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_onramp_transaction_status",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getOrganization=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_organization",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetOrganization=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_organization",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getOrganizationConfigs=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_organization_configs",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetOrganizationConfigs=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getPolicy=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_policy",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetPolicy=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_policy",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getPolicyEvaluations=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_policy_evaluations",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetPolicyEvaluations=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_policy_evaluations",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getPrivateKey=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_private_key",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetPrivateKey=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_private_key",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getSendTransactionStatus=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_send_transaction_status",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetSendTransactionStatus=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_send_transaction_status",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getSmartContractInterface=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_smart_contract_interface",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetSmartContractInterface=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_smart_contract_interface",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getUser=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_user",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetUser=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_user",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getWallet=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_wallet",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetWallet=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_wallet",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getWalletAccount=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/get_wallet_account",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetWalletAccount=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getActivities=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_activities",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetActivities=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_activities",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getAppProofs=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_app_proofs",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetAppProofs=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_app_proofs",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.listFiatOnRampCredentials=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_fiat_on_ramp_credentials",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampListFiatOnRampCredentials=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_fiat_on_ramp_credentials",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.listOauth2Credentials=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_oauth2_credentials",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampListOauth2Credentials=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_oauth2_credentials",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getPolicies=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_policies",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetPolicies=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_policies",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.listPrivateKeyTags=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_private_key_tags",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampListPrivateKeyTags=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getPrivateKeys=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_private_keys",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetPrivateKeys=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getSmartContractInterfaces=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_smart_contract_interfaces",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetSmartContractInterfaces=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_smart_contract_interfaces",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getSubOrgIds=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_suborgs",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetSubOrgIds=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.listUserTags=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_user_tags",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampListUserTags=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getUsers=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_users",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetUsers=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_users",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getVerifiedSubOrgIds=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_verified_suborgs",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetVerifiedSubOrgIds=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getWalletAccounts=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_wallet_accounts",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetWalletAccounts=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getWallets=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/list_wallets",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetWallets=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/list_wallets",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.getWhoami=async(Ws={},qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/public/v1/query/whoami",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampGetWhoami=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/public/v1/query/whoami",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.approveActivity=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activityDecision("/public/v1/submit/approve_activity",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"},qs)},this.stampApproveActivity=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createApiKeys=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_api_keys",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult",qs)},this.stampCreateApiKeys=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createApiOnlyUsers=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_api_only_users",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult",qs)},this.stampCreateApiOnlyUsers=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createAuthenticators=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_authenticators",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult",qs)},this.stampCreateAuthenticators=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createFiatOnRampCredential=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_fiat_on_ramp_credential",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},"createFiatOnRampCredentialResult",qs)},this.stampCreateFiatOnRampCredential=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_fiat_on_ramp_credential",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createInvitations=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_invitations",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult",qs)},this.stampCreateInvitations=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createOauth2Credential=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_oauth2_credential",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2CREDENTIAL"},"createOauth2CredentialResult",qs)},this.stampCreateOauth2Credential=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_oauth2_credential",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2CREDENTIAL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createOauthProviders=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_oauth_providers",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult",qs)},this.stampCreateOauthProviders=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createPolicies=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_policies",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult",qs)},this.stampCreatePolicies=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_policies",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createPolicy=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_policy",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult",qs)},this.stampCreatePolicy=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_policy",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createPrivateKeyTag=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_private_key_tag",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult",qs)},this.stampCreatePrivateKeyTag=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createPrivateKeys=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_private_keys",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResult",qs)},this.stampCreatePrivateKeys=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createReadOnlySession=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_read_only_session",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult",qs)},this.stampCreateReadOnlySession=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createReadWriteSession=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_read_write_session",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResult",qs)},this.stampCreateReadWriteSession=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createSmartContractInterface=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_smart_contract_interface",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},"createSmartContractInterfaceResult",qs)},this.stampCreateSmartContractInterface=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_smart_contract_interface",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createSubOrganization=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_sub_organization",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResult",qs)},this.stampCreateSubOrganization=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createUserTag=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_user_tag",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult",qs)},this.stampCreateUserTag=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createUsers=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_users",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult",qs)},this.stampCreateUsers=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_users",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createWallet=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_wallet",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult",qs)},this.stampCreateWallet=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.createWalletAccounts=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/create_wallet_accounts",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult",qs)},this.stampCreateWalletAccounts=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteApiKeys=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_api_keys",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult",qs)},this.stampDeleteApiKeys=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteAuthenticators=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_authenticators",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult",qs)},this.stampDeleteAuthenticators=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteFiatOnRampCredential=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_fiat_on_ramp_credential",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},"deleteFiatOnRampCredentialResult",qs)},this.stampDeleteFiatOnRampCredential=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_fiat_on_ramp_credential",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteInvitation=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_invitation",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult",qs)},this.stampDeleteInvitation=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteOauth2Credential=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_oauth2_credential",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2CREDENTIAL"},"deleteOauth2CredentialResult",qs)},this.stampDeleteOauth2Credential=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth2_credential",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2CREDENTIAL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteOauthProviders=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_oauth_providers",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult",qs)},this.stampDeleteOauthProviders=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deletePolicies=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_policies",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},"deletePoliciesResult",qs)},this.stampDeletePolicies=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_policies",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deletePolicy=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_policy",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult",qs)},this.stampDeletePolicy=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deletePrivateKeyTags=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_private_key_tags",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult",qs)},this.stampDeletePrivateKeyTags=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deletePrivateKeys=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_private_keys",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult",qs)},this.stampDeletePrivateKeys=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteSmartContractInterface=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_smart_contract_interface",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},"deleteSmartContractInterfaceResult",qs)},this.stampDeleteSmartContractInterface=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_smart_contract_interface",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteSubOrganization=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_sub_organization",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult",qs)},this.stampDeleteSubOrganization=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteUserTags=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_user_tags",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult",qs)},this.stampDeleteUserTags=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteUsers=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_users",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult",qs)},this.stampDeleteUsers=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_users",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteWalletAccounts=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_wallet_accounts",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},"deleteWalletAccountsResult",qs)},this.stampDeleteWalletAccounts=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_wallet_accounts",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.deleteWallets=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/delete_wallets",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult",qs)},this.stampDeleteWallets=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.emailAuth=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/email_auth",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},"emailAuthResult",qs)},this.stampEmailAuth=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/email_auth",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.ethSendRawTransaction=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/eth_send_raw_transaction",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},"ethSendRawTransactionResult",qs)},this.stampEthSendRawTransaction=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/eth_send_raw_transaction",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.ethSendTransaction=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/eth_send_transaction",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},"ethSendTransactionResult",qs)},this.stampEthSendTransaction=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/eth_send_transaction",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.exportPrivateKey=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/export_private_key",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult",qs)},this.stampExportPrivateKey=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.exportWallet=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/export_wallet",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult",qs)},this.stampExportWallet=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.exportWalletAccount=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/export_wallet_account",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult",qs)},this.stampExportWalletAccount=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.importPrivateKey=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/import_private_key",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult",qs)},this.stampImportPrivateKey=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.importWallet=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/import_wallet",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult",qs)},this.stampImportWallet=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.initFiatOnRamp=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/init_fiat_on_ramp",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult",qs)},this.stampInitFiatOnRamp=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.initImportPrivateKey=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/init_import_private_key",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult",qs)},this.stampInitImportPrivateKey=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.initImportWallet=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/init_import_wallet",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult",qs)},this.stampInitImportWallet=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.initOtp=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/init_otp",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},"initOtpResult",qs)},this.stampInitOtp=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/init_otp",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.initOtpAuth=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/init_otp_auth",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},"initOtpAuthResult",qs)},this.stampInitOtpAuth=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.initUserEmailRecovery=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/init_user_email_recovery",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},"initUserEmailRecoveryResult",qs)},this.stampInitUserEmailRecovery=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.oauth=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/oauth",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult",qs)},this.stampOauth=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/oauth",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.oauth2Authenticate=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/oauth2_authenticate",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2AUTHENTICATE"},"oauth2AuthenticateResult",qs)},this.stampOauth2Authenticate=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/oauth2_authenticate",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2AUTHENTICATE"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.oauthLogin=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/oauth_login",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult",qs)},this.stampOauthLogin=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.otpAuth=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/otp_auth",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult",qs)},this.stampOtpAuth=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.otpLogin=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/otp_login",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult",qs)},this.stampOtpLogin=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/otp_login",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.recoverUser=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/recover_user",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult",qs)},this.stampRecoverUser=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/recover_user",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.rejectActivity=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activityDecision("/public/v1/submit/reject_activity",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"},qs)},this.stampRejectActivity=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.removeOrganizationFeature=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/remove_organization_feature",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult",qs)},this.stampRemoveOrganizationFeature=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.setOrganizationFeature=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/set_organization_feature",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult",qs)},this.stampSetOrganizationFeature=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.signRawPayload=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/sign_raw_payload",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult",qs)},this.stampSignRawPayload=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.signRawPayloads=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/sign_raw_payloads",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult",qs)},this.stampSignRawPayloads=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.signTransaction=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/sign_transaction",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult",qs)},this.stampSignTransaction=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.stampLogin=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/stamp_login",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult",qs)},this.stampStampLogin=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateFiatOnRampCredential=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_fiat_on_ramp_credential",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},"updateFiatOnRampCredentialResult",qs)},this.stampUpdateFiatOnRampCredential=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_fiat_on_ramp_credential",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateOauth2Credential=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_oauth2_credential",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2CREDENTIAL"},"updateOauth2CredentialResult",qs)},this.stampUpdateOauth2Credential=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_oauth2_credential",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2CREDENTIAL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updatePolicy=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_policy",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResult",qs)},this.stampUpdatePolicy=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_policy",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updatePrivateKeyTag=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_private_key_tag",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult",qs)},this.stampUpdatePrivateKeyTag=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateRootQuorum=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_root_quorum",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult",qs)},this.stampUpdateRootQuorum=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateUser=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_user",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult",qs)},this.stampUpdateUser=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_user",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateUserEmail=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_user_email",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult",qs)},this.stampUpdateUserEmail=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateUserName=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_user_name",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult",qs)},this.stampUpdateUserName=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateUserPhoneNumber=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_user_phone_number",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult",qs)},this.stampUpdateUserPhoneNumber=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateUserTag=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_user_tag",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult",qs)},this.stampUpdateUserTag=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.updateWallet=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/update_wallet",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult",qs)},this.stampUpdateWallet=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.verifyOtp=async(Ws,qs)=>{var Js;const{organizationId:Ys,timestampMs:Xs,...Zs}=Ws,yl=await((Js=this.storageManager)==null?void 0:Js.getActiveSession());return this.activity("/public/v1/submit/verify_otp",{parameters:Zs,organizationId:Ys??(yl==null?void 0:yl.organizationId)??this.config.organizationId,timestampMs:Xs??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult",qs)},this.stampVerifyOtp=async(Ws,qs)=>{var Sl;const Ys=this.getStamper(qs);if(!Ys)return;const{organizationId:Xs,timestampMs:Zs,...yl}=Ws,Js=await((Sl=this.storageManager)==null?void 0:Sl.getActiveSession()),$l=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",El={parameters:yl,organizationId:Xs??(Js==null?void 0:Js.organizationId)??this.config.organizationId,timestampMs:Zs??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},wl=JSON.stringify(El),_l=await Ys.stamp(wl);return{body:wl,stamp:_l,url:$l}},this.testRateLimits=async(Ws,qs)=>{var Xs;const Ys=await((Xs=this.storageManager)==null?void 0:Xs.getActiveSession());return this.request("/tkhq/api/v1/test_rate_limits",{...Ws,organizationId:Ws.organizationId??(Ys==null?void 0:Ys.organizationId)??this.config.organizationId},qs)},this.stampTestRateLimits=async(Ws,qs)=>{var El;const Ys=this.getStamper(qs);if(!Ys)return;const Xs=await((El=this.storageManager)==null?void 0:El.getActiveSession()),Zs=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",yl={...Ws,organizationId:Ws.organizationId??(Xs==null?void 0:Xs.organizationId)??this.config.organizationId},Js=JSON.stringify(yl),$l=await Ys.stamp(Js);return{body:Js,stamp:$l,url:Zs}},this.proxyGetAccount=async Ws=>this.authProxyRequest("/v1/account",Ws),this.proxyOAuth2Authenticate=async Ws=>this.authProxyRequest("/v1/oauth2_authenticate",Ws),this.proxyOAuthLogin=async Ws=>this.authProxyRequest("/v1/oauth_login",Ws),this.proxyInitOtp=async Ws=>this.authProxyRequest("/v1/otp_init",Ws),this.proxyOtpLogin=async Ws=>this.authProxyRequest("/v1/otp_login",Ws),this.proxyVerifyOtp=async Ws=>this.authProxyRequest("/v1/otp_verify",Ws),this.proxySignup=async Ws=>this.authProxyRequest("/v1/signup",Ws),this.proxyGetWalletKitConfig=async Ws=>this.authProxyRequest("/v1/wallet_kit_config",Ws),this.config=zs,zs.apiKeyStamper&&(this.apiKeyStamper=zs.apiKeyStamper),zs.passkeyStamper&&(this.passkeyStamper=zs.passkeyStamper),zs.walletStamper&&(this.walletStamper=zs.walletStamper),zs.storageManager&&(this.storageManager=zs.storageManager),zs.defaultStamperType?this.defaultStamperType=zs.defaultStamperType:this.apiKeyStamper?this.defaultStamperType=StamperType.ApiKey:this.passkeyStamper?this.defaultStamperType=StamperType.Passkey:this.walletStamper?this.defaultStamperType=StamperType.Wallet:this.defaultStamperType=void 0}getStamper(zs){switch(zs||(zs=this.defaultStamperType),zs){case StamperType.ApiKey:return this.apiKeyStamper;case StamperType.Passkey:return this.passkeyStamper;case StamperType.Wallet:return this.walletStamper;default:return this.apiKeyStamper}}async request(zs,Ws,qs){const Ys=this.config.apiBaseUrl+zs,Xs=JSON.stringify(Ws);var Zs={"X-Client-Version":VERSION};const yl=this.getStamper(qs);if(yl){const El=await yl.stamp(Xs);Zs[El.stampHeaderName]=El.stampHeaderValue}const Js=await fetch(Ys,{method:"POST",headers:Zs,body:Xs,redirect:"follow"});if(!Js.ok){let El;try{El=await Js.json()}catch{throw new Error(`${Js.status} ${Js.statusText}`)}throw new TurnkeyRequestError(El)}return await Js.json()}async activity(zs,Ws,qs,Ys){var _l,Sl;const Xs=((_l=this.config.activityPoller)==null?void 0:_l.intervalMs)??1e3,Zs=((Sl=this.config.activityPoller)==null?void 0:Sl.numRetries)??3,yl=Tl=>new Promise(Il=>setTimeout(Il,Tl)),Js=Tl=>{const{result:Il,status:Al}=Tl.activity;return Al==="ACTIVITY_STATUS_COMPLETED"?{...Il[`${qs}`],...Tl}:Tl};let $l=0;const El=async Tl=>{const Il={activityId:Tl},Al=await this.getActivity(Il,Ys);return $l>Zs?Js(Al):($l+=1,TERMINAL_ACTIVITY_STATUSES.includes(Al.activity.status)?Js(Al):(await yl(Xs),El(Tl)))},wl=await this.request(zs,Ws,Ys);return TERMINAL_ACTIVITY_STATUSES.includes(wl.activity.status)?Js(wl):El(wl.activity.id)}async activityDecision(zs,Ws,qs){const Ys=await this.request(zs,Ws,qs);return{...Ys.activity.result,...Ys}}async authProxyRequest(zs,Ws){if(!this.config.authProxyUrl||!this.config.authProxyConfigId)throw new TurnkeyError("Auth Proxy URL or ID is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);const qs=this.config.authProxyUrl+zs,Ys=JSON.stringify(Ws);var Xs={"Content-Type":"application/json","X-Auth-Proxy-Config-ID":this.config.authProxyConfigId};const Zs=await fetch(qs,{method:"POST",headers:Xs,body:Ys});if(!Zs.ok){let Js;try{Js=await Zs.json()}catch{throw new Error(`${Zs.status} ${Zs.statusText}`)}throw new TurnkeyRequestError(Js)}return await Zs.json()}}const DEFAULT_SESSION_EXPIRATION_IN_SECONDS="900",defaultEthereumAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}),DEFAULT_ETHEREUM_ACCOUNTS=[defaultEthereumAccountAtIndex(0)],defaultCosmosAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_COSMOS"}),DEFAULT_COSMOS_ACCOUNTS=[defaultCosmosAccountAtIndex(0)],defaultTronAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/195'/${at}'`,addressFormat:"ADDRESS_FORMAT_TRON"}),DEFAULT_TRON_ACCOUNTS=[defaultTronAccountAtIndex(0)],defaultBitcoinMainnetP2PKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH"}),DEFAULT_BITCOIN_MAINNET_P2PKH_ACCOUNTS=[defaultBitcoinMainnetP2PKHAccountAtIndex(0)],defaultBitcoinMainnetP2WPKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/0'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH"}),DEFAULT_BITCOIN_MAINNET_P2WPKH_ACCOUNTS=[defaultBitcoinMainnetP2WPKHAccountAtIndex(0)],defaultBitcoinMainnetP2WSHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/0'/${at}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH"}),DEFAULT_BITCOIN_MAINNET_P2WSH_ACCOUNTS=[defaultBitcoinMainnetP2WSHAccountAtIndex(0)],defaultBitcoinMainnetP2TRAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/0'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR"}),DEFAULT_BITCOIN_MAINNET_P2TR_ACCOUNTS=[defaultBitcoinMainnetP2TRAccountAtIndex(0)],defaultBitcoinMainnetP2SHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH"}),DEFAULT_BITCOIN_MAINNET_P2SH_ACCOUNTS=[defaultBitcoinMainnetP2SHAccountAtIndex(0)],defaultBitcoinTestnetP2PKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH"}),DEFAULT_BITCOIN_TESTNET_P2PKH_ACCOUNTS=[defaultBitcoinTestnetP2PKHAccountAtIndex(0)],defaultBitcoinTestnetP2WPKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH"}),DEFAULT_BITCOIN_TESTNET_P2WPKH_ACCOUNTS=[defaultBitcoinTestnetP2WPKHAccountAtIndex(0)],defaultBitcoinTestnetP2WSHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${at}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH"}),DEFAULT_BITCOIN_TESTNET_P2WSH_ACCOUNTS=[defaultBitcoinTestnetP2WSHAccountAtIndex(0)],defaultBitcoinTestnetP2TRAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR"}),DEFAULT_BITCOIN_TESTNET_P2TR_ACCOUNTS=[defaultBitcoinTestnetP2TRAccountAtIndex(0)],defaultBitcoinTestnetP2SHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH"}),DEFAULT_BITCOIN_TESTNET_P2SH_ACCOUNTS=[defaultBitcoinTestnetP2SHAccountAtIndex(0)],defaultBitcoinSignetP2PKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH"}),DEFAULT_BITCOIN_SIGNET_P2PKH_ACCOUNTS=[defaultBitcoinSignetP2PKHAccountAtIndex(0)],defaultBitcoinSignetP2WPKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH"}),DEFAULT_BITCOIN_SIGNET_P2WPKH_ACCOUNTS=[defaultBitcoinSignetP2WPKHAccountAtIndex(0)],defaultBitcoinSignetP2WSHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${at}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH"}),DEFAULT_BITCOIN_SIGNET_P2WSH_ACCOUNTS=[defaultBitcoinSignetP2WSHAccountAtIndex(0)],defaultBitcoinSignetP2TRAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR"}),DEFAULT_BITCOIN_SIGNET_P2TR_ACCOUNTS=[defaultBitcoinSignetP2TRAccountAtIndex(0)],defaultBitcoinSignetP2SHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH"}),DEFAULT_BITCOIN_SIGNET_P2SH_ACCOUNTS=[defaultBitcoinSignetP2SHAccountAtIndex(0)],defaultBitcoinRegtestP2PKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH"}),DEFAULT_BITCOIN_REGTEST_P2PKH_ACCOUNTS=[defaultBitcoinRegtestP2PKHAccountAtIndex(0)],defaultBitcoinRegtestP2WPKHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH"}),DEFAULT_BITCOIN_REGTEST_P2WPKH_ACCOUNTS=[defaultBitcoinRegtestP2WPKHAccountAtIndex(0)],defaultBitcoinRegtestP2WSHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${at}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH"}),DEFAULT_BITCOIN_REGTEST_P2WSH_ACCOUNTS=[defaultBitcoinRegtestP2WSHAccountAtIndex(0)],defaultBitcoinRegtestP2TRAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR"}),DEFAULT_BITCOIN_REGTEST_P2TR_ACCOUNTS=[defaultBitcoinRegtestP2TRAccountAtIndex(0)],defaultBitcoinRegtestP2SHAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH"}),DEFAULT_BITCOIN_REGTEST_P2SH_ACCOUNTS=[defaultBitcoinRegtestP2SHAccountAtIndex(0)],defaultDogeMainnetAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_MAINNET"}),DEFAULT_DOGE_MAINNET_ACCOUNTS=[defaultDogeMainnetAccountAtIndex(0)],defaultDogeTestnetAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${at}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_TESTNET"}),DEFAULT_DOGE_TESTNET_ACCOUNTS=[defaultDogeTestnetAccountAtIndex(0)],defaultSeiAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${at}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SEI"}),DEFAULT_SEI_ACCOUNTS=[defaultSeiAccountAtIndex(0)],defaultXrpAccountAtIndex=at=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/144'/${at}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_XRP"}),DEFAULT_XRP_ACCOUNTS=[defaultXrpAccountAtIndex(0)],defaultSolanaAccountAtIndex=at=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${at}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}),DEFAULT_SOLANA_ACCOUNTS=[defaultSolanaAccountAtIndex(0)],defaultSuiAccountAtIndex=at=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/784'/${at}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SUI"}),DEFAULT_SUI_ACCOUNTS=[defaultSuiAccountAtIndex(0)],defaultAptosAccountAtIndex=at=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/637'/${at}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_APTOS"}),DEFAULT_APTOS_ACCOUNTS=[defaultAptosAccountAtIndex(0)],defaultXlmAccountAtIndex=at=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/148'/${at}'`,addressFormat:"ADDRESS_FORMAT_XLM"}),DEFAULT_XLM_ACCOUNTS=[defaultXlmAccountAtIndex(0)],defaultTonV3r2AccountAtIndex=at=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${at}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V3R2"}),DEFAULT_TON_V3R2_ACCOUNTS=[defaultTonV3r2AccountAtIndex(0)],defaultTonV4r2AccountAtIndex=at=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${at}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V4R2"}),DEFAULT_TON_V4R2_ACCOUNTS=[defaultTonV4r2AccountAtIndex(0)],version$3="6.16.0";function defineProperties(at,zs,Ws){for(let qs in zs){let Ys=zs[qs];Object.defineProperty(at,qs,{enumerable:!0,value:Ys,writable:!1})}}function stringify$2(at,zs){if(at==null)return"null";if(zs==null&&(zs=new Set),typeof at=="object"){if(zs.has(at))return"[Circular]";zs.add(at)}if(Array.isArray(at))return"[ "+at.map(Ws=>stringify$2(Ws,zs)).join(", ")+" ]";if(at instanceof Uint8Array){const Ws="0123456789abcdef";let qs="0x";for(let Ys=0;Ys<at.length;Ys++)qs+=Ws[at[Ys]>>4],qs+=Ws[at[Ys]&15];return qs}if(typeof at=="object"&&typeof at.toJSON=="function")return stringify$2(at.toJSON(),zs);switch(typeof at){case"boolean":case"number":case"symbol":return at.toString();case"bigint":return BigInt(at).toString();case"string":return JSON.stringify(at);case"object":{const Ws=Object.keys(at);return Ws.sort(),"{ "+Ws.map(qs=>`${stringify$2(qs,zs)}: ${stringify$2(at[qs],zs)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function makeError(at,zs,Ws){let qs=at;{const Xs=[];if(Ws){if("message"in Ws||"code"in Ws||"name"in Ws)throw new Error(`value will overwrite populated values: ${stringify$2(Ws)}`);for(const Zs in Ws){if(Zs==="shortMessage")continue;const yl=Ws[Zs];Xs.push(Zs+"="+stringify$2(yl))}}Xs.push(`code=${zs}`),Xs.push(`version=${version$3}`),Xs.length&&(at+=" ("+Xs.join(", ")+")")}let Ys;switch(zs){case"INVALID_ARGUMENT":Ys=new TypeError(at);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":Ys=new RangeError(at);break;default:Ys=new Error(at)}return defineProperties(Ys,{code:zs}),Ws&&Object.assign(Ys,Ws),Ys.shortMessage==null&&defineProperties(Ys,{shortMessage:qs}),Ys}function assert$4(at,zs,Ws,qs){if(!at)throw makeError(zs,Ws,qs)}function assertArgument(at,zs,Ws,qs){assert$4(at,zs,"INVALID_ARGUMENT",{argument:Ws,value:qs})}["NFD","NFC","NFKD","NFKC"].reduce((at,zs)=>{try{if("test".normalize(zs)!=="test")throw new Error("bad");if(zs==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");at.push(zs)}catch{}return at},[]);function assertPrivate(at,zs,Ws){if(at!==zs){let qs=Ws,Ys="new";qs+=".",Ys+=" "+Ws,assert$4(!1,`private constructor; use ${qs}from* methods`,"UNSUPPORTED_OPERATION",{operation:Ys})}}function _getBytes(at,zs,Ws){if(at instanceof Uint8Array)return Ws?new Uint8Array(at):at;if(typeof at=="string"&&at.length%2===0&&at.match(/^0x[0-9a-f]*$/i)){const qs=new Uint8Array((at.length-2)/2);let Ys=2;for(let Xs=0;Xs<qs.length;Xs++)qs[Xs]=parseInt(at.substring(Ys,Ys+2),16),Ys+=2;return qs}assertArgument(!1,"invalid BytesLike value",zs||"value",at)}function getBytes(at,zs){return _getBytes(at,zs,!1)}function getBytesCopy(at,zs){return _getBytes(at,zs,!0)}function isHexString(at,zs){return!(typeof at!="string"||!at.match(/^0x[0-9A-Fa-f]*$/)||typeof zs=="number"&&at.length!==2+2*zs||zs===!0&&at.length%2!==0)}function isBytesLike(at){return isHexString(at,!0)||at instanceof Uint8Array}const HexCharacters="0123456789abcdef";function hexlify(at){const zs=getBytes(at);let Ws="0x";for(let qs=0;qs<zs.length;qs++){const Ys=zs[qs];Ws+=HexCharacters[(Ys&240)>>4]+HexCharacters[Ys&15]}return Ws}function concat$3(at){return"0x"+at.map(zs=>hexlify(zs).substring(2)).join("")}function dataLength(at){return isHexString(at,!0)?(at.length-2)/2:getBytes(at).length}function zeroPad(at,zs,Ws){const qs=getBytes(at);assert$4(zs>=qs.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(qs),length:zs,offset:zs+1});const Ys=new Uint8Array(zs);return Ys.fill(0),Ys.set(qs,zs-qs.length),hexlify(Ys)}function zeroPadValue(at,zs){return zeroPad(at,zs)}const BN_0$3=BigInt(0);BigInt(1);const maxValue=9007199254740991;function getBigInt(at,zs){switch(typeof at){case"bigint":return at;case"number":return assertArgument(Number.isInteger(at),"underflow",zs||"value",at),assertArgument(at>=-maxValue&&at<=maxValue,"overflow",zs||"value",at),BigInt(at);case"string":try{if(at==="")throw new Error("empty string");return at[0]==="-"&&at[1]!=="-"?-BigInt(at.substring(1)):BigInt(at)}catch(Ws){assertArgument(!1,`invalid BigNumberish string: ${Ws.message}`,zs||"value",at)}}assertArgument(!1,"invalid BigNumberish value",zs||"value",at)}function getUint(at,zs){const Ws=getBigInt(at,zs);return assert$4(Ws>=BN_0$3,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:at}),Ws}function getNumber(at,zs){switch(typeof at){case"bigint":return assertArgument(at>=-maxValue&&at<=maxValue,"overflow",zs||"value",at),Number(at);case"number":return assertArgument(Number.isInteger(at),"underflow",zs||"value",at),assertArgument(at>=-maxValue&&at<=maxValue,"overflow",zs||"value",at),at;case"string":try{if(at==="")throw new Error("empty string");return getNumber(BigInt(at),zs)}catch(Ws){assertArgument(!1,`invalid numeric string: ${Ws.message}`,zs||"value",at)}}assertArgument(!1,"invalid numeric value",zs||"value",at)}function toBeHex(at,zs){const Ws=getUint(at,"value");let qs=Ws.toString(16);{const Ys=getNumber(zs,"width");if(Ys===0&&Ws===BN_0$3)return"0x";for(assert$4(Ys*2>=qs.length,`value exceeds width (${Ys} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:at});qs.length<Ys*2;)qs="0"+qs}return"0x"+qs}function toBeArray(at,zs){const Ws=getUint(at,"value");if(Ws===BN_0$3)return new Uint8Array(0);let qs=Ws.toString(16);qs.length%2&&(qs="0"+qs);const Ys=new Uint8Array(qs.length/2);for(let Xs=0;Xs<Ys.length;Xs++){const Zs=Xs*2;Ys[Xs]=parseInt(qs.substring(Zs,Zs+2),16)}return Ys}function errorFunc(at,zs,Ws,qs,Ys){assertArgument(!1,`invalid codepoint at offset ${zs}; ${at}`,"bytes",Ws)}function ignoreFunc(at,zs,Ws,qs,Ys){if(at==="BAD_PREFIX"||at==="UNEXPECTED_CONTINUE"){let Xs=0;for(let Zs=zs+1;Zs<Ws.length&&Ws[Zs]>>6===2;Zs++)Xs++;return Xs}return at==="OVERRUN"?Ws.length-zs-1:0}function replaceFunc(at,zs,Ws,qs,Ys){return at==="OVERLONG"?(assertArgument(typeof Ys=="number","invalid bad code point for replacement","badCodepoint",Ys),qs.push(Ys),0):(qs.push(65533),ignoreFunc(at,zs,Ws))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(at,zs){zs==null&&(zs=Utf8ErrorFuncs.error);const Ws=getBytes(at,"bytes"),qs=[];let Ys=0;for(;Ys<Ws.length;){const Xs=Ws[Ys++];if(!(Xs>>7)){qs.push(Xs);continue}let Zs=null,yl=null;if((Xs&224)===192)Zs=1,yl=127;else if((Xs&240)===224)Zs=2,yl=2047;else if((Xs&248)===240)Zs=3,yl=65535;else{(Xs&192)===128?Ys+=zs("UNEXPECTED_CONTINUE",Ys-1,Ws,qs):Ys+=zs("BAD_PREFIX",Ys-1,Ws,qs);continue}if(Ys-1+Zs>=Ws.length){Ys+=zs("OVERRUN",Ys-1,Ws,qs);continue}let Js=Xs&(1<<8-Zs-1)-1;for(let $l=0;$l<Zs;$l++){let El=Ws[Ys];if((El&192)!=128){Ys+=zs("MISSING_CONTINUE",Ys,Ws,qs),Js=null;break}Js=Js<<6|El&63,Ys++}if(Js!==null){if(Js>1114111){Ys+=zs("OUT_OF_RANGE",Ys-1-Zs,Ws,qs,Js);continue}if(Js>=55296&&Js<=57343){Ys+=zs("UTF16_SURROGATE",Ys-1-Zs,Ws,qs,Js);continue}if(Js<=yl){Ys+=zs("OVERLONG",Ys-1-Zs,Ws,qs,Js);continue}qs.push(Js)}}return qs}function toUtf8Bytes(at,zs){assertArgument(typeof at=="string","invalid string value","str",at);let Ws=[];for(let qs=0;qs<at.length;qs++){const Ys=at.charCodeAt(qs);if(Ys<128)Ws.push(Ys);else if(Ys<2048)Ws.push(Ys>>6|192),Ws.push(Ys&63|128);else if((Ys&64512)==55296){qs++;const Xs=at.charCodeAt(qs);assertArgument(qs<at.length&&(Xs&64512)===56320,"invalid surrogate pair","str",at);const Zs=65536+((Ys&1023)<<10)+(Xs&1023);Ws.push(Zs>>18|240),Ws.push(Zs>>12&63|128),Ws.push(Zs>>6&63|128),Ws.push(Zs&63|128)}else Ws.push(Ys>>12|224),Ws.push(Ys>>6&63|128),Ws.push(Ys&63|128)}return new Uint8Array(Ws)}function _toUtf8String(at){return at.map(zs=>zs<=65535?String.fromCharCode(zs):(zs-=65536,String.fromCharCode((zs>>10&1023)+55296,(zs&1023)+56320))).join("")}function toUtf8String(at,zs){return _toUtf8String(getUtf8CodePoints(at,zs))}function hexlifyByte(at){let zs=at.toString(16);for(;zs.length<2;)zs="0"+zs;return"0x"+zs}function unarrayifyInteger(at,zs,Ws){let qs=0;for(let Ys=0;Ys<Ws;Ys++)qs=qs*256+at[zs+Ys];return qs}function _decodeChildren(at,zs,Ws,qs){const Ys=[];for(;Ws<zs+1+qs;){const Xs=_decode(at,Ws);Ys.push(Xs.result),Ws+=Xs.consumed,assert$4(Ws<=zs+1+qs,"child data too short","BUFFER_OVERRUN",{buffer:at,length:qs,offset:zs})}return{consumed:1+qs,result:Ys}}function _decode(at,zs){assert$4(at.length!==0,"data too short","BUFFER_OVERRUN",{buffer:at,length:0,offset:1});const Ws=qs=>{assert$4(qs<=at.length,"data short segment too short","BUFFER_OVERRUN",{buffer:at,length:at.length,offset:qs})};if(at[zs]>=248){const qs=at[zs]-247;Ws(zs+1+qs);const Ys=unarrayifyInteger(at,zs+1,qs);return Ws(zs+1+qs+Ys),_decodeChildren(at,zs,zs+1+qs,qs+Ys)}else if(at[zs]>=192){const qs=at[zs]-192;return Ws(zs+1+qs),_decodeChildren(at,zs,zs+1,qs)}else if(at[zs]>=184){const qs=at[zs]-183;Ws(zs+1+qs);const Ys=unarrayifyInteger(at,zs+1,qs);Ws(zs+1+qs+Ys);const Xs=hexlify(at.slice(zs+1+qs,zs+1+qs+Ys));return{consumed:1+qs+Ys,result:Xs}}else if(at[zs]>=128){const qs=at[zs]-128;Ws(zs+1+qs);const Ys=hexlify(at.slice(zs+1,zs+1+qs));return{consumed:1+qs,result:Ys}}return{consumed:1,result:hexlifyByte(at[zs])}}function decodeRlp(at){const zs=getBytes(at,"data"),Ws=_decode(zs,0);return assertArgument(Ws.consumed===zs.length,"unexpected junk after rlp payload","data",at),Ws.result}function arrayifyInteger(at){const zs=[];for(;at;)zs.unshift(at&255),at>>=8;return zs}function _encode(at){if(Array.isArray(at)){let qs=[];if(at.forEach(function(Xs){qs=qs.concat(_encode(Xs))}),qs.length<=55)return qs.unshift(192+qs.length),qs;const Ys=arrayifyInteger(qs.length);return Ys.unshift(247+Ys.length),Ys.concat(qs)}const zs=Array.prototype.slice.call(getBytes(at,"object"));if(zs.length===1&&zs[0]<=127)return zs;if(zs.length<=55)return zs.unshift(128+zs.length),zs;const Ws=arrayifyInteger(zs.length);return Ws.unshift(183+Ws.length),Ws.concat(zs)}const nibbles="0123456789abcdef";function encodeRlp(at){let zs="0x";for(const Ws of _encode(at))zs+=nibbles[Ws>>4],zs+=nibbles[Ws&15];return zs}function number(at){if(!Number.isSafeInteger(at)||at<0)throw new Error(`Wrong positive integer: ${at}`)}function bytes(at,...zs){if(!(at instanceof Uint8Array))throw new Error("Expected Uint8Array");if(zs.length>0&&!zs.includes(at.length))throw new Error(`Expected Uint8Array of length ${zs}, not of length=${at.length}`)}function hash(at){if(typeof at!="function"||typeof at.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(at.outputLen),number(at.blockLen)}function exists(at,zs=!0){if(at.destroyed)throw new Error("Hash instance has been destroyed");if(zs&&at.finished)throw new Error("Hash#digest() has already been called")}function output(at,zs){bytes(at);const Ws=zs.outputLen;if(at.length<Ws)throw new Error(`digestInto() expects output buffer of length at least ${Ws}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=at=>at instanceof Uint8Array,u32=at=>new Uint32Array(at.buffer,at.byteOffset,Math.floor(at.byteLength/4)),createView=at=>new DataView(at.buffer,at.byteOffset,at.byteLength),rotr=(at,zs)=>at<<32-zs|at>>>zs,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$1(at){if(typeof at!="string")throw new Error(`utf8ToBytes expected string, got ${typeof at}`);return new Uint8Array(new TextEncoder().encode(at))}function toBytes$1(at){if(typeof at=="string"&&(at=utf8ToBytes$1(at)),!u8a$1(at))throw new Error(`expected Uint8Array, got ${typeof at}`);return at}function concatBytes$4(...at){const zs=new Uint8Array(at.reduce((qs,Ys)=>qs+Ys.length,0));let Ws=0;return at.forEach(qs=>{if(!u8a$1(qs))throw new Error("Uint8Array expected");zs.set(qs,Ws),Ws+=qs.length}),zs}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(at){const zs=qs=>at().update(toBytes$1(qs)).digest(),Ws=at();return zs.outputLen=Ws.outputLen,zs.blockLen=Ws.blockLen,zs.create=()=>at(),zs}function randomBytes(at=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(at));throw new Error("crypto.getRandomValues must be defined")}class HMAC extends Hash{constructor(zs,Ws){super(),this.finished=!1,this.destroyed=!1,hash(zs);const qs=toBytes$1(Ws);if(this.iHash=zs.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const Ys=this.blockLen,Xs=new Uint8Array(Ys);Xs.set(qs.length>Ys?zs.create().update(qs).digest():qs);for(let Zs=0;Zs<Xs.length;Zs++)Xs[Zs]^=54;this.iHash.update(Xs),this.oHash=zs.create();for(let Zs=0;Zs<Xs.length;Zs++)Xs[Zs]^=106;this.oHash.update(Xs),Xs.fill(0)}update(zs){return exists(this),this.iHash.update(zs),this}digestInto(zs){exists(this),bytes(zs,this.outputLen),this.finished=!0,this.iHash.digestInto(zs),this.oHash.update(zs),this.oHash.digestInto(zs),this.destroy()}digest(){const zs=new Uint8Array(this.oHash.outputLen);return this.digestInto(zs),zs}_cloneInto(zs){zs||(zs=Object.create(Object.getPrototypeOf(this),{}));const{oHash:Ws,iHash:qs,finished:Ys,destroyed:Xs,blockLen:Zs,outputLen:yl}=this;return zs=zs,zs.finished=Ys,zs.destroyed=Xs,zs.blockLen=Zs,zs.outputLen=yl,zs.oHash=Ws._cloneInto(zs.oHash),zs.iHash=qs._cloneInto(zs.iHash),zs}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(at,zs,Ws)=>new HMAC(at,zs).update(Ws).digest();hmac.create=(at,zs)=>new HMAC(at,zs);function setBigUint64(at,zs,Ws,qs){if(typeof at.setBigUint64=="function")return at.setBigUint64(zs,Ws,qs);const Ys=BigInt(32),Xs=BigInt(4294967295),Zs=Number(Ws>>Ys&Xs),yl=Number(Ws&Xs),Js=qs?4:0,$l=qs?0:4;at.setUint32(zs+Js,Zs,qs),at.setUint32(zs+$l,yl,qs)}class SHA2 extends Hash{constructor(zs,Ws,qs,Ys){super(),this.blockLen=zs,this.outputLen=Ws,this.padOffset=qs,this.isLE=Ys,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(zs),this.view=createView(this.buffer)}update(zs){exists(this);const{view:Ws,buffer:qs,blockLen:Ys}=this;zs=toBytes$1(zs);const Xs=zs.length;for(let Zs=0;Zs<Xs;){const yl=Math.min(Ys-this.pos,Xs-Zs);if(yl===Ys){const Js=createView(zs);for(;Ys<=Xs-Zs;Zs+=Ys)this.process(Js,Zs);continue}qs.set(zs.subarray(Zs,Zs+yl),this.pos),this.pos+=yl,Zs+=yl,this.pos===Ys&&(this.process(Ws,0),this.pos=0)}return this.length+=zs.length,this.roundClean(),this}digestInto(zs){exists(this),output(zs,this),this.finished=!0;const{buffer:Ws,view:qs,blockLen:Ys,isLE:Xs}=this;let{pos:Zs}=this;Ws[Zs++]=128,this.buffer.subarray(Zs).fill(0),this.padOffset>Ys-Zs&&(this.process(qs,0),Zs=0);for(let wl=Zs;wl<Ys;wl++)Ws[wl]=0;setBigUint64(qs,Ys-8,BigInt(this.length*8),Xs),this.process(qs,0);const yl=createView(zs),Js=this.outputLen;if(Js%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $l=Js/4,El=this.get();if($l>El.length)throw new Error("_sha2: outputLen bigger than state");for(let wl=0;wl<$l;wl++)yl.setUint32(4*wl,El[wl],Xs)}digest(){const{buffer:zs,outputLen:Ws}=this;this.digestInto(zs);const qs=zs.slice(0,Ws);return this.destroy(),qs}_cloneInto(zs){zs||(zs=new this.constructor),zs.set(...this.get());const{blockLen:Ws,buffer:qs,length:Ys,finished:Xs,destroyed:Zs,pos:yl}=this;return zs.length=Ys,zs.pos=yl,zs.finished=Xs,zs.destroyed=Zs,Ys%Ws&&zs.buffer.set(qs),zs}}const Chi=(at,zs,Ws)=>at&zs^~at&Ws,Maj=(at,zs,Ws)=>at&zs^at&Ws^zs&Ws,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:zs,B:Ws,C:qs,D:Ys,E:Xs,F:Zs,G:yl,H:Js}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js){this.A=zs|0,this.B=Ws|0,this.C=qs|0,this.D=Ys|0,this.E=Xs|0,this.F=Zs|0,this.G=yl|0,this.H=Js|0}process(zs,Ws){for(let wl=0;wl<16;wl++,Ws+=4)SHA256_W[wl]=zs.getUint32(Ws,!1);for(let wl=16;wl<64;wl++){const _l=SHA256_W[wl-15],Sl=SHA256_W[wl-2],Tl=rotr(_l,7)^rotr(_l,18)^_l>>>3,Il=rotr(Sl,17)^rotr(Sl,19)^Sl>>>10;SHA256_W[wl]=Il+SHA256_W[wl-7]+Tl+SHA256_W[wl-16]|0}let{A:qs,B:Ys,C:Xs,D:Zs,E:yl,F:Js,G:$l,H:El}=this;for(let wl=0;wl<64;wl++){const _l=rotr(yl,6)^rotr(yl,11)^rotr(yl,25),Sl=El+_l+Chi(yl,Js,$l)+SHA256_K[wl]+SHA256_W[wl]|0,Il=(rotr(qs,2)^rotr(qs,13)^rotr(qs,22))+Maj(qs,Ys,Xs)|0;El=$l,$l=Js,Js=yl,yl=Zs+Sl|0,Zs=Xs,Xs=Ys,Ys=qs,qs=Sl+Il|0}qs=qs+this.A|0,Ys=Ys+this.B|0,Xs=Xs+this.C|0,Zs=Zs+this.D|0,yl=yl+this.E|0,Js=Js+this.F|0,$l=$l+this.G|0,El=El+this.H|0,this.set(qs,Ys,Xs,Zs,yl,Js,$l,El)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(at,zs=!1){return zs?{h:Number(at&U32_MASK64),l:Number(at>>_32n&U32_MASK64)}:{h:Number(at>>_32n&U32_MASK64)|0,l:Number(at&U32_MASK64)|0}}function split(at,zs=!1){let Ws=new Uint32Array(at.length),qs=new Uint32Array(at.length);for(let Ys=0;Ys<at.length;Ys++){const{h:Xs,l:Zs}=fromBig(at[Ys],zs);[Ws[Ys],qs[Ys]]=[Xs,Zs]}return[Ws,qs]}const toBig=(at,zs)=>BigInt(at>>>0)<<_32n|BigInt(zs>>>0),shrSH=(at,zs,Ws)=>at>>>Ws,shrSL=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,rotrSH=(at,zs,Ws)=>at>>>Ws|zs<<32-Ws,rotrSL=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,rotrBH=(at,zs,Ws)=>at<<64-Ws|zs>>>Ws-32,rotrBL=(at,zs,Ws)=>at>>>Ws-32|zs<<64-Ws,rotr32H=(at,zs)=>zs,rotr32L=(at,zs)=>at,rotlSH=(at,zs,Ws)=>at<<Ws|zs>>>32-Ws,rotlSL=(at,zs,Ws)=>zs<<Ws|at>>>32-Ws,rotlBH=(at,zs,Ws)=>zs<<Ws-32|at>>>64-Ws,rotlBL=(at,zs,Ws)=>at<<Ws-32|zs>>>64-Ws;function add(at,zs,Ws,qs){const Ys=(zs>>>0)+(qs>>>0);return{h:at+Ws+(Ys/2**32|0)|0,l:Ys|0}}const add3L=(at,zs,Ws)=>(at>>>0)+(zs>>>0)+(Ws>>>0),add3H=(at,zs,Ws,qs)=>zs+Ws+qs+(at/2**32|0)|0,add4L=(at,zs,Ws,qs)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0),add4H=(at,zs,Ws,qs,Ys)=>zs+Ws+qs+Ys+(at/2**32|0)|0,add5L=(at,zs,Ws,qs,Ys)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0)+(Ys>>>0),add5H=(at,zs,Ws,qs,Ys,Xs)=>zs+Ws+qs+Ys+Xs+(at/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(at=>BigInt(at))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:zs,Al:Ws,Bh:qs,Bl:Ys,Ch:Xs,Cl:Zs,Dh:yl,Dl:Js,Eh:$l,El,Fh:wl,Fl:_l,Gh:Sl,Gl:Tl,Hh:Il,Hl:Al}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al){this.Ah=zs|0,this.Al=Ws|0,this.Bh=qs|0,this.Bl=Ys|0,this.Ch=Xs|0,this.Cl=Zs|0,this.Dh=yl|0,this.Dl=Js|0,this.Eh=$l|0,this.El=El|0,this.Fh=wl|0,this.Fl=_l|0,this.Gh=Sl|0,this.Gl=Tl|0,this.Hh=Il|0,this.Hl=Al|0}process(zs,Ws){for(let Cl=0;Cl<16;Cl++,Ws+=4)SHA512_W_H[Cl]=zs.getUint32(Ws),SHA512_W_L[Cl]=zs.getUint32(Ws+=4);for(let Cl=16;Cl<80;Cl++){const Rl=SHA512_W_H[Cl-15]|0,Ol=SHA512_W_L[Cl-15]|0,Ml=u64.rotrSH(Rl,Ol,1)^u64.rotrSH(Rl,Ol,8)^u64.shrSH(Rl,Ol,7),Ll=u64.rotrSL(Rl,Ol,1)^u64.rotrSL(Rl,Ol,8)^u64.shrSL(Rl,Ol,7),Bl=SHA512_W_H[Cl-2]|0,Wl=SHA512_W_L[Cl-2]|0,Yl=u64.rotrSH(Bl,Wl,19)^u64.rotrBH(Bl,Wl,61)^u64.shrSH(Bl,Wl,6),Kl=u64.rotrSL(Bl,Wl,19)^u64.rotrBL(Bl,Wl,61)^u64.shrSL(Bl,Wl,6),Xl=u64.add4L(Ll,Kl,SHA512_W_L[Cl-7],SHA512_W_L[Cl-16]),Ul=u64.add4H(Xl,Ml,Yl,SHA512_W_H[Cl-7],SHA512_W_H[Cl-16]);SHA512_W_H[Cl]=Ul|0,SHA512_W_L[Cl]=Xl|0}let{Ah:qs,Al:Ys,Bh:Xs,Bl:Zs,Ch:yl,Cl:Js,Dh:$l,Dl:El,Eh:wl,El:_l,Fh:Sl,Fl:Tl,Gh:Il,Gl:Al,Hh:xl,Hl:Pl}=this;for(let Cl=0;Cl<80;Cl++){const Rl=u64.rotrSH(wl,_l,14)^u64.rotrSH(wl,_l,18)^u64.rotrBH(wl,_l,41),Ol=u64.rotrSL(wl,_l,14)^u64.rotrSL(wl,_l,18)^u64.rotrBL(wl,_l,41),Ml=wl&Sl^~wl&Il,Ll=_l&Tl^~_l&Al,Bl=u64.add5L(Pl,Ol,Ll,SHA512_Kl[Cl],SHA512_W_L[Cl]),Wl=u64.add5H(Bl,xl,Rl,Ml,SHA512_Kh[Cl],SHA512_W_H[Cl]),Yl=Bl|0,Kl=u64.rotrSH(qs,Ys,28)^u64.rotrBH(qs,Ys,34)^u64.rotrBH(qs,Ys,39),Xl=u64.rotrSL(qs,Ys,28)^u64.rotrBL(qs,Ys,34)^u64.rotrBL(qs,Ys,39),Ul=qs&Xs^qs&yl^Xs&yl,Vl=Ys&Zs^Ys&Js^Zs&Js;xl=Il|0,Pl=Al|0,Il=Sl|0,Al=Tl|0,Sl=wl|0,Tl=_l|0,{h:wl,l:_l}=u64.add($l|0,El|0,Wl|0,Yl|0),$l=yl|0,El=Js|0,yl=Xs|0,Js=Zs|0,Xs=qs|0,Zs=Ys|0;const Nl=u64.add3L(Yl,Xl,Vl);qs=u64.add3H(Nl,Wl,Kl,Ul),Ys=Nl|0}({h:qs,l:Ys}=u64.add(this.Ah|0,this.Al|0,qs|0,Ys|0)),{h:Xs,l:Zs}=u64.add(this.Bh|0,this.Bl|0,Xs|0,Zs|0),{h:yl,l:Js}=u64.add(this.Ch|0,this.Cl|0,yl|0,Js|0),{h:$l,l:El}=u64.add(this.Dh|0,this.Dl|0,$l|0,El|0),{h:wl,l:_l}=u64.add(this.Eh|0,this.El|0,wl|0,_l|0),{h:Sl,l:Tl}=u64.add(this.Fh|0,this.Fl|0,Sl|0,Tl|0),{h:Il,l:Al}=u64.add(this.Gh|0,this.Gl|0,Il|0,Al|0),{h:xl,l:Pl}=u64.add(this.Hh|0,this.Hl|0,xl|0,Pl|0),this.set(qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al,xl,Pl)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();anyGlobal.crypto||anyGlobal.msCrypto;function createHash(at){switch(at){case"sha256":return sha256$1.create();case"sha512":return sha512.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",at)}const[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$j=BigInt(0),_1n$k=BigInt(1),_2n$a=BigInt(2),_7n$2=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let at=0,zs=_1n$k,Ws=1,qs=0;at<24;at++){[Ws,qs]=[qs,(2*Ws+3*qs)%5],SHA3_PI$1.push(2*(5*qs+Ws)),SHA3_ROTL$1.push((at+1)*(at+2)/2%64);let Ys=_0n$j;for(let Xs=0;Xs<7;Xs++)zs=(zs<<_1n$k^(zs>>_7n$2)*_0x71n$1)%_256n$1,zs&_2n$a&&(Ys^=_1n$k<<(_1n$k<<BigInt(Xs))-_1n$k);_SHA3_IOTA$1.push(Ys)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=split(_SHA3_IOTA$1,!0),rotlH$1=(at,zs,Ws)=>Ws>32?rotlBH(at,zs,Ws):rotlSH(at,zs,Ws),rotlL$1=(at,zs,Ws)=>Ws>32?rotlBL(at,zs,Ws):rotlSL(at,zs,Ws);function keccakP$1(at,zs=24){const Ws=new Uint32Array(10);for(let qs=24-zs;qs<24;qs++){for(let Zs=0;Zs<10;Zs++)Ws[Zs]=at[Zs]^at[Zs+10]^at[Zs+20]^at[Zs+30]^at[Zs+40];for(let Zs=0;Zs<10;Zs+=2){const yl=(Zs+8)%10,Js=(Zs+2)%10,$l=Ws[Js],El=Ws[Js+1],wl=rotlH$1($l,El,1)^Ws[yl],_l=rotlL$1($l,El,1)^Ws[yl+1];for(let Sl=0;Sl<50;Sl+=10)at[Zs+Sl]^=wl,at[Zs+Sl+1]^=_l}let Ys=at[2],Xs=at[3];for(let Zs=0;Zs<24;Zs++){const yl=SHA3_ROTL$1[Zs],Js=rotlH$1(Ys,Xs,yl),$l=rotlL$1(Ys,Xs,yl),El=SHA3_PI$1[Zs];Ys=at[El],Xs=at[El+1],at[El]=Js,at[El+1]=$l}for(let Zs=0;Zs<50;Zs+=10){for(let yl=0;yl<10;yl++)Ws[yl]=at[Zs+yl];for(let yl=0;yl<10;yl++)at[Zs+yl]^=~Ws[(yl+2)%10]&Ws[(yl+4)%10]}at[0]^=SHA3_IOTA_H$1[qs],at[1]^=SHA3_IOTA_L$1[qs]}Ws.fill(0)}let Keccak$1=class c0 extends Hash{constructor(zs,Ws,qs,Ys=!1,Xs=24){if(super(),this.blockLen=zs,this.suffix=Ws,this.outputLen=qs,this.enableXOF=Ys,this.rounds=Xs,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(qs),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(zs){exists(this);const{blockLen:Ws,state:qs}=this;zs=toBytes$1(zs);const Ys=zs.length;for(let Xs=0;Xs<Ys;){const Zs=Math.min(Ws-this.pos,Ys-Xs);for(let yl=0;yl<Zs;yl++)qs[this.pos++]^=zs[Xs++];this.pos===Ws&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:zs,suffix:Ws,pos:qs,blockLen:Ys}=this;zs[qs]^=Ws,Ws&128&&qs===Ys-1&&this.keccak(),zs[Ys-1]^=128,this.keccak()}writeInto(zs){exists(this,!1),bytes(zs),this.finish();const Ws=this.state,{blockLen:qs}=this;for(let Ys=0,Xs=zs.length;Ys<Xs;){this.posOut>=qs&&this.keccak();const Zs=Math.min(qs-this.posOut,Xs-Ys);zs.set(Ws.subarray(this.posOut,this.posOut+Zs),Ys),this.posOut+=Zs,Ys+=Zs}return zs}xofInto(zs){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(zs)}xof(zs){return number(zs),this.xofInto(new Uint8Array(zs))}digestInto(zs){if(output(zs,this),this.finished)throw new Error("digest() was already called");return this.writeInto(zs),this.destroy(),zs}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(zs){const{blockLen:Ws,suffix:qs,outputLen:Ys,rounds:Xs,enableXOF:Zs}=this;return zs||(zs=new c0(Ws,qs,Ys,Zs,Xs)),zs.state32.set(this.state32),zs.pos=this.pos,zs.posOut=this.posOut,zs.finished=this.finished,zs.rounds=Xs,zs.suffix=qs,zs.outputLen=Ys,zs.enableXOF=Zs,zs.destroyed=this.destroyed,zs}};const gen$1=(at,zs,Ws)=>wrapConstructor(()=>new Keccak$1(zs,at,Ws)),keccak_256$1=gen$1(1,136,256/8);let locked=!1;const _keccak256=function(at){return keccak_256$1(at)};let __keccak256=_keccak256;function keccak256$2(at){const zs=getBytes(at,"data");return hexlify(__keccak256(zs))}keccak256$2._=_keccak256,keccak256$2.lock=function(){locked=!0},keccak256$2.register=function(at){if(locked)throw new TypeError("keccak256 is locked");__keccak256=at},Object.freeze(keccak256$2);const _sha256=function(at){return createHash("sha256").update(at).digest()};let __sha256=_sha256,locked256=!1;function sha256(at){const zs=getBytes(at,"data");return hexlify(__sha256(zs))}sha256._=_sha256,sha256.lock=function(){locked256=!0},sha256.register=function(at){if(locked256)throw new Error("sha256 is locked");__sha256=at},Object.freeze(sha256),Object.freeze(sha256);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$i=BigInt(0),_1n$j=BigInt(1),_2n$9=BigInt(2),u8a=at=>at instanceof Uint8Array,hexes$4=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function bytesToHex$3(at){if(!u8a(at))throw new Error("Uint8Array expected");let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=hexes$4[at[Ws]];return zs}function numberToHexUnpadded$3(at){const zs=at.toString(16);return zs.length&1?`0${zs}`:zs}function hexToNumber$4(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return BigInt(at===""?"0":`0x${at}`)}function hexToBytes$3(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);const zs=at.length;if(zs%2)throw new Error("padded hex string expected, got unpadded hex of length "+zs);const Ws=new Uint8Array(zs/2);for(let qs=0;qs<Ws.length;qs++){const Ys=qs*2,Xs=at.slice(Ys,Ys+2),Zs=Number.parseInt(Xs,16);if(Number.isNaN(Zs)||Zs<0)throw new Error("Invalid byte sequence");Ws[qs]=Zs}return Ws}function bytesToNumberBE$3(at){return hexToNumber$4(bytesToHex$3(at))}function bytesToNumberLE$3(at){if(!u8a(at))throw new Error("Uint8Array expected");return hexToNumber$4(bytesToHex$3(Uint8Array.from(at).reverse()))}function numberToBytesBE$3(at,zs){return hexToBytes$3(at.toString(16).padStart(zs*2,"0"))}function numberToBytesLE$3(at,zs){return numberToBytesBE$3(at,zs).reverse()}function numberToVarBytesBE(at){return hexToBytes$3(numberToHexUnpadded$3(at))}function ensureBytes$3(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=hexToBytes$3(zs)}catch(Xs){throw new Error(`${at} must be valid hex string, got "${zs}". Cause: ${Xs}`)}else if(u8a(zs))qs=Uint8Array.from(zs);else throw new Error(`${at} must be hex string or Uint8Array`);const Ys=qs.length;if(typeof Ws=="number"&&Ys!==Ws)throw new Error(`${at} expected ${Ws} bytes, got ${Ys}`);return qs}function concatBytes$3(...at){const zs=new Uint8Array(at.reduce((qs,Ys)=>qs+Ys.length,0));let Ws=0;return at.forEach(qs=>{if(!u8a(qs))throw new Error("Uint8Array expected");zs.set(qs,Ws),Ws+=qs.length}),zs}function equalBytes(at,zs){if(at.length!==zs.length)return!1;for(let Ws=0;Ws<at.length;Ws++)if(at[Ws]!==zs[Ws])return!1;return!0}function utf8ToBytes(at){if(typeof at!="string")throw new Error(`utf8ToBytes expected string, got ${typeof at}`);return new Uint8Array(new TextEncoder().encode(at))}function bitLen$3(at){let zs;for(zs=0;at>_0n$i;at>>=_1n$j,zs+=1);return zs}function bitGet(at,zs){return at>>BigInt(zs)&_1n$j}const bitSet=(at,zs,Ws)=>at|(Ws?_1n$j:_0n$i)<<BigInt(zs),bitMask$3=at=>(_2n$9<<BigInt(at-1))-_1n$j,u8n$2=at=>new Uint8Array(at),u8fr$2=at=>Uint8Array.from(at);function createHmacDrbg$3(at,zs,Ws){if(typeof at!="number"||at<2)throw new Error("hashLen must be a number");if(typeof zs!="number"||zs<2)throw new Error("qByteLen must be a number");if(typeof Ws!="function")throw new Error("hmacFn must be a function");let qs=u8n$2(at),Ys=u8n$2(at),Xs=0;const Zs=()=>{qs.fill(1),Ys.fill(0),Xs=0},yl=(...wl)=>Ws(Ys,qs,...wl),Js=(wl=u8n$2())=>{Ys=yl(u8fr$2([0]),wl),qs=yl(),wl.length!==0&&(Ys=yl(u8fr$2([1]),wl),qs=yl())},$l=()=>{if(Xs++>=1e3)throw new Error("drbg: tried 1000 values");let wl=0;const _l=[];for(;wl<zs;){qs=yl();const Sl=qs.slice();_l.push(Sl),wl+=qs.length}return concatBytes$3(..._l)};return(wl,_l)=>{Zs(),Js(wl);let Sl;for(;!(Sl=_l($l()));)Js();return Zs(),Sl}}const validatorFns$2={bigint:at=>typeof at=="bigint",function:at=>typeof at=="function",boolean:at=>typeof at=="boolean",string:at=>typeof at=="string",stringOrUint8Array:at=>typeof at=="string"||at instanceof Uint8Array,isSafeInteger:at=>Number.isSafeInteger(at),array:at=>Array.isArray(at),field:(at,zs)=>zs.Fp.isValid(at),hash:at=>typeof at=="function"&&Number.isSafeInteger(at.outputLen)};function validateObject$2(at,zs,Ws={}){const qs=(Ys,Xs,Zs)=>{const yl=validatorFns$2[Xs];if(typeof yl!="function")throw new Error(`Invalid validator "${Xs}", expected function`);const Js=at[Ys];if(!(Zs&&Js===void 0)&&!yl(Js,at))throw new Error(`Invalid param ${String(Ys)}=${Js} (${typeof Js}), expected ${Xs}`)};for(const[Ys,Xs]of Object.entries(zs))qs(Ys,Xs,!1);for(const[Ys,Xs]of Object.entries(Ws))qs(Ys,Xs,!0);return at}const ut$3=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen:bitLen$3,bitMask:bitMask$3,bitSet,bytesToHex:bytesToHex$3,bytesToNumberBE:bytesToNumberBE$3,bytesToNumberLE:bytesToNumberLE$3,concatBytes:concatBytes$3,createHmacDrbg:createHmacDrbg$3,ensureBytes:ensureBytes$3,equalBytes,hexToBytes:hexToBytes$3,hexToNumber:hexToNumber$4,numberToBytesBE:numberToBytesBE$3,numberToBytesLE:numberToBytesLE$3,numberToHexUnpadded:numberToHexUnpadded$3,numberToVarBytesBE,utf8ToBytes,validateObject:validateObject$2},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$h=BigInt(0),_1n$i=BigInt(1),_2n$8=BigInt(2),_3n$7=BigInt(3),_4n$6=BigInt(4),_5n$3=BigInt(5),_8n$3=BigInt(8);BigInt(9),BigInt(16);function mod$3(at,zs){const Ws=at%zs;return Ws>=_0n$h?Ws:zs+Ws}function pow(at,zs,Ws){if(Ws<=_0n$h||zs<_0n$h)throw new Error("Expected power/modulo > 0");if(Ws===_1n$i)return _0n$h;let qs=_1n$i;for(;zs>_0n$h;)zs&_1n$i&&(qs=qs*at%Ws),at=at*at%Ws,zs>>=_1n$i;return qs}function pow2$2(at,zs,Ws){let qs=at;for(;zs-- >_0n$h;)qs*=qs,qs%=Ws;return qs}function invert$3(at,zs){if(at===_0n$h||zs<=_0n$h)throw new Error(`invert: expected positive integers, got n=${at} mod=${zs}`);let Ws=mod$3(at,zs),qs=zs,Ys=_0n$h,Xs=_1n$i;for(;Ws!==_0n$h;){const yl=qs/Ws,Js=qs%Ws,$l=Ys-Xs*yl;qs=Ws,Ws=Js,Ys=Xs,Xs=$l}if(qs!==_1n$i)throw new Error("invert: does not exist");return mod$3(Ys,zs)}function tonelliShanks$3(at){const zs=(at-_1n$i)/_2n$8;let Ws,qs,Ys;for(Ws=at-_1n$i,qs=0;Ws%_2n$8===_0n$h;Ws/=_2n$8,qs++);for(Ys=_2n$8;Ys<at&&pow(Ys,zs,at)!==at-_1n$i;Ys++);if(qs===1){const Zs=(at+_1n$i)/_4n$6;return function(Js,$l){const El=Js.pow($l,Zs);if(!Js.eql(Js.sqr(El),$l))throw new Error("Cannot find square root");return El}}const Xs=(Ws+_1n$i)/_2n$8;return function(yl,Js){if(yl.pow(Js,zs)===yl.neg(yl.ONE))throw new Error("Cannot find square root");let $l=qs,El=yl.pow(yl.mul(yl.ONE,Ys),Ws),wl=yl.pow(Js,Xs),_l=yl.pow(Js,Ws);for(;!yl.eql(_l,yl.ONE);){if(yl.eql(_l,yl.ZERO))return yl.ZERO;let Sl=1;for(let Il=yl.sqr(_l);Sl<$l&&!yl.eql(Il,yl.ONE);Sl++)Il=yl.sqr(Il);const Tl=yl.pow(El,_1n$i<<BigInt($l-Sl-1));El=yl.sqr(Tl),wl=yl.mul(wl,Tl),_l=yl.mul(_l,El),$l=Sl}return wl}}function FpSqrt$3(at){if(at%_4n$6===_3n$7){const zs=(at+_1n$i)/_4n$6;return function(qs,Ys){const Xs=qs.pow(Ys,zs);if(!qs.eql(qs.sqr(Xs),Ys))throw new Error("Cannot find square root");return Xs}}if(at%_8n$3===_5n$3){const zs=(at-_5n$3)/_8n$3;return function(qs,Ys){const Xs=qs.mul(Ys,_2n$8),Zs=qs.pow(Xs,zs),yl=qs.mul(Ys,Zs),Js=qs.mul(qs.mul(yl,_2n$8),Zs),$l=qs.mul(yl,qs.sub(Js,qs.ONE));if(!qs.eql(qs.sqr($l),Ys))throw new Error("Cannot find square root");return $l}}return tonelliShanks$3(at)}const FIELD_FIELDS$3=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$3(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Ws=FIELD_FIELDS$3.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return validateObject$2(at,Ws)}function FpPow$3(at,zs,Ws){if(Ws<_0n$h)throw new Error("Expected power > 0");if(Ws===_0n$h)return at.ONE;if(Ws===_1n$i)return zs;let qs=at.ONE,Ys=zs;for(;Ws>_0n$h;)Ws&_1n$i&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=_1n$i;return qs}function FpInvertBatch$3(at,zs){const Ws=new Array(zs.length),qs=zs.reduce((Xs,Zs,yl)=>at.is0(Zs)?Xs:(Ws[yl]=Xs,at.mul(Xs,Zs)),at.ONE),Ys=at.inv(qs);return zs.reduceRight((Xs,Zs,yl)=>at.is0(Zs)?Xs:(Ws[yl]=at.mul(Xs,Ws[yl]),at.mul(Xs,Zs)),Ys),Ws}function nLength$3(at,zs){const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function Field$3(at,zs,Ws=!1,qs={}){if(at<=_0n$h)throw new Error(`Expected Field ORDER > 0, got ${at}`);const{nBitLength:Ys,nByteLength:Xs}=nLength$3(at,zs);if(Xs>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Zs=FpSqrt$3(at),yl=Object.freeze({ORDER:at,BITS:Ys,BYTES:Xs,MASK:bitMask$3(Ys),ZERO:_0n$h,ONE:_1n$i,create:Js=>mod$3(Js,at),isValid:Js=>{if(typeof Js!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Js}`);return _0n$h<=Js&&Js<at},is0:Js=>Js===_0n$h,isOdd:Js=>(Js&_1n$i)===_1n$i,neg:Js=>mod$3(-Js,at),eql:(Js,$l)=>Js===$l,sqr:Js=>mod$3(Js*Js,at),add:(Js,$l)=>mod$3(Js+$l,at),sub:(Js,$l)=>mod$3(Js-$l,at),mul:(Js,$l)=>mod$3(Js*$l,at),pow:(Js,$l)=>FpPow$3(yl,Js,$l),div:(Js,$l)=>mod$3(Js*invert$3($l,at),at),sqrN:Js=>Js*Js,addN:(Js,$l)=>Js+$l,subN:(Js,$l)=>Js-$l,mulN:(Js,$l)=>Js*$l,inv:Js=>invert$3(Js,at),sqrt:qs.sqrt||(Js=>Zs(yl,Js)),invertBatch:Js=>FpInvertBatch$3(yl,Js),cmov:(Js,$l,El)=>El?$l:Js,toBytes:Js=>Ws?numberToBytesLE$3(Js,Xs):numberToBytesBE$3(Js,Xs),fromBytes:Js=>{if(Js.length!==Xs)throw new Error(`Fp.fromBytes: expected ${Xs}, got ${Js.length}`);return Ws?bytesToNumberLE$3(Js):bytesToNumberBE$3(Js)}});return Object.freeze(yl)}function getFieldBytesLength$3(at){if(typeof at!="bigint")throw new Error("field order must be bigint");const zs=at.toString(2).length;return Math.ceil(zs/8)}function getMinHashLength$3(at){const zs=getFieldBytesLength$3(at);return zs+Math.ceil(zs/2)}function mapHashToField$3(at,zs,Ws=!1){const qs=at.length,Ys=getFieldBytesLength$3(zs),Xs=getMinHashLength$3(zs);if(qs<16||qs<Xs||qs>1024)throw new Error(`expected ${Xs}-1024 bytes of input, got ${qs}`);const Zs=Ws?bytesToNumberBE$3(at):bytesToNumberLE$3(at),yl=mod$3(Zs,zs-_1n$i)+_1n$i;return Ws?numberToBytesLE$3(yl,Ys):numberToBytesBE$3(yl,Ys)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$g=BigInt(0),_1n$h=BigInt(1);function wNAF$3(at,zs){const Ws=(Ys,Xs)=>{const Zs=Xs.negate();return Ys?Zs:Xs},qs=Ys=>{const Xs=Math.ceil(zs/Ys)+1,Zs=2**(Ys-1);return{windows:Xs,windowSize:Zs}};return{constTimeNegate:Ws,unsafeLadder(Ys,Xs){let Zs=at.ZERO,yl=Ys;for(;Xs>_0n$g;)Xs&_1n$h&&(Zs=Zs.add(yl)),yl=yl.double(),Xs>>=_1n$h;return Zs},precomputeWindow(Ys,Xs){const{windows:Zs,windowSize:yl}=qs(Xs),Js=[];let $l=Ys,El=$l;for(let wl=0;wl<Zs;wl++){El=$l,Js.push(El);for(let _l=1;_l<yl;_l++)El=El.add($l),Js.push(El);$l=El.double()}return Js},wNAF(Ys,Xs,Zs){const{windows:yl,windowSize:Js}=qs(Ys);let $l=at.ZERO,El=at.BASE;const wl=BigInt(2**Ys-1),_l=2**Ys,Sl=BigInt(Ys);for(let Tl=0;Tl<yl;Tl++){const Il=Tl*Js;let Al=Number(Zs&wl);Zs>>=Sl,Al>Js&&(Al-=_l,Zs+=_1n$h);const xl=Il,Pl=Il+Math.abs(Al)-1,Cl=Tl%2!==0,Rl=Al<0;Al===0?El=El.add(Ws(Cl,Xs[xl])):$l=$l.add(Ws(Rl,Xs[Pl]))}return{p:$l,f:El}},wNAFCached(Ys,Xs,Zs,yl){const Js=Ys._WINDOW_SIZE||1;let $l=Xs.get(Ys);return $l||($l=this.precomputeWindow(Ys,Js),Js!==1&&Xs.set(Ys,yl($l))),this.wNAF(Js,$l,Zs)}}}function validateBasic$2(at){return validateField$3(at.Fp),validateObject$2(at,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$3(at.n,at.nBitLength),...at,p:at.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$2(at){const zs=validateBasic$2(at);validateObject$2(zs,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:Ws,Fp:qs,a:Ys}=zs;if(Ws){if(!qs.eql(Ys,qs.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof Ws!="object"||typeof Ws.beta!="bigint"||typeof Ws.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...zs})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$3,DER$3={Err:class extends Error{constructor(zs=""){super(zs)}},_parseInt(at){const{Err:zs}=DER$3;if(at.length<2||at[0]!==2)throw new zs("Invalid signature integer tag");const Ws=at[1],qs=at.subarray(2,Ws+2);if(!Ws||qs.length!==Ws)throw new zs("Invalid signature integer: wrong length");if(qs[0]&128)throw new zs("Invalid signature integer: negative");if(qs[0]===0&&!(qs[1]&128))throw new zs("Invalid signature integer: unnecessary leading zero");return{d:b2n(qs),l:at.subarray(Ws+2)}},toSig(at){const{Err:zs}=DER$3,Ws=typeof at=="string"?h2b(at):at;if(!(Ws instanceof Uint8Array))throw new Error("ui8a expected");let qs=Ws.length;if(qs<2||Ws[0]!=48)throw new zs("Invalid signature tag");if(Ws[1]!==qs-2)throw new zs("Invalid signature: incorrect length");const{d:Ys,l:Xs}=DER$3._parseInt(Ws.subarray(2)),{d:Zs,l:yl}=DER$3._parseInt(Xs);if(yl.length)throw new zs("Invalid signature: left bytes after parsing");return{r:Ys,s:Zs}},hexFromSig(at){const zs=$l=>Number.parseInt($l[0],16)&8?"00"+$l:$l,Ws=$l=>{const El=$l.toString(16);return El.length&1?`0${El}`:El},qs=zs(Ws(at.s)),Ys=zs(Ws(at.r)),Xs=qs.length/2,Zs=Ys.length/2,yl=Ws(Xs),Js=Ws(Zs);return`30${Ws(Zs+Xs+4)}02${Js}${Ys}02${yl}${qs}`}},_0n$f=BigInt(0),_1n$g=BigInt(1);BigInt(2);const _3n$6=BigInt(3);BigInt(4);function weierstrassPoints$2(at){const zs=validatePointOpts$2(at),{Fp:Ws}=zs,qs=zs.toBytes||((Tl,Il,Al)=>{const xl=Il.toAffine();return concatBytes$3(Uint8Array.from([4]),Ws.toBytes(xl.x),Ws.toBytes(xl.y))}),Ys=zs.fromBytes||(Tl=>{const Il=Tl.subarray(1),Al=Ws.fromBytes(Il.subarray(0,Ws.BYTES)),xl=Ws.fromBytes(Il.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Al,y:xl}});function Xs(Tl){const{a:Il,b:Al}=zs,xl=Ws.sqr(Tl),Pl=Ws.mul(xl,Tl);return Ws.add(Ws.add(Pl,Ws.mul(Tl,Il)),Al)}if(!Ws.eql(Ws.sqr(zs.Gy),Xs(zs.Gx)))throw new Error("bad generator point: equation left != right");function Zs(Tl){return typeof Tl=="bigint"&&_0n$f<Tl&&Tl<zs.n}function yl(Tl){if(!Zs(Tl))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Js(Tl){const{allowedPrivateKeyLengths:Il,nByteLength:Al,wrapPrivateKey:xl,n:Pl}=zs;if(Il&&typeof Tl!="bigint"){if(Tl instanceof Uint8Array&&(Tl=bytesToHex$3(Tl)),typeof Tl!="string"||!Il.includes(Tl.length))throw new Error("Invalid key");Tl=Tl.padStart(Al*2,"0")}let Cl;try{Cl=typeof Tl=="bigint"?Tl:bytesToNumberBE$3(ensureBytes$3("private key",Tl,Al))}catch{throw new Error(`private key must be ${Al} bytes, hex or bigint, not ${typeof Tl}`)}return xl&&(Cl=mod$3(Cl,Pl)),yl(Cl),Cl}const $l=new Map;function El(Tl){if(!(Tl instanceof wl))throw new Error("ProjectivePoint expected")}class wl{constructor(Il,Al,xl){if(this.px=Il,this.py=Al,this.pz=xl,Il==null||!Ws.isValid(Il))throw new Error("x required");if(Al==null||!Ws.isValid(Al))throw new Error("y required");if(xl==null||!Ws.isValid(xl))throw new Error("z required")}static fromAffine(Il){const{x:Al,y:xl}=Il||{};if(!Il||!Ws.isValid(Al)||!Ws.isValid(xl))throw new Error("invalid affine point");if(Il instanceof wl)throw new Error("projective point not allowed");const Pl=Cl=>Ws.eql(Cl,Ws.ZERO);return Pl(Al)&&Pl(xl)?wl.ZERO:new wl(Al,xl,Ws.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Il){const Al=Ws.invertBatch(Il.map(xl=>xl.pz));return Il.map((xl,Pl)=>xl.toAffine(Al[Pl])).map(wl.fromAffine)}static fromHex(Il){const Al=wl.fromAffine(Ys(ensureBytes$3("pointHex",Il)));return Al.assertValidity(),Al}static fromPrivateKey(Il){return wl.BASE.multiply(Js(Il))}_setWindowSize(Il){this._WINDOW_SIZE=Il,$l.delete(this)}assertValidity(){if(this.is0()){if(zs.allowInfinityPoint&&!Ws.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Il,y:Al}=this.toAffine();if(!Ws.isValid(Il)||!Ws.isValid(Al))throw new Error("bad point: x or y not FE");const xl=Ws.sqr(Al),Pl=Xs(Il);if(!Ws.eql(xl,Pl))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Il}=this.toAffine();if(Ws.isOdd)return!Ws.isOdd(Il);throw new Error("Field doesn't support isOdd")}equals(Il){El(Il);const{px:Al,py:xl,pz:Pl}=this,{px:Cl,py:Rl,pz:Ol}=Il,Ml=Ws.eql(Ws.mul(Al,Ol),Ws.mul(Cl,Pl)),Ll=Ws.eql(Ws.mul(xl,Ol),Ws.mul(Rl,Pl));return Ml&&Ll}negate(){return new wl(this.px,Ws.neg(this.py),this.pz)}double(){const{a:Il,b:Al}=zs,xl=Ws.mul(Al,_3n$6),{px:Pl,py:Cl,pz:Rl}=this;let Ol=Ws.ZERO,Ml=Ws.ZERO,Ll=Ws.ZERO,Bl=Ws.mul(Pl,Pl),Wl=Ws.mul(Cl,Cl),Yl=Ws.mul(Rl,Rl),Kl=Ws.mul(Pl,Cl);return Kl=Ws.add(Kl,Kl),Ll=Ws.mul(Pl,Rl),Ll=Ws.add(Ll,Ll),Ol=Ws.mul(Il,Ll),Ml=Ws.mul(xl,Yl),Ml=Ws.add(Ol,Ml),Ol=Ws.sub(Wl,Ml),Ml=Ws.add(Wl,Ml),Ml=Ws.mul(Ol,Ml),Ol=Ws.mul(Kl,Ol),Ll=Ws.mul(xl,Ll),Yl=Ws.mul(Il,Yl),Kl=Ws.sub(Bl,Yl),Kl=Ws.mul(Il,Kl),Kl=Ws.add(Kl,Ll),Ll=Ws.add(Bl,Bl),Bl=Ws.add(Ll,Bl),Bl=Ws.add(Bl,Yl),Bl=Ws.mul(Bl,Kl),Ml=Ws.add(Ml,Bl),Yl=Ws.mul(Cl,Rl),Yl=Ws.add(Yl,Yl),Bl=Ws.mul(Yl,Kl),Ol=Ws.sub(Ol,Bl),Ll=Ws.mul(Yl,Wl),Ll=Ws.add(Ll,Ll),Ll=Ws.add(Ll,Ll),new wl(Ol,Ml,Ll)}add(Il){El(Il);const{px:Al,py:xl,pz:Pl}=this,{px:Cl,py:Rl,pz:Ol}=Il;let Ml=Ws.ZERO,Ll=Ws.ZERO,Bl=Ws.ZERO;const Wl=zs.a,Yl=Ws.mul(zs.b,_3n$6);let Kl=Ws.mul(Al,Cl),Xl=Ws.mul(xl,Rl),Ul=Ws.mul(Pl,Ol),Vl=Ws.add(Al,xl),Nl=Ws.add(Cl,Rl);Vl=Ws.mul(Vl,Nl),Nl=Ws.add(Kl,Xl),Vl=Ws.sub(Vl,Nl),Nl=Ws.add(Al,Pl);let Dl=Ws.add(Cl,Ol);return Nl=Ws.mul(Nl,Dl),Dl=Ws.add(Kl,Ul),Nl=Ws.sub(Nl,Dl),Dl=Ws.add(xl,Pl),Ml=Ws.add(Rl,Ol),Dl=Ws.mul(Dl,Ml),Ml=Ws.add(Xl,Ul),Dl=Ws.sub(Dl,Ml),Bl=Ws.mul(Wl,Nl),Ml=Ws.mul(Yl,Ul),Bl=Ws.add(Ml,Bl),Ml=Ws.sub(Xl,Bl),Bl=Ws.add(Xl,Bl),Ll=Ws.mul(Ml,Bl),Xl=Ws.add(Kl,Kl),Xl=Ws.add(Xl,Kl),Ul=Ws.mul(Wl,Ul),Nl=Ws.mul(Yl,Nl),Xl=Ws.add(Xl,Ul),Ul=Ws.sub(Kl,Ul),Ul=Ws.mul(Wl,Ul),Nl=Ws.add(Nl,Ul),Kl=Ws.mul(Xl,Nl),Ll=Ws.add(Ll,Kl),Kl=Ws.mul(Dl,Nl),Ml=Ws.mul(Vl,Ml),Ml=Ws.sub(Ml,Kl),Kl=Ws.mul(Vl,Xl),Bl=Ws.mul(Dl,Bl),Bl=Ws.add(Bl,Kl),new wl(Ml,Ll,Bl)}subtract(Il){return this.add(Il.negate())}is0(){return this.equals(wl.ZERO)}wNAF(Il){return Sl.wNAFCached(this,$l,Il,Al=>{const xl=Ws.invertBatch(Al.map(Pl=>Pl.pz));return Al.map((Pl,Cl)=>Pl.toAffine(xl[Cl])).map(wl.fromAffine)})}multiplyUnsafe(Il){const Al=wl.ZERO;if(Il===_0n$f)return Al;if(yl(Il),Il===_1n$g)return this;const{endo:xl}=zs;if(!xl)return Sl.unsafeLadder(this,Il);let{k1neg:Pl,k1:Cl,k2neg:Rl,k2:Ol}=xl.splitScalar(Il),Ml=Al,Ll=Al,Bl=this;for(;Cl>_0n$f||Ol>_0n$f;)Cl&_1n$g&&(Ml=Ml.add(Bl)),Ol&_1n$g&&(Ll=Ll.add(Bl)),Bl=Bl.double(),Cl>>=_1n$g,Ol>>=_1n$g;return Pl&&(Ml=Ml.negate()),Rl&&(Ll=Ll.negate()),Ll=new wl(Ws.mul(Ll.px,xl.beta),Ll.py,Ll.pz),Ml.add(Ll)}multiply(Il){yl(Il);let Al=Il,xl,Pl;const{endo:Cl}=zs;if(Cl){const{k1neg:Rl,k1:Ol,k2neg:Ml,k2:Ll}=Cl.splitScalar(Al);let{p:Bl,f:Wl}=this.wNAF(Ol),{p:Yl,f:Kl}=this.wNAF(Ll);Bl=Sl.constTimeNegate(Rl,Bl),Yl=Sl.constTimeNegate(Ml,Yl),Yl=new wl(Ws.mul(Yl.px,Cl.beta),Yl.py,Yl.pz),xl=Bl.add(Yl),Pl=Wl.add(Kl)}else{const{p:Rl,f:Ol}=this.wNAF(Al);xl=Rl,Pl=Ol}return wl.normalizeZ([xl,Pl])[0]}multiplyAndAddUnsafe(Il,Al,xl){const Pl=wl.BASE,Cl=(Ol,Ml)=>Ml===_0n$f||Ml===_1n$g||!Ol.equals(Pl)?Ol.multiplyUnsafe(Ml):Ol.multiply(Ml),Rl=Cl(this,Al).add(Cl(Il,xl));return Rl.is0()?void 0:Rl}toAffine(Il){const{px:Al,py:xl,pz:Pl}=this,Cl=this.is0();Il==null&&(Il=Cl?Ws.ONE:Ws.inv(Pl));const Rl=Ws.mul(Al,Il),Ol=Ws.mul(xl,Il),Ml=Ws.mul(Pl,Il);if(Cl)return{x:Ws.ZERO,y:Ws.ZERO};if(!Ws.eql(Ml,Ws.ONE))throw new Error("invZ was invalid");return{x:Rl,y:Ol}}isTorsionFree(){const{h:Il,isTorsionFree:Al}=zs;if(Il===_1n$g)return!0;if(Al)return Al(wl,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Il,clearCofactor:Al}=zs;return Il===_1n$g?this:Al?Al(wl,this):this.multiplyUnsafe(zs.h)}toRawBytes(Il=!0){return this.assertValidity(),qs(wl,this,Il)}toHex(Il=!0){return bytesToHex$3(this.toRawBytes(Il))}}wl.BASE=new wl(zs.Gx,zs.Gy,Ws.ONE),wl.ZERO=new wl(Ws.ZERO,Ws.ONE,Ws.ZERO);const _l=zs.nBitLength,Sl=wNAF$3(wl,zs.endo?Math.ceil(_l/2):_l);return{CURVE:zs,ProjectivePoint:wl,normPrivateKeyToScalar:Js,weierstrassEquation:Xs,isWithinCurveOrder:Zs}}function validateOpts$2(at){const zs=validateBasic$2(at);return validateObject$2(zs,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...zs})}function weierstrass$3(at){const zs=validateOpts$2(at),{Fp:Ws,n:qs}=zs,Ys=Ws.BYTES+1,Xs=2*Ws.BYTES+1;function Zs(Nl){return _0n$f<Nl&&Nl<Ws.ORDER}function yl(Nl){return mod$3(Nl,qs)}function Js(Nl){return invert$3(Nl,qs)}const{ProjectivePoint:$l,normPrivateKeyToScalar:El,weierstrassEquation:wl,isWithinCurveOrder:_l}=weierstrassPoints$2({...zs,toBytes(Nl,Dl,Gl){const Fl=Dl.toAffine(),Hl=Ws.toBytes(Fl.x),Zl=concatBytes$3;return Gl?Zl(Uint8Array.from([Dl.hasEvenY()?2:3]),Hl):Zl(Uint8Array.from([4]),Hl,Ws.toBytes(Fl.y))},fromBytes(Nl){const Dl=Nl.length,Gl=Nl[0],Fl=Nl.subarray(1);if(Dl===Ys&&(Gl===2||Gl===3)){const Hl=bytesToNumberBE$3(Fl);if(!Zs(Hl))throw new Error("Point is not on curve");const Zl=wl(Hl);let Su=Ws.sqrt(Zl);const $u=(Su&_1n$g)===_1n$g;return(Gl&1)===1!==$u&&(Su=Ws.neg(Su)),{x:Hl,y:Su}}else if(Dl===Xs&&Gl===4){const Hl=Ws.fromBytes(Fl.subarray(0,Ws.BYTES)),Zl=Ws.fromBytes(Fl.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Hl,y:Zl}}else throw new Error(`Point of length ${Dl} was invalid. Expected ${Ys} compressed bytes or ${Xs} uncompressed bytes`)}}),Sl=Nl=>bytesToHex$3(numberToBytesBE$3(Nl,zs.nByteLength));function Tl(Nl){const Dl=qs>>_1n$g;return Nl>Dl}function Il(Nl){return Tl(Nl)?yl(-Nl):Nl}const Al=(Nl,Dl,Gl)=>bytesToNumberBE$3(Nl.slice(Dl,Gl));class xl{constructor(Dl,Gl,Fl){this.r=Dl,this.s=Gl,this.recovery=Fl,this.assertValidity()}static fromCompact(Dl){const Gl=zs.nByteLength;return Dl=ensureBytes$3("compactSignature",Dl,Gl*2),new xl(Al(Dl,0,Gl),Al(Dl,Gl,2*Gl))}static fromDER(Dl){const{r:Gl,s:Fl}=DER$3.toSig(ensureBytes$3("DER",Dl));return new xl(Gl,Fl)}assertValidity(){if(!_l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Dl){return new xl(this.r,this.s,Dl)}recoverPublicKey(Dl){const{r:Gl,s:Fl,recovery:Hl}=this,Zl=Ll(ensureBytes$3("msgHash",Dl));if(Hl==null||![0,1,2,3].includes(Hl))throw new Error("recovery id invalid");const Su=Hl===2||Hl===3?Gl+zs.n:Gl;if(Su>=Ws.ORDER)throw new Error("recovery id 2 or 3 invalid");const $u=Hl&1?"03":"02",Pu=$l.fromHex($u+Sl(Su)),ku=Js(Su),Tu=yl(-Zl*ku),Ru=yl(Fl*ku),Mu=$l.BASE.multiplyAndAddUnsafe(Pu,Tu,Ru);if(!Mu)throw new Error("point at infinify");return Mu.assertValidity(),Mu}hasHighS(){return Tl(this.s)}normalizeS(){return this.hasHighS()?new xl(this.r,yl(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$3(this.toDERHex())}toDERHex(){return DER$3.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$3(this.toCompactHex())}toCompactHex(){return Sl(this.r)+Sl(this.s)}}const Pl={isValidPrivateKey(Nl){try{return El(Nl),!0}catch{return!1}},normPrivateKeyToScalar:El,randomPrivateKey:()=>{const Nl=getMinHashLength$3(zs.n);return mapHashToField$3(zs.randomBytes(Nl),zs.n)},precompute(Nl=8,Dl=$l.BASE){return Dl._setWindowSize(Nl),Dl.multiply(BigInt(3)),Dl}};function Cl(Nl,Dl=!0){return $l.fromPrivateKey(Nl).toRawBytes(Dl)}function Rl(Nl){const Dl=Nl instanceof Uint8Array,Gl=typeof Nl=="string",Fl=(Dl||Gl)&&Nl.length;return Dl?Fl===Ys||Fl===Xs:Gl?Fl===2*Ys||Fl===2*Xs:Nl instanceof $l}function Ol(Nl,Dl,Gl=!0){if(Rl(Nl))throw new Error("first arg must be private key");if(!Rl(Dl))throw new Error("second arg must be public key");return $l.fromHex(Dl).multiply(El(Nl)).toRawBytes(Gl)}const Ml=zs.bits2int||function(Nl){const Dl=bytesToNumberBE$3(Nl),Gl=Nl.length*8-zs.nBitLength;return Gl>0?Dl>>BigInt(Gl):Dl},Ll=zs.bits2int_modN||function(Nl){return yl(Ml(Nl))},Bl=bitMask$3(zs.nBitLength);function Wl(Nl){if(typeof Nl!="bigint")throw new Error("bigint expected");if(!(_0n$f<=Nl&&Nl<Bl))throw new Error(`bigint expected < 2^${zs.nBitLength}`);return numberToBytesBE$3(Nl,zs.nByteLength)}function Yl(Nl,Dl,Gl=Kl){if(["recovered","canonical"].some(Ku=>Ku in Gl))throw new Error("sign() legacy options not supported");const{hash:Fl,randomBytes:Hl}=zs;let{lowS:Zl,prehash:Su,extraEntropy:$u}=Gl;Zl==null&&(Zl=!0),Nl=ensureBytes$3("msgHash",Nl),Su&&(Nl=ensureBytes$3("prehashed msgHash",Fl(Nl)));const Pu=Ll(Nl),ku=El(Dl),Tu=[Wl(ku),Wl(Pu)];if($u!=null){const Ku=$u===!0?Hl(Ws.BYTES):$u;Tu.push(ensureBytes$3("extraEntropy",Ku))}const Ru=concatBytes$3(...Tu),Mu=Pu;function Hu(Ku){const Fu=Ml(Ku);if(!_l(Fu))return;const ju=Js(Fu),qu=$l.BASE.multiply(Fu).toAffine(),Zu=yl(qu.x);if(Zu===_0n$f)return;const _d=yl(ju*yl(Mu+Zu*ku));if(_d===_0n$f)return;let vp=(qu.x===Zu?0:2)|Number(qu.y&_1n$g),Ap=_d;return Zl&&Tl(_d)&&(Ap=Il(_d),vp^=1),new xl(Zu,Ap,vp)}return{seed:Ru,k2sig:Hu}}const Kl={lowS:zs.lowS,prehash:!1},Xl={lowS:zs.lowS,prehash:!1};function Ul(Nl,Dl,Gl=Kl){const{seed:Fl,k2sig:Hl}=Yl(Nl,Dl,Gl),Zl=zs;return createHmacDrbg$3(Zl.hash.outputLen,Zl.nByteLength,Zl.hmac)(Fl,Hl)}$l.BASE._setWindowSize(8);function Vl(Nl,Dl,Gl,Fl=Xl){var qu;const Hl=Nl;if(Dl=ensureBytes$3("msgHash",Dl),Gl=ensureBytes$3("publicKey",Gl),"strict"in Fl)throw new Error("options.strict was renamed to lowS");const{lowS:Zl,prehash:Su}=Fl;let $u,Pu;try{if(typeof Hl=="string"||Hl instanceof Uint8Array)try{$u=xl.fromDER(Hl)}catch(Zu){if(!(Zu instanceof DER$3.Err))throw Zu;$u=xl.fromCompact(Hl)}else if(typeof Hl=="object"&&typeof Hl.r=="bigint"&&typeof Hl.s=="bigint"){const{r:Zu,s:_d}=Hl;$u=new xl(Zu,_d)}else throw new Error("PARSE");Pu=$l.fromHex(Gl)}catch(Zu){if(Zu.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Zl&&$u.hasHighS())return!1;Su&&(Dl=zs.hash(Dl));const{r:ku,s:Tu}=$u,Ru=Ll(Dl),Mu=Js(Tu),Hu=yl(Ru*Mu),Ku=yl(ku*Mu),Fu=(qu=$l.BASE.multiplyAndAddUnsafe(Pu,Hu,Ku))==null?void 0:qu.toAffine();return Fu?yl(Fu.x)===ku:!1}return{CURVE:zs,getPublicKey:Cl,getSharedSecret:Ol,sign:Ul,verify:Vl,ProjectivePoint:$l,Signature:xl,utils:Pl}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$2(at){return{hash:at,hmac:(zs,...Ws)=>hmac(at,zs,concatBytes$4(...Ws)),randomBytes}}function createCurve$3(at,zs){const Ws=qs=>weierstrass$3({...at,...getHash$2(qs)});return Object.freeze({...Ws(zs),create:Ws})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$f=BigInt(1),_2n$7=BigInt(2),divNearest$3=(at,zs)=>(at+zs/_2n$7)/zs;function sqrtMod$2(at){const zs=secp256k1P$2,Ws=BigInt(3),qs=BigInt(6),Ys=BigInt(11),Xs=BigInt(22),Zs=BigInt(23),yl=BigInt(44),Js=BigInt(88),$l=at*at*at%zs,El=$l*$l*at%zs,wl=pow2$2(El,Ws,zs)*El%zs,_l=pow2$2(wl,Ws,zs)*El%zs,Sl=pow2$2(_l,_2n$7,zs)*$l%zs,Tl=pow2$2(Sl,Ys,zs)*Sl%zs,Il=pow2$2(Tl,Xs,zs)*Tl%zs,Al=pow2$2(Il,yl,zs)*Il%zs,xl=pow2$2(Al,Js,zs)*Al%zs,Pl=pow2$2(xl,yl,zs)*Il%zs,Cl=pow2$2(Pl,Ws,zs)*El%zs,Rl=pow2$2(Cl,Zs,zs)*Tl%zs,Ol=pow2$2(Rl,qs,zs)*$l%zs,Ml=pow2$2(Ol,_2n$7,zs);if(!Fp.eql(Fp.sqr(Ml),at))throw new Error("Cannot find square root");return Ml}const Fp=Field$3(secp256k1P$2,void 0,void 0,{sqrt:sqrtMod$2}),secp256k1$3=createCurve$3({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N$2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:at=>{const zs=secp256k1N$2,Ws=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),qs=-_1n$f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Ys=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Xs=Ws,Zs=BigInt("0x100000000000000000000000000000000"),yl=divNearest$3(Xs*at,zs),Js=divNearest$3(-qs*at,zs);let $l=mod$3(at-yl*Ws-Js*Ys,zs),El=mod$3(-yl*qs-Js*Xs,zs);const wl=$l>Zs,_l=El>Zs;if(wl&&($l=zs-$l),_l&&(El=zs-El),$l>Zs||El>Zs)throw new Error("splitScalar: Endomorphism failed, k="+at);return{k1neg:wl,k1:$l,k2neg:_l,k2:El}}}},sha256$1);BigInt(0),secp256k1$3.ProjectivePoint;const ZeroAddress="0x0000000000000000000000000000000000000000",ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",BN_0$2=BigInt(0),BN_1=BigInt(1),BN_2$1=BigInt(2),BN_27$1=BigInt(27),BN_28$1=BigInt(28),BN_35$1=BigInt(35),BN_N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BN_N_2=BN_N/BN_2$1,inspect$1=Symbol.for("nodejs.util.inspect.custom"),_guard={};function toUint256(at){return zeroPadValue(toBeArray(at),32)}const Sm=class Sm{constructor(zs,Ws,qs,Ys){im(this,om);im(this,_g);im(this,pm);im(this,Tm);assertPrivate(zs,_guard,"Signature"),Sp(this,om,Ws),Sp(this,_g,qs),Sp(this,pm,Ys),Sp(this,Tm,null)}get r(){return Up(this,om)}set r(zs){assertArgument(dataLength(zs)===32,"invalid r","value",zs),Sp(this,om,hexlify(zs))}get s(){return assertArgument(parseInt(Up(this,_g).substring(0,3))<8,"non-canonical s; use ._s","s",Up(this,_g)),Up(this,_g)}set s(zs){assertArgument(dataLength(zs)===32,"invalid s","value",zs),Sp(this,_g,hexlify(zs))}get _s(){return Up(this,_g)}isValid(){return BigInt(Up(this,_g))<=BN_N_2}get v(){return Up(this,pm)}set v(zs){const Ws=getNumber(zs,"value");assertArgument(Ws===27||Ws===28,"invalid v","v",zs),Sp(this,pm,Ws)}get networkV(){return Up(this,Tm)}get legacyChainId(){const zs=this.networkV;return zs==null?null:Sm.getChainId(zs)}get yParity(){return this.v===27?0:1}get yParityAndS(){const zs=getBytes(this.s);return this.yParity&&(zs[0]|=128),hexlify(zs)}get compactSerialized(){return concat$3([this.r,this.yParityAndS])}get serialized(){return concat$3([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const zs=BN_N-BigInt(this._s),Ws=55-this.v,qs=new Sm(_guard,this.r,toUint256(zs),Ws);return this.networkV&&Sp(qs,Tm,this.networkV),qs}clone(){const zs=new Sm(_guard,this.r,this._s,this.v);return this.networkV&&Sp(zs,Tm,this.networkV),zs}toJSON(){const zs=this.networkV;return{_type:"signature",networkV:zs!=null?zs.toString():null,r:this.r,s:this._s,v:this.v}}[inspect$1](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(zs){const Ws=getBigInt(zs,"v");return Ws==BN_27$1||Ws==BN_28$1?BN_0$2:(assertArgument(Ws>=BN_35$1,"invalid EIP-155 v","v",zs),(Ws-BN_35$1)/BN_2$1)}static getChainIdV(zs,Ws){return getBigInt(zs)*BN_2$1+BigInt(35+Ws-27)}static getNormalizedV(zs){const Ws=getBigInt(zs);return Ws===BN_0$2||Ws===BN_27$1?27:Ws===BN_1||Ws===BN_28$1?28:(assertArgument(Ws>=BN_35$1,"invalid v","v",zs),Ws&BN_1?27:28)}static from(zs){function Ws($l,El){assertArgument($l,El,"signature",zs)}if(zs==null)return new Sm(_guard,ZeroHash,ZeroHash,27);if(typeof zs=="string"){const $l=getBytes(zs,"signature");if($l.length===64){const El=hexlify($l.slice(0,32)),wl=$l.slice(32,64),_l=wl[0]&128?28:27;return wl[0]&=127,new Sm(_guard,El,hexlify(wl),_l)}if($l.length===65){const El=hexlify($l.slice(0,32)),wl=hexlify($l.slice(32,64)),_l=Sm.getNormalizedV($l[64]);return new Sm(_guard,El,wl,_l)}Ws(!1,"invalid raw signature length")}if(zs instanceof Sm)return zs.clone();const qs=zs.r;Ws(qs!=null,"missing r");const Ys=toUint256(qs),Xs=function($l,El){if($l!=null)return toUint256($l);if(El!=null){Ws(isHexString(El,32),"invalid yParityAndS");const wl=getBytes(El);return wl[0]&=127,hexlify(wl)}Ws(!1,"missing s")}(zs.s,zs.yParityAndS),{networkV:Zs,v:yl}=function($l,El,wl){if($l!=null){const _l=getBigInt($l);return{networkV:_l>=BN_35$1?_l:void 0,v:Sm.getNormalizedV(_l)}}if(El!=null)return Ws(isHexString(El,32),"invalid yParityAndS"),{v:getBytes(El)[0]&128?28:27};if(wl!=null){switch(getNumber(wl,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}Ws(!1,"invalid yParity")}Ws(!1,"missing v")}(zs.v,zs.yParityAndS,zs.yParity),Js=new Sm(_guard,Ys,Xs,yl);return Zs&&Sp(Js,Tm,Zs),Ws(zs.yParity==null||getNumber(zs.yParity,"sig.yParity")===Js.yParity,"yParity mismatch"),Ws(zs.yParityAndS==null||zs.yParityAndS===Js.yParityAndS,"yParityAndS mismatch"),Js}};om=new WeakMap,_g=new WeakMap,pm=new WeakMap,Tm=new WeakMap;let Signature=Sm;const Mm=class Mm{constructor(zs){im(this,Rm);assertArgument(dataLength(zs)===32,"invalid private key","privateKey","[REDACTED]"),Sp(this,Rm,hexlify(zs))}get privateKey(){return Up(this,Rm)}get publicKey(){return Mm.computePublicKey(Up(this,Rm))}get compressedPublicKey(){return Mm.computePublicKey(Up(this,Rm),!0)}sign(zs){assertArgument(dataLength(zs)===32,"invalid digest length","digest",zs);const Ws=secp256k1$3.sign(getBytesCopy(zs),getBytesCopy(Up(this,Rm)),{lowS:!0});return Signature.from({r:toBeHex(Ws.r,32),s:toBeHex(Ws.s,32),v:Ws.recovery?28:27})}computeSharedSecret(zs){const Ws=Mm.computePublicKey(zs);return hexlify(secp256k1$3.getSharedSecret(getBytesCopy(Up(this,Rm)),getBytes(Ws),!1))}static computePublicKey(zs,Ws){let qs=getBytes(zs,"key");if(qs.length===32){const Xs=secp256k1$3.getPublicKey(qs,!!Ws);return hexlify(Xs)}if(qs.length===64){const Xs=new Uint8Array(65);Xs[0]=4,Xs.set(qs,1),qs=Xs}const Ys=secp256k1$3.ProjectivePoint.fromHex(qs);return hexlify(Ys.toRawBytes(Ws))}static recoverPublicKey(zs,Ws){assertArgument(dataLength(zs)===32,"invalid digest length","digest",zs);const qs=Signature.from(Ws);let Ys=secp256k1$3.Signature.fromCompact(getBytesCopy(concat$3([qs.r,qs.s])));Ys=Ys.addRecoveryBit(qs.yParity);const Xs=Ys.recoverPublicKey(getBytesCopy(zs));return assertArgument(Xs!=null,"invalid signature for digest","signature",Ws),"0x"+Xs.toHex(!1)}static addPoints(zs,Ws,qs){const Ys=secp256k1$3.ProjectivePoint.fromHex(Mm.computePublicKey(zs).substring(2)),Xs=secp256k1$3.ProjectivePoint.fromHex(Mm.computePublicKey(Ws).substring(2));return"0x"+Ys.add(Xs).toHex(!!qs)}};Rm=new WeakMap;let SigningKey=Mm;const BN_0$1=BigInt(0),BN_36=BigInt(36);function getChecksumAddress(at){at=at.toLowerCase();const zs=at.substring(2).split(""),Ws=new Uint8Array(40);for(let Ys=0;Ys<40;Ys++)Ws[Ys]=zs[Ys].charCodeAt(0);const qs=getBytes(keccak256$2(Ws));for(let Ys=0;Ys<40;Ys+=2)qs[Ys>>1]>>4>=8&&(zs[Ys]=zs[Ys].toUpperCase()),(qs[Ys>>1]&15)>=8&&(zs[Ys+1]=zs[Ys+1].toUpperCase());return"0x"+zs.join("")}const ibanLookup={};for(let at=0;at<10;at++)ibanLookup[String(at)]=String(at);for(let at=0;at<26;at++)ibanLookup[String.fromCharCode(65+at)]=String(10+at);const safeDigits=15;function ibanChecksum(at){at=at.toUpperCase(),at=at.substring(4)+at.substring(0,2)+"00";let zs=at.split("").map(qs=>ibanLookup[qs]).join("");for(;zs.length>=safeDigits;){let qs=zs.substring(0,safeDigits);zs=parseInt(qs,10)%97+zs.substring(qs.length)}let Ws=String(98-parseInt(zs,10)%97);for(;Ws.length<2;)Ws="0"+Ws;return Ws}const Base36=function(){const at={};for(let zs=0;zs<36;zs++){const Ws="0123456789abcdefghijklmnopqrstuvwxyz"[zs];at[Ws]=BigInt(zs)}return at}();function fromBase36(at){at=at.toLowerCase();let zs=BN_0$1;for(let Ws=0;Ws<at.length;Ws++)zs=zs*BN_36+Base36[at[Ws]];return zs}function getAddress(at){if(assertArgument(typeof at=="string","invalid address","address",at),at.match(/^(0x)?[0-9a-fA-F]{40}$/)){at.startsWith("0x")||(at="0x"+at);const zs=getChecksumAddress(at);return assertArgument(!at.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||zs===at,"bad address checksum","address",at),zs}if(at.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(at.substring(2,4)===ibanChecksum(at),"bad icap checksum","address",at);let zs=fromBase36(at.substring(4)).toString(16);for(;zs.length<40;)zs="0"+zs;return getChecksumAddress("0x"+zs)}assertArgument(!1,"invalid address","address",at)}function accessSetify(at,zs){return{address:getAddress(at),storageKeys:zs.map((Ws,qs)=>(assertArgument(isHexString(Ws,32),"invalid slot",`storageKeys[${qs}]`,Ws),Ws.toLowerCase()))}}function accessListify(at){if(Array.isArray(at))return at.map((Ws,qs)=>Array.isArray(Ws)?(assertArgument(Ws.length===2,"invalid slot set",`value[${qs}]`,Ws),accessSetify(Ws[0],Ws[1])):(assertArgument(Ws!=null&&typeof Ws=="object","invalid address-slot set","value",at),accessSetify(Ws.address,Ws.storageKeys)));assertArgument(at!=null&&typeof at=="object","invalid access list","value",at);const zs=Object.keys(at).map(Ws=>{const qs=at[Ws].reduce((Ys,Xs)=>(Ys[Xs]=!0,Ys),{});return accessSetify(Ws,Object.keys(qs).sort())});return zs.sort((Ws,qs)=>Ws.address.localeCompare(qs.address)),zs}function authorizationify(at){return{address:getAddress(at.address),nonce:getBigInt(at.nonce!=null?at.nonce:0),chainId:getBigInt(at.chainId!=null?at.chainId:0),signature:Signature.from(at.signature)}}function computeAddress(at){let zs;return typeof at=="string"?zs=SigningKey.computePublicKey(at,!1):zs=at.publicKey,getAddress(keccak256$2("0x"+zs.substring(4)).substring(26))}function recoverAddress$1(at,zs){return computeAddress(SigningKey.recoverPublicKey(at,zs))}const BN_0=BigInt(0),BN_2=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),BN_MAX_UINT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),inspect=Symbol.for("nodejs.util.inspect.custom"),BLOB_SIZE=4096*32,CELL_COUNT=128;function getKzgLibrary(at){return{blobToKzgCommitment:qs=>{if("computeBlobProof"in at){if("blobToKzgCommitment"in at&&typeof at.blobToKzgCommitment=="function")return getBytes(at.blobToKzgCommitment(hexlify(qs)))}else if("blobToKzgCommitment"in at&&typeof at.blobToKzgCommitment=="function")return getBytes(at.blobToKzgCommitment(qs));if("blobToKZGCommitment"in at&&typeof at.blobToKZGCommitment=="function")return getBytes(at.blobToKZGCommitment(hexlify(qs)));assertArgument(!1,"unsupported KZG library","kzg",at)},computeBlobKzgProof:(qs,Ys)=>{if("computeBlobProof"in at&&typeof at.computeBlobProof=="function")return getBytes(at.computeBlobProof(hexlify(qs),hexlify(Ys)));if("computeBlobKzgProof"in at&&typeof at.computeBlobKzgProof=="function")return at.computeBlobKzgProof(qs,Ys);if("computeBlobKZGProof"in at&&typeof at.computeBlobKZGProof=="function")return getBytes(at.computeBlobKZGProof(hexlify(qs),hexlify(Ys)));assertArgument(!1,"unsupported KZG library","kzg",at)}}}function getVersionedHash(at,zs){let Ws=at.toString(16);for(;Ws.length<2;)Ws="0"+Ws;return Ws+=sha256(zs).substring(4),"0x"+Ws}function handleAddress(at){return at==="0x"?null:getAddress(at)}function handleAccessList(at,zs){try{return accessListify(at)}catch(Ws){assertArgument(!1,Ws.message,zs,at)}}function handleAuthorizationList(at,zs){try{if(!Array.isArray(at))throw new Error("authorizationList: invalid array");const Ws=[];for(let qs=0;qs<at.length;qs++){const Ys=at[qs];if(!Array.isArray(Ys))throw new Error(`authorization[${qs}]: invalid array`);if(Ys.length!==6)throw new Error(`authorization[${qs}]: wrong length`);if(!Ys[1])throw new Error(`authorization[${qs}]: null address`);Ws.push({address:handleAddress(Ys[1]),nonce:handleUint(Ys[2],"nonce"),chainId:handleUint(Ys[0],"chainId"),signature:Signature.from({yParity:handleNumber(Ys[3],"yParity"),r:zeroPadValue(Ys[4],32),s:zeroPadValue(Ys[5],32)})})}return Ws}catch(Ws){assertArgument(!1,Ws.message,zs,at)}}function handleNumber(at,zs){return at==="0x"?0:getNumber(at,zs)}function handleUint(at,zs){if(at==="0x")return BN_0;const Ws=getBigInt(at,zs);return assertArgument(Ws<=BN_MAX_UINT,"value exceeds uint size",zs,Ws),Ws}function formatNumber$1(at,zs){const Ws=getBigInt(at,"value"),qs=toBeArray(Ws);return assertArgument(qs.length<=32,"value too large",`tx.${zs}`,Ws),qs}function formatAccessList(at){return accessListify(at).map(zs=>[zs.address,zs.storageKeys])}function formatAuthorizationList(at){return at.map(zs=>[formatNumber$1(zs.chainId,"chainId"),zs.address,formatNumber$1(zs.nonce,"nonce"),formatNumber$1(zs.signature.yParity,"yParity"),toBeArray(zs.signature.r),toBeArray(zs.signature._s)])}function formatHashes(at,zs){assertArgument(Array.isArray(at),`invalid ${zs}`,"value",at);for(let Ws=0;Ws<at.length;Ws++)assertArgument(isHexString(at[Ws],32),"invalid ${ param } hash",`value[${Ws}]`,at[Ws]);return at}function _parseLegacy(at){const zs=decodeRlp(at);assertArgument(Array.isArray(zs)&&(zs.length===9||zs.length===6),"invalid field count for legacy transaction","data",at);const Ws={type:0,nonce:handleNumber(zs[0],"nonce"),gasPrice:handleUint(zs[1],"gasPrice"),gasLimit:handleUint(zs[2],"gasLimit"),to:handleAddress(zs[3]),value:handleUint(zs[4],"value"),data:hexlify(zs[5]),chainId:BN_0};if(zs.length===6)return Ws;const qs=handleUint(zs[6],"v"),Ys=handleUint(zs[7],"r"),Xs=handleUint(zs[8],"s");if(Ys===BN_0&&Xs===BN_0)Ws.chainId=qs;else{let Zs=(qs-BN_35)/BN_2;Zs<BN_0&&(Zs=BN_0),Ws.chainId=Zs,assertArgument(Zs!==BN_0||qs===BN_27||qs===BN_28,"non-canonical legacy v","v",zs[6]),Ws.signature=Signature.from({r:zeroPadValue(zs[7],32),s:zeroPadValue(zs[8],32),v:qs})}return Ws}function _serializeLegacy(at,zs){const Ws=[formatNumber$1(at.nonce,"nonce"),formatNumber$1(at.gasPrice||0,"gasPrice"),formatNumber$1(at.gasLimit,"gasLimit"),at.to||"0x",formatNumber$1(at.value,"value"),at.data];let qs=BN_0;if(at.chainId!=BN_0)qs=getBigInt(at.chainId,"tx.chainId"),assertArgument(!zs||zs.networkV==null||zs.legacyChainId===qs,"tx.chainId/sig.v mismatch","sig",zs);else if(at.signature){const Xs=at.signature.legacyChainId;Xs!=null&&(qs=Xs)}if(!zs)return qs!==BN_0&&(Ws.push(toBeArray(qs)),Ws.push("0x"),Ws.push("0x")),encodeRlp(Ws);let Ys=BigInt(27+zs.yParity);return qs!==BN_0?Ys=Signature.getChainIdV(qs,zs.v):BigInt(zs.v)!==Ys&&assertArgument(!1,"tx.chainId/sig.v mismatch","sig",zs),Ws.push(toBeArray(Ys)),Ws.push(toBeArray(zs.r)),Ws.push(toBeArray(zs._s)),encodeRlp(Ws)}function _parseEipSignature(at,zs){let Ws;try{if(Ws=handleNumber(zs[0],"yParity"),Ws!==0&&Ws!==1)throw new Error("bad yParity")}catch{assertArgument(!1,"invalid yParity","yParity",zs[0])}const qs=zeroPadValue(zs[1],32),Ys=zeroPadValue(zs[2],32),Xs=Signature.from({r:qs,s:Ys,yParity:Ws});at.signature=Xs}function _parseEip1559(at){const zs=decodeRlp(getBytes(at).slice(1));assertArgument(Array.isArray(zs)&&(zs.length===9||zs.length===12),"invalid field count for transaction type: 2","data",hexlify(at));const Ws={type:2,chainId:handleUint(zs[0],"chainId"),nonce:handleNumber(zs[1],"nonce"),maxPriorityFeePerGas:handleUint(zs[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(zs[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(zs[4],"gasLimit"),to:handleAddress(zs[5]),value:handleUint(zs[6],"value"),data:hexlify(zs[7]),accessList:handleAccessList(zs[8],"accessList")};return zs.length===9||_parseEipSignature(Ws,zs.slice(9)),Ws}function _serializeEip1559(at,zs){const Ws=[formatNumber$1(at.chainId,"chainId"),formatNumber$1(at.nonce,"nonce"),formatNumber$1(at.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(at.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(at.gasLimit,"gasLimit"),at.to||"0x",formatNumber$1(at.value,"value"),at.data,formatAccessList(at.accessList||[])];return zs&&(Ws.push(formatNumber$1(zs.yParity,"yParity")),Ws.push(toBeArray(zs.r)),Ws.push(toBeArray(zs.s))),concat$3(["0x02",encodeRlp(Ws)])}function _parseEip2930(at){const zs=decodeRlp(getBytes(at).slice(1));assertArgument(Array.isArray(zs)&&(zs.length===8||zs.length===11),"invalid field count for transaction type: 1","data",hexlify(at));const Ws={type:1,chainId:handleUint(zs[0],"chainId"),nonce:handleNumber(zs[1],"nonce"),gasPrice:handleUint(zs[2],"gasPrice"),gasLimit:handleUint(zs[3],"gasLimit"),to:handleAddress(zs[4]),value:handleUint(zs[5],"value"),data:hexlify(zs[6]),accessList:handleAccessList(zs[7],"accessList")};return zs.length===8||_parseEipSignature(Ws,zs.slice(8)),Ws}function _serializeEip2930(at,zs){const Ws=[formatNumber$1(at.chainId,"chainId"),formatNumber$1(at.nonce,"nonce"),formatNumber$1(at.gasPrice||0,"gasPrice"),formatNumber$1(at.gasLimit,"gasLimit"),at.to||"0x",formatNumber$1(at.value,"value"),at.data,formatAccessList(at.accessList||[])];return zs&&(Ws.push(formatNumber$1(zs.yParity,"recoveryParam")),Ws.push(toBeArray(zs.r)),Ws.push(toBeArray(zs.s))),concat$3(["0x01",encodeRlp(Ws)])}function _parseEip4844(at){let zs=decodeRlp(getBytes(at).slice(1)),Ws="3",qs=null,Ys=null;if(zs.length===4&&Array.isArray(zs[0])){Ws="3 (network format)";const Zs=zs[1],yl=zs[2],Js=zs[3];assertArgument(Array.isArray(Zs),"invalid network format: blobs not an array","fields[1]",Zs),assertArgument(Array.isArray(yl),"invalid network format: commitments not an array","fields[2]",yl),assertArgument(Array.isArray(Js),"invalid network format: proofs not an array","fields[3]",Js),assertArgument(Zs.length===yl.length,"invalid network format: blobs/commitments length mismatch","fields",zs),assertArgument(Zs.length===Js.length,"invalid network format: blobs/proofs length mismatch","fields",zs),Ys=[];for(let $l=0;$l<zs[1].length;$l++)Ys.push({data:Zs[$l],commitment:yl[$l],proof:Js[$l]});zs=zs[0]}else if(zs.length===5&&Array.isArray(zs[0])){Ws="3 (EIP-7594 network format)",qs=getNumber(zs[1]);const Zs=zs[2],yl=zs[3],Js=zs[4];assertArgument(qs===1,`unsupported EIP-7594 network format version: ${qs}`,"fields[1]",qs),assertArgument(Array.isArray(Zs),"invalid EIP-7594 network format: blobs not an array","fields[2]",Zs),assertArgument(Array.isArray(yl),"invalid EIP-7594 network format: commitments not an array","fields[3]",yl),assertArgument(Array.isArray(Js),"invalid EIP-7594 network format: proofs not an array","fields[4]",Js),assertArgument(Zs.length===yl.length,"invalid network format: blobs/commitments length mismatch","fields",zs),assertArgument(Zs.length*CELL_COUNT===Js.length,"invalid network format: blobs/proofs length mismatch","fields",zs),Ys=[];for(let $l=0;$l<Zs.length;$l++){const El=[];for(let wl=0;wl<CELL_COUNT;wl++)El.push(Js[$l*CELL_COUNT+wl]);Ys.push({data:Zs[$l],commitment:yl[$l],proof:concat$3(El)})}zs=zs[0]}assertArgument(Array.isArray(zs)&&(zs.length===11||zs.length===14),`invalid field count for transaction type: ${Ws}`,"data",hexlify(at));const Xs={type:3,chainId:handleUint(zs[0],"chainId"),nonce:handleNumber(zs[1],"nonce"),maxPriorityFeePerGas:handleUint(zs[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(zs[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(zs[4],"gasLimit"),to:handleAddress(zs[5]),value:handleUint(zs[6],"value"),data:hexlify(zs[7]),accessList:handleAccessList(zs[8],"accessList"),maxFeePerBlobGas:handleUint(zs[9],"maxFeePerBlobGas"),blobVersionedHashes:zs[10],blobWrapperVersion:qs};Ys&&(Xs.blobs=Ys),assertArgument(Xs.to!=null,`invalid address for transaction type: ${Ws}`,"data",at),assertArgument(Array.isArray(Xs.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",at);for(let Zs=0;Zs<Xs.blobVersionedHashes.length;Zs++)assertArgument(isHexString(Xs.blobVersionedHashes[Zs],32),`invalid blobVersionedHash at index ${Zs}: must be length 32`,"data",at);return zs.length===11||_parseEipSignature(Xs,zs.slice(11)),Xs}function _serializeEip4844(at,zs,Ws){const qs=[formatNumber$1(at.chainId,"chainId"),formatNumber$1(at.nonce,"nonce"),formatNumber$1(at.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(at.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(at.gasLimit,"gasLimit"),at.to||ZeroAddress,formatNumber$1(at.value,"value"),at.data,formatAccessList(at.accessList||[]),formatNumber$1(at.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(at.blobVersionedHashes||[],"blobVersionedHashes")];if(zs&&(qs.push(formatNumber$1(zs.yParity,"yParity")),qs.push(toBeArray(zs.r)),qs.push(toBeArray(zs.s)),Ws)){if(at.blobWrapperVersion!=null){const Ys=toBeArray(at.blobWrapperVersion),Xs=[];for(const{proof:Zs}of Ws){const yl=getBytes(Zs),Js=yl.length/CELL_COUNT;for(let $l=0;$l<yl.length;$l+=Js)Xs.push(yl.subarray($l,$l+Js))}return concat$3(["0x03",encodeRlp([qs,Ys,Ws.map(Zs=>Zs.data),Ws.map(Zs=>Zs.commitment),Xs])])}return concat$3(["0x03",encodeRlp([qs,Ws.map(Ys=>Ys.data),Ws.map(Ys=>Ys.commitment),Ws.map(Ys=>Ys.proof)])])}return concat$3(["0x03",encodeRlp(qs)])}function _parseEip7702(at){const zs=decodeRlp(getBytes(at).slice(1));assertArgument(Array.isArray(zs)&&(zs.length===10||zs.length===13),"invalid field count for transaction type: 4","data",hexlify(at));const Ws={type:4,chainId:handleUint(zs[0],"chainId"),nonce:handleNumber(zs[1],"nonce"),maxPriorityFeePerGas:handleUint(zs[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(zs[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(zs[4],"gasLimit"),to:handleAddress(zs[5]),value:handleUint(zs[6],"value"),data:hexlify(zs[7]),accessList:handleAccessList(zs[8],"accessList"),authorizationList:handleAuthorizationList(zs[9],"authorizationList")};return zs.length===10||_parseEipSignature(Ws,zs.slice(10)),Ws}function _serializeEip7702(at,zs){const Ws=[formatNumber$1(at.chainId,"chainId"),formatNumber$1(at.nonce,"nonce"),formatNumber$1(at.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber$1(at.maxFeePerGas||0,"maxFeePerGas"),formatNumber$1(at.gasLimit,"gasLimit"),at.to||"0x",formatNumber$1(at.value,"value"),at.data,formatAccessList(at.accessList||[]),formatAuthorizationList(at.authorizationList||[])];return zs&&(Ws.push(formatNumber$1(zs.yParity,"yParity")),Ws.push(toBeArray(zs.r)),Ws.push(toBeArray(zs.s))),concat$3(["0x04",encodeRlp(Ws)])}const km=class km{constructor(){im(this,ny);im(this,Im);im(this,Hm);im(this,Km);im(this,Wm);im(this,Gm);im(this,qm);im(this,Ym);im(this,Xm);im(this,Zm);im(this,Jm);im(this,Qm);im(this,ey);im(this,Lm);im(this,Nm);im(this,Pm);im(this,Om);im(this,ty);im(this,ry);Sp(this,Im,null),Sp(this,Hm,null),Sp(this,Wm,0),Sp(this,Gm,BN_0),Sp(this,qm,null),Sp(this,Ym,null),Sp(this,Xm,null),Sp(this,Km,"0x"),Sp(this,Zm,BN_0),Sp(this,Jm,BN_0),Sp(this,Qm,null),Sp(this,ey,null),Sp(this,Lm,null),Sp(this,Nm,null),Sp(this,Pm,null),Sp(this,Om,null),Sp(this,ty,null),Sp(this,ry,null)}get type(){return Up(this,Im)}set type(zs){switch(zs){case null:Sp(this,Im,null);break;case 0:case"legacy":Sp(this,Im,0);break;case 1:case"berlin":case"eip-2930":Sp(this,Im,1);break;case 2:case"london":case"eip-1559":Sp(this,Im,2);break;case 3:case"cancun":case"eip-4844":Sp(this,Im,3);break;case 4:case"pectra":case"eip-7702":Sp(this,Im,4);break;default:assertArgument(!1,"unsupported transaction type","type",zs)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const zs=Up(this,Hm);return zs==null&&this.type===3?ZeroAddress:zs}set to(zs){Sp(this,Hm,zs==null?null:getAddress(zs))}get nonce(){return Up(this,Wm)}set nonce(zs){Sp(this,Wm,getNumber(zs,"value"))}get gasLimit(){return Up(this,Gm)}set gasLimit(zs){Sp(this,Gm,getBigInt(zs))}get gasPrice(){const zs=Up(this,qm);return zs==null&&(this.type===0||this.type===1)?BN_0:zs}set gasPrice(zs){Sp(this,qm,zs==null?null:getBigInt(zs,"gasPrice"))}get maxPriorityFeePerGas(){const zs=Up(this,Ym);return zs??(this.type===2||this.type===3?BN_0:null)}set maxPriorityFeePerGas(zs){Sp(this,Ym,zs==null?null:getBigInt(zs,"maxPriorityFeePerGas"))}get maxFeePerGas(){const zs=Up(this,Xm);return zs??(this.type===2||this.type===3?BN_0:null)}set maxFeePerGas(zs){Sp(this,Xm,zs==null?null:getBigInt(zs,"maxFeePerGas"))}get data(){return Up(this,Km)}set data(zs){Sp(this,Km,hexlify(zs))}get value(){return Up(this,Zm)}set value(zs){Sp(this,Zm,getBigInt(zs,"value"))}get chainId(){return Up(this,Jm)}set chainId(zs){Sp(this,Jm,getBigInt(zs))}get signature(){return Up(this,Qm)||null}set signature(zs){Sp(this,Qm,zs==null?null:Signature.from(zs))}isValid(){const zs=this.signature;if(zs&&!zs.isValid())return!1;const Ws=this.authorizationList;if(Ws){for(const qs of Ws)if(!qs.signature.isValid())return!1}return!0}get accessList(){const zs=Up(this,ey)||null;return zs??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(zs){Sp(this,ey,zs==null?null:accessListify(zs))}get authorizationList(){const zs=Up(this,ty)||null;return zs==null&&this.type===4?[]:zs}set authorizationList(zs){Sp(this,ty,zs==null?null:zs.map(Ws=>authorizationify(Ws)))}get maxFeePerBlobGas(){const zs=Up(this,Lm);return zs==null&&this.type===3?BN_0:zs}set maxFeePerBlobGas(zs){Sp(this,Lm,zs==null?null:getBigInt(zs,"maxFeePerBlobGas"))}get blobVersionedHashes(){let zs=Up(this,Nm);return zs==null&&this.type===3?[]:zs}set blobVersionedHashes(zs){if(zs!=null){assertArgument(Array.isArray(zs),"blobVersionedHashes must be an Array","value",zs),zs=zs.slice();for(let Ws=0;Ws<zs.length;Ws++)assertArgument(isHexString(zs[Ws],32),"invalid blobVersionedHash",`value[${Ws}]`,zs[Ws])}Sp(this,Nm,zs)}get blobs(){return Up(this,Om)==null?null:Up(this,Om).map(zs=>Object.assign({},zs))}set blobs(zs){if(zs==null){Sp(this,Om,null);return}const Ws=[],qs=[];for(let Ys=0;Ys<zs.length;Ys++){const Xs=zs[Ys];if(isBytesLike(Xs)){assert$4(Up(this,Pm),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let Zs=getBytes(Xs);if(assertArgument(Zs.length<=BLOB_SIZE,"blob is too large",`blobs[${Ys}]`,Xs),Zs.length!==BLOB_SIZE){const $l=new Uint8Array(BLOB_SIZE);$l.set(Zs),Zs=$l}const yl=Up(this,Pm).blobToKzgCommitment(Zs),Js=hexlify(Up(this,Pm).computeBlobKzgProof(Zs,yl));Ws.push({data:hexlify(Zs),commitment:hexlify(yl),proof:Js}),qs.push(getVersionedHash(1,yl))}else{const Zs=hexlify(Xs.data),yl=hexlify(Xs.commitment),Js=hexlify(Xs.proof);Ws.push({data:Zs,commitment:yl,proof:Js}),qs.push(getVersionedHash(1,yl))}}Sp(this,Om,Ws),Sp(this,Nm,qs)}get kzg(){return Up(this,Pm)}set kzg(zs){zs==null?Sp(this,Pm,null):Sp(this,Pm,getKzgLibrary(zs))}get blobWrapperVersion(){return Up(this,ry)}set blobWrapperVersion(zs){Sp(this,ry,zs)}get hash(){return this.signature==null?null:keccak256$2(dy(this,ny,fy).call(this,!0,!1))}get unsignedHash(){return keccak256$2(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress$1(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return dy(this,ny,fy).call(this,!0,!0)}get unsignedSerialized(){return dy(this,ny,fy).call(this,!1,!1)}inferType(){const zs=this.inferTypes();return zs.indexOf(2)>=0?2:zs.pop()}inferTypes(){const zs=this.gasPrice!=null,Ws=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,qs=this.accessList!=null,Ys=Up(this,Lm)!=null||Up(this,Nm);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert$4(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert$4(!Ws||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert$4(this.type!==0||!qs,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const Xs=[];return this.type!=null?Xs.push(this.type):this.authorizationList&&this.authorizationList.length?Xs.push(4):Ws?Xs.push(2):zs?(Xs.push(1),qs||Xs.push(0)):qs?(Xs.push(1),Xs.push(2)):(Ys&&this.to||(Xs.push(0),Xs.push(1),Xs.push(2)),Xs.push(3)),Xs.sort(),Xs}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return km.from(this)}toJSON(){const zs=Ws=>Ws==null?null:Ws.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:zs(this.gasLimit),gasPrice:zs(this.gasPrice),maxPriorityFeePerGas:zs(this.maxPriorityFeePerGas),maxFeePerGas:zs(this.maxFeePerGas),value:zs(this.value),chainId:zs(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[inspect](){return this.toString()}toString(){const zs=[],Ws=Ys=>{let Xs=this[Ys];typeof Xs=="string"&&(Xs=JSON.stringify(Xs)),zs.push(`${Ys}: ${Xs}`)};this.type&&Ws("type"),Ws("to"),Ws("data"),Ws("nonce"),Ws("gasLimit"),Ws("value"),this.chainId!=null&&Ws("chainId"),this.signature&&(Ws("from"),zs.push(`signature: ${this.signature.toString()}`));const qs=this.authorizationList;if(qs){const Ys=[];for(const Xs of qs){const Zs=[];Zs.push(`address: ${JSON.stringify(Xs.address)}`),Xs.nonce!=null&&Zs.push(`nonce: ${Xs.nonce}`),Xs.chainId!=null&&Zs.push(`chainId: ${Xs.chainId}`),Xs.signature&&Zs.push(`signature: ${Xs.signature.toString()}`),Ys.push(`Authorization { ${Zs.join(", ")} }`)}zs.push(`authorizations: [ ${Ys.join(", ")} ]`)}return`Transaction { ${zs.join(", ")} }`}static from(zs){if(zs==null)return new km;if(typeof zs=="string"){const qs=getBytes(zs);if(qs[0]>=127)return km.from(_parseLegacy(qs));switch(qs[0]){case 1:return km.from(_parseEip2930(qs));case 2:return km.from(_parseEip1559(qs));case 3:return km.from(_parseEip4844(qs));case 4:return km.from(_parseEip7702(qs))}assert$4(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const Ws=new km;return zs.type!=null&&(Ws.type=zs.type),zs.to!=null&&(Ws.to=zs.to),zs.nonce!=null&&(Ws.nonce=zs.nonce),zs.gasLimit!=null&&(Ws.gasLimit=zs.gasLimit),zs.gasPrice!=null&&(Ws.gasPrice=zs.gasPrice),zs.maxPriorityFeePerGas!=null&&(Ws.maxPriorityFeePerGas=zs.maxPriorityFeePerGas),zs.maxFeePerGas!=null&&(Ws.maxFeePerGas=zs.maxFeePerGas),zs.maxFeePerBlobGas!=null&&(Ws.maxFeePerBlobGas=zs.maxFeePerBlobGas),zs.data!=null&&(Ws.data=zs.data),zs.value!=null&&(Ws.value=zs.value),zs.chainId!=null&&(Ws.chainId=zs.chainId),zs.signature!=null&&(Ws.signature=Signature.from(zs.signature)),zs.accessList!=null&&(Ws.accessList=zs.accessList),zs.authorizationList!=null&&(Ws.authorizationList=zs.authorizationList),zs.blobVersionedHashes!=null&&(Ws.blobVersionedHashes=zs.blobVersionedHashes),zs.kzg!=null&&(Ws.kzg=zs.kzg),zs.blobWrapperVersion!=null&&(Ws.blobWrapperVersion=zs.blobWrapperVersion),zs.blobs!=null&&(Ws.blobs=zs.blobs),zs.hash!=null&&(assertArgument(Ws.isSigned(),"unsigned transaction cannot define '.hash'","tx",zs),assertArgument(Ws.hash===zs.hash,"hash mismatch","tx",zs)),zs.from!=null&&(assertArgument(Ws.isSigned(),"unsigned transaction cannot define '.from'","tx",zs),assertArgument(Ws.from.toLowerCase()===(zs.from||"").toLowerCase(),"from mismatch","tx",zs)),Ws}};Im=new WeakMap,Hm=new WeakMap,Km=new WeakMap,Wm=new WeakMap,Gm=new WeakMap,qm=new WeakMap,Ym=new WeakMap,Xm=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,ey=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,Pm=new WeakMap,Om=new WeakMap,ty=new WeakMap,ry=new WeakMap,ny=new WeakSet,fy=function(zs,Ws){assert$4(!zs||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const qs=zs?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy(this,qs);case 1:return _serializeEip2930(this,qs);case 2:return _serializeEip1559(this,qs);case 3:return _serializeEip4844(this,qs,Ws?this.blobs:null);case 4:return _serializeEip7702(this,qs)}assert$4(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Transaction=km;const sessionExpiredErrors={pubKeyNotFound:"could not find public key in organization or its parent organization",apiKeyExpired:"Unauthenticated desc = expired api key publicKey"},globalErrorsToMatch=Object.freeze({[sessionExpiredErrors.pubKeyNotFound]:{message:"Session public key could not be found in the sub-organization or parent organization",code:TurnkeyErrorCodes.SESSION_EXPIRED},[sessionExpiredErrors.apiKeyExpired]:{message:"Session API key has expired",code:TurnkeyErrorCodes.SESSION_EXPIRED}}),addressFormatConfig={ADDRESS_FORMAT_UNCOMPRESSED:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:null,displayName:"Uncompressed"},ADDRESS_FORMAT_COMPRESSED:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:null,displayName:"Compressed"},ADDRESS_FORMAT_ETHEREUM:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_KECCAK256",defaultAccounts:DEFAULT_ETHEREUM_ACCOUNTS,displayName:"Ethereum"},ADDRESS_FORMAT_SOLANA:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:DEFAULT_SOLANA_ACCOUNTS,displayName:"Solana"},ADDRESS_FORMAT_COSMOS:{encoding:"PAYLOAD_ENCODING_TEXT_UTF8",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_COSMOS_ACCOUNTS,displayName:"Cosmos"},ADDRESS_FORMAT_TRON:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_TRON_ACCOUNTS,displayName:"Tron"},ADDRESS_FORMAT_SUI:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:DEFAULT_SUI_ACCOUNTS,displayName:"Sui"},ADDRESS_FORMAT_APTOS:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:DEFAULT_APTOS_ACCOUNTS,displayName:"Aptos"},ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_MAINNET_P2PKH_ACCOUNTS,displayName:"Bitcoin Mainnet P2PKH"},ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_MAINNET_P2SH_ACCOUNTS,displayName:"Bitcoin Mainnet P2SH"},ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_MAINNET_P2WPKH_ACCOUNTS,displayName:"Bitcoin Mainnet P2WPKH"},ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_MAINNET_P2WSH_ACCOUNTS,displayName:"Bitcoin Mainnet P2WSH"},ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_MAINNET_P2TR_ACCOUNTS,displayName:"Bitcoin Mainnet P2TR"},ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_TESTNET_P2PKH_ACCOUNTS,displayName:"Bitcoin Testnet P2PKH"},ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_TESTNET_P2SH_ACCOUNTS,displayName:"Bitcoin Testnet P2SH"},ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_TESTNET_P2WPKH_ACCOUNTS,displayName:"Bitcoin Testnet P2WPKH"},ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_TESTNET_P2WSH_ACCOUNTS,displayName:"Bitcoin Testnet P2WSH"},ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_TESTNET_P2TR_ACCOUNTS,displayName:"Bitcoin Testnet P2TR"},ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_SIGNET_P2PKH_ACCOUNTS,displayName:"Bitcoin Signet P2PKH"},ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_SIGNET_P2SH_ACCOUNTS,displayName:"Bitcoin Signet P2SH"},ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_SIGNET_P2WPKH_ACCOUNTS,displayName:"Bitcoin Signet P2WPKH"},ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_SIGNET_P2WSH_ACCOUNTS,displayName:"Bitcoin Signet P2WSH"},ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_SIGNET_P2TR_ACCOUNTS,displayName:"Bitcoin Signet P2TR"},ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_REGTEST_P2PKH_ACCOUNTS,displayName:"Bitcoin Regtest P2PKH"},ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_REGTEST_P2SH_ACCOUNTS,displayName:"Bitcoin Regtest P2SH"},ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_REGTEST_P2WPKH_ACCOUNTS,displayName:"Bitcoin Regtest P2WPKH"},ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_REGTEST_P2WSH_ACCOUNTS,displayName:"Bitcoin Regtest P2WSH"},ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_BITCOIN_REGTEST_P2TR_ACCOUNTS,displayName:"Bitcoin Regtest P2TR"},ADDRESS_FORMAT_SEI:{encoding:"PAYLOAD_ENCODING_TEXT_UTF8",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_SEI_ACCOUNTS,displayName:"Sei"},ADDRESS_FORMAT_XLM:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:DEFAULT_XLM_ACCOUNTS,displayName:"Xlm"},ADDRESS_FORMAT_DOGE_MAINNET:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_DOGE_MAINNET_ACCOUNTS,displayName:"Doge Mainnet"},ADDRESS_FORMAT_DOGE_TESTNET:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_DOGE_TESTNET_ACCOUNTS,displayName:"Doge Testnet"},ADDRESS_FORMAT_TON_V3R2:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:DEFAULT_TON_V3R2_ACCOUNTS,displayName:"Ton V3R2"},ADDRESS_FORMAT_TON_V4R2:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:DEFAULT_TON_V4R2_ACCOUNTS,displayName:"Ton V4R2"},ADDRESS_FORMAT_TON_V5R1:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE",defaultAccounts:null,displayName:"Ton V5R1"},ADDRESS_FORMAT_XRP:{encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_SHA256",defaultAccounts:DEFAULT_XRP_ACCOUNTS,displayName:"XRP"}},googleISS="https://accounts.google.com",isReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isWeb=()=>typeof window<"u"&&typeof document<"u",generateRandomBuffer=()=>{const at=new Uint8Array(32);return crypto.getRandomValues(at),at.buffer};Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));const toExternalTimestamp=(at=new Date)=>{const zs=at.getTime(),Ws=Math.floor(zs/1e3),qs=zs%1e3*1e6;return{seconds:Ws.toString(),nanos:qs.toString()}};async function getActiveSessionOrThrowIfRequired(at,zs){const Ws=await zs();if((!at||at===StamperType.ApiKey)&&!Ws)throw new TurnkeyError("No active session found. Please log in first.",TurnkeyErrorCodes.NO_SESSION_FOUND);return Ws}function parseSession(at){if(typeof at!="string")return at;const[,zs]=at.split(".");if(!zs)throw new Error("Invalid JWT: Missing payload");const Ws=JSON.parse(atob(zs)),{exp:qs,public_key:Ys,session_type:Xs,user_id:Zs,organization_id:yl}=Ws;if(!qs||!Ys||!Xs||!Zs||!yl)throw new Error("JWT payload missing required fields");const Js=Math.ceil((qs*1e3-Date.now())/1e3);return{sessionType:Xs,userId:Zs,organizationId:yl,expiry:qs,expirationSeconds:Js.toString(),publicKey:Ys,token:at}}function getHashFunction(at){const zs=addressFormatConfig[at];if(!zs)throw new TurnkeyError(`Unsupported address format: ${at}`,TurnkeyErrorCodes.INVALID_REQUEST);return zs.hashFunction}function getEncodingType(at){const zs=addressFormatConfig[at];if(!zs)throw new TurnkeyError(`Unsupported address format: ${at}`,TurnkeyErrorCodes.INVALID_REQUEST);return zs.encoding}function getEncodedMessage(at,zs){return at==="PAYLOAD_ENCODING_HEXADECIMAL"?"0x"+Array.from(zs).map(Ws=>Ws.toString(16).padStart(2,"0")).join(""):toUtf8String(zs)}function hexSignedTxToBase58(at){const zs=uint8ArrayFromHexString(at);return bs58.encode(zs)}const broadcastTransaction=async at=>{const{signedTransaction:zs,rpcUrl:Ws,transactionType:qs}=at;switch(qs){case"TRANSACTION_TYPE_SOLANA":{const Ys=hexSignedTxToBase58(zs),Zs=await(await fetch(Ws,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[Ys,{encoding:"base58"}]})})).json();if(Zs.error)throw new TurnkeyError(`Solana RPC Error: ${Zs.error.message}`,TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR);return Zs.result}case"TRANSACTION_TYPE_ETHEREUM":{const Xs=await(await fetch(Ws,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_sendRawTransaction",params:[zs]})})).json();if(Xs.error)throw new TurnkeyError(`Ethereum RPC Error: ${Xs.error.message}`,TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR);return Xs.result}case"TRANSACTION_TYPE_TRON":{const Xs=await(await fetch(`${Ws}/wallet/broadcasthex`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transaction:zs})})).json();if(!Xs.result)throw new TurnkeyError(`Tron RPC Error: ${Xs.message}`,TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR);return Xs.txid}default:throw new TurnkeyError(`Unsupported transaction type for broadcasting: ${qs}`,TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR)}};function splitSignature(at,zs){const Ws=at.replace(/^0x/,"");if(zs==="ADDRESS_FORMAT_ETHEREUM"){if(Ws.length===130){const yl=Ws.slice(0,64),Js=Ws.slice(64,128),$l=Ws.slice(128,130);return{r:yl,s:Js,v:$l}}const qs=fromDerSignature(Ws),Ys=uint8ArrayToHexString(qs.slice(0,32)),Xs=uint8ArrayToHexString(qs.slice(32,64));return{r:Ys,s:Xs,v:"00"}}if(zs==="ADDRESS_FORMAT_SOLANA"){if(Ws.length!==128)throw new Error(`Invalid Solana signature length: expected 64 bytes (128 hex), got ${Ws.length}`);const qs=Ws.slice(0,64),Ys=Ws.slice(64,128);return{r:qs,s:Ys,v:"00"}}throw new Error(`Unsupported address format or invalid signature length: ${Ws.length}`)}function isWalletAccountArray(at){return at.length===0||typeof at[0]=="object"&&"addressFormat"in at[0]&&"curve"in at[0]&&"path"in at[0]&&"pathFormat"in at[0]}function createWalletAccountFromAddressFormat(at){var Ws;const zs=(Ws=addressFormatConfig[at])==null?void 0:Ws.defaultAccounts;if(!zs)throw new Error(`Unsupported address format: ${at}`);if(zs[0])return zs[0];throw new Error(`No default accounts defined for address format: ${at}`)}function generateWalletAccountsFromAddressFormat(at){const{addresses:zs,existingWalletAccounts:Ws}=at,qs=new Map,Ys=new Map;if(Ws&&Ws.length>0)for(const Xs of Ws){const Zs=Xs.path.replace(/^((?:[^\/]+\/){3})[^\/]+/,"$1"),yl=`${Xs.addressFormat}:${Zs}`,Js=Xs.path.split("/")[3],$l=Js?parseInt(Js.replace(/'/,""),10):-1;isNaN($l)||Ys.set(yl,Math.max(Ys.get(yl)??-1,$l))}return zs.map(Xs=>{const Zs=createWalletAccountFromAddressFormat(Xs),yl=Zs.path.replace(/^((?:[^\/]+\/){3})[^\/]+/,"$1"),Js=`${Xs}:${yl}`;let $l=0;Ys.has(Js)?($l=Ys.get(Js)+1,Ys.set(Js,$l)):qs.has(Zs.path)&&($l=qs.get(Zs.path));const El=Zs.path.replace(/^((?:[^\/]*\/){3})(\d+)/,(wl,_l)=>`${_l}${$l}`);return qs.set(Zs.path,$l+1),{...Zs,path:El}})}function buildSignUpBody(at){var Xs,Zs,yl,Js,$l,El;const{createSubOrgParams:zs}=at,Ws=isWeb()?`${window.location.hostname}-${Date.now()}`:`passkey-${Date.now()}`;let qs=[];(Xs=zs==null?void 0:zs.authenticators)!=null&&Xs.length&&(qs=((Zs=zs==null?void 0:zs.authenticators)==null?void 0:Zs.map(wl=>({authenticatorName:(wl==null?void 0:wl.authenticatorName)||Ws,challenge:wl.challenge,attestation:wl.attestation})))||[]);let Ys=[];return(yl=zs==null?void 0:zs.apiKeys)!=null&&yl.length&&(Ys=zs.apiKeys.filter(wl=>wl.curveType!==void 0).map(wl=>({apiKeyName:wl.apiKeyName||`api-key-${Date.now()}`,publicKey:wl.publicKey,curveType:wl.curveType,...(wl==null?void 0:wl.expirationSeconds)&&{expirationSeconds:wl.expirationSeconds}}))),{userName:(zs==null?void 0:zs.userName)||(zs==null?void 0:zs.userEmail)||`user-${Date.now()}`,...(zs==null?void 0:zs.userEmail)&&{userEmail:zs==null?void 0:zs.userEmail},...(Js=zs==null?void 0:zs.authenticators)!=null&&Js.length?{authenticators:qs}:{authenticators:[]},...(zs==null?void 0:zs.userPhoneNumber)&&{userPhoneNumber:zs.userPhoneNumber},...(zs==null?void 0:zs.userTag)&&{userTag:zs==null?void 0:zs.userTag},organizationName:(zs==null?void 0:zs.subOrgName)||`sub-org-${Date.now()}`,...(zs==null?void 0:zs.verificationToken)&&{verificationToken:zs==null?void 0:zs.verificationToken},...($l=zs==null?void 0:zs.apiKeys)!=null&&$l.length?{apiKeys:Ys}:{apiKeys:[]},...(El=zs==null?void 0:zs.oauthProviders)!=null&&El.length?{oauthProviders:zs.oauthProviders}:{oauthProviders:[]},...(zs==null?void 0:zs.customWallet)&&{wallet:{walletName:zs.customWallet.walletName,accounts:zs.customWallet.walletAccounts}}}}function getPublicKeyFromStampHeader(at){try{const zs=decodeBase64urlToString(at);return JSON.parse(zs).publicKey}catch(zs){throw new Error(`Failed to extract public key from stamp header: ${zs instanceof Error?zs.message:String(zs)}`)}}function getPolicySignature(at){return JSON.stringify({policyName:at.policyName,effect:at.effect,condition:at.condition??null,consensus:at.consensus??null})}function isEthereumProvider(at){return at.chainInfo.namespace===Chain.Ethereum}function isSolanaProvider(at){return at.chainInfo.namespace===Chain.Solana}function getCurveTypeFromProvider(at){if(isEthereumProvider(at))return"API_KEY_CURVE_SECP256K1";if(isSolanaProvider(at))return"API_KEY_CURVE_ED25519";throw new Error(`Unsupported provider namespace: ${at.chainInfo.namespace}. Expected Ethereum or Solana.`)}function getSignatureSchemeFromProvider(at){if(isEthereumProvider(at))return"SIGNATURE_SCHEME_TK_API_SECP256K1_EIP191";if(isSolanaProvider(at))return"SIGNATURE_SCHEME_TK_API_ED25519";throw new Error(`Unsupported provider namespace: ${at.chainInfo.namespace}. Expected Ethereum or Solana.`)}function findWalletProviderFromAddress(at,zs){for(const Ws of zs)if(Ws.connectedAddresses.includes(at))return Ws}function addressFromPublicKey(at,zs){if(at===Chain.Ethereum){const Ws=uint8ArrayFromHexString(zs),qs=uint8ArrayToHexString(uncompressRawPublicKey(Ws,Curve.SECP256K1)),Ys=qs.startsWith("04")?qs.slice(2):qs;return"0x"+keccak256$2(uint8ArrayFromHexString(Ys)).slice(-40)}if(at===Chain.Solana)return bs58.encode(uint8ArrayFromHexString(zs));throw new Error(`Unsupported chain: ${at}`)}function getAuthenticatorAddresses(at){const zs=[],Ws=[];for(const qs of at.apiKeys){const{type:Ys,publicKey:Xs}=qs.credential;switch(Ys){case"CREDENTIAL_TYPE_API_KEY_SECP256K1":zs.push(addressFromPublicKey(Chain.Ethereum,Xs));break;case"CREDENTIAL_TYPE_API_KEY_ED25519":Ws.push(addressFromPublicKey(Chain.Solana,Xs));break}}return{ethereum:zs,solana:Ws}}async function getAuthProxyConfig(at,zs){const Ws=(zs??"https://authproxy.turnkey.com")+"/v1/wallet_kit_config";var qs={"Content-Type":"application/json","X-Auth-Proxy-Config-ID":at};const Ys=await fetch(Ws,{method:"POST",headers:qs});if(!Ys.ok){let Zs;try{Zs=await Ys.json()}catch{throw new Error(`${Ys.status} ${Ys.statusText}`)}throw new TurnkeyRequestError(Zs)}return await Ys.json()}async function sendSignedRequest(at){const zs={"Content-Type":"application/json","X-Client-Version":VERSION,[at.stamp.stampHeaderName]:at.stamp.stampHeaderValue},Ws=await fetch(at.url,{method:"POST",headers:zs,body:at.body});if(!Ws.ok){const qs=await Ws.text();throw new TurnkeyNetworkError("Signed request failed",Ws.status,TurnkeyErrorCodes.BAD_RESPONSE,qs)}return Ws.json()}async function withTurnkeyErrorHandling$1(at,zs,Ws){const{errorMessage:qs,errorCode:Ys,customErrorsByCodes:Xs,catchFn:Zs}=zs,yl=zs.customErrorsByMessages?{...globalErrorsToMatch,...zs.customErrorsByMessages}:globalErrorsToMatch,Js=Ws==null?void 0:Ws.finallyFn;try{return await at()}catch($l){await(Zs==null?void 0:Zs());const El=$l instanceof Error&&typeof $l.message=="string"||typeof($l==null?void 0:$l.message)=="string"?$l.message:JSON.stringify($l);if($l instanceof TurnkeyError){const wl=Xs==null?void 0:Xs[$l.code];throw wl?new TurnkeyError(wl.message,wl.code,$l):(throwMatchingMessage($l.message,yl,$l),$l)}else throw $l instanceof TurnkeyRequestError?(throwMatchingMessage(El,yl,$l),new TurnkeyError(qs,Ys,$l)):$l instanceof Error?(throwMatchingMessage(El,yl,$l),new TurnkeyError(qs,Ys,$l)):(throwMatchingMessage(El,yl,$l),new TurnkeyError(El,Ys,$l))}finally{await(Js==null?void 0:Js())}}const throwMatchingMessage=(at,zs,Ws)=>{zs&&Object.keys(zs).length>0&&Object.keys(zs).forEach(qs=>{if(at.includes(qs))throw new TurnkeyError(zs[qs].message,zs[qs].code,Ws)})};async function assertValidP256ECDSAKeyPair(at){const{privateKey:zs,publicKey:Ws}=at;if(!(zs instanceof CryptoKey)||!(Ws instanceof CryptoKey))throw new TurnkeyError("Both keys must be CryptoKey instances.",TurnkeyErrorCodes.INVALID_REQUEST);if(zs.type!=="private")throw new TurnkeyError("privateKey.type must be 'private'.",TurnkeyErrorCodes.INVALID_REQUEST);if(Ws.type!=="public")throw new TurnkeyError("publicKey.type must be 'public'.",TurnkeyErrorCodes.INVALID_REQUEST);if(zs.extractable!==!1)throw new TurnkeyError("Provided privateKey must be non-extractable.",TurnkeyErrorCodes.INVALID_REQUEST);if(!zs.usages.includes("sign"))throw new TurnkeyError("privateKey must have 'sign' in keyUsages.",TurnkeyErrorCodes.INVALID_REQUEST);if(!Ws.usages.includes("verify"))throw new TurnkeyError("publicKey must have 'verify' in keyUsages.",TurnkeyErrorCodes.INVALID_REQUEST);const qs=zs.algorithm,Ys=Ws.algorithm;if(qs.name!=="ECDSA"||Ys.name!=="ECDSA")throw new TurnkeyError("Keys must be ECDSA keys.",TurnkeyErrorCodes.INVALID_REQUEST);if(qs.namedCurve!=="P-256"||Ys.namedCurve!=="P-256")throw new TurnkeyError("Keys must be on the P-256 curve.",TurnkeyErrorCodes.INVALID_REQUEST);const Xs=new Uint8Array(await crypto.subtle.exportKey("raw",Ws));if(Xs.length!==65||Xs[0]!==4)throw new TurnkeyError("Public key must be an uncompressed P-256 point (65 bytes, leading 0x04).",TurnkeyErrorCodes.INVALID_REQUEST);const Zs=crypto.getRandomValues(new Uint8Array(32)),yl=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},zs,Zs);if(!await crypto.subtle.verify({name:"ECDSA",hash:"SHA-256"},Ws,yl,Zs))throw new TurnkeyError("publicKey does not match privateKey (verify failed).",TurnkeyErrorCodes.INVALID_REQUEST)}function isValidPasskeyName(at){if(!(isReactNative()?/^[a-zA-Z0-9 _\-:\/\.]{1,64}$/:/^[a-zA-Z0-9 _\-:\/\.]+$/).test(at))throw new TurnkeyError("Passkey name must be 1-64 characters and only contain letters, numbers, spaces, dashes, underscores, colons, or slashes.",TurnkeyErrorCodes.INVALID_REQUEST);return at}function mapAccountsToWallet(at,zs){return at.forEach(async Ws=>{if(zs.has(Ws.walletDetails.walletId)){zs.get(Ws.walletDetails.walletId).accounts.push({...Ws,source:WalletSource.Embedded});return}else zs.set(Ws.walletDetails.walletId,{source:WalletSource.Embedded,walletId:Ws.walletDetails.walletId,walletName:Ws.walletDetails.walletName,createdAt:Ws.walletDetails.createdAt,updatedAt:Ws.walletDetails.updatedAt,exported:Ws.walletDetails.exported,imported:Ws.walletDetails.imported,accounts:[{...Ws,source:WalletSource.Embedded}]})}),Array.from(zs.values())}async function withTimeout(at,zs,Ws){let qs;const Ys=new Promise((Xs,Zs)=>{qs=setTimeout(()=>Zs(new Error(`${Ws} timed out after ${zs}ms`)),zs)});return Promise.race([at,Ys]).finally(()=>clearTimeout(qs))}async function fetchAllWalletAccountsWithCursor(at,zs,Ws){var yl;let qs=!0,Ys;const Xs=[],Zs=100;for(;qs;){const Js=await at.getWalletAccounts({organizationId:zs,includeWalletDetails:!0,paginationOptions:{limit:Zs.toString(),...Ys&&{after:Ys}}},Ws);if(!Js||!Js.accounts)throw new TurnkeyError("No wallet accounts found in the response",TurnkeyErrorCodes.BAD_RESPONSE);Xs.push(...Js.accounts),qs=Js.accounts.length===Zs,Ys=Js.accounts&&Js.accounts.length>0?(yl=Js.accounts[Js.accounts.length-1])==null?void 0:yl.walletAccountId:void 0}return Xs}function decodeVerificationToken(at){const[,zs]=at.split(".");if(!zs)throw new Error("Invalid token: missing payload");const Ws=atob(zs);return JSON.parse(Ws)}function getClientSignatureMessageForLogin({verificationToken:at,sessionPublicKey:zs=void 0}){try{const Ws=decodeVerificationToken(at);if(!Ws.public_key)throw new TurnkeyError("Invalid verification token: missing publicKey",TurnkeyErrorCodes.INVALID_REQUEST);const qs=Ws.public_key,Zs={login:{publicKey:zs||qs},tokenId:Ws.id,type:"USAGE_TYPE_LOGIN"};return{message:JSON.stringify(Zs),publicKey:qs}}catch(Ws){throw new TurnkeyError("Failed to create client signature bundle for login",TurnkeyErrorCodes.UNKNOWN,Ws)}}function getClientSignatureMessageForSignup({verificationToken:at,email:zs,phoneNumber:Ws,apiKeys:qs,authenticators:Ys,oauthProviders:Xs}){try{const Zs=decodeVerificationToken(at);if(!Zs.public_key)throw new TurnkeyError("Invalid verification token: missing publicKey",TurnkeyErrorCodes.INVALID_REQUEST);const yl=Zs.public_key,$l={signup:{...qs?{apiKeys:qs}:{},...Ys?{authenticators:Ys}:{},...Xs?{oauthProviders:Xs}:{},...zs?{email:zs}:{},...Ws?{phoneNumber:Ws}:{}},tokenId:Zs.id,type:"USAGE_TYPE_SIGNUP"};return{message:JSON.stringify($l),publicKey:yl}}catch(Zs){throw new TurnkeyError("Failed to create client signature bundle for signup",TurnkeyErrorCodes.UNKNOWN,Zs)}}const loadWindow=()=>typeof window<"u"?window:{localStorage:{getItem:at=>null,setItem:(at,zs)=>{},removeItem:at=>{},clear:()=>{},key:at=>null,length:0},location:{hostname:""}};var WindowWrapper=loadWindow();const window$1=Object.freeze(Object.defineProperty({__proto__:null,default:WindowWrapper},Symbol.toStringTag,{value:"Module"})),browserStorage=WindowWrapper.localStorage;class WebStorageManager{constructor(){this.getStorageValue=async zs=>{const Ws=browserStorage.getItem(zs);return Ws?JSON.parse(Ws):void 0},this.setStorageValue=async(zs,Ws)=>{if(Ws===void 0)throw new TurnkeyError("Session value cannot be undefined",TurnkeyErrorCodes.STORE_SESSION_ERROR);browserStorage.setItem(zs,JSON.stringify(Ws))},this.setActiveSessionKey=async zs=>{await this.setStorageValue(WebStorageManager.ACTIVE_SESSION_KEY,zs)},this.removeStorageValue=async zs=>{browserStorage.removeItem(zs)},this.storeSession=async(zs,Ws=SessionKey.DefaultSessionkey)=>{const qs=parseSession(zs);await this.setStorageValue(Ws,qs);const Ys=await this.getStorageValue(WebStorageManager.ALL_SESSION_KEYS)??[];Ys.includes(Ws)||(Ys.push(Ws),await this.setStorageValue(WebStorageManager.ALL_SESSION_KEYS,Ys)),await this.setStorageValue(WebStorageManager.ACTIVE_SESSION_KEY,Ws)},this.getSession=async(zs=SessionKey.DefaultSessionkey)=>this.getStorageValue(zs),this.getActiveSessionKey=async()=>this.getStorageValue(WebStorageManager.ACTIVE_SESSION_KEY),this.getActiveSession=async()=>{const zs=await this.getActiveSessionKey();return zs?this.getSession(zs):void 0},this.listSessionKeys=async()=>await this.getStorageValue(WebStorageManager.ALL_SESSION_KEYS)??[],this.clearSession=async zs=>{await this.removeStorageValue(zs);const qs=(await this.listSessionKeys()).filter(Xs=>Xs!==zs);await this.setStorageValue(WebStorageManager.ALL_SESSION_KEYS,qs),await this.getActiveSessionKey()===zs&&await this.removeStorageValue(WebStorageManager.ACTIVE_SESSION_KEY)},this.clearAllSessions=async()=>{const zs=await this.listSessionKeys();await Promise.all(zs.map(Ws=>this.removeStorageValue(Ws))),await this.removeStorageValue(WebStorageManager.ALL_SESSION_KEYS),await this.removeStorageValue(WebStorageManager.ACTIVE_SESSION_KEY)},this.storeWallets=async zs=>{for(const Ws of zs)browserStorage.setItem(Ws.walletId,JSON.stringify(Ws))}}}WebStorageManager.ALL_SESSION_KEYS="@turnkey/all-session-keys",WebStorageManager.ACTIVE_SESSION_KEY="@turnkey/active-session-key";async function createStorageManager(){if(isReactNative())try{const{MobileStorageManager:at}=await __vitePreload(async()=>{const{MobileStorageManager:zs}=await Promise.resolve().then(()=>storage);return{MobileStorageManager:zs}},void 0);return new at}catch(at){throw new Error(`Failed to load storage manager for react-native: ${at}`)}else{if(isWeb())return new WebStorageManager;throw new Error("Unsupported environment for storage manager.")}}const DB_NAME="TurnkeyStamperDB",DB_STORE="KeyStore",stampHeaderName$1="X-Stamp";function convertEcdsaIeee1363ToDer$1(at){if(at.length%2!=0||at.length==0||at.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+at.length);const zs=toUnsignedBigNum$1(at.subarray(0,at.length/2)),Ws=toUnsignedBigNum$1(at.subarray(at.length/2,at.length));let qs=0;const Ys=2+zs.length+1+1+Ws.length;let Xs;return Ys>=128?(Xs=new Uint8Array(Ys+3),Xs[qs++]=48,Xs[qs++]=129,Xs[qs++]=Ys):(Xs=new Uint8Array(Ys+2),Xs[qs++]=48,Xs[qs++]=Ys),Xs[qs++]=2,Xs[qs++]=zs.length,Xs.set(zs,qs),qs+=zs.length,Xs[qs++]=2,Xs[qs++]=Ws.length,Xs.set(Ws,qs),Xs}function toUnsignedBigNum$1(at){let zs=0;for(;zs<at.length&&at[zs]==0;)zs++;zs==at.length&&(zs=at.length-1);let Ws=0;(at[zs]&128)==128&&(Ws=1);const qs=new Uint8Array(at.length-zs+Ws);return qs.set(at.subarray(zs),Ws),qs}class IndexedDbStamper{constructor(){if(typeof window>"u")throw new Error("IndexedDB is only available in the browser")}async openDb(){return new Promise((zs,Ws)=>{const qs=indexedDB.open(DB_NAME,1);qs.onupgradeneeded=Ys=>{const Xs=Ys.target.result;Xs.objectStoreNames.contains(DB_STORE)||Xs.createObjectStore(DB_STORE)},qs.onsuccess=()=>zs(qs.result),qs.onerror=()=>Ws(qs.error)})}async storeKeyPair(zs,Ws){const qs=await this.openDb();return new Promise((Ys,Xs)=>{const Zs=qs.transaction(DB_STORE,"readwrite");Zs.objectStore(DB_STORE).put(Ws,zs),Zs.oncomplete=()=>{qs.close(),Ys()},Zs.onerror=()=>Xs(Zs.error),Zs.onabort=()=>Xs(Zs.error)})}async getPrivateKey(zs){const Ws=await this.openDb();return new Promise((qs,Ys)=>{const yl=Ws.transaction(DB_STORE,"readonly").objectStore(DB_STORE).get(zs);yl.onsuccess=()=>{Ws.close(),qs(yl.result||null)},yl.onerror=()=>{Ws.close(),Ys(yl.error)}})}async listKeyPairs(){const zs=await this.openDb();return new Promise((Ws,qs)=>{const Zs=zs.transaction(DB_STORE,"readonly").objectStore(DB_STORE).getAllKeys();Zs.onsuccess=()=>{zs.close(),Ws(Zs.result)},Zs.onerror=()=>{zs.close(),qs(Zs.error)}})}async createKeyPair(zs){let Ws,qs;if(zs)await assertValidP256ECDSAKeyPair(zs),Ws=zs.privateKey,qs=zs.publicKey;else{const yl=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]);Ws=yl.privateKey,qs=yl.publicKey}const Ys=new Uint8Array(await crypto.subtle.exportKey("raw",qs)),Xs=pointEncode(Ys),Zs=uint8ArrayToHexString(Xs);return await this.storeKeyPair(Zs,Ws),Zs}async deleteKeyPair(zs){const Ws=await this.openDb();return new Promise((qs,Ys)=>{const Xs=Ws.transaction(DB_STORE,"readwrite");Xs.objectStore(DB_STORE).delete(zs),Xs.oncomplete=()=>{Ws.close(),qs()},Xs.onerror=()=>Ys(Xs.error)})}async clearKeyPairs(){const zs=await this.openDb();return new Promise((Ws,qs)=>{const Ys=zs.transaction(DB_STORE,"readwrite");Ys.objectStore(DB_STORE).clear(),Ys.oncomplete=()=>{zs.close(),Ws()},Ys.onerror=()=>qs(Ys.error)})}async sign(zs,Ws,qs){const Ys=await this.getPrivateKey(Ws);if(!Ys)throw new Error("Key not found for publicKey: "+Ws);const Xs=new TextEncoder().encode(zs),Zs=await crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},Ys,Xs);return qs===SignatureFormat.Raw?uint8ArrayToHexString(new Uint8Array(Zs)):uint8ArrayToHexString(convertEcdsaIeee1363ToDer$1(new Uint8Array(Zs)))}async stamp(zs,Ws){const qs=await this.sign(zs,Ws,SignatureFormat.Der);return{stampHeaderName:stampHeaderName$1,stampHeaderValue:stringToBase64urlString(JSON.stringify({publicKey:Ws,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:qs}))}}}class CrossPlatformApiKeyStamper{constructor(zs){this.storageManager=zs}async init(){if(isWeb())this.stamper=new IndexedDbStamper;else if(isReactNative())try{const{ReactNativeKeychainStamper:zs}=await __vitePreload(async()=>{const{ReactNativeKeychainStamper:Ws}=await Promise.resolve().then(()=>stamper);return{ReactNativeKeychainStamper:Ws}},void 0);this.stamper=new zs}catch(zs){throw new TurnkeyError("Failed to load keychain stamper for react-native",TurnkeyErrorCodes.INITIALIZE_CLIENT_ERROR,zs)}else throw new TurnkeyError("Unsupported platform for API key stamper",TurnkeyErrorCodes.UNSUPPORTED_PLATFORM)}listKeyPairs(){if(!this.stamper)throw new TurnkeyError("Stamper is not initialized. Please call .init() before calling this method.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);return this.stamper.listKeyPairs()}createKeyPair(zs){if(!this.stamper)throw new TurnkeyError("Stamper is not initialized. Please call .init() before calling this method.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);return this.stamper.createKeyPair(zs)}deleteKeyPair(zs){if(!this.stamper)throw new TurnkeyError("Stamper is not initialized. Please call .init() before calling this method.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);return this.temporaryPublicKey===zs&&(this.temporaryPublicKey=void 0),this.stamper.deleteKeyPair(zs)}clearKeyPairs(){if(!this.stamper)throw new TurnkeyError("Stamper is not initialized. Please call .init() before calling this method.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);return this.stamper.clearKeyPairs()}setTemporaryPublicKey(zs){this.temporaryPublicKey=zs}getTemporaryPublicKey(){return this.temporaryPublicKey}clearTemporaryPublicKey(){this.temporaryPublicKey=void 0}async stamp(zs){if(!this.stamper)throw new TurnkeyError("Stamper is not initialized. Please call .init() before calling this method.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);let Ws=this.temporaryPublicKey;if(!Ws){const qs=await this.storageManager.getActiveSession();if(!qs)throw new TurnkeyError("No active session or token available.",TurnkeyErrorCodes.NO_SESSION_FOUND);Ws=qs.publicKey}return this.stamper.stamp(zs,Ws)}async sign(zs,Ws=SignatureFormat.Der){if(!this.stamper)throw new TurnkeyError("Stamper is not initialized. Please call .init() before calling this method.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);let qs=this.temporaryPublicKey;if(!qs){const Ys=await this.storageManager.getActiveSession();if(!Ys)throw new TurnkeyError("No active session or token available.",TurnkeyErrorCodes.NO_SESSION_FOUND);qs=Ys.publicKey}return this.stamper.sign(zs,qs,Ws)}}var browserPonyfill={exports:{}};(function(at,zs){var Ws=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal,qs=function(){function Xs(){this.fetch=!1,this.DOMException=Ws.DOMException}return Xs.prototype=Ws,new Xs}();(function(Xs){(function(Zs){var yl=typeof Xs<"u"&&Xs||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal||{},Js={searchParams:"URLSearchParams"in yl,iterable:"Symbol"in yl&&"iterator"in Symbol,blob:"FileReader"in yl&&"Blob"in yl&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in yl,arrayBuffer:"ArrayBuffer"in yl};function $l(Nl){return Nl&&DataView.prototype.isPrototypeOf(Nl)}if(Js.arrayBuffer)var El=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],wl=ArrayBuffer.isView||function(Nl){return Nl&&El.indexOf(Object.prototype.toString.call(Nl))>-1};function _l(Nl){if(typeof Nl!="string"&&(Nl=String(Nl)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Nl)||Nl==="")throw new TypeError('Invalid character in header field name: "'+Nl+'"');return Nl.toLowerCase()}function Sl(Nl){return typeof Nl!="string"&&(Nl=String(Nl)),Nl}function Tl(Nl){var Dl={next:function(){var Gl=Nl.shift();return{done:Gl===void 0,value:Gl}}};return Js.iterable&&(Dl[Symbol.iterator]=function(){return Dl}),Dl}function Il(Nl){this.map={},Nl instanceof Il?Nl.forEach(function(Dl,Gl){this.append(Gl,Dl)},this):Array.isArray(Nl)?Nl.forEach(function(Dl){if(Dl.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Dl.length);this.append(Dl[0],Dl[1])},this):Nl&&Object.getOwnPropertyNames(Nl).forEach(function(Dl){this.append(Dl,Nl[Dl])},this)}Il.prototype.append=function(Nl,Dl){Nl=_l(Nl),Dl=Sl(Dl);var Gl=this.map[Nl];this.map[Nl]=Gl?Gl+", "+Dl:Dl},Il.prototype.delete=function(Nl){delete this.map[_l(Nl)]},Il.prototype.get=function(Nl){return Nl=_l(Nl),this.has(Nl)?this.map[Nl]:null},Il.prototype.has=function(Nl){return this.map.hasOwnProperty(_l(Nl))},Il.prototype.set=function(Nl,Dl){this.map[_l(Nl)]=Sl(Dl)},Il.prototype.forEach=function(Nl,Dl){for(var Gl in this.map)this.map.hasOwnProperty(Gl)&&Nl.call(Dl,this.map[Gl],Gl,this)},Il.prototype.keys=function(){var Nl=[];return this.forEach(function(Dl,Gl){Nl.push(Gl)}),Tl(Nl)},Il.prototype.values=function(){var Nl=[];return this.forEach(function(Dl){Nl.push(Dl)}),Tl(Nl)},Il.prototype.entries=function(){var Nl=[];return this.forEach(function(Dl,Gl){Nl.push([Gl,Dl])}),Tl(Nl)},Js.iterable&&(Il.prototype[Symbol.iterator]=Il.prototype.entries);function Al(Nl){if(!Nl._noBody){if(Nl.bodyUsed)return Promise.reject(new TypeError("Already read"));Nl.bodyUsed=!0}}function xl(Nl){return new Promise(function(Dl,Gl){Nl.onload=function(){Dl(Nl.result)},Nl.onerror=function(){Gl(Nl.error)}})}function Pl(Nl){var Dl=new FileReader,Gl=xl(Dl);return Dl.readAsArrayBuffer(Nl),Gl}function Cl(Nl){var Dl=new FileReader,Gl=xl(Dl),Fl=/charset=([A-Za-z0-9_-]+)/.exec(Nl.type),Hl=Fl?Fl[1]:"utf-8";return Dl.readAsText(Nl,Hl),Gl}function Rl(Nl){for(var Dl=new Uint8Array(Nl),Gl=new Array(Dl.length),Fl=0;Fl<Dl.length;Fl++)Gl[Fl]=String.fromCharCode(Dl[Fl]);return Gl.join("")}function Ol(Nl){if(Nl.slice)return Nl.slice(0);var Dl=new Uint8Array(Nl.byteLength);return Dl.set(new Uint8Array(Nl)),Dl.buffer}function Ml(){return this.bodyUsed=!1,this._initBody=function(Nl){this.bodyUsed=this.bodyUsed,this._bodyInit=Nl,Nl?typeof Nl=="string"?this._bodyText=Nl:Js.blob&&Blob.prototype.isPrototypeOf(Nl)?this._bodyBlob=Nl:Js.formData&&FormData.prototype.isPrototypeOf(Nl)?this._bodyFormData=Nl:Js.searchParams&&URLSearchParams.prototype.isPrototypeOf(Nl)?this._bodyText=Nl.toString():Js.arrayBuffer&&Js.blob&&$l(Nl)?(this._bodyArrayBuffer=Ol(Nl.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Js.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Nl)||wl(Nl))?this._bodyArrayBuffer=Ol(Nl):this._bodyText=Nl=Object.prototype.toString.call(Nl):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof Nl=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Js.searchParams&&URLSearchParams.prototype.isPrototypeOf(Nl)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Js.blob&&(this.blob=function(){var Nl=Al(this);if(Nl)return Nl;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var Nl=Al(this);return Nl||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Js.blob)return this.blob().then(Pl);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var Nl=Al(this);if(Nl)return Nl;if(this._bodyBlob)return Cl(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rl(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Js.formData&&(this.formData=function(){return this.text().then(Yl)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ll=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Bl(Nl){var Dl=Nl.toUpperCase();return Ll.indexOf(Dl)>-1?Dl:Nl}function Wl(Nl,Dl){if(!(this instanceof Wl))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Dl=Dl||{};var Gl=Dl.body;if(Nl instanceof Wl){if(Nl.bodyUsed)throw new TypeError("Already read");this.url=Nl.url,this.credentials=Nl.credentials,Dl.headers||(this.headers=new Il(Nl.headers)),this.method=Nl.method,this.mode=Nl.mode,this.signal=Nl.signal,!Gl&&Nl._bodyInit!=null&&(Gl=Nl._bodyInit,Nl.bodyUsed=!0)}else this.url=String(Nl);if(this.credentials=Dl.credentials||this.credentials||"same-origin",(Dl.headers||!this.headers)&&(this.headers=new Il(Dl.headers)),this.method=Bl(Dl.method||this.method||"GET"),this.mode=Dl.mode||this.mode||null,this.signal=Dl.signal||this.signal||function(){if("AbortController"in yl){var Zl=new AbortController;return Zl.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Gl)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Gl),(this.method==="GET"||this.method==="HEAD")&&(Dl.cache==="no-store"||Dl.cache==="no-cache")){var Fl=/([?&])_=[^&]*/;if(Fl.test(this.url))this.url=this.url.replace(Fl,"$1_="+new Date().getTime());else{var Hl=/\?/;this.url+=(Hl.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Wl.prototype.clone=function(){return new Wl(this,{body:this._bodyInit})};function Yl(Nl){var Dl=new FormData;return Nl.trim().split("&").forEach(function(Gl){if(Gl){var Fl=Gl.split("="),Hl=Fl.shift().replace(/\+/g," "),Zl=Fl.join("=").replace(/\+/g," ");Dl.append(decodeURIComponent(Hl),decodeURIComponent(Zl))}}),Dl}function Kl(Nl){var Dl=new Il,Gl=Nl.replace(/\r?\n[\t ]+/g," ");return Gl.split("\r").map(function(Fl){return Fl.indexOf(`
`)===0?Fl.substr(1,Fl.length):Fl}).forEach(function(Fl){var Hl=Fl.split(":"),Zl=Hl.shift().trim();if(Zl){var Su=Hl.join(":").trim();try{Dl.append(Zl,Su)}catch($u){console.warn("Response "+$u.message)}}}),Dl}Ml.call(Wl.prototype);function Xl(Nl,Dl){if(!(this instanceof Xl))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Dl||(Dl={}),this.type="default",this.status=Dl.status===void 0?200:Dl.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Dl.statusText===void 0?"":""+Dl.statusText,this.headers=new Il(Dl.headers),this.url=Dl.url||"",this._initBody(Nl)}Ml.call(Xl.prototype),Xl.prototype.clone=function(){return new Xl(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Il(this.headers),url:this.url})},Xl.error=function(){var Nl=new Xl(null,{status:200,statusText:""});return Nl.ok=!1,Nl.status=0,Nl.type="error",Nl};var Ul=[301,302,303,307,308];Xl.redirect=function(Nl,Dl){if(Ul.indexOf(Dl)===-1)throw new RangeError("Invalid status code");return new Xl(null,{status:Dl,headers:{location:Nl}})},Zs.DOMException=yl.DOMException;try{new Zs.DOMException}catch{Zs.DOMException=function(Dl,Gl){this.message=Dl,this.name=Gl;var Fl=Error(Dl);this.stack=Fl.stack},Zs.DOMException.prototype=Object.create(Error.prototype),Zs.DOMException.prototype.constructor=Zs.DOMException}function Vl(Nl,Dl){return new Promise(function(Gl,Fl){var Hl=new Wl(Nl,Dl);if(Hl.signal&&Hl.signal.aborted)return Fl(new Zs.DOMException("Aborted","AbortError"));var Zl=new XMLHttpRequest;function Su(){Zl.abort()}Zl.onload=function(){var ku={statusText:Zl.statusText,headers:Kl(Zl.getAllResponseHeaders()||"")};Hl.url.indexOf("file://")===0&&(Zl.status<200||Zl.status>599)?ku.status=200:ku.status=Zl.status,ku.url="responseURL"in Zl?Zl.responseURL:ku.headers.get("X-Request-URL");var Tu="response"in Zl?Zl.response:Zl.responseText;setTimeout(function(){Gl(new Xl(Tu,ku))},0)},Zl.onerror=function(){setTimeout(function(){Fl(new TypeError("Network request failed"))},0)},Zl.ontimeout=function(){setTimeout(function(){Fl(new TypeError("Network request timed out"))},0)},Zl.onabort=function(){setTimeout(function(){Fl(new Zs.DOMException("Aborted","AbortError"))},0)};function $u(ku){try{return ku===""&&yl.location.href?yl.location.href:ku}catch{return ku}}if(Zl.open(Hl.method,$u(Hl.url),!0),Hl.credentials==="include"?Zl.withCredentials=!0:Hl.credentials==="omit"&&(Zl.withCredentials=!1),"responseType"in Zl&&(Js.blob?Zl.responseType="blob":Js.arrayBuffer&&(Zl.responseType="arraybuffer")),Dl&&typeof Dl.headers=="object"&&!(Dl.headers instanceof Il||yl.Headers&&Dl.headers instanceof yl.Headers)){var Pu=[];Object.getOwnPropertyNames(Dl.headers).forEach(function(ku){Pu.push(_l(ku)),Zl.setRequestHeader(ku,Sl(Dl.headers[ku]))}),Hl.headers.forEach(function(ku,Tu){Pu.indexOf(Tu)===-1&&Zl.setRequestHeader(Tu,ku)})}else Hl.headers.forEach(function(ku,Tu){Zl.setRequestHeader(Tu,ku)});Hl.signal&&(Hl.signal.addEventListener("abort",Su),Zl.onreadystatechange=function(){Zl.readyState===4&&Hl.signal.removeEventListener("abort",Su)}),Zl.send(typeof Hl._bodyInit>"u"?null:Hl._bodyInit)})}return Vl.polyfill=!0,yl.fetch||(yl.fetch=Vl,yl.Headers=Il,yl.Request=Wl,yl.Response=Xl),Zs.Headers=Il,Zs.Request=Wl,Zs.Response=Xl,Zs.fetch=Vl,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs})({})})(qs),qs.fetch.ponyfill=!0,delete qs.fetch.polyfill;var Ys=Ws.fetch?Ws:qs;zs=Ys.fetch,zs.default=Ys.fetch,zs.fetch=Ys.fetch,zs.Headers=Ys.Headers,zs.Request=Ys.Request,zs.Response=Ys.Response,at.exports=zs})(browserPonyfill,browserPonyfill.exports);function bufferToBase64url(at){const zs=new Uint8Array(at);let Ws="";for(const Xs of zs)Ws+=String.fromCharCode(Xs);return btoa(Ws).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const copyValue="copy",convertValue="convert";function convert$2(at,zs,Ws){if(zs===copyValue)return Ws;if(zs===convertValue)return at(Ws);if(zs instanceof Array)return Ws.map(qs=>convert$2(at,zs[0],qs));if(zs instanceof Object){const qs={};for(const[Ys,Xs]of Object.entries(zs)){if(Xs.derive){const Zs=Xs.derive(Ws);Zs!==void 0&&(Ws[Ys]=Zs)}if(!(Ys in Ws)){if(Xs.required)throw new Error(`Missing key: ${Ys}`);continue}if(Ws[Ys]==null){qs[Ys]=null;continue}qs[Ys]=convert$2(at,Xs.schema,Ws[Ys])}return qs}}function derived(at,zs){return{required:!0,schema:at,derive:zs}}function required(at){return{required:!0,schema:at}}function optional(at){return{required:!1,schema:at}}const simplifiedClientExtensionResultsSchema={appid:optional(copyValue),appidExclude:optional(copyValue),credProps:optional(copyValue)},publicKeyCredentialWithAttestation={type:required(copyValue),id:required(copyValue),rawId:required(convertValue),authenticatorAttachment:optional(copyValue),response:required({clientDataJSON:required(convertValue),attestationObject:required(convertValue),transports:derived(copyValue,at=>{var zs;return((zs=at.getTransports)==null?void 0:zs.call(at))||[]})}),clientExtensionResults:derived(simplifiedClientExtensionResultsSchema,at=>at.getClientExtensionResults())};function createResponseToJSON(at){return convert$2(bufferToBase64url,publicKeyCredentialWithAttestation,at)}async function create(at){const zs=await navigator.credentials.create(at);return zs.toJSON=()=>createResponseToJSON(zs),zs}function protocolTransportEnumToInternalEnum(at){switch(at){case"internal":return"AUTHENTICATOR_TRANSPORT_INTERNAL";case"usb":return"AUTHENTICATOR_TRANSPORT_USB";case"nfc":return"AUTHENTICATOR_TRANSPORT_NFC";case"ble":return"AUTHENTICATOR_TRANSPORT_BLE";case"hybrid":return"AUTHENTICATOR_TRANSPORT_HYBRID";default:throw new Error("unsupported transport format")}}function toInternalAttestation(at){return{credentialId:at.rawId,attestationObject:at.response.attestationObject,clientDataJson:at.response.clientDataJSON,transports:at.response.transports.map(protocolTransportEnumToInternalEnum)}}async function getWebAuthnAttestation(at){if(!hasWebAuthnSupport())throw new Error("webauthn is not supported by this browser");const Ws=await create(at);return toInternalAttestation(Ws.toJSON())}function hasWebAuthnSupport(){return!!window.PublicKeyCredential}const byteToHex=[];for(let at=0;at<256;++at)byteToHex.push((at+256).toString(16).slice(1));function unsafeStringify(at,zs=0){return(byteToHex[at[zs+0]]+byteToHex[at[zs+1]]+byteToHex[at[zs+2]]+byteToHex[at[zs+3]]+"-"+byteToHex[at[zs+4]]+byteToHex[at[zs+5]]+"-"+byteToHex[at[zs+6]]+byteToHex[at[zs+7]]+"-"+byteToHex[at[zs+8]]+byteToHex[at[zs+9]]+"-"+byteToHex[at[zs+10]]+byteToHex[at[zs+11]]+byteToHex[at[zs+12]]+byteToHex[at[zs+13]]+byteToHex[at[zs+14]]+byteToHex[at[zs+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(at,zs,Ws){var Ys;if(native.randomUUID&&!at)return native.randomUUID();at=at||{};const qs=at.random??((Ys=at.rng)==null?void 0:Ys.call(at))??rng();if(qs.length<16)throw new Error("Random bytes length must be >= 16");return qs[6]=qs[6]&15|64,qs[8]=qs[8]&63|128,unsafeStringify(qs)}let PasskeyStamperModule;class CrossPlatformPasskeyStamper{constructor(zs){this.createWebPasskey=async(Ws={})=>{var Js,$l,El,wl,_l,Sl,Tl,Il,Al,xl,Pl,Cl,Rl,Ol,Ml,Ll,Bl,Wl,Yl,Kl,Xl,Ul;const qs=generateRandomBuffer(),Ys=base64StringToBase64UrlEncodedString(btoa(String.fromCharCode(...new Uint8Array(qs)))),Xs=generateRandomBuffer(),Zs={publicKey:{rp:{id:(($l=(Js=Ws.publicKey)==null?void 0:Js.rp)==null?void 0:$l.id)??this.config.rpId,name:((wl=(El=Ws.publicKey)==null?void 0:El.rp)==null?void 0:wl.name)??""},challenge:((_l=Ws.publicKey)==null?void 0:_l.challenge)??qs,pubKeyCredParams:((Sl=Ws.publicKey)==null?void 0:Sl.pubKeyCredParams)??[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],user:{id:((Il=(Tl=Ws.publicKey)==null?void 0:Tl.user)==null?void 0:Il.id)??Xs,name:((xl=(Al=Ws.publicKey)==null?void 0:Al.user)==null?void 0:xl.name)??"Default User",displayName:((Cl=(Pl=Ws.publicKey)==null?void 0:Pl.user)==null?void 0:Cl.displayName)??"Default User"},authenticatorSelection:{authenticatorAttachment:((Ol=(Rl=Ws.publicKey)==null?void 0:Rl.authenticatorSelection)==null?void 0:Ol.authenticatorAttachment)??void 0,requireResidentKey:((Ll=(Ml=Ws.publicKey)==null?void 0:Ml.authenticatorSelection)==null?void 0:Ll.requireResidentKey)??!0,residentKey:((Wl=(Bl=Ws.publicKey)==null?void 0:Bl.authenticatorSelection)==null?void 0:Wl.residentKey)??"required",userVerification:((Kl=(Yl=Ws.publicKey)==null?void 0:Yl.authenticatorSelection)==null?void 0:Kl.userVerification)??"preferred"}}},yl=await getWebAuthnAttestation(Zs);return{encodedChallenge:(Xl=Ws.publicKey)!=null&&Xl.challenge?base64StringToBase64UrlEncodedString((Ul=Ws.publicKey)==null?void 0:Ul.challenge):Ys,attestation:yl}},this.createReactNativePasskey=async(Ws={})=>{const{name:qs,displayName:Ys,authenticatorName:Xs}=Ws,{createPasskey:Zs}=PasskeyStamperModule;if(!Zs)throw new Error("Ensure you have @turnkey/react-native-passkey-stamper installed and linked correctly. Are you not on React Native?");return await Zs({rp:{id:this.config.rpId,name:this.config.rpName??"Turnkey"},user:{id:v4(),name:qs,displayName:Ys},authenticatorName:Xs??qs??"End-User Passkey"})},this.config=zs}async init(){var zs;if(isWeb()){const{default:Ws}=await __vitePreload(async()=>{const{default:qs}=await Promise.resolve().then(()=>window$1);return{default:qs}},void 0);this.stamper=new WebauthnStamper({...this.config,rpId:this.config.rpId??Ws.location.hostname})}else if(isReactNative())try{let Ws;try{PasskeyStamperModule=require("@turnkey/react-native-passkey-stamper"),Ws=PasskeyStamperModule.PasskeyStamper}catch{throw new Error("Please install react-native-passkeys and @turnkey/react-native-passkey-stamper in your app to use passkeys.")}this.stamper=new Ws({...this.config,rpId:this.config.rpId,allowCredentials:(zs=this.config.allowCredentials)==null?void 0:zs.map(qs=>({id:uint8ArrayToHexString(qs.id),type:qs.type,transports:qs.transports}))})}catch(Ws){throw new Error(`Failed to load passkey stamper for react-native: ${Ws}`)}else throw new Error("Unsupported platform for passkey stamper")}async stamp(zs){return await this.stamper.stamp(zs)}}class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(at){return decodeURIComponent(atob(at).replace(/(.)/g,(zs,Ws)=>{let qs=Ws.charCodeAt(0).toString(16).toUpperCase();return qs.length<2&&(qs="0"+qs),"%"+qs}))}function base64UrlDecode(at){let zs=at.replace(/-/g,"+").replace(/_/g,"/");switch(zs.length%4){case 0:break;case 2:zs+="==";break;case 3:zs+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(zs)}catch{return atob(zs)}}function jwtDecode(at,zs){if(typeof at!="string")throw new InvalidTokenError("Invalid token specified: must be a string");zs||(zs={});const Ws=zs.header===!0?0:1,qs=at.split(".")[Ws];if(typeof qs!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${Ws+1}`);let Ys;try{Ys=base64UrlDecode(qs)}catch(Xs){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${Ws+1} (${Xs.message})`)}try{return JSON.parse(Ys)}catch(Xs){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${Ws+1} (${Xs.message})`)}}async function createWalletManager(at){if(isReactNative()){const{MobileWalletManager:zs}=await __vitePreload(async()=>{const{MobileWalletManager:qs}=await Promise.resolve().then(()=>manager$1);return{MobileWalletManager:qs}},void 0),Ws=new zs(at);return await Ws.init(at),Ws}else if(isWeb()){const{WebWalletManager:zs}=await __vitePreload(async()=>{const{WebWalletManager:qs}=await Promise.resolve().then(()=>manager);return{WebWalletManager:qs}},void 0),Ws=new zs(at);return await Ws.init(at),Ws}else throw new Error("Unsupported environment for wallet manager")}class TurnkeyClient{constructor(zs,Ws,qs,Ys){this.createHttpClient=Xs=>{var $l;const Zs=(Xs==null?void 0:Xs.apiBaseUrl)||this.config.apiBaseUrl||"https://api.turnkey.com",yl=(Xs==null?void 0:Xs.authProxyUrl)||this.config.authProxyUrl||"https://authproxy.turnkey.com",Js=(Xs==null?void 0:Xs.organizationId)||this.config.organizationId;return new TurnkeySDKClientBase({...this.config,...Xs,apiBaseUrl:Zs,authProxyUrl:yl,organizationId:Js,apiKeyStamper:this.apiKeyStamper,passkeyStamper:this.passkeyStamper,walletStamper:($l=this.walletManager)==null?void 0:$l.stamper,storageManager:this.storageManager})},this.createPasskey=async Xs=>{const{name:Zs,challenge:yl}=Xs||{};return withTurnkeyErrorHandling$1(async()=>{if(!this.passkeyStamper)throw new TurnkeyError("Passkey stamper is not initialized",TurnkeyErrorCodes.INTERNAL_ERROR);const Js=isValidPasskeyName(Zs||`passkey-${Date.now()}`);let $l;if(isWeb()){const El=await this.passkeyStamper.createWebPasskey({publicKey:{user:{name:Js,displayName:Js},...yl&&{challenge:yl}}});if(!El)throw new TurnkeyError("Failed to create Web passkey",TurnkeyErrorCodes.INTERNAL_ERROR);$l={encodedChallenge:El==null?void 0:El.encodedChallenge,attestation:El==null?void 0:El.attestation}}else if(isReactNative()){const El=await this.passkeyStamper.createReactNativePasskey({name:Js,displayName:Js});if(!El)throw new TurnkeyError("Failed to create React Native passkey",TurnkeyErrorCodes.INTERNAL_ERROR);$l={encodedChallenge:El==null?void 0:El.challenge,attestation:El==null?void 0:El.attestation}}else throw new TurnkeyError("Unsupported platform for passkey creation",TurnkeyErrorCodes.INVALID_REQUEST);return $l},{errorMessage:"Failed to create passkey",errorCode:TurnkeyErrorCodes.CREATE_PASSKEY_ERROR,customErrorsByMessages:{"timed out or was not allowed":{message:"Passkey creation was cancelled by the user.",code:TurnkeyErrorCodes.SELECT_PASSKEY_CANCELLED}}})},this.logout=async Xs=>{withTurnkeyErrorHandling$1(async()=>{var Zs,yl;if(Xs!=null&&Xs.sessionKey){const Js=await this.storageManager.getSession(Xs.sessionKey);this.storageManager.clearSession(Xs.sessionKey),(Zs=this.apiKeyStamper)==null||Zs.deleteKeyPair(Js==null?void 0:Js.publicKey)}else{const Js=await this.storageManager.getActiveSessionKey(),$l=await this.storageManager.getActiveSession();if(Js)this.storageManager.clearSession(Js),(yl=this.apiKeyStamper)==null||yl.deleteKeyPair($l==null?void 0:$l.publicKey);else throw new TurnkeyError("No active session found to log out from.",TurnkeyErrorCodes.NO_SESSION_FOUND)}},{errorMessage:"Failed to log out",errorCode:TurnkeyErrorCodes.LOGOUT_ERROR})},this.loginWithPasskey=async Xs=>{let Zs;return await withTurnkeyErrorHandling$1(async()=>{var El;Zs=(Xs==null?void 0:Xs.publicKey)||await((El=this.apiKeyStamper)==null?void 0:El.createKeyPair());const yl=(Xs==null?void 0:Xs.sessionKey)||SessionKey.DefaultSessionkey,Js=(Xs==null?void 0:Xs.expirationSeconds)||DEFAULT_SESSION_EXPIRATION_IN_SECONDS;if(!Zs)throw new TurnkeyError("A publickey could not be found or generated.",TurnkeyErrorCodes.INTERNAL_ERROR);const $l=await this.httpClient.stampLogin({publicKey:Zs,organizationId:(Xs==null?void 0:Xs.organizationId)??this.config.organizationId,expirationSeconds:Js},StamperType.Passkey);return await this.storeSession({sessionToken:$l.session,sessionKey:yl}),Zs=void 0,{sessionToken:$l.session,credentialId:""}},{errorMessage:"Unable to log in with the provided passkey",errorCode:TurnkeyErrorCodes.PASSKEY_LOGIN_AUTH_ERROR,customErrorsByMessages:{"timed out or was not allowed":{message:"Passkey login was cancelled by the user.",code:TurnkeyErrorCodes.SELECT_PASSKEY_CANCELLED}}},{finallyFn:async()=>{var yl;if(Zs)try{await((yl=this.apiKeyStamper)==null?void 0:yl.deleteKeyPair(Zs))}catch(Js){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,Js)}}})},this.signUpWithPasskey=async Xs=>{const{passkeyDisplayName:Zs,challenge:yl,expirationSeconds:Js=DEFAULT_SESSION_EXPIRATION_IN_SECONDS,createSubOrgParams:$l,sessionKey:El=SessionKey.DefaultSessionkey,organizationId:wl}=Xs||{};let _l;return withTurnkeyErrorHandling$1(async()=>{var Cl,Rl,Ol,Ml;_l=await((Cl=this.apiKeyStamper)==null?void 0:Cl.createKeyPair());const Sl=Zs||`passkey-${Date.now()}`,Tl=await this.createPasskey({name:Sl,...yl&&{challenge:yl}});if(!Tl)throw new TurnkeyError("Failed to create passkey: encoded challenge or attestation is missing",TurnkeyErrorCodes.INTERNAL_ERROR);const Il=buildSignUpBody({createSubOrgParams:{...$l,authenticators:[...($l==null?void 0:$l.authenticators)??[],{authenticatorName:Sl,challenge:Tl.encodedChallenge,attestation:Tl.attestation}],apiKeys:[{apiKeyName:`passkey-auth-${_l}`,publicKey:_l,curveType:"API_KEY_CURVE_P256",expirationSeconds:"60"}]}}),Al=await this.httpClient.proxySignup(Il);if(!Al)throw new TurnkeyError("Sign up failed",TurnkeyErrorCodes.PASSKEY_SIGNUP_AUTH_ERROR);const xl=await((Rl=this.apiKeyStamper)==null?void 0:Rl.createKeyPair());(Ol=this.apiKeyStamper)==null||Ol.setTemporaryPublicKey(_l);const Pl=await this.httpClient.stampLogin({publicKey:xl,organizationId:wl??this.config.organizationId,expirationSeconds:Js});return await Promise.all([(Ml=this.apiKeyStamper)==null?void 0:Ml.deleteKeyPair(_l),this.storeSession({sessionToken:Pl.session,sessionKey:El})]),_l=void 0,{sessionToken:Pl.session,appProofs:Al.appProofs,credentialId:Tl.attestation.credentialId}},{errorCode:TurnkeyErrorCodes.PASSKEY_SIGNUP_AUTH_ERROR,errorMessage:"Failed to sign up with passkey"},{finallyFn:async()=>{var Sl,Tl;if((Sl=this.apiKeyStamper)==null||Sl.clearTemporaryPublicKey(),_l)try{await((Tl=this.apiKeyStamper)==null?void 0:Tl.deleteKeyPair(_l))}catch(Il){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,Il)}}})},this.fetchWalletProviders=async Xs=>withTurnkeyErrorHandling$1(async()=>{if(!this.walletManager)throw new TurnkeyError("Wallet manager is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);return await this.walletManager.getProviders(Xs)},{errorMessage:"Unable to get wallet providers",errorCode:TurnkeyErrorCodes.FETCH_WALLETS_ERROR}),this.connectWalletAccount=async Xs=>withTurnkeyErrorHandling$1(async()=>{var Zs;if(!((Zs=this.walletManager)!=null&&Zs.connector))throw new TurnkeyError("Wallet connector is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);return await this.walletManager.connector.connectWalletAccount(Xs)},{errorMessage:"Unable to connect wallet account",errorCode:TurnkeyErrorCodes.CONNECT_WALLET_ACCOUNT_ERROR,customErrorsByMessages:{"WalletConnect: The connection request has expired. Please scan the QR code again.":{message:"Your WalletConnect session expired. Please scan the QR code again.",code:TurnkeyErrorCodes.WALLET_CONNECT_EXPIRED},"User rejected the request":{message:"Connect wallet was cancelled by the user.",code:TurnkeyErrorCodes.CONNECT_WALLET_CANCELLED}}}),this.disconnectWalletAccount=async Xs=>withTurnkeyErrorHandling$1(async()=>{var Zs;if(!((Zs=this.walletManager)!=null&&Zs.connector))throw new TurnkeyError("Wallet connector is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);await this.walletManager.connector.disconnectWalletAccount(Xs)},{errorMessage:"Unable to disconnect wallet account",errorCode:TurnkeyErrorCodes.DISCONNECT_WALLET_ACCOUNT_ERROR}),this.switchWalletAccountChain=async Xs=>{const{walletAccount:Zs,chainOrId:yl,walletProviders:Js}=Xs;return withTurnkeyErrorHandling$1(async()=>{var wl;if(!((wl=this.walletManager)!=null&&wl.connector))throw new TurnkeyError("Wallet connector is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);if(Zs.source===WalletSource.Embedded)throw new TurnkeyError("You can only switch chains for connected wallet accounts",TurnkeyErrorCodes.NOT_FOUND);const $l=Js??await this.fetchWalletProviders(),El=findWalletProviderFromAddress(Zs.address,$l);if(!El)throw new TurnkeyError("Wallet provider not found",TurnkeyErrorCodes.SWITCH_WALLET_CHAIN_ERROR);El.chainInfo.namespace!==yl&&await this.walletManager.connector.switchChain(El,yl)},{errorMessage:"Unable to switch wallet account chain",errorCode:TurnkeyErrorCodes.SWITCH_WALLET_CHAIN_ERROR})},this.buildWalletLoginRequest=async Xs=>{const{walletProvider:Zs,publicKey:yl}=Xs,Js=Xs.expirationSeconds||DEFAULT_SESSION_EXPIRATION_IN_SECONDS;let $l;return withTurnkeyErrorHandling$1(async()=>{var Sl,Tl;if(!((Sl=this.walletManager)!=null&&Sl.stamper))throw new TurnkeyError("Wallet stamper is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);const El=yl??($l=await((Tl=this.apiKeyStamper)==null?void 0:Tl.createKeyPair()));if(!El)throw new TurnkeyError("Failed to find or generate a public key for building the wallet login request",TurnkeyErrorCodes.WALLET_BUILD_LOGIN_REQUEST_ERROR);this.walletManager.stamper.setProvider(Zs.interfaceType,Zs);const wl=await withTurnkeyErrorHandling$1(async()=>this.httpClient.stampStampLogin({publicKey:El,organizationId:this.config.organizationId,expirationSeconds:Js},StamperType.Wallet),{errorMessage:"Failed to create stamped request for wallet login",errorCode:TurnkeyErrorCodes.WALLET_BUILD_LOGIN_REQUEST_ERROR,customErrorsByMessages:{"WalletConnect: The connection request has expired. Please scan the QR code again.":{message:"Your WalletConnect session expired. Please scan the QR code again.",code:TurnkeyErrorCodes.WALLET_CONNECT_EXPIRED},"Failed to sign the message":{message:"Wallet auth was cancelled by the user.",code:TurnkeyErrorCodes.CONNECT_WALLET_CANCELLED}}});if(!wl)throw new TurnkeyError("Failed to create stamped request for wallet login",TurnkeyErrorCodes.BAD_RESPONSE);let _l;switch(Zs.chainInfo.namespace){case Chain.Ethereum:{_l=getPublicKeyFromStampHeader(wl.stamp.stampHeaderValue);break}case Chain.Solana:{_l=await this.walletManager.stamper.getPublicKey(Zs.interfaceType,Zs);break}default:throw new TurnkeyError(`Unsupported interface type: ${Zs.interfaceType}`,TurnkeyErrorCodes.INVALID_REQUEST)}return{signedRequest:wl,publicKey:_l}},{errorCode:TurnkeyErrorCodes.WALLET_BUILD_LOGIN_REQUEST_ERROR,errorMessage:"Failed to build wallet login request",catchFn:async()=>{var El;if($l)try{await((El=this.apiKeyStamper)==null?void 0:El.deleteKeyPair($l))}catch(wl){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,wl)}}})},this.loginWithWallet=async Xs=>{var yl;let Zs=Xs.publicKey||await((yl=this.apiKeyStamper)==null?void 0:yl.createKeyPair());return withTurnkeyErrorHandling$1(async()=>{var Sl;if(!((Sl=this.walletManager)!=null&&Sl.stamper))throw new TurnkeyError("Wallet stamper is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);const Js=Xs.sessionKey||SessionKey.DefaultSessionkey,$l=Xs.walletProvider,El=(Xs==null?void 0:Xs.expirationSeconds)||DEFAULT_SESSION_EXPIRATION_IN_SECONDS;if(!Zs)throw new TurnkeyError("A publickey could not be found or generated.",TurnkeyErrorCodes.INTERNAL_ERROR);this.walletManager.stamper.setProvider($l.interfaceType,$l);const wl=await this.httpClient.stampLogin({publicKey:Zs,organizationId:(Xs==null?void 0:Xs.organizationId)??this.config.organizationId,expirationSeconds:El},StamperType.Wallet);await this.storeSession({sessionToken:wl.session,sessionKey:Js});const _l=addressFromPublicKey($l.chainInfo.namespace,Zs);return Zs=void 0,{sessionToken:wl.session,address:_l}},{errorMessage:"Unable to log in with the provided wallet",errorCode:TurnkeyErrorCodes.WALLET_LOGIN_AUTH_ERROR},{finallyFn:async()=>{var Js;if(Zs)try{await((Js=this.apiKeyStamper)==null?void 0:Js.deleteKeyPair(Zs))}catch($l){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,$l)}}})},this.signUpWithWallet=async Xs=>{const{walletProvider:Zs,createSubOrgParams:yl,sessionKey:Js=SessionKey.DefaultSessionkey,expirationSeconds:$l=DEFAULT_SESSION_EXPIRATION_IN_SECONDS}=Xs;let El;return withTurnkeyErrorHandling$1(async()=>{var Al,xl,Pl,Cl,Rl;if(!((Al=this.walletManager)!=null&&Al.stamper))throw new TurnkeyError("Wallet stamper is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);El=await((xl=this.apiKeyStamper)==null?void 0:xl.createKeyPair()),this.walletManager.stamper.setProvider(Zs.interfaceType,Zs);const wl=await this.walletManager.stamper.getPublicKey(Zs.interfaceType,Zs);if(!wl)throw new TurnkeyError("Failed to get public key from wallet",TurnkeyErrorCodes.WALLET_SIGNUP_AUTH_ERROR);const _l=buildSignUpBody({createSubOrgParams:{...yl,apiKeys:[{apiKeyName:`wallet-auth:${wl}`,publicKey:wl,curveType:getCurveTypeFromProvider(Zs)},{apiKeyName:`wallet-auth-${El}`,publicKey:El,curveType:"API_KEY_CURVE_P256",expirationSeconds:"60"}]}}),Sl=await this.httpClient.proxySignup(_l);if(!Sl)throw new TurnkeyError("Sign up failed",TurnkeyErrorCodes.WALLET_SIGNUP_AUTH_ERROR);const Tl=await((Pl=this.apiKeyStamper)==null?void 0:Pl.createKeyPair());(Cl=this.apiKeyStamper)==null||Cl.setTemporaryPublicKey(El);const Il=await this.httpClient.stampLogin({publicKey:Tl,organizationId:this.config.organizationId,expirationSeconds:$l});return await Promise.all([(Rl=this.apiKeyStamper)==null?void 0:Rl.deleteKeyPair(El),this.storeSession({sessionToken:Il.session,sessionKey:Js})]),El=void 0,{sessionToken:Il.session,appProofs:Sl.appProofs,address:addressFromPublicKey(Zs.chainInfo.namespace,wl)}},{errorMessage:"Failed to sign up with wallet",errorCode:TurnkeyErrorCodes.WALLET_SIGNUP_AUTH_ERROR},{finallyFn:async()=>{var wl,_l;if((wl=this.apiKeyStamper)==null||wl.clearTemporaryPublicKey(),El)try{await((_l=this.apiKeyStamper)==null?void 0:_l.deleteKeyPair(El))}catch(Sl){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,Sl)}}})},this.loginOrSignupWithWallet=async Xs=>{const Zs=Xs.createSubOrgParams,yl=Xs.sessionKey||SessionKey.DefaultSessionkey,Js=Xs.walletProvider;return withTurnkeyErrorHandling$1(async()=>{var Al;const{signedRequest:$l,publicKey:El}=await this.buildWalletLoginRequest(Xs),wl=await this.httpClient.proxyGetAccount({filterType:FilterType.PublicKey,filterValue:El});if(!wl)throw new TurnkeyError("Account fetch failed",TurnkeyErrorCodes.ACCOUNT_FETCH_ERROR);const _l=wl.organizationId;let Sl;if(!_l){const xl=buildSignUpBody({createSubOrgParams:{...Zs,apiKeys:[{apiKeyName:`wallet-auth:${El}`,publicKey:El,curveType:getCurveTypeFromProvider(Js)}]}});if(Sl=await this.httpClient.proxySignup(xl),!Sl)throw new TurnkeyError("Sign up failed",TurnkeyErrorCodes.WALLET_SIGNUP_AUTH_ERROR)}const Il=(Al=(await sendSignedRequest($l)).activity.result.stampLoginResult)==null?void 0:Al.session;if(!Il)throw new TurnkeyError("Session token not found in the response",TurnkeyErrorCodes.BAD_RESPONSE);return await this.storeSession({sessionToken:Il,sessionKey:yl}),{sessionToken:Il,appProofs:Sl==null?void 0:Sl.appProofs,address:addressFromPublicKey(Js.chainInfo.namespace,El),action:_l?AuthAction.LOGIN:AuthAction.SIGNUP}},{errorCode:TurnkeyErrorCodes.WALLET_LOGIN_OR_SIGNUP_ERROR,errorMessage:"Failed to log in or sign up with wallet",catchFn:async()=>{}})},this.initOtp=async Xs=>withTurnkeyErrorHandling$1(async()=>{const Zs=await this.httpClient.proxyInitOtp(Xs);if(!Zs||!Zs.otpId)throw new TurnkeyError("Failed to initialize OTP: otpId is missing",TurnkeyErrorCodes.INIT_OTP_ERROR);return Zs.otpId},{errorMessage:"Failed to initialize OTP",errorCode:TurnkeyErrorCodes.INIT_OTP_ERROR,customErrorsByMessages:{"Max number of OTPs have been initiated":{message:"Maximum number of OTPs has been reached for this contact.",code:TurnkeyErrorCodes.MAX_OTP_INITIATED_ERROR}}}),this.verifyOtp=async Xs=>{var wl;const{otpId:Zs,otpCode:yl,contact:Js,otpType:$l}=Xs,El=Xs.publicKey??await((wl=this.apiKeyStamper)==null?void 0:wl.createKeyPair());return withTurnkeyErrorHandling$1(async()=>{const _l=await this.httpClient.proxyVerifyOtp({otpId:Zs,otpCode:yl,publicKey:El});if(!_l)throw new TurnkeyError("OTP verification failed",TurnkeyErrorCodes.INTERNAL_ERROR);const Sl=await this.httpClient.proxyGetAccount({filterType:OtpTypeToFilterTypeMap[$l],filterValue:Js,verificationToken:_l.verificationToken});if(!Sl)throw new TurnkeyError("Account fetch failed",TurnkeyErrorCodes.ACCOUNT_FETCH_ERROR);return{subOrganizationId:Sl.organizationId,verificationToken:_l.verificationToken}},{errorMessage:"Failed to verify OTP",errorCode:TurnkeyErrorCodes.VERIFY_OTP_ERROR,customErrorsByMessages:{"Invalid OTP code":{message:"The provided OTP code is invalid.",code:TurnkeyErrorCodes.INVALID_OTP_CODE}}})},this.loginWithOtp=async Xs=>{var wl;const{verificationToken:Zs,invalidateExisting:yl=!1,publicKey:Js=await((wl=this.apiKeyStamper)==null?void 0:wl.createKeyPair()),organizationId:$l,sessionKey:El=SessionKey.DefaultSessionkey}=Xs;return withTurnkeyErrorHandling$1(async()=>{var Pl,Cl;const{message:_l,publicKey:Sl}=getClientSignatureMessageForLogin({verificationToken:Zs,sessionPublicKey:Js});(Pl=this.apiKeyStamper)==null||Pl.setTemporaryPublicKey(Js);const Tl=await((Cl=this.apiKeyStamper)==null?void 0:Cl.sign(_l,SignatureFormat.Raw));if(!Tl)throw new TurnkeyError("Failed to sign client signature for OTP login",TurnkeyErrorCodes.INTERNAL_ERROR);const Il={message:_l,publicKey:Sl,scheme:"CLIENT_SIGNATURE_SCHEME_API_P256",signature:Tl},Al=await this.httpClient.proxyOtpLogin({verificationToken:Zs,publicKey:Js,invalidateExisting:yl,clientSignature:Il,...$l&&{organizationId:$l}});if(!Al)throw new TurnkeyError("Auth proxy OTP login failed",TurnkeyErrorCodes.OTP_LOGIN_ERROR);const xl=await Al;if(!xl.session)throw new TurnkeyError("No session returned from OTP login",TurnkeyErrorCodes.OTP_LOGIN_ERROR);return await this.storeSession({sessionToken:xl.session,sessionKey:El}),{sessionToken:xl.session}},{errorMessage:"Failed to log in with OTP",errorCode:TurnkeyErrorCodes.OTP_LOGIN_ERROR,catchFn:async()=>{var _l;if(Js)try{await((_l=this.apiKeyStamper)==null?void 0:_l.deleteKeyPair(Js))}catch(Sl){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,Sl)}}},{finallyFn:async()=>{var _l;(_l=this.apiKeyStamper)==null||_l.clearTemporaryPublicKey()}})},this.signUpWithOtp=async Xs=>{var Tl;const{verificationToken:Zs,contact:yl,otpType:Js,createSubOrgParams:$l,invalidateExisting:El,sessionKey:wl,publicKey:_l=await((Tl=this.apiKeyStamper)==null?void 0:Tl.createKeyPair())}=Xs,Sl=buildSignUpBody({createSubOrgParams:{...$l,...Js===OtpType.Email?{userEmail:yl}:{userPhoneNumber:yl},verificationToken:Zs}});return withTurnkeyErrorHandling$1(async()=>{var Ol,Ml;const{message:Il,publicKey:Al}=getClientSignatureMessageForSignup({verificationToken:Zs,...Sl.userEmail&&{email:Sl.userEmail},...Sl.userPhoneNumber&&{phoneNumber:Sl.userPhoneNumber},apiKeys:Sl.apiKeys,authenticators:Sl.authenticators,oauthProviders:Sl.oauthProviders});(Ol=this.apiKeyStamper)==null||Ol.setTemporaryPublicKey(_l);const xl=await((Ml=this.apiKeyStamper)==null?void 0:Ml.sign(Il,SignatureFormat.Raw));if(!xl)throw new TurnkeyError("Failed to sign client signature for OTP sign up",TurnkeyErrorCodes.INTERNAL_ERROR);const Pl={message:Il,publicKey:Al,scheme:"CLIENT_SIGNATURE_SCHEME_API_P256",signature:xl},Cl=await this.httpClient.proxySignup({...Sl,clientSignature:Pl});if(!Cl)throw new TurnkeyError("Auth proxy OTP sign up failed",TurnkeyErrorCodes.OTP_SIGNUP_ERROR);return{...await this.loginWithOtp({verificationToken:Zs,publicKey:_l,...El&&{invalidateExisting:El},...wl&&{sessionKey:wl}}),appProofs:Cl.appProofs}},{catchFn:async()=>{var Il;if(_l)try{await((Il=this.apiKeyStamper)==null?void 0:Il.deleteKeyPair(_l))}catch(Al){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,Al)}},errorCode:TurnkeyErrorCodes.OTP_SIGNUP_ERROR,errorMessage:"Failed to sign up with OTP"},{finallyFn:async()=>{var Il;(Il=this.apiKeyStamper)==null||Il.clearTemporaryPublicKey()}})},this.completeOtp=async Xs=>{var Tl;const{otpId:Zs,otpCode:yl,contact:Js,otpType:$l,publicKey:El=await((Tl=this.apiKeyStamper)==null?void 0:Tl.createKeyPair()),invalidateExisting:wl=!1,sessionKey:_l,createSubOrgParams:Sl}=Xs;return withTurnkeyErrorHandling$1(async()=>{const{subOrganizationId:Il,verificationToken:Al}=await this.verifyOtp({otpId:Zs,otpCode:yl,contact:Js,otpType:$l,publicKey:El});if(!Al)throw new TurnkeyError("No verification token returned from OTP verification",TurnkeyErrorCodes.VERIFY_OTP_ERROR);return Il?{...await this.loginWithOtp({verificationToken:Al,publicKey:El,...wl&&{invalidateExisting:wl},..._l&&{sessionKey:_l}}),verificationToken:Al,action:AuthAction.LOGIN}:{...await this.signUpWithOtp({verificationToken:Al,contact:Js,otpType:$l,...Sl&&{createSubOrgParams:Sl},...wl&&{invalidateExisting:wl},..._l&&{sessionKey:_l},publicKey:El}),verificationToken:Al,action:AuthAction.SIGNUP}},{errorMessage:"Failed to complete OTP process",errorCode:TurnkeyErrorCodes.OTP_COMPLETION_ERROR})},this.completeOauth=async Xs=>{const{oidcToken:Zs,publicKey:yl,providerName:Js,createSubOrgParams:$l,invalidateExisting:El,sessionKey:wl}=Xs;return withTurnkeyErrorHandling$1(async()=>{const _l=await this.httpClient.proxyGetAccount({filterType:"OIDC_TOKEN",filterValue:Zs});if(!_l)throw new TurnkeyError("Account fetch failed",TurnkeyErrorCodes.ACCOUNT_FETCH_ERROR);return _l.organizationId?{...await this.loginWithOauth({oidcToken:Zs,publicKey:yl,...El&&{invalidateExisting:El},...wl&&{sessionKey:wl}}),action:AuthAction.LOGIN}:{...await this.signUpWithOauth({oidcToken:Zs,publicKey:yl,...Js&&{providerName:Js},...$l&&{createSubOrgParams:$l},...El&&{invalidateExisting:El},...wl&&{sessionKey:wl}}),action:AuthAction.SIGNUP}},{errorMessage:"Failed to complete OAuth process",errorCode:TurnkeyErrorCodes.OAUTH_LOGIN_ERROR})},this.loginWithOauth=async Xs=>{const{oidcToken:Zs,publicKey:yl,organizationId:Js,invalidateExisting:$l=!1,sessionKey:El=SessionKey.DefaultSessionkey}=Xs;return withTurnkeyErrorHandling$1(async()=>{if(!yl)throw new TurnkeyError("Public key must be provided to log in with OAuth. Please create a key pair first.",TurnkeyErrorCodes.MISSING_PARAMS);const wl=await this.httpClient.proxyOAuthLogin({oidcToken:Zs,publicKey:yl,invalidateExisting:$l,...Js&&{organizationId:Js}});if(!wl)throw new TurnkeyError("Auth proxy OAuth login failed",TurnkeyErrorCodes.OAUTH_LOGIN_ERROR);if(!wl.session)throw new TurnkeyError("No session returned from oauth login",TurnkeyErrorCodes.OAUTH_LOGIN_ERROR);return await this.storeSession({sessionToken:wl.session,sessionKey:El}),{sessionToken:wl.session}},{errorMessage:"Failed to complete OAuth login",errorCode:TurnkeyErrorCodes.OAUTH_LOGIN_ERROR,customErrorsByMessages:{"OAUTH disallowed":{message:"OAuth is disabled on the dashboard for this organization.",code:TurnkeyErrorCodes.AUTH_METHOD_NOT_ENABLED}},catchFn:async()=>{var wl;if(yl)try{await((wl=this.apiKeyStamper)==null?void 0:wl.deleteKeyPair(yl))}catch(_l){throw new TurnkeyError("Failed to clean up generated key pair",TurnkeyErrorCodes.KEY_PAIR_CLEANUP_ERROR,_l)}}})},this.signUpWithOauth=async Xs=>{const{oidcToken:Zs,publicKey:yl,providerName:Js="OpenID Connect Provider "+Date.now(),createSubOrgParams:$l,sessionKey:El}=Xs;return withTurnkeyErrorHandling$1(async()=>{const wl=buildSignUpBody({createSubOrgParams:{...$l,oauthProviders:[{providerName:Js,oidcToken:Zs}]}}),_l=await this.httpClient.proxySignup(wl);if(!_l)throw new TurnkeyError("Auth proxy OAuth signup failed",TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR);return{...await this.loginWithOauth({oidcToken:Zs,publicKey:yl,...El&&{sessionKey:El}}),appProofs:_l.appProofs}},{errorMessage:"Failed to sign up with OAuth",errorCode:TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR})},this.fetchWallets=async Xs=>{var _l;const{walletProviders:Zs,organizationId:yl,userId:Js,connectedOnly:$l,stampWith:El=this.config.defaultStamperType}=Xs||{},wl=await this.storageManager.getActiveSession();if(!wl&&!$l)throw new TurnkeyError("No active session found. Fetching embedded wallets requires a valid session. If you only need connected wallets, set the 'connectedOnly' parameter to true.",TurnkeyErrorCodes.NO_SESSION_FOUND);if($l&&!((_l=this.walletManager)!=null&&_l.connector))throw new TurnkeyError("Wallet connector is not initialized",TurnkeyErrorCodes.WALLET_MANAGER_COMPONENT_NOT_INITIALIZED);return withTurnkeyErrorHandling$1(async()=>{var Ol,Ml,Ll,Bl,Wl,Yl;let Sl=[];const Tl=yl||(wl==null?void 0:wl.organizationId),Il=Js||(wl==null?void 0:wl.userId);let Al;if(Tl&&Il&&((Ol=this.walletManager)!=null&&Ol.connector)){const Kl=await this.httpClient.stampGetUser({userId:Il,organizationId:Tl},El);if(!Kl)throw new TurnkeyError("Failed to stamp user request",TurnkeyErrorCodes.INVALID_REQUEST);Al=sendSignedRequest(Kl).then(Xl=>getAuthenticatorAddresses(Xl.user))}if(!$l){if(!Tl)throw new TurnkeyError("No organization ID provided and no active session found. Please log in first or pass in an organization ID.",TurnkeyErrorCodes.INVALID_REQUEST);if(!Il)throw new TurnkeyError("No user ID provided and no active session found. Please log in first or pass in a user ID.",TurnkeyErrorCodes.INVALID_REQUEST);const Kl=await this.httpClient.stampGetWallets({organizationId:Tl},El);if(!Kl)throw new TurnkeyError("Failed to stamp wallet request",TurnkeyErrorCodes.INVALID_REQUEST);const[Xl,Ul]=await Promise.all([fetchAllWalletAccountsWithCursor(this.httpClient,Tl,El),sendSignedRequest(Kl)]),Vl=new Map(Ul.wallets.map(Nl=>[Nl.walletId,{...Nl,source:WalletSource.Embedded,accounts:[]}]));Sl=mapAccountsToWallet(Xl,Vl)}if(!((Ml=this.walletManager)!=null&&Ml.connector))return Sl;const xl=Zs??await this.fetchWalletProviders(),Pl=new Map;for(const Kl of xl){const Xl=((Bl=(Ll=Kl.info)==null?void 0:Ll.name)==null?void 0:Bl.toLowerCase().replace(/\s+/g,"-"))||"unknown",Ul=Pl.get(Xl)||[];Ul.push(Kl),Pl.set(Xl,Ul)}let Cl;Al&&(Cl=await Al);let Rl=[];for(const[Kl,Xl]of Pl.entries()){const Ul=toExternalTimestamp(),Vl={source:WalletSource.Connected,walletId:Kl,walletName:((Yl=(Wl=Xl[0])==null?void 0:Wl.info)==null?void 0:Yl.name)??"Unknown",createdAt:Ul,updatedAt:Ul,exported:!1,imported:!1,accounts:[]},Nl=await this.fetchWalletAccounts({wallet:Vl,walletProviders:Xl,...El!==void 0&&{stampWith:El},...yl!==void 0&&{organizationId:yl},...Js!==void 0&&{userId:Js},...Cl&&{authenticatorAddresses:Cl}});Vl.accounts=Nl,Vl.accounts.length>0&&Rl.push(Vl)}return[...Sl,...Rl]},{errorMessage:"Failed to fetch wallets",errorCode:TurnkeyErrorCodes.FETCH_WALLETS_ERROR})},this.fetchWalletAccounts=async Xs=>{const{wallet:Zs,stampWith:yl=this.config.defaultStamperType,walletProviders:Js,paginationOptions:$l}=Xs,El=await this.storageManager.getActiveSession(),wl=(Xs==null?void 0:Xs.organizationId)||(El==null?void 0:El.organizationId),_l=(Xs==null?void 0:Xs.userId)||(El==null?void 0:El.userId);return withTurnkeyErrorHandling$1(async()=>{var Cl;if(Zs.source===WalletSource.Embedded){const Rl=[];if(!wl)throw new TurnkeyError("No organization ID provided and no active session found. Please log in first or pass in an organization ID.",TurnkeyErrorCodes.INVALID_REQUEST);if(!_l)throw new TurnkeyError("No user ID provided and no active session found. Please log in first or pass in a user ID.",TurnkeyErrorCodes.INVALID_REQUEST);const Ol=await this.httpClient.getWalletAccounts({walletId:Zs.walletId,organizationId:wl,paginationOptions:$l||{limit:"100"}},yl);if(!Ol||!Ol.accounts)throw new TurnkeyError("No wallet accounts found in the response",TurnkeyErrorCodes.BAD_RESPONSE);for(const Ml of Ol.accounts)Rl.push({...Ml,source:WalletSource.Embedded});return Rl}if(!((Cl=this.walletManager)!=null&&Cl.connector))return[];const Sl=[],Il=(Js??await this.fetchWalletProviders()).filter(Rl=>{var Ol,Ml;return((Ml=(Ol=Rl.info)==null?void 0:Ol.name)==null?void 0:Ml.toLowerCase().replace(/\s+/g,"-"))===Zs.walletId&&Rl.connectedAddresses.length>0}),Al=this.walletManager.connector.sign.bind(this.walletManager.connector);let xl=[],Pl=[];if(Xs.authenticatorAddresses)({ethereum:xl,solana:Pl}=Xs.authenticatorAddresses);else if(wl&&_l){const Rl=await this.fetchUser({userId:_l,organizationId:wl,stampWith:yl});({ethereum:xl,solana:Pl}=getAuthenticatorAddresses(Rl))}for(const Rl of Il){const Ol=toExternalTimestamp();for(const Ml of Rl.connectedAddresses){if(isEthereumProvider(Rl)){const Ll={walletAccountId:`${Zs.walletId}-${Rl.interfaceType}-${Ml}`,organizationId:wl??"",walletId:Zs.walletId,pathFormat:"PATH_FORMAT_BIP32",path:WalletSource.Connected,source:WalletSource.Connected,address:Ml,createdAt:Ol,updatedAt:Ol,curve:Curve.SECP256K1,addressFormat:"ADDRESS_FORMAT_ETHEREUM",chainInfo:Rl.chainInfo,isAuthenticator:xl.includes(Ml.toLowerCase()),signMessage:Bl=>Al(Bl,Rl,SignIntent.SignMessage),signAndSendTransaction:Bl=>Al(Bl,Rl,SignIntent.SignAndSendTransaction)};Sl.push(Ll);continue}if(isSolanaProvider(Rl)){const Ll={walletAccountId:`${Zs.walletId}-${Rl.interfaceType}-${Ml}`,organizationId:wl??"",walletId:Zs.walletId,pathFormat:"PATH_FORMAT_BIP32",path:WalletSource.Connected,source:WalletSource.Connected,address:Ml,createdAt:Ol,updatedAt:Ol,publicKey:Ml,curve:Curve.ED25519,addressFormat:"ADDRESS_FORMAT_SOLANA",chainInfo:Rl.chainInfo,isAuthenticator:Pl.includes(Ml),signMessage:Bl=>Al(Bl,Rl,SignIntent.SignMessage),signTransaction:Bl=>Al(Bl,Rl,SignIntent.SignTransaction)};Sl.push(Ll);continue}throw new Error(`Unsupported wallet chain: ${Rl.chainInfo}. Supported chains are Ethereum and Solana.`)}}return Sl},{errorMessage:"Failed to fetch wallet accounts",errorCode:TurnkeyErrorCodes.FETCH_WALLET_ACCOUNTS_ERROR})},this.fetchPrivateKeys=async Xs=>{const{stampWith:Zs=this.config.defaultStamperType}=Xs||{},yl=await getActiveSessionOrThrowIfRequired(Zs,this.storageManager.getActiveSession),Js=(Xs==null?void 0:Xs.organizationId)||(yl==null?void 0:yl.organizationId);if(!Js)throw new TurnkeyError("No organization ID provided and no active session found. Please log in first or pass in an organization ID.",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const $l=await this.httpClient.getPrivateKeys({organizationId:Js},Zs);if(!$l)throw new TurnkeyError("Failed to fetch private keys",TurnkeyErrorCodes.BAD_RESPONSE);return $l.privateKeys},{errorMessage:"Failed to fetch private keys",errorCode:TurnkeyErrorCodes.FETCH_PRIVATE_KEYS_ERROR})},this.signMessage=async Xs=>{const{message:Zs,walletAccount:yl,stampWith:Js=this.config.defaultStamperType,addEthereumPrefix:$l,organizationId:El}=Xs,wl=Xs.hashFunction||getHashFunction(yl.addressFormat),_l=Xs.encoding||getEncodingType(yl.addressFormat);return withTurnkeyErrorHandling$1(async()=>{const Sl=yl.addressFormat==="ADDRESS_FORMAT_ETHEREUM";if(yl.source===WalletSource.Connected){if(!$l&&Sl)throw new TurnkeyError("Connected Ethereum wallets automatically prefix messages. Use `addEthereumPrefix: true`.",TurnkeyErrorCodes.SIGN_MESSAGE_ERROR);let xl=Zs;if(Sl){const Cl=toUtf8Bytes(Zs);xl=getEncodedMessage(_l,Cl)}const Pl=await yl.signMessage(xl);return splitSignature(Pl,yl.addressFormat)}let Tl=toUtf8Bytes(Zs);if($l&&Sl){const xl=`Ethereum Signed Message:
${Tl.length}`,Pl=toUtf8Bytes(xl),Cl=new Uint8Array(Pl.length+Tl.length);Cl.set(Pl,0),Cl.set(Tl,Pl.length),Tl=Cl}const Il=getEncodedMessage(_l,Tl),Al=await this.httpClient.signRawPayload({signWith:yl.address,payload:Il,encoding:_l,hashFunction:wl,...El&&{organizationId:El}},Js);if(Al.activity.failure)throw new TurnkeyError("Failed to sign message, no signed payload returned",TurnkeyErrorCodes.SIGN_MESSAGE_ERROR);return Al.activity.result.signRawPayloadResult},{errorMessage:"Failed to sign message",errorCode:TurnkeyErrorCodes.SIGN_MESSAGE_ERROR})},this.signTransaction=async Xs=>{const{walletAccount:Zs,unsignedTransaction:yl,transactionType:Js,stampWith:$l=this.config.defaultStamperType,organizationId:El}=Xs;return withTurnkeyErrorHandling$1(async()=>{if(Zs.source===WalletSource.Connected)switch(Zs.chainInfo.namespace){case Chain.Ethereum:throw new TurnkeyError("Ethereum connected wallets do not support raw transaction signing. Use signAndSendTransaction instead.",TurnkeyErrorCodes.INVALID_REQUEST);case Chain.Solana:return Zs.signTransaction(yl);default:throw new TurnkeyError("Unsupported connected wallet type.",TurnkeyErrorCodes.INVALID_REQUEST)}return(await this.httpClient.signTransaction({signWith:Zs.address,unsignedTransaction:yl,type:Js,...El&&{organizationId:El}},$l)).signedTransaction},{errorMessage:"Failed to sign transaction",errorCode:TurnkeyErrorCodes.SIGN_TRANSACTION_ERROR})},this.signAndSendTransaction=async Xs=>{const{walletAccount:Zs,unsignedTransaction:yl,transactionType:Js,rpcUrl:$l,stampWith:El=this.config.defaultStamperType,organizationId:wl}=Xs;return withTurnkeyErrorHandling$1(async()=>{if(Zs.source===WalletSource.Connected)switch(Zs.chainInfo.namespace){case Chain.Ethereum:return await Zs.signAndSendTransaction(yl);case Chain.Solana:if(!$l)throw new TurnkeyError("Missing rpcUrl: connected Solana wallets require an RPC URL to broadcast transactions.",TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR);const Il=await Zs.signTransaction(yl);return await broadcastTransaction({signedTransaction:Il,rpcUrl:$l,transactionType:Js});default:throw new TurnkeyError("Connected wallets do not support signAndSendTransaction for this transaction type.",TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR)}if(!$l)throw new TurnkeyError("Missing rpcUrl: embedded wallets require an RPC URL to broadcast transactions.",TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR);const _l=await this.httpClient.signTransaction({signWith:Zs.address,unsignedTransaction:yl,type:Js,...wl&&{organizationId:wl}},El),Sl=Js==="TRANSACTION_TYPE_ETHEREUM"?`0x${_l.signedTransaction}`:_l.signedTransaction;return await broadcastTransaction({signedTransaction:Sl,rpcUrl:$l,transactionType:Js})},{errorMessage:"Failed to sign and send transaction",errorCode:TurnkeyErrorCodes.SIGN_AND_SEND_TRANSACTION_ERROR})},this.ethSendTransaction=async Xs=>{const{organizationId:Zs,stampWith:yl=this.config.defaultStamperType,transaction:Js}=Xs,{from:$l,to:El,caip2:wl,value:_l,data:Sl,nonce:Tl,gasLimit:Il,maxFeePerGas:Al,maxPriorityFeePerGas:xl,sponsor:Pl}=Js,Cl=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession),Rl=Zs||(Cl==null?void 0:Cl.organizationId);if(!Rl)throw new TurnkeyError("Organization ID must be provided to send a transaction",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{let Ol,Ml;if(!Tl||Pl){const Kl=await this.httpClient.getNonces({organizationId:Rl,address:$l,caip2:wl,nonce:!Pl,gasStationNonce:!!Pl});Ol=Kl.gasStationNonce,Ml=Kl.nonce}const Ll=Tl??Ml,Bl={from:$l,to:El,caip2:wl,..._l?{value:_l}:{},...Sl?{data:Sl}:{}};Pl?(Bl.sponsor=!0,Ol&&(Bl.gasStationNonce=Ol)):(Ll!==void 0&&(Bl.nonce=Ll),Il&&(Bl.gasLimit=Il),Al&&(Bl.maxFeePerGas=Al),xl&&(Bl.maxPriorityFeePerGas=xl));const Yl=(await this.httpClient.ethSendTransaction({...Bl,organizationId:Rl})).sendTransactionStatusId;if(!Yl)throw new TurnkeyError("Missing sendTransactionStatusId",TurnkeyErrorCodes.ETH_SEND_TRANSACTION_ERROR);return Yl},{errorMessage:"Failed to sign and send Ethereum transaction",errorCode:TurnkeyErrorCodes.ETH_SEND_TRANSACTION_ERROR})},this.fetchUser=async Xs=>{const{organizationId:Zs,userId:yl,stampWith:Js=this.config.defaultStamperType}=Xs||{},$l=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),El=yl||($l==null?void 0:$l.userId);if(!El)throw new TurnkeyError("User ID must be provided to fetch user",TurnkeyErrorCodes.INVALID_REQUEST);const wl=Zs||($l==null?void 0:$l.organizationId);if(!wl)throw new TurnkeyError("Organization ID must be provided to fetch user",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const _l=await this.httpClient.getUser({organizationId:wl,userId:El},Js);if(!_l||!_l.user)throw new TurnkeyError("No user found in the response",TurnkeyErrorCodes.BAD_RESPONSE);return _l.user},{errorMessage:"Failed to fetch user",errorCode:TurnkeyErrorCodes.FETCH_USER_ERROR})},this.fetchOrCreateP256ApiKeyUser=async Xs=>{const{publicKey:Zs,createParams:yl,stampWith:Js=this.config.defaultStamperType,organizationId:$l}=Xs;return withTurnkeyErrorHandling$1(async()=>{var Pl,Cl;const El=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),wl=$l||(El==null?void 0:El.organizationId);if(!wl)throw new TurnkeyError("Organization ID is required to fetch or create P-256 API key user.",TurnkeyErrorCodes.INVALID_REQUEST);if(!(Zs!=null&&Zs.trim()))throw new TurnkeyError("'publicKey' is required and cannot be empty.",TurnkeyErrorCodes.INVALID_REQUEST);const _l=await this.httpClient.getUsers({organizationId:wl},Js);if(!_l||!_l.users)throw new TurnkeyError("No users found in the response",TurnkeyErrorCodes.BAD_RESPONSE);const Sl=_l.users.find(Rl=>Rl.apiKeys.some(Ol=>Ol.credential.publicKey===Zs&&Ol.credential.type==="CREDENTIAL_TYPE_API_KEY_P256"));if(Sl)return Sl;const Tl=((Pl=yl==null?void 0:yl.userName)==null?void 0:Pl.trim())||"Public Key User",Il=((Cl=yl==null?void 0:yl.apiKeyName)==null?void 0:Cl.trim())||`public-key-user-${Zs}`,Al=await this.httpClient.createUsers({organizationId:wl,users:[{userName:Tl,userTags:[],apiKeys:[{apiKeyName:Il,curveType:"API_KEY_CURVE_P256",publicKey:Zs}],authenticators:[],oauthProviders:[]}]},Js);if(!(Al!=null&&Al.userIds)||Al.userIds.length===0||!Al.userIds[0])throw new TurnkeyError("Failed to create P-256 API key user",TurnkeyErrorCodes.CREATE_USERS_ERROR);const xl=Al.userIds[0];return await this.fetchUser({organizationId:wl,userId:xl,stampWith:Js})},{errorMessage:"Failed to get or create P-256 API key user",errorCode:TurnkeyErrorCodes.CREATE_USERS_ERROR})},this.fetchOrCreatePolicies=async Xs=>{const{policies:Zs,stampWith:yl=this.config.defaultStamperType}=Xs;return await withTurnkeyErrorHandling$1(async()=>{const Js=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession);if(!Array.isArray(Zs)||Zs.length===0)throw new TurnkeyError("'policies' must be a non-empty array of policy definitions.",TurnkeyErrorCodes.INVALID_REQUEST);const $l=(Xs==null?void 0:Xs.organizationId)??(Js==null?void 0:Js.organizationId);if(!$l)throw new TurnkeyError("Organization ID is required to fetch or create policies.",TurnkeyErrorCodes.INVALID_REQUEST);const wl=(await this.httpClient.getPolicies({organizationId:$l},yl)).policies||[],_l={};for(const xl of wl){const Pl=getPolicySignature(xl);_l[Pl]=xl.policyId}const Sl=[],Tl=[];for(const xl of Zs){const Pl=_l[getPolicySignature(xl)];Pl?Sl.push({...xl,policyId:Pl}):Tl.push(xl)}if(Tl.length===0)return Sl;const Il=await this.httpClient.createPolicies({organizationId:$l,policies:Tl},yl);if(!Il||!Il.policyIds)throw new TurnkeyError("Failed to create missing policies",TurnkeyErrorCodes.CREATE_POLICY_ERROR);const Al=Tl.map((xl,Pl)=>({...xl,policyId:Il.policyIds[Pl]}));return[...Sl,...Al]},{errorMessage:"Failed to get or create policies",errorCode:TurnkeyErrorCodes.CREATE_USERS_ERROR})},this.updateUserEmail=async Xs=>{const{verificationToken:Zs,email:yl,stampWith:Js=this.config.defaultStamperType,organizationId:$l}=Xs,El=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),wl=(Xs==null?void 0:Xs.userId)||(El==null?void 0:El.userId);if(!wl)throw new TurnkeyError("User ID must be provided to update user email",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{if(Zs&&(await this.httpClient.proxyGetAccount({filterType:FilterType.Email,filterValue:yl,verificationToken:Zs})).organizationId)throw new TurnkeyError(`Email ${yl} is already associated with another user.`,TurnkeyErrorCodes.ACCOUNT_ALREADY_EXISTS);const _l=await this.httpClient.updateUserEmail({userId:wl,userEmail:yl,...Zs&&{verificationToken:Zs},...$l&&{organizationId:$l}},Js);if(!_l||!_l.userId)throw new TurnkeyError("No user ID found in the update user email response",TurnkeyErrorCodes.BAD_RESPONSE);return _l.userId},{errorMessage:"Failed to update user email",errorCode:TurnkeyErrorCodes.UPDATE_USER_EMAIL_ERROR})},this.removeUserEmail=async Xs=>{const{stampWith:Zs=this.config.defaultStamperType,organizationId:yl}=Xs||{},Js=await getActiveSessionOrThrowIfRequired(Zs,this.storageManager.getActiveSession);return withTurnkeyErrorHandling$1(async()=>{const $l=(Xs==null?void 0:Xs.userId)||(Js==null?void 0:Js.userId);if(!$l)throw new TurnkeyError("User ID must be provided to remove user email",TurnkeyErrorCodes.INVALID_REQUEST);const El=await this.httpClient.updateUserEmail({userId:$l,userEmail:"",...yl&&{organizationId:yl}},Zs);if(!El||!El.userId)throw new TurnkeyError("No user ID found in the remove user email response",TurnkeyErrorCodes.BAD_RESPONSE);return El.userId},{errorMessage:"Failed to remove user email",errorCode:TurnkeyErrorCodes.UPDATE_USER_EMAIL_ERROR})},this.updateUserPhoneNumber=async Xs=>{const{verificationToken:Zs,phoneNumber:yl,stampWith:Js=this.config.defaultStamperType,organizationId:$l}=Xs,El=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),wl=(Xs==null?void 0:Xs.userId)||(El==null?void 0:El.userId);if(!wl)throw new TurnkeyError("User ID must be provided to update user phone number",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{if(Zs&&(await this.httpClient.proxyGetAccount({filterType:FilterType.Sms,filterValue:yl,verificationToken:Zs})).organizationId)throw new TurnkeyError(`Phone number ${yl} is already associated with another user.`,TurnkeyErrorCodes.ACCOUNT_ALREADY_EXISTS);const _l=await this.httpClient.updateUserPhoneNumber({userId:wl,userPhoneNumber:yl,...Zs&&{verificationToken:Zs},...$l&&{organizationId:$l}},Js);if(!_l||!_l.userId)throw new TurnkeyError("Failed to update user phone number",TurnkeyErrorCodes.UPDATE_USER_PHONE_NUMBER_ERROR);return _l.userId},{errorMessage:"Failed to update user phone number",errorCode:TurnkeyErrorCodes.UPDATE_USER_PHONE_NUMBER_ERROR})},this.removeUserPhoneNumber=async Xs=>{const{stampWith:Zs=this.config.defaultStamperType,organizationId:yl}=Xs||{},Js=await getActiveSessionOrThrowIfRequired(Zs,this.storageManager.getActiveSession),$l=(Xs==null?void 0:Xs.userId)||(Js==null?void 0:Js.userId);if(!$l)throw new TurnkeyError("User ID must be provided to remove user phone number",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const El=await this.httpClient.updateUserPhoneNumber({userId:$l,userPhoneNumber:"",...yl&&{organizationId:yl}},Zs);if(!El||!El.userId)throw new TurnkeyError("Failed to remove user phone number",TurnkeyErrorCodes.UPDATE_USER_PHONE_NUMBER_ERROR);return El.userId},{errorMessage:"Failed to remove user phone number",errorCode:TurnkeyErrorCodes.UPDATE_USER_PHONE_NUMBER_ERROR})},this.updateUserName=async Xs=>{const{userName:Zs,stampWith:yl=this.config.defaultStamperType,organizationId:Js}=Xs,$l=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession),El=(Xs==null?void 0:Xs.userId)||($l==null?void 0:$l.userId);if(!El)throw new TurnkeyError("User ID must be provided to update user name",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const wl=await this.httpClient.updateUserName({userId:El,userName:Zs,...Js&&{organizationId:Js}},yl);if(!wl||!wl.userId)throw new TurnkeyError("No user ID found in the update user name response",TurnkeyErrorCodes.BAD_RESPONSE);return wl.userId},{errorMessage:"Failed to update user name",errorCode:TurnkeyErrorCodes.UPDATE_USER_NAME_ERROR})},this.addOauthProvider=async Xs=>{const{providerName:Zs,oidcToken:yl,stampWith:Js=this.config.defaultStamperType}=Xs,$l=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession);return withTurnkeyErrorHandling$1(async()=>{const El=await this.httpClient.proxyGetAccount({filterType:"OIDC_TOKEN",filterValue:yl});if(!El)throw new TurnkeyError("Account fetch failed",TurnkeyErrorCodes.ACCOUNT_FETCH_ERROR);if(El.organizationId)throw new TurnkeyError("Account already exists with this OIDC token",TurnkeyErrorCodes.ACCOUNT_ALREADY_EXISTS);const wl=(Xs==null?void 0:Xs.userId)||($l==null?void 0:$l.userId);if(!wl)throw new TurnkeyError("User ID must be provided to add OAuth provider",TurnkeyErrorCodes.INVALID_REQUEST);const _l=(Xs==null?void 0:Xs.organizationId)??($l==null?void 0:$l.organizationId);if(!_l)throw new TurnkeyError("Organization ID is required to add OAuth provider",TurnkeyErrorCodes.INVALID_REQUEST);const{email:Sl,iss:Tl}=jwtDecode(yl)||{};if(Tl===googleISS){const xl=(await this.httpClient.proxyGetAccount({filterType:"EMAIL",filterValue:Sl,oidcToken:yl})).organizationId===_l,Pl=await this.fetchUser({userId:wl,stampWith:Js});if(!(Pl!=null&&Pl.userEmail)&&!xl){if((await this.httpClient.proxyGetAccount({filterType:FilterType.Email,filterValue:Sl,oidcToken:yl})).organizationId)throw new TurnkeyError(`Email ${Sl} is already associated with another user.`,TurnkeyErrorCodes.ACCOUNT_ALREADY_EXISTS);await this.httpClient.updateUserEmail({userId:wl,userEmail:Sl,organizationId:_l},Js)}}const Il=await this.httpClient.createOauthProviders({userId:wl,oauthProviders:[{providerName:Zs,oidcToken:yl}]},Js);if(!Il)throw new TurnkeyError("Failed to create OAuth provider",TurnkeyErrorCodes.ADD_OAUTH_PROVIDER_ERROR);return(Il==null?void 0:Il.providerIds)||[]},{errorMessage:"Failed to add OAuth provider",errorCode:TurnkeyErrorCodes.ADD_OAUTH_PROVIDER_ERROR})},this.removeOauthProviders=async Xs=>{const{providerIds:Zs,stampWith:yl=this.config.defaultStamperType,organizationId:Js}=Xs,$l=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession),El=(Xs==null?void 0:Xs.userId)||($l==null?void 0:$l.userId);if(!El)throw new TurnkeyError("User ID must be provided to remove OAuth provider",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const wl=await this.httpClient.deleteOauthProviders({userId:El,providerIds:Zs,...Js&&{organizationId:Js}},yl);if(!wl)throw new TurnkeyError("Failed to remove OAuth provider",TurnkeyErrorCodes.REMOVE_OAUTH_PROVIDER_ERROR);return wl.providerIds},{errorMessage:"Failed to remove OAuth provider",errorCode:TurnkeyErrorCodes.REMOVE_OAUTH_PROVIDER_ERROR})},this.addPasskey=async Xs=>{const{stampWith:Zs=this.config.defaultStamperType,organizationId:yl}=Xs||{},Js=(Xs==null?void 0:Xs.name)||`Turnkey Passkey-${Date.now()}`;return withTurnkeyErrorHandling$1(async()=>{const $l=await getActiveSessionOrThrowIfRequired(Zs,this.storageManager.getActiveSession),El=(Xs==null?void 0:Xs.userId)||($l==null?void 0:$l.userId);if(!El)throw new TurnkeyError("User ID must be provided to add passkey",TurnkeyErrorCodes.INVALID_REQUEST);const{encodedChallenge:wl,attestation:_l}=await this.createPasskey({name:Js});if(!_l||!wl)throw new TurnkeyError("Failed to create passkey challenge and attestation",TurnkeyErrorCodes.CREATE_PASSKEY_ERROR);const Sl=await this.httpClient.createAuthenticators({userId:El,authenticators:[{authenticatorName:Js,challenge:wl,attestation:_l}],...yl&&{organizationId:yl}},Zs);return(Sl==null?void 0:Sl.authenticatorIds)||[]},{errorMessage:"Failed to add passkey",errorCode:TurnkeyErrorCodes.ADD_PASSKEY_ERROR})},this.removePasskeys=async Xs=>{const{authenticatorIds:Zs,stampWith:yl=this.config.defaultStamperType,organizationId:Js}=Xs,$l=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession),El=(Xs==null?void 0:Xs.userId)||($l==null?void 0:$l.userId);if(!El)throw new TurnkeyError("User ID must be provided to remove passkey",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const wl=await this.httpClient.deleteAuthenticators({userId:El,authenticatorIds:Zs,...Js&&{organizationId:Js}},yl);if(!wl)throw new TurnkeyError("No response found in the remove passkey response",TurnkeyErrorCodes.REMOVE_PASSKEY_ERROR);return wl.authenticatorIds},{errorMessage:"Failed to remove passkey",errorCode:TurnkeyErrorCodes.REMOVE_PASSKEY_ERROR})},this.createWallet=async Xs=>{const{walletName:Zs,accounts:yl,organizationId:Js,mnemonicLength:$l,stampWith:El=this.config.defaultStamperType}=Xs,wl=await getActiveSessionOrThrowIfRequired(El,this.storageManager.getActiveSession),_l=Js||(wl==null?void 0:wl.organizationId);if(!_l)throw new TurnkeyError("Organization ID must be provided to create wallet",TurnkeyErrorCodes.INVALID_REQUEST);let Sl=[];return yl&&!isWalletAccountArray(yl)?Sl=generateWalletAccountsFromAddressFormat({addresses:yl}):Sl=yl||[...DEFAULT_ETHEREUM_ACCOUNTS,...DEFAULT_SOLANA_ACCOUNTS],withTurnkeyErrorHandling$1(async()=>{const Tl=await this.httpClient.createWallet({organizationId:_l,walletName:Zs,accounts:Sl,mnemonicLength:$l||12},El);if(!Tl||!Tl.walletId)throw new TurnkeyError("No wallet found in the create wallet response",TurnkeyErrorCodes.BAD_RESPONSE);return Tl.walletId},{errorMessage:"Failed to create wallet",errorCode:TurnkeyErrorCodes.CREATE_WALLET_ERROR})},this.createWalletAccounts=async Xs=>{const{accounts:Zs,walletId:yl,organizationId:Js,stampWith:$l=this.config.defaultStamperType}=Xs,El=await getActiveSessionOrThrowIfRequired($l,this.storageManager.getActiveSession),wl=Js||(El==null?void 0:El.organizationId);if(!wl)throw new TurnkeyError("Organization ID must be provided to create wallet accounts",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{let _l=[];if(Zs&&!isWalletAccountArray(Zs)){const Tl=await this.httpClient.getWalletAccounts({walletId:yl,organizationId:wl,paginationOptions:{limit:"100"}},$l);_l=generateWalletAccountsFromAddressFormat({addresses:Zs,existingWalletAccounts:Tl.accounts||[]})}else _l=Zs;const Sl=await this.httpClient.createWalletAccounts({organizationId:wl,walletId:yl,accounts:_l},$l);if(!Sl||!Sl.addresses)throw new TurnkeyError("No account found in the create wallet account response",TurnkeyErrorCodes.BAD_RESPONSE);return Sl.addresses},{errorMessage:"Failed to create wallet account",errorCode:TurnkeyErrorCodes.CREATE_WALLET_ACCOUNT_ERROR})},this.exportWallet=async Xs=>{const{walletId:Zs,targetPublicKey:yl,stampWith:Js=this.config.defaultStamperType,organizationId:$l}=Xs,El=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),wl=$l||(El==null?void 0:El.organizationId);if(!wl)throw new TurnkeyError("Organization ID must be provided to export wallet",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const _l=await this.httpClient.exportWallet({walletId:Zs,targetPublicKey:yl,organizationId:wl},Js);if(!_l.exportBundle)throw new TurnkeyError("No export bundle found in the response",TurnkeyErrorCodes.BAD_RESPONSE);return _l.exportBundle},{errorMessage:"Failed to export wallet",errorCode:TurnkeyErrorCodes.EXPORT_WALLET_ERROR})},this.exportPrivateKey=async Xs=>{const{privateKeyId:Zs,targetPublicKey:yl,stampWith:Js=this.config.defaultStamperType,organizationId:$l}=Xs,El=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),wl=$l||(El==null?void 0:El.organizationId);if(!wl)throw new TurnkeyError("Organization ID must be provided to export private key",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const _l=await this.httpClient.exportPrivateKey({privateKeyId:Zs,targetPublicKey:yl,organizationId:wl},Js);if(!_l.exportBundle)throw new TurnkeyError("No export bundle found in the response",TurnkeyErrorCodes.BAD_RESPONSE);return _l.exportBundle},{errorMessage:"Failed to export private key",errorCode:TurnkeyErrorCodes.EXPORT_PRIVATE_KEY_ERROR})},this.exportWalletAccount=async Xs=>{const{address:Zs,targetPublicKey:yl,stampWith:Js=this.config.defaultStamperType,organizationId:$l}=Xs,El=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),wl=$l||(El==null?void 0:El.organizationId);if(!wl)throw new TurnkeyError("Organization ID must be provided to export wallet account",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const _l=await this.httpClient.exportWalletAccount({address:Zs,targetPublicKey:yl,organizationId:wl},Js);if(!_l.exportBundle)throw new TurnkeyError("No export bundle found in the response",TurnkeyErrorCodes.BAD_RESPONSE);return _l.exportBundle},{errorMessage:"Failed to export wallet account",errorCode:TurnkeyErrorCodes.EXPORT_WALLET_ACCOUNT_ERROR})},this.importWallet=async Xs=>{const{encryptedBundle:Zs,accounts:yl,walletName:Js,organizationId:$l,userId:El,stampWith:wl=this.config.defaultStamperType}=Xs,_l=await getActiveSessionOrThrowIfRequired(wl,this.storageManager.getActiveSession),Sl=$l||(_l==null?void 0:_l.organizationId);if(!Sl)throw new TurnkeyError("Organization ID must be provided to import wallet",TurnkeyErrorCodes.INVALID_REQUEST);const Tl=El||(_l==null?void 0:_l.userId);if(!Tl)throw new TurnkeyError("User ID must be provided to import wallet",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const Il=await this.httpClient.importWallet({organizationId:Sl,userId:Tl,encryptedBundle:Zs,walletName:Js,accounts:yl||[...DEFAULT_ETHEREUM_ACCOUNTS,...DEFAULT_SOLANA_ACCOUNTS]},wl);if(!Il||!Il.walletId)throw new TurnkeyError("No wallet ID found in the import response",TurnkeyErrorCodes.BAD_RESPONSE);return Il.walletId},{errorMessage:"Failed to import wallet",errorCode:TurnkeyErrorCodes.IMPORT_WALLET_ERROR,customErrorsByMessages:{"invalid mnemonic":{message:"Invalid mnemonic input",code:TurnkeyErrorCodes.BAD_REQUEST}}})},this.importPrivateKey=async Xs=>{const{encryptedBundle:Zs,privateKeyName:yl,addressFormats:Js,curve:$l,organizationId:El,userId:wl,stampWith:_l=this.config.defaultStamperType}=Xs,Sl=await getActiveSessionOrThrowIfRequired(_l,this.storageManager.getActiveSession),Tl=El||(Sl==null?void 0:Sl.organizationId);if(!Tl)throw new TurnkeyError("Organization ID must be provided to import private key",TurnkeyErrorCodes.INVALID_REQUEST);const Il=wl||(Sl==null?void 0:Sl.userId);if(!Il)throw new TurnkeyError("User ID must be provided to import private key",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>{const Al=await this.httpClient.importPrivateKey({organizationId:Tl,userId:Il,encryptedBundle:Zs,privateKeyName:yl,curve:$l,addressFormats:Js},_l);if(!Al||!Al.privateKeyId)throw new TurnkeyError("No wallet ID found in the import response",TurnkeyErrorCodes.BAD_RESPONSE);return Al.privateKeyId},{errorMessage:"Failed to import wallet",errorCode:TurnkeyErrorCodes.IMPORT_WALLET_ERROR,customErrorsByMessages:{"invalid mnemonic":{message:"Invalid mnemonic input",code:TurnkeyErrorCodes.BAD_REQUEST}}})},this.deleteSubOrganization=async Xs=>{const{deleteWithoutExport:Zs=!1,organizationId:yl,stampWith:Js=this.config.defaultStamperType}=Xs||{},$l=await getActiveSessionOrThrowIfRequired(Js,this.storageManager.getActiveSession),El=yl||($l==null?void 0:$l.organizationId);return withTurnkeyErrorHandling$1(async()=>await this.httpClient.deleteSubOrganization({deleteWithoutExport:Zs,...El&&{organizationId:El}},Js),{errorMessage:"Failed to delete sub-organization",errorCode:TurnkeyErrorCodes.DELETE_SUB_ORGANIZATION_ERROR})},this.storeSession=async Xs=>{const{sessionToken:Zs,sessionKey:yl=SessionKey.DefaultSessionkey}=Xs;Zs&&withTurnkeyErrorHandling$1(async()=>{await this.storageManager.storeSession(Zs,yl)},{errorMessage:"Failed to store session",errorCode:TurnkeyErrorCodes.STORE_SESSION_ERROR},{finallyFn:async()=>await this.clearUnusedKeyPairs()})},this.clearSession=async Xs=>{const{sessionKey:Zs=SessionKey.DefaultSessionkey}=Xs||{};withTurnkeyErrorHandling$1(async()=>{var Js;const yl=await this.storageManager.getSession(Zs);if(yl)await Promise.all([(Js=this.apiKeyStamper)==null?void 0:Js.deleteKeyPair(yl.publicKey),this.storageManager.clearSession(Zs)]);else throw new TurnkeyError(`No session found with key: ${Zs}`,TurnkeyErrorCodes.NOT_FOUND)},{errorMessage:"Failed to delete session",errorCode:TurnkeyErrorCodes.CLEAR_SESSION_ERROR})},this.clearAllSessions=async()=>{withTurnkeyErrorHandling$1(async()=>{const Xs=await this.storageManager.listSessionKeys();if(Xs.length!==0)for(const Zs of Xs)this.clearSession({sessionKey:Zs})},{errorMessage:"Failed to clear all sessions",errorCode:TurnkeyErrorCodes.CLEAR_ALL_SESSIONS_ERROR})},this.refreshSession=async Xs=>{const{sessionKey:Zs=await this.storageManager.getActiveSessionKey(),expirationSeconds:yl=DEFAULT_SESSION_EXPIRATION_IN_SECONDS,publicKey:Js,stampWith:$l=this.config.defaultStamperType,invalidateExisitng:El=!1}=Xs||{};if(!Zs)throw new TurnkeyError("No session key provided or active session to refresh session",TurnkeyErrorCodes.NO_SESSION_FOUND);if(!await this.getSession({sessionKey:Zs}))throw new TurnkeyError(`No active session found: ${Zs}`,TurnkeyErrorCodes.NO_SESSION_FOUND);if(!this.httpClient)throw new TurnkeyError("HTTP client is not initialized. Please initialize the client before refreshing the session.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);let _l;return withTurnkeyErrorHandling$1(async()=>{var Tl;if(_l=Js??await((Tl=this.apiKeyStamper)==null?void 0:Tl.createKeyPair()),!_l)throw new TurnkeyError("Failed to create new key pair.",TurnkeyErrorCodes.INTERNAL_ERROR);const Sl=await this.httpClient.stampLogin({publicKey:_l,expirationSeconds:yl,invalidateExisting:El},$l);if(!Sl||!Sl.session)throw new TurnkeyError("No session found in the refresh response",TurnkeyErrorCodes.BAD_RESPONSE);return await this.storeSession({sessionToken:Sl.session,...Zs&&{sessionKey:Zs}}),Sl},{errorMessage:"Failed to refresh session",errorCode:TurnkeyErrorCodes.REFRESH_SESSION_ERROR})},this.getSession=async Xs=>withTurnkeyErrorHandling$1(async()=>{const{sessionKey:Zs=await this.storageManager.getActiveSessionKey()}=Xs||{};return this.storageManager.getSession(Zs)},{errorMessage:"Failed to get session with key "+(Xs==null?void 0:Xs.sessionKey),errorCode:TurnkeyErrorCodes.GET_SESSION_ERROR}),this.getAllSessions=async()=>withTurnkeyErrorHandling$1(async()=>{const Xs=await this.storageManager.listSessionKeys();if(!Xs||Xs.length===0)return;const Zs={};for(const yl of Xs){const Js=await this.storageManager.getSession(yl);Js&&(Zs[yl]=Js)}return Zs||void 0},{errorMessage:"Failed to get all sessions",errorCode:TurnkeyErrorCodes.GET_ALL_SESSIONS_ERROR}),this.setActiveSession=async Xs=>{const{sessionKey:Zs}=Xs;return withTurnkeyErrorHandling$1(async()=>{await this.storageManager.setActiveSessionKey(Zs)},{errorMessage:"Failed to set active session",errorCode:TurnkeyErrorCodes.SET_ACTIVE_SESSION_ERROR})},this.getActiveSessionKey=async()=>withTurnkeyErrorHandling$1(async()=>await this.storageManager.getActiveSessionKey(),{errorMessage:"Failed to get active session key",errorCode:TurnkeyErrorCodes.GET_ACTIVE_SESSION_KEY_ERROR}),this.clearUnusedKeyPairs=async()=>{withTurnkeyErrorHandling$1(async()=>{var Js,$l,El;const Xs=await((Js=this.apiKeyStamper)==null?void 0:Js.listKeyPairs());if(!Xs||Xs.length===0)return;const Zs=await(($l=this.storageManager)==null?void 0:$l.listSessionKeys()),yl={};for(const wl of Zs){const _l=await this.storageManager.getSession(wl);_l&&(yl[_l.publicKey]=wl)}for(const wl of Xs)if(!yl[wl])try{await((El=this.apiKeyStamper)==null?void 0:El.deleteKeyPair(wl))}catch(_l){throw new TurnkeyError(`Failed to delete unused key pair ${wl}`,TurnkeyErrorCodes.INTERNAL_ERROR,_l)}},{errorMessage:"Failed to clear unused key pairs",errorCode:TurnkeyErrorCodes.CLEAR_UNUSED_KEY_PAIRS_ERROR})},this.createApiKeyPair=async Xs=>withTurnkeyErrorHandling$1(async()=>{const Zs=Xs==null?void 0:Xs.externalKeyPair,yl=(Xs==null?void 0:Xs.storeOverride)??!1;if(!this.apiKeyStamper)throw new TurnkeyError("API Key Stamper is not initialized.",TurnkeyErrorCodes.INTERNAL_ERROR);const Js=await this.apiKeyStamper.createKeyPair(Zs||void 0);return yl&&Js&&this.apiKeyStamper.setTemporaryPublicKey(Js),Js},{errorMessage:"Failed to create API key pair",errorCode:TurnkeyErrorCodes.CREATE_API_KEY_PAIR_ERROR}),this.getProxyAuthConfig=async()=>withTurnkeyErrorHandling$1(async()=>{const Xs=await this.httpClient.proxyGetWalletKitConfig({});if(!Xs)throw new TurnkeyError("Failed to fetch auth proxy config",TurnkeyErrorCodes.GET_PROXY_AUTH_CONFIG_ERROR);return Xs},{errorMessage:"Failed to get auth proxy config",errorCode:TurnkeyErrorCodes.GET_PROXY_AUTH_CONFIG_ERROR}),this.fetchBootProofForAppProof=async Xs=>{const{appProof:Zs,stampWith:yl=this.config.defaultStamperType,organizationId:Js}=Xs;return withTurnkeyErrorHandling$1(async()=>{const $l=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession),El=Js||($l==null?void 0:$l.organizationId);if(!El)throw new TurnkeyError("Organization ID is required to fetch a Boot Proof.",TurnkeyErrorCodes.INVALID_REQUEST);if(Zs===null||(Zs==null?void 0:Zs.publicKey)===null)throw new TurnkeyError("'appProof' is required and cannot be empty.",TurnkeyErrorCodes.INVALID_REQUEST);const wl=Zs.publicKey,_l=await this.httpClient.getBootProof({organizationId:El,ephemeralKey:wl},yl);if(!_l||!_l.bootProof)throw new TurnkeyError("No boot proof found in the response",TurnkeyErrorCodes.BAD_RESPONSE);return _l.bootProof},{errorMessage:"Failed to get boot proof for app proof",errorCode:TurnkeyErrorCodes.FETCH_BOOT_PROOF_ERROR})},this.verifyAppProofs=async Xs=>{const{appProofs:Zs,stampWith:yl=this.config.defaultStamperType,organizationId:Js}=Xs;return withTurnkeyErrorHandling$1(async()=>{const $l=await getActiveSessionOrThrowIfRequired(yl,this.storageManager.getActiveSession),El=Js||($l==null?void 0:$l.organizationId);if(!El)throw new TurnkeyError("Organization ID is required to verify app proofs.",TurnkeyErrorCodes.INVALID_REQUEST);if(!Zs||Zs.length===0)throw new TurnkeyError("'appProofs' is required and cannot be empty.",TurnkeyErrorCodes.INVALID_REQUEST);let wl,_l;for(const Sl of Zs){if(!Sl.publicKey)throw new TurnkeyError("App proof publicKey is missing.",TurnkeyErrorCodes.INVALID_REQUEST);let Tl;Sl.publicKey===wl&&_l?Tl=_l:(Tl=await this.fetchBootProofForAppProof({appProof:Sl,organizationId:El,stampWith:yl}),wl=Sl.publicKey,_l=Tl),await verify(Sl,Tl)}},{errorMessage:"Failed to verify app proofs",errorCode:TurnkeyErrorCodes.VERIFY_APP_PROOFS_ERROR})},this.config=zs,this.apiKeyStamper=Ws,this.passkeyStamper=qs,this.walletManager=Ys}async init(){var Ws,qs,Ys,Xs;this.storageManager=await createStorageManager(),this.apiKeyStamper=new CrossPlatformApiKeyStamper(this.storageManager);const zs=[this.apiKeyStamper.init()];if(this.config.passkeyConfig){const Zs=new CrossPlatformPasskeyStamper(this.config.passkeyConfig);zs.push(Zs.init().then(()=>{this.passkeyStamper=Zs}))}((qs=(Ws=this.config.walletConfig)==null?void 0:Ws.features)!=null&&qs.auth||(Xs=(Ys=this.config.walletConfig)==null?void 0:Ys.features)!=null&&Xs.connecting)&&zs.push(createWalletManager(this.config.walletConfig).then(Zs=>{this.walletManager=Zs})),await Promise.all(zs),this.httpClient=this.createHttpClient()}async pollTransactionStatus(zs){const{organizationId:Ws,stampWith:qs=this.config.defaultStamperType,sendTransactionStatusId:Ys,pollingIntervalMs:Xs}=zs,Zs=await getActiveSessionOrThrowIfRequired(qs,this.storageManager.getActiveSession),yl=Ws||(Zs==null?void 0:Zs.organizationId);if(!yl)throw new TurnkeyError("Organization ID must be provided to fetch user",TurnkeyErrorCodes.INVALID_REQUEST);return withTurnkeyErrorHandling$1(async()=>new Promise((Js,$l)=>{const El=Xs??500,wl=6e4,_l=setInterval(async()=>{const Tl=await this.httpClient.getSendTransactionStatus({organizationId:yl,sendTransactionStatusId:Ys}),Il=Tl==null?void 0:Tl.txStatus,Al=Tl==null?void 0:Tl.txError;if(Il){if(Al||Il==="FAILED"||Il==="CANCELLED"){clearInterval(_l),clearTimeout(Sl),$l(Al||`Transaction ${Il}`);return}(Il==="COMPLETED"||Il==="INCLUDED")&&(clearInterval(_l),clearTimeout(Sl),Js(Tl))}},El),Sl=setTimeout(()=>{clearInterval(_l),$l(new Error("Polling timed out after 1 minute"))},wl)}),{errorMessage:"Failed to poll transaction status",errorCode:TurnkeyErrorCodes.POLL_TRANSACTION_STATUS_ERROR})}}var DISCORD_AUTH_URL="https://discord.com/oauth2/authorize",X_AUTH_URL="https://x.com/i/oauth2/authorize",GOOGLE_AUTH_URL="https://accounts.google.com/o/oauth2/v2/auth",APPLE_AUTH_URL="https://account.apple.com/auth/authorize",FACEBOOK_AUTH_URL="https://www.facebook.com/v11.0/dialog/oauth",FACEBOOK_GRAPH_URL="https://graph.facebook.com/v11.0/oauth/access_token",popupWidth=500,popupHeight=600,SESSION_WARNING_THRESHOLD_MS=60*1e3,useDebouncedCallback=function(zs){var Ws=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,qs=reactExports.useRef(null),Ys=reactExports.useRef(zs);return Ys.current=zs,reactExports.useCallback(function(){for(var Xs=arguments.length,Zs=new Array(Xs),yl=0;yl<Xs;yl++)Zs[yl]=arguments[yl];qs.current&&clearTimeout(qs.current),qs.current=setTimeout(function(){Ys.current.apply(Ys,Zs),qs.current=null},Ws)},[Ws])},isValidSession=function(zs){return(zs==null?void 0:zs.expiry)!==void 0&&zs.expiry*1e3>Date.now()};function withTurnkeyErrorHandling(at,zs,Ws){return _withTurnkeyErrorHandling.apply(this,arguments)}function _withTurnkeyErrorHandling(){return _withTurnkeyErrorHandling=_asyncToGenerator(_regenerator().m(function at(zs,Ws,qs){var Ys,Xs,Zs,yl,Js,$l=arguments,El;return _regenerator().w(function(wl){for(;;)switch(wl.p=wl.n){case 0:return Ys=$l.length>3&&$l[3]!==void 0?$l[3]:"An unknown error occurred",Xs=$l.length>4&&$l[4]!==void 0?$l[4]:TurnkeyErrorCodes.UNKNOWN,wl.p=1,wl.n=2,zs();case 2:return wl.a(2,wl.v);case 3:if(wl.p=3,El=wl.v,!(El instanceof TurnkeyError)){wl.n=7;break}if(yl=El,yl.code!==TurnkeyErrorCodes.SESSION_EXPIRED){wl.n=6;break}if(!Ws){wl.n=5;break}return wl.n=4,Ws();case 4:wl.n=6;break;case 5:throw new TurnkeyError("SESSION_EXPIRED received without sessionExpireFn handler",TurnkeyErrorCodes.INTERNAL_ERROR,El);case 6:throw yl.code!==TurnkeyErrorCodes.WALLET_CONNECT_EXPIRED&&(qs==null||(Js=qs.onError)===null||Js===void 0||Js.call(qs,yl)),yl;case 7:throw yl=new TurnkeyError(Ys,Xs,El),qs==null||(Zs=qs.onError)===null||Zs===void 0||Zs.call(qs,yl),yl;case 8:return wl.a(2)}},at,null,[[1,3]])})),_withTurnkeyErrorHandling.apply(this,arguments)}function parseAppleOAuthRedirect(at){var zs=at.match(/id_token=([^&]+)$/),Ws=zs?zs[1]:null,qs=at.indexOf("&code=");if(qs===-1)return{idToken:Ws,provider:null,flow:null,publicKey:null,openModal:null,sessionKey:null};var Ys=at.substring(6,qs),Xs=new URLSearchParams(Ys);return{idToken:Ws,provider:Xs.get("provider"),flow:Xs.get("flow"),publicKey:Xs.get("publicKey"),openModal:Xs.get("openModal"),sessionKey:Xs.get("sessionKey")}}function parseGoogleOAuthRedirect(at){var zs=new URLSearchParams(at),Ws=zs.get("id_token"),qs=zs.get("state"),Ys=null,Xs=null,Zs=null,yl=null,Js=null;if(qs){var $l=new URLSearchParams(qs);Ys=$l.get("provider"),Xs=$l.get("flow"),Zs=$l.get("publicKey"),yl=$l.get("openModal"),Js=$l.get("sessionKey")}return{idToken:Ws,provider:Ys,flow:Xs,publicKey:Zs,openModal:yl,sessionKey:Js}}function parseOAuthRedirect(at){return at.startsWith("state=provider=apple")?parseAppleOAuthRedirect(at):parseGoogleOAuthRedirect(at)}function generateChallengePair(){return _generateChallengePair.apply(this,arguments)}function _generateChallengePair(){return _generateChallengePair=_asyncToGenerator(_regenerator().m(function at(){var zs,Ws,qs,Ys,Xs,Zs;return _regenerator().w(function(yl){for(;;)switch(yl.n){case 0:return zs=new Uint8Array(32),window.crypto.getRandomValues(zs),Ws=btoa(String.fromCharCode.apply(String,_toConsumableArray$1(zs))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),qs=new TextEncoder,Ys=qs.encode(Ws),yl.n=1,window.crypto.subtle.digest("SHA-256",Ys);case 1:return Xs=yl.v,Zs=btoa(String.fromCharCode.apply(String,_toConsumableArray$1(new Uint8Array(Xs)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),yl.a(2,{verifier:Ws,codeChallenge:Zs})}},at)})),_generateChallengePair.apply(this,arguments)}function exchangeCodeForToken(at,zs,Ws,qs){return _exchangeCodeForToken.apply(this,arguments)}function _exchangeCodeForToken(){return _exchangeCodeForToken=_asyncToGenerator(_regenerator().m(function at(zs,Ws,qs,Ys){var Xs,Zs,yl;return _regenerator().w(function(Js){for(;;)switch(Js.n){case 0:return Xs=new URLSearchParams({client_id:zs,redirect_uri:Ws,code_verifier:Ys,code:qs,grant_type:"authorization_code"}),Js.n=1,fetch(FACEBOOK_GRAPH_URL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Xs.toString()});case 1:if(Zs=Js.v,Zs.ok){Js.n=3;break}return Js.n=2,Zs.json();case 2:throw yl=Js.v,new Error("Facebook token exchange failed: ".concat(JSON.stringify(yl)));case 3:return Js.n=4,Zs.json();case 4:return Js.a(2,Js.v)}},at)})),_exchangeCodeForToken.apply(this,arguments)}function handleFacebookPKCEFlow(at){return _handleFacebookPKCEFlow.apply(this,arguments)}function _handleFacebookPKCEFlow(){return _handleFacebookPKCEFlow=_asyncToGenerator(_regenerator().m(function at(zs){var Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l;return _regenerator().w(function(Sl){for(;;)switch(Sl.p=Sl.n){case 0:if(Ws=zs.code,qs=zs.publicKey,Ys=zs.openModal,Xs=zs.clientId,Zs=zs.redirectURI,yl=zs.callbacks,Js=zs.completeOauth,$l=zs.onPushPage,El=sessionStorage.getItem("facebook_verifier"),El){Sl.n=1;break}throw new TurnkeyError("Missing PKCE verifier for Facebook authentication",TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR);case 1:return Sl.p=1,Sl.n=2,exchangeCodeForToken(Xs,Zs,Ws,El);case 2:if(wl=Sl.v,sessionStorage.removeItem("facebook_verifier"),Ys!=="true"){Sl.n=4;break}return Sl.n=3,$l(wl.id_token);case 3:Sl.n=6;break;case 4:if(!(yl!=null&&yl.onOauthRedirect)){Sl.n=5;break}yl.onOauthRedirect({idToken:wl.id_token,publicKey:qs}),Sl.n=6;break;case 5:return Sl.n=6,Js({oidcToken:wl.id_token,publicKey:qs});case 6:return window.history.replaceState(null,document.title,window.location.pathname),Sl.a(2);case 7:throw Sl.p=7,_l=Sl.v,console.error("Error exchanging Facebook code for token:",_l),new TurnkeyError("Failed to complete Facebook authentication",TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR,_l);case 8:return Sl.a(2)}},at,null,[[1,7]])})),_handleFacebookPKCEFlow.apply(this,arguments)}function useScreenSize(){var at=reactExports.useState(typeof window<"u"?window.innerWidth:1024),zs=_slicedToArray$2(at,2),Ws=zs[0],qs=zs[1],Ys=reactExports.useState(typeof window<"u"?window.innerHeight:768),Xs=_slicedToArray$2(Ys,2),Zs=Xs[0],yl=Xs[1];return reactExports.useEffect(function(){var Js=function(){qs(window.innerWidth),yl(window.innerHeight)};return window.addEventListener("resize",Js),function(){return window.removeEventListener("resize",Js)}},[]),{width:Ws,height:Zs,isMobile:Ws<640}}function isWalletConnect(at){return at.interfaceType==WalletInterfaceType.WalletConnect}function useWalletProviderState(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],zs=reactExports.useState(at),Ws=_slicedToArray$2(zs,2),qs=Ws[0],Ys=Ws[1],Xs=reactExports.useRef(at);function Zs(Js,$l){if(Js.length!==$l.length)return!1;for(var El=function(Il){var Al=Il.info.name,xl=Il.chainInfo.namespace,Pl=Il.interfaceType,Cl=_toConsumableArray$1(Il.connectedAddresses).map(function(Ol){return Ol.toLowerCase()}).sort().join(","),Rl=Il.uri||"";return"".concat(xl,"|").concat(Pl,"|").concat(Al,"|").concat(Cl,"|").concat(Rl)},wl=Js.map(El).sort(),_l=$l.map(El).sort(),Sl=0;Sl<wl.length;Sl++)if(wl[Sl]!==_l[Sl])return!1;return!0}var yl=reactExports.useCallback(function(Js){Zs(Xs.current,Js)||(Xs.current=Js,Ys(Js))},[]);return[qs,yl]}function mergeWalletsWithoutDuplicates(at,zs){var Ws=new Set(at.map(function(Ys){return Ys.walletId})),qs=zs.filter(function(Ys){return!Ws.has(Ys.walletId)});return[].concat(_toConsumableArray$1(at),_toConsumableArray$1(qs))}var ModalContext=reactExports.createContext(void 0);function ModalProvider(at){var zs=at.children,Ws=reactExports.useState([]),qs=_slicedToArray$2(Ws,2),Ys=qs[0],Xs=qs[1],Zs=reactExports.useState(null),yl=_slicedToArray$2(Zs,2),Js=yl[0],$l=yl[1],El=useScreenSize(),wl=El.isMobile,_l=El.width,Sl=function(Ol){return Xs([Ol])},Tl=function(Ol){return $l(Ol)},Il=function(Ol){return Xs(function(Ml){return[].concat(_toConsumableArray$1(Ml),[Ol])})},Al=function(){return Xs(function(Ol){return Ol.slice(0,-1)})},xl=function(Ol){return Xs(function(Ml){return Ml.slice(0,Math.max(0,Ml.length-Ol))})},Pl=function(){Xs([]),$l(null)},Cl=function(){return $l(null)};return jsxRuntimeExports.jsx(ModalContext.Provider,{value:{openModal:Sl,openSheet:Tl,pushPage:Il,popPage:Al,popPages:xl,closeModal:Pl,closeSheet:Cl,modalStack:Ys,sheet:Js,isMobile:wl,screenWidth:_l},children:zs})}var useModal=function(){var zs=reactExports.useContext(ModalContext);if(!zs)throw new Error("useModal must be used within ModalProvider");return zs},ClientContext=reactExports.createContext(void 0),useTurnkey=function(){var zs=reactExports.useContext(ClientContext);if(!zs)throw new Error("useTurnkey must be used within TurnkeyProvider");return zs},MAX_DELAY_MS=2147483647;function toIntMs(at){return Math.max(0,Math.floor(Number.isFinite(at)?at:0))}function setCappedTimeout(at,zs){var Ws=Date.now()+toIntMs(zs),qs,Ys=function(){var Zs=Ws-Date.now();if(Zs<=0){at();return}qs=window.setTimeout(Ys,Math.min(MAX_DELAY_MS,Zs))};return Ys(),{clear:function(){qs!==void 0&&(window.clearTimeout(qs),qs=void 0)}}}function setTimeoutController(at,zs){var Ws=toIntMs(zs),qs=window.setTimeout(at,Ws);return{clear:function(){return window.clearTimeout(qs)}}}function putTimer(at,zs,Ws){var qs,Ys;(qs=at[zs])===null||qs===void 0||(Ys=qs.clear)===null||Ys===void 0||Ys.call(qs),at[zs]=Ws}function clearKey(at,zs){var Ws,qs;(Ws=at[zs])===null||Ws===void 0||(qs=Ws.clear)===null||qs===void 0||qs.call(Ws),delete at[zs]}function clearKeys(at,zs){var Ws=_createForOfIteratorHelper(zs),qs;try{for(Ws.s();!(qs=Ws.n()).done;){var Ys=qs.value;clearKey(at,Ys)}}catch(Xs){Ws.e(Xs)}finally{Ws.f()}}function clearAll(at){for(var zs=0,Ws=Object.keys(at);zs<Ws.length;zs++){var qs,Ys,Xs=Ws[zs];(qs=at[Xs])===null||qs===void 0||(Ys=qs.clear)===null||Ys===void 0||Ys.call(qs),delete at[Xs]}}function setCappedTimeoutInMap(at,zs,Ws,qs){putTimer(at,zs,setCappedTimeout(Ws,qs))}function setTimeoutInMap(at,zs,Ws,qs){putTimer(at,zs,setTimeoutController(Ws,qs))}const stampHeaderName="X-Stamp";var IframeEventType;(function(at){at.PublicKeyReady="PUBLIC_KEY_READY",at.InjectCredentialBundle="INJECT_CREDENTIAL_BUNDLE",at.InjectKeyExportBundle="INJECT_KEY_EXPORT_BUNDLE",at.InjectWalletExportBundle="INJECT_WALLET_EXPORT_BUNDLE",at.InjectImportBundle="INJECT_IMPORT_BUNDLE",at.ExtractWalletEncryptedBundle="EXTRACT_WALLET_ENCRYPTED_BUNDLE",at.ExtractKeyEncryptedBundle="EXTRACT_KEY_ENCRYPTED_BUNDLE",at.ApplySettings="APPLY_SETTINGS",at.BundleInjected="BUNDLE_INJECTED",at.EncryptedBundleExtracted="ENCRYPTED_BUNDLE_EXTRACTED",at.SettingsApplied="SETTINGS_APPLIED",at.TransactionSigned="TRANSACTION_SIGNED",at.MessageSigned="MESSAGE_SIGNED",at.EmbeddedPrivateKeyCleared="EMBEDDED_PRIVATE_KEY_CLEARED",at.StampRequest="STAMP_REQUEST",at.Stamp="STAMP",at.TurnkeyInitMessageChannel="TURNKEY_INIT_MESSAGE_CHANNEL",at.GetEmbeddedPublicKey="GET_EMBEDDED_PUBLIC_KEY",at.ClearEmbeddedKey="RESET_EMBEDDED_KEY",at.InitEmbeddedKey="INIT_EMBEDDED_KEY",at.SignTransaction="SIGN_TRANSACTION",at.SignMessage="SIGN_MESSAGE",at.clearEmbeddedPrivateKey="CLEAR_EMBEDDED_PRIVATE_KEY",at.Error="ERROR"})(IframeEventType||(IframeEventType={}));var KeyFormat;(function(at){at.Hexadecimal="HEXADECIMAL",at.Solana="SOLANA"})(KeyFormat||(KeyFormat={}));var MessageType;(function(at){at.Ethereum="ETHEREUM",at.Solana="SOLANA"})(MessageType||(MessageType={}));var TransactionType;(function(at){at.Ethereum="ETHEREUM",at.Solana="SOLANA"})(TransactionType||(TransactionType={}));function generateUUID(){return crypto.randomUUID()}class IframeStamper{constructor(zs){if(typeof window>"u")throw new Error("Cannot initialize iframe in non-browser environment");if(typeof MessageChannel>"u")throw new Error("Cannot initialize iframe without MessageChannel support");if(!zs.iframeContainer)throw new Error("Iframe container cannot be found");if(this.container=zs.iframeContainer,this.container.querySelector(`#${zs.iframeElementId}`))throw new Error(`Iframe element with ID ${zs.iframeElementId} already exists`);let Ws=window.document.createElement("iframe");Ws.setAttribute("sandbox","allow-scripts allow-same-origin"),Ws.id=zs.iframeElementId,Ws.src=zs.iframeUrl,(zs.clearClipboardOnPaste??!0)&&(Ws.allow="clipboard-write"),this.iframe=Ws;const qs=new URL(zs.iframeUrl);this.iframeOrigin=qs.origin,this.iframePublicKey=null,this.messageChannel=new MessageChannel,this.pendingRequests=new Map}onMessageHandler(zs){const{type:Ws,value:qs,requestId:Ys}=zs.data||{};if(!Ys){if(Ws===IframeEventType.PublicKeyReady){this.iframePublicKey=qs;return}return}const Xs=this.pendingRequests.get(Ys);if(!Xs){console.warn(`Received response for unknown request: ${Ys}`);return}if(this.pendingRequests.delete(Ys),Ws===IframeEventType.Error){Xs.reject(new Error(qs));return}switch(Ws){case IframeEventType.Stamp:Xs.resolve({stampHeaderName,stampHeaderValue:qs});break;default:Xs.resolve(qs)}}async init(zs){return new Promise((Ws,qs)=>{this.container.appendChild(this.iframe),this.iframe.addEventListener("load",()=>{var Ys;if(!((Ys=this.iframe.contentWindow)!=null&&Ys.postMessage)){qs(new Error("contentWindow or contentWindow.postMessage does not exist"));return}this.iframe.contentWindow.postMessage({type:IframeEventType.TurnkeyInitMessageChannel,dangerouslyOverrideIframeKeyTtl:zs},this.iframeOrigin,[this.messageChannel.port2])}),this.messageChannel.port1.onmessage=Ys=>{var Xs;((Xs=Ys.data)==null?void 0:Xs.type)===IframeEventType.PublicKeyReady&&(this.iframePublicKey=Ys.data.value,Ws(Ys.data.value)),this.onMessageHandler(Ys)}})}clear(){var zs,Ws,qs,Ys;(Ws=(zs=this.messageChannel)==null?void 0:zs.port1)==null||Ws.close(),(Ys=(qs=this.messageChannel)==null?void 0:qs.port2)==null||Ys.close(),this.iframe.remove(),this.pendingRequests.clear()}publicKey(){return this.iframePublicKey}async getEmbeddedPublicKey(){const zs=await this.createRequest(IframeEventType.GetEmbeddedPublicKey);return this.iframePublicKey=zs,zs}async clearEmbeddedKey(){return await this.createRequest(IframeEventType.ClearEmbeddedKey),this.iframePublicKey="",null}async initEmbeddedKey(){const zs=await this.createRequest(IframeEventType.InitEmbeddedKey);return this.iframePublicKey=zs,zs}createRequest(zs,Ws={}){return new Promise((qs,Ys)=>{const Xs=generateUUID();this.pendingRequests.set(Xs,{resolve:qs,reject:Ys,requestId:Xs}),this.messageChannel.port1.postMessage({type:zs,requestId:Xs,...Ws})})}async injectCredentialBundle(zs){return this.createRequest(IframeEventType.InjectCredentialBundle,{value:zs})}async injectKeyExportBundle(zs,Ws,qs,Ys){return this.createRequest(IframeEventType.InjectKeyExportBundle,{value:zs,keyFormat:qs,organizationId:Ws,address:Ys})}async injectWalletExportBundle(zs,Ws){return this.createRequest(IframeEventType.InjectWalletExportBundle,{value:zs,organizationId:Ws})}async injectImportBundle(zs,Ws,qs){return this.createRequest(IframeEventType.InjectImportBundle,{value:zs,organizationId:Ws,userId:qs})}async extractWalletEncryptedBundle(){return this.createRequest(IframeEventType.ExtractWalletEncryptedBundle)}async extractKeyEncryptedBundle(zs){return this.createRequest(IframeEventType.ExtractKeyEncryptedBundle,{keyFormat:zs})}async applySettings(zs){return this.createRequest(IframeEventType.ApplySettings,{value:JSON.stringify(zs)})}async stamp(zs){if(this.iframePublicKey===null)throw new Error("null iframe public key. Have you called/awaited .init()?");return this.createRequest(IframeEventType.StampRequest,{value:zs})}async signMessage(zs,Ws){return this.createRequest(IframeEventType.SignMessage,{value:JSON.stringify(zs),address:Ws})}async signTransaction(zs,Ws){return this.createRequest(IframeEventType.SignTransaction,{value:JSON.stringify(zs),address:Ws})}async clearEmbeddedPrivateKey(){return this.createRequest(IframeEventType.clearEmbeddedPrivateKey)}}var ExportType;(function(at){at.Wallet="WALLET",at.PrivateKey="PRIVATE_KEY",at.WalletAccount="WALLET_ACCOUNT"})(ExportType||(ExportType={}));var ImportType;(function(at){at.Wallet="WALLET",at.PrivateKey="PRIVATE_KEY"})(ImportType||(ImportType={}));var AuthState;(function(at){at.Unauthenticated="unauthenticated",at.Authenticated="authenticated"})(AuthState||(AuthState={}));var ClientState;(function(at){at.Loading="loading",at.Ready="ready",at.Error="error"})(ClientState||(ClientState={}));var AuthMethod;(function(at){at.Otp="otp",at.Passkey="passkey",at.Wallet="wallet",at.Oauth="oauth"})(AuthMethod||(AuthMethod={}));const description="The iconic font, CSS, and SVG framework",keywords=["font","awesome","fontawesome","icon","svg","bootstrap"],homepage="https://fontawesome.com",bugs={url:"https://github.com/FortAwesome/Font-Awesome/issues"},author="The Font Awesome Team (https://github.com/orgs/FortAwesome/people)",repository={type:"git",url:"https://github.com/FortAwesome/Font-Awesome"},engines={node:">=6"},dependencies={"@fortawesome/fontawesome-common-types":"6.7.2"},version$2="6.7.2",name="@fortawesome/fontawesome-svg-core",main="index.js",module$1="index.mjs",style="styles.css",license="MIT",types$1="./index.d.ts",exports$1={".":{types:"./index.d.ts",module:"./index.mjs",import:"./index.mjs",require:"./index.js",style:"./styles.css",default:"./index.js"},"./index":{types:"./index.d.ts",module:"./index.mjs",import:"./index.mjs",require:"./index.js",default:"./index.js"},"./index.js":{types:"./index.d.ts",module:"./index.mjs",import:"./index.mjs",require:"./index.js",default:"./index.js"},"./plugins":{types:"./index.d.ts",module:"./plugins.mjs",import:"./plugins.mjs",default:"./plugins.mjs"},"./import.macro":"./import.macro.js","./import.macro.js":"./import.macro.js","./styles":"./styles.css","./styles.css":"./styles.css","./package.json":"./package.json"},sideEffects=["./index.js","./index.mjs","./styles.css"],require$$0$2={description,keywords,homepage,bugs,author,repository,engines,dependencies,version:version$2,name,main,module:module$1,"jsnext:main":"index.mjs",style,license,types:types$1,exports:exports$1,sideEffects};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _defineProperty$5(at,zs,Ws){return(zs=_toPropertyKey$6(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function ownKeys$5(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread2$1(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys$5(Object(Ws),!0).forEach(function(qs){_defineProperty$5(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys$5(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _toPrimitive$6(at,zs){if(typeof at!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(typeof qs!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zs==="string"?String:Number)(at)}function _toPropertyKey$6(at){var zs=_toPrimitive$6(at,"string");return typeof zs=="symbol"?zs:zs+""}const noop$1=()=>{};let _WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$1,measure:noop$1};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(at){}const{userAgent=""}=_WINDOW.navigator||{},WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;const IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var p$a=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,g$4=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,S$8={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},A$5={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},P$9=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],s$b="classic",t$5="duotone",r$b="sharp",o$a="sharp-duotone",L$4=[s$b,t$5,r$b,o$a],G$5={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},lt$2={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pt$1=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),xt$3={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Ft$4=["fak","fa-kit","fakd","fa-kit-duotone"],St$5={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},At$3=["kit"],Ct$3={kit:{"fa-kit":"fak"}},Lt$3=["fak","fakd"],Wt$3={kit:{fak:"fa-kit"}},Et$5={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},t$1$1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},r$1$1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],bt$1$1=["fak","fa-kit","fakd","fa-kit-duotone"],Yt$2={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ua$1={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},I$1$1={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ga$1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},x$8=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ia$1=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...r$1$1,...x$8],m$1$1=["solid","regular","light","thin","duotone","brands"],c$1$1=[1,2,3,4,5,6,7,8,9,10],F$1$1=c$1$1.concat([11,12,13,14,15,16,17,18,19,20]),ma$1=[...Object.keys(I$1$1),...m$1$1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",t$1$1.GROUP,t$1$1.SWAP_OPACITY,t$1$1.PRIMARY,t$1$1.SECONDARY].concat(c$1$1.map(at=>"".concat(at,"x"))).concat(F$1$1.map(at=>"w-".concat(at))),wa$1={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=(()=>{try{return!0}catch{return!1}})();function familyProxy(at){return new Proxy(at,{get(zs,Ws){return Ws in zs?zs[Ws]:zs[s$b]}})}const _PREFIX_TO_STYLE=_objectSpread2$1({},S$8);_PREFIX_TO_STYLE[s$b]=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},{"fa-duotone":"duotone"}),S$8[s$b]),St$5.kit),St$5["kit-duotone"]);const PREFIX_TO_STYLE=familyProxy(_PREFIX_TO_STYLE),_STYLE_TO_PREFIX=_objectSpread2$1({},xt$3);_STYLE_TO_PREFIX[s$b]=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},{duotone:"fad"}),_STYLE_TO_PREFIX[s$b]),Et$5.kit),Et$5["kit-duotone"]);const STYLE_TO_PREFIX=familyProxy(_STYLE_TO_PREFIX),_PREFIX_TO_LONG_STYLE=_objectSpread2$1({},ga$1);_PREFIX_TO_LONG_STYLE[s$b]=_objectSpread2$1(_objectSpread2$1({},_PREFIX_TO_LONG_STYLE[s$b]),Wt$3.kit);const PREFIX_TO_LONG_STYLE=familyProxy(_PREFIX_TO_LONG_STYLE),_LONG_STYLE_TO_PREFIX=_objectSpread2$1({},ua$1);_LONG_STYLE_TO_PREFIX[s$b]=_objectSpread2$1(_objectSpread2$1({},_LONG_STYLE_TO_PREFIX[s$b]),Ct$3.kit),familyProxy(_LONG_STYLE_TO_PREFIX);const ICON_SELECTION_SYNTAX_PATTERN=p$a,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=g$4,_FONT_WEIGHT_TO_PREFIX=_objectSpread2$1({},G$5);familyProxy(_FONT_WEIGHT_TO_PREFIX);const ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES=A$5,RESERVED_CLASSES=[...At$3,...ma$1],initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(at){var zs=DOCUMENT.querySelector("script["+at+"]");if(zs)return zs.getAttribute(at)}function coerce$1(at){return at===""?!0:at==="false"?!1:at==="true"?!0:at}DOCUMENT&&typeof DOCUMENT.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(zs=>{let[Ws,qs]=zs;const Ys=coerce$1(getAttrConfig(Ws));Ys!=null&&(initial[qs]=Ys)});const _default={styleDefault:"solid",familyDefault:s$b,cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);const _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);const config={};Object.keys(_default).forEach(at=>{Object.defineProperty(config,at,{enumerable:!0,set:function(zs){_config[at]=zs,_onChangeCb.forEach(Ws=>Ws(config))},get:function(){return _config[at]}})}),Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(at){_config.cssPrefix=at,_onChangeCb.forEach(zs=>zs(config))},get:function(){return _config.cssPrefix}}),WINDOW.FontAwesomeConfig=config;const _onChangeCb=[];function onChange(at){return _onChangeCb.push(at),()=>{_onChangeCb.splice(_onChangeCb.indexOf(at),1)}}const d$2$1=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(at){if(!at||!IS_DOM)return;const zs=DOCUMENT.createElement("style");zs.setAttribute("type","text/css"),zs.innerHTML=at;const Ws=DOCUMENT.head.childNodes;let qs=null;for(let Ys=Ws.length-1;Ys>-1;Ys--){const Xs=Ws[Ys],Zs=(Xs.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Zs)>-1&&(qs=Xs)}return DOCUMENT.head.insertBefore(zs,qs),at}const idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){let at=12,zs="";for(;at-- >0;)zs+=idPool[Math.random()*62|0];return zs}function toArray(at){const zs=[];for(let Ws=(at||[]).length>>>0;Ws--;)zs[Ws]=at[Ws];return zs}function classArray(at){return at.classList?toArray(at.classList):(at.getAttribute("class")||"").split(" ").filter(zs=>zs)}function htmlEscape(at){return"".concat(at).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(at){return Object.keys(at||{}).reduce((zs,Ws)=>zs+"".concat(Ws,'="').concat(htmlEscape(at[Ws]),'" '),"").trim()}function joinStyles(at){return Object.keys(at||{}).reduce((zs,Ws)=>zs+"".concat(Ws,": ").concat(at[Ws].trim(),";"),"")}function transformIsMeaningful(at){return at.size!==meaninglessTransform.size||at.x!==meaninglessTransform.x||at.y!==meaninglessTransform.y||at.rotate!==meaninglessTransform.rotate||at.flipX||at.flipY}function transformForSvg(at){let{transform:zs,containerWidth:Ws,iconWidth:qs}=at;const Ys={transform:"translate(".concat(Ws/2," 256)")},Xs="translate(".concat(zs.x*32,", ").concat(zs.y*32,") "),Zs="scale(".concat(zs.size/16*(zs.flipX?-1:1),", ").concat(zs.size/16*(zs.flipY?-1:1),") "),yl="rotate(".concat(zs.rotate," 0 0)"),Js={transform:"".concat(Xs," ").concat(Zs," ").concat(yl)},$l={transform:"translate(".concat(qs/2*-1," -256)")};return{outer:Ys,inner:Js,path:$l}}function transformForCss(at){let{transform:zs,width:Ws=UNITS_IN_GRID,height:qs=UNITS_IN_GRID,startCentered:Ys=!1}=at,Xs="";return Ys&&IS_IE?Xs+="translate(".concat(zs.x/d$2$1-Ws/2,"em, ").concat(zs.y/d$2$1-qs/2,"em) "):Ys?Xs+="translate(calc(-50% + ".concat(zs.x/d$2$1,"em), calc(-50% + ").concat(zs.y/d$2$1,"em)) "):Xs+="translate(".concat(zs.x/d$2$1,"em, ").concat(zs.y/d$2$1,"em) "),Xs+="scale(".concat(zs.size/d$2$1*(zs.flipX?-1:1),", ").concat(zs.size/d$2$1*(zs.flipY?-1:1),") "),Xs+="rotate(".concat(zs.rotate,"deg) "),Xs}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function css(){const at=DEFAULT_CSS_PREFIX,zs=DEFAULT_REPLACEMENT_CLASS,Ws=config.cssPrefix,qs=config.replacementClass;let Ys=baseStyles;if(Ws!==at||qs!==zs){const Xs=new RegExp("\\.".concat(at,"\\-"),"g"),Zs=new RegExp("\\--".concat(at,"\\-"),"g"),yl=new RegExp("\\.".concat(zs),"g");Ys=Ys.replace(Xs,".".concat(Ws,"-")).replace(Zs,"--".concat(Ws,"-")).replace(yl,".".concat(qs))}return Ys}let _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout(){return{dom:{css,insertCss:ensureCss}}},hooks(){return{beforeDOMElementCreation(){ensureCss()},beforeI2svg(){ensureCss()}}}};const w$7=WINDOW||{};w$7[NAMESPACE_IDENTIFIER]||(w$7[NAMESPACE_IDENTIFIER]={}),w$7[NAMESPACE_IDENTIFIER].styles||(w$7[NAMESPACE_IDENTIFIER].styles={}),w$7[NAMESPACE_IDENTIFIER].hooks||(w$7[NAMESPACE_IDENTIFIER].hooks={}),w$7[NAMESPACE_IDENTIFIER].shims||(w$7[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$7[NAMESPACE_IDENTIFIER];const functions=[],listener=function(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),loaded=1,functions.map(at=>at())};let loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(at){IS_DOM&&(loaded?setTimeout(at,0):functions.push(at))}function toHtml(at){const{tag:zs,attributes:Ws={},children:qs=[]}=at;return typeof at=="string"?htmlEscape(at):"<".concat(zs," ").concat(joinAttributes(Ws),">").concat(qs.map(toHtml).join(""),"</").concat(zs,">")}function iconFromMapping(at,zs,Ws){if(at&&at[zs]&&at[zs][Ws])return{prefix:zs,iconName:Ws,icon:at[zs][Ws]}}var reduce=function(zs,Ws,qs,Ys){var Xs=Object.keys(zs),Zs=Xs.length,yl=Ws,Js,$l,El;for(qs===void 0?(Js=1,El=zs[Xs[0]]):(Js=0,El=qs);Js<Zs;Js++)$l=Xs[Js],El=yl(El,zs[$l],$l,zs);return El};function ucs2decode(at){const zs=[];let Ws=0;const qs=at.length;for(;Ws<qs;){const Ys=at.charCodeAt(Ws++);if(Ys>=55296&&Ys<=56319&&Ws<qs){const Xs=at.charCodeAt(Ws++);(Xs&64512)==56320?zs.push(((Ys&1023)<<10)+(Xs&1023)+65536):(zs.push(Ys),Ws--)}else zs.push(Ys)}return zs}function toHex$3(at){const zs=ucs2decode(at);return zs.length===1?zs[0].toString(16):null}function codePointAt(at,zs){const Ws=at.length;let qs=at.charCodeAt(zs),Ys;return qs>=55296&&qs<=56319&&Ws>zs+1&&(Ys=at.charCodeAt(zs+1),Ys>=56320&&Ys<=57343)?(qs-55296)*1024+Ys-56320+65536:qs}function normalizeIcons(at){return Object.keys(at).reduce((zs,Ws)=>{const qs=at[Ws];return!!qs.icon?zs[qs.iconName]=qs.icon:zs[Ws]=qs,zs},{})}function defineIcons(at,zs){let Ws=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:qs=!1}=Ws,Ys=normalizeIcons(zs);typeof namespace.hooks.addPack=="function"&&!qs?namespace.hooks.addPack(at,normalizeIcons(zs)):namespace.styles[at]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[at]||{}),Ys),at==="fas"&&defineIcons("fa",zs)}const{styles,shims}=namespace,FAMILY_NAMES=Object.keys(PREFIX_TO_LONG_STYLE),PREFIXES_FOR_FAMILY=FAMILY_NAMES.reduce((at,zs)=>(at[zs]=Object.keys(PREFIX_TO_LONG_STYLE[zs]),at),{});let _defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={};function isReserved(at){return~RESERVED_CLASSES.indexOf(at)}function getIconName(at,zs){const Ws=zs.split("-"),qs=Ws[0],Ys=Ws.slice(1).join("-");return qs===at&&Ys!==""&&!isReserved(Ys)?Ys:null}const build=()=>{const at=qs=>reduce(styles,(Ys,Xs,Zs)=>(Ys[Zs]=reduce(Xs,qs,{}),Ys),{});_byUnicode=at((qs,Ys,Xs)=>(Ys[3]&&(qs[Ys[3]]=Xs),Ys[2]&&Ys[2].filter(yl=>typeof yl=="number").forEach(yl=>{qs[yl.toString(16)]=Xs}),qs)),_byLigature=at((qs,Ys,Xs)=>(qs[Xs]=Xs,Ys[2]&&Ys[2].filter(yl=>typeof yl=="string").forEach(yl=>{qs[yl]=Xs}),qs)),_byAlias=at((qs,Ys,Xs)=>{const Zs=Ys[2];return qs[Xs]=Xs,Zs.forEach(yl=>{qs[yl]=Xs}),qs});const zs="far"in styles||config.autoFetchSvg,Ws=reduce(shims,(qs,Ys)=>{const Xs=Ys[0];let Zs=Ys[1];const yl=Ys[2];return Zs==="far"&&!zs&&(Zs="fas"),typeof Xs=="string"&&(qs.names[Xs]={prefix:Zs,iconName:yl}),typeof Xs=="number"&&(qs.unicodes[Xs.toString(16)]={prefix:Zs,iconName:yl}),qs},{names:{},unicodes:{}});_byOldName=Ws.names,_byOldUnicode=Ws.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(at=>{_defaultUsablePrefix=getCanonicalPrefix(at.styleDefault,{family:config.familyDefault})}),build();function byUnicode(at,zs){return(_byUnicode[at]||{})[zs]}function byLigature(at,zs){return(_byLigature[at]||{})[zs]}function byAlias(at,zs){return(_byAlias[at]||{})[zs]}function byOldName(at){return _byOldName[at]||{prefix:null,iconName:null}}function byOldUnicode(at){const zs=_byOldUnicode[at],Ws=byUnicode("fas",at);return zs||(Ws?{prefix:"fas",iconName:Ws}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}const emptyCanonicalIcon=()=>({prefix:null,iconName:null,rest:[]});function getFamilyId(at){let zs=s$b;const Ws=FAMILY_NAMES.reduce((qs,Ys)=>(qs[Ys]="".concat(config.cssPrefix,"-").concat(Ys),qs),{});return L$4.forEach(qs=>{(at.includes(Ws[qs])||at.some(Ys=>PREFIXES_FOR_FAMILY[qs].includes(Ys)))&&(zs=qs)}),zs}function getCanonicalPrefix(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:Ws=s$b}=zs,qs=PREFIX_TO_STYLE[Ws][at];if(Ws===t$5&&!at)return"fad";const Ys=STYLE_TO_PREFIX[Ws][at]||STYLE_TO_PREFIX[Ws][qs],Xs=at in namespace.styles?at:null;return Ys||Xs||null}function moveNonFaClassesToRest(at){let zs=[],Ws=null;return at.forEach(qs=>{const Ys=getIconName(config.cssPrefix,qs);Ys?Ws=Ys:qs&&zs.push(qs)}),{iconName:Ws,rest:zs}}function sortedUniqueValues(at){return at.sort().filter((zs,Ws,qs)=>qs.indexOf(zs)===Ws)}function getCanonicalIcon(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:Ws=!1}=zs;let qs=null;const Ys=Ia$1.concat(bt$1$1),Xs=sortedUniqueValues(at.filter(wl=>Ys.includes(wl))),Zs=sortedUniqueValues(at.filter(wl=>!Ia$1.includes(wl))),yl=Xs.filter(wl=>(qs=wl,!P$9.includes(wl))),[Js=null]=yl,$l=getFamilyId(Xs),El=_objectSpread2$1(_objectSpread2$1({},moveNonFaClassesToRest(Zs)),{},{prefix:getCanonicalPrefix(Js,{family:$l})});return _objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},El),getDefaultCanonicalPrefix({values:at,family:$l,styles,config,canonical:El,givenPrefix:qs})),applyShimAndAlias(Ws,qs,El))}function applyShimAndAlias(at,zs,Ws){let{prefix:qs,iconName:Ys}=Ws;if(at||!qs||!Ys)return{prefix:qs,iconName:Ys};const Xs=zs==="fa"?byOldName(Ys):{},Zs=byAlias(qs,Ys);return Ys=Xs.iconName||Zs||Ys,qs=Xs.prefix||qs,qs==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(qs="fas"),{prefix:qs,iconName:Ys}}const newCanonicalFamilies=L$4.filter(at=>at!==s$b||at!==t$5),newCanonicalStyles=Object.keys(ga$1).filter(at=>at!==s$b).map(at=>Object.keys(ga$1[at])).flat();function getDefaultCanonicalPrefix(at){const{values:zs,family:Ws,canonical:qs,givenPrefix:Ys="",styles:Xs={},config:Zs={}}=at,yl=Ws===t$5,Js=zs.includes("fa-duotone")||zs.includes("fad"),$l=Zs.familyDefault==="duotone",El=qs.prefix==="fad"||qs.prefix==="fa-duotone";if(!yl&&(Js||$l||El)&&(qs.prefix="fad"),(zs.includes("fa-brands")||zs.includes("fab"))&&(qs.prefix="fab"),!qs.prefix&&newCanonicalFamilies.includes(Ws)&&(Object.keys(Xs).find(_l=>newCanonicalStyles.includes(_l))||Zs.autoFetchSvg)){const _l=pt$1.get(Ws).defaultShortPrefixId;qs.prefix=_l,qs.iconName=byAlias(qs.prefix,qs.iconName)||qs.iconName}return(qs.prefix==="fa"||Ys==="fa")&&(qs.prefix=getDefaultUsablePrefix()||"fas"),qs}class Library{constructor(){this.definitions={}}add(){for(var zs=arguments.length,Ws=new Array(zs),qs=0;qs<zs;qs++)Ws[qs]=arguments[qs];const Ys=Ws.reduce(this._pullDefinitions,{});Object.keys(Ys).forEach(Xs=>{this.definitions[Xs]=_objectSpread2$1(_objectSpread2$1({},this.definitions[Xs]||{}),Ys[Xs]),defineIcons(Xs,Ys[Xs]);const Zs=PREFIX_TO_LONG_STYLE[s$b][Xs];Zs&&defineIcons(Zs,Ys[Xs]),build()})}reset(){this.definitions={}}_pullDefinitions(zs,Ws){const qs=Ws.prefix&&Ws.iconName&&Ws.icon?{0:Ws}:Ws;return Object.keys(qs).map(Ys=>{const{prefix:Xs,iconName:Zs,icon:yl}=qs[Ys],Js=yl[2];zs[Xs]||(zs[Xs]={}),Js.length>0&&Js.forEach($l=>{typeof $l=="string"&&(zs[Xs][$l]=yl)}),zs[Xs][Zs]=yl}),zs}}let _plugins=[],_hooks={};const providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(at,zs){let{mixoutsTo:Ws}=zs;return _plugins=at,_hooks={},Object.keys(providers).forEach(qs=>{defaultProviderKeys.indexOf(qs)===-1&&delete providers[qs]}),_plugins.forEach(qs=>{const Ys=qs.mixout?qs.mixout():{};if(Object.keys(Ys).forEach(Xs=>{typeof Ys[Xs]=="function"&&(Ws[Xs]=Ys[Xs]),typeof Ys[Xs]=="object"&&Object.keys(Ys[Xs]).forEach(Zs=>{Ws[Xs]||(Ws[Xs]={}),Ws[Xs][Zs]=Ys[Xs][Zs]})}),qs.hooks){const Xs=qs.hooks();Object.keys(Xs).forEach(Zs=>{_hooks[Zs]||(_hooks[Zs]=[]),_hooks[Zs].push(Xs[Zs])})}qs.provides&&qs.provides(providers)}),Ws}function chainHooks(at,zs){for(var Ws=arguments.length,qs=new Array(Ws>2?Ws-2:0),Ys=2;Ys<Ws;Ys++)qs[Ys-2]=arguments[Ys];return(_hooks[at]||[]).forEach(Zs=>{zs=Zs.apply(null,[zs,...qs])}),zs}function callHooks(at){for(var zs=arguments.length,Ws=new Array(zs>1?zs-1:0),qs=1;qs<zs;qs++)Ws[qs-1]=arguments[qs];(_hooks[at]||[]).forEach(Xs=>{Xs.apply(null,Ws)})}function callProvided(){const at=arguments[0],zs=Array.prototype.slice.call(arguments,1);return providers[at]?providers[at].apply(null,zs):void 0}function findIconDefinition(at){at.prefix==="fa"&&(at.prefix="fas");let{iconName:zs}=at;const Ws=at.prefix||getDefaultUsablePrefix();if(zs)return zs=byAlias(Ws,zs)||zs,iconFromMapping(library.definitions,Ws,zs)||iconFromMapping(namespace.styles,Ws,zs)}const library=new Library,noAuto=()=>{config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",at),callProvided("pseudoElements2svg",at),callProvided("i2svg",at)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:zs}=at;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(()=>{autoReplace({autoReplaceSvgRoot:zs}),callHooks("watch",at)})}},parse$1={icon:at=>{if(at===null)return null;if(typeof at=="object"&&at.prefix&&at.iconName)return{prefix:at.prefix,iconName:byAlias(at.prefix,at.iconName)||at.iconName};if(Array.isArray(at)&&at.length===2){const zs=at[1].indexOf("fa-")===0?at[1].slice(3):at[1],Ws=getCanonicalPrefix(at[0]);return{prefix:Ws,iconName:byAlias(Ws,zs)||zs}}if(typeof at=="string"&&(at.indexOf("".concat(config.cssPrefix,"-"))>-1||at.match(ICON_SELECTION_SYNTAX_PATTERN))){const zs=getCanonicalIcon(at.split(" "),{skipLookups:!0});return{prefix:zs.prefix||getDefaultUsablePrefix(),iconName:byAlias(zs.prefix,zs.iconName)||zs.iconName}}if(typeof at=="string"){const zs=getDefaultUsablePrefix();return{prefix:zs,iconName:byAlias(zs,at)||at}}}},api={noAuto,config,dom,parse:parse$1,library,findIconDefinition,toHtml},autoReplace=function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:zs=DOCUMENT}=at;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:zs})};function domVariants(at,zs){return Object.defineProperty(at,"abstract",{get:zs}),Object.defineProperty(at,"html",{get:function(){return at.abstract.map(Ws=>toHtml(Ws))}}),Object.defineProperty(at,"node",{get:function(){if(!IS_DOM)return;const Ws=DOCUMENT.createElement("div");return Ws.innerHTML=at.html,Ws.children}}),at}function asIcon(at){let{children:zs,main:Ws,mask:qs,attributes:Ys,styles:Xs,transform:Zs}=at;if(transformIsMeaningful(Zs)&&Ws.found&&!qs.found){const{width:yl,height:Js}=Ws,$l={x:yl/Js/2,y:.5};Ys.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},Xs),{},{"transform-origin":"".concat($l.x+Zs.x/16,"em ").concat($l.y+Zs.y/16,"em")}))}return[{tag:"svg",attributes:Ys,children:zs}]}function asSymbol(at){let{prefix:zs,iconName:Ws,children:qs,attributes:Ys,symbol:Xs}=at;const Zs=Xs===!0?"".concat(zs,"-").concat(config.cssPrefix,"-").concat(Ws):Xs;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},Ys),{},{id:Zs}),children:qs}]}]}function makeInlineSvgAbstract(at){const{icons:{main:zs,mask:Ws},prefix:qs,iconName:Ys,transform:Xs,symbol:Zs,title:yl,maskId:Js,titleId:$l,extra:El,watchable:wl=!1}=at,{width:_l,height:Sl}=Ws.found?Ws:zs,Tl=Lt$3.includes(qs),Il=[config.replacementClass,Ys?"".concat(config.cssPrefix,"-").concat(Ys):""].filter(Ol=>El.classes.indexOf(Ol)===-1).filter(Ol=>Ol!==""||!!Ol).concat(El.classes).join(" ");let Al={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},El.attributes),{},{"data-prefix":qs,"data-icon":Ys,class:Il,role:El.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_l," ").concat(Sl)})};const xl=Tl&&!~El.classes.indexOf("fa-fw")?{width:"".concat(_l/Sl*16*.0625,"em")}:{};wl&&(Al.attributes[DATA_FA_I2SVG]=""),yl&&(Al.children.push({tag:"title",attributes:{id:Al.attributes["aria-labelledby"]||"title-".concat($l||nextUniqueId())},children:[yl]}),delete Al.attributes.title);const Pl=_objectSpread2$1(_objectSpread2$1({},Al),{},{prefix:qs,iconName:Ys,main:zs,mask:Ws,maskId:Js,transform:Xs,symbol:Zs,styles:_objectSpread2$1(_objectSpread2$1({},xl),El.styles)}),{children:Cl,attributes:Rl}=Ws.found&&zs.found?callProvided("generateAbstractMask",Pl)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",Pl)||{children:[],attributes:{}};return Pl.children=Cl,Pl.attributes=Rl,Zs?asSymbol(Pl):asIcon(Pl)}function makeLayersTextAbstract(at){const{content:zs,width:Ws,height:qs,transform:Ys,title:Xs,extra:Zs,watchable:yl=!1}=at,Js=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Zs.attributes),Xs?{title:Xs}:{}),{},{class:Zs.classes.join(" ")});yl&&(Js[DATA_FA_I2SVG]="");const $l=_objectSpread2$1({},Zs.styles);transformIsMeaningful(Ys)&&($l.transform=transformForCss({transform:Ys,startCentered:!0,width:Ws,height:qs}),$l["-webkit-transform"]=$l.transform);const El=joinStyles($l);El.length>0&&(Js.style=El);const wl=[];return wl.push({tag:"span",attributes:Js,children:[zs]}),Xs&&wl.push({tag:"span",attributes:{class:"sr-only"},children:[Xs]}),wl}function makeLayersCounterAbstract(at){const{content:zs,title:Ws,extra:qs}=at,Ys=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},qs.attributes),Ws?{title:Ws}:{}),{},{class:qs.classes.join(" ")}),Xs=joinStyles(qs.styles);Xs.length>0&&(Ys.style=Xs);const Zs=[];return Zs.push({tag:"span",attributes:Ys,children:[zs]}),Ws&&Zs.push({tag:"span",attributes:{class:"sr-only"},children:[Ws]}),Zs}const{styles:styles$1}=namespace;function asFoundIcon(at){const zs=at[0],Ws=at[1],[qs]=at.slice(4);let Ys=null;return Array.isArray(qs)?Ys={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:qs[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:qs[1]}}]}:Ys={tag:"path",attributes:{fill:"currentColor",d:qs}},{found:!0,width:zs,height:Ws,icon:Ys}}const missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(at,zs){!PRODUCTION$1&&!config.showMissingIcons&&at&&console.error('Icon with name "'.concat(at,'" and prefix "').concat(zs,'" is missing.'))}function findIcon(at,zs){let Ws=zs;return zs==="fa"&&config.styleDefault!==null&&(zs=getDefaultUsablePrefix()),new Promise((qs,Ys)=>{if(Ws==="fa"){const Xs=byOldName(at)||{};at=Xs.iconName||at,zs=Xs.prefix||zs}if(at&&zs&&styles$1[zs]&&styles$1[zs][at]){const Xs=styles$1[zs][at];return qs(asFoundIcon(Xs))}maybeNotifyMissing(at,zs),qs(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&at?callProvided("missingIconAbstract")||{}:{}}))})}const noop$1$1=()=>{},p$2$1=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.7.2"',begin=at=>(p$2$1.mark("".concat(preamble," ").concat(at," begins")),()=>end(at)),end=at=>{p$2$1.mark("".concat(preamble," ").concat(at," ends")),p$2$1.measure("".concat(preamble," ").concat(at),"".concat(preamble," ").concat(at," begins"),"".concat(preamble," ").concat(at," ends"))};var perf={begin,end};const noop$2=()=>{};function isWatched(at){return typeof(at.getAttribute?at.getAttribute(DATA_FA_I2SVG):null)=="string"}function hasPrefixAndIcon(at){const zs=at.getAttribute?at.getAttribute(DATA_PREFIX):null,Ws=at.getAttribute?at.getAttribute(DATA_ICON):null;return zs&&Ws}function hasBeenReplaced(at){return at&&at.classList&&at.classList.contains&&at.classList.contains(config.replacementClass)}function getMutator(){return config.autoReplaceSvg===!0?mutators.replace:mutators[config.autoReplaceSvg]||mutators.replace}function createElementNS(at){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",at)}function createElement(at){return DOCUMENT.createElement(at)}function convertSVG(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:Ws=at.tag==="svg"?createElementNS:createElement}=zs;if(typeof at=="string")return DOCUMENT.createTextNode(at);const qs=Ws(at.tag);return Object.keys(at.attributes||[]).forEach(function(Xs){qs.setAttribute(Xs,at.attributes[Xs])}),(at.children||[]).forEach(function(Xs){qs.appendChild(convertSVG(Xs,{ceFn:Ws}))}),qs}function nodeAsComment(at){let zs=" ".concat(at.outerHTML," ");return zs="".concat(zs,"Font Awesome fontawesome.com "),zs}const mutators={replace:function(at){const zs=at[0];if(zs.parentNode)if(at[1].forEach(Ws=>{zs.parentNode.insertBefore(convertSVG(Ws),zs)}),zs.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){let Ws=DOCUMENT.createComment(nodeAsComment(zs));zs.parentNode.replaceChild(Ws,zs)}else zs.remove()},nest:function(at){const zs=at[0],Ws=at[1];if(~classArray(zs).indexOf(config.replacementClass))return mutators.replace(at);const qs=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete Ws[0].attributes.id,Ws[0].attributes.class){const Xs=Ws[0].attributes.class.split(" ").reduce((Zs,yl)=>(yl===config.replacementClass||yl.match(qs)?Zs.toSvg.push(yl):Zs.toNode.push(yl),Zs),{toNode:[],toSvg:[]});Ws[0].attributes.class=Xs.toSvg.join(" "),Xs.toNode.length===0?zs.removeAttribute("class"):zs.setAttribute("class",Xs.toNode.join(" "))}const Ys=Ws.map(Xs=>toHtml(Xs)).join(`
`);zs.setAttribute(DATA_FA_I2SVG,""),zs.innerHTML=Ys}};function performOperationSync(at){at()}function perform(at,zs){const Ws=typeof zs=="function"?zs:noop$2;if(at.length===0)Ws();else{let qs=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(qs=WINDOW.requestAnimationFrame||performOperationSync),qs(()=>{const Ys=getMutator(),Xs=perf.begin("mutate");at.map(Ys),Xs(),Ws()})}}let disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}let mo$3=null;function observe(at){if(!MUTATION_OBSERVER||!config.observeMutations)return;const{treeCallback:zs=noop$2,nodeCallback:Ws=noop$2,pseudoElementsCallback:qs=noop$2,observeMutationsRoot:Ys=DOCUMENT}=at;mo$3=new MUTATION_OBSERVER(Xs=>{if(disabled)return;const Zs=getDefaultUsablePrefix();toArray(Xs).forEach(yl=>{if(yl.type==="childList"&&yl.addedNodes.length>0&&!isWatched(yl.addedNodes[0])&&(config.searchPseudoElements&&qs(yl.target),zs(yl.target)),yl.type==="attributes"&&yl.target.parentNode&&config.searchPseudoElements&&qs(yl.target.parentNode),yl.type==="attributes"&&isWatched(yl.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(yl.attributeName))if(yl.attributeName==="class"&&hasPrefixAndIcon(yl.target)){const{prefix:Js,iconName:$l}=getCanonicalIcon(classArray(yl.target));yl.target.setAttribute(DATA_PREFIX,Js||Zs),$l&&yl.target.setAttribute(DATA_ICON,$l)}else hasBeenReplaced(yl.target)&&Ws(yl.target)})}),IS_DOM&&mo$3.observe(Ys,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function disconnect(){mo$3&&mo$3.disconnect()}function styleParser(at){const zs=at.getAttribute("style");let Ws=[];return zs&&(Ws=zs.split(";").reduce((qs,Ys)=>{const Xs=Ys.split(":"),Zs=Xs[0],yl=Xs.slice(1);return Zs&&yl.length>0&&(qs[Zs]=yl.join(":").trim()),qs},{})),Ws}function classParser(at){const zs=at.getAttribute("data-prefix"),Ws=at.getAttribute("data-icon"),qs=at.innerText!==void 0?at.innerText.trim():"";let Ys=getCanonicalIcon(classArray(at));return Ys.prefix||(Ys.prefix=getDefaultUsablePrefix()),zs&&Ws&&(Ys.prefix=zs,Ys.iconName=Ws),Ys.iconName&&Ys.prefix||(Ys.prefix&&qs.length>0&&(Ys.iconName=byLigature(Ys.prefix,at.innerText)||byUnicode(Ys.prefix,toHex$3(at.innerText))),!Ys.iconName&&config.autoFetchSvg&&at.firstChild&&at.firstChild.nodeType===Node.TEXT_NODE&&(Ys.iconName=at.firstChild.data)),Ys}function attributesParser(at){const zs=toArray(at.attributes).reduce((Ys,Xs)=>(Ys.name!=="class"&&Ys.name!=="style"&&(Ys[Xs.name]=Xs.value),Ys),{}),Ws=at.getAttribute("title"),qs=at.getAttribute("data-fa-title-id");return config.autoA11y&&(Ws?zs["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(qs||nextUniqueId()):(zs["aria-hidden"]="true",zs.focusable="false")),zs}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:Ws,prefix:qs,rest:Ys}=classParser(at),Xs=attributesParser(at),Zs=chainHooks("parseNodeAttributes",{},at);let yl=zs.styleParser?styleParser(at):[];return _objectSpread2$1({iconName:Ws,title:at.getAttribute("title"),titleId:at.getAttribute("data-fa-title-id"),prefix:qs,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:Ys,styles:yl,attributes:Xs}},Zs)}const{styles:styles$2}=namespace;function generateMutation(at){const zs=config.autoReplaceSvg==="nest"?parseMeta(at,{styleParser:!1}):parseMeta(at);return~zs.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",at,zs):callProvided("generateSvgReplacementMutation",at,zs)}function getKnownPrefixes(){return[...Ft$4,...Ia$1]}function onTree(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();const Ws=DOCUMENT.documentElement.classList,qs=El=>Ws.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(El)),Ys=El=>Ws.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(El)),Xs=config.autoFetchSvg?getKnownPrefixes():P$9.concat(Object.keys(styles$2));Xs.includes("fa")||Xs.push("fa");const Zs=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(Xs.map(El=>".".concat(El,":not([").concat(DATA_FA_I2SVG,"])"))).join(", ");if(Zs.length===0)return Promise.resolve();let yl=[];try{yl=toArray(at.querySelectorAll(Zs))}catch{}if(yl.length>0)qs("pending"),Ys("complete");else return Promise.resolve();const Js=perf.begin("onTree"),$l=yl.reduce((El,wl)=>{try{const _l=generateMutation(wl);_l&&El.push(_l)}catch(_l){PRODUCTION$1||_l.name==="MissingIcon"&&console.error(_l)}return El},[]);return new Promise((El,wl)=>{Promise.all($l).then(_l=>{perform(_l,()=>{qs("active"),qs("complete"),Ys("pending"),typeof zs=="function"&&zs(),Js(),El()})}).catch(_l=>{Js(),wl(_l)})})}function onNode(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(at).then(Ws=>{Ws&&perform([Ws],zs)})}function resolveIcons(at){return function(zs){let Ws=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const qs=(zs||{}).icon?zs:findIconDefinition(zs||{});let{mask:Ys}=Ws;return Ys&&(Ys=(Ys||{}).icon?Ys:findIconDefinition(Ys||{})),at(qs,_objectSpread2$1(_objectSpread2$1({},Ws),{},{mask:Ys}))}}const render=function(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:Ws=meaninglessTransform,symbol:qs=!1,mask:Ys=null,maskId:Xs=null,title:Zs=null,titleId:yl=null,classes:Js=[],attributes:$l={},styles:El={}}=zs;if(!at)return;const{prefix:wl,iconName:_l,icon:Sl}=at;return domVariants(_objectSpread2$1({type:"icon"},at),()=>(callHooks("beforeDOMElementCreation",{iconDefinition:at,params:zs}),config.autoA11y&&(Zs?$l["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(yl||nextUniqueId()):($l["aria-hidden"]="true",$l.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(Sl),mask:Ys?asFoundIcon(Ys.icon):{found:!1,width:null,height:null,icon:{}}},prefix:wl,iconName:_l,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),Ws),symbol:qs,title:Zs,maskId:Xs,titleId:yl,extra:{attributes:$l,styles:El,classes:Js}})))};var ReplaceElements={mixout(){return{icon:resolveIcons(render)}},hooks(){return{mutationObserverCallbacks(at){return at.treeCallback=onTree,at.nodeCallback=onNode,at}}},provides(at){at.i2svg=function(zs){const{node:Ws=DOCUMENT,callback:qs=()=>{}}=zs;return onTree(Ws,qs)},at.generateSvgReplacementMutation=function(zs,Ws){const{iconName:qs,title:Ys,titleId:Xs,prefix:Zs,transform:yl,symbol:Js,mask:$l,maskId:El,extra:wl}=Ws;return new Promise((_l,Sl)=>{Promise.all([findIcon(qs,Zs),$l.iconName?findIcon($l.iconName,$l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(Tl=>{let[Il,Al]=Tl;_l([zs,makeInlineSvgAbstract({icons:{main:Il,mask:Al},prefix:Zs,iconName:qs,transform:yl,symbol:Js,maskId:El,title:Ys,titleId:Xs,extra:wl,watchable:!0})])}).catch(Sl)})},at.generateAbstractIcon=function(zs){let{children:Ws,attributes:qs,main:Ys,transform:Xs,styles:Zs}=zs;const yl=joinStyles(Zs);yl.length>0&&(qs.style=yl);let Js;return transformIsMeaningful(Xs)&&(Js=callProvided("generateAbstractTransformGrouping",{main:Ys,transform:Xs,containerWidth:Ys.width,iconWidth:Ys.width})),Ws.push(Js||Ys.icon),{children:Ws,attributes:qs}}}},Layers={mixout(){return{layer(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:Ws=[]}=zs;return domVariants({type:"layer"},()=>{callHooks("beforeDOMElementCreation",{assembler:at,params:zs});let qs=[];return at(Ys=>{Array.isArray(Ys)?Ys.map(Xs=>{qs=qs.concat(Xs.abstract)}):qs=qs.concat(Ys.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers"),...Ws].join(" ")},children:qs}]})}}}},LayersCounter={mixout(){return{counter(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:Ws=null,classes:qs=[],attributes:Ys={},styles:Xs={}}=zs;return domVariants({type:"counter",content:at},()=>(callHooks("beforeDOMElementCreation",{content:at,params:zs}),makeLayersCounterAbstract({content:at.toString(),title:Ws,extra:{attributes:Ys,styles:Xs,classes:["".concat(config.cssPrefix,"-layers-counter"),...qs]}})))}}}},LayersText={mixout(){return{text(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:Ws=meaninglessTransform,title:qs=null,classes:Ys=[],attributes:Xs={},styles:Zs={}}=zs;return domVariants({type:"text",content:at},()=>(callHooks("beforeDOMElementCreation",{content:at,params:zs}),makeLayersTextAbstract({content:at,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),Ws),title:qs,extra:{attributes:Xs,styles:Zs,classes:["".concat(config.cssPrefix,"-layers-text"),...Ys]}})))}}},provides(at){at.generateLayersText=function(zs,Ws){const{title:qs,transform:Ys,extra:Xs}=Ws;let Zs=null,yl=null;if(IS_IE){const Js=parseInt(getComputedStyle(zs).fontSize,10),$l=zs.getBoundingClientRect();Zs=$l.width/Js,yl=$l.height/Js}return config.autoA11y&&!qs&&(Xs.attributes["aria-hidden"]="true"),Promise.resolve([zs,makeLayersTextAbstract({content:zs.innerHTML,width:Zs,height:yl,transform:Ys,title:qs,extra:Xs,watchable:!0})])}}};const CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319],_FONT_FAMILY_WEIGHT_TO_PREFIX=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},{FontAwesome:{normal:"fas",400:"fas"}}),lt$2),wa$1),Yt$2),FONT_FAMILY_WEIGHT_TO_PREFIX=Object.keys(_FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((at,zs)=>(at[zs.toLowerCase()]=_FONT_FAMILY_WEIGHT_TO_PREFIX[zs],at),{}),FONT_FAMILY_WEIGHT_FALLBACK=Object.keys(FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((at,zs)=>{const Ws=FONT_FAMILY_WEIGHT_TO_PREFIX[zs];return at[zs]=Ws[900]||[...Object.entries(Ws)][0][1],at},{});function hexValueFromContent(at){const zs=at.replace(CLEAN_CONTENT_PATTERN,""),Ws=codePointAt(zs,0),qs=Ws>=SECONDARY_UNICODE_RANGE[0]&&Ws<=SECONDARY_UNICODE_RANGE[1],Ys=zs.length===2?zs[0]===zs[1]:!1;return{value:toHex$3(Ys?zs[0]:zs),isSecondary:qs||Ys}}function getPrefix(at,zs){const Ws=at.replace(/^['"]|['"]$/g,"").toLowerCase(),qs=parseInt(zs),Ys=isNaN(qs)?"normal":qs;return(FONT_FAMILY_WEIGHT_TO_PREFIX[Ws]||{})[Ys]||FONT_FAMILY_WEIGHT_FALLBACK[Ws]}function replaceForPosition(at,zs){const Ws="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(zs.replace(":","-"));return new Promise((qs,Ys)=>{if(at.getAttribute(Ws)!==null)return qs();const Zs=toArray(at.children).filter(_l=>_l.getAttribute(DATA_FA_PSEUDO_ELEMENT)===zs)[0],yl=WINDOW.getComputedStyle(at,zs),Js=yl.getPropertyValue("font-family"),$l=Js.match(FONT_FAMILY_PATTERN),El=yl.getPropertyValue("font-weight"),wl=yl.getPropertyValue("content");if(Zs&&!$l)return at.removeChild(Zs),qs();if($l&&wl!=="none"&&wl!==""){const _l=yl.getPropertyValue("content");let Sl=getPrefix(Js,El);const{value:Tl,isSecondary:Il}=hexValueFromContent(_l),Al=$l[0].startsWith("FontAwesome");let xl=byUnicode(Sl,Tl),Pl=xl;if(Al){const Cl=byOldUnicode(Tl);Cl.iconName&&Cl.prefix&&(xl=Cl.iconName,Sl=Cl.prefix)}if(xl&&!Il&&(!Zs||Zs.getAttribute(DATA_PREFIX)!==Sl||Zs.getAttribute(DATA_ICON)!==Pl)){at.setAttribute(Ws,Pl),Zs&&at.removeChild(Zs);const Cl=blankMeta(),{extra:Rl}=Cl;Rl.attributes[DATA_FA_PSEUDO_ELEMENT]=zs,findIcon(xl,Sl).then(Ol=>{const Ml=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},Cl),{},{icons:{main:Ol,mask:emptyCanonicalIcon()},prefix:Sl,iconName:Pl,extra:Rl,watchable:!0})),Ll=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");zs==="::before"?at.insertBefore(Ll,at.firstChild):at.appendChild(Ll),Ll.outerHTML=Ml.map(Bl=>toHtml(Bl)).join(`
`),at.removeAttribute(Ws),qs()}).catch(Ys)}else qs()}else qs()})}function replace(at){return Promise.all([replaceForPosition(at,"::before"),replaceForPosition(at,"::after")])}function processable(at){return at.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(at.tagName.toUpperCase())&&!at.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!at.parentNode||at.parentNode.tagName!=="svg")}function searchPseudoElements(at){if(IS_DOM)return new Promise((zs,Ws)=>{const qs=toArray(at.querySelectorAll("*")).filter(processable).map(replace),Ys=perf.begin("searchPseudoElements");disableObservation(),Promise.all(qs).then(()=>{Ys(),enableObservation(),zs()}).catch(()=>{Ys(),enableObservation(),Ws()})})}var PseudoElements={hooks(){return{mutationObserverCallbacks(at){return at.pseudoElementsCallback=searchPseudoElements,at}}},provides(at){at.pseudoElements2svg=function(zs){const{node:Ws=DOCUMENT}=zs;config.searchPseudoElements&&searchPseudoElements(Ws)}}};let _unwatched=!1;var MutationObserver$1={mixout(){return{dom:{unwatch(){disableObservation(),_unwatched=!0}}}},hooks(){return{bootstrap(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto(){disconnect()},watch(at){const{observeMutationsRoot:zs}=at;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:zs}))}}}};const parseTransformString=at=>{let zs={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return at.toLowerCase().split(" ").reduce((Ws,qs)=>{const Ys=qs.toLowerCase().split("-"),Xs=Ys[0];let Zs=Ys.slice(1).join("-");if(Xs&&Zs==="h")return Ws.flipX=!0,Ws;if(Xs&&Zs==="v")return Ws.flipY=!0,Ws;if(Zs=parseFloat(Zs),isNaN(Zs))return Ws;switch(Xs){case"grow":Ws.size=Ws.size+Zs;break;case"shrink":Ws.size=Ws.size-Zs;break;case"left":Ws.x=Ws.x-Zs;break;case"right":Ws.x=Ws.x+Zs;break;case"up":Ws.y=Ws.y-Zs;break;case"down":Ws.y=Ws.y+Zs;break;case"rotate":Ws.rotate=Ws.rotate+Zs;break}return Ws},zs)};var PowerTransforms={mixout(){return{parse:{transform:at=>parseTransformString(at)}}},hooks(){return{parseNodeAttributes(at,zs){const Ws=zs.getAttribute("data-fa-transform");return Ws&&(at.transform=parseTransformString(Ws)),at}}},provides(at){at.generateAbstractTransformGrouping=function(zs){let{main:Ws,transform:qs,containerWidth:Ys,iconWidth:Xs}=zs;const Zs={transform:"translate(".concat(Ys/2," 256)")},yl="translate(".concat(qs.x*32,", ").concat(qs.y*32,") "),Js="scale(".concat(qs.size/16*(qs.flipX?-1:1),", ").concat(qs.size/16*(qs.flipY?-1:1),") "),$l="rotate(".concat(qs.rotate," 0 0)"),El={transform:"".concat(yl," ").concat(Js," ").concat($l)},wl={transform:"translate(".concat(Xs/2*-1," -256)")},_l={outer:Zs,inner:El,path:wl};return{tag:"g",attributes:_objectSpread2$1({},_l.outer),children:[{tag:"g",attributes:_objectSpread2$1({},_l.inner),children:[{tag:Ws.icon.tag,children:Ws.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},Ws.icon.attributes),_l.path)}]}]}}}};const ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(at){let zs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return at.attributes&&(at.attributes.fill||zs)&&(at.attributes.fill="black"),at}function deGroup(at){return at.tag==="g"?at.children:[at]}var Masks={hooks(){return{parseNodeAttributes(at,zs){const Ws=zs.getAttribute("data-fa-mask"),qs=Ws?getCanonicalIcon(Ws.split(" ").map(Ys=>Ys.trim())):emptyCanonicalIcon();return qs.prefix||(qs.prefix=getDefaultUsablePrefix()),at.mask=qs,at.maskId=zs.getAttribute("data-fa-mask-id"),at}}},provides(at){at.generateAbstractMask=function(zs){let{children:Ws,attributes:qs,main:Ys,mask:Xs,maskId:Zs,transform:yl}=zs;const{width:Js,icon:$l}=Ys,{width:El,icon:wl}=Xs,_l=transformForSvg({transform:yl,containerWidth:El,iconWidth:Js}),Sl={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},Tl=$l.children?{children:$l.children.map(fillBlack)}:{},Il={tag:"g",attributes:_objectSpread2$1({},_l.inner),children:[fillBlack(_objectSpread2$1({tag:$l.tag,attributes:_objectSpread2$1(_objectSpread2$1({},$l.attributes),_l.path)},Tl))]},Al={tag:"g",attributes:_objectSpread2$1({},_l.outer),children:[Il]},xl="mask-".concat(Zs||nextUniqueId()),Pl="clip-".concat(Zs||nextUniqueId()),Cl={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:xl,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Sl,Al]},Rl={tag:"defs",children:[{tag:"clipPath",attributes:{id:Pl},children:deGroup(wl)},Cl]};return Ws.push(Rl,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(Pl,")"),mask:"url(#".concat(xl,")")},ALL_SPACE)}),{children:Ws,attributes:qs}}}},MissingIconIndicator={provides(at){let zs=!1;WINDOW.matchMedia&&(zs=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),at.missingIconAbstract=function(){const Ws=[],qs={fill:"currentColor"},Ys={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};Ws.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},qs),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const Xs=_objectSpread2$1(_objectSpread2$1({},Ys),{},{attributeName:"opacity"}),Zs={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},qs),{},{cx:"256",cy:"364",r:"28"}),children:[]};return zs||Zs.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Ys),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Xs),{},{values:"1;0;1;1;0;1;"})}),Ws.push(Zs),Ws.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},qs),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:zs?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Xs),{},{values:"1;0;0;0;0;1;"})}]}),zs||Ws.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},qs),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},Xs),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:Ws}}}},SvgSymbols={hooks(){return{parseNodeAttributes(at,zs){const Ws=zs.getAttribute("data-fa-symbol"),qs=Ws===null?!1:Ws===""?!0:Ws;return at.symbol=qs,at}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api}),api.noAuto,api.config,api.library,api.dom;const parse$1$1=api.parse;api.findIconDefinition,api.toHtml;const icon=api.icon;api.layer,api.text,api.counter;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function at(qs,Ys,Xs,Zs,yl,Js){if(Js!==ReactPropTypesSecret){var $l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw $l.name="Invariant Violation",$l}}at.isRequired=at;function zs(){return at}var Ws={array:at,bigint:at,bool:at,func:at,number:at,object:at,string:at,symbol:at,any:at,arrayOf:zs,element:at,elementType:at,instanceOf:zs,node:at,objectOf:zs,oneOf:zs,oneOfType:zs,shape:zs,exact:zs,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return Ws.PropTypes=Ws,Ws};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var define_process_env_default$4={};function _arrayLikeToArray$4(at,zs){(zs==null||zs>at.length)&&(zs=at.length);for(var Ws=0,qs=Array(zs);Ws<zs;Ws++)qs[Ws]=at[Ws];return qs}function _arrayWithHoles$1(at){if(Array.isArray(at))return at}function _arrayWithoutHoles(at){if(Array.isArray(at))return _arrayLikeToArray$4(at)}function _defineProperty$4(at,zs,Ws){return(zs=_toPropertyKey$5(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function _iterableToArray(at){if(typeof Symbol<"u"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function _iterableToArrayLimit$1(at,zs){var Ws=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(Ws!=null){var qs,Ys,Xs,Zs,yl=[],Js=!0,$l=!1;try{if(Xs=(Ws=Ws.call(at)).next,zs!==0)for(;!(Js=(qs=Xs.call(Ws)).done)&&(yl.push(qs.value),yl.length!==zs);Js=!0);}catch(El){$l=!0,Ys=El}finally{try{if(!Js&&Ws.return!=null&&(Zs=Ws.return(),Object(Zs)!==Zs))return}finally{if($l)throw Ys}}return yl}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$4(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread2(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys$4(Object(Ws),!0).forEach(function(qs){_defineProperty$4(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys$4(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _objectWithoutProperties(at,zs){if(at==null)return{};var Ws,qs,Ys=_objectWithoutPropertiesLoose(at,zs);if(Object.getOwnPropertySymbols){var Xs=Object.getOwnPropertySymbols(at);for(qs=0;qs<Xs.length;qs++)Ws=Xs[qs],zs.indexOf(Ws)===-1&&{}.propertyIsEnumerable.call(at,Ws)&&(Ys[Ws]=at[Ws])}return Ys}function _objectWithoutPropertiesLoose(at,zs){if(at==null)return{};var Ws={};for(var qs in at)if({}.hasOwnProperty.call(at,qs)){if(zs.indexOf(qs)!==-1)continue;Ws[qs]=at[qs]}return Ws}function _slicedToArray$1(at,zs){return _arrayWithHoles$1(at)||_iterableToArrayLimit$1(at,zs)||_unsupportedIterableToArray$4(at,zs)||_nonIterableRest$1()}function _toConsumableArray(at){return _arrayWithoutHoles(at)||_iterableToArray(at)||_unsupportedIterableToArray$4(at)||_nonIterableSpread()}function _toPrimitive$5(at,zs){if(typeof at!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(typeof qs!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zs==="string"?String:Number)(at)}function _toPropertyKey$5(at){var zs=_toPrimitive$5(at,"string");return typeof zs=="symbol"?zs:zs+""}function _typeof$6(at){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof$6(at)}function _unsupportedIterableToArray$4(at,zs){if(at){if(typeof at=="string")return _arrayLikeToArray$4(at,zs);var Ws={}.toString.call(at).slice(8,-1);return Ws==="Object"&&at.constructor&&(Ws=at.constructor.name),Ws==="Map"||Ws==="Set"?Array.from(at):Ws==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ws)?_arrayLikeToArray$4(at,zs):void 0}}var ICON_PACKS_STARTING_VERSION="7.0.0",SVG_CORE_VERSION;try{var svgCorePackageJson=require$$0$2;SVG_CORE_VERSION=svgCorePackageJson.version}catch(at){SVG_CORE_VERSION=typeof process<"u"&&define_process_env_default$4.FA_VERSION||"7.0.0"}function classList(at){var zs=at.beat,Ws=at.fade,qs=at.beatFade,Ys=at.bounce,Xs=at.shake,Zs=at.flash,yl=at.spin,Js=at.spinPulse,$l=at.spinReverse,El=at.pulse,wl=at.fixedWidth,_l=at.inverse,Sl=at.border,Tl=at.listItem,Il=at.flip,Al=at.size,xl=at.rotation,Pl=at.pull,Cl=at.swapOpacity,Rl=at.rotateBy,Ol=at.widthAuto,Ml=versionCheckGte(SVG_CORE_VERSION,ICON_PACKS_STARTING_VERSION),Ll=_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4(_defineProperty$4({"fa-beat":zs,"fa-fade":Ws,"fa-beat-fade":qs,"fa-bounce":Ys,"fa-shake":Xs,"fa-flash":Zs,"fa-spin":yl,"fa-spin-reverse":$l,"fa-spin-pulse":Js,"fa-pulse":El,"fa-fw":wl,"fa-inverse":_l,"fa-border":Sl,"fa-li":Tl,"fa-flip":Il===!0,"fa-flip-horizontal":Il==="horizontal"||Il==="both","fa-flip-vertical":Il==="vertical"||Il==="both"},"fa-".concat(Al),typeof Al<"u"&&Al!==null),"fa-rotate-".concat(xl),typeof xl<"u"&&xl!==null&&xl!==0),"fa-pull-".concat(Pl),typeof Pl<"u"&&Pl!==null),"fa-swap-opacity",Cl),"fa-rotate-by",Ml&&Rl),"fa-width-auto",Ml&&Ol);return Object.keys(Ll).map(function(Bl){return Ll[Bl]?Bl:null}).filter(function(Bl){return Bl})}function versionCheckGte(at,zs){for(var Ws=at.split("-"),qs=_slicedToArray$1(Ws,2),Ys=qs[0],Xs=qs[1],Zs=zs.split("-"),yl=_slicedToArray$1(Zs,2),Js=yl[0],$l=yl[1],El=Ys.split("."),wl=Js.split("."),_l=0;_l<Math.max(El.length,wl.length);_l++){var Sl=El[_l]||"0",Tl=wl[_l]||"0",Il=parseInt(Sl,10),Al=parseInt(Tl,10);if(Il!==Al)return Il>Al}for(var xl=0;xl<Math.max(El.length,wl.length);xl++){var Pl=El[xl]||"0",Cl=wl[xl]||"0";if(Pl!==Cl&&Pl.length!==Cl.length)return Pl.length<Cl.length}return!(Xs&&!$l)}function _isNumerical(at){return at=at-0,at===at}function camelize(at){return _isNumerical(at)?at:(at=at.replace(/[\-_\s]+(.)?/g,function(zs,Ws){return Ws?Ws.toUpperCase():""}),at.substr(0,1).toLowerCase()+at.substr(1))}var _excluded$2=["style"];function capitalize(at){return at.charAt(0).toUpperCase()+at.slice(1)}function styleToObject(at){return at.split(";").map(function(zs){return zs.trim()}).filter(function(zs){return zs}).reduce(function(zs,Ws){var qs=Ws.indexOf(":"),Ys=camelize(Ws.slice(0,qs)),Xs=Ws.slice(qs+1).trim();return Ys.startsWith("webkit")?zs[capitalize(Ys)]=Xs:zs[Ys]=Xs,zs},{})}function convert$1(at,zs){var Ws=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof zs=="string")return zs;var qs=(zs.children||[]).map(function(Js){return convert$1(at,Js)}),Ys=Object.keys(zs.attributes||{}).reduce(function(Js,$l){var El=zs.attributes[$l];switch($l){case"class":Js.attrs.className=El,delete zs.attributes.class;break;case"style":Js.attrs.style=styleToObject(El);break;default:$l.indexOf("aria-")===0||$l.indexOf("data-")===0?Js.attrs[$l.toLowerCase()]=El:Js.attrs[camelize($l)]=El}return Js},{attrs:{}}),Xs=Ws.style,Zs=Xs===void 0?{}:Xs,yl=_objectWithoutProperties(Ws,_excluded$2);return Ys.attrs.style=_objectSpread2(_objectSpread2({},Ys.attrs.style),Zs),at.apply(void 0,[zs.tag,_objectSpread2(_objectSpread2({},Ys.attrs),yl)].concat(_toConsumableArray(qs)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch(at){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var at;(at=console).error.apply(at,arguments)}}function normalizeIconArgs(at){if(at&&_typeof$6(at)==="object"&&at.prefix&&at.iconName&&at.icon)return at;if(parse$1$1.icon)return parse$1$1.icon(at);if(at===null)return null;if(at&&_typeof$6(at)==="object"&&at.prefix&&at.iconName)return at;if(Array.isArray(at)&&at.length===2)return{prefix:at[0],iconName:at[1]};if(typeof at=="string")return{prefix:"fas",iconName:at}}function objectWithKey(at,zs){return Array.isArray(zs)&&zs.length>0||!Array.isArray(zs)&&zs?_defineProperty$4({},at,zs):{}}var defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},FontAwesomeIcon=React$1.forwardRef(function(at,zs){var Ws=_objectSpread2(_objectSpread2({},defaultProps),at),qs=Ws.icon,Ys=Ws.mask,Xs=Ws.symbol,Zs=Ws.className,yl=Ws.title,Js=Ws.titleId,$l=Ws.maskId,El=normalizeIconArgs(qs),wl=objectWithKey("classes",[].concat(_toConsumableArray(classList(Ws)),_toConsumableArray((Zs||"").split(" ")))),_l=objectWithKey("transform",typeof Ws.transform=="string"?parse$1$1.transform(Ws.transform):Ws.transform),Sl=objectWithKey("mask",normalizeIconArgs(Ys)),Tl=icon(El,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},wl),_l),Sl),{},{symbol:Xs,title:yl,titleId:Js,maskId:$l}));if(!Tl)return log("Could not find icon",El),null;var Il=Tl.abstract,Al={ref:zs};return Object.keys(Ws).forEach(function(xl){defaultProps.hasOwnProperty(xl)||(Al[xl]=Ws[xl])}),convertCurry(Il[0],Al)});FontAwesomeIcon.displayName="FontAwesomeIcon",FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),rotateBy:PropTypes.bool,shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool,widthAuto:PropTypes.bool};var convertCurry=convert$1.bind(null,React$1.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const faGoogle={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},faDiscord={prefix:"fab",iconName:"discord",icon:[640,512,[],"f392","M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"]},faApple={prefix:"fab",iconName:"apple",icon:[384,512,[],"f179","M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"]},faXTwitter={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]},faFacebook={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const faFingerprint={prefix:"fas",iconName:"fingerprint",icon:[512,512,[],"f577","M48 256C48 141.1 141.1 48 256 48c63.1 0 119.6 28.1 157.8 72.5c8.6 10.1 23.8 11.2 33.8 2.6s11.2-23.8 2.6-33.8C403.3 34.6 333.7 0 256 0C114.6 0 0 114.6 0 256l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40zm458.5-52.9c-2.7-13-15.5-21.3-28.4-18.5s-21.3 15.5-18.5 28.4c2.9 13.9 4.5 28.3 4.5 43.1l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c0-18.1-1.9-35.8-5.5-52.9zM256 80c-19 0-37.4 3-54.5 8.6c-15.2 5-18.7 23.7-8.3 35.9c7.1 8.3 18.8 10.8 29.4 7.9c10.6-2.9 21.8-4.4 33.4-4.4c70.7 0 128 57.3 128 128l0 24.9c0 25.2-1.5 50.3-4.4 75.3c-1.7 14.6 9.4 27.8 24.2 27.8c11.8 0 21.9-8.6 23.3-20.3c3.3-27.4 5-55 5-82.7l0-24.9c0-97.2-78.8-176-176-176zM150.7 148.7c-9.1-10.6-25.3-11.4-33.9-.4C93.7 178 80 215.4 80 256l0 24.9c0 24.2-2.6 48.4-7.8 71.9C68.8 368.4 80.1 384 96.1 384c10.5 0 19.9-7 22.2-17.3c6.4-28.1 9.7-56.8 9.7-85.8l0-24.9c0-27.2 8.5-52.4 22.9-73.1c7.2-10.4 8-24.6-.2-34.2zM256 160c-53 0-96 43-96 96l0 24.9c0 35.9-4.6 71.5-13.8 106.1c-3.8 14.3 6.7 29 21.5 29c9.5 0 17.9-6.2 20.4-15.4c10.5-39 15.9-79.2 15.9-119.7l0-24.9c0-28.7 23.3-52 52-52s52 23.3 52 52l0 24.9c0 36.3-3.5 72.4-10.4 107.9c-2.7 13.9 7.7 27.2 21.8 27.2c10.2 0 19-7 21-17c7.7-38.8 11.6-78.3 11.6-118.1l0-24.9c0-53-43-96-96-96zm24 96c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 24.9c0 59.9-11 119.3-32.5 175.2l-5.9 15.3c-4.8 12.4 1.4 26.3 13.8 31s26.3-1.4 31-13.8l5.9-15.3C267.9 411.9 280 346.7 280 280.9l0-24.9z"]},faLaptop={prefix:"fas",iconName:"laptop",icon:[640,512,[128187],"f109","M128 32C92.7 32 64 60.7 64 96l0 256 64 0 0-256 384 0 0 256 64 0 0-256c0-35.3-28.7-64-64-64L128 32zM19.2 384C8.6 384 0 392.6 0 403.2C0 445.6 34.4 480 76.8 480l486.4 0c42.4 0 76.8-34.4 76.8-76.8c0-10.6-8.6-19.2-19.2-19.2L19.2 384z"]},faUser={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},faUnlock={prefix:"fas",iconName:"unlock",icon:[448,512,[128275],"f09c","M144 144c0-44.2 35.8-80 80-80c31.9 0 59.4 18.6 72.3 45.7c7.6 16 26.7 22.8 42.6 15.2s22.8-26.7 15.2-42.6C331 33.7 281.5 0 224 0C144.5 0 80 64.5 80 144l0 48-16 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-240 0 0-48z"]},faArrowRight={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},faWallet={prefix:"fas",iconName:"wallet",icon:[512,512,[],"f555","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L80 128c-8.8 0-16-7.2-16-16s7.2-16 16-16l368 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L64 32zM416 272a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},faEye={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},faPhone={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},faArrowLeft={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},faEnvelope={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},faMobileScreen={prefix:"fas",iconName:"mobile-screen",icon:[384,512,["mobile-android-alt"],"f3cf","M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM144 448c0 8.8 7.2 16 16 16l64 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-64 0c-8.8 0-16 7.2-16 16zM304 64L80 64l0 320 224 0 0-320z"]},faEllipsis={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},faEllipsisH=faEllipsis,faChevronDown={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},faCopy={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},faXmark={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},faClose=faXmark,faChevronRight={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},faCheck={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},faTriangleExclamation={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]};function r$a(at){var zs,Ws,qs="";if(typeof at=="string"||typeof at=="number")qs+=at;else if(typeof at=="object")if(Array.isArray(at)){var Ys=at.length;for(zs=0;zs<Ys;zs++)at[zs]&&(Ws=r$a(at[zs]))&&(qs&&(qs+=" "),qs+=Ws)}else for(Ws in at)at[Ws]&&(qs&&(qs+=" "),qs+=Ws);return qs}function clsx(){for(var at,zs,Ws=0,qs="",Ys=arguments.length;Ws<Ys;Ws++)(at=arguments[Ws])&&(zs=r$a(at))&&(qs&&(qs+=" "),qs+=zs);return qs}const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React$1.useLayoutEffect:()=>{},$431fbd86ca7dc216$export$b204af158042fbac=at=>{var zs;return(zs=at==null?void 0:at.ownerDocument)!==null&&zs!==void 0?zs:document},$431fbd86ca7dc216$export$f21a1ffae260145a=at=>at&&"window"in at&&at.window===at?at:$431fbd86ca7dc216$export$b204af158042fbac(at).defaultView||window;function $431fbd86ca7dc216$var$isNode(at){return at!==null&&typeof at=="object"&&"nodeType"in at&&typeof at.nodeType=="number"}function $431fbd86ca7dc216$export$af51f0f06c0f328a(at){return $431fbd86ca7dc216$var$isNode(at)&&at.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in at}let $f4e2df6bd15f8569$var$_shadowDOM=!1;function $f4e2df6bd15f8569$export$98658e8c59125e6a(){return $f4e2df6bd15f8569$var$_shadowDOM}function $d4ee10de306f2510$export$4282f70798064fe0(at,zs){if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return zs&&at?at.contains(zs):!1;if(!at||!zs)return!1;let Ws=zs;for(;Ws!==null;){if(Ws===at)return!0;Ws.tagName==="SLOT"&&Ws.assignedSlot?Ws=Ws.assignedSlot.parentNode:$431fbd86ca7dc216$export$af51f0f06c0f328a(Ws)?Ws=Ws.host:Ws=Ws.parentNode}return!1}const $d4ee10de306f2510$export$cd4e5573fbe2b576=(at=document)=>{var zs;if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return at.activeElement;let Ws=at.activeElement;for(;Ws&&"shadowRoot"in Ws&&(!((zs=Ws.shadowRoot)===null||zs===void 0)&&zs.activeElement);)Ws=Ws.shadowRoot.activeElement;return Ws};function $d4ee10de306f2510$export$e58f029f0fbfdb29(at){return $f4e2df6bd15f8569$export$98658e8c59125e6a()&&at.target.shadowRoot&&at.composedPath?at.composedPath()[0]:at.target}function $7215afc6de606d6b$export$de79e2c695e052f3(at){if($7215afc6de606d6b$var$supportsPreventScroll())at.focus({preventScroll:!0});else{let zs=$7215afc6de606d6b$var$getScrollableElements(at);at.focus(),$7215afc6de606d6b$var$restoreScrollPosition(zs)}}let $7215afc6de606d6b$var$supportsPreventScrollCached=null;function $7215afc6de606d6b$var$supportsPreventScroll(){if($7215afc6de606d6b$var$supportsPreventScrollCached==null){$7215afc6de606d6b$var$supportsPreventScrollCached=!1;try{document.createElement("div").focus({get preventScroll(){return $7215afc6de606d6b$var$supportsPreventScrollCached=!0,!0}})}catch{}}return $7215afc6de606d6b$var$supportsPreventScrollCached}function $7215afc6de606d6b$var$getScrollableElements(at){let zs=at.parentNode,Ws=[],qs=document.scrollingElement||document.documentElement;for(;zs instanceof HTMLElement&&zs!==qs;)(zs.offsetHeight<zs.scrollHeight||zs.offsetWidth<zs.scrollWidth)&&Ws.push({element:zs,scrollTop:zs.scrollTop,scrollLeft:zs.scrollLeft}),zs=zs.parentNode;return qs instanceof HTMLElement&&Ws.push({element:qs,scrollTop:qs.scrollTop,scrollLeft:qs.scrollLeft}),Ws}function $7215afc6de606d6b$var$restoreScrollPosition(at){for(let{element:zs,scrollTop:Ws,scrollLeft:qs}of at)zs.scrollTop=Ws,zs.scrollLeft=qs}function $c87311424ea30a05$var$testUserAgent(at){var zs;if(typeof window>"u"||window.navigator==null)return!1;let Ws=(zs=window.navigator.userAgentData)===null||zs===void 0?void 0:zs.brands;return Array.isArray(Ws)&&Ws.some(qs=>at.test(qs.brand))||at.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(at){var zs;return typeof window<"u"&&window.navigator!=null?at.test(((zs=window.navigator.userAgentData)===null||zs===void 0?void 0:zs.platform)||window.navigator.platform):!1}function $c87311424ea30a05$var$cached(at){let zs=null;return()=>(zs==null&&(zs=at()),zs)}const $c87311424ea30a05$export$9ac100e40613ea10=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}),$c87311424ea30a05$export$7bef049ce92e4224=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^iPad/i)||$c87311424ea30a05$export$9ac100e40613ea10()&&navigator.maxTouchPoints>1}),$c87311424ea30a05$export$78551043582a6a98=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i)&&!$c87311424ea30a05$export$6446a186d09e379e()}),$c87311424ea30a05$export$6446a186d09e379e=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Chrome/i)}),$c87311424ea30a05$export$a11b0059900ceec8=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}),$c87311424ea30a05$export$b7d78993b74f766d=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Firefox/i)});function $ea8dcbcb9ea1b556$export$95185d699e05d4d7(at,zs,Ws=!0){var qs,Ys;let{metaKey:Xs,ctrlKey:Zs,altKey:yl,shiftKey:Js}=zs;$c87311424ea30a05$export$b7d78993b74f766d()&&(!((Ys=window.event)===null||Ys===void 0||(qs=Ys.type)===null||qs===void 0)&&qs.startsWith("key"))&&at.target==="_blank"&&($c87311424ea30a05$export$9ac100e40613ea10()?Xs=!0:Zs=!0);let $l=$c87311424ea30a05$export$78551043582a6a98()&&$c87311424ea30a05$export$9ac100e40613ea10()&&!$c87311424ea30a05$export$7bef049ce92e4224()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:Xs,ctrlKey:Zs,altKey:yl,shiftKey:Js}):new MouseEvent("click",{metaKey:Xs,ctrlKey:Zs,altKey:yl,shiftKey:Js,detail:1,bubbles:!0,cancelable:!0});$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=Ws,$7215afc6de606d6b$export$de79e2c695e052f3(at),at.dispatchEvent($l),$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1}$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1;function $03deb23ff14920c4$export$4eaf04e54aa8eed6(){let at=reactExports.useRef(new Map),zs=reactExports.useCallback((Ys,Xs,Zs,yl)=>{let Js=yl!=null&&yl.once?(...$l)=>{at.current.delete(Zs),Zs(...$l)}:Zs;at.current.set(Zs,{type:Xs,eventTarget:Ys,fn:Js,options:yl}),Ys.addEventListener(Xs,Js,yl)},[]),Ws=reactExports.useCallback((Ys,Xs,Zs,yl)=>{var Js;let $l=((Js=at.current.get(Zs))===null||Js===void 0?void 0:Js.fn)||Zs;Ys.removeEventListener(Xs,$l,yl),at.current.delete(Zs)},[]),qs=reactExports.useCallback(()=>{at.current.forEach((Ys,Xs)=>{Ws(Ys.eventTarget,Ys.type,Xs,Ys.options)})},[Ws]);return reactExports.useEffect(()=>qs,[qs]),{addGlobalListener:zs,removeGlobalListener:Ws,removeAllGlobalListeners:qs}}function $6a7db85432448f7f$export$60278871457622de(at){return at.pointerType===""&&at.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&at.pointerType?at.type==="click"&&at.buttons===1:at.detail===0&&!at.pointerType}function $8a9cb279dc87e130$export$525bc4921d56d4a(at){let zs=at;return zs.nativeEvent=at,zs.isDefaultPrevented=()=>zs.defaultPrevented,zs.isPropagationStopped=()=>zs.cancelBubble,zs.persist=()=>{},zs}function $8a9cb279dc87e130$export$c2b7abe5d61ec696(at,zs){Object.defineProperty(at,"target",{value:zs}),Object.defineProperty(at,"currentTarget",{value:zs})}function $8a9cb279dc87e130$export$715c682d09d639cc(at){let zs=reactExports.useRef({isFocused:!1,observer:null});return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const Ws=zs.current;return()=>{Ws.observer&&(Ws.observer.disconnect(),Ws.observer=null)}},[]),reactExports.useCallback(Ws=>{if(Ws.target instanceof HTMLButtonElement||Ws.target instanceof HTMLInputElement||Ws.target instanceof HTMLTextAreaElement||Ws.target instanceof HTMLSelectElement){zs.current.isFocused=!0;let qs=Ws.target,Ys=Xs=>{if(zs.current.isFocused=!1,qs.disabled){let Zs=$8a9cb279dc87e130$export$525bc4921d56d4a(Xs);at==null||at(Zs)}zs.current.observer&&(zs.current.observer.disconnect(),zs.current.observer=null)};qs.addEventListener("focusout",Ys,{once:!0}),zs.current.observer=new MutationObserver(()=>{if(zs.current.isFocused&&qs.disabled){var Xs;(Xs=zs.current.observer)===null||Xs===void 0||Xs.disconnect();let Zs=qs===document.activeElement?null:document.activeElement;qs.dispatchEvent(new FocusEvent("blur",{relatedTarget:Zs})),qs.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Zs}))}}),zs.current.observer.observe(qs,{attributes:!0,attributeFilter:["disabled"]})}},[at])}let $8a9cb279dc87e130$export$fda7da73ab5d4c48=!1,$507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(at,zs){for(let Ws of $507fabe10e71c6fb$var$changeHandlers)Ws(at,zs)}function $507fabe10e71c6fb$var$isValidKey(at){return!(at.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&at.altKey||at.ctrlKey||at.key==="Control"||at.key==="Shift"||at.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(at){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,!$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening&&$507fabe10e71c6fb$var$isValidKey(at)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",at))}function $507fabe10e71c6fb$var$handlePointerEvent(at){$507fabe10e71c6fb$var$currentModality="pointer","pointerType"in at&&at.pointerType,(at.type==="mousedown"||at.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",at))}function $507fabe10e71c6fb$var$handleClickEvent(at){!$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening&&$6a7db85432448f7f$export$60278871457622de(at)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(at){at.target===window||at.target===document||$8a9cb279dc87e130$export$fda7da73ab5d4c48||!at.isTrusted||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",at)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(at){if(typeof window>"u"||typeof document>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(at)))return;const zs=$431fbd86ca7dc216$export$f21a1ffae260145a(at),Ws=$431fbd86ca7dc216$export$b204af158042fbac(at);let qs=zs.HTMLElement.prototype.focus;zs.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,qs.apply(this,arguments)},Ws.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),Ws.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),Ws.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),zs.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),zs.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(Ws.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),Ws.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),Ws.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),zs.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(at)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(zs,{focus:qs})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(at,zs)=>{const Ws=$431fbd86ca7dc216$export$f21a1ffae260145a(at),qs=$431fbd86ca7dc216$export$b204af158042fbac(at);zs&&qs.removeEventListener("DOMContentLoaded",zs),$507fabe10e71c6fb$export$d90243b58daecda7.has(Ws)&&(Ws.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(Ws).focus,qs.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),qs.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),qs.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),Ws.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),Ws.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(qs.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),qs.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),qs.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(Ws))};function $507fabe10e71c6fb$export$2f1888112f558a7d(at){const zs=$431fbd86ca7dc216$export$b204af158042fbac(at);let Ws;return zs.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(at):(Ws=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(at)},zs.addEventListener("DOMContentLoaded",Ws)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(at,Ws)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(at,zs,Ws){let qs=$431fbd86ca7dc216$export$b204af158042fbac(Ws==null?void 0:Ws.target);const Ys=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(Ws==null?void 0:Ws.target).HTMLInputElement:HTMLInputElement,Xs=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(Ws==null?void 0:Ws.target).HTMLTextAreaElement:HTMLTextAreaElement,Zs=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(Ws==null?void 0:Ws.target).HTMLElement:HTMLElement,yl=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(Ws==null?void 0:Ws.target).KeyboardEvent:KeyboardEvent;return at=at||qs.activeElement instanceof Ys&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(qs.activeElement.type)||qs.activeElement instanceof Xs||qs.activeElement instanceof Zs&&qs.activeElement.isContentEditable,!(at&&zs==="keyboard"&&Ws instanceof yl&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[Ws.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(at,zs,Ws){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let qs=(Ys,Xs)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(Ws!=null&&Ws.isTextInput),Ys,Xs)&&at($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(qs),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(qs)}},zs)}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(at){let{isDisabled:zs,onFocus:Ws,onBlur:qs,onFocusChange:Ys}=at;const Xs=reactExports.useCallback(Js=>{if(Js.target===Js.currentTarget)return qs&&qs(Js),Ys&&Ys(!1),!0},[qs,Ys]),Zs=$8a9cb279dc87e130$export$715c682d09d639cc(Xs),yl=reactExports.useCallback(Js=>{const $l=$431fbd86ca7dc216$export$b204af158042fbac(Js.target),El=$l?$d4ee10de306f2510$export$cd4e5573fbe2b576($l):$d4ee10de306f2510$export$cd4e5573fbe2b576();Js.target===Js.currentTarget&&El===$d4ee10de306f2510$export$e58f029f0fbfdb29(Js.nativeEvent)&&(Ws&&Ws(Js),Ys&&Ys(!0),Zs(Js))},[Ys,Ws,Zs]);return{focusProps:{onFocus:!zs&&(Ws||Ys||qs)?yl:void 0,onBlur:!zs&&(qs||Ys)?Xs:void 0}}}function $9ab94262bd0047c7$export$420e68273165f4ec(at){let{isDisabled:zs,onBlurWithin:Ws,onFocusWithin:qs,onFocusWithinChange:Ys}=at,Xs=reactExports.useRef({isFocusWithin:!1}),{addGlobalListener:Zs,removeAllGlobalListeners:yl}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),Js=reactExports.useCallback(wl=>{wl.currentTarget.contains(wl.target)&&Xs.current.isFocusWithin&&!wl.currentTarget.contains(wl.relatedTarget)&&(Xs.current.isFocusWithin=!1,yl(),Ws&&Ws(wl),Ys&&Ys(!1))},[Ws,Ys,Xs,yl]),$l=$8a9cb279dc87e130$export$715c682d09d639cc(Js),El=reactExports.useCallback(wl=>{if(!wl.currentTarget.contains(wl.target))return;const _l=$431fbd86ca7dc216$export$b204af158042fbac(wl.target),Sl=$d4ee10de306f2510$export$cd4e5573fbe2b576(_l);if(!Xs.current.isFocusWithin&&Sl===$d4ee10de306f2510$export$e58f029f0fbfdb29(wl.nativeEvent)){qs&&qs(wl),Ys&&Ys(!0),Xs.current.isFocusWithin=!0,$l(wl);let Tl=wl.currentTarget;Zs(_l,"focus",Il=>{if(Xs.current.isFocusWithin&&!$d4ee10de306f2510$export$4282f70798064fe0(Tl,Il.target)){let Al=new _l.defaultView.FocusEvent("blur",{relatedTarget:Il.target});$8a9cb279dc87e130$export$c2b7abe5d61ec696(Al,Tl);let xl=$8a9cb279dc87e130$export$525bc4921d56d4a(Al);Js(xl)}},{capture:!0})}},[qs,Ys,$l,Zs,Js]);return zs?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:El,onBlur:Js}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(at){at.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return $6179b936705e76d3$var$hoverCount===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent)}}function $6179b936705e76d3$export$ae780daf29e6d456(at){let{onHoverStart:zs,onHoverChange:Ws,onHoverEnd:qs,isDisabled:Ys}=at,[Xs,Zs]=reactExports.useState(!1),yl=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{addGlobalListener:Js,removeAllGlobalListeners:$l}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),{hoverProps:El,triggerHoverEnd:wl}=reactExports.useMemo(()=>{let _l=(Il,Al)=>{if(yl.pointerType=Al,Ys||Al==="touch"||yl.isHovered||!Il.currentTarget.contains(Il.target))return;yl.isHovered=!0;let xl=Il.currentTarget;yl.target=xl,Js($431fbd86ca7dc216$export$b204af158042fbac(Il.target),"pointerover",Pl=>{yl.isHovered&&yl.target&&!$d4ee10de306f2510$export$4282f70798064fe0(yl.target,Pl.target)&&Sl(Pl,Pl.pointerType)},{capture:!0}),zs&&zs({type:"hoverstart",target:xl,pointerType:Al}),Ws&&Ws(!0),Zs(!0)},Sl=(Il,Al)=>{let xl=yl.target;yl.pointerType="",yl.target=null,!(Al==="touch"||!yl.isHovered||!xl)&&(yl.isHovered=!1,$l(),qs&&qs({type:"hoverend",target:xl,pointerType:Al}),Ws&&Ws(!1),Zs(!1))},Tl={};return typeof PointerEvent<"u"&&(Tl.onPointerEnter=Il=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Il.pointerType==="mouse"||_l(Il,Il.pointerType)},Tl.onPointerLeave=Il=>{!Ys&&Il.currentTarget.contains(Il.target)&&Sl(Il,Il.pointerType)}),{hoverProps:Tl,triggerHoverEnd:Sl}},[zs,Ws,qs,Ys,yl,Js,$l]);return reactExports.useEffect(()=>{Ys&&wl({currentTarget:yl.target},yl.pointerType)},[Ys]),{hoverProps:El,isHovered:Xs}}function $f7dceffc5ad7768b$export$4e328f61c538687f(at={}){let{autoFocus:zs=!1,isTextInput:Ws,within:qs}=at,Ys=reactExports.useRef({isFocused:!1,isFocusVisible:zs||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[Xs,Zs]=reactExports.useState(!1),[yl,Js]=reactExports.useState(()=>Ys.current.isFocused&&Ys.current.isFocusVisible),$l=reactExports.useCallback(()=>Js(Ys.current.isFocused&&Ys.current.isFocusVisible),[]),El=reactExports.useCallback(Sl=>{Ys.current.isFocused=Sl,Zs(Sl),$l()},[$l]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(Sl=>{Ys.current.isFocusVisible=Sl,$l()},[],{isTextInput:Ws});let{focusProps:wl}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:qs,onFocusChange:El}),{focusWithinProps:_l}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!qs,onFocusWithinChange:El});return{isFocused:Xs,isFocusVisible:yl,focusProps:qs?_l:wl}}var i$7=Object.defineProperty,d$5=(at,zs,Ws)=>zs in at?i$7(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,r$9=(at,zs,Ws)=>(d$5(at,typeof zs!="symbol"?zs+"":zs,Ws),Ws);let o$9=class{constructor(){r$9(this,"current",this.detect()),r$9(this,"handoffState","pending"),r$9(this,"currentId",0)}set(zs){this.current!==zs&&(this.handoffState="pending",this.currentId=0,this.current=zs)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$a=new o$9;function l$6(at){var zs;return s$a.isServer?null:at==null?document:(zs=at==null?void 0:at.ownerDocument)!=null?zs:document}function r$8(at){var zs,Ws;return s$a.isServer?null:at==null?document:(Ws=(zs=at==null?void 0:at.getRootNode)==null?void 0:zs.call(at))!=null?Ws:document}function e$5(at){var zs,Ws;return(Ws=(zs=r$8(at))==null?void 0:zs.activeElement)!=null?Ws:null}function d$4(at){return e$5(at)===at}function t$4(at){typeof queueMicrotask=="function"?queueMicrotask(at):Promise.resolve().then(at).catch(zs=>setTimeout(()=>{throw zs}))}function o$8(){let at=[],zs={addEventListener(Ws,qs,Ys,Xs){return Ws.addEventListener(qs,Ys,Xs),zs.add(()=>Ws.removeEventListener(qs,Ys,Xs))},requestAnimationFrame(...Ws){let qs=requestAnimationFrame(...Ws);return zs.add(()=>cancelAnimationFrame(qs))},nextFrame(...Ws){return zs.requestAnimationFrame(()=>zs.requestAnimationFrame(...Ws))},setTimeout(...Ws){let qs=setTimeout(...Ws);return zs.add(()=>clearTimeout(qs))},microTask(...Ws){let qs={current:!0};return t$4(()=>{qs.current&&Ws[0]()}),zs.add(()=>{qs.current=!1})},style(Ws,qs,Ys){let Xs=Ws.style.getPropertyValue(qs);return Object.assign(Ws.style,{[qs]:Ys}),this.add(()=>{Object.assign(Ws.style,{[qs]:Xs})})},group(Ws){let qs=o$8();return Ws(qs),this.add(()=>qs.dispose())},add(Ws){return at.includes(Ws)||at.push(Ws),()=>{let qs=at.indexOf(Ws);if(qs>=0)for(let Ys of at.splice(qs,1))Ys()}},dispose(){for(let Ws of at.splice(0))Ws()}};return zs}function p$9(){let[at]=reactExports.useState(o$8);return reactExports.useEffect(()=>()=>at.dispose(),[at]),at}let n$7=(at,zs)=>{s$a.isServer?reactExports.useEffect(at,zs):reactExports.useLayoutEffect(at,zs)};function s$9(at){let zs=reactExports.useRef(at);return n$7(()=>{zs.current=at},[at]),zs}let o$7=function(at){let zs=s$9(at);return React$1.useCallback((...Ws)=>zs.current(...Ws),[zs])};function E$6(at){let zs=at.width/2,Ws=at.height/2;return{top:at.clientY-Ws,right:at.clientX+zs,bottom:at.clientY+Ws,left:at.clientX-zs}}function P$8(at,zs){return!(!at||!zs||at.right<zs.left||at.left>zs.right||at.bottom<zs.top||at.top>zs.bottom)}function w$6({disabled:at=!1}={}){let zs=reactExports.useRef(null),[Ws,qs]=reactExports.useState(!1),Ys=p$9(),Xs=o$7(()=>{zs.current=null,qs(!1),Ys.dispose()}),Zs=o$7(yl=>{if(Ys.dispose(),zs.current===null){zs.current=yl.currentTarget,qs(!0);{let Js=l$6(yl.currentTarget);Ys.addEventListener(Js,"pointerup",Xs,!1),Ys.addEventListener(Js,"pointermove",$l=>{if(zs.current){let El=E$6($l);qs(P$8(El,zs.current.getBoundingClientRect()))}},!1),Ys.addEventListener(Js,"pointercancel",Xs,!1)}}});return{pressed:Ws,pressProps:at?{}:{onPointerDown:Zs,onPointerUp:Xs,onClick:Xs}}}function n$6(at){return reactExports.useMemo(()=>at,Object.values(at))}let e$4=reactExports.createContext(void 0);function a$c(){return reactExports.useContext(e$4)}function t$3(...at){return Array.from(new Set(at.flatMap(zs=>typeof zs=="string"?zs.split(" "):[]))).filter(Boolean).join(" ")}function u$d(at,zs,...Ws){if(at in zs){let Ys=zs[at];return typeof Ys=="function"?Ys(...Ws):Ys}let qs=new Error(`Tried to handle "${at}" but there is no handler defined. Only defined handlers are: ${Object.keys(zs).map(Ys=>`"${Ys}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(qs,u$d),qs}var A$4=(at=>(at[at.None=0]="None",at[at.RenderStrategy=1]="RenderStrategy",at[at.Static=2]="Static",at))(A$4||{}),C$8=(at=>(at[at.Unmount=0]="Unmount",at[at.Hidden=1]="Hidden",at))(C$8||{});function K$6(){let at=$$3();return reactExports.useCallback(zs=>U$3({mergeRefs:at,...zs}),[at])}function U$3({ourProps:at,theirProps:zs,slot:Ws,defaultTag:qs,features:Ys,visible:Xs=!0,name:Zs,mergeRefs:yl}){yl=yl??I$5;let Js=P$7(zs,at);if(Xs)return F$3(Js,Ws,qs,Zs,yl);let $l=Ys??0;if($l&2){let{static:El=!1,...wl}=Js;if(El)return F$3(wl,Ws,qs,Zs,yl)}if($l&1){let{unmount:El=!0,...wl}=Js;return u$d(El?0:1,{0(){return null},1(){return F$3({...wl,hidden:!0,style:{display:"none"}},Ws,qs,Zs,yl)}})}return F$3(Js,Ws,qs,Zs,yl)}function F$3(at,zs={},Ws,qs,Ys){let{as:Xs=Ws,children:Zs,refName:yl="ref",...Js}=h$9(at,["unmount","static"]),$l=at.ref!==void 0?{[yl]:at.ref}:{},El=typeof Zs=="function"?Zs(zs):Zs;"className"in Js&&Js.className&&typeof Js.className=="function"&&(Js.className=Js.className(zs)),Js["aria-labelledby"]&&Js["aria-labelledby"]===Js.id&&(Js["aria-labelledby"]=void 0);let wl={};if(zs){let _l=!1,Sl=[];for(let[Tl,Il]of Object.entries(zs))typeof Il=="boolean"&&(_l=!0),Il===!0&&Sl.push(Tl.replace(/([A-Z])/g,Al=>`-${Al.toLowerCase()}`));if(_l){wl["data-headlessui-state"]=Sl.join(" ");for(let Tl of Sl)wl[`data-${Tl}`]=""}}if(b$7(Xs)&&(Object.keys(m$7(Js)).length>0||Object.keys(m$7(wl)).length>0))if(!reactExports.isValidElement(El)||Array.isArray(El)&&El.length>1||D$5(El)){if(Object.keys(m$7(Js)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${qs} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$7(Js)).concat(Object.keys(m$7(wl))).map(_l=>`  - ${_l}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_l=>`  - ${_l}`).join(`
`)].join(`
`))}else{let _l=El.props,Sl=_l==null?void 0:_l.className,Tl=typeof Sl=="function"?(...xl)=>t$3(Sl(...xl),Js.className):t$3(Sl,Js.className),Il=Tl?{className:Tl}:{},Al=P$7(El.props,m$7(h$9(Js,["ref"])));for(let xl in wl)xl in Al&&delete wl[xl];return reactExports.cloneElement(El,Object.assign({},Al,wl,$l,{ref:Ys(H$5(El),$l.ref)},Il))}return reactExports.createElement(Xs,Object.assign({},h$9(Js,["ref"]),!b$7(Xs)&&$l,!b$7(Xs)&&wl),El)}function $$3(){let at=reactExports.useRef([]),zs=reactExports.useCallback(Ws=>{for(let qs of at.current)qs!=null&&(typeof qs=="function"?qs(Ws):qs.current=Ws)},[]);return(...Ws)=>{if(!Ws.every(qs=>qs==null))return at.current=Ws,zs}}function I$5(...at){return at.every(zs=>zs==null)?void 0:zs=>{for(let Ws of at)Ws!=null&&(typeof Ws=="function"?Ws(zs):Ws.current=zs)}}function P$7(...at){if(at.length===0)return{};if(at.length===1)return at[0];let zs={},Ws={};for(let qs of at)for(let Ys in qs)Ys.startsWith("on")&&typeof qs[Ys]=="function"?(Ws[Ys]!=null||(Ws[Ys]=[]),Ws[Ys].push(qs[Ys])):zs[Ys]=qs[Ys];if(zs.disabled||zs["aria-disabled"])for(let qs in Ws)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(qs)&&(Ws[qs]=[Ys=>{var Xs;return(Xs=Ys==null?void 0:Ys.preventDefault)==null?void 0:Xs.call(Ys)}]);for(let qs in Ws)Object.assign(zs,{[qs](Ys,...Xs){let Zs=Ws[qs];for(let yl of Zs){if((Ys instanceof Event||(Ys==null?void 0:Ys.nativeEvent)instanceof Event)&&Ys.defaultPrevented)return;yl(Ys,...Xs)}}});return zs}function V$5(...at){if(at.length===0)return{};if(at.length===1)return at[0];let zs={},Ws={};for(let qs of at)for(let Ys in qs)Ys.startsWith("on")&&typeof qs[Ys]=="function"?(Ws[Ys]!=null||(Ws[Ys]=[]),Ws[Ys].push(qs[Ys])):zs[Ys]=qs[Ys];for(let qs in Ws)Object.assign(zs,{[qs](...Ys){let Xs=Ws[qs];for(let Zs of Xs)Zs==null||Zs(...Ys)}});return zs}function Y$2(at){var zs;return Object.assign(reactExports.forwardRef(at),{displayName:(zs=at.displayName)!=null?zs:at.name})}function m$7(at){let zs=Object.assign({},at);for(let Ws in zs)zs[Ws]===void 0&&delete zs[Ws];return zs}function h$9(at,zs=[]){let Ws=Object.assign({},at);for(let qs of zs)qs in Ws&&delete Ws[qs];return Ws}function H$5(at){return React$1.version.split(".")[0]>="19"?at.props.ref:at.ref}function b$7(at){return at===reactExports.Fragment||at===Symbol.for("react.fragment")}function D$5(at){return b$7(at.type)}function b$6(at,zs,Ws){let[qs,Ys]=reactExports.useState(Ws),Xs=at!==void 0,Zs=reactExports.useRef(Xs),yl=reactExports.useRef(!1),Js=reactExports.useRef(!1);return Xs&&!Zs.current&&!yl.current?(yl.current=!0,Zs.current=Xs,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!Xs&&Zs.current&&!Js.current&&(Js.current=!0,Zs.current=Xs,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[Xs?at:qs,o$7($l=>(Xs||reactDomExports.flushSync(()=>Ys($l)),zs==null?void 0:zs($l)))]}function l$5(at){let[zs]=reactExports.useState(at);return zs}function p$8(at={},zs=null,Ws=[]){for(let[qs,Ys]of Object.entries(at))s$8(Ws,r$7(zs,qs),Ys);return Ws}function r$7(at,zs){return at?at+"["+zs+"]":zs}function s$8(at,zs,Ws){if(Array.isArray(Ws))for(let[qs,Ys]of Ws.entries())s$8(at,r$7(zs,qs.toString()),Ys);else Ws instanceof Date?at.push([zs,Ws.toISOString()]):typeof Ws=="boolean"?at.push([zs,Ws?"1":"0"]):typeof Ws=="string"?at.push([zs,Ws]):typeof Ws=="number"?at.push([zs,`${Ws}`]):Ws==null?at.push([zs,""]):c$d(Ws)&&!reactExports.isValidElement(Ws)&&p$8(Ws,zs,at)}function g$3(at){var zs,Ws;let qs=(zs=at==null?void 0:at.form)!=null?zs:at.closest("form");if(qs){for(let Ys of qs.elements)if(Ys!==at&&(Ys.tagName==="INPUT"&&Ys.type==="submit"||Ys.tagName==="BUTTON"&&Ys.type==="submit"||Ys.nodeName==="INPUT"&&Ys.type==="image")){Ys.click();return}(Ws=qs.requestSubmit)==null||Ws.call(qs)}}function c$d(at){if(Object.prototype.toString.call(at)!=="[object Object]")return!1;let zs=Object.getPrototypeOf(at);return zs===null||Object.getPrototypeOf(zs)===null}let a$b="span";var s$7=(at=>(at[at.None=1]="None",at[at.Focusable=2]="Focusable",at[at.Hidden=4]="Hidden",at))(s$7||{});function l$4(at,zs){var Ws;let{features:qs=1,...Ys}=at,Xs={ref:zs,"aria-hidden":(qs&2)===2?!0:(Ws=Ys["aria-hidden"])!=null?Ws:void 0,hidden:(qs&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(qs&4)===4&&(qs&2)!==2&&{display:"none"}}};return K$6()({ourProps:Xs,theirProps:Ys,slot:{},defaultTag:a$b,name:"Hidden"})}let f$c=Y$2(l$4),f$b=reactExports.createContext(null);function c$c({children:at}){let zs=reactExports.useContext(f$b);if(!zs)return React$1.createElement(React$1.Fragment,null,at);let{target:Ws}=zs;return Ws?reactDomExports.createPortal(React$1.createElement(React$1.Fragment,null,at),Ws):null}function j$7({data:at,form:zs,disabled:Ws,onReset:qs,overrides:Ys}){let[Xs,Zs]=reactExports.useState(null),yl=p$9();return reactExports.useEffect(()=>{if(qs&&Xs)return yl.addEventListener(Xs,"reset",qs)},[Xs,zs,qs]),React$1.createElement(c$c,null,React$1.createElement(C$7,{setForm:Zs,formId:zs}),p$8(at).map(([Js,$l])=>React$1.createElement(f$c,{features:s$7.Hidden,...m$7({key:Js,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:zs,disabled:Ws,name:Js,value:$l,...Ys})})))}function C$7({setForm:at,formId:zs}){return reactExports.useEffect(()=>{if(zs){let Ws=document.getElementById(zs);Ws&&at(Ws)}},[at,zs]),zs?null:React$1.createElement(f$c,{features:s$7.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:Ws=>{if(!Ws)return;let qs=Ws.closest("form");qs&&at(qs)}})}let e$3=reactExports.createContext(void 0);function u$c(){return reactExports.useContext(e$3)}function o$6(at){return typeof at!="object"||at===null?!1:"nodeType"in at}function t$2(at){return o$6(at)&&"tagName"in at}function n$5(at){return t$2(at)&&"accessKey"in at}function i$6(at){return t$2(at)&&"tabIndex"in at}function r$6(at){return t$2(at)&&"style"in at}function u$b(at){return n$5(at)&&at.nodeName==="IFRAME"}function l$3(at){return n$5(at)&&at.nodeName==="INPUT"}function m$6(at){return n$5(at)&&at.nodeName==="LABEL"}function a$a(at){return n$5(at)&&at.nodeName==="FIELDSET"}function E$5(at){return n$5(at)&&at.nodeName==="LEGEND"}function L$3(at){return t$2(at)?at.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function s$6(at){let zs=at.parentElement,Ws=null;for(;zs&&!a$a(zs);)E$5(zs)&&(Ws=zs),zs=zs.parentElement;let qs=(zs==null?void 0:zs.getAttribute("disabled"))==="";return qs&&r$5(Ws)?!1:qs}function r$5(at){if(!at)return!1;let zs=at.previousElementSibling;for(;zs!==null;){if(E$5(zs))return!1;zs=zs.previousElementSibling}return!0}let u$a=Symbol();function T$6(at,zs=!0){return Object.assign(at,{[u$a]:zs})}function y$7(...at){let zs=reactExports.useRef(at);reactExports.useEffect(()=>{zs.current=at},[at]);let Ws=o$7(qs=>{for(let Ys of zs.current)Ys!=null&&(typeof Ys=="function"?Ys(qs):Ys.current=qs)});return at.every(qs=>qs==null||(qs==null?void 0:qs[u$a]))?void 0:Ws}let a$9=reactExports.createContext(null);a$9.displayName="DescriptionContext";function f$a(){let at=reactExports.useContext(a$9);if(at===null){let zs=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(zs,f$a),zs}return at}function w$5(){var at,zs;return(zs=(at=reactExports.useContext(a$9))==null?void 0:at.value)!=null?zs:void 0}let I$4="p";function C$6(at,zs){let Ws=reactExports.useId(),qs=a$c(),{id:Ys=`headlessui-description-${Ws}`,...Xs}=at,Zs=f$a(),yl=y$7(zs);n$7(()=>Zs.register(Ys),[Ys,Zs.register]);let Js=n$6({...Zs.slot,disabled:qs||!1}),$l={ref:yl,...Zs.props,id:Ys};return K$6()({ourProps:$l,theirProps:Xs,slot:Js,defaultTag:I$4,name:Zs.name||"Description"})}let _$5=Y$2(C$6);Object.assign(_$5,{});var o$5=(at=>(at.Space=" ",at.Enter="Enter",at.Escape="Escape",at.Backspace="Backspace",at.Delete="Delete",at.ArrowLeft="ArrowLeft",at.ArrowUp="ArrowUp",at.ArrowRight="ArrowRight",at.ArrowDown="ArrowDown",at.Home="Home",at.End="End",at.PageUp="PageUp",at.PageDown="PageDown",at.Tab="Tab",at))(o$5||{});let L$2=reactExports.createContext(null);L$2.displayName="LabelContext";function C$5(){let at=reactExports.useContext(L$2);if(at===null){let zs=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(zs,C$5),zs}return at}function N$6(at){var zs,Ws,qs;let Ys=(Ws=(zs=reactExports.useContext(L$2))==null?void 0:zs.value)!=null?Ws:void 0;return((qs=at==null?void 0:at.length)!=null?qs:0)>0?[Ys,...at].filter(Boolean).join(" "):Ys}function V$4({inherit:at=!1}={}){let zs=N$6(),[Ws,qs]=reactExports.useState([]),Ys=at?[zs,...Ws].filter(Boolean):Ws;return[Ys.length>0?Ys.join(" "):void 0,reactExports.useMemo(()=>function(Xs){let Zs=o$7(Js=>(qs($l=>[...$l,Js]),()=>qs($l=>{let El=$l.slice(),wl=El.indexOf(Js);return wl!==-1&&El.splice(wl,1),El}))),yl=reactExports.useMemo(()=>({register:Zs,slot:Xs.slot,name:Xs.name,props:Xs.props,value:Xs.value}),[Zs,Xs.slot,Xs.name,Xs.props,Xs.value]);return React$1.createElement(L$2.Provider,{value:yl},Xs.children)},[qs])]}let G$4="label";function U$2(at,zs){var Ws;let qs=reactExports.useId(),Ys=C$5(),Xs=u$c(),Zs=a$c(),{id:yl=`headlessui-label-${qs}`,htmlFor:Js=Xs??((Ws=Ys.props)==null?void 0:Ws.htmlFor),passive:$l=!1,...El}=at,wl=y$7(zs);n$7(()=>Ys.register(yl),[yl,Ys.register]);let _l=o$7(Il=>{let Al=Il.currentTarget;if(!(Il.target!==Il.currentTarget&&L$3(Il.target))&&(m$6(Al)&&Il.preventDefault(),Ys.props&&"onClick"in Ys.props&&typeof Ys.props.onClick=="function"&&Ys.props.onClick(Il),m$6(Al))){let xl=document.getElementById(Al.htmlFor);if(xl){let Pl=xl.getAttribute("disabled");if(Pl==="true"||Pl==="")return;let Cl=xl.getAttribute("aria-disabled");if(Cl==="true"||Cl==="")return;(l$3(xl)&&(xl.type==="file"||xl.type==="radio"||xl.type==="checkbox")||xl.role==="radio"||xl.role==="checkbox"||xl.role==="switch")&&xl.click(),xl.focus({preventScroll:!0})}}}),Sl=n$6({...Ys.slot,disabled:Zs||!1}),Tl={ref:wl,...Ys.props,id:yl,htmlFor:Js,onClick:_l};return $l&&("onClick"in Tl&&(delete Tl.htmlFor,delete Tl.onClick),"onClick"in El&&delete El.onClick),K$6()({ourProps:Tl,theirProps:El,slot:Sl,defaultTag:Js?G$4:"div",name:Ys.name||"Label"})}let j$6=Y$2(U$2),Z$1=Object.assign(j$6,{});function l$2(at,zs){return at!==null&&zs!==null&&typeof at=="object"&&typeof zs=="object"&&"id"in at&&"id"in zs?at.id===zs.id:at===zs}function u$9(at=l$2){return reactExports.useCallback((zs,Ws)=>{if(typeof at=="string"){let qs=at;return(zs==null?void 0:zs[qs])===(Ws==null?void 0:Ws[qs])}return at(zs,Ws)},[at])}function h$8(at){if(at===null)return{width:0,height:0};let{width:zs,height:Ws}=at.getBoundingClientRect();return{width:zs,height:Ws}}function w$4(at,zs,Ws=!1){let[qs,Ys]=reactExports.useState(()=>h$8(zs));return n$7(()=>{if(!zs||!at)return;let Xs=o$8();return Xs.requestAnimationFrame(function Zs(){Xs.requestAnimationFrame(Zs),Ys(yl=>{let Js=h$8(zs);return Js.width===yl.width&&Js.height===yl.height?yl:Js})}),()=>{Xs.dispose()}},[zs,at]),Ws?{width:`${qs.width}px`,height:`${qs.height}px`}:qs}var g$2=(at=>(at[at.Left=0]="Left",at[at.Right=2]="Right",at))(g$2||{});function s$5(at){let zs=reactExports.useRef(null),Ws=o$7(Ys=>{zs.current=Ys.pointerType,!s$6(Ys.currentTarget)&&Ys.pointerType==="mouse"&&Ys.button===g$2.Left&&(Ys.preventDefault(),at(Ys))}),qs=o$7(Ys=>{zs.current!=="mouse"&&(s$6(Ys.currentTarget)||at(Ys))});return{onPointerDown:Ws,onClick:qs}}let a$8=class extends Map{constructor(zs){super(),this.factory=zs}get(zs){let Ws=super.get(zs);return Ws===void 0&&(Ws=this.factory(zs),this.set(zs,Ws)),Ws}};var h$7=Object.defineProperty,v$7=(at,zs,Ws)=>zs in at?h$7(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,S$7=(at,zs,Ws)=>(v$7(at,zs+"",Ws),Ws),b$5=(at,zs,Ws)=>{if(!zs.has(at))throw TypeError("Cannot "+Ws)},i$5=(at,zs,Ws)=>(b$5(at,zs,"read from private field"),Ws?Ws.call(at):zs.get(at)),c$b=(at,zs,Ws)=>{if(zs.has(at))throw TypeError("Cannot add the same private member more than once");zs instanceof WeakSet?zs.add(at):zs.set(at,Ws)},u$8=(at,zs,Ws,qs)=>(b$5(at,zs,"write to private field"),zs.set(at,Ws),Ws),n$4,a$7,o$4;let T$5=class{constructor(zs){c$b(this,n$4,{}),c$b(this,a$7,new a$8(()=>new Set)),c$b(this,o$4,new Set),S$7(this,"disposables",o$8()),u$8(this,n$4,zs),s$a.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return i$5(this,n$4)}subscribe(zs,Ws){if(s$a.isServer)return()=>{};let qs={selector:zs,callback:Ws,current:zs(i$5(this,n$4))};return i$5(this,o$4).add(qs),this.disposables.add(()=>{i$5(this,o$4).delete(qs)})}on(zs,Ws){return s$a.isServer?()=>{}:(i$5(this,a$7).get(zs).add(Ws),this.disposables.add(()=>{i$5(this,a$7).get(zs).delete(Ws)}))}send(zs){let Ws=this.reduce(i$5(this,n$4),zs);if(Ws!==i$5(this,n$4)){u$8(this,n$4,Ws);for(let qs of i$5(this,o$4)){let Ys=qs.selector(i$5(this,n$4));j$5(qs.current,Ys)||(qs.current=Ys,qs.callback(Ys))}for(let qs of i$5(this,a$7).get(zs.type))qs(i$5(this,n$4),zs)}}};n$4=new WeakMap,a$7=new WeakMap,o$4=new WeakMap;function j$5(at,zs){return Object.is(at,zs)?!0:typeof at!="object"||at===null||typeof zs!="object"||zs===null?!1:Array.isArray(at)&&Array.isArray(zs)?at.length!==zs.length?!1:f$9(at[Symbol.iterator](),zs[Symbol.iterator]()):at instanceof Map&&zs instanceof Map||at instanceof Set&&zs instanceof Set?at.size!==zs.size?!1:f$9(at.entries(),zs.entries()):p$7(at)&&p$7(zs)?f$9(Object.entries(at)[Symbol.iterator](),Object.entries(zs)[Symbol.iterator]()):!1}function f$9(at,zs){do{let Ws=at.next(),qs=zs.next();if(Ws.done&&qs.done)return!0;if(Ws.done||qs.done||!Object.is(Ws.value,qs.value))return!1}while(!0)}function p$7(at){if(Object.prototype.toString.call(at)!=="[object Object]")return!1;let zs=Object.getPrototypeOf(at);return zs===null||Object.getPrototypeOf(zs)===null}function k$7(at){let[zs,Ws]=at(),qs=o$8();return(...Ys)=>{zs(...Ys),qs.dispose(),qs.microTask(Ws)}}var a$6=Object.defineProperty,r$4=(at,zs,Ws)=>zs in at?a$6(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,p$6=(at,zs,Ws)=>(r$4(at,typeof zs!="symbol"?zs+"":zs,Ws),Ws),k$6=(at=>(at[at.Push=0]="Push",at[at.Pop=1]="Pop",at))(k$6||{});let y$6={0(at,zs){let Ws=zs.id,qs=at.stack,Ys=at.stack.indexOf(Ws);if(Ys!==-1){let Xs=at.stack.slice();return Xs.splice(Ys,1),Xs.push(Ws),qs=Xs,{...at,stack:qs}}return{...at,stack:[...at.stack,Ws]}},1(at,zs){let Ws=zs.id,qs=at.stack.indexOf(Ws);if(qs===-1)return at;let Ys=at.stack.slice();return Ys.splice(qs,1),{...at,stack:Ys}}},o$3=class u0 extends T$5{constructor(){super(...arguments),p$6(this,"actions",{push:zs=>this.send({type:0,id:zs}),pop:zs=>this.send({type:1,id:zs})}),p$6(this,"selectors",{isTop:(zs,Ws)=>zs.stack[zs.stack.length-1]===Ws,inStack:(zs,Ws)=>zs.stack.includes(Ws)})}static new(){return new u0({stack:[]})}reduce(zs,Ws){return u$d(Ws.type,y$6,zs,Ws)}};const x$7=new a$8(()=>o$3.new());var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$1(at,zs){return at===zs&&(at!==0||1/at===1/zs)||at!==at&&zs!==zs}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(at,zs,Ws,qs,Ys){var Xs=useRef(null);if(Xs.current===null){var Zs={hasValue:!1,value:null};Xs.current=Zs}else Zs=Xs.current;Xs=useMemo(function(){function Js(Sl){if(!$l){if($l=!0,El=Sl,Sl=qs(Sl),Ys!==void 0&&Zs.hasValue){var Tl=Zs.value;if(Ys(Tl,Sl))return wl=Tl}return wl=Sl}if(Tl=wl,objectIs(El,Sl))return Tl;var Il=qs(Sl);return Ys!==void 0&&Ys(Tl,Il)?(El=Sl,Tl):(El=Sl,wl=Il)}var $l=!1,El,wl,_l=Ws===void 0?null:Ws;return[function(){return Js(zs())},_l===null?void 0:function(){return Js(_l())}]},[zs,Ws,qs,Ys]);var yl=useSyncExternalStore(at,Xs[0],Xs[1]);return useEffect(function(){Zs.hasValue=!0,Zs.value=yl},[yl]),useDebugValue(yl),yl},withSelector.exports=useSyncExternalStoreWithSelector_production;var withSelectorExports=withSelector.exports;function S$6(at,zs,Ws=j$5){return withSelectorExports.useSyncExternalStoreWithSelector(o$7(qs=>at.subscribe(s$4,qs)),o$7(()=>at.state),o$7(()=>at.state),o$7(zs),Ws)}function s$4(at){return at}function I$3(at,zs){let Ws=reactExports.useId(),qs=x$7.get(zs),[Ys,Xs]=S$6(qs,reactExports.useCallback(Zs=>[qs.selectors.isTop(Zs,Ws),qs.selectors.inStack(Zs,Ws)],[qs,Ws]));return n$7(()=>{if(at)return qs.actions.push(Ws),()=>qs.actions.pop(Ws)},[qs,at,Ws]),at?Xs?Ys:!0:!1}let f$8=new Map,u$7=new Map;function h$6(at){var zs;let Ws=(zs=u$7.get(at))!=null?zs:0;return u$7.set(at,Ws+1),Ws!==0?()=>m$5(at):(f$8.set(at,{"aria-hidden":at.getAttribute("aria-hidden"),inert:at.inert}),at.setAttribute("aria-hidden","true"),at.inert=!0,()=>m$5(at))}function m$5(at){var zs;let Ws=(zs=u$7.get(at))!=null?zs:1;if(Ws===1?u$7.delete(at):u$7.set(at,Ws-1),Ws!==1)return;let qs=f$8.get(at);qs&&(qs["aria-hidden"]===null?at.removeAttribute("aria-hidden"):at.setAttribute("aria-hidden",qs["aria-hidden"]),at.inert=qs.inert,f$8.delete(at))}function y$5(at,{allowed:zs,disallowed:Ws}={}){let qs=I$3(at,"inert-others");n$7(()=>{var Ys,Xs;if(!qs)return;let Zs=o$8();for(let Js of(Ys=Ws==null?void 0:Ws())!=null?Ys:[])Js&&Zs.add(h$6(Js));let yl=(Xs=zs==null?void 0:zs())!=null?Xs:[];for(let Js of yl){if(!Js)continue;let $l=l$6(Js);if(!$l)continue;let El=Js.parentElement;for(;El&&El!==$l.body;){for(let wl of El.children)yl.some(_l=>wl.contains(_l))||Zs.add(h$6(wl));El=El.parentElement}}return Zs.dispose},[qs,zs,Ws])}function p$5(at,zs,Ws){let qs=s$9(Ys=>{let Xs=Ys.getBoundingClientRect();Xs.x===0&&Xs.y===0&&Xs.width===0&&Xs.height===0&&Ws()});reactExports.useEffect(()=>{if(!at)return;let Ys=zs===null?null:n$5(zs)?zs:zs.current;if(!Ys)return;let Xs=o$8();if(typeof ResizeObserver<"u"){let Zs=new ResizeObserver(()=>qs.current(Ys));Zs.observe(Ys),Xs.add(()=>Zs.disconnect())}if(typeof IntersectionObserver<"u"){let Zs=new IntersectionObserver(()=>qs.current(Ys));Zs.observe(Ys),Xs.add(()=>Zs.disconnect())}return()=>Xs.dispose()},[zs,qs,at])}let E$4=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(at=>`${at}:not([tabindex='-1'])`).join(","),S$5=["[data-autofocus]"].map(at=>`${at}:not([tabindex='-1'])`).join(",");var T$4=(at=>(at[at.First=1]="First",at[at.Previous=2]="Previous",at[at.Next=4]="Next",at[at.Last=8]="Last",at[at.WrapAround=16]="WrapAround",at[at.NoScroll=32]="NoScroll",at[at.AutoFocus=64]="AutoFocus",at))(T$4||{}),A$3=(at=>(at[at.Error=0]="Error",at[at.Overflow=1]="Overflow",at[at.Success=2]="Success",at[at.Underflow=3]="Underflow",at))(A$3||{}),O$5=(at=>(at[at.Previous=-1]="Previous",at[at.Next=1]="Next",at))(O$5||{});function x$6(at=document.body){return at==null?[]:Array.from(at.querySelectorAll(E$4)).sort((zs,Ws)=>Math.sign((zs.tabIndex||Number.MAX_SAFE_INTEGER)-(Ws.tabIndex||Number.MAX_SAFE_INTEGER)))}function h$5(at=document.body){return at==null?[]:Array.from(at.querySelectorAll(S$5)).sort((zs,Ws)=>Math.sign((zs.tabIndex||Number.MAX_SAFE_INTEGER)-(Ws.tabIndex||Number.MAX_SAFE_INTEGER)))}var I$2=(at=>(at[at.Strict=0]="Strict",at[at.Loose=1]="Loose",at))(I$2||{});function H$4(at,zs=0){var Ws;return at===((Ws=l$6(at))==null?void 0:Ws.body)?!1:u$d(zs,{0(){return at.matches(E$4)},1(){let qs=at;for(;qs!==null;){if(qs.matches(E$4))return!0;qs=qs.parentElement}return!1}})}var g$1=(at=>(at[at.Keyboard=0]="Keyboard",at[at.Mouse=1]="Mouse",at))(g$1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",at=>{at.metaKey||at.altKey||at.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",at=>{at.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:at.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let _$4=["textarea","input"].join(",");function P$6(at){var zs,Ws;return(Ws=(zs=at==null?void 0:at.matches)==null?void 0:zs.call(at,_$4))!=null?Ws:!1}function G$3(at,zs=Ws=>Ws){return at.slice().sort((Ws,qs)=>{let Ys=zs(Ws),Xs=zs(qs);if(Ys===null||Xs===null)return 0;let Zs=Ys.compareDocumentPosition(Xs);return Zs&Node.DOCUMENT_POSITION_FOLLOWING?-1:Zs&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function R$4(at,zs,Ws=at===null?document.body:r$8(at)){return v$6(x$6(Ws),zs,{relativeTo:at})}function v$6(at,zs,{sorted:Ws=!0,relativeTo:qs=null,skipElements:Ys=[]}={}){let Xs=Array.isArray(at)?at.length>0?r$8(at[0]):document:r$8(at),Zs=Array.isArray(at)?Ws?G$3(at):at:zs&64?h$5(at):x$6(at);Ys.length>0&&Zs.length>1&&(Zs=Zs.filter(Sl=>!Ys.some(Tl=>Tl!=null&&"current"in Tl?(Tl==null?void 0:Tl.current)===Sl:Tl===Sl))),qs=qs??(Xs==null?void 0:Xs.activeElement);let yl=(()=>{if(zs&5)return 1;if(zs&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Js=(()=>{if(zs&1)return 0;if(zs&2)return Math.max(0,Zs.indexOf(qs))-1;if(zs&4)return Math.max(0,Zs.indexOf(qs))+1;if(zs&8)return Zs.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),$l=zs&32?{preventScroll:!0}:{},El=0,wl=Zs.length,_l;do{if(El>=wl||El+wl<=0)return 0;let Sl=Js+El;if(zs&16)Sl=(Sl+wl)%wl;else{if(Sl<0)return 3;if(Sl>=wl)return 1}_l=Zs[Sl],_l==null||_l.focus($l),El+=yl}while(_l!==e$5(_l));return zs&6&&P$6(_l)&&_l.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$4(){return/Android/gi.test(window.navigator.userAgent)}function n$3(){return t$1()||i$4()}function i$3(at,zs,Ws,qs){let Ys=s$9(Ws);reactExports.useEffect(()=>{if(!at)return;function Xs(Zs){Ys.current(Zs)}return document.addEventListener(zs,Xs,qs),()=>document.removeEventListener(zs,Xs,qs)},[at,zs,qs])}function s$3(at,zs,Ws,qs){let Ys=s$9(Ws);reactExports.useEffect(()=>{if(!at)return;function Xs(Zs){Ys.current(Zs)}return window.addEventListener(zs,Xs,qs),()=>window.removeEventListener(zs,Xs,qs)},[at,zs,qs])}const C$4=30;function k$5(at,zs,Ws){let qs=s$9(Ws),Ys=reactExports.useCallback(function(yl,Js){if(yl.defaultPrevented)return;let $l=Js(yl);if($l===null||!$l.getRootNode().contains($l)||!$l.isConnected)return;let El=function wl(_l){return typeof _l=="function"?wl(_l()):Array.isArray(_l)||_l instanceof Set?_l:[_l]}(zs);for(let wl of El)if(wl!==null&&(wl.contains($l)||yl.composed&&yl.composedPath().includes(wl)))return;return!H$4($l,I$2.Loose)&&$l.tabIndex!==-1&&yl.preventDefault(),qs.current(yl,$l)},[qs,zs]),Xs=reactExports.useRef(null);i$3(at,"pointerdown",yl=>{var Js,$l;n$3()||(Xs.current=(($l=(Js=yl.composedPath)==null?void 0:Js.call(yl))==null?void 0:$l[0])||yl.target)},!0),i$3(at,"pointerup",yl=>{if(n$3()||!Xs.current)return;let Js=Xs.current;return Xs.current=null,Ys(yl,()=>Js)},!0);let Zs=reactExports.useRef({x:0,y:0});i$3(at,"touchstart",yl=>{Zs.current.x=yl.touches[0].clientX,Zs.current.y=yl.touches[0].clientY},!0),i$3(at,"touchend",yl=>{let Js={x:yl.changedTouches[0].clientX,y:yl.changedTouches[0].clientY};if(!(Math.abs(Js.x-Zs.current.x)>=C$4||Math.abs(Js.y-Zs.current.y)>=C$4))return Ys(yl,()=>i$6(yl.target)?yl.target:null)},!0),s$3(at,"blur",yl=>Ys(yl,()=>u$b(window.document.activeElement)?window.document.activeElement:null),!0)}function u$6(...at){return reactExports.useMemo(()=>l$6(...at),[...at])}var H$3=(at=>(at[at.Ignore=0]="Ignore",at[at.Select=1]="Select",at[at.Close=2]="Close",at))(H$3||{});const S$4={Ignore:{kind:0},Select:at=>({kind:1,target:at}),Close:{kind:2}},M$7=200,f$7=5;function L$1(at,{trigger:zs,action:Ws,close:qs,select:Ys}){let Xs=reactExports.useRef(null),Zs=reactExports.useRef(null),yl=reactExports.useRef(null);i$3(at&&zs!==null,"pointerdown",Js=>{o$6(Js==null?void 0:Js.target)&&zs!=null&&zs.contains(Js.target)&&(Zs.current=Js.x,yl.current=Js.y,Xs.current=Js.timeStamp)}),i$3(at&&zs!==null,"pointerup",Js=>{var $l,El;let wl=Xs.current;if(wl===null||(Xs.current=null,!i$6(Js.target))||Math.abs(Js.x-(($l=Zs.current)!=null?$l:Js.x))<f$7&&Math.abs(Js.y-((El=yl.current)!=null?El:Js.y))<f$7)return;let _l=Ws(Js);switch(_l.kind){case 0:return;case 1:{Js.timeStamp-wl>M$7&&(Ys(_l.target),qs());break}case 2:{qs();break}}},{capture:!0})}function e$2(at,zs){return reactExports.useMemo(()=>{var Ws;if(at.type)return at.type;let qs=(Ws=at.as)!=null?Ws:"button";if(typeof qs=="string"&&qs.toLowerCase()==="button"||(zs==null?void 0:zs.tagName)==="BUTTON"&&!zs.hasAttribute("type"))return"button"},[at.type,at.as,zs])}function o$2(at){return reactExports.useSyncExternalStore(at.subscribe,at.getSnapshot,at.getSnapshot)}function a$5(at,zs){let Ws=at(),qs=new Set;return{getSnapshot(){return Ws},subscribe(Ys){return qs.add(Ys),()=>qs.delete(Ys)},dispatch(Ys,...Xs){let Zs=zs[Ys].call(Ws,...Xs);Zs&&(Ws=Zs,qs.forEach(yl=>yl()))}}}function d$3(){let at;return{before({doc:zs}){var Ws;let qs=zs.documentElement,Ys=(Ws=zs.defaultView)!=null?Ws:window;at=Math.max(0,Ys.innerWidth-qs.clientWidth)},after({doc:zs,d:Ws}){let qs=zs.documentElement,Ys=Math.max(0,qs.clientWidth-qs.offsetWidth),Xs=Math.max(0,at-Ys);Ws.style(qs,"paddingRight",`${Xs}px`)}}}function w$3(){return t$1()?{before({doc:at,d:zs,meta:Ws}){function qs(Ys){for(let Xs of Ws().containers)for(let Zs of Xs())if(Zs.contains(Ys))return!0;return!1}zs.microTask(()=>{var Ys;if(window.getComputedStyle(at.documentElement).scrollBehavior!=="auto"){let yl=o$8();yl.style(at.documentElement,"scrollBehavior","auto"),zs.add(()=>zs.microTask(()=>yl.dispose()))}let Xs=(Ys=window.scrollY)!=null?Ys:window.pageYOffset,Zs=null;zs.addEventListener(at,"click",yl=>{if(i$6(yl.target))try{let Js=yl.target.closest("a");if(!Js)return;let{hash:$l}=new URL(Js.href),El=at.querySelector($l);i$6(El)&&!qs(El)&&(Zs=El)}catch{}},!0),zs.group(yl=>{zs.addEventListener(at,"touchstart",Js=>{if(yl.dispose(),i$6(Js.target)&&r$6(Js.target))if(qs(Js.target)){let $l=Js.target;for(;$l.parentElement&&qs($l.parentElement);)$l=$l.parentElement;yl.style($l,"overscrollBehavior","contain")}else yl.style(Js.target,"touchAction","none")})}),zs.addEventListener(at,"touchmove",yl=>{if(i$6(yl.target)){if(l$3(yl.target))return;if(qs(yl.target)){let Js=yl.target;for(;Js.parentElement&&Js.dataset.headlessuiPortal!==""&&!(Js.scrollHeight>Js.clientHeight||Js.scrollWidth>Js.clientWidth);)Js=Js.parentElement;Js.dataset.headlessuiPortal===""&&yl.preventDefault()}else yl.preventDefault()}},{passive:!1}),zs.add(()=>{var yl;let Js=(yl=window.scrollY)!=null?yl:window.pageYOffset;Xs!==Js&&window.scrollTo(0,Xs),Zs&&Zs.isConnected&&(Zs.scrollIntoView({block:"nearest"}),Zs=null)})})}}:{}}function r$3(){return{before({doc:at,d:zs}){zs.style(at.documentElement,"overflow","hidden")}}}function r$2(at){let zs={};for(let Ws of at)Object.assign(zs,Ws(zs));return zs}let c$a=a$5(()=>new Map,{PUSH(at,zs){var Ws;let qs=(Ws=this.get(at))!=null?Ws:{doc:at,count:0,d:o$8(),meta:new Set,computedMeta:{}};return qs.count++,qs.meta.add(zs),qs.computedMeta=r$2(qs.meta),this.set(at,qs),this},POP(at,zs){let Ws=this.get(at);return Ws&&(Ws.count--,Ws.meta.delete(zs),Ws.computedMeta=r$2(Ws.meta)),this},SCROLL_PREVENT(at){let zs={doc:at.doc,d:at.d,meta(){return at.computedMeta}},Ws=[w$3(),d$3(),r$3()];Ws.forEach(({before:qs})=>qs==null?void 0:qs(zs)),Ws.forEach(({after:qs})=>qs==null?void 0:qs(zs))},SCROLL_ALLOW({d:at}){at.dispose()},TEARDOWN({doc:at}){this.delete(at)}});c$a.subscribe(()=>{let at=c$a.getSnapshot(),zs=new Map;for(let[Ws]of at)zs.set(Ws,Ws.documentElement.style.overflow);for(let Ws of at.values()){let qs=zs.get(Ws.doc)==="hidden",Ys=Ws.count!==0;(Ys&&!qs||!Ys&&qs)&&c$a.dispatch(Ws.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",Ws),Ws.count===0&&c$a.dispatch("TEARDOWN",Ws)}});function a$4(at,zs,Ws=()=>({containers:[]})){let qs=o$2(c$a),Ys=zs?qs.get(zs):void 0,Xs=Ys?Ys.count>0:!1;return n$7(()=>{if(!(!zs||!at))return c$a.dispatch("PUSH",zs,Ws),()=>c$a.dispatch("POP",zs,Ws)},[at,zs]),Xs}function f$6(at,zs,Ws=()=>[document.body]){let qs=I$3(at,"scroll-lock");a$4(qs,zs,Ys=>{var Xs;return{containers:[...(Xs=Ys.containers)!=null?Xs:[],Ws]}})}function t(at){return[at.screenX,at.screenY]}function u$5(){let at=reactExports.useRef([-1,-1]);return{wasMoved(zs){let Ws=t(zs);return at.current[0]===Ws[0]&&at.current[1]===Ws[1]?!1:(at.current=Ws,!0)},update(zs){at.current=t(zs)}}}function c$9(at=0){let[zs,Ws]=reactExports.useState(at),qs=reactExports.useCallback(Js=>Ws(Js),[]),Ys=reactExports.useCallback(Js=>Ws($l=>$l|Js),[]),Xs=reactExports.useCallback(Js=>(zs&Js)===Js,[zs]),Zs=reactExports.useCallback(Js=>Ws($l=>$l&~Js),[]),yl=reactExports.useCallback(Js=>Ws($l=>$l^Js),[]);return{flags:zs,setFlag:qs,addFlag:Ys,hasFlag:Xs,removeFlag:Zs,toggleFlag:yl}}var define_process_env_default$3={},T$3,S$3;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T$3=process==null?void 0:define_process_env_default$3)==null?void 0:T$3.NODE_ENV)==="test"&&typeof((S$3=Element==null?void 0:Element.prototype)==null?void 0:S$3.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var A$2=(at=>(at[at.None=0]="None",at[at.Closed=1]="Closed",at[at.Enter=2]="Enter",at[at.Leave=4]="Leave",at))(A$2||{});function x$5(at){let zs={};for(let Ws in at)at[Ws]===!0&&(zs[`data-${Ws}`]="");return zs}function N$5(at,zs,Ws,qs){let[Ys,Xs]=reactExports.useState(Ws),{hasFlag:Zs,addFlag:yl,removeFlag:Js}=c$9(at&&Ys?3:0),$l=reactExports.useRef(!1),El=reactExports.useRef(!1),wl=p$9();return n$7(()=>{var _l;if(at){if(Ws&&Xs(!0),!zs){Ws&&yl(3);return}return(_l=qs==null?void 0:qs.start)==null||_l.call(qs,Ws),C$3(zs,{inFlight:$l,prepare(){El.current?El.current=!1:El.current=$l.current,$l.current=!0,!El.current&&(Ws?(yl(3),Js(4)):(yl(4),Js(2)))},run(){El.current?Ws?(Js(3),yl(4)):(Js(4),yl(3)):Ws?Js(1):yl(1)},done(){var Sl;El.current&&D$4(zs)||($l.current=!1,Js(7),Ws||Xs(!1),(Sl=qs==null?void 0:qs.end)==null||Sl.call(qs,Ws))}})}},[at,Ws,zs,wl]),at?[Ys,{closed:Zs(1),enter:Zs(2),leave:Zs(4),transition:Zs(2)||Zs(4)}]:[Ws,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C$3(at,{prepare:zs,run:Ws,done:qs,inFlight:Ys}){let Xs=o$8();return j$4(at,{prepare:zs,inFlight:Ys}),Xs.nextFrame(()=>{Ws(),Xs.requestAnimationFrame(()=>{Xs.add(M$6(at,qs))})}),Xs.dispose}function M$6(at,zs){var Ws,qs;let Ys=o$8();if(!at)return Ys.dispose;let Xs=!1;Ys.add(()=>{Xs=!0});let Zs=(qs=(Ws=at.getAnimations)==null?void 0:Ws.call(at).filter(yl=>yl instanceof CSSTransition))!=null?qs:[];return Zs.length===0?(zs(),Ys.dispose):(Promise.allSettled(Zs.map(yl=>yl.finished)).then(()=>{Xs||zs()}),Ys.dispose)}function j$4(at,{inFlight:zs,prepare:Ws}){if(zs!=null&&zs.current){Ws();return}let qs=at.style.transition;at.style.transition="none",Ws(),at.offsetHeight,at.style.transition=qs}function D$4(at){var zs,Ws;return((Ws=(zs=at.getAnimations)==null?void 0:zs.call(at))!=null?Ws:[]).some(qs=>qs instanceof CSSTransition&&qs.playState!=="finished")}function hasWindow(){return typeof window<"u"}function getNodeName(at){return isNode(at)?(at.nodeName||"").toLowerCase():"#document"}function getWindow(at){var zs;return(at==null||(zs=at.ownerDocument)==null?void 0:zs.defaultView)||window}function getDocumentElement(at){var zs;return(zs=(isNode(at)?at.ownerDocument:at.document)||window.document)==null?void 0:zs.documentElement}function isNode(at){return hasWindow()?at instanceof Node||at instanceof getWindow(at).Node:!1}function isElement(at){return hasWindow()?at instanceof Element||at instanceof getWindow(at).Element:!1}function isHTMLElement(at){return hasWindow()?at instanceof HTMLElement||at instanceof getWindow(at).HTMLElement:!1}function isShadowRoot(at){return!hasWindow()||typeof ShadowRoot>"u"?!1:at instanceof ShadowRoot||at instanceof getWindow(at).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(at){const{overflow:zs,overflowX:Ws,overflowY:qs,display:Ys}=getComputedStyle$1(at);return/auto|scroll|overlay|hidden|clip/.test(zs+qs+Ws)&&!invalidOverflowDisplayValues.has(Ys)}const tableElements=new Set(["table","td","th"]);function isTableElement(at){return tableElements.has(getNodeName(at))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(at){return topLayerSelectors.some(zs=>{try{return at.matches(zs)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(at){const zs=isWebKit(),Ws=isElement(at)?getComputedStyle$1(at):at;return transformProperties.some(qs=>Ws[qs]?Ws[qs]!=="none":!1)||(Ws.containerType?Ws.containerType!=="normal":!1)||!zs&&(Ws.backdropFilter?Ws.backdropFilter!=="none":!1)||!zs&&(Ws.filter?Ws.filter!=="none":!1)||willChangeValues.some(qs=>(Ws.willChange||"").includes(qs))||containValues.some(qs=>(Ws.contain||"").includes(qs))}function getContainingBlock(at){let zs=getParentNode(at);for(;isHTMLElement(zs)&&!isLastTraversableNode(zs);){if(isContainingBlock(zs))return zs;if(isTopLayer(zs))return null;zs=getParentNode(zs)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(at){return lastTraversableNodeNames.has(getNodeName(at))}function getComputedStyle$1(at){return getWindow(at).getComputedStyle(at)}function getNodeScroll(at){return isElement(at)?{scrollLeft:at.scrollLeft,scrollTop:at.scrollTop}:{scrollLeft:at.scrollX,scrollTop:at.scrollY}}function getParentNode(at){if(getNodeName(at)==="html")return at;const zs=at.assignedSlot||at.parentNode||isShadowRoot(at)&&at.host||getDocumentElement(at);return isShadowRoot(zs)?zs.host:zs}function getNearestOverflowAncestor(at){const zs=getParentNode(at);return isLastTraversableNode(zs)?at.ownerDocument?at.ownerDocument.body:at.body:isHTMLElement(zs)&&isOverflowElement(zs)?zs:getNearestOverflowAncestor(zs)}function getOverflowAncestors(at,zs,Ws){var qs;zs===void 0&&(zs=[]),Ws===void 0&&(Ws=!0);const Ys=getNearestOverflowAncestor(at),Xs=Ys===((qs=at.ownerDocument)==null?void 0:qs.body),Zs=getWindow(Ys);if(Xs){const yl=getFrameElement(Zs);return zs.concat(Zs,Zs.visualViewport||[],isOverflowElement(Ys)?Ys:[],yl&&Ws?getOverflowAncestors(yl):[])}return zs.concat(Ys,getOverflowAncestors(Ys,[],Ws))}function getFrameElement(at){return at.parent&&Object.getPrototypeOf(at.parent)?at.frameElement:null}function getUserAgent(){const at=navigator.userAgentData;return at&&Array.isArray(at.brands)?at.brands.map(zs=>{let{brand:Ws,version:qs}=zs;return Ws+"/"+qs}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=at=>({x:at,y:at}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(at,zs,Ws){return max(at,min(zs,Ws))}function evaluate(at,zs){return typeof at=="function"?at(zs):at}function getSide(at){return at.split("-")[0]}function getAlignment(at){return at.split("-")[1]}function getOppositeAxis(at){return at==="x"?"y":"x"}function getAxisLength(at){return at==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(at){return yAxisSides.has(getSide(at))?"y":"x"}function getAlignmentAxis(at){return getOppositeAxis(getSideAxis(at))}function getAlignmentSides(at,zs,Ws){Ws===void 0&&(Ws=!1);const qs=getAlignment(at),Ys=getAlignmentAxis(at),Xs=getAxisLength(Ys);let Zs=Ys==="x"?qs===(Ws?"end":"start")?"right":"left":qs==="start"?"bottom":"top";return zs.reference[Xs]>zs.floating[Xs]&&(Zs=getOppositePlacement(Zs)),[Zs,getOppositePlacement(Zs)]}function getExpandedPlacements(at){const zs=getOppositePlacement(at);return[getOppositeAlignmentPlacement(at),zs,getOppositeAlignmentPlacement(zs)]}function getOppositeAlignmentPlacement(at){return at.replace(/start|end/g,zs=>oppositeAlignmentMap[zs])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(at,zs,Ws){switch(at){case"top":case"bottom":return Ws?zs?rlPlacement:lrPlacement:zs?lrPlacement:rlPlacement;case"left":case"right":return zs?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(at,zs,Ws,qs){const Ys=getAlignment(at);let Xs=getSideList(getSide(at),Ws==="start",qs);return Ys&&(Xs=Xs.map(Zs=>Zs+"-"+Ys),zs&&(Xs=Xs.concat(Xs.map(getOppositeAlignmentPlacement)))),Xs}function getOppositePlacement(at){return at.replace(/left|right|bottom|top/g,zs=>oppositeSideMap[zs])}function expandPaddingObject(at){return{top:0,right:0,bottom:0,left:0,...at}}function getPaddingObject(at){return typeof at!="number"?expandPaddingObject(at):{top:at,right:at,bottom:at,left:at}}function rectToClientRect(at){const{x:zs,y:Ws,width:qs,height:Ys}=at;return{width:qs,height:Ys,top:Ws,left:zs,right:zs+qs,bottom:Ws+Ys,x:zs,y:Ws}}function computeCoordsFromPlacement(at,zs,Ws){let{reference:qs,floating:Ys}=at;const Xs=getSideAxis(zs),Zs=getAlignmentAxis(zs),yl=getAxisLength(Zs),Js=getSide(zs),$l=Xs==="y",El=qs.x+qs.width/2-Ys.width/2,wl=qs.y+qs.height/2-Ys.height/2,_l=qs[yl]/2-Ys[yl]/2;let Sl;switch(Js){case"top":Sl={x:El,y:qs.y-Ys.height};break;case"bottom":Sl={x:El,y:qs.y+qs.height};break;case"right":Sl={x:qs.x+qs.width,y:wl};break;case"left":Sl={x:qs.x-Ys.width,y:wl};break;default:Sl={x:qs.x,y:qs.y}}switch(getAlignment(zs)){case"start":Sl[Zs]-=_l*(Ws&&$l?-1:1);break;case"end":Sl[Zs]+=_l*(Ws&&$l?-1:1);break}return Sl}const computePosition$1=async(at,zs,Ws)=>{const{placement:qs="bottom",strategy:Ys="absolute",middleware:Xs=[],platform:Zs}=Ws,yl=Xs.filter(Boolean),Js=await(Zs.isRTL==null?void 0:Zs.isRTL(zs));let $l=await Zs.getElementRects({reference:at,floating:zs,strategy:Ys}),{x:El,y:wl}=computeCoordsFromPlacement($l,qs,Js),_l=qs,Sl={},Tl=0;for(let Il=0;Il<yl.length;Il++){const{name:Al,fn:xl}=yl[Il],{x:Pl,y:Cl,data:Rl,reset:Ol}=await xl({x:El,y:wl,initialPlacement:qs,placement:_l,strategy:Ys,middlewareData:Sl,rects:$l,platform:Zs,elements:{reference:at,floating:zs}});El=Pl??El,wl=Cl??wl,Sl={...Sl,[Al]:{...Sl[Al],...Rl}},Ol&&Tl<=50&&(Tl++,typeof Ol=="object"&&(Ol.placement&&(_l=Ol.placement),Ol.rects&&($l=Ol.rects===!0?await Zs.getElementRects({reference:at,floating:zs,strategy:Ys}):Ol.rects),{x:El,y:wl}=computeCoordsFromPlacement($l,_l,Js)),Il=-1)}return{x:El,y:wl,placement:_l,strategy:Ys,middlewareData:Sl}};async function detectOverflow$1(at,zs){var Ws;zs===void 0&&(zs={});const{x:qs,y:Ys,platform:Xs,rects:Zs,elements:yl,strategy:Js}=at,{boundary:$l="clippingAncestors",rootBoundary:El="viewport",elementContext:wl="floating",altBoundary:_l=!1,padding:Sl=0}=evaluate(zs,at),Tl=getPaddingObject(Sl),Al=yl[_l?wl==="floating"?"reference":"floating":wl],xl=rectToClientRect(await Xs.getClippingRect({element:(Ws=await(Xs.isElement==null?void 0:Xs.isElement(Al)))==null||Ws?Al:Al.contextElement||await(Xs.getDocumentElement==null?void 0:Xs.getDocumentElement(yl.floating)),boundary:$l,rootBoundary:El,strategy:Js})),Pl=wl==="floating"?{x:qs,y:Ys,width:Zs.floating.width,height:Zs.floating.height}:Zs.reference,Cl=await(Xs.getOffsetParent==null?void 0:Xs.getOffsetParent(yl.floating)),Rl=await(Xs.isElement==null?void 0:Xs.isElement(Cl))?await(Xs.getScale==null?void 0:Xs.getScale(Cl))||{x:1,y:1}:{x:1,y:1},Ol=rectToClientRect(Xs.convertOffsetParentRelativeRectToViewportRelativeRect?await Xs.convertOffsetParentRelativeRectToViewportRelativeRect({elements:yl,rect:Pl,offsetParent:Cl,strategy:Js}):Pl);return{top:(xl.top-Ol.top+Tl.top)/Rl.y,bottom:(Ol.bottom-xl.bottom+Tl.bottom)/Rl.y,left:(xl.left-Ol.left+Tl.left)/Rl.x,right:(Ol.right-xl.right+Tl.right)/Rl.x}}const flip$2=function(at){return at===void 0&&(at={}),{name:"flip",options:at,async fn(zs){var Ws,qs;const{placement:Ys,middlewareData:Xs,rects:Zs,initialPlacement:yl,platform:Js,elements:$l}=zs,{mainAxis:El=!0,crossAxis:wl=!0,fallbackPlacements:_l,fallbackStrategy:Sl="bestFit",fallbackAxisSideDirection:Tl="none",flipAlignment:Il=!0,...Al}=evaluate(at,zs);if((Ws=Xs.arrow)!=null&&Ws.alignmentOffset)return{};const xl=getSide(Ys),Pl=getSideAxis(yl),Cl=getSide(yl)===yl,Rl=await(Js.isRTL==null?void 0:Js.isRTL($l.floating)),Ol=_l||(Cl||!Il?[getOppositePlacement(yl)]:getExpandedPlacements(yl)),Ml=Tl!=="none";!_l&&Ml&&Ol.push(...getOppositeAxisPlacements(yl,Il,Tl,Rl));const Ll=[yl,...Ol],Bl=await detectOverflow$1(zs,Al),Wl=[];let Yl=((qs=Xs.flip)==null?void 0:qs.overflows)||[];if(El&&Wl.push(Bl[xl]),wl){const Vl=getAlignmentSides(Ys,Zs,Rl);Wl.push(Bl[Vl[0]],Bl[Vl[1]])}if(Yl=[...Yl,{placement:Ys,overflows:Wl}],!Wl.every(Vl=>Vl<=0)){var Kl,Xl;const Vl=(((Kl=Xs.flip)==null?void 0:Kl.index)||0)+1,Nl=Ll[Vl];if(Nl&&(!(wl==="alignment"?Pl!==getSideAxis(Nl):!1)||Yl.every(Fl=>getSideAxis(Fl.placement)===Pl?Fl.overflows[0]>0:!0)))return{data:{index:Vl,overflows:Yl},reset:{placement:Nl}};let Dl=(Xl=Yl.filter(Gl=>Gl.overflows[0]<=0).sort((Gl,Fl)=>Gl.overflows[1]-Fl.overflows[1])[0])==null?void 0:Xl.placement;if(!Dl)switch(Sl){case"bestFit":{var Ul;const Gl=(Ul=Yl.filter(Fl=>{if(Ml){const Hl=getSideAxis(Fl.placement);return Hl===Pl||Hl==="y"}return!0}).map(Fl=>[Fl.placement,Fl.overflows.filter(Hl=>Hl>0).reduce((Hl,Zl)=>Hl+Zl,0)]).sort((Fl,Hl)=>Fl[1]-Hl[1])[0])==null?void 0:Ul[0];Gl&&(Dl=Gl);break}case"initialPlacement":Dl=yl;break}if(Ys!==Dl)return{reset:{placement:Dl}}}return{}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(at,zs){const{placement:Ws,platform:qs,elements:Ys}=at,Xs=await(qs.isRTL==null?void 0:qs.isRTL(Ys.floating)),Zs=getSide(Ws),yl=getAlignment(Ws),Js=getSideAxis(Ws)==="y",$l=originSides.has(Zs)?-1:1,El=Xs&&Js?-1:1,wl=evaluate(zs,at);let{mainAxis:_l,crossAxis:Sl,alignmentAxis:Tl}=typeof wl=="number"?{mainAxis:wl,crossAxis:0,alignmentAxis:null}:{mainAxis:wl.mainAxis||0,crossAxis:wl.crossAxis||0,alignmentAxis:wl.alignmentAxis};return yl&&typeof Tl=="number"&&(Sl=yl==="end"?Tl*-1:Tl),Js?{x:Sl*El,y:_l*$l}:{x:_l*$l,y:Sl*El}}const offset$2=function(at){return at===void 0&&(at=0),{name:"offset",options:at,async fn(zs){var Ws,qs;const{x:Ys,y:Xs,placement:Zs,middlewareData:yl}=zs,Js=await convertValueToCoords(zs,at);return Zs===((Ws=yl.offset)==null?void 0:Ws.placement)&&(qs=yl.arrow)!=null&&qs.alignmentOffset?{}:{x:Ys+Js.x,y:Xs+Js.y,data:{...Js,placement:Zs}}}}},shift$2=function(at){return at===void 0&&(at={}),{name:"shift",options:at,async fn(zs){const{x:Ws,y:qs,placement:Ys}=zs,{mainAxis:Xs=!0,crossAxis:Zs=!1,limiter:yl={fn:Al=>{let{x:xl,y:Pl}=Al;return{x:xl,y:Pl}}},...Js}=evaluate(at,zs),$l={x:Ws,y:qs},El=await detectOverflow$1(zs,Js),wl=getSideAxis(getSide(Ys)),_l=getOppositeAxis(wl);let Sl=$l[_l],Tl=$l[wl];if(Xs){const Al=_l==="y"?"top":"left",xl=_l==="y"?"bottom":"right",Pl=Sl+El[Al],Cl=Sl-El[xl];Sl=clamp(Pl,Sl,Cl)}if(Zs){const Al=wl==="y"?"top":"left",xl=wl==="y"?"bottom":"right",Pl=Tl+El[Al],Cl=Tl-El[xl];Tl=clamp(Pl,Tl,Cl)}const Il=yl.fn({...zs,[_l]:Sl,[wl]:Tl});return{...Il,data:{x:Il.x-Ws,y:Il.y-qs,enabled:{[_l]:Xs,[wl]:Zs}}}}}},size$5=function(at){return at===void 0&&(at={}),{name:"size",options:at,async fn(zs){var Ws,qs;const{placement:Ys,rects:Xs,platform:Zs,elements:yl}=zs,{apply:Js=()=>{},...$l}=evaluate(at,zs),El=await detectOverflow$1(zs,$l),wl=getSide(Ys),_l=getAlignment(Ys),Sl=getSideAxis(Ys)==="y",{width:Tl,height:Il}=Xs.floating;let Al,xl;wl==="top"||wl==="bottom"?(Al=wl,xl=_l===(await(Zs.isRTL==null?void 0:Zs.isRTL(yl.floating))?"start":"end")?"left":"right"):(xl=wl,Al=_l==="end"?"top":"bottom");const Pl=Il-El.top-El.bottom,Cl=Tl-El.left-El.right,Rl=min(Il-El[Al],Pl),Ol=min(Tl-El[xl],Cl),Ml=!zs.middlewareData.shift;let Ll=Rl,Bl=Ol;if((Ws=zs.middlewareData.shift)!=null&&Ws.enabled.x&&(Bl=Cl),(qs=zs.middlewareData.shift)!=null&&qs.enabled.y&&(Ll=Pl),Ml&&!_l){const Yl=max(El.left,0),Kl=max(El.right,0),Xl=max(El.top,0),Ul=max(El.bottom,0);Sl?Bl=Tl-2*(Yl!==0||Kl!==0?Yl+Kl:max(El.left,El.right)):Ll=Il-2*(Xl!==0||Ul!==0?Xl+Ul:max(El.top,El.bottom))}await Js({...zs,availableWidth:Bl,availableHeight:Ll});const Wl=await Zs.getDimensions(yl.floating);return Tl!==Wl.width||Il!==Wl.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(at){const zs=getComputedStyle$1(at);let Ws=parseFloat(zs.width)||0,qs=parseFloat(zs.height)||0;const Ys=isHTMLElement(at),Xs=Ys?at.offsetWidth:Ws,Zs=Ys?at.offsetHeight:qs,yl=round(Ws)!==Xs||round(qs)!==Zs;return yl&&(Ws=Xs,qs=Zs),{width:Ws,height:qs,$:yl}}function unwrapElement(at){return isElement(at)?at:at.contextElement}function getScale(at){const zs=unwrapElement(at);if(!isHTMLElement(zs))return createCoords(1);const Ws=zs.getBoundingClientRect(),{width:qs,height:Ys,$:Xs}=getCssDimensions(zs);let Zs=(Xs?round(Ws.width):Ws.width)/qs,yl=(Xs?round(Ws.height):Ws.height)/Ys;return(!Zs||!Number.isFinite(Zs))&&(Zs=1),(!yl||!Number.isFinite(yl))&&(yl=1),{x:Zs,y:yl}}const noOffsets=createCoords(0);function getVisualOffsets(at){const zs=getWindow(at);return!isWebKit()||!zs.visualViewport?noOffsets:{x:zs.visualViewport.offsetLeft,y:zs.visualViewport.offsetTop}}function shouldAddVisualOffsets(at,zs,Ws){return zs===void 0&&(zs=!1),!Ws||zs&&Ws!==getWindow(at)?!1:zs}function getBoundingClientRect(at,zs,Ws,qs){zs===void 0&&(zs=!1),Ws===void 0&&(Ws=!1);const Ys=at.getBoundingClientRect(),Xs=unwrapElement(at);let Zs=createCoords(1);zs&&(qs?isElement(qs)&&(Zs=getScale(qs)):Zs=getScale(at));const yl=shouldAddVisualOffsets(Xs,Ws,qs)?getVisualOffsets(Xs):createCoords(0);let Js=(Ys.left+yl.x)/Zs.x,$l=(Ys.top+yl.y)/Zs.y,El=Ys.width/Zs.x,wl=Ys.height/Zs.y;if(Xs){const _l=getWindow(Xs),Sl=qs&&isElement(qs)?getWindow(qs):qs;let Tl=_l,Il=getFrameElement(Tl);for(;Il&&qs&&Sl!==Tl;){const Al=getScale(Il),xl=Il.getBoundingClientRect(),Pl=getComputedStyle$1(Il),Cl=xl.left+(Il.clientLeft+parseFloat(Pl.paddingLeft))*Al.x,Rl=xl.top+(Il.clientTop+parseFloat(Pl.paddingTop))*Al.y;Js*=Al.x,$l*=Al.y,El*=Al.x,wl*=Al.y,Js+=Cl,$l+=Rl,Tl=getWindow(Il),Il=getFrameElement(Tl)}}return rectToClientRect({width:El,height:wl,x:Js,y:$l})}function getWindowScrollBarX(at,zs){const Ws=getNodeScroll(at).scrollLeft;return zs?zs.left+Ws:getBoundingClientRect(getDocumentElement(at)).left+Ws}function getHTMLOffset(at,zs){const Ws=at.getBoundingClientRect(),qs=Ws.left+zs.scrollLeft-getWindowScrollBarX(at,Ws),Ys=Ws.top+zs.scrollTop;return{x:qs,y:Ys}}function convertOffsetParentRelativeRectToViewportRelativeRect(at){let{elements:zs,rect:Ws,offsetParent:qs,strategy:Ys}=at;const Xs=Ys==="fixed",Zs=getDocumentElement(qs),yl=zs?isTopLayer(zs.floating):!1;if(qs===Zs||yl&&Xs)return Ws;let Js={scrollLeft:0,scrollTop:0},$l=createCoords(1);const El=createCoords(0),wl=isHTMLElement(qs);if((wl||!wl&&!Xs)&&((getNodeName(qs)!=="body"||isOverflowElement(Zs))&&(Js=getNodeScroll(qs)),isHTMLElement(qs))){const Sl=getBoundingClientRect(qs);$l=getScale(qs),El.x=Sl.x+qs.clientLeft,El.y=Sl.y+qs.clientTop}const _l=Zs&&!wl&&!Xs?getHTMLOffset(Zs,Js):createCoords(0);return{width:Ws.width*$l.x,height:Ws.height*$l.y,x:Ws.x*$l.x-Js.scrollLeft*$l.x+El.x+_l.x,y:Ws.y*$l.y-Js.scrollTop*$l.y+El.y+_l.y}}function getClientRects(at){return Array.from(at.getClientRects())}function getDocumentRect(at){const zs=getDocumentElement(at),Ws=getNodeScroll(at),qs=at.ownerDocument.body,Ys=max(zs.scrollWidth,zs.clientWidth,qs.scrollWidth,qs.clientWidth),Xs=max(zs.scrollHeight,zs.clientHeight,qs.scrollHeight,qs.clientHeight);let Zs=-Ws.scrollLeft+getWindowScrollBarX(at);const yl=-Ws.scrollTop;return getComputedStyle$1(qs).direction==="rtl"&&(Zs+=max(zs.clientWidth,qs.clientWidth)-Ys),{width:Ys,height:Xs,x:Zs,y:yl}}const SCROLLBAR_MAX=25;function getViewportRect(at,zs){const Ws=getWindow(at),qs=getDocumentElement(at),Ys=Ws.visualViewport;let Xs=qs.clientWidth,Zs=qs.clientHeight,yl=0,Js=0;if(Ys){Xs=Ys.width,Zs=Ys.height;const El=isWebKit();(!El||El&&zs==="fixed")&&(yl=Ys.offsetLeft,Js=Ys.offsetTop)}const $l=getWindowScrollBarX(qs);if($l<=0){const El=qs.ownerDocument,wl=El.body,_l=getComputedStyle(wl),Sl=El.compatMode==="CSS1Compat"&&parseFloat(_l.marginLeft)+parseFloat(_l.marginRight)||0,Tl=Math.abs(qs.clientWidth-wl.clientWidth-Sl);Tl<=SCROLLBAR_MAX&&(Xs-=Tl)}else $l<=SCROLLBAR_MAX&&(Xs+=$l);return{width:Xs,height:Zs,x:yl,y:Js}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(at,zs){const Ws=getBoundingClientRect(at,!0,zs==="fixed"),qs=Ws.top+at.clientTop,Ys=Ws.left+at.clientLeft,Xs=isHTMLElement(at)?getScale(at):createCoords(1),Zs=at.clientWidth*Xs.x,yl=at.clientHeight*Xs.y,Js=Ys*Xs.x,$l=qs*Xs.y;return{width:Zs,height:yl,x:Js,y:$l}}function getClientRectFromClippingAncestor(at,zs,Ws){let qs;if(zs==="viewport")qs=getViewportRect(at,Ws);else if(zs==="document")qs=getDocumentRect(getDocumentElement(at));else if(isElement(zs))qs=getInnerBoundingClientRect(zs,Ws);else{const Ys=getVisualOffsets(at);qs={x:zs.x-Ys.x,y:zs.y-Ys.y,width:zs.width,height:zs.height}}return rectToClientRect(qs)}function hasFixedPositionAncestor(at,zs){const Ws=getParentNode(at);return Ws===zs||!isElement(Ws)||isLastTraversableNode(Ws)?!1:getComputedStyle$1(Ws).position==="fixed"||hasFixedPositionAncestor(Ws,zs)}function getClippingElementAncestors(at,zs){const Ws=zs.get(at);if(Ws)return Ws;let qs=getOverflowAncestors(at,[],!1).filter(yl=>isElement(yl)&&getNodeName(yl)!=="body"),Ys=null;const Xs=getComputedStyle$1(at).position==="fixed";let Zs=Xs?getParentNode(at):at;for(;isElement(Zs)&&!isLastTraversableNode(Zs);){const yl=getComputedStyle$1(Zs),Js=isContainingBlock(Zs);!Js&&yl.position==="fixed"&&(Ys=null),(Xs?!Js&&!Ys:!Js&&yl.position==="static"&&!!Ys&&absoluteOrFixed.has(Ys.position)||isOverflowElement(Zs)&&!Js&&hasFixedPositionAncestor(at,Zs))?qs=qs.filter(El=>El!==Zs):Ys=yl,Zs=getParentNode(Zs)}return zs.set(at,qs),qs}function getClippingRect(at){let{element:zs,boundary:Ws,rootBoundary:qs,strategy:Ys}=at;const Zs=[...Ws==="clippingAncestors"?isTopLayer(zs)?[]:getClippingElementAncestors(zs,this._c):[].concat(Ws),qs],yl=Zs[0],Js=Zs.reduce(($l,El)=>{const wl=getClientRectFromClippingAncestor(zs,El,Ys);return $l.top=max(wl.top,$l.top),$l.right=min(wl.right,$l.right),$l.bottom=min(wl.bottom,$l.bottom),$l.left=max(wl.left,$l.left),$l},getClientRectFromClippingAncestor(zs,yl,Ys));return{width:Js.right-Js.left,height:Js.bottom-Js.top,x:Js.left,y:Js.top}}function getDimensions(at){const{width:zs,height:Ws}=getCssDimensions(at);return{width:zs,height:Ws}}function getRectRelativeToOffsetParent(at,zs,Ws){const qs=isHTMLElement(zs),Ys=getDocumentElement(zs),Xs=Ws==="fixed",Zs=getBoundingClientRect(at,!0,Xs,zs);let yl={scrollLeft:0,scrollTop:0};const Js=createCoords(0);function $l(){Js.x=getWindowScrollBarX(Ys)}if(qs||!qs&&!Xs)if((getNodeName(zs)!=="body"||isOverflowElement(Ys))&&(yl=getNodeScroll(zs)),qs){const Sl=getBoundingClientRect(zs,!0,Xs,zs);Js.x=Sl.x+zs.clientLeft,Js.y=Sl.y+zs.clientTop}else Ys&&$l();Xs&&!qs&&Ys&&$l();const El=Ys&&!qs&&!Xs?getHTMLOffset(Ys,yl):createCoords(0),wl=Zs.left+yl.scrollLeft-Js.x-El.x,_l=Zs.top+yl.scrollTop-Js.y-El.y;return{x:wl,y:_l,width:Zs.width,height:Zs.height}}function isStaticPositioned(at){return getComputedStyle$1(at).position==="static"}function getTrueOffsetParent(at,zs){if(!isHTMLElement(at)||getComputedStyle$1(at).position==="fixed")return null;if(zs)return zs(at);let Ws=at.offsetParent;return getDocumentElement(at)===Ws&&(Ws=Ws.ownerDocument.body),Ws}function getOffsetParent(at,zs){const Ws=getWindow(at);if(isTopLayer(at))return Ws;if(!isHTMLElement(at)){let Ys=getParentNode(at);for(;Ys&&!isLastTraversableNode(Ys);){if(isElement(Ys)&&!isStaticPositioned(Ys))return Ys;Ys=getParentNode(Ys)}return Ws}let qs=getTrueOffsetParent(at,zs);for(;qs&&isTableElement(qs)&&isStaticPositioned(qs);)qs=getTrueOffsetParent(qs,zs);return qs&&isLastTraversableNode(qs)&&isStaticPositioned(qs)&&!isContainingBlock(qs)?Ws:qs||getContainingBlock(at)||Ws}const getElementRects=async function(at){const zs=this.getOffsetParent||getOffsetParent,Ws=this.getDimensions,qs=await Ws(at.floating);return{reference:getRectRelativeToOffsetParent(at.reference,await zs(at.floating),at.strategy),floating:{x:0,y:0,width:qs.width,height:qs.height}}};function isRTL(at){return getComputedStyle$1(at).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(at,zs){return at.x===zs.x&&at.y===zs.y&&at.width===zs.width&&at.height===zs.height}function observeMove(at,zs){let Ws=null,qs;const Ys=getDocumentElement(at);function Xs(){var yl;clearTimeout(qs),(yl=Ws)==null||yl.disconnect(),Ws=null}function Zs(yl,Js){yl===void 0&&(yl=!1),Js===void 0&&(Js=1),Xs();const $l=at.getBoundingClientRect(),{left:El,top:wl,width:_l,height:Sl}=$l;if(yl||zs(),!_l||!Sl)return;const Tl=floor(wl),Il=floor(Ys.clientWidth-(El+_l)),Al=floor(Ys.clientHeight-(wl+Sl)),xl=floor(El),Cl={rootMargin:-Tl+"px "+-Il+"px "+-Al+"px "+-xl+"px",threshold:max(0,min(1,Js))||1};let Rl=!0;function Ol(Ml){const Ll=Ml[0].intersectionRatio;if(Ll!==Js){if(!Rl)return Zs();Ll?Zs(!1,Ll):qs=setTimeout(()=>{Zs(!1,1e-7)},1e3)}Ll===1&&!rectsAreEqual($l,at.getBoundingClientRect())&&Zs(),Rl=!1}try{Ws=new IntersectionObserver(Ol,{...Cl,root:Ys.ownerDocument})}catch{Ws=new IntersectionObserver(Ol,Cl)}Ws.observe(at)}return Zs(!0),Xs}function autoUpdate(at,zs,Ws,qs){qs===void 0&&(qs={});const{ancestorScroll:Ys=!0,ancestorResize:Xs=!0,elementResize:Zs=typeof ResizeObserver=="function",layoutShift:yl=typeof IntersectionObserver=="function",animationFrame:Js=!1}=qs,$l=unwrapElement(at),El=Ys||Xs?[...$l?getOverflowAncestors($l):[],...getOverflowAncestors(zs)]:[];El.forEach(xl=>{Ys&&xl.addEventListener("scroll",Ws,{passive:!0}),Xs&&xl.addEventListener("resize",Ws)});const wl=$l&&yl?observeMove($l,Ws):null;let _l=-1,Sl=null;Zs&&(Sl=new ResizeObserver(xl=>{let[Pl]=xl;Pl&&Pl.target===$l&&Sl&&(Sl.unobserve(zs),cancelAnimationFrame(_l),_l=requestAnimationFrame(()=>{var Cl;(Cl=Sl)==null||Cl.observe(zs)})),Ws()}),$l&&!Js&&Sl.observe($l),Sl.observe(zs));let Tl,Il=Js?getBoundingClientRect(at):null;Js&&Al();function Al(){const xl=getBoundingClientRect(at);Il&&!rectsAreEqual(Il,xl)&&Ws(),Il=xl,Tl=requestAnimationFrame(Al)}return Ws(),()=>{var xl;El.forEach(Pl=>{Ys&&Pl.removeEventListener("scroll",Ws),Xs&&Pl.removeEventListener("resize",Ws)}),wl==null||wl(),(xl=Sl)==null||xl.disconnect(),Sl=null,Js&&cancelAnimationFrame(Tl)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$4=size$5,computePosition=(at,zs,Ws)=>{const qs=new Map,Ys={platform,...Ws},Xs={...Ys.platform,_c:qs};return computePosition$1(at,zs,{...Ys,platform:Xs})};var isClient=typeof document<"u",noop=function(){},index$2=isClient?reactExports.useLayoutEffect:noop;function deepEqual(at,zs){if(at===zs)return!0;if(typeof at!=typeof zs)return!1;if(typeof at=="function"&&at.toString()===zs.toString())return!0;let Ws,qs,Ys;if(at&&zs&&typeof at=="object"){if(Array.isArray(at)){if(Ws=at.length,Ws!==zs.length)return!1;for(qs=Ws;qs--!==0;)if(!deepEqual(at[qs],zs[qs]))return!1;return!0}if(Ys=Object.keys(at),Ws=Ys.length,Ws!==Object.keys(zs).length)return!1;for(qs=Ws;qs--!==0;)if(!{}.hasOwnProperty.call(zs,Ys[qs]))return!1;for(qs=Ws;qs--!==0;){const Xs=Ys[qs];if(!(Xs==="_owner"&&at.$$typeof)&&!deepEqual(at[Xs],zs[Xs]))return!1}return!0}return at!==at&&zs!==zs}function getDPR(at){return typeof window>"u"?1:(at.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(at,zs){const Ws=getDPR(at);return Math.round(zs*Ws)/Ws}function useLatestRef(at){const zs=reactExports.useRef(at);return index$2(()=>{zs.current=at}),zs}function useFloating$1(at){at===void 0&&(at={});const{placement:zs="bottom",strategy:Ws="absolute",middleware:qs=[],platform:Ys,elements:{reference:Xs,floating:Zs}={},transform:yl=!0,whileElementsMounted:Js,open:$l}=at,[El,wl]=reactExports.useState({x:0,y:0,strategy:Ws,placement:zs,middlewareData:{},isPositioned:!1}),[_l,Sl]=reactExports.useState(qs);deepEqual(_l,qs)||Sl(qs);const[Tl,Il]=reactExports.useState(null),[Al,xl]=reactExports.useState(null),Pl=reactExports.useCallback(Fl=>{Fl!==Ml.current&&(Ml.current=Fl,Il(Fl))},[]),Cl=reactExports.useCallback(Fl=>{Fl!==Ll.current&&(Ll.current=Fl,xl(Fl))},[]),Rl=Xs||Tl,Ol=Zs||Al,Ml=reactExports.useRef(null),Ll=reactExports.useRef(null),Bl=reactExports.useRef(El),Wl=Js!=null,Yl=useLatestRef(Js),Kl=useLatestRef(Ys),Xl=useLatestRef($l),Ul=reactExports.useCallback(()=>{if(!Ml.current||!Ll.current)return;const Fl={placement:zs,strategy:Ws,middleware:_l};Kl.current&&(Fl.platform=Kl.current),computePosition(Ml.current,Ll.current,Fl).then(Hl=>{const Zl={...Hl,isPositioned:Xl.current!==!1};Vl.current&&!deepEqual(Bl.current,Zl)&&(Bl.current=Zl,reactDomExports.flushSync(()=>{wl(Zl)}))})},[_l,zs,Ws,Kl,Xl]);index$2(()=>{$l===!1&&Bl.current.isPositioned&&(Bl.current.isPositioned=!1,wl(Fl=>({...Fl,isPositioned:!1})))},[$l]);const Vl=reactExports.useRef(!1);index$2(()=>(Vl.current=!0,()=>{Vl.current=!1}),[]),index$2(()=>{if(Rl&&(Ml.current=Rl),Ol&&(Ll.current=Ol),Rl&&Ol){if(Yl.current)return Yl.current(Rl,Ol,Ul);Ul()}},[Rl,Ol,Ul,Yl,Wl]);const Nl=reactExports.useMemo(()=>({reference:Ml,floating:Ll,setReference:Pl,setFloating:Cl}),[Pl,Cl]),Dl=reactExports.useMemo(()=>({reference:Rl,floating:Ol}),[Rl,Ol]),Gl=reactExports.useMemo(()=>{const Fl={position:Ws,left:0,top:0};if(!Dl.floating)return Fl;const Hl=roundByDPR(Dl.floating,El.x),Zl=roundByDPR(Dl.floating,El.y);return yl?{...Fl,transform:"translate("+Hl+"px, "+Zl+"px)",...getDPR(Dl.floating)>=1.5&&{willChange:"transform"}}:{position:Ws,left:Hl,top:Zl}},[Ws,yl,Dl.floating,El.x,El.y]);return reactExports.useMemo(()=>({...El,update:Ul,refs:Nl,elements:Dl,floatingStyles:Gl}),[El,Ul,Nl,Dl,Gl])}const offset=(at,zs)=>({...offset$1(at),options:[at,zs]}),shift=(at,zs)=>({...shift$1(at),options:[at,zs]}),flip=(at,zs)=>({...flip$1(at),options:[at,zs]}),size$3=(at,zs)=>({...size$4(at),options:[at,zs]}),SafeReact={...t$6},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(at=>at());function useEffectEvent(at){const zs=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{zs.current=at}),reactExports.useCallback(function(){for(var Ws=arguments.length,qs=new Array(Ws),Ys=0;Ys<Ws;Ys++)qs[Ys]=arguments[Ys];return zs.current==null?void 0:zs.current(...qs)},[])}var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[at,zs]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index$1(()=>{at==null&&zs(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),at}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const at=new Map;return{emit(zs,Ws){var qs;(qs=at.get(zs))==null||qs.forEach(Ys=>Ys(Ws))},on(zs,Ws){at.set(zs,[...at.get(zs)||[],Ws])},off(zs,Ws){var qs;at.set(zs,((qs=at.get(zs))==null?void 0:qs.filter(Ys=>Ys!==Ws))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var at;return((at=reactExports.useContext(FloatingNodeContext))==null?void 0:at.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext),FOCUSABLE_ATTRIBUTE="data-floating-ui-focusable";function useFloatingRootContext(at){const{open:zs=!1,onOpenChange:Ws,elements:qs}=at,Ys=useId(),Xs=reactExports.useRef({}),[Zs]=reactExports.useState(()=>createPubSub()),yl=useFloatingParentNodeId()!=null,[Js,$l]=reactExports.useState(qs.reference),El=useEffectEvent((Sl,Tl,Il)=>{Xs.current.openEvent=Sl?Tl:void 0,Zs.emit("openchange",{open:Sl,event:Tl,reason:Il,nested:yl}),Ws==null||Ws(Sl,Tl,Il)}),wl=reactExports.useMemo(()=>({setPositionReference:$l}),[]),_l=reactExports.useMemo(()=>({reference:Js||qs.reference||null,floating:qs.floating||null,domReference:qs.reference}),[Js,qs.reference,qs.floating]);return reactExports.useMemo(()=>({dataRef:Xs,open:zs,onOpenChange:El,elements:_l,events:Zs,floatingId:Ys,refs:wl}),[zs,El,_l,Zs,Ys,wl])}function useFloating(at){at===void 0&&(at={});const{nodeId:zs}=at,Ws=useFloatingRootContext({...at,elements:{reference:null,floating:null,...at.elements}}),qs=at.rootContext||Ws,Ys=qs.elements,[Xs,Zs]=reactExports.useState(null),[yl,Js]=reactExports.useState(null),El=(Ys==null?void 0:Ys.domReference)||Xs,wl=reactExports.useRef(null),_l=useFloatingTree();index$1(()=>{El&&(wl.current=El)},[El]);const Sl=useFloating$1({...at,elements:{...Ys,...yl&&{reference:yl}}}),Tl=reactExports.useCallback(Cl=>{const Rl=isElement(Cl)?{getBoundingClientRect:()=>Cl.getBoundingClientRect(),contextElement:Cl}:Cl;Js(Rl),Sl.refs.setReference(Rl)},[Sl.refs]),Il=reactExports.useCallback(Cl=>{(isElement(Cl)||Cl===null)&&(wl.current=Cl,Zs(Cl)),(isElement(Sl.refs.reference.current)||Sl.refs.reference.current===null||Cl!==null&&!isElement(Cl))&&Sl.refs.setReference(Cl)},[Sl.refs]),Al=reactExports.useMemo(()=>({...Sl.refs,setReference:Il,setPositionReference:Tl,domReference:wl}),[Sl.refs,Il,Tl]),xl=reactExports.useMemo(()=>({...Sl.elements,domReference:El}),[Sl.elements,El]),Pl=reactExports.useMemo(()=>({...Sl,...qs,refs:Al,elements:xl,nodeId:zs}),[Sl,Al,xl,zs,qs]);return index$1(()=>{qs.dataRef.current.floatingContext=Pl;const Cl=_l==null?void 0:_l.nodesRef.current.find(Rl=>Rl.id===zs);Cl&&(Cl.context=Pl)}),reactExports.useMemo(()=>({...Sl,context:Pl,refs:Al,elements:xl}),[Sl,Al,xl,Pl])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(at,zs,Ws){const qs=new Map,Ys=Ws==="item";let Xs=at;if(Ys&&at){const{[ACTIVE_KEY]:Zs,[SELECTED_KEY]:yl,...Js}=at;Xs=Js}return{...Ws==="floating"&&{tabIndex:-1,[FOCUSABLE_ATTRIBUTE]:""},...Xs,...zs.map(Zs=>{const yl=Zs?Zs[Ws]:null;return typeof yl=="function"?at?yl(at):null:yl}).concat(at).reduce((Zs,yl)=>(yl&&Object.entries(yl).forEach(Js=>{let[$l,El]=Js;if(!(Ys&&[ACTIVE_KEY,SELECTED_KEY].includes($l)))if($l.indexOf("on")===0){if(qs.has($l)||qs.set($l,[]),typeof El=="function"){var wl;(wl=qs.get($l))==null||wl.push(El),Zs[$l]=function(){for(var _l,Sl=arguments.length,Tl=new Array(Sl),Il=0;Il<Sl;Il++)Tl[Il]=arguments[Il];return(_l=qs.get($l))==null?void 0:_l.map(Al=>Al(...Tl)).find(Al=>Al!==void 0)}}}else Zs[$l]=El}),Zs),{})}}function useInteractions(at){at===void 0&&(at=[]);const zs=at.map(yl=>yl==null?void 0:yl.reference),Ws=at.map(yl=>yl==null?void 0:yl.floating),qs=at.map(yl=>yl==null?void 0:yl.item),Ys=reactExports.useCallback(yl=>mergeProps(yl,at,"reference"),zs),Xs=reactExports.useCallback(yl=>mergeProps(yl,at,"floating"),Ws),Zs=reactExports.useCallback(yl=>mergeProps(yl,at,"item"),qs);return reactExports.useMemo(()=>({getReferenceProps:Ys,getFloatingProps:Xs,getItemProps:Zs}),[Ys,Xs,Zs])}function getArgsWithCustomFloatingHeight(at,zs){return{...at,rects:{...at.rects,floating:{...at.rects.floating,height:zs}}}}const inner=at=>({name:"inner",options:at,async fn(zs){const{listRef:Ws,overflowRef:qs,onFallbackChange:Ys,offset:Xs=0,index:Zs=0,minItemsVisible:yl=4,referenceOverflowThreshold:Js=0,scrollRef:$l,...El}=evaluate(at,zs),{rects:wl,elements:{floating:_l}}=zs,Sl=Ws.current[Zs],Tl=($l==null?void 0:$l.current)||_l,Il=_l.clientTop||Tl.clientTop,Al=_l.clientTop!==0,xl=Tl.clientTop!==0,Pl=_l===Tl;if(!Sl)return{};const Cl={...zs,...await offset(-Sl.offsetTop-_l.clientTop-wl.reference.height/2-Sl.offsetHeight/2-Xs).fn(zs)},Rl=await detectOverflow(getArgsWithCustomFloatingHeight(Cl,Tl.scrollHeight+Il+_l.clientTop),El),Ol=await detectOverflow(Cl,{...El,elementContext:"reference"}),Ml=max(0,Rl.top),Ll=Cl.y+Ml,Yl=(Tl.scrollHeight>Tl.clientHeight?Kl=>Kl:round)(max(0,Tl.scrollHeight+(Al&&Pl||xl?Il*2:0)-Ml-max(0,Rl.bottom)));if(Tl.style.maxHeight=Yl+"px",Tl.scrollTop=Ml,Ys){const Kl=Tl.offsetHeight<Sl.offsetHeight*min(yl,Ws.current.length)-1||Ol.top>=-Js||Ol.bottom>=-Js;reactDomExports.flushSync(()=>Ys(Kl))}return qs&&(qs.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Cl,y:Ll},Tl.offsetHeight+Il+_l.clientTop),El)),{y:Ll}}});function useInnerOffset(at,zs){const{open:Ws,elements:qs}=at,{enabled:Ys=!0,overflowRef:Xs,scrollRef:Zs,onChange:yl}=zs,Js=useEffectEvent(yl),$l=reactExports.useRef(!1),El=reactExports.useRef(null),wl=reactExports.useRef(null);reactExports.useEffect(()=>{if(!Ys)return;function Sl(Il){if(Il.ctrlKey||!Tl||Xs.current==null)return;const Al=Il.deltaY,xl=Xs.current.top>=-.5,Pl=Xs.current.bottom>=-.5,Cl=Tl.scrollHeight-Tl.clientHeight,Rl=Al<0?-1:1,Ol=Al<0?"max":"min";Tl.scrollHeight<=Tl.clientHeight||(!xl&&Al>0||!Pl&&Al<0?(Il.preventDefault(),reactDomExports.flushSync(()=>{Js(Ml=>Ml+Math[Ol](Al,Cl*Rl))})):/firefox/i.test(getUserAgent())&&(Tl.scrollTop+=Al))}const Tl=(Zs==null?void 0:Zs.current)||qs.floating;if(Ws&&Tl)return Tl.addEventListener("wheel",Sl),requestAnimationFrame(()=>{El.current=Tl.scrollTop,Xs.current!=null&&(wl.current={...Xs.current})}),()=>{El.current=null,wl.current=null,Tl.removeEventListener("wheel",Sl)}},[Ys,Ws,qs.floating,Xs,Zs,Js]);const _l=reactExports.useMemo(()=>({onKeyDown(){$l.current=!0},onWheel(){$l.current=!1},onPointerMove(){$l.current=!1},onScroll(){const Sl=(Zs==null?void 0:Zs.current)||qs.floating;if(!(!Xs.current||!Sl||!$l.current)){if(El.current!==null){const Tl=Sl.scrollTop-El.current;(Xs.current.bottom<-.5&&Tl<-1||Xs.current.top<-.5&&Tl>1)&&reactDomExports.flushSync(()=>Js(Il=>Il+Tl))}requestAnimationFrame(()=>{El.current=Sl.scrollTop})}}}),[qs.floating,Js,Xs,Zs]);return reactExports.useMemo(()=>Ys?{floating:_l}:{},[Ys,_l])}let y$4=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$4.displayName="FloatingContext";let $$2=reactExports.createContext(null);$$2.displayName="PlacementContext";function ye$5(at){return reactExports.useMemo(()=>at?typeof at=="string"?{to:at}:at:null,[at])}function Fe$4(){return reactExports.useContext(y$4).setReference}function be$4(){return reactExports.useContext(y$4).getReferenceProps}function Te$6(){let{getFloatingProps:at,slot:zs}=reactExports.useContext(y$4);return reactExports.useCallback((...Ws)=>Object.assign({},at(...Ws),{"data-anchor":zs.anchor}),[at,zs])}function Re$4(at=null){at===!1&&(at=null),typeof at=="string"&&(at={to:at});let zs=reactExports.useContext($$2),Ws=reactExports.useMemo(()=>at,[JSON.stringify(at,(Ys,Xs)=>{var Zs;return(Zs=Xs==null?void 0:Xs.outerHTML)!=null?Zs:Xs})]);n$7(()=>{zs==null||zs(Ws??null)},[zs,Ws]);let qs=reactExports.useContext(y$4);return reactExports.useMemo(()=>[qs.setFloating,at?qs.styles:{}],[qs.setFloating,at,qs.styles])}let D$3=4;function Ae$5({children:at,enabled:zs=!0}){let[Ws,qs]=reactExports.useState(null),[Ys,Xs]=reactExports.useState(0),Zs=reactExports.useRef(null),[yl,Js]=reactExports.useState(null);ce$2(yl);let $l=zs&&Ws!==null&&yl!==null,{to:El="bottom",gap:wl=0,offset:_l=0,padding:Sl=0,inner:Tl}=ge$5(Ws,yl),[Il,Al="center"]=El.split(" ");n$7(()=>{$l&&Xs(0)},[$l]);let{refs:xl,floatingStyles:Pl,context:Cl}=useFloating({open:$l,placement:Il==="selection"?Al==="center"?"bottom":`bottom-${Al}`:Al==="center"?`${Il}`:`${Il}-${Al}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Il==="selection"?0:wl,crossAxis:_l}),shift({padding:Sl}),Il!=="selection"&&flip({padding:Sl}),Il==="selection"&&Tl?inner({...Tl,padding:Sl,overflowRef:Zs,offset:Ys,minItemsVisible:D$3,referenceOverflowThreshold:Sl,onFallbackChange(Kl){var Xl,Ul;if(!Kl)return;let Vl=Cl.elements.floating;if(!Vl)return;let Nl=parseFloat(getComputedStyle(Vl).scrollPaddingBottom)||0,Dl=Math.min(D$3,Vl.childElementCount),Gl=0,Fl=0;for(let Hl of(Ul=(Xl=Cl.elements.floating)==null?void 0:Xl.childNodes)!=null?Ul:[])if(n$5(Hl)){let Zl=Hl.offsetTop,Su=Zl+Hl.clientHeight+Nl,$u=Vl.scrollTop,Pu=$u+Vl.clientHeight;if(Zl>=$u&&Su<=Pu)Dl--;else{Fl=Math.max(0,Math.min(Su,Pu)-Math.max(Zl,$u)),Gl=Hl.clientHeight;break}}Dl>=1&&Xs(Hl=>{let Zl=Gl*Dl-Fl+Nl;return Hl>=Zl?Hl:Zl})}}):null,size$3({padding:Sl,apply({availableWidth:Kl,availableHeight:Xl,elements:Ul}){Object.assign(Ul.floating.style,{overflow:"auto",maxWidth:`${Kl}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Xl}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Rl=Il,Ol=Al]=Cl.placement.split("-");Il==="selection"&&(Rl="selection");let Ml=reactExports.useMemo(()=>({anchor:[Rl,Ol].filter(Boolean).join(" ")}),[Rl,Ol]),Ll=useInnerOffset(Cl,{overflowRef:Zs,onChange:Xs}),{getReferenceProps:Bl,getFloatingProps:Wl}=useInteractions([Ll]),Yl=o$7(Kl=>{Js(Kl),xl.setFloating(Kl)});return reactExports.createElement($$2.Provider,{value:qs},reactExports.createElement(y$4.Provider,{value:{setFloating:Yl,setReference:xl.setReference,styles:Pl,getReferenceProps:Bl,getFloatingProps:Wl,slot:Ml}},at))}function ce$2(at){n$7(()=>{if(!at)return;let zs=new MutationObserver(()=>{let Ws=window.getComputedStyle(at).maxHeight,qs=parseFloat(Ws);if(isNaN(qs))return;let Ys=parseInt(Ws);isNaN(Ys)||qs!==Ys&&(at.style.maxHeight=`${Math.ceil(qs)}px`)});return zs.observe(at,{attributes:!0,attributeFilter:["style"]}),()=>{zs.disconnect()}},[at])}function ge$5(at,zs){var Ws,qs,Ys;let Xs=O$4((Ws=at==null?void 0:at.gap)!=null?Ws:"var(--anchor-gap, 0)",zs),Zs=O$4((qs=at==null?void 0:at.offset)!=null?qs:"var(--anchor-offset, 0)",zs),yl=O$4((Ys=at==null?void 0:at.padding)!=null?Ys:"var(--anchor-padding, 0)",zs);return{...at,gap:Xs,offset:Zs,padding:yl}}function O$4(at,zs,Ws=void 0){let qs=p$9(),Ys=o$7((Js,$l)=>{if(Js==null)return[Ws,null];if(typeof Js=="number")return[Js,null];if(typeof Js=="string"){if(!$l)return[Ws,null];let El=J$7(Js,$l);return[El,wl=>{let _l=q$3(Js);{let Sl=_l.map(Tl=>window.getComputedStyle($l).getPropertyValue(Tl));qs.requestAnimationFrame(function Tl(){qs.nextFrame(Tl);let Il=!1;for(let[xl,Pl]of _l.entries()){let Cl=window.getComputedStyle($l).getPropertyValue(Pl);if(Sl[xl]!==Cl){Sl[xl]=Cl,Il=!0;break}}if(!Il)return;let Al=J$7(Js,$l);El!==Al&&(wl(Al),El=Al)})}return qs.dispose}]}return[Ws,null]}),Xs=reactExports.useMemo(()=>Ys(at,zs)[0],[at,zs]),[Zs=Xs,yl]=reactExports.useState();return n$7(()=>{let[Js,$l]=Ys(at,zs);if(yl(Js),!!$l)return $l(yl)},[at,zs]),Zs}function q$3(at){let zs=/var\((.*)\)/.exec(at);if(zs){let Ws=zs[1].indexOf(",");if(Ws===-1)return[zs[1]];let qs=zs[1].slice(0,Ws).trim(),Ys=zs[1].slice(Ws+1).trim();return Ys?[qs,...q$3(Ys)]:[qs]}return[]}function J$7(at,zs){let Ws=document.createElement("div");zs.appendChild(Ws),Ws.style.setProperty("margin-top","0px","important"),Ws.style.setProperty("margin-top",at,"important");let qs=parseFloat(window.getComputedStyle(Ws).marginTop)||0;return zs.removeChild(Ws),qs}function f$5({children:at,freeze:zs},Ws){let qs=u$4(zs,at);return reactExports.isValidElement(qs)?reactExports.cloneElement(qs,{ref:Ws}):React$1.createElement(React$1.Fragment,null,qs)}React$1.forwardRef(f$5);function u$4(at,zs){let[Ws,qs]=reactExports.useState(zs);return!at&&Ws!==zs&&qs(zs),at?Ws:zs}let n$2=reactExports.createContext(null);n$2.displayName="OpenClosedContext";var i$2=(at=>(at[at.Open=1]="Open",at[at.Closed=2]="Closed",at[at.Closing=4]="Closing",at[at.Opening=8]="Opening",at))(i$2||{});function u$3(){return reactExports.useContext(n$2)}function c$8({value:at,children:zs}){return React$1.createElement(n$2.Provider,{value:at},zs)}function u$2(at){throw new Error("Unexpected object: "+at)}var c$7=(at=>(at[at.First=0]="First",at[at.Previous=1]="Previous",at[at.Next=2]="Next",at[at.Last=3]="Last",at[at.Specific=4]="Specific",at[at.Nothing=5]="Nothing",at))(c$7||{});function f$4(at,zs){let Ws=zs.resolveItems();if(Ws.length<=0)return null;let qs=zs.resolveActiveIndex(),Ys=qs??-1;switch(at.focus){case 0:{for(let Xs=0;Xs<Ws.length;++Xs)if(!zs.resolveDisabled(Ws[Xs],Xs,Ws))return Xs;return qs}case 1:{Ys===-1&&(Ys=Ws.length);for(let Xs=Ys-1;Xs>=0;--Xs)if(!zs.resolveDisabled(Ws[Xs],Xs,Ws))return Xs;return qs}case 2:{for(let Xs=Ys+1;Xs<Ws.length;++Xs)if(!zs.resolveDisabled(Ws[Xs],Xs,Ws))return Xs;return qs}case 3:{for(let Xs=Ws.length-1;Xs>=0;--Xs)if(!zs.resolveDisabled(Ws[Xs],Xs,Ws))return Xs;return qs}case 4:{for(let Xs=0;Xs<Ws.length;++Xs)if(zs.resolveId(Ws[Xs],Xs,Ws)===at.id)return Xs;return qs}case 5:return null;default:u$2(at)}}function c$6(at){let zs=o$7(at),Ws=reactExports.useRef(!1);reactExports.useEffect(()=>(Ws.current=!1,()=>{Ws.current=!0,t$4(()=>{Ws.current&&zs()})}),[zs])}let e$1=reactExports.createContext(!1);function a$3(){return reactExports.useContext(e$1)}function W$5(at){let zs=a$3(),Ws=reactExports.useContext(c$5),[qs,Ys]=reactExports.useState(()=>{var Xs;if(!zs&&Ws!==null)return(Xs=Ws.current)!=null?Xs:null;if(s$a.isServer)return null;let Zs=at==null?void 0:at.getElementById("headlessui-portal-root");if(Zs)return Zs;if(at===null)return null;let yl=at.createElement("div");return yl.setAttribute("id","headlessui-portal-root"),at.body.appendChild(yl)});return reactExports.useEffect(()=>{qs!==null&&(at!=null&&at.body.contains(qs)||at==null||at.body.appendChild(qs))},[qs,at]),reactExports.useEffect(()=>{zs||Ws!==null&&Ys(Ws.current)},[Ws,Ys,zs]),qs}let _$3=reactExports.Fragment,j$3=Y$2(function(at,zs){let{ownerDocument:Ws=null,...qs}=at,Ys=reactExports.useRef(null),Xs=y$7(T$6(_l=>{Ys.current=_l}),zs),Zs=u$6(Ys.current),yl=Ws??Zs,Js=W$5(yl),$l=reactExports.useContext(m$4),El=p$9(),wl=K$6();return c$6(()=>{var _l;Js&&Js.childNodes.length<=0&&((_l=Js.parentElement)==null||_l.removeChild(Js))}),Js?reactDomExports.createPortal(React$1.createElement("div",{"data-headlessui-portal":"",ref:_l=>{El.dispose(),$l&&_l&&El.add($l.register(_l))}},wl({ourProps:{ref:Xs},theirProps:qs,slot:{},defaultTag:_$3,name:"Portal"})),Js):null});function S$2(at,zs){let Ws=y$7(zs),{enabled:qs=!0,ownerDocument:Ys,...Xs}=at,Zs=K$6();return qs?React$1.createElement(j$3,{...Xs,ownerDocument:Ys,ref:Ws}):Zs({ourProps:{ref:Ws},theirProps:Xs,slot:{},defaultTag:_$3,name:"Portal"})}let I$1=reactExports.Fragment,c$5=reactExports.createContext(null);function D$2(at,zs){let{target:Ws,...qs}=at,Ys={ref:y$7(zs)},Xs=K$6();return React$1.createElement(c$5.Provider,{value:Ws},Xs({ourProps:Ys,theirProps:qs,defaultTag:I$1,name:"Popover.Group"}))}let m$4=reactExports.createContext(null),J$6=Y$2(S$2),X$6=Y$2(D$2),te$3=Object.assign(J$6,{Group:X$6});const c$4={Idle:{kind:"Idle"},Tracked:at=>({kind:"Tracked",position:at}),Moved:{kind:"Moved"}};function a$2(at){let zs=at.getBoundingClientRect();return`${zs.x},${zs.y}`}function p$4(at,zs,Ws){let qs=o$8();if(zs.kind==="Tracked"){let Ys=function(){Xs!==a$2(at)&&(qs.dispose(),Ws())},{position:Xs}=zs,Zs=new ResizeObserver(Ys);Zs.observe(at),qs.add(()=>Zs.disconnect()),qs.addEventListener(window,"scroll",Ys,{passive:!0}),qs.addEventListener(window,"resize",Ys)}return()=>qs.dispose()}function s$2(){let at=typeof document>"u";return"useSyncExternalStore"in t$6?(zs=>zs.useSyncExternalStore)(t$6)(()=>()=>{},()=>!1,()=>!at):!1}function l$1(){let at=s$2(),[zs,Ws]=reactExports.useState(s$a.isHandoffComplete);return zs&&s$a.isHandoffComplete===!1&&Ws(!1),reactExports.useEffect(()=>{zs!==!0&&Ws(!0)},[zs]),reactExports.useEffect(()=>s$a.handoff(),[]),at?!1:zs}function f$3(){let at=reactExports.useRef(!1);return n$7(()=>(at.current=!0,()=>{at.current=!1}),[]),at}function ue$2(at){var zs;return!!(at.enter||at.enterFrom||at.enterTo||at.leave||at.leaveFrom||at.leaveTo)||!b$7((zs=at.as)!=null?zs:de$4)||React$1.Children.count(at.children)===1}let V$3=reactExports.createContext(null);V$3.displayName="TransitionContext";var De$5=(at=>(at.Visible="visible",at.Hidden="hidden",at))(De$5||{});function He$4(){let at=reactExports.useContext(V$3);if(at===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return at}function Ae$4(){let at=reactExports.useContext(w$2);if(at===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return at}let w$2=reactExports.createContext(null);w$2.displayName="NestingContext";function M$5(at){return"children"in at?M$5(at.children):at.current.filter(({el:zs})=>zs.current!==null).filter(({state:zs})=>zs==="visible").length>0}function Te$5(at,zs){let Ws=s$9(at),qs=reactExports.useRef([]),Ys=f$3(),Xs=p$9(),Zs=o$7((Sl,Tl=C$8.Hidden)=>{let Il=qs.current.findIndex(({el:Al})=>Al===Sl);Il!==-1&&(u$d(Tl,{[C$8.Unmount](){qs.current.splice(Il,1)},[C$8.Hidden](){qs.current[Il].state="hidden"}}),Xs.microTask(()=>{var Al;!M$5(qs)&&Ys.current&&((Al=Ws.current)==null||Al.call(Ws))}))}),yl=o$7(Sl=>{let Tl=qs.current.find(({el:Il})=>Il===Sl);return Tl?Tl.state!=="visible"&&(Tl.state="visible"):qs.current.push({el:Sl,state:"visible"}),()=>Zs(Sl,C$8.Unmount)}),Js=reactExports.useRef([]),$l=reactExports.useRef(Promise.resolve()),El=reactExports.useRef({enter:[],leave:[]}),wl=o$7((Sl,Tl,Il)=>{Js.current.splice(0),zs&&(zs.chains.current[Tl]=zs.chains.current[Tl].filter(([Al])=>Al!==Sl)),zs==null||zs.chains.current[Tl].push([Sl,new Promise(Al=>{Js.current.push(Al)})]),zs==null||zs.chains.current[Tl].push([Sl,new Promise(Al=>{Promise.all(El.current[Tl].map(([xl,Pl])=>Pl)).then(()=>Al())})]),Tl==="enter"?$l.current=$l.current.then(()=>zs==null?void 0:zs.wait.current).then(()=>Il(Tl)):Il(Tl)}),_l=o$7((Sl,Tl,Il)=>{Promise.all(El.current[Tl].splice(0).map(([Al,xl])=>xl)).then(()=>{var Al;(Al=Js.current.shift())==null||Al()}).then(()=>Il(Tl))});return reactExports.useMemo(()=>({children:qs,register:yl,unregister:Zs,onStart:wl,onStop:_l,wait:$l,chains:El}),[yl,Zs,qs,wl,_l,El,$l])}let de$4=reactExports.Fragment,fe$4=A$4.RenderStrategy;function Fe$3(at,zs){var Ws,qs;let{transition:Ys=!0,beforeEnter:Xs,afterEnter:Zs,beforeLeave:yl,afterLeave:Js,enter:$l,enterFrom:El,enterTo:wl,entered:_l,leave:Sl,leaveFrom:Tl,leaveTo:Il,...Al}=at,[xl,Pl]=reactExports.useState(null),Cl=reactExports.useRef(null),Rl=ue$2(at),Ol=y$7(...Rl?[Cl,zs,Pl]:zs===null?[]:[zs]),Ml=(Ws=Al.unmount)==null||Ws?C$8.Unmount:C$8.Hidden,{show:Ll,appear:Bl,initial:Wl}=He$4(),[Yl,Kl]=reactExports.useState(Ll?"visible":"hidden"),Xl=Ae$4(),{register:Ul,unregister:Vl}=Xl;n$7(()=>Ul(Cl),[Ul,Cl]),n$7(()=>{if(Ml===C$8.Hidden&&Cl.current){if(Ll&&Yl!=="visible"){Kl("visible");return}return u$d(Yl,{hidden:()=>Vl(Cl),visible:()=>Ul(Cl)})}},[Yl,Cl,Ul,Vl,Ll,Ml]);let Nl=l$1();n$7(()=>{if(Rl&&Nl&&Yl==="visible"&&Cl.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Cl,Yl,Nl,Rl]);let Dl=Wl&&!Bl,Gl=Bl&&Ll&&Wl,Fl=reactExports.useRef(!1),Hl=Te$5(()=>{Fl.current||(Kl("hidden"),Vl(Cl))},Xl),Zl=o$7(Mu=>{Fl.current=!0;let Hu=Mu?"enter":"leave";Hl.onStart(Cl,Hu,Ku=>{Ku==="enter"?Xs==null||Xs():Ku==="leave"&&(yl==null||yl())})}),Su=o$7(Mu=>{let Hu=Mu?"enter":"leave";Fl.current=!1,Hl.onStop(Cl,Hu,Ku=>{Ku==="enter"?Zs==null||Zs():Ku==="leave"&&(Js==null||Js())}),Hu==="leave"&&!M$5(Hl)&&(Kl("hidden"),Vl(Cl))});reactExports.useEffect(()=>{Rl&&Ys||(Zl(Ll),Su(Ll))},[Ll,Rl,Ys]);let $u=!(!Ys||!Rl||!Nl||Dl),[,Pu]=N$5($u,xl,Ll,{start:Zl,end:Su}),ku=m$7({ref:Ol,className:((qs=t$3(Al.className,Gl&&$l,Gl&&El,Pu.enter&&$l,Pu.enter&&Pu.closed&&El,Pu.enter&&!Pu.closed&&wl,Pu.leave&&Sl,Pu.leave&&!Pu.closed&&Tl,Pu.leave&&Pu.closed&&Il,!Pu.transition&&Ll&&_l))==null?void 0:qs.trim())||void 0,...x$5(Pu)}),Tu=0;Yl==="visible"&&(Tu|=i$2.Open),Yl==="hidden"&&(Tu|=i$2.Closed),Ll&&Yl==="hidden"&&(Tu|=i$2.Opening),!Ll&&Yl==="visible"&&(Tu|=i$2.Closing);let Ru=K$6();return React$1.createElement(w$2.Provider,{value:Hl},React$1.createElement(c$8,{value:Tu},Ru({ourProps:ku,theirProps:Al,defaultTag:de$4,features:fe$4,visible:Yl==="visible",name:"Transition.Child"})))}function Ie$5(at,zs){let{show:Ws,appear:qs=!1,unmount:Ys=!0,...Xs}=at,Zs=reactExports.useRef(null),yl=ue$2(at),Js=y$7(...yl?[Zs,zs]:zs===null?[]:[zs]);l$1();let $l=u$3();if(Ws===void 0&&$l!==null&&(Ws=($l&i$2.Open)===i$2.Open),Ws===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[El,wl]=reactExports.useState(Ws?"visible":"hidden"),_l=Te$5(()=>{Ws||wl("hidden")}),[Sl,Tl]=reactExports.useState(!0),Il=reactExports.useRef([Ws]);n$7(()=>{Sl!==!1&&Il.current[Il.current.length-1]!==Ws&&(Il.current.push(Ws),Tl(!1))},[Il,Ws]);let Al=reactExports.useMemo(()=>({show:Ws,appear:qs,initial:Sl}),[Ws,qs,Sl]);n$7(()=>{Ws?wl("visible"):!M$5(_l)&&Zs.current!==null&&wl("hidden")},[Ws,_l]);let xl={unmount:Ys},Pl=o$7(()=>{var Ol;Sl&&Tl(!1),(Ol=at.beforeEnter)==null||Ol.call(at)}),Cl=o$7(()=>{var Ol;Sl&&Tl(!1),(Ol=at.beforeLeave)==null||Ol.call(at)}),Rl=K$6();return React$1.createElement(w$2.Provider,{value:_l},React$1.createElement(V$3.Provider,{value:Al},Rl({ourProps:{...xl,as:reactExports.Fragment,children:React$1.createElement(me$5,{ref:Js,...xl,...Xs,beforeEnter:Pl,beforeLeave:Cl})},theirProps:{},defaultTag:reactExports.Fragment,features:fe$4,visible:El==="visible",name:"Transition"})))}function Le$5(at,zs){let Ws=reactExports.useContext(V$3)!==null,qs=u$3()!==null;return React$1.createElement(React$1.Fragment,null,!Ws&&qs?React$1.createElement(X$5,{ref:zs,...at}):React$1.createElement(me$5,{ref:zs,...at}))}let X$5=Y$2(Ie$5),me$5=Y$2(Fe$3),Oe$3=Y$2(Le$5),Ke$4=Object.assign(X$5,{Child:Oe$3,Root:X$5}),x$4="input";function h$4(at,zs){let Ws=reactExports.useId(),qs=u$c(),Ys=a$c(),{id:Xs=qs||`headlessui-input-${Ws}`,disabled:Zs=Ys||!1,autoFocus:yl=!1,invalid:Js=!1,...$l}=at,El=N$6(),wl=w$5(),{isFocused:_l,focusProps:Sl}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:yl}),{isHovered:Tl,hoverProps:Il}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Zs}),Al=V$5({ref:zs,id:Xs,"aria-labelledby":El,"aria-describedby":wl,"aria-invalid":Js?"true":void 0,disabled:Zs||void 0,autoFocus:yl},Sl,Il),xl=n$6({disabled:Zs,invalid:Js,hover:Tl,focus:_l,autofocus:yl});return K$6()({ourProps:Al,theirProps:$l,slot:xl,defaultTag:x$4,name:"Input"})}let X$4=Y$2(h$4),a$1=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o$1(at){var zs,Ws;let qs=(zs=at.innerText)!=null?zs:"",Ys=at.cloneNode(!0);if(!n$5(Ys))return qs;let Xs=!1;for(let yl of Ys.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))yl.remove(),Xs=!0;let Zs=Xs?(Ws=Ys.innerText)!=null?Ws:"":qs;return a$1.test(Zs)&&(Zs=Zs.replace(a$1,"")),Zs}function F$2(at){let zs=at.getAttribute("aria-label");if(typeof zs=="string")return zs.trim();let Ws=at.getAttribute("aria-labelledby");if(Ws){let qs=Ws.split(" ").map(Ys=>{let Xs=document.getElementById(Ys);if(Xs){let Zs=Xs.getAttribute("aria-label");return typeof Zs=="string"?Zs.trim():o$1(Xs).trim()}return null}).filter(Boolean);if(qs.length>0)return qs.join(", ")}return o$1(at).trim()}function s$1(at){let zs=reactExports.useRef(""),Ws=reactExports.useRef("");return o$7(()=>{let qs=at.current;if(!qs)return"";let Ys=qs.innerText;if(zs.current===Ys)return Ws.current;let Xs=F$2(qs).trim().toLowerCase();return zs.current=Ys,Ws.current=Xs,Xs})}var T$2=Object.defineProperty,y$3=(at,zs,Ws)=>zs in at?T$2(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,b$4=(at,zs,Ws)=>(y$3(at,typeof zs!="symbol"?zs+"":zs,Ws),Ws),F$1=(at=>(at[at.Open=0]="Open",at[at.Closed=1]="Closed",at))(F$1||{}),P$5=(at=>(at[at.Single=0]="Single",at[at.Multi=1]="Multi",at))(P$5||{}),C$2=(at=>(at[at.Pointer=0]="Pointer",at[at.Other=1]="Other",at))(C$2||{}),k$4=(at=>(at[at.OpenListbox=0]="OpenListbox",at[at.CloseListbox=1]="CloseListbox",at[at.GoToOption=2]="GoToOption",at[at.Search=3]="Search",at[at.ClearSearch=4]="ClearSearch",at[at.SelectOption=5]="SelectOption",at[at.RegisterOptions=6]="RegisterOptions",at[at.UnregisterOptions=7]="UnregisterOptions",at[at.SetButtonElement=8]="SetButtonElement",at[at.SetOptionsElement=9]="SetOptionsElement",at[at.SortOptions=10]="SortOptions",at[at.MarkButtonAsMoved=11]="MarkButtonAsMoved",at))(k$4||{});function g(at,zs=Ws=>Ws){let Ws=at.activeOptionIndex!==null?at.options[at.activeOptionIndex]:null,qs=G$3(zs(at.options.slice()),Xs=>Xs.dataRef.current.domRef.current),Ys=Ws?qs.indexOf(Ws):null;return Ys===-1&&(Ys=null),{options:qs,activeOptionIndex:Ys}}let D$1={1(at){if(at.dataRef.current.disabled||at.listboxState===1)return at;let zs=at.buttonElement?c$4.Tracked(a$2(at.buttonElement)):at.buttonPositionState;return{...at,activeOptionIndex:null,pendingFocus:{focus:c$7.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:zs}},0(at,zs){if(at.dataRef.current.disabled||at.listboxState===0)return at;let Ws=at.activeOptionIndex,{isSelected:qs}=at.dataRef.current,Ys=at.options.findIndex(Xs=>qs(Xs.dataRef.current.value));return Ys!==-1&&(Ws=Ys),{...at,frozenValue:!1,pendingFocus:zs.focus,listboxState:0,activeOptionIndex:Ws,__demoMode:!1,buttonPositionState:c$4.Idle}},2(at,zs){var Ws,qs,Ys,Xs,Zs;if(at.dataRef.current.disabled||at.listboxState===1)return at;let yl={...at,searchQuery:"",activationTrigger:(Ws=zs.trigger)!=null?Ws:1,__demoMode:!1};if(zs.focus===c$7.Nothing)return{...yl,activeOptionIndex:null};if(zs.focus===c$7.Specific)return{...yl,activeOptionIndex:at.options.findIndex(El=>El.id===zs.id)};if(zs.focus===c$7.Previous){let El=at.activeOptionIndex;if(El!==null){let wl=at.options[El].dataRef.current.domRef,_l=f$4(zs,{resolveItems:()=>at.options,resolveActiveIndex:()=>at.activeOptionIndex,resolveId:Sl=>Sl.id,resolveDisabled:Sl=>Sl.dataRef.current.disabled});if(_l!==null){let Sl=at.options[_l].dataRef.current.domRef;if(((qs=wl.current)==null?void 0:qs.previousElementSibling)===Sl.current||((Ys=Sl.current)==null?void 0:Ys.previousElementSibling)===null)return{...yl,activeOptionIndex:_l}}}}else if(zs.focus===c$7.Next){let El=at.activeOptionIndex;if(El!==null){let wl=at.options[El].dataRef.current.domRef,_l=f$4(zs,{resolveItems:()=>at.options,resolveActiveIndex:()=>at.activeOptionIndex,resolveId:Sl=>Sl.id,resolveDisabled:Sl=>Sl.dataRef.current.disabled});if(_l!==null){let Sl=at.options[_l].dataRef.current.domRef;if(((Xs=wl.current)==null?void 0:Xs.nextElementSibling)===Sl.current||((Zs=Sl.current)==null?void 0:Zs.nextElementSibling)===null)return{...yl,activeOptionIndex:_l}}}}let Js=g(at),$l=f$4(zs,{resolveItems:()=>Js.options,resolveActiveIndex:()=>Js.activeOptionIndex,resolveId:El=>El.id,resolveDisabled:El=>El.dataRef.current.disabled});return{...yl,...Js,activeOptionIndex:$l}},3:(at,zs)=>{if(at.dataRef.current.disabled||at.listboxState===1)return at;let Ws=at.searchQuery!==""?0:1,qs=at.searchQuery+zs.value.toLowerCase(),Ys=(at.activeOptionIndex!==null?at.options.slice(at.activeOptionIndex+Ws).concat(at.options.slice(0,at.activeOptionIndex+Ws)):at.options).find(Zs=>{var yl;return!Zs.dataRef.current.disabled&&((yl=Zs.dataRef.current.textValue)==null?void 0:yl.startsWith(qs))}),Xs=Ys?at.options.indexOf(Ys):-1;return Xs===-1||Xs===at.activeOptionIndex?{...at,searchQuery:qs}:{...at,searchQuery:qs,activeOptionIndex:Xs,activationTrigger:1}},4(at){return at.dataRef.current.disabled||at.listboxState===1||at.searchQuery===""?at:{...at,searchQuery:""}},5(at){return at.dataRef.current.mode===0?{...at,frozenValue:!0}:{...at}},6:(at,zs)=>{let Ws=at.options.concat(zs.options),qs=at.activeOptionIndex;if(at.pendingFocus.focus!==c$7.Nothing&&(qs=f$4(at.pendingFocus,{resolveItems:()=>Ws,resolveActiveIndex:()=>at.activeOptionIndex,resolveId:Ys=>Ys.id,resolveDisabled:Ys=>Ys.dataRef.current.disabled})),at.activeOptionIndex===null){let{isSelected:Ys}=at.dataRef.current;if(Ys){let Xs=Ws.findIndex(Zs=>Ys==null?void 0:Ys(Zs.dataRef.current.value));Xs!==-1&&(qs=Xs)}}return{...at,options:Ws,activeOptionIndex:qs,pendingFocus:{focus:c$7.Nothing},pendingShouldSort:!0}},7:(at,zs)=>{let Ws=at.options,qs=[],Ys=new Set(zs.options);for(let[Xs,Zs]of Ws.entries())if(Ys.has(Zs.id)&&(qs.push(Xs),Ys.delete(Zs.id),Ys.size===0))break;if(qs.length>0){Ws=Ws.slice();for(let Xs of qs.reverse())Ws.splice(Xs,1)}return{...at,options:Ws,activationTrigger:1}},8:(at,zs)=>at.buttonElement===zs.element?at:{...at,buttonElement:zs.element},9:(at,zs)=>at.optionsElement===zs.element?at:{...at,optionsElement:zs.element},10:at=>at.pendingShouldSort?{...at,...g(at),pendingShouldSort:!1}:at,11(at){return at.buttonPositionState.kind!=="Tracked"?at:{...at,buttonPositionState:c$4.Moved}}},h$3=class d0 extends T$5{constructor(zs){super(zs),b$4(this,"actions",{onChange:Ws=>{let{onChange:qs,compare:Ys,mode:Xs,value:Zs}=this.state.dataRef.current;return u$d(Xs,{0:()=>qs==null?void 0:qs(Ws),1:()=>{let yl=Zs.slice(),Js=yl.findIndex($l=>Ys($l,Ws));return Js===-1?yl.push(Ws):yl.splice(Js,1),qs==null?void 0:qs(yl)}})},registerOption:k$7(()=>{let Ws=[],qs=new Set;return[(Ys,Xs)=>{qs.has(Xs)||(qs.add(Xs),Ws.push({id:Ys,dataRef:Xs}))},()=>(qs.clear(),this.send({type:6,options:Ws.splice(0)}))]}),unregisterOption:k$7(()=>{let Ws=[];return[qs=>Ws.push(qs),()=>{this.send({type:7,options:Ws.splice(0)})}]}),goToOption:k$7(()=>{let Ws=null;return[(qs,Ys)=>{Ws={type:2,...qs,trigger:Ys}},()=>Ws&&this.send(Ws)]}),closeListbox:()=>{this.send({type:1})},openListbox:Ws=>{this.send({type:0,focus:Ws})},selectActiveOption:()=>{var Ws;if(this.state.activeOptionIndex!==null){let{dataRef:qs}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(qs.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(Ws=this.state.buttonElement)==null||Ws.focus({preventScroll:!0}))},selectOption:Ws=>{this.send({type:5,value:Ws})},search:Ws=>{this.send({type:3,value:Ws})},clearSearch:()=>{this.send({type:4})},setButtonElement:Ws=>{this.send({type:8,element:Ws})},setOptionsElement:Ws=>{this.send({type:9,element:Ws})}}),b$4(this,"selectors",{activeDescendantId(Ws){var qs;let Ys=Ws.activeOptionIndex,Xs=Ws.options;return Ys===null||(qs=Xs[Ys])==null?void 0:qs.id},isActive(Ws,qs){var Ys;let Xs=Ws.activeOptionIndex,Zs=Ws.options;return Xs!==null?((Ys=Zs[Xs])==null?void 0:Ys.id)===qs:!1},hasFrozenValue(Ws){return Ws.frozenValue},shouldScrollIntoView(Ws,qs){return Ws.__demoMode||Ws.listboxState!==0||Ws.activationTrigger===0?!1:this.isActive(Ws,qs)},didButtonMove(Ws){return Ws.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let Ws=this.state.id,qs=x$7.get(null);this.disposables.add(qs.on(k$6.Push,Ys=>{!qs.selectors.isTop(Ys,Ws)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>qs.actions.push(Ws)),this.on(1,()=>qs.actions.pop(Ws))}this.disposables.group(Ws=>{this.on(1,qs=>{qs.buttonElement&&(Ws.dispose(),Ws.add(p$4(qs.buttonElement,qs.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(Ws,qs)=>{var Ys;this.actions.onChange(qs.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(Ys=this.state.buttonElement)==null||Ys.focus({preventScroll:!0}))})}static new({id:zs,__demoMode:Ws=!1}){return new d0({id:zs,dataRef:{current:{}},listboxState:Ws?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:c$7.Nothing},frozenValue:!1,__demoMode:Ws,buttonPositionState:c$4.Idle})}reduce(zs,Ws){return u$d(Ws.type,D$1,zs,Ws)}};const c$3=reactExports.createContext(null);function p$3(at){let zs=reactExports.useContext(c$3);if(zs===null){let Ws=new Error(`<${at} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Ws,u$1),Ws}return zs}function u$1({id:at,__demoMode:zs=!1}){let Ws=reactExports.useMemo(()=>h$3.new({id:at,__demoMode:zs}),[]);return c$6(()=>Ws.dispose()),Ws}let oe$3=reactExports.createContext(null);oe$3.displayName="ListboxDataContext";function Q$4(at){let zs=reactExports.useContext(oe$3);if(zs===null){let Ws=new Error(`<${at} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Ws,Q$4),Ws}return zs}let Pt$4=reactExports.Fragment;function gt$3(at,zs){let Ws=reactExports.useId(),qs=a$c(),{value:Ys,defaultValue:Xs,form:Zs,name:yl,onChange:Js,by:$l,invalid:El=!1,disabled:wl=qs||!1,horizontal:_l=!1,multiple:Sl=!1,__demoMode:Tl=!1,...Il}=at;const Al=_l?"horizontal":"vertical";let xl=y$7(zs),Pl=l$5(Xs),[Cl=Sl?[]:void 0,Rl]=b$6(Ys,Js,Pl),Ol=u$1({id:Ws,__demoMode:Tl}),Ml=reactExports.useRef({static:!1,hold:!1}),Ll=reactExports.useRef(new Map),Bl=u$9($l),Wl=reactExports.useCallback($u=>u$d(Yl.mode,{[P$5.Multi]:()=>Cl.some(Pu=>Bl(Pu,$u)),[P$5.Single]:()=>Bl(Cl,$u)}),[Cl]),Yl=n$6({value:Cl,disabled:wl,invalid:El,mode:Sl?P$5.Multi:P$5.Single,orientation:Al,onChange:Rl,compare:Bl,isSelected:Wl,optionsPropsRef:Ml,listRef:Ll});n$7(()=>{Ol.state.dataRef.current=Yl},[Yl]);let Kl=S$6(Ol,$u=>$u.listboxState),Xl=x$7.get(null),Ul=S$6(Xl,reactExports.useCallback($u=>Xl.selectors.isTop($u,Ws),[Xl,Ws])),[Vl,Nl]=S$6(Ol,$u=>[$u.buttonElement,$u.optionsElement]);k$5(Ul,[Vl,Nl],($u,Pu)=>{Ol.send({type:k$4.CloseListbox}),H$4(Pu,I$2.Loose)||($u.preventDefault(),Vl==null||Vl.focus())});let Dl=n$6({open:Kl===F$1.Open,disabled:wl,invalid:El,value:Cl}),[Gl,Fl]=V$4({inherit:!0}),Hl={ref:xl},Zl=reactExports.useCallback(()=>{if(Pl!==void 0)return Rl==null?void 0:Rl(Pl)},[Rl,Pl]),Su=K$6();return React$1.createElement(Fl,{value:Gl,props:{htmlFor:Vl==null?void 0:Vl.id},slot:{open:Kl===F$1.Open,disabled:wl}},React$1.createElement(Ae$5,null,React$1.createElement(c$3.Provider,{value:Ol},React$1.createElement(oe$3.Provider,{value:Yl},React$1.createElement(c$8,{value:u$d(Kl,{[F$1.Open]:i$2.Open,[F$1.Closed]:i$2.Closed})},yl!=null&&Cl!=null&&React$1.createElement(j$7,{disabled:wl,data:{[yl]:Cl},form:Zs,onReset:Zl}),Su({ourProps:Hl,theirProps:Il,slot:Dl,defaultTag:Pt$4,name:"Listbox"}))))))}let vt$3="button";function Et$4(at,zs){let Ws=reactExports.useId(),qs=u$c(),Ys=Q$4("Listbox.Button"),Xs=p$3("Listbox.Button"),{id:Zs=qs||`headlessui-listbox-button-${Ws}`,disabled:yl=Ys.disabled||!1,autoFocus:Js=!1,...$l}=at,El=y$7(zs,Fe$4(),Xs.actions.setButtonElement),wl=be$4(),[_l,Sl,Tl]=S$6(Xs,Nl=>[Nl.listboxState,Nl.buttonElement,Nl.optionsElement]),Il=_l===F$1.Open;L$1(Il,{trigger:Sl,action:reactExports.useCallback(Nl=>{if(Sl!=null&&Sl.contains(Nl.target))return S$4.Ignore;let Dl=Nl.target.closest('[role="option"]:not([data-disabled])');return n$5(Dl)?S$4.Select(Dl):Tl!=null&&Tl.contains(Nl.target)?S$4.Ignore:S$4.Close},[Sl,Tl]),close:Xs.actions.closeListbox,select:Xs.actions.selectActiveOption});let Al=o$7(Nl=>{switch(Nl.key){case o$5.Enter:g$3(Nl.currentTarget);break;case o$5.Space:case o$5.ArrowDown:Nl.preventDefault(),Xs.actions.openListbox({focus:Ys.value?c$7.Nothing:c$7.First});break;case o$5.ArrowUp:Nl.preventDefault(),Xs.actions.openListbox({focus:Ys.value?c$7.Nothing:c$7.Last});break}}),xl=o$7(Nl=>{switch(Nl.key){case o$5.Space:Nl.preventDefault();break}}),Pl=s$5(Nl=>{var Dl;Xs.state.listboxState===F$1.Open?(reactDomExports.flushSync(()=>Xs.actions.closeListbox()),(Dl=Xs.state.buttonElement)==null||Dl.focus({preventScroll:!0})):(Nl.preventDefault(),Xs.actions.openListbox({focus:c$7.Nothing}))}),Cl=o$7(Nl=>Nl.preventDefault()),Rl=N$6([Zs]),Ol=w$5(),{isFocusVisible:Ml,focusProps:Ll}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Js}),{isHovered:Bl,hoverProps:Wl}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:yl}),{pressed:Yl,pressProps:Kl}=w$6({disabled:yl}),Xl=n$6({open:_l===F$1.Open,active:Yl||_l===F$1.Open,disabled:yl,invalid:Ys.invalid,value:Ys.value,hover:Bl,focus:Ml,autofocus:Js}),Ul=S$6(Xs,Nl=>Nl.listboxState===F$1.Open),Vl=V$5(wl(),{ref:El,id:Zs,type:e$2(at,Sl),"aria-haspopup":"listbox","aria-controls":Tl==null?void 0:Tl.id,"aria-expanded":Ul,"aria-labelledby":Rl,"aria-describedby":Ol,disabled:yl||void 0,autoFocus:Js,onKeyDown:Al,onKeyUp:xl,onKeyPress:Cl},Pl,Ll,Wl,Kl);return K$6()({ourProps:Vl,theirProps:$l,slot:Xl,defaultTag:vt$3,name:"Listbox.Button"})}let Oe$2=reactExports.createContext(!1),ht$2="div",At$2=A$4.RenderStrategy|A$4.Static;function _t$3(at,zs){let Ws=reactExports.useId(),{id:qs=`headlessui-listbox-options-${Ws}`,anchor:Ys,portal:Xs=!1,modal:Zs=!0,transition:yl=!1,...Js}=at,$l=ye$5(Ys),[El,wl]=reactExports.useState(null);$l&&(Xs=!0);let _l=Q$4("Listbox.Options"),Sl=p$3("Listbox.Options"),[Tl,Il,Al,xl]=S$6(Sl,Ru=>[Ru.listboxState,Ru.buttonElement,Ru.optionsElement,Ru.__demoMode]),Pl=u$6(Il),Cl=u$6(Al),Rl=u$3(),[Ol,Ml]=N$5(yl,El,Rl!==null?(Rl&i$2.Open)===i$2.Open:Tl===F$1.Open);p$5(Ol,Il,Sl.actions.closeListbox);let Ll=xl?!1:Zs&&Tl===F$1.Open;f$6(Ll,Cl);let Bl=xl?!1:Zs&&Tl===F$1.Open;y$5(Bl,{allowed:reactExports.useCallback(()=>[Il,Al],[Il,Al])});let Wl=S$6(Sl,Sl.selectors.didButtonMove)?!1:Ol,Yl=S$6(Sl,Sl.selectors.hasFrozenValue)&&!at.static,Kl=u$4(Yl,_l.value),Xl=reactExports.useCallback(Ru=>_l.compare(Kl,Ru),[_l.compare,Kl]),Ul=S$6(Sl,Ru=>{var Mu;if($l==null||!((Mu=$l==null?void 0:$l.to)!=null&&Mu.includes("selection")))return null;let Hu=Ru.options.findIndex(Ku=>Xl(Ku.dataRef.current.value));return Hu===-1&&(Hu=0),Hu}),Vl=(()=>{if($l==null)return;if(Ul===null)return{...$l,inner:void 0};let Ru=Array.from(_l.listRef.current.values());return{...$l,inner:{listRef:{current:Ru},index:Ul}}})(),[Nl,Dl]=Re$4(Vl),Gl=Te$6(),Fl=y$7(zs,$l?Nl:null,Sl.actions.setOptionsElement,wl),Hl=p$9();reactExports.useEffect(()=>{let Ru=Al;Ru&&Tl===F$1.Open&&(d$4(Ru)||Ru==null||Ru.focus({preventScroll:!0}))},[Tl,Al]);let Zl=o$7(Ru=>{var Mu;switch(Hl.dispose(),Ru.key){case o$5.Space:if(Sl.state.searchQuery!=="")return Ru.preventDefault(),Ru.stopPropagation(),Sl.actions.search(Ru.key);case o$5.Enter:Ru.preventDefault(),Ru.stopPropagation(),Sl.actions.selectActiveOption();break;case u$d(_l.orientation,{vertical:o$5.ArrowDown,horizontal:o$5.ArrowRight}):return Ru.preventDefault(),Ru.stopPropagation(),Sl.actions.goToOption({focus:c$7.Next});case u$d(_l.orientation,{vertical:o$5.ArrowUp,horizontal:o$5.ArrowLeft}):return Ru.preventDefault(),Ru.stopPropagation(),Sl.actions.goToOption({focus:c$7.Previous});case o$5.Home:case o$5.PageUp:return Ru.preventDefault(),Ru.stopPropagation(),Sl.actions.goToOption({focus:c$7.First});case o$5.End:case o$5.PageDown:return Ru.preventDefault(),Ru.stopPropagation(),Sl.actions.goToOption({focus:c$7.Last});case o$5.Escape:Ru.preventDefault(),Ru.stopPropagation(),reactDomExports.flushSync(()=>Sl.actions.closeListbox()),(Mu=Sl.state.buttonElement)==null||Mu.focus({preventScroll:!0});return;case o$5.Tab:Ru.preventDefault(),Ru.stopPropagation(),reactDomExports.flushSync(()=>Sl.actions.closeListbox()),R$4(Sl.state.buttonElement,Ru.shiftKey?T$4.Previous:T$4.Next);break;default:Ru.key.length===1&&(Sl.actions.search(Ru.key),Hl.setTimeout(()=>Sl.actions.clearSearch(),350));break}}),Su=S$6(Sl,Ru=>{var Mu;return(Mu=Ru.buttonElement)==null?void 0:Mu.id}),$u=n$6({open:Tl===F$1.Open}),Pu=V$5($l?Gl():{},{id:qs,ref:Fl,"aria-activedescendant":S$6(Sl,Sl.selectors.activeDescendantId),"aria-multiselectable":_l.mode===P$5.Multi?!0:void 0,"aria-labelledby":Su,"aria-orientation":_l.orientation,onKeyDown:Zl,role:"listbox",tabIndex:Tl===F$1.Open?0:void 0,style:{...Js.style,...Dl,"--button-width":w$4(Ol,Il,!0).width},...x$5(Ml)}),ku=K$6(),Tu=reactExports.useMemo(()=>_l.mode===P$5.Multi?_l:{..._l,isSelected:Xl},[_l,Xl]);return React$1.createElement(te$3,{enabled:Xs?at.static||Ol:!1,ownerDocument:Pl},React$1.createElement(oe$3.Provider,{value:Tu},ku({ourProps:Pu,theirProps:Js,slot:$u,defaultTag:ht$2,features:At$2,visible:Wl,name:"Listbox.Options"})))}let St$4="div";function Dt$2(at,zs){let Ws=reactExports.useId(),{id:qs=`headlessui-listbox-option-${Ws}`,disabled:Ys=!1,value:Xs,...Zs}=at,yl=reactExports.useContext(Oe$2)===!0,Js=Q$4("Listbox.Option"),$l=p$3("Listbox.Option"),El=S$6($l,Yl=>$l.selectors.isActive(Yl,qs)),wl=Js.isSelected(Xs),_l=reactExports.useRef(null),Sl=s$1(_l),Tl=s$9({disabled:Ys,value:Xs,domRef:_l,get textValue(){return Sl()}}),Il=y$7(zs,_l,Yl=>{Yl?Js.listRef.current.set(qs,Yl):Js.listRef.current.delete(qs)}),Al=S$6($l,Yl=>$l.selectors.shouldScrollIntoView(Yl,qs));n$7(()=>{if(Al)return o$8().requestAnimationFrame(()=>{var Yl,Kl;(Kl=(Yl=_l.current)==null?void 0:Yl.scrollIntoView)==null||Kl.call(Yl,{block:"nearest"})})},[Al,_l]),n$7(()=>{if(!yl)return $l.actions.registerOption(qs,Tl),()=>$l.actions.unregisterOption(qs)},[Tl,qs,yl]);let xl=o$7(Yl=>{if(Ys)return Yl.preventDefault();$l.actions.selectOption(Xs)}),Pl=o$7(()=>{if(Ys)return $l.actions.goToOption({focus:c$7.Nothing});$l.actions.goToOption({focus:c$7.Specific,id:qs})}),Cl=u$5(),Rl=o$7(Yl=>Cl.update(Yl)),Ol=o$7(Yl=>{Cl.wasMoved(Yl)&&(Ys||El&&$l.state.activationTrigger===C$2.Pointer||$l.actions.goToOption({focus:c$7.Specific,id:qs},C$2.Pointer))}),Ml=o$7(Yl=>{Cl.wasMoved(Yl)&&(Ys||El&&$l.state.activationTrigger===C$2.Pointer&&$l.actions.goToOption({focus:c$7.Nothing}))}),Ll=n$6({active:El,focus:El,selected:wl,disabled:Ys,selectedOption:wl&&yl}),Bl=yl?{}:{id:qs,ref:Il,role:"option",tabIndex:Ys===!0?void 0:-1,"aria-disabled":Ys===!0?!0:void 0,"aria-selected":wl,disabled:void 0,onClick:xl,onFocus:Pl,onPointerEnter:Rl,onMouseEnter:Rl,onPointerMove:Ol,onMouseMove:Ol,onPointerLeave:Ml,onMouseLeave:Ml},Wl=K$6();return!wl&&yl?null:Wl({ourProps:Bl,theirProps:Zs,slot:Ll,defaultTag:St$4,name:"Listbox.Option"})}let Rt$4=reactExports.Fragment;function Ft$3(at,zs){let{options:Ws,placeholder:qs,...Ys}=at,Xs={ref:y$7(zs)},Zs=Q$4("ListboxSelectedOption"),yl=n$6({}),Js=Zs.value===void 0||Zs.value===null||Zs.mode===P$5.Multi&&Array.isArray(Zs.value)&&Zs.value.length===0,$l=K$6();return React$1.createElement(Oe$2.Provider,{value:!0},$l({ourProps:Xs,theirProps:{...Ys,children:React$1.createElement(React$1.Fragment,null,qs&&Js?qs:Ws)},slot:yl,defaultTag:Rt$4,name:"ListboxSelectedOption"}))}let Ct$2=Y$2(gt$3),Mt$3=Y$2(Et$4),wt$3=Z$1,Bt$3=Y$2(_t$3),It$4=Y$2(Dt$2),kt$3=Y$2(Ft$3),Mo$3=Object.assign(Ct$2,{Button:Mt$3,Label:wt$3,Options:Bt$3,Option:It$4,SelectedOption:kt$3}),L="textarea";function H$2(at,zs){let Ws=reactExports.useId(),qs=u$c(),Ys=a$c(),{id:Xs=qs||`headlessui-textarea-${Ws}`,disabled:Zs=Ys||!1,autoFocus:yl=!1,invalid:Js=!1,...$l}=at,El=N$6(),wl=w$5(),{isFocused:_l,focusProps:Sl}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:yl}),{isHovered:Tl,hoverProps:Il}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Zs}),Al=V$5({ref:zs,id:Xs,"aria-labelledby":El,"aria-describedby":wl,"aria-invalid":Js?"true":void 0,disabled:Zs||void 0,autoFocus:yl},Sl,Il),xl=n$6({disabled:Zs,invalid:Js,hover:Tl,focus:_l,autofocus:yl});return K$6()({ourProps:Al,theirProps:$l,slot:xl,defaultTag:L,name:"Textarea"})}let M$4=Y$2(H$2);var _excluded$1=["className","style","strokeWidth"];function Spinner(at){var zs=at.className,Ws=at.style,qs=at.strokeWidth,Ys=qs===void 0?3:qs,Xs=_objectWithoutProperties$1(at,_excluded$1);return jsxRuntimeExports.jsxs("svg",_objectSpread2$2(_objectSpread2$2({width:24,height:24,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:clsx("text-primary-light dark:text-primary-dark",zs),style:Ws},Xs),{},{children:[jsxRuntimeExports.jsx("style",{children:".spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}95%,100%{stroke-dasharray:42 150;stroke-dashoffset:-59}}"}),jsxRuntimeExports.jsx("g",{className:"spinner_V8m1",children:jsxRuntimeExports.jsx("circle",{cx:12,cy:12,r:9.5,strokeWidth:Ys})})]}))}var _excluded=["children","className","disabled","name"];function BaseButton(at){var zs=at.children,Ws=at.className,qs=at.disabled,Ys=at.name,Xs=_objectWithoutProperties$1(at,_excluded);return jsxRuntimeExports.jsx("button",_objectSpread2$2(_objectSpread2$2({"data-testid":Ys,className:clsx("cursor-pointer",Ws),disabled:!!qs},Xs),{},{children:zs}))}function IconButton(at){var zs=at.icon,Ws=at.onClick,qs=at.disabled,Ys=at.loading,Xs=at.className,Zs=at.spinnerClassName,yl=at.name;return jsxRuntimeExports.jsx(BaseButton,{className:clsx("flex items-center justify-center p-2 rounded-full border-none text-icon-text-light dark:text-icon-text-dark bg-icon-background-light dark:bg-icon-background-dark active:outline-2 active:outline-primary-light active:dark:outline-primary-dark",qs&&"opacity-50 cursor-not-allowed",Xs),onClick:Ws,disabled:!!qs,name:yl,children:Ys?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center",children:jsxRuntimeExports.jsx(Spinner,{className:clsx("w-4 h-4",Zs)})}):jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:zs})})}function ActionButton(at){var zs=at.children,Ws=at.onClick,qs=at.onMouseEnter,Ys=at.onMouseLeave,Xs=at.disabled,Zs=at.loading,yl=at.loadingText,Js=at.className,$l=at.spinnerClassName,El=at.name;return jsxRuntimeExports.jsx(BaseButton,{onClick:Ws,onMouseEnter:qs,onMouseLeave:Ys,disabled:Xs||Zs,name:El,className:clsx("w-full px-4 py-3 rounded-md border border-modal-background-dark/15 dark:border-modal-background-light/15 focus:outline-primary-light focus:dark:outline-primary-dark focus:outline-[1px] focus:outline-offset-0 transition-all duration-300",(Xs||Zs)&&"opacity-50 cursor-not-allowed",Js),children:Zs?jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-2 items-center text-sm",children:[jsxRuntimeExports.jsx(Spinner,{className:clsx("w-4 h-4",$l)}),yl&&jsxRuntimeExports.jsx("span",{className:$l,children:yl})]}):zs})}function OAuthButton(at){var zs=reactExports.useRef(null),Ws=reactExports.useState(!1),qs=_slicedToArray$2(Ws,2),Ys=qs[0],Xs=qs[1],Zs=at.name,yl=at.icon,Js=at.onClick,$l=at.className;return reactExports.useEffect(function(){var El=new ResizeObserver(function(wl){var _l=_slicedToArray$2(wl,1),Sl=_l[0];if(Sl){var Tl=Sl.contentRect.width;Xs(Tl>300)}});return zs.current&&El.observe(zs.current),function(){return El.disconnect()}},[]),jsxRuntimeExports.jsx("div",{ref:zs,className:"w-full h-full",children:jsxRuntimeExports.jsxs(ActionButton,{onClick:Js,name:"oauth-".concat(Zs.toLowerCase()),className:"flex items-center justify-center gap-2 w-full h-full rounded-md bg-button-light dark:bg-button-dark text-inherit ".concat($l||""),children:[yl,Ys&&jsxRuntimeExports.jsx("span",{className:"truncate",children:"Continue with ".concat(Zs)})]})})}function isValidEmail(at){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(at)}function EmailInput(at){var zs,Ws,qs=at.onContinue,Ys=useTurnkey(),Xs=Ys.config,Zs=reactExports.useState(!1),yl=_slicedToArray$2(Zs,2),Js=yl[0],$l=yl[1],El=reactExports.useState(""),wl=_slicedToArray$2(El,2),_l=wl[0],Sl=wl[1],Tl=(zs=Xs==null||(Ws=Xs.ui)===null||Ws===void 0?void 0:Ws.preferLargeActionButtons)!==null&&zs!==void 0?zs:!1,Il=isValidEmail(_l),Al=function(){var Rl=_asyncToGenerator(_regenerator().m(function Ol(){return _regenerator().w(function(Ml){for(;;)switch(Ml.p=Ml.n){case 0:if(!(Il&&qs)){Ml.n=3;break}return $l(!0),Ml.p=1,Ml.n=2,Promise.resolve(qs(_l));case 2:return Ml.p=2,$l(!1),Ml.f(2);case 3:return Ml.a(2)}},Ol,null,[[1,,2,3]])}));return function(){return Rl.apply(this,arguments)}}(),xl=function(Ol){Ol.key==="Enter"&&Al()},Pl=!Il,Cl=clsx("transition-all duration-300",(Il||Tl)&&"bg-primary-light dark:bg-primary-dark hover:bg-primary-light/90 dark:hover:bg-primary-dark/90 text-primary-text-light dark:text-primary-text-dark");return jsxRuntimeExports.jsxs("div",{className:clsx("w-full items-center justify-center space-y-3",Tl?"flex flex-col":"flex flex-row"),children:[jsxRuntimeExports.jsxs("div",{className:clsx("w-full",!Tl&&"relative flex items-center"),children:[jsxRuntimeExports.jsx(X$4,{"data-testid":"email-input",type:"email",placeholder:"Enter your email",value:_l,onChange:function(Ol){return Sl(Ol.target.value)},onKeyDown:xl,className:"w-full py-3 px-4 rounded-md text-inherit placeholder-icon-text-light dark:placeholder-icon-text-dark bg-button-light dark:bg-button-dark border border-modal-background-dark/20 dark:border-modal-background-light/20 focus:outline-primary-light focus:dark:outline-primary-dark focus:outline-[1px] focus:outline-offset-0 box-border"}),!Tl&&jsxRuntimeExports.jsx(IconButton,{icon:faArrowRight,onClick:Al,disabled:Pl,loading:Js,name:"email-continue-icon",className:clsx("absolute right-2 w-6 h-6",Cl),spinnerClassName:"text-primary-text-light dark:text-primary-text-dark"})]}),Tl&&jsxRuntimeExports.jsx(ActionButton,{onClick:Al,disabled:Pl,loading:Js,className:clsx("w-full",Cl),name:"email-continue",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Continue"})]})}function OrSeparator(){return jsxRuntimeExports.jsxs("div",{className:"flex flex-row w-full items-center justify-center my-4",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-grow h-[1px] bg-icon-text-light/20 dark:bg-icon-text-dark/20"}),jsxRuntimeExports.jsx("span",{className:"mx-2 text-xs text-icon-text-light/60 dark:text-icon-text-dark/60",children:"OR"}),jsxRuntimeExports.jsx("div",{className:"flex flex-grow h-[1px] bg-icon-text-light/20 dark:bg-icon-text-dark/20"})]})}function OtpVerification(at){var zs=at.contact,Ws=at.otpType,qs=at.otpLength,Ys=qs===void 0?6:qs,Xs=at.alphanumeric,Zs=Xs===void 0?!0:Xs,yl=at.formattedContact,Js=at.sessionKey,$l=at.onContinue,El=$l===void 0?null:$l,wl=useTurnkey(),_l=wl.initOtp,Sl=wl.completeOtp,Tl=useModal(),Il=Tl.closeModal,Al=Tl.isMobile,xl=reactExports.useState(!1),Pl=_slicedToArray$2(xl,2),Cl=Pl[0],Rl=Pl[1],Ol=reactExports.useState(!1),Ml=_slicedToArray$2(Ol,2),Ll=Ml[0],Bl=Ml[1],Wl=reactExports.useState(!1),Yl=_slicedToArray$2(Wl,2),Kl=Yl[0],Xl=Yl[1],Ul=reactExports.useState(at.otpId),Vl=_slicedToArray$2(Ul,2),Nl=Vl[0],Dl=Vl[1],Gl=reactExports.useState(null),Fl=_slicedToArray$2(Gl,2),Hl=Fl[0],Zl=Fl[1],Su=reactExports.useState(!1),$u=_slicedToArray$2(Su,2),Pu=$u[0],ku=$u[1],Tu=function(){ku(!0),setTimeout(function(){return ku(!1)},250)},Ru=function(){var Hu=_asyncToGenerator(_regenerator().m(function Ku(Fu){var ju,qu;return _regenerator().w(function(Zu){for(;;)switch(Zu.p=Zu.n){case 0:if(Zu.p=0,Rl(!0),!El){Zu.n=2;break}return Zu.n=1,El(Fu);case 1:Zu.n=4;break;case 2:return Zu.n=3,Sl(_objectSpread2$2({otpId:Nl,otpCode:Fu,contact:zs,otpType:Ws},Js&&{sessionKey:Js}));case 3:Il();case 4:Zu.n=6;break;case 5:throw Zu.p=5,qu=Zu.v,ju=qu.code===TurnkeyErrorCodes.INVALID_OTP_CODE?"Invalid OTP code":"An error has occurred",Zl(ju),Tu(),new Error("Error completing OTP: ".concat(qu));case 6:return Zu.p=6,Rl(!1),Zu.f(6);case 7:return Zu.a(2)}},Ku,null,[[0,5,6,7]])}));return function(Fu){return Hu.apply(this,arguments)}}(),Mu=function(){var Hu=_asyncToGenerator(_regenerator().m(function Ku(){var Fu,ju;return _regenerator().w(function(qu){for(;;)switch(qu.p=qu.n){case 0:return Bl(!0),qu.p=1,qu.n=2,_l({otpType:Ws,contact:zs});case 2:Fu=qu.v,Dl(Fu),Xl(!0),qu.n=4;break;case 3:throw qu.p=3,ju=qu.v,new Error("Error resending OTP: ".concat(ju));case 4:return qu.p=4,Bl(!1),qu.f(4);case 5:return qu.a(2)}},Ku,null,[[1,3,4,5]])}));return function(){return Hu.apply(this,arguments)}}();return jsxRuntimeExports.jsxs("div",{className:clsx("flex items-center justify-center py-3",Al?"w-full":"min-w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 transition-all duration-300 ".concat(Cl&&"opacity-30 blur"),children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:Ws===OtpType.Email?faEnvelope:Ws===OtpType.Sms?faPhone:faEnvelope}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col text-center",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-medium",children:"Enter the ".concat(Ys,"-digit code we sent to")}),jsxRuntimeExports.jsx("span",{className:"text-base font-semibold",children:yl??zs})]}),jsxRuntimeExports.jsx("div",{className:"transition-all flex justify-center ".concat(Pu?"animate-shake":""),children:jsxRuntimeExports.jsx(OtpInput,{otpLength:Ys,onContinue:Ru,alphanumeric:Zs})}),Hl&&jsxRuntimeExports.jsx("div",{className:"text-red-400 text-center text-sm",children:Hl}),jsxRuntimeExports.jsx(BaseButton,{onClick:Mu,disabled:Ll||Kl,className:"text-xs text-inherit font-semibold bg-transparent border-none ".concat(Kl&&"opacity-30"),children:Ll?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2.5",children:[jsxRuntimeExports.jsx(Spinner,{className:"size-3"}),"Resending..."]}):Kl?"Code sent!":"Resend Code"})]}),Cl&&jsxRuntimeExports.jsx("div",{className:"absolute flex w-full h-full justify-center items-center",children:jsxRuntimeExports.jsx(Spinner,{strokeWidth:1,className:"size-1/2"})})]})}function OtpInput(at){var zs=at.otpLength,Ws=at.onContinue,qs=at.alphanumeric,Ys=qs===void 0?!1:qs,Xs=useModal(),Zs=Xs.isMobile,yl=reactExports.useState(Array(zs).fill("")),Js=_slicedToArray$2(yl,2),$l=Js[0],El=Js[1],wl=reactExports.useRef([]),_l=function(Al,xl){Ys?xl=xl.replace(/[^a-zA-Z0-9]/g,""):xl=xl.replace(/[^0-9]/g,"");var Pl=_toConsumableArray$1($l);if(Pl[Al]=xl.slice(-1),El(Pl),xl&&Al<zs-1){var Cl;(Cl=wl.current[Al+1])===null||Cl===void 0||Cl.focus()}xl&&Pl.every(function(Rl){return Rl})&&Ws(Pl.join(""))},Sl=function(Al,xl){if(Al.key==="Backspace"&&!$l[xl]&&xl>0){var Pl;(Pl=wl.current[xl-1])===null||Pl===void 0||Pl.focus()}if(Al.key==="ArrowLeft"&&xl>0){var Cl;(Cl=wl.current[xl-1])===null||Cl===void 0||Cl.focus()}if(Al.key==="ArrowRight"&&xl<zs-1){var Rl;(Rl=wl.current[xl+1])===null||Rl===void 0||Rl.focus()}Al.key==="Enter"&&Ws($l.join(""))},Tl=function(Al){var xl;Al.preventDefault();for(var Pl=Al.clipboardData.getData("text").trim(),Cl=Ys?Pl.replace(/[^a-zA-Z0-9]/g,""):Pl.replace(/[^0-9]/g,""),Rl=Cl.slice(0,zs).split(""),Ol=_toConsumableArray$1($l),Ml=0;Ml<Rl.length;Ml++){var Ll;if(Ol[Ml]=(Ll=Rl[Ml])!==null&&Ll!==void 0?Ll:"",wl.current[Ml]){var Bl;wl.current[Ml].value=(Bl=Rl[Ml])!==null&&Bl!==void 0?Bl:""}}El(Ol);var Wl=Math.min(Rl.length,zs-1);(xl=wl.current[Wl])===null||xl===void 0||xl.focus(),Ws(Ol.join(""))};return jsxRuntimeExports.jsx("div",{className:clsx("flex items-center justify-center space-x-2",Zs?"w-[95%]":"w-full"),children:Array.from({length:zs}).map(function(Il,Al){var xl;return jsxRuntimeExports.jsx(X$4,{type:"text",inputMode:Ys?"text":"numeric",maxLength:1,value:(xl=$l[Al])===null||xl===void 0?void 0:xl.toUpperCase(),autoComplete:"off",onChange:function(Cl){return _l(Al,Cl.target.value.toUpperCase())},onKeyDown:function(Cl){return Sl(Cl,Al)},onPaste:Tl,ref:function(Cl){return wl.current[Al]=Cl},className:clsx("text-center text-lg rounded-md border border-modal-background-dark/20 dark:border-modal-background-light/20 bg-button-light dark:bg-button-dark text-inherit focus:outline-primary-light focus:dark:outline-primary-dark focus:outline-[1px] focus:outline-offset-0 transition-all",Zs?"w-full h-10":"h-12 w-12")},Al)})})}var _$2=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54",{default:"(..) .... ....","/^11/":"(..) .... ....","/^15/":"(..) ... ....","/^(2|3|4|5)/":"(.) .... ....","/^9/":"(.) .... ....."},0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Cte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Runion","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["So Tom and Prncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],xe$3="react-international-phone-",se$3=(...at)=>at.filter(zs=>!!zs).join(" ").trim(),Se$4=(...at)=>se$3(...at).split(" ").map(zs=>`${xe$3}${zs}`).join(" "),P$4=({addPrefix:at,rawClassNames:zs})=>se$3(Se$4(...at),...zs),le$2=({value:at,mask:zs,maskSymbol:Ws,offset:qs=0,trimNonMaskCharsLeftover:Ys=!1})=>{if(at.length<qs)return at;let Xs=at.slice(0,qs),Zs=at.slice(qs),yl=Xs,Js=0;for(let $l of zs.split("")){if(Js>=Zs.length){if(!Ys&&$l!==Ws){yl+=$l;continue}break}$l===Ws?(yl+=Zs[Js],Js+=1):yl+=$l}return yl},F=at=>at?/^\d+$/.test(at):!1,z$4=at=>at.replace(/\D/g,""),ue$1=(at,zs)=>{let Ws=at.style.display;Ws!=="block"&&(at.style.display="block");let qs=at.getBoundingClientRect(),Ys=zs.getBoundingClientRect(),Xs=Ys.top-qs.top,Zs=qs.bottom-Ys.bottom;Xs>=0&&Zs>=0||(Math.abs(Xs)<Math.abs(Zs)?at.scrollTop+=Xs:at.scrollTop-=Zs),at.style.display=Ws},de$3=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),pe$3=(at,zs)=>{let Ws=zs.disableDialCodeAndPrefix?!1:zs.forceDialCode,qs=zs.disableDialCodeAndPrefix?!1:zs.insertDialCodeOnEmpty,Ys=at,Xs=$l=>zs.trimNonDigitsEnd?$l.trim():$l;if(!Ys)return qs&&!Ys.length||Ws?Xs(`${zs.prefix}${zs.dialCode}${zs.charAfterDialCode}`):Xs(Ys);if(Ys=z$4(Ys),Ys===zs.dialCode&&!zs.disableDialCodeAndPrefix)return Xs(`${zs.prefix}${zs.dialCode}${zs.charAfterDialCode}`);if(zs.dialCode.startsWith(Ys)&&!zs.disableDialCodeAndPrefix)return Xs(Ws?`${zs.prefix}${zs.dialCode}${zs.charAfterDialCode}`:`${zs.prefix}${Ys}`);if(!Ys.startsWith(zs.dialCode)&&!zs.disableDialCodeAndPrefix){if(Ws)return Xs(`${zs.prefix}${zs.dialCode}${zs.charAfterDialCode}`);if(Ys.length<zs.dialCode.length)return Xs(`${zs.prefix}${Ys}`)}let Zs=()=>{let $l=zs.dialCode.length,El=Ys.slice(0,$l),wl=Ys.slice($l);return{phoneLeftSide:El,phoneRightSide:wl}},{phoneLeftSide:yl,phoneRightSide:Js}=Zs();return yl=`${zs.prefix}${yl}${zs.charAfterDialCode}`,Js=le$2({value:Js,mask:zs.mask,maskSymbol:zs.maskChar,trimNonMaskCharsLeftover:zs.trimNonDigitsEnd||zs.disableDialCodeAndPrefix&&Js.length===0}),zs.disableDialCodeAndPrefix&&(yl=""),Xs(`${yl}${Js}`)},me$4=({phoneBeforeInput:at,phoneAfterInput:zs,phoneAfterFormatted:Ws,cursorPositionAfterInput:qs,leftOffset:Ys=0,deletion:Xs})=>{if(qs<Ys)return Ys;if(!at)return Ws.length;let Zs=null;for(let El=qs-1;El>=0;El-=1)if(F(zs[El])){Zs=El;break}if(Zs===null){for(let El=0;El<zs.length;El+=1)if(F(Ws[El]))return El;return zs.length}let yl=0;for(let El=0;El<Zs;El+=1)F(zs[El])&&(yl+=1);let Js=0,$l=0;for(let El=0;El<Ws.length&&(Js+=1,F(Ws[El])&&($l+=1),!($l>=yl+1));El+=1);if(Xs!=="backward")for(;!F(Ws[Js])&&Js<Ws.length;)Js+=1;return Js},O$3=({phone:at,prefix:zs})=>at?`${zs}${z$4(at)}`:"";function W$4({value:at,country:zs,insertDialCodeOnEmpty:Ws,trimNonDigitsEnd:qs,countries:Ys,prefix:Xs,charAfterDialCode:Zs,forceDialCode:yl,disableDialCodeAndPrefix:Js,defaultMask:$l,countryGuessingEnabled:El,disableFormatting:wl}){let _l=at;Js&&(_l=_l.startsWith(`${Xs}`)?_l:`${Xs}${zs.dialCode}${_l}`);let Sl=El?X$3({phone:_l,countries:Ys,currentCountryIso2:zs==null?void 0:zs.iso2}):void 0,Tl=(Sl==null?void 0:Sl.country)??zs,Il=pe$3(_l,{prefix:Xs,mask:Q$3({phone:_l,country:Tl,defaultMask:$l,disableFormatting:wl}),maskChar:J$5,dialCode:Tl.dialCode,trimNonDigitsEnd:qs,charAfterDialCode:Zs,forceDialCode:yl,insertDialCodeOnEmpty:Ws,disableDialCodeAndPrefix:Js}),Al=El&&!(Sl!=null&&Sl.fullDialCodeMatch)?zs:Tl;return{phone:O$3({phone:Js?`${Al.dialCode}${Il}`:Il,prefix:Xs}),inputValue:Il,country:Al}}var Ie$4=at=>{if((at==null?void 0:at.toLocaleLowerCase().includes("delete"))??!1)return at!=null&&at.toLocaleLowerCase().includes("forward")?"forward":"backward"},fe$3=(at,{country:zs,insertDialCodeOnEmpty:Ws,phoneBeforeInput:qs,prefix:Ys,charAfterDialCode:Xs,forceDialCode:Zs,disableDialCodeAndPrefix:yl,countryGuessingEnabled:Js,defaultMask:$l,disableFormatting:El,countries:wl})=>{let _l=at.nativeEvent,Sl=_l.inputType,Tl=Ie$4(Sl),Il=!!(Sl!=null&&Sl.startsWith("insertFrom")),Al=Sl==="insertText",xl=(_l==null?void 0:_l.data)||void 0,Pl=at.target.value,Cl=at.target.selectionStart??0;if(Sl!=null&&Sl.includes("history"))return{inputValue:qs,phone:O$3({phone:qs,prefix:Ys}),cursorPosition:qs.length,country:zs};if(Al&&!F(xl)&&Pl!==Ys)return{inputValue:qs,phone:O$3({phone:yl?`${zs.dialCode}${qs}`:qs,prefix:Ys}),cursorPosition:Cl-((xl==null?void 0:xl.length)??0),country:zs};if(Zs&&!Pl.startsWith(`${Ys}${zs.dialCode}`)&&!Il){let Bl=Pl?qs:`${Ys}${zs.dialCode}${Xs}`;return{inputValue:Bl,phone:O$3({phone:Bl,prefix:Ys}),cursorPosition:Ys.length+zs.dialCode.length+Xs.length,country:zs}}let{phone:Rl,inputValue:Ol,country:Ml}=W$4({value:Pl,country:zs,trimNonDigitsEnd:Tl==="backward",insertDialCodeOnEmpty:Ws,countryGuessingEnabled:Js,countries:wl,prefix:Ys,charAfterDialCode:Xs,forceDialCode:Zs,disableDialCodeAndPrefix:yl,disableFormatting:El,defaultMask:$l}),Ll=me$4({cursorPositionAfterInput:Cl,phoneBeforeInput:qs,phoneAfterInput:Pl,phoneAfterFormatted:Ol,leftOffset:Zs?Ys.length+zs.dialCode.length+Xs.length:0,deletion:Tl});return{phone:Rl,inputValue:Ol,cursorPosition:Ll,country:Ml}},Ce$3=(at,zs)=>{let Ws=Object.keys(at),qs=Object.keys(zs);if(Ws.length!==qs.length)return!1;for(let Ys of Ws)if(at[Ys]!==zs[Ys])return!1;return!0},ye$4=()=>{let at=reactExports.useRef(),zs=reactExports.useRef(Date.now());return{check:()=>{let Ws=Date.now(),qs=at.current?Ws-zs.current:void 0;return at.current=zs.current,zs.current=Ws,qs}}},ke$3={size:20,overrideLastItemDebounceMS:-1};function ge$4(at,zs){let{size:Ws,overrideLastItemDebounceMS:qs,onChange:Ys}={...ke$3,...zs},[Xs,Zs]=reactExports.useState(at),[yl,Js]=reactExports.useState([Xs]),[$l,El]=reactExports.useState(0),wl=ye$4();return[Xs,(_l,Sl)=>{if(typeof _l=="object"&&typeof Xs=="object"&&Ce$3(_l,Xs)||_l===Xs)return;let Tl=qs>0,Il=wl.check(),Al=Tl&&Il!==void 0?Il>qs:!0;if((Sl==null?void 0:Sl.overrideLastItem)!==void 0?Sl.overrideLastItem:!Al)Js(xl=>[...xl.slice(0,$l),_l]);else{let xl=yl.length>=Ws;Js(Pl=>[...Pl.slice(xl?1:0,$l+1),_l]),xl||El(Pl=>Pl+1)}Zs(_l),Ys==null||Ys(_l)},()=>{if($l<=0)return{success:!1};let _l=yl[$l-1];return Zs(_l),El(Sl=>Sl-1),Ys==null||Ys(_l),{success:!0,value:_l}},()=>{if($l+1>=yl.length)return{success:!1};let _l=yl[$l+1];return Zs(_l),El(Sl=>Sl+1),Ys==null||Ys(_l),{success:!0,value:_l}}]}var J$5=".",E$3={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:_$2},ee$3=({defaultCountry:at=E$3.defaultCountry,value:zs=E$3.value,countries:Ws=E$3.countries,prefix:qs=E$3.prefix,defaultMask:Ys=E$3.defaultMask,charAfterDialCode:Xs=E$3.charAfterDialCode,historySaveDebounceMS:Zs=E$3.historySaveDebounceMS,disableCountryGuess:yl=E$3.disableCountryGuess,disableDialCodePrefill:Js=E$3.disableDialCodePrefill,forceDialCode:$l=E$3.forceDialCode,disableDialCodeAndPrefix:El=E$3.disableDialCodeAndPrefix,disableFormatting:wl=E$3.disableFormatting,onChange:_l,inputRef:Sl})=>{let Tl={countries:Ws,prefix:qs,charAfterDialCode:Xs,forceDialCode:El?!1:$l,disableDialCodeAndPrefix:El,defaultMask:Ys,countryGuessingEnabled:!yl,disableFormatting:wl},Il=reactExports.useRef(null),Al=Sl||Il,xl=Vl=>{Promise.resolve().then(()=>{var Nl;typeof window>"u"||Al.current!==(document==null?void 0:document.activeElement)||((Nl=Al.current)==null||Nl.setSelectionRange(Vl,Vl))})},[{phone:Pl,inputValue:Cl,country:Rl},Ol,Ml,Ll]=ge$4(()=>{let Vl=$$1({value:at,field:"iso2",countries:Ws});Vl||console.error(`[react-international-phone]: can not find a country with "${at}" iso2 code`);let Nl=Vl||$$1({value:"us",field:"iso2",countries:Ws}),{phone:Dl,inputValue:Gl,country:Fl}=W$4({value:zs,country:Nl,insertDialCodeOnEmpty:!Js,...Tl});return xl(Gl.length),{phone:Dl,inputValue:Gl,country:Fl.iso2}},{overrideLastItemDebounceMS:Zs,onChange:({inputValue:Vl,phone:Nl,country:Dl})=>{if(!_l)return;let Gl=Bl(Dl);_l({phone:Nl,inputValue:Vl,country:Gl})}}),Bl=reactExports.useCallback(Vl=>$$1({value:Vl,field:"iso2",countries:Ws}),[Ws]),Wl=reactExports.useMemo(()=>Bl(Rl),[Rl,Bl]);reactExports.useEffect(()=>{let Vl=Al.current;if(!Vl)return;let Nl=Dl=>{if(!Dl.key)return;let Gl=Dl.ctrlKey,Fl=Dl.metaKey,Hl=Dl.shiftKey;if(Dl.key.toLowerCase()==="z"){if(de$3()){if(!Fl)return}else if(!Gl)return;Hl?Ll():Ml()}};return Vl.addEventListener("keydown",Nl),()=>{Vl.removeEventListener("keydown",Nl)}},[Al,Ml,Ll]);let Yl=Vl=>{Vl.preventDefault();let{phone:Nl,inputValue:Dl,country:Gl,cursorPosition:Fl}=fe$3(Vl,{country:Wl,phoneBeforeInput:Cl,insertDialCodeOnEmpty:!1,...Tl});return Ol({inputValue:Dl,phone:Nl,country:Gl.iso2}),xl(Fl),zs},Kl=(Vl,Nl={focusOnInput:!1})=>{let Dl=$$1({value:Vl,field:"iso2",countries:Ws});if(!Dl){console.error(`[react-international-phone]: can not find a country with "${Vl}" iso2 code`);return}let Gl=El?"":`${qs}${Dl.dialCode}${Xs}`;Ol({inputValue:Gl,phone:`${qs}${Dl.dialCode}`,country:Dl.iso2}),Nl.focusOnInput&&Promise.resolve().then(()=>{var Fl;(Fl=Al.current)==null||Fl.focus()})},[Xl,Ul]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!Xl){Ul(!0),zs!==Pl&&(_l==null||_l({inputValue:Cl,phone:Pl,country:Wl}));return}if(zs===Pl)return;let{phone:Vl,inputValue:Nl,country:Dl}=W$4({value:zs,country:Wl,insertDialCodeOnEmpty:!Js,...Tl});Ol({phone:Vl,inputValue:Nl,country:Dl.iso2})},[zs]),{phone:Pl,inputValue:Cl,country:Wl,setCountry:Kl,handlePhoneValueChange:Yl,inputRef:Al}},Q$3=({phone:at,country:zs,defaultMask:Ws="............",disableFormatting:qs=!1})=>{let Ys=zs.format,Xs=yl=>qs?yl.replace(new RegExp(`[^${J$5}]`,"g"),""):yl;if(!Ys)return Xs(Ws);if(typeof Ys=="string")return Xs(Ys);if(!Ys.default)return console.error(`[react-international-phone]: default mask for ${zs.iso2} is not provided`),Xs(Ws);let Zs=Object.keys(Ys).find(yl=>{if(yl==="default")return!1;if(!(yl.charAt(0)==="/"&&yl.charAt(yl.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${yl}" for ${zs.iso2} is not valid`),!1;let Js=new RegExp(yl.substring(1,yl.length-1)),$l=at.replace(zs.dialCode,"");return Js.test(z$4($l))});return Xs(Zs?Ys[Zs]:Ys.default)},M$3=at=>{let[zs,Ws,qs,Ys,Xs,Zs]=at;return{name:zs,iso2:Ws,dialCode:qs,format:Ys,priority:Xs,areaCodes:Zs}},Ae$3=at=>`Field "${at}" is not supported`,$$1=({field:at,value:zs,countries:Ws=_$2})=>{if(["priority"].includes(at))throw new Error(Ae$3(at));let qs=Ws.find(Ys=>{let Xs=M$3(Ys);return zs===Xs[at]});if(qs)return M$3(qs)},X$3=({phone:at,countries:zs=_$2,currentCountryIso2:Ws})=>{var yl;let qs={country:void 0,fullDialCodeMatch:!1};if(!at)return qs;let Ys=z$4(at);if(!Ys)return qs;let Xs=qs,Zs=({country:Js,fullDialCodeMatch:$l})=>{var _l,Sl;let El=Js.dialCode===((_l=Xs.country)==null?void 0:_l.dialCode),wl=(Js.priority??0)<(((Sl=Xs.country)==null?void 0:Sl.priority)??0);(!El||wl)&&(Xs={country:Js,fullDialCodeMatch:$l})};for(let Js of zs){let $l=M$3(Js),{dialCode:El,areaCodes:wl}=$l;if(Ys.startsWith(El)){let _l=Xs.country?Number(El)>=Number(Xs.country.dialCode):!0;if(wl){let Sl=Ys.substring(El.length);for(let Tl of wl)if(Sl.startsWith(Tl))return{country:$l,fullDialCodeMatch:!0}}(_l||El===Ys||!Xs.fullDialCodeMatch)&&Zs({country:$l,fullDialCodeMatch:!0})}Xs.fullDialCodeMatch||Ys.length<El.length&&El.startsWith(Ys)&&(!Xs.country||Number(El)<=Number(Xs.country.dialCode))&&Zs({country:$l,fullDialCodeMatch:!1})}if(Ws){let Js=$$1({value:Ws,field:"iso2",countries:zs});if(!Js)return Xs;let $l=Js?(El=>{if(!(El!=null&&El.areaCodes))return!1;let wl=Ys.substring(El.dialCode.length);return El.areaCodes.some(_l=>_l.startsWith(wl))})(Js):!1;Xs&&((yl=Xs.country)==null?void 0:yl.dialCode)===Js.dialCode&&Xs.country!==Js&&Xs.fullDialCodeMatch&&(!Js.areaCodes||$l)&&(Xs={country:Js,fullDialCodeMatch:!0})}return Xs},Te$4=(at,zs)=>{let Ws=parseInt(at,16);return Number(Ws+zs).toString(16)},Ee$3="abcdefghijklmnopqrstuvwxyz",Le$4="1f1e6",Pe$4=Ee$3.split("").reduce((at,zs,Ws)=>({...at,[zs]:Te$4(Le$4,Ws)}),{}),$e$4=at=>[Pe$4[at[0]],Pe$4[at[1]]].join("-"),q$2=({iso2:at,size:zs,src:Ws,protocol:qs="https",disableLazyLoading:Ys,className:Xs,style:Zs,...yl})=>{if(!at)return React$1.createElement("img",{className:P$4({addPrefix:["flag-emoji"],rawClassNames:[Xs]}),width:zs,height:zs,...yl});let Js=()=>{if(Ws)return Ws;let $l=$e$4(at);return`${qs}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${$l}.svg`};return React$1.createElement("img",{className:P$4({addPrefix:["flag-emoji"],rawClassNames:[Xs]}),src:Js(),width:zs,height:zs,draggable:!1,"data-country":at,loading:Ys?void 0:"lazy",style:{width:zs,height:zs,...Zs},alt:"",...yl})},He$3=1e3,ne$2=({show:at,dialCodePrefix:zs="+",selectedCountry:Ws,countries:qs=_$2,preferredCountries:Ys=[],flags:Xs,onSelect:Zs,onClose:yl,...Js})=>{let $l=reactExports.useRef(null),El=reactExports.useRef(),wl=reactExports.useMemo(()=>{if(!Ys||!Ys.length)return qs;let Ml=[],Ll=[...qs];for(let Bl of Ys){let Wl=Ll.findIndex(Yl=>M$3(Yl).iso2===Bl);if(Wl!==-1){let Yl=Ll.splice(Wl,1)[0];Ml.push(Yl)}}return Ml.concat(Ll)},[qs,Ys]),_l=reactExports.useRef({updatedAt:void 0,value:""}),Sl=Ml=>{let Ll=_l.current.updatedAt&&new Date().getTime()-_l.current.updatedAt.getTime()>He$3;_l.current={value:Ll?Ml:`${_l.current.value}${Ml}`,updatedAt:new Date};let Bl=wl.findIndex(Wl=>M$3(Wl).name.toLowerCase().startsWith(_l.current.value));Bl!==-1&&Al(Bl)},Tl=reactExports.useCallback(Ml=>wl.findIndex(Ll=>M$3(Ll).iso2===Ml),[wl]),[Il,Al]=reactExports.useState(Tl(Ws)),xl=()=>{El.current!==Ws&&Al(Tl(Ws))},Pl=reactExports.useCallback(Ml=>{Al(Tl(Ml.iso2)),Zs==null||Zs(Ml)},[Zs,Tl]),Cl=Ml=>{let Ll=wl.length-1,Bl=Wl=>Ml==="prev"?Wl-1:Ml==="next"?Wl+1:Ml==="last"?Ll:0;Al(Wl=>{let Yl=Bl(Wl);return Yl<0?0:Yl>Ll?Ll:Yl})},Rl=Ml=>{if(Ml.stopPropagation(),Ml.key==="Enter"){Ml.preventDefault();let Ll=M$3(wl[Il]);Pl(Ll);return}if(Ml.key==="Escape"){yl==null||yl();return}if(Ml.key==="ArrowUp"){Ml.preventDefault(),Cl("prev");return}if(Ml.key==="ArrowDown"){Ml.preventDefault(),Cl("next");return}if(Ml.key==="PageUp"){Ml.preventDefault(),Cl("first");return}if(Ml.key==="PageDown"){Ml.preventDefault(),Cl("last");return}Ml.key===" "&&Ml.preventDefault(),Ml.key.length===1&&!Ml.altKey&&!Ml.ctrlKey&&!Ml.metaKey&&Sl(Ml.key.toLocaleLowerCase())},Ol=reactExports.useCallback(()=>{if(!$l.current||Il===void 0)return;let Ml=M$3(wl[Il]).iso2;if(Ml===El.current)return;let Ll=$l.current.querySelector(`[data-country="${Ml}"]`);Ll&&(ue$1($l.current,Ll),El.current=Ml)},[Il,wl]);return reactExports.useEffect(()=>{Ol()},[Il,Ol]),reactExports.useEffect(()=>{$l.current&&(at?$l.current.focus():xl())},[at]),reactExports.useEffect(()=>{xl()},[Ws]),React$1.createElement("ul",{ref:$l,role:"listbox",className:P$4({addPrefix:["country-selector-dropdown"],rawClassNames:[Js.className]}),style:{display:at?"block":"none",...Js.style},onKeyDown:Rl,onBlur:yl,tabIndex:-1,"aria-activedescendant":`react-international-phone__${M$3(wl[Il]).iso2}-option`},wl.map((Ml,Ll)=>{let Bl=M$3(Ml),Wl=Bl.iso2===Ws,Yl=Ll===Il,Kl=Ys.includes(Bl.iso2),Xl=Ll===Ys.length-1,Ul=Xs==null?void 0:Xs.find(Vl=>Vl.iso2===Bl.iso2);return React$1.createElement(React$1.Fragment,{key:Bl.iso2},React$1.createElement("li",{"data-country":Bl.iso2,role:"option","aria-selected":Wl,"aria-label":`${Bl.name} ${zs}${Bl.dialCode}`,id:`react-international-phone__${Bl.iso2}-option`,className:P$4({addPrefix:["country-selector-dropdown__list-item",Kl&&"country-selector-dropdown__list-item--preferred",Wl&&"country-selector-dropdown__list-item--selected",Yl&&"country-selector-dropdown__list-item--focused"],rawClassNames:[Js.listItemClassName,Kl&&Js.listItemPreferredClassName,Wl&&Js.listItemSelectedClassName,Yl&&Js.listItemFocusedClassName]}),onClick:()=>Pl(Bl),style:Js.listItemStyle,title:Bl.name},React$1.createElement(q$2,{iso2:Bl.iso2,src:Ul==null?void 0:Ul.src,className:P$4({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[Js.listItemFlagClassName]}),style:Js.listItemFlagStyle}),React$1.createElement("span",{className:P$4({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[Js.listItemCountryNameClassName]}),style:Js.listItemCountryNameStyle},Bl.name),React$1.createElement("span",{className:P$4({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[Js.listItemDialCodeClassName]}),style:Js.listItemDialCodeStyle},zs,Bl.dialCode)),Xl?React$1.createElement("hr",{className:P$4({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[Js.preferredListDividerClassName]}),style:Js.preferredListDividerStyle}):null)}))},ae$2=({selectedCountry:at,onSelect:zs,disabled:Ws,hideDropdown:qs,countries:Ys=_$2,preferredCountries:Xs=[],flags:Zs,renderButtonWrapper:yl,...Js})=>{let[$l,El]=reactExports.useState(!1),wl=reactExports.useMemo(()=>{if(at)return $$1({value:at,field:"iso2",countries:Ys})},[Ys,at]),_l=reactExports.useRef(null),Sl=Il=>{Il.key&&["ArrowUp","ArrowDown"].includes(Il.key)&&(Il.preventDefault(),El(!0))},Tl=()=>{var xl;let Il={title:wl==null?void 0:wl.name,onClick:()=>El(Pl=>!Pl),onMouseDown:Pl=>Pl.preventDefault(),onKeyDown:Sl,disabled:qs||Ws,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":$l},Al=React$1.createElement("div",{className:P$4({addPrefix:["country-selector-button__button-content"],rawClassNames:[Js.buttonContentWrapperClassName]}),style:Js.buttonContentWrapperStyle},React$1.createElement(q$2,{iso2:at,src:(xl=Zs==null?void 0:Zs.find(Pl=>Pl.iso2===at))==null?void 0:xl.src,className:P$4({addPrefix:["country-selector-button__flag-emoji",Ws&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[Js.flagClassName]}),style:{visibility:at?"visible":"hidden",...Js.flagStyle}}),!qs&&React$1.createElement("div",{className:P$4({addPrefix:["country-selector-button__dropdown-arrow",Ws&&"country-selector-button__dropdown-arrow--disabled",$l&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[Js.dropdownArrowClassName]}),style:Js.dropdownArrowStyle}));return yl?yl({children:Al,rootProps:Il}):React$1.createElement("button",{...Il,type:"button",className:P$4({addPrefix:["country-selector-button",$l&&"country-selector-button--active",Ws&&"country-selector-button--disabled",qs&&"country-selector-button--hide-dropdown"],rawClassNames:[Js.buttonClassName]}),"data-country":at,style:Js.buttonStyle},Al)};return React$1.createElement("div",{className:P$4({addPrefix:["country-selector"],rawClassNames:[Js.className]}),style:Js.style,ref:_l},Tl(),React$1.createElement(ne$2,{show:$l,countries:Ys,preferredCountries:Xs,flags:Zs,onSelect:Il=>{El(!1),zs==null||zs(Il)},selectedCountry:at,onClose:()=>{El(!1)},...Js.dropdownStyleProps}))},ie$2=({dialCode:at,prefix:zs,disabled:Ws,style:qs,className:Ys})=>React$1.createElement("div",{className:P$4({addPrefix:["dial-code-preview",Ws&&"dial-code-preview--disabled"],rawClassNames:[Ys]}),style:qs},`${zs}${at}`);reactExports.forwardRef(({value:at,onChange:zs,countries:Ws=_$2,preferredCountries:qs=[],hideDropdown:Ys,showDisabledDialCodeAndPrefix:Xs,disableFocusAfterCountrySelect:Zs,flags:yl,style:Js,className:$l,inputStyle:El,inputClassName:wl,countrySelectorStyleProps:_l,dialCodePreviewStyleProps:Sl,inputProps:Tl,placeholder:Il,disabled:Al,name:xl,onFocus:Pl,onBlur:Cl,required:Rl,autoFocus:Ol,...Ml},Ll)=>{let{phone:Bl,inputValue:Wl,inputRef:Yl,country:Kl,setCountry:Xl,handlePhoneValueChange:Ul}=ee$3({value:at,countries:Ws,...Ml,onChange:Nl=>{zs==null||zs(Nl.phone,{country:Nl.country,inputValue:Nl.inputValue})}}),Vl=Ml.disableDialCodeAndPrefix&&Xs&&(Kl==null?void 0:Kl.dialCode);return reactExports.useImperativeHandle(Ll,()=>Yl.current?Object.assign(Yl.current,{setCountry:Xl,state:{phone:Bl,inputValue:Wl,country:Kl}}):null,[Yl,Xl,Bl,Wl,Kl]),React$1.createElement("div",{ref:Ll,className:P$4({addPrefix:["input-container"],rawClassNames:[$l]}),style:Js},React$1.createElement(ae$2,{onSelect:Nl=>Xl(Nl.iso2,{focusOnInput:!Zs}),flags:yl,selectedCountry:Kl.iso2,countries:Ws,preferredCountries:qs,disabled:Al,hideDropdown:Ys,..._l}),Vl&&React$1.createElement(ie$2,{dialCode:Kl.dialCode,prefix:Ml.prefix??"+",disabled:Al,...Sl}),React$1.createElement("input",{onChange:Ul,value:Wl,type:"tel",ref:Yl,className:P$4({addPrefix:["input",Al&&"input--disabled"],rawClassNames:[wl]}),placeholder:Il,disabled:Al,style:El,name:xl,onFocus:Pl,onBlur:Cl,autoFocus:Ol,required:Rl,...Tl}))});const metadata={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function withMetadataArgument(at,zs){var Ws=Array.prototype.slice.call(zs);return Ws.push(metadata),at.apply(this,Ws)}function compare(at,zs){at=at.split("-"),zs=zs.split("-");for(var Ws=at[0].split("."),qs=zs[0].split("."),Ys=0;Ys<3;Ys++){var Xs=Number(Ws[Ys]),Zs=Number(qs[Ys]);if(Xs>Zs)return 1;if(Zs>Xs)return-1;if(!isNaN(Xs)&&isNaN(Zs))return 1;if(isNaN(Xs)&&!isNaN(Zs))return-1}return at[1]&&zs[1]?at[1]>zs[1]?1:at[1]<zs[1]?-1:0:!at[1]&&zs[1]?1:at[1]&&!zs[1]?-1:0}var objectConstructor={}.constructor;function isObject(at){return at!=null&&at.constructor===objectConstructor}function _typeof$5(at){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof$5(at)}function _classCallCheck$2(at,zs){if(!(at instanceof zs))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(at,zs){for(var Ws=0;Ws<zs.length;Ws++){var qs=zs[Ws];qs.enumerable=qs.enumerable||!1,qs.configurable=!0,"value"in qs&&(qs.writable=!0),Object.defineProperty(at,_toPropertyKey$4(qs.key),qs)}}function _createClass$2(at,zs,Ws){return zs&&_defineProperties$1(at.prototype,zs),Object.defineProperty(at,"prototype",{writable:!1}),at}function _toPropertyKey$4(at){var zs=_toPrimitive$4(at,"string");return _typeof$5(zs)=="symbol"?zs:zs+""}function _toPrimitive$4(at,zs){if(_typeof$5(at)!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(_typeof$5(qs)!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}var V3="1.2.0",V4="1.7.35",DEFAULT_EXT_PREFIX=" ext. ",CALLING_CODE_REG_EXP=/^\d+$/,Metadata=function(){function at(zs){_classCallCheck$2(this,at),validateMetadata(zs),this.metadata=zs,setVersion.call(this,zs)}return _createClass$2(at,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(Ws){return Ws!=="001"})}},{key:"getCountryMetadata",value:function(Ws){return this.metadata.countries[Ws]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(Ws){return this.getCountryMetadata(Ws)!==void 0}},{key:"hasCallingCode",value:function(Ws){if(this.getCountryCodesForCallingCode(Ws))return!0;if(this.nonGeographic()){if(this.nonGeographic()[Ws])return!0}else{var qs=this.countryCallingCodes()[Ws];if(qs&&qs.length===1&&qs[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(Ws){return this.nonGeographic()?!!this.nonGeographic()[Ws]:!this.getCountryCodesForCallingCode(Ws)}},{key:"country",value:function(Ws){return this.selectNumberingPlan(Ws)}},{key:"selectNumberingPlan",value:function(Ws,qs){if(Ws&&CALLING_CODE_REG_EXP.test(Ws)&&(qs=Ws,Ws=null),Ws&&Ws!=="001"){if(!this.hasCountry(Ws))throw new Error("Unknown country: ".concat(Ws));this.numberingPlan=new NumberingPlan(this.getCountryMetadata(Ws),this)}else if(qs){if(!this.hasCallingCode(qs))throw new Error("Unknown calling code: ".concat(qs));this.numberingPlan=new NumberingPlan(this.getNumberingPlanMetadata(qs),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(Ws){var qs=this.countryCallingCodes()[Ws];if(qs)return qs.length===1&&qs[0].length===3?void 0:qs}},{key:"getCountryCodeForCallingCode",value:function(Ws){var qs=this.getCountryCodesForCallingCode(Ws);if(qs)return qs[0]}},{key:"getNumberingPlanMetadata",value:function(Ws){var qs=this.getCountryCodeForCallingCode(Ws);if(qs)return this.getCountryMetadata(qs);if(this.nonGeographic()){var Ys=this.nonGeographic()[Ws];if(Ys)return Ys}else{var Xs=this.countryCallingCodes()[Ws];if(Xs&&Xs.length===1&&Xs[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(Ws){return this.numberingPlan.type(Ws)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(Ws){return this.selectNumberingPlan(Ws)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),NumberingPlan=function(){function at(zs,Ws){_classCallCheck$2(this,at),this.globalMetadataObject=Ws,this.metadata=zs,setVersion.call(this,Ws.metadata)}return _createClass$2(at,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(Ws){return Ws[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var Ws=this,qs=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return qs.map(function(Ys){return new Format(Ys,Ws)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(Ws){return Ws[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(Ws){if(this.hasTypes()&&getType(this.types(),Ws))return new Type(getType(this.types(),Ws),this)}},{key:"ext",value:function(){return this.v1||this.v2?DEFAULT_EXT_PREFIX:this.metadata[13]||DEFAULT_EXT_PREFIX}}])}(),Format=function(){function at(zs,Ws){_classCallCheck$2(this,at),this._format=zs,this.metadata=Ws}return _createClass$2(at,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!FIRST_GROUP_ONLY_PREFIX_PATTERN.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),FIRST_GROUP_ONLY_PREFIX_PATTERN=/^\(?\$1\)?$/,Type=function(){function at(zs,Ws){_classCallCheck$2(this,at),this.type=zs,this.metadata=Ws}return _createClass$2(at,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function getType(at,zs){switch(zs){case"FIXED_LINE":return at[0];case"MOBILE":return at[1];case"TOLL_FREE":return at[2];case"PREMIUM_RATE":return at[3];case"PERSONAL_NUMBER":return at[4];case"VOICEMAIL":return at[5];case"UAN":return at[6];case"PAGER":return at[7];case"VOIP":return at[8];case"SHARED_COST":return at[9]}}function validateMetadata(at){if(!at)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!isObject(at)||!isObject(at.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(isObject(at)?"an object of shape: { "+Object.keys(at).join(", ")+" }":"a "+typeOf(at)+": "+at,"."))}var typeOf=function(zs){return _typeof$5(zs)};function getCountryCallingCode(at,zs){if(zs=new Metadata(zs),zs.hasCountry(at))return zs.selectNumberingPlan(at).countryCallingCode();throw new Error("Unknown country: ".concat(at))}function isSupportedCountry(at,zs){return zs.countries.hasOwnProperty(at)}function setVersion(at){var zs=at.version;typeof zs=="number"?(this.v1=zs===1,this.v2=zs===2,this.v3=zs===3,this.v4=zs===4):zs?compare(zs,V3)===-1?this.v2=!0:compare(zs,V4)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function checkNumberLength(at,zs,Ws){return checkNumberLengthForType(at,zs,void 0,Ws)}function checkNumberLengthForType(at,zs,Ws,qs){zs&&(qs=new Metadata(qs.metadata),qs.selectNumberingPlan(zs));var Ys=qs.type(Ws),Xs=Ys&&Ys.possibleLengths()||qs.possibleLengths();if(!Xs)return"IS_POSSIBLE";var Zs=at.length,yl=Xs[0];return yl===Zs?"IS_POSSIBLE":yl>Zs?"TOO_SHORT":Xs[Xs.length-1]<Zs?"TOO_LONG":Xs.indexOf(Zs,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function isPossiblePhoneNumber(at,zs,Ws){if(zs===void 0&&(zs={}),Ws=new Metadata(Ws),zs.v2){if(!at.countryCallingCode)throw new Error("Invalid phone number object passed");Ws.selectNumberingPlan(at.countryCallingCode)}else{if(!at.phone)return!1;if(at.country){if(!Ws.hasCountry(at.country))throw new Error("Unknown country: ".concat(at.country));Ws.selectNumberingPlan(at.country)}else{if(!at.countryCallingCode)throw new Error("Invalid phone number object passed");Ws.selectNumberingPlan(at.countryCallingCode)}}if(Ws.possibleLengths())return isPossibleNumber(at.phone||at.nationalNumber,at.country,Ws);if(at.countryCallingCode&&Ws.isNonGeographicCallingCode(at.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function isPossibleNumber(at,zs,Ws){switch(checkNumberLength(at,zs,Ws)){case"IS_POSSIBLE":return!0;default:return!1}}function matchesEntirely(at,zs){return at=at||"",new RegExp("^(?:"+zs+")$").test(at)}function _createForOfIteratorHelperLoose$2(at,zs){var Ws=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(Ws)return(Ws=Ws.call(at)).next.bind(Ws);if(Array.isArray(at)||(Ws=_unsupportedIterableToArray$3(at))||zs){Ws&&(at=Ws);var qs=0;return function(){return qs>=at.length?{done:!0}:{done:!1,value:at[qs++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(at,zs){if(at){if(typeof at=="string")return _arrayLikeToArray$3(at,zs);var Ws={}.toString.call(at).slice(8,-1);return Ws==="Object"&&at.constructor&&(Ws=at.constructor.name),Ws==="Map"||Ws==="Set"?Array.from(at):Ws==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ws)?_arrayLikeToArray$3(at,zs):void 0}}function _arrayLikeToArray$3(at,zs){(zs==null||zs>at.length)&&(zs=at.length);for(var Ws=0,qs=Array(zs);Ws<zs;Ws++)qs[Ws]=at[Ws];return qs}var NON_FIXED_LINE_PHONE_TYPES=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function getNumberType(at,zs,Ws){if(zs=zs||{},!(!at.country&&!at.countryCallingCode)){Ws=new Metadata(Ws),Ws.selectNumberingPlan(at.country,at.countryCallingCode);var qs=zs.v2?at.nationalNumber:at.phone;if(matchesEntirely(qs,Ws.nationalNumberPattern())){if(isNumberTypeEqualTo(qs,"FIXED_LINE",Ws))return Ws.type("MOBILE")&&Ws.type("MOBILE").pattern()===""||!Ws.type("MOBILE")||isNumberTypeEqualTo(qs,"MOBILE",Ws)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var Ys=_createForOfIteratorHelperLoose$2(NON_FIXED_LINE_PHONE_TYPES),Xs;!(Xs=Ys()).done;){var Zs=Xs.value;if(isNumberTypeEqualTo(qs,Zs,Ws))return Zs}}}}function isNumberTypeEqualTo(at,zs,Ws){return zs=Ws.type(zs),!zs||!zs.pattern()||zs.possibleLengths()&&zs.possibleLengths().indexOf(at.length)<0?!1:matchesEntirely(at,zs.pattern())}function isValidNumber(at,zs,Ws){if(zs=zs||{},Ws=new Metadata(Ws),Ws.selectNumberingPlan(at.country,at.countryCallingCode),Ws.hasTypes())return getNumberType(at,zs,Ws.metadata)!==void 0;var qs=zs.v2?at.nationalNumber:at.phone;return matchesEntirely(qs,Ws.nationalNumberPattern())}function getPossibleCountriesForNumber(at,zs,Ws){var qs=new Metadata(Ws),Ys=qs.getCountryCodesForCallingCode(at);return Ys?Ys.filter(function(Xs){return couldNationalNumberBelongToCountry(zs,Xs,Ws)}):[]}function couldNationalNumberBelongToCountry(at,zs,Ws){var qs=new Metadata(Ws);return qs.selectNumberingPlan(zs),qs.numberingPlan.possibleLengths().indexOf(at.length)>=0}var MIN_LENGTH_FOR_NSN=2,MAX_LENGTH_FOR_NSN=17,MAX_LENGTH_COUNTRY_CODE=3,VALID_DIGITS="0-9---",DASHES="--",SLASHES="/",DOTS=".",WHITESPACE=" ",BRACKETS="()\\[\\]",TILDES="~",VALID_PUNCTUATION="".concat(DASHES).concat(SLASHES).concat(DOTS).concat(WHITESPACE).concat(BRACKETS).concat(TILDES),PLUS_CHARS="+",CAPTURING_DIGIT_PATTERN=new RegExp("(["+VALID_DIGITS+"])");function stripIddPrefix(at,zs,Ws,qs){if(zs){var Ys=new Metadata(qs);Ys.selectNumberingPlan(zs,Ws);var Xs=new RegExp(Ys.IDDPrefix());if(at.search(Xs)===0){at=at.slice(at.match(Xs)[0].length);var Zs=at.match(CAPTURING_DIGIT_PATTERN);if(!(Zs&&Zs[1]!=null&&Zs[1].length>0&&Zs[1]==="0"))return at}}}function extractNationalNumberFromPossiblyIncompleteNumber(at,zs){if(at&&zs.numberingPlan.nationalPrefixForParsing()){var Ws=new RegExp("^(?:"+zs.numberingPlan.nationalPrefixForParsing()+")"),qs=Ws.exec(at);if(qs){var Ys,Xs,Zs=qs.length-1,yl=Zs>0&&qs[Zs];if(zs.nationalPrefixTransformRule()&&yl)Ys=at.replace(Ws,zs.nationalPrefixTransformRule()),Zs>1&&(Xs=qs[1]);else{var Js=qs[0];Ys=at.slice(Js.length),yl&&(Xs=qs[1])}var $l;if(yl){var El=at.indexOf(qs[1]),wl=at.slice(0,El);wl===zs.numberingPlan.nationalPrefix()&&($l=zs.numberingPlan.nationalPrefix())}else $l=qs[0];return{nationalNumber:Ys,nationalPrefix:$l,carrierCode:Xs}}}return{nationalNumber:at}}function _createForOfIteratorHelperLoose$1(at,zs){var Ws=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(Ws)return(Ws=Ws.call(at)).next.bind(Ws);if(Array.isArray(at)||(Ws=_unsupportedIterableToArray$2(at))||zs){Ws&&(at=Ws);var qs=0;return function(){return qs>=at.length?{done:!0}:{done:!1,value:at[qs++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(at,zs){if(at){if(typeof at=="string")return _arrayLikeToArray$2(at,zs);var Ws={}.toString.call(at).slice(8,-1);return Ws==="Object"&&at.constructor&&(Ws=at.constructor.name),Ws==="Map"||Ws==="Set"?Array.from(at):Ws==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ws)?_arrayLikeToArray$2(at,zs):void 0}}function _arrayLikeToArray$2(at,zs){(zs==null||zs>at.length)&&(zs=at.length);for(var Ws=0,qs=Array(zs);Ws<zs;Ws++)qs[Ws]=at[Ws];return qs}function getCountryByNationalNumber(at,zs){var Ws=zs.countries,qs=zs.metadata;qs=new Metadata(qs);for(var Ys=_createForOfIteratorHelperLoose$1(Ws),Xs;!(Xs=Ys()).done;){var Zs=Xs.value;if(qs.selectNumberingPlan(Zs),qs.leadingDigits()){if(at&&at.search(qs.leadingDigits())===0)return Zs}else if(getNumberType({phone:at,country:Zs},void 0,qs.metadata))return Zs}}function getCountryByCallingCode(at,zs){var Ws=zs.nationalNumber,qs=zs.metadata,Ys=qs.getCountryCodesForCallingCode(at);if(Ys)return Ys.length===1?Ys[0]:getCountryByNationalNumber(Ws,{countries:Ys,metadata:qs.metadata})}function extractNationalNumber(at,zs,Ws){var qs=extractNationalNumberFromPossiblyIncompleteNumber(at,Ws),Ys=qs.carrierCode,Xs=qs.nationalNumber;if(Xs!==at){if(!shouldHaveExtractedNationalPrefix(at,Xs,Ws))return{nationalNumber:at};if(Ws.numberingPlan.possibleLengths()&&(zs||(zs=getCountryByCallingCode(Ws.numberingPlan.callingCode(),{nationalNumber:Xs,metadata:Ws})),!isPossibleIncompleteNationalNumber(Xs,zs,Ws)))return{nationalNumber:at}}return{nationalNumber:Xs,carrierCode:Ys}}function shouldHaveExtractedNationalPrefix(at,zs,Ws){return!(matchesEntirely(at,Ws.nationalNumberPattern())&&!matchesEntirely(zs,Ws.nationalNumberPattern()))}function isPossibleIncompleteNationalNumber(at,zs,Ws){switch(checkNumberLength(at,zs,Ws)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(at,zs,Ws,qs,Ys){var Xs=Ws?getCountryCallingCode(Ws,Ys):qs;if(at.indexOf(Xs)===0){Ys=new Metadata(Ys),Ys.selectNumberingPlan(Ws,Xs);var Zs=at.slice(Xs.length),yl=extractNationalNumber(Zs,zs,Ys),Js=yl.nationalNumber,$l=extractNationalNumber(at,zs,Ys),El=$l.nationalNumber;if(!matchesEntirely(El,Ys.nationalNumberPattern())&&matchesEntirely(Js,Ys.nationalNumberPattern())||checkNumberLength(El,zs,Ys)==="TOO_LONG")return{countryCallingCode:Xs,number:Zs}}return{number:at}}function extractCountryCallingCode(at,zs,Ws,qs,Ys){if(!at)return{};var Xs;if(at[0]!=="+"){var Zs=stripIddPrefix(at,Ws,qs,Ys);if(Zs&&Zs!==at)Xs=!0,at="+"+Zs;else{if(Ws||qs){var yl=extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(at,zs,Ws,qs,Ys),Js=yl.countryCallingCode,$l=yl.number;if(Js)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:Js,number:$l}}return{number:at}}}if(at[1]==="0")return{};Ys=new Metadata(Ys);for(var El=2;El-1<=MAX_LENGTH_COUNTRY_CODE&&El<=at.length;){var wl=at.slice(1,El);if(Ys.hasCallingCode(wl))return Ys.selectNumberingPlan(wl),{countryCallingCodeSource:Xs?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:wl,number:at.slice(El)};El++}return{}}function applyInternationalSeparatorStyle(at){return at.replace(new RegExp("[".concat(VALID_PUNCTUATION,"]+"),"g")," ").trim()}var FIRST_GROUP_PATTERN=/(\$\d)/;function formatNationalNumberUsingFormat(at,zs,Ws){var qs=Ws.useInternationalFormat,Ys=Ws.withNationalPrefix,Xs=at.replace(new RegExp(zs.pattern()),qs?zs.internationalFormat():Ys&&zs.nationalPrefixFormattingRule()?zs.format().replace(FIRST_GROUP_PATTERN,zs.nationalPrefixFormattingRule()):zs.format());return qs?applyInternationalSeparatorStyle(Xs):Xs}var SINGLE_IDD_PREFIX_REG_EXP=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function getIddPrefix(at,zs,Ws){var qs=new Metadata(Ws);if(qs.selectNumberingPlan(at,zs),qs.defaultIDDPrefix())return qs.defaultIDDPrefix();if(SINGLE_IDD_PREFIX_REG_EXP.test(qs.IDDPrefix()))return qs.IDDPrefix()}var RFC3966_EXTN_PREFIX=";ext=",getExtensionDigitsPattern=function(zs){return"([".concat(VALID_DIGITS,"]{1,").concat(zs,"})")};function createExtensionPattern(at){var zs="20",Ws="15",qs="9",Ys="6",Xs="[ \\t,]*",Zs="[:\\.]?[ \\t,-]*",yl="#?",Js="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",$l="(?:[x#~]|int|)",El="[- ]+",wl="[ \\t]*",_l="(?:,{2}|;)",Sl=RFC3966_EXTN_PREFIX+getExtensionDigitsPattern(zs),Tl=Xs+Js+Zs+getExtensionDigitsPattern(zs)+yl,Il=Xs+$l+Zs+getExtensionDigitsPattern(qs)+yl,Al=El+getExtensionDigitsPattern(Ys)+"#",xl=wl+_l+Zs+getExtensionDigitsPattern(Ws)+yl,Pl=wl+"(?:,)+"+Zs+getExtensionDigitsPattern(qs)+yl;return Sl+"|"+Tl+"|"+Il+"|"+Al+"|"+xl+"|"+Pl}var MIN_LENGTH_PHONE_NUMBER_PATTERN="["+VALID_DIGITS+"]{"+MIN_LENGTH_FOR_NSN+"}",VALID_PHONE_NUMBER="["+PLUS_CHARS+"]{0,1}(?:["+VALID_PUNCTUATION+"]*["+VALID_DIGITS+"]){3,}["+VALID_PUNCTUATION+VALID_DIGITS+"]*",VALID_PHONE_NUMBER_START_REG_EXP=new RegExp("^["+PLUS_CHARS+"]{0,1}(?:["+VALID_PUNCTUATION+"]*["+VALID_DIGITS+"]){1,2}$","i"),VALID_PHONE_NUMBER_WITH_EXTENSION=VALID_PHONE_NUMBER+"(?:"+createExtensionPattern()+")?",VALID_PHONE_NUMBER_PATTERN=new RegExp("^"+MIN_LENGTH_PHONE_NUMBER_PATTERN+"$|^"+VALID_PHONE_NUMBER_WITH_EXTENSION+"$","i");function isViablePhoneNumber(at){return at.length>=MIN_LENGTH_FOR_NSN&&VALID_PHONE_NUMBER_PATTERN.test(at)}function isViablePhoneNumberStart(at){return VALID_PHONE_NUMBER_START_REG_EXP.test(at)}function formatRFC3966(at){var zs=at.number,Ws=at.ext;if(!zs)return"";if(zs[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(zs).concat(Ws?";ext="+Ws:"")}var DEFAULT_OPTIONS={formatExtension:function(zs,Ws,qs){return"".concat(zs).concat(qs.ext()).concat(Ws)}};function formatNumber(at,zs,Ws,qs){if(Ws?Ws=merge({},DEFAULT_OPTIONS,Ws):Ws=DEFAULT_OPTIONS,qs=new Metadata(qs),at.country&&at.country!=="001"){if(!qs.hasCountry(at.country))throw new Error("Unknown country: ".concat(at.country));qs.selectNumberingPlan(at.country)}else if(at.countryCallingCode)qs.selectNumberingPlan(at.countryCallingCode);else return at.phone||"";var Ys=qs.countryCallingCode(),Xs=Ws.v2?at.nationalNumber:at.phone,Zs;switch(zs){case"NATIONAL":return Xs?(Zs=formatNationalNumber(Xs,at.carrierCode,"NATIONAL",qs,Ws),addExtension(Zs,at.ext,qs,Ws.formatExtension)):"";case"INTERNATIONAL":return Xs?(Zs=formatNationalNumber(Xs,null,"INTERNATIONAL",qs,Ws),Zs="+".concat(Ys," ").concat(Zs),addExtension(Zs,at.ext,qs,Ws.formatExtension)):"+".concat(Ys);case"E.164":return"+".concat(Ys).concat(Xs);case"RFC3966":return formatRFC3966({number:"+".concat(Ys).concat(Xs),ext:at.ext});case"IDD":if(!Ws.fromCountry)return;var yl=formatIDD(Xs,at.carrierCode,Ys,Ws.fromCountry,qs);return yl?addExtension(yl,at.ext,qs,Ws.formatExtension):void 0;default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(zs,'"'))}}function formatNationalNumber(at,zs,Ws,qs,Ys){var Xs=chooseFormatForNumber(qs.formats(),at);return Xs?formatNationalNumberUsingFormat(at,Xs,{useInternationalFormat:Ws==="INTERNATIONAL",withNationalPrefix:!(Xs.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&Ys&&Ys.nationalPrefix===!1)}):at}function chooseFormatForNumber(at,zs){return pickFirstMatchingElement(at,function(Ws){if(Ws.leadingDigitsPatterns().length>0){var qs=Ws.leadingDigitsPatterns()[Ws.leadingDigitsPatterns().length-1];if(zs.search(qs)!==0)return!1}return matchesEntirely(zs,Ws.pattern())})}function addExtension(at,zs,Ws,qs){return zs?qs(at,zs,Ws):at}function formatIDD(at,zs,Ws,qs,Ys){var Xs=getCountryCallingCode(qs,Ys.metadata);if(Xs===Ws){var Zs=formatNationalNumber(at,zs,"NATIONAL",Ys);return Ws==="1"?Ws+" "+Zs:Zs}var yl=getIddPrefix(qs,void 0,Ys.metadata);if(yl)return"".concat(yl," ").concat(Ws," ").concat(formatNationalNumber(at,null,"INTERNATIONAL",Ys))}function merge(){for(var at=1,zs=arguments.length,Ws=new Array(zs),qs=0;qs<zs;qs++)Ws[qs]=arguments[qs];for(;at<Ws.length;){if(Ws[at])for(var Ys in Ws[at])Ws[0][Ys]=Ws[at][Ys];at++}return Ws[0]}function pickFirstMatchingElement(at,zs){for(var Ws=0;Ws<at.length;){if(zs(at[Ws]))return at[Ws];Ws++}}function _typeof$4(at){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof$4(at)}function ownKeys$3(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread$3(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys$3(Object(Ws),!0).forEach(function(qs){_defineProperty$3(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys$3(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _defineProperty$3(at,zs,Ws){return(zs=_toPropertyKey$3(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function _classCallCheck$1(at,zs){if(!(at instanceof zs))throw new TypeError("Cannot call a class as a function")}function _defineProperties(at,zs){for(var Ws=0;Ws<zs.length;Ws++){var qs=zs[Ws];qs.enumerable=qs.enumerable||!1,qs.configurable=!0,"value"in qs&&(qs.writable=!0),Object.defineProperty(at,_toPropertyKey$3(qs.key),qs)}}function _createClass$1(at,zs,Ws){return zs&&_defineProperties(at.prototype,zs),Object.defineProperty(at,"prototype",{writable:!1}),at}function _toPropertyKey$3(at){var zs=_toPrimitive$3(at,"string");return _typeof$4(zs)=="symbol"?zs:zs+""}function _toPrimitive$3(at,zs){if(_typeof$4(at)!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(_typeof$4(qs)!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}var PhoneNumber=function(){function at(zs,Ws,qs){if(_classCallCheck$1(this,at),!zs)throw new TypeError("First argument is required");if(typeof zs!="string")throw new TypeError("First argument must be a string");if(zs[0]==="+"&&!Ws)throw new TypeError("`metadata` argument not passed");if(isObject(Ws)&&isObject(Ws.countries)){qs=Ws;var Ys=zs;if(!E164_NUMBER_REGEXP.test(Ys))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var Xs=extractCountryCallingCode(Ys,void 0,void 0,void 0,qs),Zs=Xs.countryCallingCode,yl=Xs.number;if(Ws=yl,zs=Zs,!Ws)throw new Error("Invalid `number` argument passed: too short")}if(!Ws)throw new TypeError("`nationalNumber` argument is required");if(typeof Ws!="string")throw new TypeError("`nationalNumber` argument must be a string");validateMetadata(qs);var Js=getCountryAndCountryCallingCode(zs,qs),$l=Js.country,El=Js.countryCallingCode;this.country=$l,this.countryCallingCode=El,this.nationalNumber=Ws,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return qs}}return _createClass$1(at,[{key:"setExt",value:function(Ws){this.ext=Ws}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:getPossibleCountriesForNumber(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return isPossiblePhoneNumber(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return isValidNumber(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var Ws=new Metadata(this.getMetadata());return Ws.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(Ws){return this.number===Ws.number&&this.ext===Ws.ext}},{key:"getType",value:function(){return getNumberType(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(Ws,qs){return formatNumber(this,Ws,qs?_objectSpread$3(_objectSpread$3({},qs),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(Ws){return this.format("NATIONAL",Ws)}},{key:"formatInternational",value:function(Ws){return this.format("INTERNATIONAL",Ws)}},{key:"getURI",value:function(Ws){return this.format("RFC3966",Ws)}}])}(),isCountryCode=function(zs){return/^[A-Z]{2}$/.test(zs)};function getCountryAndCountryCallingCode(at,zs){var Ws,qs,Ys=new Metadata(zs);return isCountryCode(at)?(Ws=at,Ys.selectNumberingPlan(Ws),qs=Ys.countryCallingCode()):qs=at,{country:Ws,countryCallingCode:qs}}var E164_NUMBER_REGEXP=/^\+\d+$/;function _typeof$3(at){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof$3(at)}function _createClass(at,zs,Ws){return Object.defineProperty(at,"prototype",{writable:!1}),at}function _classCallCheck(at,zs){if(!(at instanceof zs))throw new TypeError("Cannot call a class as a function")}function _callSuper(at,zs,Ws){return zs=_getPrototypeOf(zs),_possibleConstructorReturn(at,_isNativeReflectConstruct()?Reflect.construct(zs,Ws||[],_getPrototypeOf(at).constructor):zs.apply(at,Ws))}function _possibleConstructorReturn(at,zs){if(zs&&(_typeof$3(zs)=="object"||typeof zs=="function"))return zs;if(zs!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(at)}function _assertThisInitialized(at){if(at===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at}function _inherits(at,zs){if(typeof zs!="function"&&zs!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(zs&&zs.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),zs&&_setPrototypeOf(at,zs)}function _wrapNativeSuper(at){var zs=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(qs){if(qs===null||!_isNativeFunction(qs))return qs;if(typeof qs!="function")throw new TypeError("Super expression must either be null or a function");if(zs!==void 0){if(zs.has(qs))return zs.get(qs);zs.set(qs,Ys)}function Ys(){return _construct(qs,arguments,_getPrototypeOf(this).constructor)}return Ys.prototype=Object.create(qs.prototype,{constructor:{value:Ys,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Ys,qs)},_wrapNativeSuper(at)}function _construct(at,zs,Ws){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var qs=[null];qs.push.apply(qs,zs);var Ys=new(at.bind.apply(at,qs));return Ws&&_setPrototypeOf(Ys,Ws.prototype),Ys}function _isNativeReflectConstruct(){try{var at=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!at})()}function _isNativeFunction(at){try{return Function.toString.call(at).indexOf("[native code]")!==-1}catch{return typeof at=="function"}}function _setPrototypeOf(at,zs){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ws,qs){return Ws.__proto__=qs,Ws},_setPrototypeOf(at,zs)}function _getPrototypeOf(at){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(zs){return zs.__proto__||Object.getPrototypeOf(zs)},_getPrototypeOf(at)}var ParseError=function(at){function zs(Ws){var qs;return _classCallCheck(this,zs),qs=_callSuper(this,zs,[Ws]),Object.setPrototypeOf(qs,zs.prototype),qs.name=qs.constructor.name,qs}return _inherits(zs,at),_createClass(zs)}(_wrapNativeSuper(Error)),EXTN_PATTERN=new RegExp("(?:"+createExtensionPattern()+")$","i");function extractExtension(at){var zs=at.search(EXTN_PATTERN);if(zs<0)return{};for(var Ws=at.slice(0,zs),qs=at.match(EXTN_PATTERN),Ys=1;Ys<qs.length;){if(qs[Ys])return{number:Ws,ext:qs[Ys]};Ys++}}var DIGITS={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function parseDigit(at){return DIGITS[at]}function _createForOfIteratorHelperLoose(at,zs){var Ws=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(Ws)return(Ws=Ws.call(at)).next.bind(Ws);if(Array.isArray(at)||(Ws=_unsupportedIterableToArray$1(at))||zs){Ws&&(at=Ws);var qs=0;return function(){return qs>=at.length?{done:!0}:{done:!1,value:at[qs++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(at,zs){if(at){if(typeof at=="string")return _arrayLikeToArray$1(at,zs);var Ws={}.toString.call(at).slice(8,-1);return Ws==="Object"&&at.constructor&&(Ws=at.constructor.name),Ws==="Map"||Ws==="Set"?Array.from(at):Ws==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ws)?_arrayLikeToArray$1(at,zs):void 0}}function _arrayLikeToArray$1(at,zs){(zs==null||zs>at.length)&&(zs=at.length);for(var Ws=0,qs=Array(zs);Ws<zs;Ws++)qs[Ws]=at[Ws];return qs}function parseIncompletePhoneNumber(at){for(var zs="",Ws=_createForOfIteratorHelperLoose(at.split("")),qs;!(qs=Ws()).done;){var Ys=qs.value;zs+=parsePhoneNumberCharacter(Ys,zs)||""}return zs}function parsePhoneNumberCharacter(at,zs,Ws){return at==="+"?zs?void 0:"+":parseDigit(at)}var PLUS_SIGN="+",RFC3966_VISUAL_SEPARATOR_="[\\-\\.\\(\\)]?",RFC3966_PHONE_DIGIT_="(["+VALID_DIGITS+"]|"+RFC3966_VISUAL_SEPARATOR_+")",RFC3966_GLOBAL_NUMBER_DIGITS_="^\\"+PLUS_SIGN+RFC3966_PHONE_DIGIT_+"*["+VALID_DIGITS+"]"+RFC3966_PHONE_DIGIT_+"*$",RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_=new RegExp(RFC3966_GLOBAL_NUMBER_DIGITS_,"g"),ALPHANUM_=VALID_DIGITS,RFC3966_DOMAINLABEL_="["+ALPHANUM_+"]+((\\-)*["+ALPHANUM_+"])*",VALID_ALPHA_="a-zA-Z",RFC3966_TOPLABEL_="["+VALID_ALPHA_+"]+((\\-)*["+ALPHANUM_+"])*",RFC3966_DOMAINNAME_="^("+RFC3966_DOMAINLABEL_+"\\.)*"+RFC3966_TOPLABEL_+"\\.?$",RFC3966_DOMAINNAME_PATTERN_=new RegExp(RFC3966_DOMAINNAME_,"g"),RFC3966_PREFIX_="tel:",RFC3966_PHONE_CONTEXT_=";phone-context=",RFC3966_ISDN_SUBADDRESS_=";isub=";function extractPhoneContext(at){var zs=at.indexOf(RFC3966_PHONE_CONTEXT_);if(zs<0)return null;var Ws=zs+RFC3966_PHONE_CONTEXT_.length;if(Ws>=at.length)return"";var qs=at.indexOf(";",Ws);return qs>=0?at.substring(Ws,qs):at.substring(Ws)}function isPhoneContextValid(at){return at===null?!0:at.length===0?!1:RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_.test(at)||RFC3966_DOMAINNAME_PATTERN_.test(at)}function extractFormattedPhoneNumberFromPossibleRfc3966NumberUri(at,zs){var Ws=zs.extractFormattedPhoneNumber,qs=extractPhoneContext(at);if(!isPhoneContextValid(qs))throw new ParseError("NOT_A_NUMBER");var Ys;if(qs===null)Ys=Ws(at)||"";else{Ys="",qs.charAt(0)===PLUS_SIGN&&(Ys+=qs);var Xs=at.indexOf(RFC3966_PREFIX_),Zs;Xs>=0?Zs=Xs+RFC3966_PREFIX_.length:Zs=0;var yl=at.indexOf(RFC3966_PHONE_CONTEXT_);Ys+=at.substring(Zs,yl)}var Js=Ys.indexOf(RFC3966_ISDN_SUBADDRESS_);if(Js>0&&(Ys=Ys.substring(0,Js)),Ys!=="")return Ys}var MAX_INPUT_STRING_LENGTH=250,PHONE_NUMBER_START_PATTERN=new RegExp("["+PLUS_CHARS+VALID_DIGITS+"]"),AFTER_PHONE_NUMBER_END_PATTERN=new RegExp("[^"+VALID_DIGITS+"#]+$");function parse(at,zs,Ws){if(zs=zs||{},Ws=new Metadata(Ws),zs.defaultCountry&&!Ws.hasCountry(zs.defaultCountry))throw zs.v2?new ParseError("INVALID_COUNTRY"):new Error("Unknown country: ".concat(zs.defaultCountry));var qs=parseInput(at,zs.v2,zs.extract),Ys=qs.number,Xs=qs.ext,Zs=qs.error;if(!Ys){if(zs.v2)throw Zs==="TOO_SHORT"?new ParseError("TOO_SHORT"):new ParseError("NOT_A_NUMBER");return{}}var yl=parsePhoneNumber$3(Ys,zs.defaultCountry,zs.defaultCallingCode,Ws),Js=yl.country,$l=yl.nationalNumber,El=yl.countryCallingCode,wl=yl.countryCallingCodeSource,_l=yl.carrierCode;if(!Ws.hasSelectedNumberingPlan()){if(zs.v2)throw new ParseError("INVALID_COUNTRY");return{}}if(!$l||$l.length<MIN_LENGTH_FOR_NSN){if(zs.v2)throw new ParseError("TOO_SHORT");return{}}if($l.length>MAX_LENGTH_FOR_NSN){if(zs.v2)throw new ParseError("TOO_LONG");return{}}if(zs.v2){var Sl=new PhoneNumber(El,$l,Ws.metadata);return Js&&(Sl.country=Js),_l&&(Sl.carrierCode=_l),Xs&&(Sl.ext=Xs),Sl.__countryCallingCodeSource=wl,Sl}var Tl=(zs.extended?Ws.hasSelectedNumberingPlan():Js)?matchesEntirely($l,Ws.nationalNumberPattern()):!1;return zs.extended?{country:Js,countryCallingCode:El,carrierCode:_l,valid:Tl,possible:Tl?!0:!!(zs.extended===!0&&Ws.possibleLengths()&&isPossibleNumber($l,Js,Ws)),phone:$l,ext:Xs}:Tl?result(Js,$l,Xs):{}}function _extractFormattedPhoneNumber(at,zs,Ws){if(at){if(at.length>MAX_INPUT_STRING_LENGTH){if(Ws)throw new ParseError("TOO_LONG");return}if(zs===!1)return at;var qs=at.search(PHONE_NUMBER_START_PATTERN);if(!(qs<0))return at.slice(qs).replace(AFTER_PHONE_NUMBER_END_PATTERN,"")}}function parseInput(at,zs,Ws){var qs=extractFormattedPhoneNumberFromPossibleRfc3966NumberUri(at,{extractFormattedPhoneNumber:function(Zs){return _extractFormattedPhoneNumber(Zs,Ws,zs)}});if(!qs)return{};if(!isViablePhoneNumber(qs))return isViablePhoneNumberStart(qs)?{error:"TOO_SHORT"}:{};var Ys=extractExtension(qs);return Ys.ext?Ys:{number:qs}}function result(at,zs,Ws){var qs={country:at,phone:zs};return Ws&&(qs.ext=Ws),qs}function parsePhoneNumber$3(at,zs,Ws,qs){var Ys=extractCountryCallingCode(parseIncompletePhoneNumber(at),void 0,zs,Ws,qs.metadata),Xs=Ys.countryCallingCodeSource,Zs=Ys.countryCallingCode,yl=Ys.number,Js;if(Zs)qs.selectNumberingPlan(Zs);else if(yl&&(zs||Ws))qs.selectNumberingPlan(zs,Ws),zs&&(Js=zs),Zs=Ws||getCountryCallingCode(zs,qs.metadata);else return{};if(!yl)return{countryCallingCodeSource:Xs,countryCallingCode:Zs};var $l=extractNationalNumber(parseIncompletePhoneNumber(yl),Js,qs),El=$l.nationalNumber,wl=$l.carrierCode,_l=getCountryByCallingCode(Zs,{nationalNumber:El,metadata:qs});return _l&&(Js=_l,_l==="001"||qs.selectNumberingPlan(Js)),{country:Js,countryCallingCode:Zs,countryCallingCodeSource:Xs,nationalNumber:El,carrierCode:wl}}function _typeof$2(at){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof$2(at)}function ownKeys$2(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread$2(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys$2(Object(Ws),!0).forEach(function(qs){_defineProperty$2(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys$2(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _defineProperty$2(at,zs,Ws){return(zs=_toPropertyKey$2(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function _toPropertyKey$2(at){var zs=_toPrimitive$2(at,"string");return _typeof$2(zs)=="symbol"?zs:zs+""}function _toPrimitive$2(at,zs){if(_typeof$2(at)!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(_typeof$2(qs)!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zs==="string"?String:Number)(at)}function parsePhoneNumberWithError(at,zs,Ws){return parse(at,_objectSpread$2(_objectSpread$2({},zs),{},{v2:!0}),Ws)}function _typeof$1(at){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof$1(at)}function ownKeys$1(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread$1(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys$1(Object(Ws),!0).forEach(function(qs){_defineProperty$1(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys$1(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _defineProperty$1(at,zs,Ws){return(zs=_toPropertyKey$1(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function _toPropertyKey$1(at){var zs=_toPrimitive$1(at,"string");return _typeof$1(zs)=="symbol"?zs:zs+""}function _toPrimitive$1(at,zs){if(_typeof$1(at)!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(_typeof$1(qs)!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zs==="string"?String:Number)(at)}function _slicedToArray(at,zs){return _arrayWithHoles(at)||_iterableToArrayLimit(at,zs)||_unsupportedIterableToArray(at,zs)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(at,zs){if(at){if(typeof at=="string")return _arrayLikeToArray(at,zs);var Ws={}.toString.call(at).slice(8,-1);return Ws==="Object"&&at.constructor&&(Ws=at.constructor.name),Ws==="Map"||Ws==="Set"?Array.from(at):Ws==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ws)?_arrayLikeToArray(at,zs):void 0}}function _arrayLikeToArray(at,zs){(zs==null||zs>at.length)&&(zs=at.length);for(var Ws=0,qs=Array(zs);Ws<zs;Ws++)qs[Ws]=at[Ws];return qs}function _iterableToArrayLimit(at,zs){var Ws=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(Ws!=null){var qs,Ys,Xs,Zs,yl=[],Js=!0,$l=!1;try{if(Xs=(Ws=Ws.call(at)).next,zs!==0)for(;!(Js=(qs=Xs.call(Ws)).done)&&(yl.push(qs.value),yl.length!==zs);Js=!0);}catch(El){$l=!0,Ys=El}finally{try{if(!Js&&Ws.return!=null&&(Zs=Ws.return(),Object(Zs)!==Zs))return}finally{if($l)throw Ys}}return yl}}function _arrayWithHoles(at){if(Array.isArray(at))return at}function normalizeArguments(at){var zs=Array.prototype.slice.call(at),Ws=_slicedToArray(zs,4),qs=Ws[0],Ys=Ws[1],Xs=Ws[2],Zs=Ws[3],yl,Js,$l;if(typeof qs=="string")yl=qs;else throw new TypeError("A text for parsing must be a string.");if(!Ys||typeof Ys=="string")Zs?(Js=Xs,$l=Zs):(Js=void 0,$l=Xs),Ys&&(Js=_objectSpread$1({defaultCountry:Ys},Js));else if(isObject(Ys))Xs?(Js=Ys,$l=Xs):$l=Ys;else throw new Error("Invalid second argument: ".concat(Ys));return{text:yl,options:Js,metadata:$l}}function _typeof(at){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs},_typeof(at)}function ownKeys(at,zs){var Ws=Object.keys(at);if(Object.getOwnPropertySymbols){var qs=Object.getOwnPropertySymbols(at);zs&&(qs=qs.filter(function(Ys){return Object.getOwnPropertyDescriptor(at,Ys).enumerable})),Ws.push.apply(Ws,qs)}return Ws}function _objectSpread(at){for(var zs=1;zs<arguments.length;zs++){var Ws=arguments[zs]!=null?arguments[zs]:{};zs%2?ownKeys(Object(Ws),!0).forEach(function(qs){_defineProperty(at,qs,Ws[qs])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Ws)):ownKeys(Object(Ws)).forEach(function(qs){Object.defineProperty(at,qs,Object.getOwnPropertyDescriptor(Ws,qs))})}return at}function _defineProperty(at,zs,Ws){return(zs=_toPropertyKey(zs))in at?Object.defineProperty(at,zs,{value:Ws,enumerable:!0,configurable:!0,writable:!0}):at[zs]=Ws,at}function _toPropertyKey(at){var zs=_toPrimitive(at,"string");return _typeof(zs)=="symbol"?zs:zs+""}function _toPrimitive(at,zs){if(_typeof(at)!="object"||!at)return at;var Ws=at[Symbol.toPrimitive];if(Ws!==void 0){var qs=Ws.call(at,zs);if(_typeof(qs)!="object")return qs;throw new TypeError("@@toPrimitive must return a primitive value.")}return(zs==="string"?String:Number)(at)}function parsePhoneNumber$2(at,zs,Ws){zs&&zs.defaultCountry&&!isSupportedCountry(zs.defaultCountry,Ws)&&(zs=_objectSpread(_objectSpread({},zs),{},{defaultCountry:void 0}));try{return parsePhoneNumberWithError(at,zs,Ws)}catch(qs){if(!(qs instanceof ParseError))throw qs}}function parsePhoneNumber$1(){var at=normalizeArguments(arguments),zs=at.text,Ws=at.options,qs=at.metadata;return parsePhoneNumber$2(zs,Ws,qs)}function parsePhoneNumber(){return withMetadataArgument(parsePhoneNumber$1,arguments)}var FlagImage=q$2,supported_country_codes=["+1","+33","+420","+358","+49","+30","+36","+354","+353","+39","+371","+370","+352","+356","+373","+382","+31","+47","+48","+351","+40","+381","+386","+34","+46","+41","+355","+376","+244","+54","+374","+61","+43","+994","+1242","+973","+880","+1246","+32","+501","+229","+591","+387","+267","+55","+1284","+673","+237","+238","+1345","+235","+56","+57","+506","+385","+599","+357","+243","+45","+253","+1767","+593","+503","+240","+372","+298","+679","+689","+220","+995","+233","+350","+1473","+502","+590","+224","+592","+509","+504","+852","+91","+62","+972","+225","+1876","+81","+383","+965","+996","+856","+961","+266","+231","+261","+60","+960","+223","+230","+52","+373","+976","+212","+258","+264","+977","+64","+505","+227","+234","+92","+507","+51","+63","+1787","+1939","+974","+262","+1758","+1784","+685","+966","+221","+248","+232","+65","+27","+82","+597","+268","+992","+255","+66","+228","+1868","+216","+598","+998","+58"],countries=_$2.filter(function(at){var zs=M$3(at),Ws=zs.dialCode;return supported_country_codes.includes("+".concat(Ws))}),isValidPhone=function(zs){var Ws,qs=parsePhoneNumber(zs);return(Ws=qs==null?void 0:qs.isValid())!==null&&Ws!==void 0?Ws:!1},desiredPanelHeight=288;function PhoneInputBox(at){var zs=at.value,Ws=at.onChange,qs=at.onFocus,Ys=at.onBlur,Xs=at.onEnter,Zs=ee$3({value:zs,defaultCountry:"us",disableDialCodeAndPrefix:!0,countries,onChange:function(Ol){Ws(Ol.phone,"+".concat(Ol.country.dialCode," ").concat(Ol.inputValue),isValidPhone(Ol.phone))}}),yl=Zs.inputValue,Js=Zs.handlePhoneValueChange,$l=Zs.inputRef,El=Zs.country,wl=Zs.setCountry,_l=reactExports.useRef(null),Sl=reactExports.useState("bottom start"),Tl=_slicedToArray$2(Sl,2),Il=Tl[0],Al=Tl[1],xl=useScreenSize(),Pl=xl.height,Cl=reactExports.useCallback(function(){var Rl=_l.current;if(Rl){var Ol=Rl.getBoundingClientRect(),Ml=Ol.top-Pl,Ll=Pl-Ol.bottom,Bl=Ll<desiredPanelHeight&&Ml>Ll?"top start":"bottom start";Al(Bl)}},[Pl,desiredPanelHeight]);return reactExports.useEffect(function(){Cl()},[Cl,Pl]),jsxRuntimeExports.jsxs("div",{className:"w-full flex items-center gap-2 rounded-md text-inherit bg-button-light dark:bg-button-dark border border-modal-background-dark/20 dark:border-modal-background-light/20 focus-within:outline-primary-light focus-within:dark:outline-primary-dark focus-within:outline-[1px] focus-within:outline-offset-0 box-border transition-all",children:[jsxRuntimeExports.jsx(Mo$3,{as:"div",value:El.iso2,onChange:wl,children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs(Mt$3,{ref:_l,className:"flex flex-row min-w-20 gap-2 px-3 cursor-pointer bg-button-light dark:bg-button-dark border-none rounded-md text-left items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-row space-x-2 items-center",children:[jsxRuntimeExports.jsx(FlagImage,{iso2:El.iso2,className:"w-5 h-4 rounded-sm"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-modal-text-light dark:text-modal-text-dark",children:["+",El.dialCode]})]}),jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faChevronDown,className:"size-3 text-icon-text-light dark:text-icon-text-dark"})]}),jsxRuntimeExports.jsx(Bt$3,{transition:!0,className:`absolute tk-scrollbar z-50 mt-1 border border-modal-background-dark/20 dark:border-modal-background-light/20 !max-h-72 !w-fit rounded-md shadow-lg overflow-y-auto overflow-x-hidden text-sm 
            transition duration-200 ease-out data-closed:-translate-y-2 data-closed:opacity-0`,anchor:Il,children:countries.map(function(Rl){var Ol=M$3(Rl),Ml=Ol.iso2,Ll=Ol.name,Bl=Ol.dialCode;return jsxRuntimeExports.jsxs(It$4,{value:Ml,className:function(Yl){var Kl=Yl.active;return"cursor-pointer select-none py-2 px-3 bg-button-light dark:bg-button-dark flex items-center gap-2 ".concat(Kl?"bg-modal-background-light dark:bg-modal-background-dark":"")},children:[jsxRuntimeExports.jsx(FlagImage,{iso2:Ml,className:"w-5 h-4 rounded-sm"}),jsxRuntimeExports.jsx("span",{children:Ll}),jsxRuntimeExports.jsxs("span",{className:"ml-auto text-xs text-icon-text-light dark:text-icon-text-dark",children:["+",Bl]})]},Ml)})})]})}),jsxRuntimeExports.jsx(X$4,{type:"tel",value:yl,ref:$l,onChange:Js,onFocus:qs,onBlur:Ys,onKeyDown:function(Ol){Ol.key==="Enter"&&(Xs==null||Xs())},placeholder:"Phone number",className:"w-full py-3 bg-transparent border-none text-inherit placeholder-icon-text-light dark:placeholder-icon-text-dark focus:outline-none focus:ring-0 focus:border-none"})]})}function PhoneNumberInput(at){var zs,Ws,qs=useTurnkey(),Ys=qs.config,Xs=at.onContinue,Zs=reactExports.useState(""),yl=_slicedToArray$2(Zs,2),Js=yl[0],$l=yl[1],El=reactExports.useState(""),wl=_slicedToArray$2(El,2),_l=wl[0],Sl=wl[1],Tl=reactExports.useState(!1),Il=_slicedToArray$2(Tl,2),Al=Il[0],xl=Il[1],Pl=reactExports.useState(!1),Cl=_slicedToArray$2(Pl,2),Rl=Cl[0],Ol=Cl[1],Ml=(zs=Ys==null||(Ws=Ys.ui)===null||Ws===void 0?void 0:Ws.preferLargeActionButtons)!==null&&zs!==void 0?zs:!1,Ll=function(){var Yl=_asyncToGenerator(_regenerator().m(function Kl(){return _regenerator().w(function(Xl){for(;;)switch(Xl.p=Xl.n){case 0:if(!(Al&&Xs)){Xl.n=3;break}return Ol(!0),Xl.p=1,Xl.n=2,Promise.resolve(Xs(Js,_l));case 2:return Xl.p=2,Ol(!1),Xl.f(2);case 3:return Xl.a(2)}},Kl,null,[[1,,2,3]])}));return function(){return Yl.apply(this,arguments)}}(),Bl=!Al,Wl=clsx("transition-all duration-300",(Al||Ml)&&"bg-primary-light dark:bg-primary-dark hover:bg-primary-light/90 dark:hover:bg-primary-dark/90 text-primary-text-light dark:text-primary-text-dark");return jsxRuntimeExports.jsxs("div",{className:clsx("w-full items-center justify-center space-y-3",Ml?"flex flex-col":"flex flex-row"),children:[jsxRuntimeExports.jsxs("div",{className:clsx("w-full",!Ml&&"relative flex items-center"),children:[jsxRuntimeExports.jsx(PhoneInputBox,{value:Js,onChange:function(Kl,Xl,Ul){$l(Kl),Sl(Xl),xl(Ul)},onEnter:Ll}),!Ml&&jsxRuntimeExports.jsx(IconButton,{icon:faArrowRight,onClick:Ll,disabled:Bl,loading:Rl,className:clsx("absolute right-2 w-6 h-6",Wl),spinnerClassName:"text-primary-text-light dark:text-primary-text-dark"})]}),Ml&&jsxRuntimeExports.jsx(ActionButton,{onClick:Ll,disabled:Bl,loading:Rl,className:clsx("w-full",Wl),spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Continue"})]})}function ActionPage(at){var zs=at.title,Ws=at.icon,qs=at.closeOnComplete,Ys=qs===void 0?!0:qs,Xs=at.action,Zs=useModal(),yl=Zs.popPage,Js=Zs.closeModal,$l=Zs.isMobile,El=reactExports.useRef(!1),wl=reactExports.useRef(null),_l=reactExports.useState(40),Sl=_slicedToArray$2(_l,2),Tl=Sl[0],Il=Sl[1];return reactExports.useEffect(function(){if(wl.current){var Al=wl.current.getBoundingClientRect(),xl=Math.max(Al.width,Al.height);Il(xl+50)}},[]),reactExports.useEffect(function(){if(!El.current){El.current=!0;var Al=function(){var xl=_asyncToGenerator(_regenerator().m(function Pl(){var Cl;return _regenerator().w(function(Rl){for(;;)switch(Rl.p=Rl.n){case 0:if(!Xs){Rl.n=5;break}return Rl.p=1,Rl.n=2,Xs();case 2:Rl.n=4;break;case 3:throw Rl.p=3,Cl=Rl.v,yl(),new Error("".concat(Cl));case 4:Ys&&Js();case 5:return Rl.a(2)}},Pl,null,[[1,3]])}));return function(){return xl.apply(this,arguments)}}();Al()}},[]),jsxRuntimeExports.jsx("div",{className:clsx("flex items-center justify-center py-10",$l?"w-full":"w-96"),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{ref:wl,className:"flex items-center justify-center",children:Ws}),jsxRuntimeExports.jsx(Spinner,{className:"absolute",style:{width:Tl,height:Tl},strokeWidth:1})]}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold",children:zs})]})})}function PasskeyButtons(at){var zs=at.onLogin,Ws=at.onSignUp;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[jsxRuntimeExports.jsx(ActionButton,{name:"passkey-login-button",onClick:zs,className:"w-full text-inherit bg-button-light dark:bg-button-dark",children:"Log in with passkey"}),jsxRuntimeExports.jsx(ActionButton,{name:"passkey-signup-button",onClick:Ws,className:"w-full bg-transparent text-primary-light dark:text-primary-dark border-none",children:"Sign up with passkey"})]})}function CoinbaseLogo(at){return jsxRuntimeExports.jsxs("svg",_objectSpread2$2(_objectSpread2$2({viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg"},at),{},{children:[jsxRuntimeExports.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:"100",ry:"100"}),jsxRuntimeExports.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}))}function MoonPayLogo(at){return jsxRuntimeExports.jsx("svg",_objectSpread2$2(_objectSpread2$2({viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg"},at),{},{children:jsxRuntimeExports.jsxs("g",{id:"moonpay_symbol_wht 2",children:[jsxRuntimeExports.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),jsxRuntimeExports.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}))}function TurnkeyLogo(at){return jsxRuntimeExports.jsxs("svg",_objectSpread2$2(_objectSpread2$2({viewBox:"0 0 60 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},at),{},{children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_326_23361)",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.6051 0.458008H36.7128H37.8388H37.9466V0.559475V5.93186V7.21982V8.81084V8.91233H37.8388H36.7128H36.6051V8.81084V0.559475V0.458008ZM14.7158 7.76302V3.3255H16.1434V2.17215H14.5994C14.6903 2.06524 14.763 1.94566 14.8149 1.81769C14.9118 1.58567 14.9635 1.28871 14.9585 0.889603V0.458036H13.6658V0.904484C13.6745 1.15788 13.62 1.40966 13.5072 1.63979C13.3384 1.96583 12.9786 2.32638 12.1966 2.49955L12.1133 2.51849V3.3255H13.3614V8.06607C13.3621 8.29033 13.457 8.50525 13.6253 8.66394C13.7936 8.82254 14.0216 8.9121 14.2598 8.91296H16.1642V7.76302H14.7165H14.7158ZM25.7319 3.29168C26.2532 2.59087 26.9455 2.18094 27.7829 2.18094H28.4521V3.40668H27.6357C27.0641 3.40668 26.6044 3.58188 26.2791 3.95122C25.9538 4.32056 25.7592 4.8969 25.7592 5.71743V8.91296H24.3904V2.18094H25.7319V3.29168ZM54.9347 2.18094H56.2438L56.3989 2.18568L56.3422 2.32097L52.9239 10.6684L52.8406 10.6379L52.8506 10.642L52.9225 10.6684C52.8257 10.8845 52.6649 11.0696 52.4591 11.2016C52.2533 11.3336 52.0116 11.4068 51.7627 11.4125H50.2474V10.2747H51.716L52.3308 8.81013L49.6514 2.31623L49.5946 2.18094H51.1027L51.1286 2.24859L53.0137 7.20832L54.9096 2.24859L54.9347 2.18094ZM21.6708 2.18094H21.7786H23.0253V8.91498H21.7377V8.08433C21.2292 8.75131 20.4816 9.06657 19.566 9.06657C18.6339 9.06657 17.9969 8.80951 17.6062 8.36171C17.2156 7.91387 17.0719 7.28883 17.0719 6.57788V2.18094H18.4271V6.70166C18.4271 7.07777 18.5527 7.37879 18.7725 7.58511C18.9922 7.79142 19.3147 7.91387 19.7269 7.91387C20.3919 7.91387 20.8716 7.70619 21.1897 7.36526C21.5078 7.02433 21.6708 6.53932 21.6708 5.96907V2.18094ZM46.1685 2.0294C45.1552 2.0294 44.32 2.38115 43.7397 3.00348C43.1595 3.62582 42.8428 4.5052 42.8428 5.55303C42.8428 6.60085 43.171 7.48633 43.7605 8.10258C44.3501 8.71886 45.1968 9.06446 46.2086 9.06446C47.0137 9.06446 47.7052 8.84665 48.246 8.4455C48.7868 8.04439 49.1695 7.46603 49.3692 6.75441L49.405 6.62656H48.0098L47.9839 6.69419C47.6766 7.49173 47.0439 7.92804 46.2086 7.92804C45.6083 7.92804 45.1458 7.71564 44.8169 7.35984C44.506 7.0216 44.3106 6.55215 44.2388 5.99678H49.4151L49.4259 5.9068C49.4375 5.78967 49.4421 5.67201 49.4396 5.55438C49.4396 4.50791 49.1365 3.62649 48.5713 3.00551C48.0061 2.38453 47.1817 2.0294 46.1685 2.0294ZM44.2862 4.8326C44.3818 4.35909 44.58 3.94849 44.8737 3.65626C45.04 3.49218 45.2409 3.36273 45.4635 3.27628C45.6861 3.18983 45.9256 3.14829 46.1663 3.15433C46.3954 3.14896 46.6232 3.18792 46.8356 3.26878C47.0481 3.34965 47.2407 3.4707 47.4015 3.62446C47.6959 3.90789 47.9042 4.31715 48.0076 4.8326H44.2862ZM32.8902 2.0294C31.9746 2.0294 31.2271 2.34462 30.7186 3.0116V2.18092H29.431V8.91296H30.7854V5.12484C30.7854 4.55458 30.9484 4.06957 31.2666 3.72796C31.5847 3.38635 32.0644 3.18004 32.7293 3.18004C33.1416 3.18004 33.4641 3.30247 33.6838 3.50879C33.9035 3.71511 34.0291 4.01612 34.0291 4.39224V8.91366H35.3843V4.51671C35.3843 3.80644 35.2407 3.18139 34.85 2.73359C34.4593 2.28578 33.8223 2.0294 32.8902 2.0294ZM43.2473 2.19831L39.69 5.55087L43.2448 8.90164L41.4497 8.89806L38.8526 6.45049C38.5996 6.21193 38.4574 5.88846 38.4574 5.55116C38.4574 5.21387 38.5996 4.89038 38.8526 4.65183L41.456 2.19831H43.2473Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M6.39906 4.34455L8.76102 9.22357H3.4917L5.85366 4.34455C5.87764 4.29535 5.91607 4.25366 5.96441 4.22444C6.01274 4.19522 6.06895 4.17969 6.12635 4.17969C6.18376 4.17969 6.23997 4.19522 6.2883 4.22444C6.33664 4.25366 6.37507 4.29535 6.39906 4.34455Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M6.12613 3.58868C7.04256 3.58868 7.78546 2.88785 7.78546 2.02335C7.78546 1.15883 7.04256 0.458008 6.12613 0.458008C5.2097 0.458008 4.4668 1.15883 4.4668 2.02335C4.4668 2.88785 5.2097 3.58868 6.12613 3.58868Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_326_23361",children:jsxRuntimeExports.jsx("rect",{width:"59",height:"11",fill:"white",transform:"translate(0.5)"})})})]}))}function EthereumLogo(at){return jsxRuntimeExports.jsxs("svg",_objectSpread2$2(_objectSpread2$2({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",id:"Layer_1",x:0,y:0,viewBox:"0 0 327.5 533.3"},at),{},{children:[jsxRuntimeExports.jsx("style",{children:".st0{fill:#8a92b2}.st1{fill:#62688f}"}),jsxRuntimeExports.jsx("path",{d:"M163.7 197.2V0L0 271.6l163.7-74.4z",className:"st0"}),jsxRuntimeExports.jsx("path",{d:"M163.7 368.4V197.2L0 271.6l163.7 96.8zm0-171.2 163.7 74.4L163.7 0v197.2z",className:"st1"}),jsxRuntimeExports.jsx("path",{d:"M163.7 197.2v171.2l163.7-96.8-163.7-74.4z",style:{fill:"#454a75"}}),jsxRuntimeExports.jsx("path",{d:"M163.7 399.4 0 302.7l163.7 230.7v-134z",className:"st0"}),jsxRuntimeExports.jsx("path",{d:"m327.5 302.7-163.8 96.7v134l163.8-230.7z",className:"st1"})]}))}function SolanaLogo(at){return jsxRuntimeExports.jsxs("svg",_objectSpread2$2(_objectSpread2$2({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 397.7 311.7"},at),{},{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"a",x1:360.879,x2:141.213,y1:351.455,y2:-69.294,gradientTransform:"matrix(1 0 0 -1 0 314)",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{offset:0,style:{stopColor:"#00ffa3"}}),jsxRuntimeExports.jsx("stop",{offset:1,style:{stopColor:"#dc1fff"}})]}),jsxRuntimeExports.jsx("path",{d:"M64.6 237.9c2.4-2.4 5.7-3.8 9.2-3.8h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1l62.7-62.7z",style:{fill:"url(#a)"}}),jsxRuntimeExports.jsxs("linearGradient",{id:"b",x1:264.829,x2:45.163,y1:401.601,y2:-19.148,gradientTransform:"matrix(1 0 0 -1 0 314)",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{offset:0,style:{stopColor:"#00ffa3"}}),jsxRuntimeExports.jsx("stop",{offset:1,style:{stopColor:"#dc1fff"}})]}),jsxRuntimeExports.jsx("path",{d:"M64.6 3.8C67.1 1.4 70.4 0 73.8 0h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1L64.6 3.8z",style:{fill:"url(#b)"}}),jsxRuntimeExports.jsxs("linearGradient",{id:"c",x1:312.548,x2:92.882,y1:376.688,y2:-44.061,gradientTransform:"matrix(1 0 0 -1 0 314)",gradientUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("stop",{offset:0,style:{stopColor:"#00ffa3"}}),jsxRuntimeExports.jsx("stop",{offset:1,style:{stopColor:"#dc1fff"}})]}),jsxRuntimeExports.jsx("path",{d:"M333.1 120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8 0-8.7 7-4.6 11.1l62.7 62.7c2.4 2.4 5.7 3.8 9.2 3.8h317.4c5.8 0 8.7-7 4.6-11.1l-62.7-62.7z",style:{fill:"url(#c)"}})]}))}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(at,zs,Ws)=>zs in at?__defProp(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,__spreadValues=(at,zs)=>{for(var Ws in zs||(zs={}))__hasOwnProp.call(zs,Ws)&&__defNormalProp(at,Ws,zs[Ws]);if(__getOwnPropSymbols)for(var Ws of __getOwnPropSymbols(zs))__propIsEnum.call(zs,Ws)&&__defNormalProp(at,Ws,zs[Ws]);return at},__objRest=(at,zs)=>{var Ws={};for(var qs in at)__hasOwnProp.call(at,qs)&&zs.indexOf(qs)<0&&(Ws[qs]=at[qs]);if(at!=null&&__getOwnPropSymbols)for(var qs of __getOwnPropSymbols(at))zs.indexOf(qs)<0&&__propIsEnum.call(at,qs)&&(Ws[qs]=at[qs]);return Ws};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qrcodegen;(at=>{const zs=class Vp{constructor(Js,$l,El,wl){if(this.version=Js,this.errorCorrectionLevel=$l,this.modules=[],this.isFunction=[],Js<Vp.MIN_VERSION||Js>Vp.MAX_VERSION)throw new RangeError("Version value out of range");if(wl<-1||wl>7)throw new RangeError("Mask value out of range");this.size=Js*4+17;let _l=[];for(let Tl=0;Tl<this.size;Tl++)_l.push(!1);for(let Tl=0;Tl<this.size;Tl++)this.modules.push(_l.slice()),this.isFunction.push(_l.slice());this.drawFunctionPatterns();const Sl=this.addEccAndInterleave(El);if(this.drawCodewords(Sl),wl==-1){let Tl=1e9;for(let Il=0;Il<8;Il++){this.applyMask(Il),this.drawFormatBits(Il);const Al=this.getPenaltyScore();Al<Tl&&(wl=Il,Tl=Al),this.applyMask(Il)}}Ys(0<=wl&&wl<=7),this.mask=wl,this.applyMask(wl),this.drawFormatBits(wl),this.isFunction=[]}static encodeText(Js,$l){const El=at.QrSegment.makeSegments(Js);return Vp.encodeSegments(El,$l)}static encodeBinary(Js,$l){const El=at.QrSegment.makeBytes(Js);return Vp.encodeSegments([El],$l)}static encodeSegments(Js,$l,El=1,wl=40,_l=-1,Sl=!0){if(!(Vp.MIN_VERSION<=El&&El<=wl&&wl<=Vp.MAX_VERSION)||_l<-1||_l>7)throw new RangeError("Invalid value");let Tl,Il;for(Tl=El;;Tl++){const Cl=Vp.getNumDataCodewords(Tl,$l)*8,Rl=Zs.getTotalBits(Js,Tl);if(Rl<=Cl){Il=Rl;break}if(Tl>=wl)throw new RangeError("Data too long")}for(const Cl of[Vp.Ecc.MEDIUM,Vp.Ecc.QUARTILE,Vp.Ecc.HIGH])Sl&&Il<=Vp.getNumDataCodewords(Tl,Cl)*8&&($l=Cl);let Al=[];for(const Cl of Js){Ws(Cl.mode.modeBits,4,Al),Ws(Cl.numChars,Cl.mode.numCharCountBits(Tl),Al);for(const Rl of Cl.getData())Al.push(Rl)}Ys(Al.length==Il);const xl=Vp.getNumDataCodewords(Tl,$l)*8;Ys(Al.length<=xl),Ws(0,Math.min(4,xl-Al.length),Al),Ws(0,(8-Al.length%8)%8,Al),Ys(Al.length%8==0);for(let Cl=236;Al.length<xl;Cl^=253)Ws(Cl,8,Al);let Pl=[];for(;Pl.length*8<Al.length;)Pl.push(0);return Al.forEach((Cl,Rl)=>Pl[Rl>>>3]|=Cl<<7-(Rl&7)),new Vp(Tl,$l,Pl,_l)}getModule(Js,$l){return 0<=Js&&Js<this.size&&0<=$l&&$l<this.size&&this.modules[$l][Js]}getModules(){return this.modules}drawFunctionPatterns(){for(let El=0;El<this.size;El++)this.setFunctionModule(6,El,El%2==0),this.setFunctionModule(El,6,El%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const Js=this.getAlignmentPatternPositions(),$l=Js.length;for(let El=0;El<$l;El++)for(let wl=0;wl<$l;wl++)El==0&&wl==0||El==0&&wl==$l-1||El==$l-1&&wl==0||this.drawAlignmentPattern(Js[El],Js[wl]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(Js){const $l=this.errorCorrectionLevel.formatBits<<3|Js;let El=$l;for(let _l=0;_l<10;_l++)El=El<<1^(El>>>9)*1335;const wl=($l<<10|El)^21522;Ys(wl>>>15==0);for(let _l=0;_l<=5;_l++)this.setFunctionModule(8,_l,qs(wl,_l));this.setFunctionModule(8,7,qs(wl,6)),this.setFunctionModule(8,8,qs(wl,7)),this.setFunctionModule(7,8,qs(wl,8));for(let _l=9;_l<15;_l++)this.setFunctionModule(14-_l,8,qs(wl,_l));for(let _l=0;_l<8;_l++)this.setFunctionModule(this.size-1-_l,8,qs(wl,_l));for(let _l=8;_l<15;_l++)this.setFunctionModule(8,this.size-15+_l,qs(wl,_l));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let Js=this.version;for(let El=0;El<12;El++)Js=Js<<1^(Js>>>11)*7973;const $l=this.version<<12|Js;Ys($l>>>18==0);for(let El=0;El<18;El++){const wl=qs($l,El),_l=this.size-11+El%3,Sl=Math.floor(El/3);this.setFunctionModule(_l,Sl,wl),this.setFunctionModule(Sl,_l,wl)}}drawFinderPattern(Js,$l){for(let El=-4;El<=4;El++)for(let wl=-4;wl<=4;wl++){const _l=Math.max(Math.abs(wl),Math.abs(El)),Sl=Js+wl,Tl=$l+El;0<=Sl&&Sl<this.size&&0<=Tl&&Tl<this.size&&this.setFunctionModule(Sl,Tl,_l!=2&&_l!=4)}}drawAlignmentPattern(Js,$l){for(let El=-2;El<=2;El++)for(let wl=-2;wl<=2;wl++)this.setFunctionModule(Js+wl,$l+El,Math.max(Math.abs(wl),Math.abs(El))!=1)}setFunctionModule(Js,$l,El){this.modules[$l][Js]=El,this.isFunction[$l][Js]=!0}addEccAndInterleave(Js){const $l=this.version,El=this.errorCorrectionLevel;if(Js.length!=Vp.getNumDataCodewords($l,El))throw new RangeError("Invalid argument");const wl=Vp.NUM_ERROR_CORRECTION_BLOCKS[El.ordinal][$l],_l=Vp.ECC_CODEWORDS_PER_BLOCK[El.ordinal][$l],Sl=Math.floor(Vp.getNumRawDataModules($l)/8),Tl=wl-Sl%wl,Il=Math.floor(Sl/wl);let Al=[];const xl=Vp.reedSolomonComputeDivisor(_l);for(let Cl=0,Rl=0;Cl<wl;Cl++){let Ol=Js.slice(Rl,Rl+Il-_l+(Cl<Tl?0:1));Rl+=Ol.length;const Ml=Vp.reedSolomonComputeRemainder(Ol,xl);Cl<Tl&&Ol.push(0),Al.push(Ol.concat(Ml))}let Pl=[];for(let Cl=0;Cl<Al[0].length;Cl++)Al.forEach((Rl,Ol)=>{(Cl!=Il-_l||Ol>=Tl)&&Pl.push(Rl[Cl])});return Ys(Pl.length==Sl),Pl}drawCodewords(Js){if(Js.length!=Math.floor(Vp.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let $l=0;for(let El=this.size-1;El>=1;El-=2){El==6&&(El=5);for(let wl=0;wl<this.size;wl++)for(let _l=0;_l<2;_l++){const Sl=El-_l,Il=(El+1&2)==0?this.size-1-wl:wl;!this.isFunction[Il][Sl]&&$l<Js.length*8&&(this.modules[Il][Sl]=qs(Js[$l>>>3],7-($l&7)),$l++)}}Ys($l==Js.length*8)}applyMask(Js){if(Js<0||Js>7)throw new RangeError("Mask value out of range");for(let $l=0;$l<this.size;$l++)for(let El=0;El<this.size;El++){let wl;switch(Js){case 0:wl=(El+$l)%2==0;break;case 1:wl=$l%2==0;break;case 2:wl=El%3==0;break;case 3:wl=(El+$l)%3==0;break;case 4:wl=(Math.floor(El/3)+Math.floor($l/2))%2==0;break;case 5:wl=El*$l%2+El*$l%3==0;break;case 6:wl=(El*$l%2+El*$l%3)%2==0;break;case 7:wl=((El+$l)%2+El*$l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[$l][El]&&wl&&(this.modules[$l][El]=!this.modules[$l][El])}}getPenaltyScore(){let Js=0;for(let _l=0;_l<this.size;_l++){let Sl=!1,Tl=0,Il=[0,0,0,0,0,0,0];for(let Al=0;Al<this.size;Al++)this.modules[_l][Al]==Sl?(Tl++,Tl==5?Js+=Vp.PENALTY_N1:Tl>5&&Js++):(this.finderPenaltyAddHistory(Tl,Il),Sl||(Js+=this.finderPenaltyCountPatterns(Il)*Vp.PENALTY_N3),Sl=this.modules[_l][Al],Tl=1);Js+=this.finderPenaltyTerminateAndCount(Sl,Tl,Il)*Vp.PENALTY_N3}for(let _l=0;_l<this.size;_l++){let Sl=!1,Tl=0,Il=[0,0,0,0,0,0,0];for(let Al=0;Al<this.size;Al++)this.modules[Al][_l]==Sl?(Tl++,Tl==5?Js+=Vp.PENALTY_N1:Tl>5&&Js++):(this.finderPenaltyAddHistory(Tl,Il),Sl||(Js+=this.finderPenaltyCountPatterns(Il)*Vp.PENALTY_N3),Sl=this.modules[Al][_l],Tl=1);Js+=this.finderPenaltyTerminateAndCount(Sl,Tl,Il)*Vp.PENALTY_N3}for(let _l=0;_l<this.size-1;_l++)for(let Sl=0;Sl<this.size-1;Sl++){const Tl=this.modules[_l][Sl];Tl==this.modules[_l][Sl+1]&&Tl==this.modules[_l+1][Sl]&&Tl==this.modules[_l+1][Sl+1]&&(Js+=Vp.PENALTY_N2)}let $l=0;for(const _l of this.modules)$l=_l.reduce((Sl,Tl)=>Sl+(Tl?1:0),$l);const El=this.size*this.size,wl=Math.ceil(Math.abs($l*20-El*10)/El)-1;return Ys(0<=wl&&wl<=9),Js+=wl*Vp.PENALTY_N4,Ys(0<=Js&&Js<=2568888),Js}getAlignmentPatternPositions(){if(this.version==1)return[];{const Js=Math.floor(this.version/7)+2,$l=this.version==32?26:Math.ceil((this.version*4+4)/(Js*2-2))*2;let El=[6];for(let wl=this.size-7;El.length<Js;wl-=$l)El.splice(1,0,wl);return El}}static getNumRawDataModules(Js){if(Js<Vp.MIN_VERSION||Js>Vp.MAX_VERSION)throw new RangeError("Version number out of range");let $l=(16*Js+128)*Js+64;if(Js>=2){const El=Math.floor(Js/7)+2;$l-=(25*El-10)*El-55,Js>=7&&($l-=36)}return Ys(208<=$l&&$l<=29648),$l}static getNumDataCodewords(Js,$l){return Math.floor(Vp.getNumRawDataModules(Js)/8)-Vp.ECC_CODEWORDS_PER_BLOCK[$l.ordinal][Js]*Vp.NUM_ERROR_CORRECTION_BLOCKS[$l.ordinal][Js]}static reedSolomonComputeDivisor(Js){if(Js<1||Js>255)throw new RangeError("Degree out of range");let $l=[];for(let wl=0;wl<Js-1;wl++)$l.push(0);$l.push(1);let El=1;for(let wl=0;wl<Js;wl++){for(let _l=0;_l<$l.length;_l++)$l[_l]=Vp.reedSolomonMultiply($l[_l],El),_l+1<$l.length&&($l[_l]^=$l[_l+1]);El=Vp.reedSolomonMultiply(El,2)}return $l}static reedSolomonComputeRemainder(Js,$l){let El=$l.map(wl=>0);for(const wl of Js){const _l=wl^El.shift();El.push(0),$l.forEach((Sl,Tl)=>El[Tl]^=Vp.reedSolomonMultiply(Sl,_l))}return El}static reedSolomonMultiply(Js,$l){if(Js>>>8||$l>>>8)throw new RangeError("Byte out of range");let El=0;for(let wl=7;wl>=0;wl--)El=El<<1^(El>>>7)*285,El^=($l>>>wl&1)*Js;return Ys(El>>>8==0),El}finderPenaltyCountPatterns(Js){const $l=Js[1];Ys($l<=this.size*3);const El=$l>0&&Js[2]==$l&&Js[3]==$l*3&&Js[4]==$l&&Js[5]==$l;return(El&&Js[0]>=$l*4&&Js[6]>=$l?1:0)+(El&&Js[6]>=$l*4&&Js[0]>=$l?1:0)}finderPenaltyTerminateAndCount(Js,$l,El){return Js&&(this.finderPenaltyAddHistory($l,El),$l=0),$l+=this.size,this.finderPenaltyAddHistory($l,El),this.finderPenaltyCountPatterns(El)}finderPenaltyAddHistory(Js,$l){$l[0]==0&&(Js+=this.size),$l.pop(),$l.unshift(Js)}};zs.MIN_VERSION=1,zs.MAX_VERSION=40,zs.PENALTY_N1=3,zs.PENALTY_N2=3,zs.PENALTY_N3=40,zs.PENALTY_N4=10,zs.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],zs.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],at.QrCode=zs;function Ws(yl,Js,$l){if(Js<0||Js>31||yl>>>Js)throw new RangeError("Value out of range");for(let El=Js-1;El>=0;El--)$l.push(yl>>>El&1)}function qs(yl,Js){return(yl>>>Js&1)!=0}function Ys(yl){if(!yl)throw new Error("Assertion error")}const Xs=class cm{constructor(Js,$l,El){if(this.mode=Js,this.numChars=$l,this.bitData=El,$l<0)throw new RangeError("Invalid argument");this.bitData=El.slice()}static makeBytes(Js){let $l=[];for(const El of Js)Ws(El,8,$l);return new cm(cm.Mode.BYTE,Js.length,$l)}static makeNumeric(Js){if(!cm.isNumeric(Js))throw new RangeError("String contains non-numeric characters");let $l=[];for(let El=0;El<Js.length;){const wl=Math.min(Js.length-El,3);Ws(parseInt(Js.substring(El,El+wl),10),wl*3+1,$l),El+=wl}return new cm(cm.Mode.NUMERIC,Js.length,$l)}static makeAlphanumeric(Js){if(!cm.isAlphanumeric(Js))throw new RangeError("String contains unencodable characters in alphanumeric mode");let $l=[],El;for(El=0;El+2<=Js.length;El+=2){let wl=cm.ALPHANUMERIC_CHARSET.indexOf(Js.charAt(El))*45;wl+=cm.ALPHANUMERIC_CHARSET.indexOf(Js.charAt(El+1)),Ws(wl,11,$l)}return El<Js.length&&Ws(cm.ALPHANUMERIC_CHARSET.indexOf(Js.charAt(El)),6,$l),new cm(cm.Mode.ALPHANUMERIC,Js.length,$l)}static makeSegments(Js){return Js==""?[]:cm.isNumeric(Js)?[cm.makeNumeric(Js)]:cm.isAlphanumeric(Js)?[cm.makeAlphanumeric(Js)]:[cm.makeBytes(cm.toUtf8ByteArray(Js))]}static makeEci(Js){let $l=[];if(Js<0)throw new RangeError("ECI assignment value out of range");if(Js<128)Ws(Js,8,$l);else if(Js<16384)Ws(2,2,$l),Ws(Js,14,$l);else if(Js<1e6)Ws(6,3,$l),Ws(Js,21,$l);else throw new RangeError("ECI assignment value out of range");return new cm(cm.Mode.ECI,0,$l)}static isNumeric(Js){return cm.NUMERIC_REGEX.test(Js)}static isAlphanumeric(Js){return cm.ALPHANUMERIC_REGEX.test(Js)}getData(){return this.bitData.slice()}static getTotalBits(Js,$l){let El=0;for(const wl of Js){const _l=wl.mode.numCharCountBits($l);if(wl.numChars>=1<<_l)return 1/0;El+=4+_l+wl.bitData.length}return El}static toUtf8ByteArray(Js){Js=encodeURI(Js);let $l=[];for(let El=0;El<Js.length;El++)Js.charAt(El)!="%"?$l.push(Js.charCodeAt(El)):($l.push(parseInt(Js.substring(El+1,El+3),16)),El+=2);return $l}};Xs.NUMERIC_REGEX=/^[0-9]*$/,Xs.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,Xs.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let Zs=Xs;at.QrSegment=Xs})(qrcodegen||(qrcodegen={})),(at=>{(zs=>{const Ws=class{constructor(Ys,Xs){this.ordinal=Ys,this.formatBits=Xs}};Ws.LOW=new Ws(0,1),Ws.MEDIUM=new Ws(1,0),Ws.QUARTILE=new Ws(2,3),Ws.HIGH=new Ws(3,2),zs.Ecc=Ws})(at.QrCode||(at.QrCode={}))})(qrcodegen||(qrcodegen={})),(at=>{(zs=>{const Ws=class{constructor(Ys,Xs){this.modeBits=Ys,this.numBitsCharCount=Xs}numCharCountBits(Ys){return this.numBitsCharCount[Math.floor((Ys+7)/17)]}};Ws.NUMERIC=new Ws(1,[10,12,14]),Ws.ALPHANUMERIC=new Ws(2,[9,11,13]),Ws.BYTE=new Ws(4,[8,16,16]),Ws.KANJI=new Ws(8,[8,10,12]),Ws.ECI=new Ws(7,[0,0,0]),zs.Mode=Ws})(at.QrSegment||(at.QrSegment={}))})(qrcodegen||(qrcodegen={}));var qrcodegen_default=qrcodegen;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ERROR_LEVEL_MAP={L:qrcodegen_default.QrCode.Ecc.LOW,M:qrcodegen_default.QrCode.Ecc.MEDIUM,Q:qrcodegen_default.QrCode.Ecc.QUARTILE,H:qrcodegen_default.QrCode.Ecc.HIGH},DEFAULT_SIZE=128,DEFAULT_LEVEL="L",DEFAULT_BGCOLOR="#FFFFFF",DEFAULT_FGCOLOR="#000000",DEFAULT_INCLUDEMARGIN=!1,DEFAULT_MINVERSION=1,SPEC_MARGIN_SIZE=4,DEFAULT_MARGIN_SIZE=0,DEFAULT_IMG_SCALE=.1;function generatePath(at,zs=0){const Ws=[];return at.forEach(function(qs,Ys){let Xs=null;qs.forEach(function(Zs,yl){if(!Zs&&Xs!==null){Ws.push(`M${Xs+zs} ${Ys+zs}h${yl-Xs}v1H${Xs+zs}z`),Xs=null;return}if(yl===qs.length-1){if(!Zs)return;Xs===null?Ws.push(`M${yl+zs},${Ys+zs} h1v1H${yl+zs}z`):Ws.push(`M${Xs+zs},${Ys+zs} h${yl+1-Xs}v1H${Xs+zs}z`);return}Zs&&Xs===null&&(Xs=yl)})}),Ws.join("")}function excavateModules(at,zs){return at.slice().map((Ws,qs)=>qs<zs.y||qs>=zs.y+zs.h?Ws:Ws.map((Ys,Xs)=>Xs<zs.x||Xs>=zs.x+zs.w?Ys:!1))}function getImageSettings(at,zs,Ws,qs){if(qs==null)return null;const Ys=at.length+Ws*2,Xs=Math.floor(zs*DEFAULT_IMG_SCALE),Zs=Ys/zs,yl=(qs.width||Xs)*Zs,Js=(qs.height||Xs)*Zs,$l=qs.x==null?at.length/2-yl/2:qs.x*Zs,El=qs.y==null?at.length/2-Js/2:qs.y*Zs,wl=qs.opacity==null?1:qs.opacity;let _l=null;if(qs.excavate){let Tl=Math.floor($l),Il=Math.floor(El),Al=Math.ceil(yl+$l-Tl),xl=Math.ceil(Js+El-Il);_l={x:Tl,y:Il,w:Al,h:xl}}const Sl=qs.crossOrigin;return{x:$l,y:El,h:Js,w:yl,excavation:_l,opacity:wl,crossOrigin:Sl}}function getMarginSize(at,zs){return zs!=null?Math.max(Math.floor(zs),0):at?SPEC_MARGIN_SIZE:DEFAULT_MARGIN_SIZE}function useQRCode({value:at,level:zs,minVersion:Ws,includeMargin:qs,marginSize:Ys,imageSettings:Xs,size:Zs,boostLevel:yl}){let Js=React$1.useMemo(()=>{const Tl=(Array.isArray(at)?at:[at]).reduce((Il,Al)=>(Il.push(...qrcodegen_default.QrSegment.makeSegments(Al)),Il),[]);return qrcodegen_default.QrCode.encodeSegments(Tl,ERROR_LEVEL_MAP[zs],Ws,void 0,void 0,yl)},[at,zs,Ws,yl]);const{cells:$l,margin:El,numCells:wl,calculatedImageSettings:_l}=React$1.useMemo(()=>{let Sl=Js.getModules();const Tl=getMarginSize(qs,Ys),Il=Sl.length+Tl*2,Al=getImageSettings(Sl,Zs,Tl,Xs);return{cells:Sl,margin:Tl,numCells:Il,calculatedImageSettings:Al}},[Js,Zs,Xs,qs,Ys]);return{qrcode:Js,margin:El,cells:$l,numCells:wl,calculatedImageSettings:_l}}var SUPPORTS_PATH2D=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),QRCodeCanvas=React$1.forwardRef(function(zs,Ws){const qs=zs,{value:Ys,size:Xs=DEFAULT_SIZE,level:Zs=DEFAULT_LEVEL,bgColor:yl=DEFAULT_BGCOLOR,fgColor:Js=DEFAULT_FGCOLOR,includeMargin:$l=DEFAULT_INCLUDEMARGIN,minVersion:El=DEFAULT_MINVERSION,boostLevel:wl,marginSize:_l,imageSettings:Sl}=qs,Il=__objRest(qs,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:Al}=Il,xl=__objRest(Il,["style"]),Pl=Sl==null?void 0:Sl.src,Cl=React$1.useRef(null),Rl=React$1.useRef(null),Ol=React$1.useCallback(Vl=>{Cl.current=Vl,typeof Ws=="function"?Ws(Vl):Ws&&(Ws.current=Vl)},[Ws]),[Ml,Ll]=React$1.useState(!1),{margin:Bl,cells:Wl,numCells:Yl,calculatedImageSettings:Kl}=useQRCode({value:Ys,level:Zs,minVersion:El,boostLevel:wl,includeMargin:$l,marginSize:_l,imageSettings:Sl,size:Xs});React$1.useEffect(()=>{if(Cl.current!=null){const Vl=Cl.current,Nl=Vl.getContext("2d");if(!Nl)return;let Dl=Wl;const Gl=Rl.current,Fl=Kl!=null&&Gl!==null&&Gl.complete&&Gl.naturalHeight!==0&&Gl.naturalWidth!==0;Fl&&Kl.excavation!=null&&(Dl=excavateModules(Wl,Kl.excavation));const Hl=window.devicePixelRatio||1;Vl.height=Vl.width=Xs*Hl;const Zl=Xs/Yl*Hl;Nl.scale(Zl,Zl),Nl.fillStyle=yl,Nl.fillRect(0,0,Yl,Yl),Nl.fillStyle=Js,SUPPORTS_PATH2D?Nl.fill(new Path2D(generatePath(Dl,Bl))):Wl.forEach(function(Su,$u){Su.forEach(function(Pu,ku){Pu&&Nl.fillRect(ku+Bl,$u+Bl,1,1)})}),Kl&&(Nl.globalAlpha=Kl.opacity),Fl&&Nl.drawImage(Gl,Kl.x+Bl,Kl.y+Bl,Kl.w,Kl.h)}}),React$1.useEffect(()=>{Ll(!1)},[Pl]);const Xl=__spreadValues({height:Xs,width:Xs},Al);let Ul=null;return Pl!=null&&(Ul=React$1.createElement("img",{src:Pl,key:Pl,style:{display:"none"},onLoad:()=>{Ll(!0)},ref:Rl,crossOrigin:Kl==null?void 0:Kl.crossOrigin})),React$1.createElement(React$1.Fragment,null,React$1.createElement("canvas",__spreadValues({style:Xl,height:Xs,width:Xs,ref:Ol,role:"img"},xl)),Ul)});QRCodeCanvas.displayName="QRCodeCanvas";var QRCodeSVG=React$1.forwardRef(function(zs,Ws){const qs=zs,{value:Ys,size:Xs=DEFAULT_SIZE,level:Zs=DEFAULT_LEVEL,bgColor:yl=DEFAULT_BGCOLOR,fgColor:Js=DEFAULT_FGCOLOR,includeMargin:$l=DEFAULT_INCLUDEMARGIN,minVersion:El=DEFAULT_MINVERSION,boostLevel:wl,title:_l,marginSize:Sl,imageSettings:Tl}=qs,Il=__objRest(qs,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:Al,cells:xl,numCells:Pl,calculatedImageSettings:Cl}=useQRCode({value:Ys,level:Zs,minVersion:El,boostLevel:wl,includeMargin:$l,marginSize:Sl,imageSettings:Tl,size:Xs});let Rl=xl,Ol=null;Tl!=null&&Cl!=null&&(Cl.excavation!=null&&(Rl=excavateModules(xl,Cl.excavation)),Ol=React$1.createElement("image",{href:Tl.src,height:Cl.h,width:Cl.w,x:Cl.x+Al,y:Cl.y+Al,preserveAspectRatio:"none",opacity:Cl.opacity,crossOrigin:Cl.crossOrigin}));const Ml=generatePath(Rl,Al);return React$1.createElement("svg",__spreadValues({height:Xs,width:Xs,viewBox:`0 0 ${Pl} ${Pl}`,ref:Ws,role:"img"},Il),!!_l&&React$1.createElement("title",null,_l),React$1.createElement("path",{fill:yl,d:`M0,0 h${Pl}v${Pl}H0z`,shapeRendering:"crispEdges"}),React$1.createElement("path",{fill:Js,d:Ml,shapeRendering:"crispEdges"}),Ol)});QRCodeSVG.displayName="QRCodeSVG";function LottiePlayerWrapper(at){var zs=reactExports.useState(null),Ws=_slicedToArray$2(zs,2),qs=Ws[0],Ys=Ws[1];return reactExports.useEffect(function(){typeof window<"u"&&__vitePreload(()=>Promise.resolve().then(()=>Dynamic),void 0).then(function(){var Xs=_asyncToGenerator(_regenerator().m(function Zs(yl){var Js;return _regenerator().w(function($l){for(;;)switch($l.n){case 0:return $l.n=1,yl.getLottiePlayer();case 1:Js=$l.v,Ys(function(){return Js});case 2:return $l.a(2)}},Zs)}));return function(Zs){return Xs.apply(this,arguments)}}())},[]),qs?jsxRuntimeExports.jsx(qs,_objectSpread2$2({},at)):null}function SuccessPage(at){var zs=at.text,Ws=zs===void 0?"Success":zs,qs=at.duration,Ys=qs===void 0?2e3:qs,Xs=at.onComplete,Zs=reactExports.useState(!1),yl=_slicedToArray$2(Zs,2),Js=yl[0],$l=yl[1],El=useModal(),wl=El.isMobile,_l=reactExports.useState(0),Sl=_slicedToArray$2(_l,2),Tl=Sl[0],Il=Sl[1];return reactExports.useEffect(function(){Il(1);var Al=setTimeout(function(){$l(!0)},300),xl=setTimeout(function(){Xs()},Ys);return function(){clearTimeout(xl),clearTimeout(Al)}},[Ys,Xs]),jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center justify-center",wl?"w-full py-4":"w-72 p-4"),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",style:{height:"150px",width:"150px"},children:[jsxRuntimeExports.jsxs("div",{style:{height:"100px",width:"100px",transform:"scale(".concat(Tl,")")},className:"flex absolute items-center justify-center rounded-full bg-success-light dark:bg-success-dark transition-all duration-300",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{style:{height:"50px",width:"50px"},className:"text-modal-background-light dark:text-modal-background-dark",icon:faCheck}),Js&&jsxRuntimeExports.jsx(FontAwesomeIcon,{style:{height:"50px",width:"50px"},className:"text-modal-background-light dark:text-modal-background-dark absolute animate-ping",icon:faCheck})]}),jsxRuntimeExports.jsx(LottiePlayerWrapper,{style:{height:"300px",width:"300px"},autoplay:!0,loop:!1,src:"https://lottie.host/a7306a93-4125-48e1-b0e9-17904e5a774e/2aVGSPuWWf.json"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium mt-2 text-center",children:Ws})]})}function WalletAuthButton(at){var zs=at.onContinue,Ws=reactExports.useState(!1),qs=_slicedToArray$2(Ws,2),Ys=qs[0],Xs=qs[1],Zs=function(){var yl=_asyncToGenerator(_regenerator().m(function Js(){return _regenerator().w(function($l){for(;;)switch($l.p=$l.n){case 0:return Xs(!0),$l.p=1,$l.n=2,Promise.resolve(zs());case 2:return $l.p=2,Xs(!1),$l.f(2);case 3:return $l.a(2)}},Js,null,[[1,,2,3]])}));return function(){return yl.apply(this,arguments)}}();return jsxRuntimeExports.jsx("div",{className:"flex flex-col w-full",children:jsxRuntimeExports.jsx(ActionButton,{name:"wallet-auth-button",onClick:Zs,loading:Ys,className:"w-full text-inherit bg-button-light dark:bg-button-dark",children:"Continue with wallet"})})}var canDisconnect=function(zs,Ws){return Ws&&zs.connectedAddresses&&zs.connectedAddresses.length>0};function ExternalWalletChainSelector(at){var zs,Ws,qs,Ys=at.providers,Xs=at.onSelect,Zs=at.onDisconnect,yl=useTurnkey(),Js=yl.walletProviders,$l=useModal(),El=$l.isMobile,wl=$l.popPage,_l=Ys.map(function(Il){return Js.find(function(Al){return Al.interfaceType===Il.interfaceType&&Al.chainInfo.namespace===Il.chainInfo.namespace})}).filter(function(Il){return Il!==void 0});reactExports.useEffect(function(){_l.length===0&&wl()},[_l.length,wl]);var Sl=Zs!==void 0,Tl=function(Al){canDisconnect(Al,Sl)?Zs(Al):Xs(Al)};return jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col w-72 gap-4 mt-11 items-center justify-center",El?"w-full":"w-72"),children:[jsxRuntimeExports.jsx("img",{src:(zs=Ys[0])===null||zs===void 0?void 0:zs.info.icon,className:"size-14 rounded-full"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-center text-icon-text-light dark:text-icon-text-dark",children:[(Ws=(qs=Ys[0])===null||qs===void 0?void 0:qs.info.name)!==null&&Ws!==void 0?Ws:"This wallet provider"," supports multiple chains. Select which chain you would like to use."]}),jsxRuntimeExports.jsx("div",{className:"w-full flex flex-col gap-2",children:Ys.map(function(Il){var Al,xl,Pl=reactExports.useState(!1),Cl=_slicedToArray$2(Pl,2),Rl=Cl[0],Ol=Cl[1];return jsxRuntimeExports.jsxs(ActionButton,{onClick:function(){return Tl(Il)},onMouseEnter:function(){return Ol(!0)},onMouseLeave:function(){return Ol(!1)},className:"relative overflow-hidden flex items-center justify-start gap-2 w-full text-inherit bg-button-light dark:bg-button-dark",children:[isEthereumProvider(Il)?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(EthereumLogo,{className:"size-5"}),canDisconnect(Il,Sl)&&jsxRuntimeExports.jsx(ConnectedIndicator,{isPinging:!0})]}):isSolanaProvider(Il)?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(SolanaLogo,{className:"size-5"}),canDisconnect(Il,Sl)&&jsxRuntimeExports.jsx(ConnectedIndicator,{isPinging:!0})]}):jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("span",{className:"size-5 flex items-center justify-center rounded bg-gray-300 dark:bg-gray-700",children:"?"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start",children:[isEthereumProvider(Il)?"EVM":isSolanaProvider(Il)?"Solana":"?",canDisconnect(Il,Sl)&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-icon-text-light dark:text-icon-text-dark",children:["Connected: ",(Al=Il.connectedAddresses[0])===null||Al===void 0?void 0:Al.slice(0,4),"...",(xl=Il.connectedAddresses[0])===null||xl===void 0?void 0:xl.slice(-3)]})]}),jsxRuntimeExports.jsx(FontAwesomeIcon,{className:clsx("absolute transition-all duration-200",Rl?"right-4":"-right-4",canDisconnect(Il,Sl)?"text-danger-light dark:text-danger-dark":"text-icon-text-light dark:text-icon-text-dark"),size:canDisconnect(Il,Sl)?"lg":"1x",icon:canDisconnect(Il,Sl)?faClose:faChevronRight})]},Il.chainInfo.namespace)})})]})}function ExternalWalletSelector(at){var zs=at.onDisconnect,Ws=at.onSelect,qs=useModal(),Ys=qs.pushPage,Xs=qs.popPage,Zs=qs.isMobile,yl=useTurnkey(),Js=yl.walletProviders,$l=zs!==void 0,El=Js.reduce(function(_l,Sl){var Tl=Sl.info.name;return _l[Tl]||(_l[Tl]=[]),_l[Tl].push(Sl),_l},{}),wl=function(Sl){Sl.length===1?canDisconnect(Sl[0],$l)?zs(Sl[0]):Ws(Sl[0]):Ys({key:"Select chain",content:jsxRuntimeExports.jsx(ExternalWalletChainSelector,{providers:Sl,onDisconnect:zs,onSelect:Ws})})};return reactExports.useEffect(function(){var _l=Object.values(El);_l.length===1&&(Xs(),wl(_l[0]))},[El]),Object.keys(El).length===0?jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col h-40 mt-4 gap-2 justify-center items-center text-xs text-center text-icon-text-light dark:text-icon-text-dark",Zs?"w-full":"w-72"),children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"No wallet providers available."}),jsxRuntimeExports.jsx("span",{children:"Only wallets supporting EIP-1193 (Ethereum) or the Solana wallet standard are supported."})]}):jsxRuntimeExports.jsx("div",{className:clsx("w-72 min-h-42 max-h-64 mt-12 overflow-y-auto tk-scrollbar p-0.5",Zs?"w-full":"w-72"),children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:Object.entries(El).map(function(_l){var Sl=_slicedToArray$2(_l,2),Tl=Sl[0],Il=Sl[1],Al=reactExports.useState(!1),xl=_slicedToArray$2(Al,2),Pl=xl[0],Cl=xl[1],Rl=Il[0];return jsxRuntimeExports.jsxs(ActionButton,{onMouseEnter:function(){return Cl(!0)},onMouseLeave:function(){return Cl(!1)},onClick:function(){return wl(Il)},className:"relative flex items-center justify-between w-full text-inherit bg-button-light dark:bg-button-dark overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:Rl==null?void 0:Rl.info.icon,alt:Rl==null?void 0:Rl.info.name,className:"size-6 rounded-full"}),Rl==null?void 0:Rl.info.name]}),jsxRuntimeExports.jsx("div",{className:clsx("flex items-center transition-all gap-1"),children:Il.map(function(Ol,Ml){var Ll;if(isEthereumProvider(Ol))Ll=EthereumLogo;else if(isSolanaProvider(Ol))Ll=SolanaLogo;else throw new Error("Unsupported provider namespace. Expected Ethereum or Solana.");var Bl=50+Ml*30;return jsxRuntimeExports.jsxs("div",{style:{transitionDelay:"".concat(Bl,"ms")},className:clsx("relative","size-4","transition-all duration-200",Pl?"-translate-x-8":"translate-x-0"),children:[jsxRuntimeExports.jsx(Ll,{className:"size-4"}),canDisconnect(Ol,$l)&&jsxRuntimeExports.jsx(ConnectedIndicator,{isPinging:Pl})]},Ol.chainInfo.namespace)})}),jsxRuntimeExports.jsx(FontAwesomeIcon,{className:clsx("absolute transition-all duration-200",Pl?"right-4":"-right-4",Il.length===1&&canDisconnect(Il[0],$l)?"text-danger-light dark:text-danger-dark":"text-icon-text-light dark:text-icon-text-dark"),size:Il.length===1&&canDisconnect(Il[0],$l)?"lg":"1x",icon:Il.length===1&&canDisconnect(Il[0],$l)?faClose:faChevronRight})]},Tl)})})})}function DisconnectWalletScreen(at){var zs,Ws=at.provider,qs=at.onDisconnect,Ys=useModal(),Xs=Ys.isMobile,Zs=reactExports.useState(!1),yl=_slicedToArray$2(Zs,2),Js=yl[0],$l=yl[1],El=reactExports.useState(!1),wl=_slicedToArray$2(El,2),_l=wl[0],Sl=wl[1],Tl=function(){var Il=_asyncToGenerator(_regenerator().m(function Al(){return _regenerator().w(function(xl){for(;;)switch(xl.p=xl.n){case 0:return $l(!0),Sl(!1),xl.p=1,xl.n=2,qs(Ws);case 2:xl.n=4;break;case 3:xl.p=3,xl.v,Sl(!0);case 4:return xl.p=4,$l(!1),xl.f(4);case 5:return xl.a(2)}},Al,null,[[1,3,4,5]])}));return function(){return Il.apply(this,arguments)}}();return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Xs?"w-full":"w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"mt-6 mb-5 flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:(zs=Ws.info.icon)!==null&&zs!==void 0?zs:"",className:"size-14 rounded-full"}),jsxRuntimeExports.jsx("div",{className:clsx("text-2xl font-bold text-center",_l&&"text-danger-light dark:text-danger-dark"),children:_l?"You can't disconnect this wallet!":"Disconnect ".concat(Ws.info.name)}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:_l?"Try disconnecting directly from the ".concat(Ws.info.name," app"):"You can always connect this wallet again later."})]}),jsxRuntimeExports.jsx("div",{className:"flex my-2 mt-0",children:jsxRuntimeExports.jsx(ActionButton,{onClick:Tl,loading:Js,className:clsx("w-full max-w-md bg-danger-light dark:bg-danger-dark text-primary-text-light dark:text-primary-text-dark",_l&&"animate-shake opacity-50"),spinnerClassName:"text-primary-danger-text-light dark:text-primary-danger-text-dark",children:"Disconnect Wallet"})})]})}function ConnectedIndicator(at){var zs=at.isPinging,Ws=zs===void 0?!1:zs;return jsxRuntimeExports.jsxs("div",{className:"flex absolute top-[-2px] right-0",children:[Ws&&jsxRuntimeExports.jsx("div",{className:"absolute animate-ping size-[6px] bg-success-light dark:bg-success-dark rounded-full border border-modal-background-light dark:border-modal-background-dark"}),jsxRuntimeExports.jsx("div",{className:"size-[6px] bg-success-light dark:bg-success-dark rounded-full border border-modal-background-light dark:border-modal-background-dark"})]})}function QRCodeDisplay(at){var zs=at.uri,Ws=at.icon,qs=at.isLoading;return jsxRuntimeExports.jsxs("div",{className:"relative inline-block",children:[jsxRuntimeExports.jsx(QRCodeSVG,{className:clsx("block border border-modal-background-dark/20 dark:border-modal-background-light/20","shadow-[0_0_42px] shadow-primary-light/50 dark:shadow-[0_0_42px] dark:shadow-primary-dark/50",qs&&"blur-sm"),value:zs,imageSettings:{src:Ws,width:24,height:24,excavate:!0},size:200}),qs&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Spinner,{className:"size-12",strokeWidth:2})})]})}function WalletConnectScreen(at){var zs,Ws,qs,Ys,Xs,Zs=at.provider,yl=at.onAction,Js=at.onDisconnect,$l=at.successPageDuration,El=useModal(),wl=El.pushPage,_l=El.popPages,Sl=El.closeModal,Tl=El.isMobile,Il=useTurnkey(),Al=Il.walletProviders,xl=reactExports.useState(!1),Pl=_slicedToArray$2(xl,2),Cl=Pl[0],Rl=Pl[1],Ol=reactExports.useState(!1),Ml=_slicedToArray$2(Ol,2),Ll=Ml[0],Bl=Ml[1],Wl=reactExports.useState(!1),Yl=_slicedToArray$2(Wl,2),Kl=Yl[0],Xl=Yl[1],Ul=reactExports.useState(((zs=Zs.connectedAddresses)===null||zs===void 0?void 0:zs.length)>0),Vl=_slicedToArray$2(Ul,2),Nl=Vl[0],Dl=Vl[1],Gl=reactExports.useState(!1),Fl=_slicedToArray$2(Gl,2),Hl=Fl[0],Zl=Fl[1],Su=reactExports.useRef(null),$u=Al.find(function(Mu){return Mu.interfaceType===Zs.interfaceType&&Mu.chainInfo.namespace===Zs.chainInfo.namespace});reactExports.useEffect(function(){$u||_l(2)},[$u,_l]);var Pu=(Ws=$u==null||(qs=$u.connectedAddresses)===null||qs===void 0?void 0:qs[0])!==null&&Ws!==void 0?Ws:null;reactExports.useEffect(function(){if($u&&(Su.current=$u,!Ll&&!$u.isLoading)){var Mu;Dl(((Mu=$u.connectedAddresses)===null||Mu===void 0?void 0:Mu.length)>0),ku($u)}},[$u]);var ku=useDebouncedCallback(function(){var Mu=_asyncToGenerator(_regenerator().m(function Hu(Ku){return _regenerator().w(function(Fu){for(;;)switch(Fu.p=Fu.n){case 0:return Bl(!0),Fu.p=1,Fu.n=2,yl(Ku);case 2:wl({key:"Connect Success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Successfully connected to WalletConnect!",onComplete:Sl,duration:$l}),preventBack:!0,showTitle:!1}),Fu.n=4;break;case 3:Fu.p=3,Fu.v;case 4:return Fu.p=4,Bl(!1),Fu.f(4);case 5:return Fu.a(2)}},Hu,null,[[1,3,4,5]])}));return function(Hu){return Mu.apply(this,arguments)}}(),100),Tu=function(){Zl(!0),navigator.clipboard.writeText("".concat($u==null?void 0:$u.uri)),setTimeout(function(){Zl(!1)},1500)},Ru=function(){var Mu=_asyncToGenerator(_regenerator().m(function Hu(){var Ku;return _regenerator().w(function(Fu){for(;;)switch(Fu.p=Fu.n){case 0:return Rl(!0),Xl(!1),Fu.p=1,Fu.n=2,Js==null?void 0:Js(Su.current);case 2:Fu.n=4;break;case 3:Fu.p=3,Ku=Fu.v,console.error("Error disconnecting wallet:",Ku),Xl(!0);case 4:return Fu.p=4,Rl(!1),Dl(!1),Fu.f(4);case 5:return Fu.a(2)}},Hu,null,[[1,3,4,5]])}));return function(){return Mu.apply(this,arguments)}}();return jsxRuntimeExports.jsx("div",{className:"p-3 flex flex-col items-center",children:Nl?jsxRuntimeExports.jsxs("div",{className:clsx("mt-8 flex flex-col items-center gap-3",Tl?"w-full":"w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"w-full justify-between flex items-center flex-1",children:[jsxRuntimeExports.jsx("div",{className:clsx("flex items-center justify-center bg-icon-background-light dark:bg-icon-background-dark rounded-full p-2 text-icon-text-light dark:text-icon-text-dark",Tl?"size-18":"size-24"),children:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faMobileScreen,size:Tl?"3x":"4x"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center justify-center space-x-2.5 font-medium text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx("img",{className:"size-5",src:$u==null?void 0:$u.info.icon,alt:"Wallet connect logo"}),jsxRuntimeExports.jsx("img",{className:"size-5 absolute animate-ping",src:$u==null?void 0:$u.info.icon,alt:"Wallet connect logo"})]}),jsxRuntimeExports.jsxs("span",{children:[Pu==null?void 0:Pu.slice(0,3),"...",Pu==null?void 0:Pu.slice(-3)]})]}),jsxRuntimeExports.jsx("div",{className:clsx("flex items-center justify-center bg-icon-background-light dark:bg-icon-background-dark rounded-full p-2 text-icon-text-light dark:text-icon-text-dark",Tl?"size-18":"size-24"),children:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faLaptop,size:Tl?"3x":"4x"})})]}),jsxRuntimeExports.jsx("div",{className:clsx("flex flex-row items-center mt-5 text-2xl font-bold text-center"),children:"Already connected"}),jsxRuntimeExports.jsxs("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center text-xs flex flex-col space-y-2 !p-0",children:[jsxRuntimeExports.jsx("span",{children:"Please open the wallet app on your phone to sign the message."}),Cl?jsxRuntimeExports.jsx("span",{className:"text-danger-light dark:text-danger-dark opacity-50",children:"Disconnecting..."}):Kl?jsxRuntimeExports.jsx("span",{className:"text-danger-light dark:text-danger-dark opacity-50",children:"Error disconnecting wallet."}):jsxRuntimeExports.jsxs("span",{children:["Need to connect a different wallet?"," ",jsxRuntimeExports.jsx("span",{className:"text-danger-light dark:text-danger-dark cursor-pointer underline",onClick:Ru,children:"Disconnect"})," ","this wallet first."]})]})]}):jsxRuntimeExports.jsxs("div",{className:clsx("mt-8 flex flex-col items-center gap-3",Tl?"w-full":"w-96"),children:[jsxRuntimeExports.jsx(QRCodeDisplay,{uri:$u!=null&&$u.isLoading?"https://www.turnkey.com/":(Ys=$u==null?void 0:$u.uri)!==null&&Ys!==void 0?Ys:"",icon:(Xs=$u==null?void 0:$u.info.icon)!==null&&Xs!==void 0?Xs:"",isLoading:!!($u!=null&&$u.isLoading)}),jsxRuntimeExports.jsxs(BaseButton,{onClick:Tu,className:clsx("text-xs font-semibold bg-transparent border-none text-icon-text-light dark:text-icon-text-dark","flex flex-row items-center gap-x-2 px-3 py-2 rounded-full transition-all","hover:bg-icon-background-light dark:hover:bg-icon-background-dark active:scale-95",($u==null?void 0:$u.isLoading)&&"invisible pointer-events-none"),children:[jsxRuntimeExports.jsx("span",{children:"Copy link"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:Hl?faCheck:faCopy,className:clsx("transition-colors",Hl?"text-success-light dark:text-success-dark":"text-icon-text-light dark:text-icon-text-dark")}),Hl&&jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faCheck,className:"absolute inset-0 m-auto text-success-light dark:text-success-dark animate-ping"})]})]}),jsxRuntimeExports.jsx("div",{className:clsx("text-2xl font-bold text-center"),children:$u!=null&&$u.isLoading?"Initializing WalletConnect...":"Use your phone"}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:$u!=null&&$u.isLoading?"Preparing your connection. This will only take a moment.":"Scan this QR code with your WalletConnect-compatible wallet to connect"})]})})}function DeveloperError(at){at.developerTitle,at.developerMessages;var zs=at.userTitle,Ws=at.userMessages,qs=!1;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center items-center mt-10 text-sm min-w-80 max-w-full min-48 font-normal text-center text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsx("strong",{className:"text-danger-light dark:text-danger-dark text-lg",children:zs}),Ws==null?void 0:Ws.map(function(Ys,Xs){return jsxRuntimeExports.jsx("div",{children:Ys},Xs)}),qs]})}function AuthComponent(at){var zs=at.sessionKey,Ws=at.logo,qs=at.logoClassName,Ys=at.title,Xs=useTurnkey(),Zs=Xs.config,yl=Xs.clientState,Js=Xs.handleGoogleOauth,$l=Xs.handleAppleOauth,El=Xs.handleFacebookOauth,wl=Xs.handleXOauth,_l=Xs.handleDiscordOauth,Sl=Xs.initOtp,Tl=Xs.loginWithPasskey,Il=Xs.signUpWithPasskey,Al=Xs.loginOrSignupWithWallet,xl=Xs.disconnectWalletAccount,Pl=useModal(),Cl=Pl.pushPage,Rl=Pl.isMobile,Ol=Pl.openSheet;if(!Zs||yl===ClientState.Loading)return jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center w-96 py-5",children:jsxRuntimeExports.jsx(Spinner,{strokeWidth:2,className:"w-48 h-48"})});var Ml=Zs.auth||{},Ll=Ml.methods,Bl=Ll===void 0?{}:Ll,Wl=Ml.methodOrder,Yl=Wl===void 0?[]:Wl,Kl=Ml.oauthOrder,Xl=Kl===void 0?[]:Kl,Ul=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(qu){var Zu,_d,vp,Ap;return _regenerator().w(function(Rp){for(;;)switch(Rp.p=Rp.n){case 0:return Rp.p=0,Rp.n=1,Sl({otpType:OtpType.Email,contact:qu});case 1:vp=Rp.v,Cl({key:"Verify OTP",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2({contact:qu,otpId:vp,otpType:OtpType.Email,otpLength:((Zu=Zs.auth)===null||Zu===void 0?void 0:Zu.otpLength)!==void 0?Number(Zs.auth.otpLength):void 0,alphanumeric:(_d=Zs.auth)===null||_d===void 0?void 0:_d.otpAlphanumeric},zs&&{sessionKey:zs})),showTitle:!1}),Rp.n=3;break;case 2:throw Rp.p=2,Ap=Rp.v,new Error("Error initializing OTP: ".concat(Ap));case 3:return Rp.a(2)}},ju,null,[[0,2]])}));return function(qu){return Fu.apply(this,arguments)}}(),Vl=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(qu,Zu){var _d,vp,Ap,Rp;return _regenerator().w(function(xp){for(;;)switch(xp.p=xp.n){case 0:return xp.p=0,xp.n=1,Sl({otpType:OtpType.Sms,contact:qu});case 1:Ap=xp.v,Cl({key:"Verify OTP",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2({contact:qu,formattedContact:Zu,otpId:Ap,otpType:OtpType.Sms,otpLength:((_d=Zs.auth)===null||_d===void 0?void 0:_d.otpLength)!==void 0?Number(Zs.auth.otpLength):void 0,alphanumeric:(vp=Zs.auth)===null||vp===void 0?void 0:vp.otpAlphanumeric},zs&&{sessionKey:zs})),showTitle:!1}),xp.n=3;break;case 2:throw xp.p=2,Rp=xp.v,new Error("Error initializing OTP: ".concat(Rp));case 3:return xp.a(2)}},ju,null,[[0,2]])}));return function(qu,Zu){return Fu.apply(this,arguments)}}(),Nl=function(){Cl({key:"Passkey Login",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with passkey...",action:function(){var ju=_asyncToGenerator(_regenerator().m(function Zu(){return _regenerator().w(function(_d){for(;;)switch(_d.n){case 0:return _d.n=1,Tl(_objectSpread2$2({},zs&&{sessionKey:zs}));case 1:return _d.a(2)}},Zu)}));function qu(){return ju.apply(this,arguments)}return qu}(),icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faFingerprint})}),showTitle:!1})},Dl=function(){Cl({key:"Passkey Sign Up",content:jsxRuntimeExports.jsx(ActionPage,{title:"Creating account with passkey...",action:function(){var ju=_asyncToGenerator(_regenerator().m(function Zu(){return _regenerator().w(function(_d){for(;;)switch(_d.n){case 0:return _d.n=1,Il(_objectSpread2$2({},zs&&{sessionKey:zs}));case 1:return _d.a(2)}},Zu)}));function qu(){return ju.apply(this,arguments)}return qu}(),icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faFingerprint})}),showTitle:!1})},Gl=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(){return _regenerator().w(function(qu){for(;;)switch(qu.n){case 0:Cl({key:"Google OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Google...",action:function(){return Js({additionalState:_objectSpread2$2({openModal:"true"},zs&&{sessionKey:zs})})},icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faGoogle})}),showTitle:!1});case 1:return qu.a(2)}},ju)}));return function(){return Fu.apply(this,arguments)}}(),Fl=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(){return _regenerator().w(function(qu){for(;;)switch(qu.n){case 0:Cl({key:"Apple OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Apple...",action:function(){return $l({additionalState:_objectSpread2$2({openModal:"true"},zs&&{sessionKey:zs})})},icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faApple})}),showTitle:!1});case 1:return qu.a(2)}},ju)}));return function(){return Fu.apply(this,arguments)}}(),Hl=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(){return _regenerator().w(function(qu){for(;;)switch(qu.n){case 0:Cl({key:"Facebook OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Facebook...",action:function(){return El({additionalState:_objectSpread2$2({openModal:"true"},zs&&{sessionKey:zs})})},icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faFacebook})}),showTitle:!1});case 1:return qu.a(2)}},ju)}));return function(){return Fu.apply(this,arguments)}}(),Zl=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(){return _regenerator().w(function(qu){for(;;)switch(qu.n){case 0:Cl({key:"X OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with X...",action:function(){return wl({additionalState:_objectSpread2$2({openModal:"true"},zs&&{sessionKey:zs})})},icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faXTwitter})}),showTitle:!1});case 1:return qu.a(2)}},ju)}));return function(){return Fu.apply(this,arguments)}}(),Su=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(){return _regenerator().w(function(qu){for(;;)switch(qu.n){case 0:Cl({key:"Discord OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Discord...",action:function(){return _l({additionalState:_objectSpread2$2({openModal:"true"},zs&&{sessionKey:zs})})},icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faDiscord})}),showTitle:!1});case 1:return qu.a(2)}},ju)}));return function(){return Fu.apply(this,arguments)}}(),$u=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(qu){return _regenerator().w(function(Zu){for(;;)switch(Zu.n){case 0:Cl({key:"Wallet Login/Signup",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with ".concat(qu.info.name,"..."),action:function(){var _d=_asyncToGenerator(_regenerator().m(function Ap(){return _regenerator().w(function(Rp){for(;;)switch(Rp.n){case 0:return Rp.n=1,Al(_objectSpread2$2({walletProvider:qu},zs&&{sessionKey:zs}));case 1:return Rp.a(2)}},Ap)}));function vp(){return _d.apply(this,arguments)}return vp}(),icon:jsxRuntimeExports.jsx("img",{className:"size-11 rounded-full",src:qu.info.icon||""})}),showTitle:!1});case 1:return Zu.a(2)}},ju)}));return function(qu){return Fu.apply(this,arguments)}}(),Pu=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(qu){return _regenerator().w(function(Zu){for(;;)switch(Zu.n){case 0:if(!isWalletConnect(qu)){Zu.n=1;break}return Cl({key:"Connect WalletConnect",content:jsxRuntimeExports.jsx(WalletConnectScreen,{provider:qu,onAction:function(){var _d=_asyncToGenerator(_regenerator().m(function Ap(Rp){return _regenerator().w(function(xp){for(;;)switch(xp.n){case 0:return xp.n=1,Al(_objectSpread2$2({walletProvider:Rp},zs&&{sessionKey:zs}));case 1:return xp.a(2)}},Ap)}));function vp(Ap){return _d.apply(this,arguments)}return vp}(),onDisconnect:function(){var _d=_asyncToGenerator(_regenerator().m(function Ap(Rp){return _regenerator().w(function(xp){for(;;)switch(xp.n){case 0:return xp.n=1,xl(Rp);case 1:return xp.a(2)}},Ap)}));function vp(Ap){return _d.apply(this,arguments)}return vp}(),successPageDuration:void 0})}),Zu.a(2);case 1:return Zu.n=2,$u(qu);case 2:return Zu.a(2)}},ju)}));return function(qu){return Fu.apply(this,arguments)}}(),ku=function(){var Fu=_asyncToGenerator(_regenerator().m(function ju(){var qu;return _regenerator().w(function(Zu){for(;;)switch(Zu.p=Zu.n){case 0:Zu.p=0,Cl({key:"Select wallet provider",content:jsxRuntimeExports.jsx(ExternalWalletSelector,{onSelect:Pu})}),Zu.n=2;break;case 1:throw Zu.p=1,qu=Zu.v,new Error("Error fetching wallet providers: ".concat(qu));case 2:return Zu.a(2)}},ju,null,[[0,1]])}));return function(){return Fu.apply(this,arguments)}}(),Tu={google:Bl.googleOauthEnabled?jsxRuntimeExports.jsx(OAuthButton,{name:"Google",icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faGoogle}),onClick:Gl},"google"):null,apple:Bl.appleOauthEnabled?jsxRuntimeExports.jsx(OAuthButton,{name:"Apple",icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faApple}),onClick:Fl},"apple"):null,facebook:Bl.facebookOauthEnabled?jsxRuntimeExports.jsx(OAuthButton,{name:"Facebook",icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faFacebook}),onClick:Hl},"facebook"):null,x:Bl.xOauthEnabled?jsxRuntimeExports.jsx(OAuthButton,{name:"X",icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faXTwitter}),onClick:Zl},"x"):null,discord:Bl.discordOauthEnabled?jsxRuntimeExports.jsx(OAuthButton,{name:"Discord",icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faDiscord}),onClick:Su},"discord"):null},Ru=Xl.map(function(Fu){return Tu[Fu]}).filter(Boolean),Mu=Ru.length>0&&Ru.length<=5?jsxRuntimeExports.jsx("div",{className:"w-full h-11 flex flex-row justify-center items-center gap-2",children:Ru},"socials"):Ru.length>0?jsxRuntimeExports.jsxs("div",{className:"w-full h-11 flex flex-row justify-center items-center gap-2",children:[Ru.slice(0,4),jsxRuntimeExports.jsx(OAuthButton,{name:"More",icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEllipsisH}),onClick:function(){return Ol({key:"Select a social method",content:jsxRuntimeExports.jsx("div",{className:"w-full h-full flex flex-wrap justify-center items-center gap-2",children:Ru.map(function(ju){return jsxRuntimeExports.jsx("div",{className:"w-16 h-11",children:ju},ju==null?void 0:ju.key)})})})}},"more")]},"socials"):null,Hu={socials:Mu,email:Bl.emailOtpAuthEnabled?jsxRuntimeExports.jsx(EmailInput,{onContinue:Ul}):null,sms:Bl.smsOtpAuthEnabled?jsxRuntimeExports.jsx(PhoneNumberInput,{onContinue:Vl}):null,passkey:Bl.passkeyAuthEnabled?jsxRuntimeExports.jsx(PasskeyButtons,{onLogin:Nl,onSignUp:Dl}):null,wallet:Bl.walletAuthEnabled?jsxRuntimeExports.jsx(WalletAuthButton,{onContinue:ku}):null},Ku=Yl.map(function(Fu){return Hu[Fu]}).filter(Boolean);return jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center ",Rl?"w-full":"w-96"),children:[Zs.authProxyConfigId?Ku.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ws?jsxRuntimeExports.jsxs("div",{className:"mt-3 mb-4 flex flex-col items-center",children:[jsxRuntimeExports.jsx("img",{src:Ws,className:"max-w-32 mt-3 w-fit max-h-16 h-fit object-contain ".concat(qs)}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium mb-4 text-center",children:Ys??"Log in or sign up"})]}):jsxRuntimeExports.jsx("div",{className:"mt-12"}),Ku.map(function(Fu,ju){return jsxRuntimeExports.jsxs("div",{className:"w-full",children:[ju>0&&jsxRuntimeExports.jsx(OrSeparator,{}),Fu]},ju)})]}):jsxRuntimeExports.jsx(DeveloperError,{developerTitle:"No Auth Methods Enabled",developerMessages:["You are using Turnkey's Auth Proxy, but no auth methods are enabled.","To use this modal, you must enable auth methods within the Turnkey dashboard.","If you disabled autoFetchWalletKitConfig in the TurnkeyProvider, please ensure that you are passing in the correct auth methods in the TurnkeyProvider's auth config."],userMessages:["No authentication methods are available."]}):jsxRuntimeExports.jsx(DeveloperError,{developerTitle:"Proxy not Enabled",developerMessages:["You have not passed in authProxyConfigId into the TurnkeyProvider.","To use this modal, you must be using Turnkey's Auth Proxy.","Please enable it in the Turnkey dashboard and pass in the authProxyConfigId into the TurnkeyProvider."],userMessages:["You touched fuzzy.... and got dizzy."]}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light/70 dark:text-icon-text-dark/70 text-xs mt-4 text-center",children:jsxRuntimeExports.jsxs("span",{children:["By continuing, you agree to our"," ",jsxRuntimeExports.jsx("a",{href:"https://www.turnkey.com/legal/terms",target:"_blank",rel:"noopener noreferrer",className:"font-bold no-underline text-icon-text-light/80 dark:text-icon-text-dark/80",children:"Terms of Service"})," ","&"," ",jsxRuntimeExports.jsx("a",{href:"https://www.turnkey.com/legal/privacy",target:"_blank",rel:"noopener noreferrer",className:"font-bold no-underline text-icon-text-light/80 dark:text-icon-text-dark/80",children:"Privacy Policy"}),"."]})})]})}function SignMessageModal(at){var zs,Ws=at.message,qs=at.walletAccount,Ys=at.subText,Xs=Ys===void 0?"Use your wallet to sign this message":Ys,Zs=at.stampWith,yl=at.successPageDuration,Js=at.organizationId,$l=at.onSuccess,El=at.onError,wl=useTurnkey(),_l=wl.signMessage,Sl=useModal(),Tl=Sl.pushPage,Il=Sl.closeModal,Al=Sl.isMobile,xl=reactExports.useState(!1),Pl=_slicedToArray$2(xl,2),Cl=Pl[0],Rl=Pl[1],Ol=reactExports.useRef(null);reactExports.useEffect(function(){var Bl=Ol.current;Bl&&(Bl.style.height="auto",Bl.style.height="".concat(Math.min(Bl.scrollHeight,288),"px"))},[Ws]);var Ml=function(){var Bl=_asyncToGenerator(_regenerator().m(function Wl(){var Yl,Kl,Xl;return _regenerator().w(function(Ul){for(;;)switch(Ul.p=Ul.n){case 0:return Ul.p=0,Rl(!0),Ul.n=1,_l(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({message:Ws,walletAccount:qs},(at==null?void 0:at.encoding)&&{encoding:at.encoding}),(at==null?void 0:at.hashFunction)&&{hashFunction:at.hashFunction}),(at==null?void 0:at.addEthereumPrefix)&&{addEthereumPrefix:at.addEthereumPrefix}),Zs&&{stampWith:Zs}),Js&&{organizationId:Js}));case 1:Yl=Ul.v,Ll(Yl),Ul.n=3;break;case 2:Ul.p=2,Xl=Ul.v,Xl instanceof TurnkeyError?El(Xl):(Kl=new TurnkeyError("Failed to sign message",TurnkeyErrorCodes.SIGN_MESSAGE_ERROR),El(Kl));case 3:return Ul.p=3,Rl(!1),Ul.f(3);case 4:return Ul.a(2)}},Wl,null,[[0,2,3,4]])}));return function(){return Bl.apply(this,arguments)}}(),Ll=function(Wl){if($l(Wl),!yl){Il();return}Tl({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Message signed successfully!",duration:yl,onComplete:function(){Il()}}),preventBack:!0,showTitle:!1})};return jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center",Al?"w-full py-4":"w-80 p-4"),children:[jsxRuntimeExports.jsx("p",{className:"mt-3 text-sm text-icon-text-light/70 dark:text-icon-text-dark/70",children:Xs}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-row items-center mt-1 gap-1.5 text-sm text-icon-text-light/70 dark:text-icon-text-dark/70",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-icon-background-light dark:bg-icon-background-dark text-icon-text-light dark:text-icon-text-dark",children:jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faWallet})}),((zs=qs.address)===null||zs===void 0?void 0:zs.length)>8?"".concat(qs.address.slice(0,4),"...").concat(qs.address.slice(-4)):qs.address,qs.source===WalletSource.Connected&&jsxRuntimeExports.jsx("div",{className:"rounded-full py-1 px-2 flex border border-primary-light/50 dark:border-primary-dark/50 text-primary-light dark:text-primary-dark text-xs font-medium",children:"External"})]}),jsxRuntimeExports.jsx("div",{className:"w-full flex flex-col mt-2 px-3 space-y-2",children:jsxRuntimeExports.jsx(M$4,{ref:Ol,className:"p-2 min-h-12 max-h-72 rounded-md tk-scrollbar border border-modal-background-dark/10 dark:border-modal-background-light/10 bg-icon-background-light dark:bg-icon-background-dark text-icon-text-light dark:text-icon-text-dark focus:outline-none resize-none overflow-y-auto",value:Ws,readOnly:!0})}),jsxRuntimeExports.jsx(ActionButton,{onClick:Ml,name:"sign-button",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",loading:Cl,loadingText:qs.source===WalletSource.Connected?"Check your external wallet!":"Signing...",className:"mt-4 bg-primary-light dark:bg-primary-dark text-primary-text-light dark:text-primary-text-dark w-full",children:"Sign"})]})}function ExportWarning(at){var zs=at.target,Ws=at.exportIframeClient,qs=at.targetPublicKey,Ys=at.exportType,Xs=at.keyFormat,Zs=at.stampWith,yl=at.onError,Js=reactExports.useState(!1),$l=_slicedToArray$2(Js,2),El=$l[0],wl=$l[1],_l=useTurnkey(),Sl=_l.exportWallet,Tl=_l.exportPrivateKey,Il=_l.exportWalletAccount,Al=_l.session,xl=_defineProperty$6(_defineProperty$6(_defineProperty$6({},ExportType.Wallet,["Keep your seed phrase private.","Anyone who has your seed phrase can access your wallet.","Make sure nobody can see your screen when viewing your seed phrase."]),ExportType.PrivateKey,["Keep your private key private.","Anyone who has your private key can access your wallet.","Make sure nobody can see your screen when viewing your private key."]),ExportType.WalletAccount,["Keep your account details private.","Anyone who has your account details can access your wallet.","Make sure nobody can see your screen when viewing your account details."]),Pl=at.organizationId||(Al==null?void 0:Al.organizationId);if(!Pl)throw new TurnkeyError("Organization ID is required for exporting.",TurnkeyErrorCodes.EXPORT_WALLET_ERROR);return jsxRuntimeExports.jsxs("div",{className:"flex flex-col w-full px-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 py-6 text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsx(IconText,{icon:faTriangleExclamation,text:xl[Ys][0]}),jsxRuntimeExports.jsx(IconText,{icon:faUnlock,text:xl[Ys][1]}),jsxRuntimeExports.jsx(IconText,{icon:faEye,text:xl[Ys][2]})]}),jsxRuntimeExports.jsx(ActionButton,{name:"confirm-export-warning-button",loading:El,spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",className:"text-primary-text-light dark:text-primary-text-dark bg-primary-light dark:bg-primary-dark",onClick:function(){var Cl=_asyncToGenerator(_regenerator().m(function Ol(){var Ml,Ll,Bl;return _regenerator().w(function(Wl){for(;;)switch(Wl.p=Wl.n){case 0:wl(!0),Wl.p=1,Ll=Ys,Wl.n=Ll===ExportType.Wallet?2:Ll===ExportType.PrivateKey?5:Ll===ExportType.WalletAccount?8:11;break;case 2:return Wl.n=3,Sl(_objectSpread2$2(_objectSpread2$2({walletId:zs,targetPublicKey:qs||(Ws==null?void 0:Ws.iframePublicKey)},Zs&&{stampWith:Zs}),{},{organizationId:Pl}));case 3:return Ml=Wl.v,Ml||yl(new TurnkeyError("Failed to retrieve export bundle",TurnkeyErrorCodes.EXPORT_WALLET_ERROR)),Wl.n=4,Ws==null?void 0:Ws.injectWalletExportBundle(Ml,Pl);case 4:return Wl.a(3,12);case 5:return Wl.n=6,Tl(_objectSpread2$2(_objectSpread2$2({privateKeyId:zs,targetPublicKey:qs||(Ws==null?void 0:Ws.iframePublicKey)},Zs&&{stampWith:Zs}),{},{organizationId:Pl}));case 6:return Ml=Wl.v,Ml||yl(new TurnkeyError("Failed to retrieve export bundle",TurnkeyErrorCodes.EXPORT_WALLET_ERROR)),Wl.n=7,Ws==null?void 0:Ws.injectKeyExportBundle(Ml,Al==null?void 0:Al.organizationId,Xs);case 7:return Wl.a(3,12);case 8:return Wl.n=9,Il(_objectSpread2$2(_objectSpread2$2({address:zs,targetPublicKey:qs||(Ws==null?void 0:Ws.iframePublicKey)},Zs&&{stampWith:Zs}),{},{organizationId:Pl}));case 9:return Ml=Wl.v,Ml||yl(new TurnkeyError("Failed to retrieve export bundle",TurnkeyErrorCodes.EXPORT_WALLET_ERROR)),Wl.n=10,Ws==null?void 0:Ws.injectKeyExportBundle(Ml,Al==null?void 0:Al.organizationId,Xs);case 10:return Wl.a(3,12);case 11:throw new TurnkeyError("Invalid export type",TurnkeyErrorCodes.EXPORT_WALLET_ERROR);case 12:at.setExportIframeVisible&&at.setExportIframeVisible(!0),Wl.n=14;break;case 13:Wl.p=13,Bl=Wl.v,yl(new TurnkeyError("Error exporting wallet",TurnkeyErrorCodes.EXPORT_WALLET_ERROR,Bl));case 14:return Wl.p=14,wl(!1),Wl.f(14);case 15:return Wl.a(2)}},Ol,null,[[1,13,14,15]])}));function Rl(){return Cl.apply(this,arguments)}return Rl}(),children:Ys===ExportType.PrivateKey?"Export Private Key":"Export Wallet"})]})}function IconText(at){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-fit shrink-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"lg",icon:at.icon})}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:at.text})]})}var TurnkeyExportIframeContainerId="turnkey-export-iframe-container-id",TurnkeyIframeElementId$1="turnkey-default-iframe-element-id",TurnkeyIframeClassNames$1="w-full border-none !text-base bg-icon-background-light dark:bg-icon-background-dark",iconBackgroundLight$1="#e5e7eb",iconBackgroundDark$1="#333336",iconTextLight$1="#828282",iconTextDark$1="#a3a3a5";function ExportComponent(at){var zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il=at.exportType,Al=at.targetPublicKey,xl=at.keyFormat,Pl=at.stampWith,Cl=at.target,Rl=at.organizationId,Ol=at.onSuccess,Ml=at.onError,Ll=useTurnkey(),Bl=Ll.config;if(!Bl)throw new TurnkeyError("Turnkey SDK is not properly configured. Please check your configuration.",TurnkeyErrorCodes.CONFIG_NOT_INITIALIZED);var Wl=reactExports.useState(!1),Yl=_slicedToArray$2(Wl,2),Kl=Yl[0],Xl=Yl[1],Ul=useModal(),Vl=Ul.closeModal,Nl=Ul.isMobile,Dl=Bl==null?void 0:Bl.exportIframeUrl;if(!Dl)throw new TurnkeyError("Export iframe URL is not configured. Please set it in the Turnkey configuration.",TurnkeyErrorCodes.NOT_FOUND);var Gl=reactExports.useState(null),Fl=_slicedToArray$2(Gl,2),Hl=Fl[0],Zl=Fl[1];reactExports.useEffect(function(){var $u=function(){var Tu=_asyncToGenerator(_regenerator().m(function Ru(){var Mu,Hu,Ku,Fu,ju,qu,Zu,_d,vp,Ap,Rp,xp,Gp,Cp,em,dm;return _regenerator().w(function(Dp){for(;;)switch(Dp.p=Dp.n){case 0:return Dp.p=0,em=new IframeStamper({iframeUrl:Dl,iframeElementId:TurnkeyIframeElementId$1,iframeContainer:document.getElementById(TurnkeyExportIframeContainerId)}),Dp.n=1,em.init();case 1:return Dp.n=2,em.applySettings({styles:{fontSize:"16px",backgroundColor:Bl!=null&&(Mu=Bl.ui)!==null&&Mu!==void 0&&Mu.darkMode?(Bl==null||(Hu=Bl.ui)===null||Hu===void 0||(Ku=Hu.colors)===null||Ku===void 0||(Fu=Ku.dark)===null||Fu===void 0?void 0:Fu.iconBackground)||iconBackgroundDark$1:(Bl==null||(ju=Bl.ui)===null||ju===void 0||(qu=ju.colors)===null||qu===void 0||(Zu=qu.light)===null||Zu===void 0?void 0:Zu.iconBackground)||iconBackgroundLight$1,color:Bl!=null&&(_d=Bl.ui)!==null&&_d!==void 0&&_d.darkMode?(Bl==null||(vp=Bl.ui)===null||vp===void 0||(Ap=vp.colors)===null||Ap===void 0||(Rp=Ap.dark)===null||Rp===void 0?void 0:Rp.iconText)||iconTextDark$1:(Bl==null||(xp=Bl.ui)===null||xp===void 0||(Gp=xp.colors)===null||Gp===void 0||(Cp=Gp.light)===null||Cp===void 0?void 0:Cp.iconText)||iconTextLight$1}});case 2:Zl(em),Dp.n=4;break;case 3:Dp.p=3,dm=Dp.v,Ml(new TurnkeyError("Error initializing IframeStamper",TurnkeyErrorCodes.INITIALIZE_IFRAME_ERROR,dm));case 4:return Dp.a(2)}},Ru,null,[[0,3]])}));return function(){return Tu.apply(this,arguments)}}(),Pu=document.getElementById(TurnkeyIframeElementId$1);Pu||$u();var ku=document.getElementById(TurnkeyIframeElementId$1);return ku&&(ku.className=TurnkeyIframeClassNames$1),function(){Su()}},[]),reactExports.useEffect(function(){var $u=function(){var Pu=_asyncToGenerator(_regenerator().m(function ku(){var Tu,Ru,Mu,Hu,Ku,Fu,ju,qu,Zu,_d,vp,Ap,Rp,xp;return _regenerator().w(function(Gp){for(;;)switch(Gp.n){case 0:return Gp.n=1,Hl==null?void 0:Hl.applySettings({styles:{fontSize:"16px",backgroundColor:Bl!=null&&(Tu=Bl.ui)!==null&&Tu!==void 0&&Tu.darkMode?(Bl==null||(Ru=Bl.ui)===null||Ru===void 0||(Mu=Ru.colors)===null||Mu===void 0||(Hu=Mu.dark)===null||Hu===void 0?void 0:Hu.iconBackground)||iconBackgroundDark$1:(Bl==null||(Ku=Bl.ui)===null||Ku===void 0||(Fu=Ku.colors)===null||Fu===void 0||(ju=Fu.light)===null||ju===void 0?void 0:ju.iconBackground)||iconBackgroundLight$1,color:Bl!=null&&(qu=Bl.ui)!==null&&qu!==void 0&&qu.darkMode?(Bl==null||(Zu=Bl.ui)===null||Zu===void 0||(_d=Zu.colors)===null||_d===void 0||(vp=_d.dark)===null||vp===void 0?void 0:vp.iconText)||iconTextDark$1:(Bl==null||(Ap=Bl.ui)===null||Ap===void 0||(Rp=Ap.colors)===null||Rp===void 0||(xp=Rp.light)===null||xp===void 0?void 0:xp.iconText)||iconTextLight$1}});case 1:return Gp.a(2)}},ku)}));return function(){return Pu.apply(this,arguments)}}();$u()},[Bl.ui]);function Su(){if(Hl){Zl(null);var $u=document.getElementById(TurnkeyIframeElementId$1);$u&&$u.remove()}}return jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center pt-8",Nl?"w-full":"w-72"),children:[!Kl&&jsxRuntimeExports.jsx(ExportWarning,{target:Cl,exportIframeClient:Hl,targetPublicKey:Al,exportType:Il,keyFormat:xl,stampWith:Pl,setExportIframeVisible:Xl,organizationId:Rl,onError:Ml}),jsxRuntimeExports.jsxs("div",{className:"transition-all delay-75 -pt-4 ".concat(Kl?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none w-0 h-0"),children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-icon-text-light dark:text-icon-text-dark",children:Il===ExportType.Wallet?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Your seed phrase is the key to your wallet. Save it in a secure location."}):Il===ExportType.WalletAccount?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Your private key is the key to your wallet account. Save it in a secure location."}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Your private key is the key to your account. Save it in a secure location."})}),jsxRuntimeExports.jsx("div",{id:TurnkeyExportIframeContainerId,style:{backgroundColor:Bl!=null&&(zs=Bl.ui)!==null&&zs!==void 0&&zs.darkMode?(Bl==null||(Ws=Bl.ui)===null||Ws===void 0||(qs=Ws.colors)===null||qs===void 0||(Ys=qs.dark)===null||Ys===void 0?void 0:Ys.iconBackground)||iconBackgroundDark$1:(Bl==null||(Xs=Bl.ui)===null||Xs===void 0||(Zs=Xs.colors)===null||Zs===void 0||(yl=Zs.light)===null||yl===void 0?void 0:yl.iconBackground)||iconBackgroundLight$1,boxSizing:"border-box",borderStyle:"solid",borderWidth:"1px",borderRadius:"8px",width:"100%",height:"100%",borderColor:Bl!=null&&(Js=Bl.ui)!==null&&Js!==void 0&&Js.darkMode?(Bl==null||($l=Bl.ui)===null||$l===void 0||(El=$l.colors)===null||El===void 0||(wl=El.dark)===null||wl===void 0?void 0:wl.iconText)||iconTextDark$1:(Bl==null||(_l=Bl.ui)===null||_l===void 0||(Sl=_l.colors)===null||Sl===void 0||(Tl=Sl.light)===null||Tl===void 0?void 0:Tl.iconText)||iconTextLight$1},className:"p-2"}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(ActionButton,{name:"export-done",onClick:function(){Vl(),Ol()},spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",className:"text-primary-text-light dark:text-primary-text-dark bg-primary-light dark:bg-primary-dark",children:"Done"})})]})]})}var TurnkeyImportIframeContainerId="turnkey-import-iframe-container-id",TurnkeyIframeElementId="turnkey-default-iframe-element-id",TurnkeyIframeClassNames="w-full h-full overflow-hidden border-none !text-base bg-icon-background-light dark:bg-icon-background-dark",iconBackgroundLight="#e5e7eb",iconBackgroundDark="#333336",iconTextLight="#828282",iconTextDark="#a3a3a5";function ImportComponent(at){var zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al=at.importType,xl=at.curve,Pl=xl===void 0?"CURVE_SECP256K1":xl,Cl=at.addressFormats,Rl=Cl===void 0?["ADDRESS_FORMAT_ETHEREUM"]:Cl,Ol=at.onSuccess,Ml=at.onError,Ll=at.defaultWalletAccounts,Bl=at.successPageDuration,Wl=at.clearClipboardOnPaste,Yl=at.stampWith,Kl=at.name,Xl=useTurnkey(),Ul=Xl.config,Vl=Xl.session,Nl=Xl.importWallet,Dl=Xl.importPrivateKey,Gl=Xl.httpClient;if(!Ul)throw new TurnkeyError("Turnkey SDK is not properly configured. Please check your configuration.",TurnkeyErrorCodes.CONFIG_NOT_INITIALIZED);var Fl=at.organizationId||(Vl==null?void 0:Vl.organizationId);if(!Fl)throw new TurnkeyError("Organization ID or a valid session is required for importing. Please pass in an organizationId or log in.",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);var Hl=at.userId||(Vl==null?void 0:Vl.userId);if(!Hl)throw new TurnkeyError("User ID or a valid session is required for importing. Please pass in a userId or log in.",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);var Zl=reactExports.useState(Kl||""),Su=_slicedToArray$2(Zl,2),$u=Su[0],Pu=Su[1],ku=reactExports.useState(!1),Tu=_slicedToArray$2(ku,2),Ru=Tu[0],Mu=Tu[1],Hu=reactExports.useState(null),Ku=_slicedToArray$2(Hu,2),Fu=Ku[0],ju=Ku[1],qu=reactExports.useState(!1),Zu=_slicedToArray$2(qu,2),_d=Zu[0],vp=Zu[1],Ap=function(){vp(!0),setTimeout(function(){return vp(!1)},250)},Rp=Ul==null?void 0:Ul.importIframeUrl,xp=useModal(),Gp=xp.closeModal,Cp=xp.pushPage,em=xp.isMobile,dm=reactExports.useState(null),Dp=_slicedToArray$2(dm,2),Qu=Dp[0],yp=Dp[1],tm=Al===ImportType.Wallet?"Enter your seed phrase. Seed phrases are typically 12-24 words.":Al===ImportType.PrivateKey?"Enter your private key.":"",Am=Al===ImportType.Wallet?"Enter your wallet name":Al===ImportType.PrivateKey?"Enter your private key name":"";reactExports.useEffect(function(){var zu=function(){var rp=_asyncToGenerator(_regenerator().m(function $p(){var Bp,Kp,Ip,fp,hp,gp,pp,dp,Hp,Xp,um,fm,gm,Fm,iy,uy;return _regenerator().w(function(xm){for(;;)switch(xm.p=xm.n){case 0:return xm.p=0,iy=new IframeStamper({iframeUrl:Rp,iframeElementId:TurnkeyIframeElementId,iframeContainer:document.getElementById(TurnkeyImportIframeContainerId),clearClipboardOnPaste:Wl}),xm.n=1,iy.init();case 1:return xm.n=2,iy.applySettings({styles:{fontSize:"16px",backgroundColor:Ul!=null&&(Bp=Ul.ui)!==null&&Bp!==void 0&&Bp.darkMode?(Ul==null||(Kp=Ul.ui)===null||Kp===void 0||(Ip=Kp.colors)===null||Ip===void 0||(fp=Ip.dark)===null||fp===void 0?void 0:fp.iconBackground)||iconBackgroundDark:(Ul==null||(hp=Ul.ui)===null||hp===void 0||(gp=hp.colors)===null||gp===void 0||(pp=gp.light)===null||pp===void 0?void 0:pp.iconBackground)||iconBackgroundLight,color:Ul!=null&&(dp=Ul.ui)!==null&&dp!==void 0&&dp.darkMode?(Ul==null||(Hp=Ul.ui)===null||Hp===void 0||(Xp=Hp.colors)===null||Xp===void 0||(um=Xp.dark)===null||um===void 0?void 0:um.iconText)||iconTextDark:(Ul==null||(fm=Ul.ui)===null||fm===void 0||(gm=fm.colors)===null||gm===void 0||(Fm=gm.light)===null||Fm===void 0?void 0:Fm.iconText)||iconTextLight}});case 2:yp(iy),xm.n=4;break;case 3:throw xm.p=3,uy=xm.v,new TurnkeyError("Error initializing IframeStamper",TurnkeyErrorCodes.INTERNAL_ERROR,uy);case 4:return xm.a(2)}},$p,null,[[0,3]])}));return function(){return rp.apply(this,arguments)}}(),Vu=document.getElementById(TurnkeyIframeElementId);Vu||zu();var Ju=document.getElementById(TurnkeyIframeElementId);return Ju&&(Ju.className=TurnkeyIframeClassNames),function(){ym()}},[]),reactExports.useEffect(function(){var zu=function(){var Vu=_asyncToGenerator(_regenerator().m(function Ju(){var rp,$p,Bp,Kp,Ip,fp,hp,gp,pp,dp,Hp,Xp,um,fm;return _regenerator().w(function(gm){for(;;)switch(gm.n){case 0:return gm.n=1,Qu==null?void 0:Qu.applySettings({styles:{fontSize:"16px",backgroundColor:Ul!=null&&(rp=Ul.ui)!==null&&rp!==void 0&&rp.darkMode?(Ul==null||($p=Ul.ui)===null||$p===void 0||(Bp=$p.colors)===null||Bp===void 0||(Kp=Bp.dark)===null||Kp===void 0?void 0:Kp.iconBackground)||iconBackgroundDark:(Ul==null||(Ip=Ul.ui)===null||Ip===void 0||(fp=Ip.colors)===null||fp===void 0||(hp=fp.light)===null||hp===void 0?void 0:hp.iconBackground)||iconBackgroundLight,color:Ul!=null&&(gp=Ul.ui)!==null&&gp!==void 0&&gp.darkMode?(Ul==null||(pp=Ul.ui)===null||pp===void 0||(dp=pp.colors)===null||dp===void 0||(Hp=dp.dark)===null||Hp===void 0?void 0:Hp.iconText)||iconTextDark:(Ul==null||(Xp=Ul.ui)===null||Xp===void 0||(um=Xp.colors)===null||um===void 0||(fm=um.light)===null||fm===void 0?void 0:fm.iconText)||iconTextLight}});case 1:return gm.a(2)}},Ju)}));return function(){return Vu.apply(this,arguments)}}();zu()},[Ul.ui]);function ym(){if(Qu){yp(null);var zu=document.getElementById(TurnkeyIframeElementId);zu&&zu.remove()}}function vm(){return am.apply(this,arguments)}function am(){return am=_asyncToGenerator(_regenerator().m(function zu(){var Vu,Ju,rp,$p,Bp,Kp,Ip,fp,hp,gp,pp;return _regenerator().w(function(dp){for(;;)switch(dp.p=dp.n){case 0:if(Mu(!0),dp.p=1,Qu){dp.n=2;break}throw new TurnkeyError("Import iframe client not initialized",TurnkeyErrorCodes.INTERNAL_ERROR);case 2:gp=Al,dp.n=gp===ImportType.Wallet?3:gp===ImportType.PrivateKey?11:19;break;case 3:return dp.n=4,Gl==null?void 0:Gl.initImportWallet({organizationId:Fl,userId:Hl},Yl);case 4:if(rp=dp.v,!(!rp||!rp.importBundle)){dp.n=5;break}throw new TurnkeyError("Failed to retrieve import bundle",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 5:return dp.n=6,Qu.injectImportBundle(rp.importBundle,Fl,Hl);case 6:if($p=dp.v,$p){dp.n=7;break}throw new TurnkeyError("Failed to inject import bundle",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 7:return dp.n=8,Qu.extractWalletEncryptedBundle();case 8:if(Bp=dp.v,!(!Bp||Bp.trim()==="")){dp.n=9;break}throw new TurnkeyError("Encrypted bundle is empty",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 9:return Kp=[],Array.isArray(Ll)&&Ll.length>0&&((Vu=Ll[0])===null||Vu===void 0?void 0:Vu.addressFormat)===void 0?Kp=generateWalletAccountsFromAddressFormat({addresses:Ll}):Array.isArray(Ll)&&(Kp=Ll),dp.n=10,Nl({walletName:$u,accounts:Kp,encryptedBundle:Bp,stampWith:Yl,organizationId:Fl,userId:Hl});case 10:return Ju=dp.v,dp.a(3,20);case 11:return dp.n=12,Gl==null?void 0:Gl.initImportPrivateKey({organizationId:Fl,userId:Hl},Yl);case 12:if(Ip=dp.v,!(!Ip||!Ip.importBundle)){dp.n=13;break}throw new TurnkeyError("Failed to retrieve import bundle",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 13:return dp.n=14,Qu.injectImportBundle(Ip.importBundle,Fl,Hl);case 14:if(fp=dp.v,fp){dp.n=15;break}throw new TurnkeyError("Failed to inject import bundle",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 15:return dp.n=16,Qu.extractKeyEncryptedBundle(Pl==="CURVE_ED25519"?KeyFormat.Solana:KeyFormat.Hexadecimal);case 16:if(hp=dp.v,!(!hp||hp.trim()==="")){dp.n=17;break}throw new TurnkeyError("Encrypted bundle is empty",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 17:return dp.n=18,Dl({addressFormats:Rl,curve:Pl,privateKeyName:$u,encryptedBundle:hp,stampWith:Yl,organizationId:Fl,userId:Hl});case 18:return Ju=dp.v,dp.a(3,20);case 19:throw new TurnkeyError("Invalid import type",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 20:if(!Ju){dp.n=21;break}Ol(Ju),Bl&&Bl!==0?Cp({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:Al===ImportType.Wallet?"Wallet imported successfully!":Al===ImportType.PrivateKey?"Private key imported successfully!":"Success!",duration:Bl,onComplete:function(){ym(),Gp()}}),preventBack:!0,showTitle:!1}):(ym(),Gp()),ym(),dp.n=23;break;case 21:return dp.n=22,Qu.clear();case 22:throw new TurnkeyError("Failed to import wallet",TurnkeyErrorCodes.IMPORT_WALLET_ERROR);case 23:dp.n=25;break;case 24:throw dp.p=24,pp=dp.v,Ap(),ju(pp instanceof TurnkeyError?pp:new TurnkeyError("Error importing wallet",TurnkeyErrorCodes.IMPORT_WALLET_ERROR,pp)),pp instanceof TurnkeyError&&Ml(pp),new TurnkeyError("Error importing wallet",TurnkeyErrorCodes.IMPORT_WALLET_ERROR,pp);case 25:return dp.p=25,Mu(!1),dp.f(25);case 26:return dp.a(2)}},zu,null,[[1,24,25,26]])})),am.apply(this,arguments)}return jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center pt-4",em?"w-full":"w-[21rem]"),children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-icon-text-light dark:text-icon-text-dark",children:tm}),jsxRuntimeExports.jsx("div",{id:TurnkeyImportIframeContainerId,style:{height:"100%",overflow:"hidden",display:"block",backgroundColor:Ul!=null&&(zs=Ul.ui)!==null&&zs!==void 0&&zs.darkMode?(Ul==null||(Ws=Ul.ui)===null||Ws===void 0||(qs=Ws.colors)===null||qs===void 0||(Ys=qs.dark)===null||Ys===void 0?void 0:Ys.iconBackground)||iconBackgroundDark:(Ul==null||(Xs=Ul.ui)===null||Xs===void 0||(Zs=Xs.colors)===null||Zs===void 0||(yl=Zs.light)===null||yl===void 0?void 0:yl.iconBackground)||iconBackgroundLight,width:"100%",boxSizing:"border-box",padding:"5px",borderStyle:"solid",borderWidth:"1px",borderRadius:"8px",borderColor:Ul!=null&&(Js=Ul.ui)!==null&&Js!==void 0&&Js.darkMode?(Ul==null||($l=Ul.ui)===null||$l===void 0||(El=$l.colors)===null||El===void 0||(wl=El.dark)===null||wl===void 0?void 0:wl.iconText)||iconTextDark:(Ul==null||(_l=Ul.ui)===null||_l===void 0||(Sl=_l.colors)===null||Sl===void 0||(Tl=Sl.light)===null||Tl===void 0?void 0:Tl.iconText)||iconTextLight},className:"transition-all ".concat(_d?"animate-shake":"")}),!Kl&&jsxRuntimeExports.jsx(X$4,{type:"text","data-testid":"import-wallet-name-input",placeholder:Am,value:$u,onChange:function(Vu){return Pu(Vu.target.value)},className:"placeholder:text-icon-text-light dark:placeholder:text-icon-text-dark w-full mt-2 py-3 px-3 rounded-md text-inherit bg-icon-background-light dark:bg-icon-background-dark border border-modal-background-dark/20 dark:border-modal-background-light/20 focus:outline-primary-light focus:dark:outline-primary-dark focus:outline-[1px] focus:outline-offset-0 box-border"}),jsxRuntimeExports.jsx(ActionButton,{name:"import-button",loading:Ru,spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",onClick:vm,className:"bg-primary-light mt-2 dark:bg-primary-dark text-primary-text-light dark:text-primary-text-dark",children:"Import"}),jsxRuntimeExports.jsxs("p",{"data-testid":"import-error-message",className:clsx("text-sm text-red-500 transition-opacity delay-75 line-clamp-2 w-full",Fu?"opacity-100 pointer-events-auto mt-2":"opacity-0 pointer-events-none absolute"),children:[Fu==null?void 0:Fu.message,":"," ",(Fu==null?void 0:Fu.cause)instanceof TurnkeyError?Fu==null?void 0:Fu.cause.message:(Fu==null||(Il=Fu.cause)===null||Il===void 0?void 0:Il.toString())||"Unknown error"]})]})}function UpdateEmail(at){var zs=at.onSuccess,Ws=at.onError,qs=at.successPageDuration,Ys=at.organizationId,Xs=at.stampWith,Zs=at.userId,yl=useTurnkey(),Js=yl.config,$l=yl.user,El=yl.updateUserEmail,wl=yl.initOtp,_l=yl.verifyOtp,Sl=useModal(),Tl=Sl.isMobile,Il=Sl.pushPage,Al=Sl.closeModal,xl=($l==null?void 0:$l.userEmail)||"",Pl=reactExports.useState(xl),Cl=_slicedToArray$2(Pl,2),Rl=Cl[0],Ol=Cl[1],Ml=reactExports.useState(!1),Ll=_slicedToArray$2(Ml,2),Bl=Ll[0],Wl=Ll[1],Yl=function(Nl){return Nl.length>0&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Nl)&&Nl!==xl},Kl=function(){var Vl=_asyncToGenerator(_regenerator().m(function Nl(){var Dl,Gl,Fl,Hl;return _regenerator().w(function(Zl){for(;;)switch(Zl.p=Zl.n){case 0:if(!Yl(Rl)){Zl.n=5;break}return Zl.p=1,Wl(!0),Zl.n=2,wl({otpType:OtpType.Email,contact:Rl});case 2:Fl=Zl.v,Il({key:"Verify OTP",content:jsxRuntimeExports.jsx(OtpVerification,{contact:Rl,otpId:Fl,otpType:OtpType.Email,otpLength:(Js==null||(Dl=Js.auth)===null||Dl===void 0?void 0:Dl.otpLength)!==void 0?Number(Js.auth.otpLength):void 0,alphanumeric:Js==null||(Gl=Js.auth)===null||Gl===void 0?void 0:Gl.otpAlphanumeric,onContinue:function(){var Su=_asyncToGenerator(_regenerator().m(function Pu(ku){var Tu,Ru,Mu;return _regenerator().w(function(Hu){for(;;)switch(Hu.n){case 0:return Hu.n=1,_l({otpId:Fl,otpCode:ku,contact:Rl,otpType:OtpType.Email});case 1:return Tu=Hu.v,Ru=Tu.verificationToken,Hu.n=2,El(_objectSpread2$2({email:Rl,verificationToken:Ru,userId:Zs,organizationId:Ys},Xs&&{stampWith:Xs}));case 2:Mu=Hu.v,Xl(Mu);case 3:return Hu.a(2)}},Pu)}));function $u(Pu){return Su.apply(this,arguments)}return $u}()}),showTitle:!1}),Zl.n=4;break;case 3:Zl.p=3,Hl=Zl.v,Ws(Hl);case 4:return Zl.p=4,Wl(!1),Zl.f(4);case 5:return Zl.a(2)}},Nl,null,[[1,3,4,5]])}));return function(){return Vl.apply(this,arguments)}}(),Xl=function(Nl){if(zs(Nl),!qs){Al();return}Il({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Email updated successfully!",duration:qs,onComplete:function(){Al()}}),preventBack:!0,showTitle:!1})},Ul=function(Nl){Nl.key==="Enter"&&Kl()};return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Tl?"w-full":"w-72"),children:[jsxRuntimeExports.jsxs("div",{className:"my-6 flex flex-col items-center",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faEnvelope,size:"2xl"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold py-2 text-center",children:at!=null&&at.title?at.title:"Update your email"}),(at==null?void 0:at.subTitle)&&jsxRuntimeExports.jsx("div",{className:"text-sm text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at.subTitle})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 my-3",children:[jsxRuntimeExports.jsx(X$4,{type:"email",placeholder:xl||"your@email.com",className:"w-full py-3 px-4 rounded-md text-inherit bg-button-light dark:bg-button-dark border border-modal-background-dark/20 dark:border-modal-background-light/20 focus:outline-primary-light focus:dark:outline-primary-dark focus:outline-[1px] focus:outline-offset-0 box-border",value:Rl,onChange:function(Nl){return Ol(Nl.target.value)},onKeyDown:Ul}),jsxRuntimeExports.jsx(ActionButton,{onClick:Kl,disabled:!Yl(Rl),loading:Bl,className:"w-full md:max-w-md bg-primary-light dark:bg-primary-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Continue"})]})]})}function UpdatePhoneNumber(at){var zs=useTurnkey(),Ws=zs.config,qs=zs.user,Ys=zs.initOtp,Xs=zs.verifyOtp,Zs=zs.updateUserPhoneNumber,yl=useModal(),Js=yl.isMobile,$l=yl.pushPage,El=yl.closeModal,wl=(qs==null?void 0:qs.userPhoneNumber)||"",_l=reactExports.useState(wl),Sl=_slicedToArray$2(_l,2),Tl=Sl[0],Il=Sl[1],Al=reactExports.useState(!1),xl=_slicedToArray$2(Al,2),Pl=xl[0],Cl=xl[1],Rl=reactExports.useState(!1),Ol=_slicedToArray$2(Rl,2),Ml=Ol[0],Ll=Ol[1],Bl=reactExports.useState(""),Wl=_slicedToArray$2(Bl,2),Yl=Wl[0],Kl=Wl[1],Xl=at.onSuccess,Ul=at.onError,Vl=at.successPageDuration,Nl=at.organizationId,Dl=at.stampWith,Gl=at.userId,Fl=function(){var Zl=_asyncToGenerator(_regenerator().m(function Su(){var $u,Pu,ku,Tu;return _regenerator().w(function(Ru){for(;;)switch(Ru.p=Ru.n){case 0:if(!Ml){Ru.n=5;break}return Ru.p=1,Ru.n=2,Ys({otpType:OtpType.Sms,contact:Tl});case 2:ku=Ru.v,$l({key:"Verify OTP",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2(_objectSpread2$2({contact:Tl},Yl&&{formattedPhone:Yl}),{},{otpId:ku,otpType:OtpType.Sms,otpLength:(Ws==null||($u=Ws.auth)===null||$u===void 0?void 0:$u.otpLength)!==void 0?Number(Ws.auth.otpLength):void 0,alphanumeric:Ws==null||(Pu=Ws.auth)===null||Pu===void 0?void 0:Pu.otpAlphanumeric,onContinue:function(){var Mu=_asyncToGenerator(_regenerator().m(function Ku(Fu){var ju,qu,Zu;return _regenerator().w(function(_d){for(;;)switch(_d.n){case 0:return _d.n=1,Xs({otpId:ku,otpCode:Fu,contact:Tl,otpType:OtpType.Sms});case 1:return ju=_d.v,qu=ju.verificationToken,_d.n=2,Zs(_objectSpread2$2({phoneNumber:Tl,verificationToken:qu,userId:Gl,organizationId:Nl},at.stampWith&&{stampWith:Dl}));case 2:Zu=_d.v,Hl(Zu);case 3:return _d.a(2)}},Ku)}));function Hu(Ku){return Mu.apply(this,arguments)}return Hu}()})),showTitle:!1}),Ru.n=4;break;case 3:Ru.p=3,Tu=Ru.v,Ul(Tu);case 4:return Ru.p=4,Cl(!1),Ru.f(4);case 5:return Ru.a(2)}},Su,null,[[1,3,4,5]])}));return function(){return Zl.apply(this,arguments)}}(),Hl=function(Su){if(Xl(Su),!Vl){El();return}$l({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Phone number updated successfully!",duration:Vl,onComplete:function(){El()}}),preventBack:!0,showTitle:!1})};return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Js?"w-full":"w-72"),children:[jsxRuntimeExports.jsxs("div",{className:"my-6 flex flex-col items-center",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faPhone,size:"2xl"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold py-2 text-center",children:at!=null&&at.title?at.title:"Update your phone number"}),(at==null?void 0:at.subTitle)&&jsxRuntimeExports.jsx("div",{className:"text-sm text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at.subTitle})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 my-3",children:[jsxRuntimeExports.jsx(PhoneInputBox,{value:wl,onChange:function(Su,$u,Pu){Il(Su),Kl($u),Ll(Pu)},onEnter:Fl}),jsxRuntimeExports.jsx(ActionButton,{onClick:Fl,disabled:!Ml,loading:Pl,className:"w-full md:max-w-md bg-primary-light dark:bg-primary-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Continue"})]})]})}function UpdateUserName(at){var zs=useTurnkey(),Ws=zs.user,qs=zs.updateUserName,Ys=useModal(),Xs=Ys.isMobile,Zs=Ys.pushPage,yl=Ys.closeModal,Js=(Ws==null?void 0:Ws.userName)||"",$l=reactExports.useState(Js),El=_slicedToArray$2($l,2),wl=El[0],_l=El[1],Sl=reactExports.useState(!1),Tl=_slicedToArray$2(Sl,2),Il=Tl[0],Al=Tl[1],xl=at.onSuccess,Pl=at.onError,Cl=at.successPageDuration,Rl=function(Wl){return Wl.length>0&&Wl!==Js},Ol=function(){var Bl=_asyncToGenerator(_regenerator().m(function Wl(){var Yl,Kl;return _regenerator().w(function(Xl){for(;;)switch(Xl.p=Xl.n){case 0:if(!Rl(wl)){Xl.n=5;break}return Al(!0),Xl.p=1,Xl.n=2,qs({userName:wl,userId:at.userId,stampWith:at==null?void 0:at.stampWith,organizationId:at.organizationId});case 2:Yl=Xl.v,Ml(Yl),Xl.n=4;break;case 3:Xl.p=3,Kl=Xl.v,Pl(Kl);case 4:return Xl.p=4,Al(!1),Xl.f(4);case 5:return Xl.a(2)}},Wl,null,[[1,3,4,5]])}));return function(){return Bl.apply(this,arguments)}}(),Ml=function(Wl){if(xl(Wl),!Cl){yl();return}Zs({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"User name updated successfully!",duration:Cl,onComplete:function(){yl()}}),preventBack:!0,showTitle:!1})},Ll=function(Wl){Wl.key==="Enter"&&Ol()};return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Xs?"w-full":"w-72"),children:[jsxRuntimeExports.jsxs("div",{className:"my-6 flex flex-col items-center",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faUser,size:"2xl"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold py-2 text-center",children:at!=null&&at.title?at.title:"Update your user name"}),(at==null?void 0:at.subTitle)&&jsxRuntimeExports.jsx("div",{className:"text-sm text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at.subTitle})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 my-3",children:[jsxRuntimeExports.jsx(X$4,{type:"text",placeholder:Js,className:"w-full py-3 px-4 rounded-md text-inherit bg-button-light dark:bg-button-dark border border-modal-background-dark/20 dark:border-modal-background-light/20 focus:outline-primary-light focus:dark:outline-primary-dark focus:outline-[1px] focus:outline-offset-0 box-border",value:wl,onChange:function(Wl){return _l(Wl.target.value)},onKeyDown:Ll}),jsxRuntimeExports.jsx(ActionButton,{onClick:Ol,disabled:!Rl(wl),loading:Il,className:"w-full md:max-w-md bg-primary-light dark:bg-primary-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Continue"})]})]})}function RemoveOAuthProvider(at){var zs,Ws=useTurnkey(),qs=Ws.user,Ys=Ws.removeOauthProviders,Xs=useModal(),Zs=Xs.isMobile,yl=Xs.closeModal,Js=Xs.pushPage,$l=reactExports.useState(!1),El=_slicedToArray$2($l,2),wl=El[0],_l=El[1],Sl=at.onSuccess,Tl=at.onError,Il=at.successPageDuration,Al=at.organizationId,xl=function(){var Rl=_asyncToGenerator(_regenerator().m(function Ol(){var Ml,Ll;return _regenerator().w(function(Bl){for(;;)switch(Bl.p=Bl.n){case 0:return Bl.p=0,_l(!0),Bl.n=1,Ys(_objectSpread2$2({providerIds:[at.providerId],userId:qs==null?void 0:qs.userId,stampWith:at.stampWith},Al&&{organizationId:Al}));case 1:Ml=Bl.v,Pl(Ml),Bl.n=3;break;case 2:Bl.p=2,Ll=Bl.v,Tl(Ll);case 3:return Bl.p=3,_l(!1),Bl.f(3);case 4:return Bl.a(2)}},Ol,null,[[0,2,3,4]])}));return function(){return Rl.apply(this,arguments)}}(),Pl=function(Ol){if(Sl(Ol),!Il){yl();return}Js({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"OAuth provider removed successfully!",duration:Il,onComplete:function(){yl()}}),preventBack:!0,showTitle:!1})},Cl=qs==null||(zs=qs.oauthProviders)===null||zs===void 0?void 0:zs.find(function(Rl){return Rl.providerId===at.providerId});if(!Cl)throw new TurnkeyError("OAuth provider not found",TurnkeyErrorCodes.NOT_FOUND);return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Zs?"w-full":"w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"mt-6 mb-5 flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTriangleExclamation,size:"3x",className:"text-danger-light dark:text-danger-dark"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-center",children:at!=null&&at.title?at.title:"Remove OAuth Provider"}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at!=null&&at.subTitle?at.subTitle:"This action is irreversible."}),jsxRuntimeExports.jsxs("div",{className:"p-2 h-full mt-2 max-h-72 rounded-md border border-modal-background-dark/10 dark:border-modal-background-light/10 bg-icon-background-light dark:bg-icon-background-dark text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["Provider Name: ",Cl.providerName]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["Provider ID: ",Cl.providerId]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex my-2 mt-0",children:jsxRuntimeExports.jsx(ActionButton,{onClick:xl,loading:wl,className:"w-full md:max-w-md bg-danger-light dark:bg-danger-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Remove Provider"})})]})}function RemovePasskey(at){var zs,Ws=useTurnkey(),qs=Ws.user,Ys=Ws.removePasskeys,Xs=at.onSuccess,Zs=at.onError,yl=at.userId,Js=yl===void 0?qs==null?void 0:qs.userId:yl,$l=at.successPageDuration,El=at.authenticatorId,wl=at.organizationId,_l=reactExports.useState(!1),Sl=_slicedToArray$2(_l,2),Tl=Sl[0],Il=Sl[1],Al=useModal(),xl=Al.isMobile,Pl=Al.pushPage,Cl=Al.closeModal,Rl=function(){var Ll=_asyncToGenerator(_regenerator().m(function Bl(){var Wl,Yl;return _regenerator().w(function(Kl){for(;;)switch(Kl.p=Kl.n){case 0:return Kl.p=0,Il(!0),Kl.n=1,Ys(_objectSpread2$2(_objectSpread2$2({authenticatorIds:[El]},Js&&{userId:Js}),wl&&{organizationId:wl}));case 1:Wl=Kl.v,Ol(Wl),Kl.n=3;break;case 2:Kl.p=2,Yl=Kl.v,Zs(Yl);case 3:return Kl.p=3,Il(!1),Kl.f(3);case 4:return Kl.a(2)}},Bl,null,[[0,2,3,4]])}));return function(){return Ll.apply(this,arguments)}}(),Ol=function(Bl){if(Xs(Bl),!$l){Cl();return}Pl({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Passkey removed successfully!",duration:$l,onComplete:function(){Cl()}}),preventBack:!0,showTitle:!1})},Ml=qs==null||(zs=qs.authenticators)===null||zs===void 0?void 0:zs.find(function(Ll){return Ll.authenticatorId===at.authenticatorId});if(!Ml)throw new TurnkeyError("Authenticator not found",TurnkeyErrorCodes.NOT_FOUND);return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",xl?"w-full":"w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"mt-6 mb-5 flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTriangleExclamation,size:"3x",className:"text-danger-light dark:text-danger-dark"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-center",children:at!=null&&at.title?at.title:"Remove Passkey"}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at!=null&&at.subTitle?at.subTitle:"This action is irreversible."}),jsxRuntimeExports.jsxs("div",{className:"p-2 h-full mt-2 max-h-72 rounded-md border border-modal-background-dark/10 dark:border-modal-background-light/10 bg-icon-background-light dark:bg-icon-background-dark text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["Passkey Name: ",Ml==null?void 0:Ml.authenticatorName]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["Passkey ID: ",Ml==null?void 0:Ml.authenticatorId]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex my-2 mt-0",children:jsxRuntimeExports.jsx(ActionButton,{name:"remove-passkey-button",onClick:Rl,loading:Tl,className:"w-full md:max-w-md bg-danger-light dark:bg-danger-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Remove Passkey"})})]})}function ConnectWalletModal(at){var zs=at.successPageDuration,Ws=at.onSuccess,qs=useModal(),Ys=qs.pushPage,Xs=qs.closeModal,Zs=useTurnkey(),yl=Zs.wallets,Js=Zs.connectWalletAccount,$l=Zs.disconnectWalletAccount,El=function(){var _l=_asyncToGenerator(_regenerator().m(function Sl(Tl){return _regenerator().w(function(Il){for(;;)switch(Il.n){case 0:if(!isWalletConnect(Tl)){Il.n=1;break}return Ys({key:"Connect WalletConnect",content:jsxRuntimeExports.jsx(WalletConnectScreen,{provider:Tl,onAction:function(){var Al=_asyncToGenerator(_regenerator().m(function Pl(Cl){var Rl;return _regenerator().w(function(Ol){for(;;)switch(Ol.n){case 0:return Ol.n=1,Js(Cl);case 1:Rl=Ol.v,Ws("connect",Rl);case 2:return Ol.a(2)}},Pl)}));function xl(Pl){return Al.apply(this,arguments)}return xl}(),successPageDuration:zs})}),Il.a(2);case 1:Ys({key:"Connect ".concat(Tl.info.name),content:jsxRuntimeExports.jsx(ActionPage,{title:"Connecting ".concat(Tl.info.name),icon:jsxRuntimeExports.jsx("img",{className:"size-11 rounded-full",src:Tl.info.icon||""}),closeOnComplete:!1,action:function(){var Al=_asyncToGenerator(_regenerator().m(function Pl(){var Cl;return _regenerator().w(function(Rl){for(;;)switch(Rl.n){case 0:return Rl.n=1,Js(Tl);case 1:Cl=Rl.v,Ws("connect",Cl),zs&&zs>0?Ys({key:"Connecting Success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Successfully connected wallet!",onComplete:function(){return Xs()},duration:zs}),preventBack:!0,showTitle:!1}):Xs();case 2:return Rl.a(2)}},Pl)}));function xl(){return Al.apply(this,arguments)}return xl}()}),showTitle:!1});case 2:return Il.a(2)}},Sl)}));return function(Tl){return _l.apply(this,arguments)}}(),wl=function(){var _l=_asyncToGenerator(_regenerator().m(function Sl(Tl){return _regenerator().w(function(Il){for(;;)switch(Il.n){case 0:Ys({key:"Disconnect ".concat(Tl.info.name),content:jsxRuntimeExports.jsx(DisconnectWalletScreen,{provider:Tl,onDisconnect:function(){var Al=_asyncToGenerator(_regenerator().m(function Pl(){var Cl,Rl,Ol;return _regenerator().w(function(Ml){for(;;)switch(Ml.n){case 0:return Cl=Tl.connectedAddresses[0],Rl=yl.filter(function(Ll){return Ll.source===WalletSource.Connected}),Ol=Rl.flatMap(function(Ll){return Ll.accounts}).find(function(Ll){return Ll.address===Cl}),Ml.n=1,$l(Tl);case 1:Ws("disconnect",Ol),zs?Ys({key:"Disconnect Success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Successfully disconnected wallet!",onComplete:function(){return Xs()},duration:zs}),preventBack:!0,showTitle:!1}):Xs();case 2:return Ml.a(2)}},Pl)}));function xl(){return Al.apply(this,arguments)}return xl}()}),showTitle:!1});case 1:return Il.a(2)}},Sl)}));return function(Tl){return _l.apply(this,arguments)}}();return jsxRuntimeExports.jsx(ExternalWalletSelector,{onSelect:El,onDisconnect:wl})}function RemoveEmail(at){var zs=useTurnkey(),Ws=zs.user,qs=zs.removeUserEmail,Ys=useModal(),Xs=Ys.isMobile,Zs=Ys.closeModal,yl=Ys.pushPage,Js=reactExports.useState(!1),$l=_slicedToArray$2(Js,2),El=$l[0],wl=$l[1],_l=at.onSuccess,Sl=at.onError,Tl=at.successPageDuration,Il=at.userId,Al=Il===void 0?Ws==null?void 0:Ws.userId:Il,xl=at.organizationId,Pl=function(){var Rl=_asyncToGenerator(_regenerator().m(function Ol(){var Ml,Ll;return _regenerator().w(function(Bl){for(;;)switch(Bl.p=Bl.n){case 0:return Bl.p=0,wl(!0),Bl.n=1,qs(_objectSpread2$2({userId:Al,stampWith:at.stampWith},xl&&{organizationId:xl}));case 1:Ml=Bl.v,Cl(Ml),Bl.n=3;break;case 2:Bl.p=2,Ll=Bl.v,Sl(Ll);case 3:return Bl.p=3,wl(!1),Bl.f(3);case 4:return Bl.a(2)}},Ol,null,[[0,2,3,4]])}));return function(){return Rl.apply(this,arguments)}}(),Cl=function(Ol){if(_l(Ol),!Tl){Zs();return}yl({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"E-mail removed successfully!",duration:Tl,onComplete:function(){Zs()}}),preventBack:!0,showTitle:!1})};return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Xs?"w-full":"w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"mt-6 mb-5 flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTriangleExclamation,size:"3x",className:"text-danger-light dark:text-danger-dark"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-center",children:at!=null&&at.title?at.title:"Remove E-mail"}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at!=null&&at.subTitle?at.subTitle:"This action is irreversible."}),jsxRuntimeExports.jsxs("div",{className:"p-2 h-full mt-2 max-h-72 rounded-md border border-modal-background-dark/10 dark:border-modal-background-light/10 bg-icon-background-light dark:bg-icon-background-dark text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["E-mail: ",Ws.userEmail]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["User ID: ",Ws.userId]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex my-2 mt-0",children:jsxRuntimeExports.jsx(ActionButton,{onClick:Pl,loading:El,className:"w-full md:max-w-md bg-danger-light dark:bg-danger-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Remove Email"})})]})}function RemovePhoneNumber(at){var zs=useTurnkey(),Ws=zs.user,qs=zs.removeUserPhoneNumber,Ys=useModal(),Xs=Ys.isMobile,Zs=Ys.closeModal,yl=Ys.pushPage,Js=reactExports.useState(!1),$l=_slicedToArray$2(Js,2),El=$l[0],wl=$l[1],_l=at.onSuccess,Sl=at.onError,Tl=at.successPageDuration,Il=at.userId,Al=Il===void 0?Ws==null?void 0:Ws.userId:Il,xl=at.organizationId,Pl=function(){var Rl=_asyncToGenerator(_regenerator().m(function Ol(){var Ml,Ll;return _regenerator().w(function(Bl){for(;;)switch(Bl.p=Bl.n){case 0:return Bl.p=0,wl(!0),Bl.n=1,qs(_objectSpread2$2({userId:Al,stampWith:at.stampWith},xl&&{organizationId:xl}));case 1:Ml=Bl.v,Cl(Ml),Bl.n=3;break;case 2:Bl.p=2,Ll=Bl.v,Sl(Ll);case 3:return Bl.p=3,wl(!1),Bl.f(3);case 4:return Bl.a(2)}},Ol,null,[[0,2,3,4]])}));return function(){return Rl.apply(this,arguments)}}(),Cl=function(Ol){if(_l(Ol),!Tl){Zs();return}yl({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Phone number removed successfully!",duration:Tl,onComplete:function(){Zs()}}),preventBack:!0,showTitle:!1})};return jsxRuntimeExports.jsxs("div",{className:clsx("mt-8",Xs?"w-full":"w-96"),children:[jsxRuntimeExports.jsxs("div",{className:"mt-6 mb-5 flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faTriangleExclamation,size:"3x",className:"text-danger-light dark:text-danger-dark"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-center",children:at!=null&&at.title?at.title:"Remove Phone Number"}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light dark:text-icon-text-dark text-center !p-0",children:at!=null&&at.subTitle?at.subTitle:"This action is irreversible."}),jsxRuntimeExports.jsxs("div",{className:"p-2 h-full mt-2 max-h-72 rounded-md border border-modal-background-dark/10 dark:border-modal-background-light/10 bg-icon-background-light dark:bg-icon-background-dark text-icon-text-light dark:text-icon-text-dark",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["Phone Number: ",Ws.userPhoneNumber]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-mono!",children:["User ID: ",Ws.userId]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex my-2 mt-0",children:jsxRuntimeExports.jsx(ActionButton,{onClick:Pl,loading:El,className:"w-full md:max-w-md bg-danger-light dark:bg-danger-dark text-primary-text-light dark:text-primary-text-dark",spinnerClassName:"text-primary-text-light dark:text-primary-text-dark",children:"Remove Phone Number"})})]})}function VerifyPage(at){var zs=at.onSuccess,Ws=at.onError,qs=at.successPageDuration,Ys=useModal(),Xs=Ys.isMobile,Zs=Ys.closeModal,yl=useTurnkey(),Js=yl.verifyAppProofs,$l=reactExports.useRef(!1),El=reactExports.useState(!1),wl=_slicedToArray$2(El,2),_l=wl[0],Sl=wl[1],Tl=reactExports.useState(!1),Il=_slicedToArray$2(Tl,2),Al=Il[0],xl=Il[1];return reactExports.useEffect(function(){if(!$l.current){$l.current=!0;var Pl={current:void 0},Cl=function(){var Rl=_asyncToGenerator(_regenerator().m(function Ol(){var Ml;return _regenerator().w(function(Ll){for(;;)switch(Ll.p=Ll.n){case 0:return Ll.p=0,Ll.n=1,new Promise(function(Bl){return setTimeout(Bl,300)});case 1:return Ll.n=2,Js(_objectSpread2$2({},at));case 2:if(Sl(!0),!(!qs||qs===0)){Ll.n=3;break}return zs==null||zs(),Zs(),Ll.a(2);case 3:setTimeout(function(){return xl(!0)},500),setTimeout(function(){return xl(!1)},1500),Pl.current=setTimeout(function(){zs==null||zs(),Zs()},qs),Ll.n=5;break;case 4:Ll.p=4,Ml=Ll.v,Ws==null||Ws(Ml),Zs();case 5:return Ll.a(2)}},Ol,null,[[0,4]])}));return function(){return Rl.apply(this,arguments)}}();return Cl(),function(){Pl.current&&clearTimeout(Pl.current)}}},[]),jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center justify-center py-5 transition-all duration-300",Xs?"w-full":"w-72"),children:[!_l&&jsxRuntimeExports.jsxs("div",{className:"size-full absolute text-center text-lg font-semibold flex flex-row items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Spinner,{strokeWidth:2,className:"h-full"}),jsxRuntimeExports.jsx("span",{className:"animate-pulse",children:"Verifying..."})]}),jsxRuntimeExports.jsx("div",{className:"relative flex flex-col items-center justify-center size-[88px] overflow-hidden",children:jsxRuntimeExports.jsx(Ke$4,{as:"div",show:_l,enter:"transition-all duration-600 ease-in-out",enterFrom:"opacity-0 scale-40",enterTo:"opacity-100 scale-100",className:" absolute size-full flex flex-col items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"size-full border-2 border-primary-light dark:border-primary-dark text-primary-light dark:text-primary-dark rounded-full flex flex-col items-center justify-center box-border",children:jsxRuntimeExports.jsxs(Oe$3,{as:"div",enter:"transition-all duration-200 delay-300 ease-out",enterFrom:"opacity-0 scale-60",enterTo:"opacity-100 scale-100",className:"relative flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(FontAwesomeIcon,{icon:faCheck,size:"2x"}),jsxRuntimeExports.jsx(FontAwesomeIcon,{className:"absolute animate-ping",icon:faCheck,size:"2x"})]})})})}),jsxRuntimeExports.jsxs(Ke$4,{as:"div",show:_l,className:"w-full text-center text-lg font-semibold flex flex-col items-center justify-center mt-2 relative",enter:"transition-all ease-out duration-200 delay-200",enterFrom:"opacity-0 -translate-y-2",enterTo:"opacity-100 translate-y-0",children:[jsxRuntimeExports.jsx("span",{children:"Verified!"}),Al&&jsxRuntimeExports.jsx("span",{className:"absolute animate-ping text-icon-text-light dark:text-icon-text-dark",children:"Verified!"})]})]})}function OnRampPage(at){var zs=at.icon,Ws=at.onrampProvider,qs=at.action,Ys=at.completed,Xs=at.successPageDuration,Zs=Xs===void 0?2e3:Xs,yl=at.sandboxMode,Js=yl===void 0?!1:yl,$l=at.onSuccess,El=at.onError,wl=useModal(),_l=wl.closeModal,Sl=wl.isMobile;return Ys?jsxRuntimeExports.jsx("div",{className:clsx("flex flex-col items-center justify-center py-5 transition-all duration-300 text-center",Sl?"w-full":"w-72"),children:jsxRuntimeExports.jsx(SuccessPage,{text:"On Ramp Transaction Complete!",duration:Zs,onComplete:function(){$l==null||$l(),_l()}})}):jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center justify-center py-5 transition-all duration-300 text-center",Sl?"w-full":"w-72"),children:[jsxRuntimeExports.jsx(ActionPage,{title:"Initiating OnRamp",icon:zs,action:function(){var Tl=_asyncToGenerator(_regenerator().m(function Al(){var xl;return _regenerator().w(function(Pl){for(;;)switch(Pl.p=Pl.n){case 0:return Pl.p=0,Pl.n=1,qs();case 1:Pl.n=3;break;case 2:throw Pl.p=2,xl=Pl.v,El==null||El(xl),xl;case 3:return Pl.a(2)}},Al,null,[[0,2]])}));function Il(){return Tl.apply(this,arguments)}return Il}(),closeOnComplete:!1}),jsxRuntimeExports.jsx("div",{className:"text-icon-text-light text-sm dark:text-icon-text-dark text-center !p-0",children:Ws==="FIAT_ON_RAMP_PROVIDER_COINBASE"?"Use the Coinbase popup to finish funding your account.":"Use the MoonPay popup to finish funding your account."}),Js&&jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-primary-light dark:text-primary-dark",children:"Sandbox mode  no real funds will be used."})]})}function getExplorerUrl(at,zs){switch(zs){case"eip155:8453":return"https://basescan.org/tx/".concat(at);case"eip155:84532":return"https://sepolia.basescan.org/tx/".concat(at);case"eip155:1":return"https://etherscan.io/tx/".concat(at);case"eip155:11155111":return"https://sepolia.etherscan.io/tx/".concat(at);case"eip155:137":return"https://polygonscan.com/tx/".concat(at);default:return"https://etherscan.io/tx/".concat(at)}}function getChainLogo(at){var zs=at.startsWith("solana:")?SolanaLogo:EthereumLogo;return jsxRuntimeExports.jsx(zs,{className:"h-10 w-10 rounded-full"})}function SendTransactionPage(at){var zs=at.icon,Ws=at.action,qs=at.caip2,Ys=at.successPageDuration,Xs=Ys===void 0?2e3:Ys,Zs=at.onSuccess,yl=at.onError,Js=useModal(),$l=Js.closeModal,El=Js.isMobile,wl=reactExports.useState(!1),_l=_slicedToArray$2(wl,2),Sl=_l[0],Tl=_l[1],Il=reactExports.useState(),Al=_slicedToArray$2(Il,2),xl=Al[0],Pl=Al[1];return Sl?jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col items-center justify-center py-5 text-center gap-2",El?"w-full":"w-72"),children:[jsxRuntimeExports.jsx(SuccessPage,{text:"Transaction Sent!",duration:Xs,onComplete:function(){Zs==null||Zs(),$l()}}),xl&&jsxRuntimeExports.jsx("a",{href:getExplorerUrl(xl,qs),target:"_blank",rel:"noopener noreferrer",className:"text-primary-light dark:text-primary-dark underline text-sm mt-2",children:"View on Explorer"})]}):jsxRuntimeExports.jsx("div",{className:clsx("flex flex-col items-center justify-center py-5 text-center",El?"w-full":"w-72"),children:jsxRuntimeExports.jsx(ActionPage,{title:"Sending Transaction",icon:zs,action:function(){var Cl=_asyncToGenerator(_regenerator().m(function Ol(){var Ml,Ll;return _regenerator().w(function(Bl){for(;;)switch(Bl.p=Bl.n){case 0:return Bl.p=0,Bl.n=1,Ws();case 1:Ml=Bl.v,Pl(Ml==null?void 0:Ml.txHash),Tl(!0),Bl.n=3;break;case 2:throw Bl.p=2,Ll=Bl.v,yl==null||yl(Ll),Ll;case 3:return Bl.a(2)}},Ol,null,[[0,2]])}));function Rl(){return Cl.apply(this,arguments)}return Rl}(),closeOnComplete:!1})})}var ClientProvider=function(zs){var Ws,qs=zs.config,Ys=zs.children,Xs=zs.callbacks,Zs=reactExports.useState(void 0),yl=_slicedToArray$2(Zs,2),Js=yl[0],$l=yl[1],El=reactExports.useState(void 0),wl=_slicedToArray$2(El,2),_l=wl[0],Sl=wl[1],Tl=reactExports.useState(void 0),Il=_slicedToArray$2(Tl,2),Al=Il[0],xl=Il[1],Pl=reactExports.useState([]),Cl=_slicedToArray$2(Pl,2),Rl=Cl[0],Ol=Cl[1],Ml=reactExports.useState(void 0),Ll=_slicedToArray$2(Ml,2),Bl=Ll[0],Wl=Ll[1],Yl=reactExports.useState(),Kl=_slicedToArray$2(Yl,2),Xl=Kl[0],Ul=Kl[1],Vl=reactExports.useState(AuthState.Unauthenticated),Nl=_slicedToArray$2(Vl,2),Dl=Nl[0],Gl=Nl[1],Fl=!!qs.authProxyConfigId&&((Ws=qs.autoFetchWalletKitConfig)!==null&&Ws!==void 0?Ws:!0),Hl=useWalletProviderState(),Zl=_slicedToArray$2(Hl,2),Su=Zl[0],$u=Zl[1],Pu=reactExports.useRef({}),ku=reactExports.useRef(null),Tu=reactExports.useState(void 0),Ru=_slicedToArray$2(Tu,2),Mu=Ru[0],Hu=Ru[1],Ku=useModal(),Fu=Ku.isMobile,ju=Ku.pushPage,qu=Ku.closeModal,Zu=function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(){var zl,Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np,sp,Lp,mp,_p,Pp,kp,jp,zp,Wp,qp,Op,Yp,sm,rm,nm;return _regenerator().w(function(Jp){for(;;)switch(Jp.n){case 0:if(!(window.location.hash||window.location.search)){Jp.n=8;break}if(!(window.location.search&&window.location.search.includes("code=")&&window.location.search.includes("state="))){Jp.n=4;break}if(zl=new URLSearchParams(window.location.search.substring(1)),Jl=zl.get("code"),_u=zl.get("state"),!(_u&&Jl)){Jp.n=3;break}if(Au=new URLSearchParams(_u),Cu=Au.get("provider"),Nu=Au.get("flow"),Du=Au.get("publicKey"),Lu=Au.get("openModal"),Uu=Au.get("sessionKey"),!(Cu==="facebook"&&Nu==="redirect"&&Du)){Jp.n=1;break}if(Gu=Al==null||(Wu=Al.auth)===null||Wu===void 0||(Xu=Wu.oauthConfig)===null||Xu===void 0?void 0:Xu.facebookClientId,np=Al==null||(Yu=Al.auth)===null||Yu===void 0||(ep=Yu.oauthConfig)===null||ep===void 0?void 0:ep.oauthRedirectUri,!(Gu&&np)){Jp.n=1;break}return Jp.n=1,handleFacebookPKCEFlow({code:Jl,publicKey:Du,openModal:Lu,clientId:Gu,redirectURI:np,callbacks:Xs,completeOauth:$m,onPushPage:function(bm){return new Promise(function(Zp,wm){ju({key:"Facebook OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Facebook...",action:function(){var _m=_asyncToGenerator(_regenerator().m(function Qp(){var lm;return _regenerator().w(function(Mp){for(;;)switch(Mp.p=Mp.n){case 0:return Mp.p=0,Mp.n=1,$m(_objectSpread2$2({oidcToken:bm,publicKey:Du,providerName:"facebook"},Uu&&{sessionKey:Uu}));case 1:window.history.replaceState(null,document.title,window.location.pathname),Zp(),Mp.n=3;break;case 2:Mp.p=2,lm=Mp.v,wm(lm);case 3:return Mp.a(2)}},Qp,null,[[0,2]])}));function hm(){return _m.apply(this,arguments)}return hm}(),icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faFacebook})}),showTitle:!1,onClose:function(){wm(new TurnkeyError("User canceled the Facebook authentication process.",TurnkeyErrorCodes.USER_CANCELED))}})})}}).catch(function(mm){Xs!=null&&Xs.onError&&Xs.onError(mm instanceof TurnkeyError?mm:new TurnkeyError("Facebook authentication failed",TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR,mm))});case 1:if(!(Cu==="discord"&&Nu==="redirect"&&Du)){Jp.n=2;break}if(tp=Al==null||(_h=Al.auth)===null||_h===void 0||(ap=_h.oauthConfig)===null||ap===void 0?void 0:ap.discordClientId,op=Al==null||(ip=Al.auth)===null||ip===void 0||(cp=ip.oauthConfig)===null||cp===void 0?void 0:cp.oauthRedirectUri,bp=sessionStorage.getItem("discord_verifier"),up=Au.get("nonce"),Ep=Au.get("sessionKey"),!(tp&&op&&bp&&up)){Jp.n=2;break}return Jp.n=2,new Promise(function(mm,bm){ju({key:"Discord OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Discord...",action:function(){var Zp=_asyncToGenerator(_regenerator().m(function _m(){var hm,Qp,lm;return _regenerator().w(function(Mp){for(;;)switch(Mp.p=Mp.n){case 0:return Mp.p=0,Mp.n=1,Js==null?void 0:Js.httpClient.proxyOAuth2Authenticate({provider:"OAUTH2_PROVIDER_DISCORD",authCode:Jl,redirectUri:op,codeVerifier:bp,clientId:tp,nonce:up});case 1:if(hm=Mp.v,sessionStorage.removeItem("discord_verifier"),Qp=hm==null?void 0:hm.oidcToken,Qp){Mp.n=2;break}throw new TurnkeyError("Missing OIDC token",TurnkeyErrorCodes.OAUTH_LOGIN_ERROR);case 2:return Mp.n=3,$m(_objectSpread2$2({oidcToken:Qp,publicKey:Du,providerName:"discord"},Ep&&{sessionKey:Ep}));case 3:window.history.replaceState(null,document.title,window.location.pathname),mm(null),Mp.n=5;break;case 4:Mp.p=4,lm=Mp.v,bm(lm),Xs!=null&&Xs.onError&&Xs.onError(lm instanceof TurnkeyError?lm:new TurnkeyError("Discord authentication failed",TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR,lm));case 5:return Mp.a(2)}},_m,null,[[0,4]])}));function wm(){return Zp.apply(this,arguments)}return wm}(),icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faDiscord})}),showTitle:!1,onClose:function(){bm(new TurnkeyError("User canceled the Discord authentication process.",TurnkeyErrorCodes.USER_CANCELED))}})});case 2:if(!(Cu==="twitter"&&Nu==="redirect"&&Du)){Jp.n=3;break}if(sp=Al==null||(Tp=Al.auth)===null||Tp===void 0||(wp=Tp.oauthConfig)===null||wp===void 0?void 0:wp.xClientId,Lp=Al==null||(lp=Al.auth)===null||lp===void 0||(Np=lp.oauthConfig)===null||Np===void 0?void 0:Np.oauthRedirectUri,mp=sessionStorage.getItem("twitter_verifier"),_p=Au.get("nonce"),Pp=Au.get("sessionKey"),!(sp&&Lp&&mp&&_p)){Jp.n=3;break}return Jp.n=3,new Promise(function(mm,bm){ju({key:"Twitter OAuth",content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with Twitter...",action:function(){var Zp=_asyncToGenerator(_regenerator().m(function _m(){var hm,Qp,lm;return _regenerator().w(function(Mp){for(;;)switch(Mp.p=Mp.n){case 0:return Mp.p=0,Mp.n=1,Js==null?void 0:Js.httpClient.proxyOAuth2Authenticate({provider:"OAUTH2_PROVIDER_X",authCode:Jl,redirectUri:Lp,codeVerifier:mp,clientId:sp,nonce:_p});case 1:if(hm=Mp.v,sessionStorage.removeItem("twitter_verifier"),Qp=hm==null?void 0:hm.oidcToken,Qp){Mp.n=2;break}throw new TurnkeyError("Missing OIDC token",TurnkeyErrorCodes.OAUTH_LOGIN_ERROR);case 2:return Mp.n=3,$m(_objectSpread2$2({oidcToken:Qp,publicKey:Du,providerName:"twitter"},Pp&&{sessionKey:Pp}));case 3:window.history.replaceState(null,document.title,window.location.pathname),mm(null),Mp.n=5;break;case 4:Mp.p=4,lm=Mp.v,bm(lm),Xs!=null&&Xs.onError&&Xs.onError(lm instanceof TurnkeyError?lm:new TurnkeyError("Twitter authentication failed",TurnkeyErrorCodes.OAUTH_SIGNUP_ERROR,lm));case 5:return Mp.a(2)}},_m,null,[[0,4]])}));function wm(){return Zp.apply(this,arguments)}return wm}(),icon:jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faXTwitter})}),showTitle:!1,onClose:function(){bm(new TurnkeyError("User canceled the Twitter authentication process.",TurnkeyErrorCodes.USER_CANCELED))}})});case 3:Jp.n=8;break;case 4:if(!window.location.hash){Jp.n=8;break}if(kp=window.location.hash.substring(1),jp=parseOAuthRedirect(kp),zp=jp.idToken,Wp=jp.provider,qp=jp.flow,Op=jp.publicKey,Yp=jp.openModal,sm=jp.sessionKey,!(zp&&qp==="redirect"&&Op)){Jp.n=8;break}if(Yp!=="true"){Jp.n=6;break}return rm=Wp?Wp.charAt(0).toUpperCase()+Wp.slice(1):"Provider",Wp==="apple"?nm=jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faApple}):nm=jsxRuntimeExports.jsx(FontAwesomeIcon,{size:"3x",icon:faGoogle}),Jp.n=5,new Promise(function(mm,bm){ju({key:"".concat(rm," OAuth"),content:jsxRuntimeExports.jsx(ActionPage,{title:"Authenticating with ".concat(rm,"..."),action:function(){var Zp=_asyncToGenerator(_regenerator().m(function _m(){var hm;return _regenerator().w(function(Qp){for(;;)switch(Qp.p=Qp.n){case 0:return Qp.p=0,Qp.n=1,$m(_objectSpread2$2(_objectSpread2$2({oidcToken:zp,publicKey:Op},Wp?{providerName:Wp}:{}),sm&&{sessionKey:sm}));case 1:mm(null),Qp.n=3;break;case 2:Qp.p=2,hm=Qp.v,bm(hm);case 3:return Qp.a(2)}},_m,null,[[0,2]])}));function wm(){return Zp.apply(this,arguments)}return wm}(),icon:nm}),showTitle:!1,onClose:function(){bm(new TurnkeyError("User canceled the ".concat(rm," authentication process."),TurnkeyErrorCodes.USER_CANCELED))}})});case 5:Jp.n=7;break;case 6:Xs!=null&&Xs.onOauthRedirect?Xs.onOauthRedirect({idToken:zp,publicKey:Op}):$m(_objectSpread2$2({oidcToken:zp,publicKey:Op},Wp?{providerName:Wp}:{}));case 7:window.history.replaceState(null,document.title,window.location.pathname+window.location.search);case 8:return Jp.a(2)}},Ql)}));return function(){return Ou.apply(this,arguments)}}(),_d=function(Ql){var zl,Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np,sp,Lp,mp,_p,Pp,kp,jp,zp,Wp,qp,Op,Yp,sm,rm,nm,Jp,mm,bm,Zp,wm,_m,hm,Qp,lm,Mp,Um,jm,Dm,Bm,zm,oy,Em,cy,Ey,wy,_y,Sy,Ay,Ty,Iy,xy,Cy,Py,ky,Ry,Ny,Oy,Dy,By,My,Ly,Fy,Uy,jy,zy,Vy,Hy,Ky,Wy,Gy,qy,Yy,Xy,Vm={emailOtpAuthEnabled:(zl=(Jl=qs.auth)===null||Jl===void 0||(_u=Jl.methods)===null||_u===void 0?void 0:_u.emailOtpAuthEnabled)!==null&&zl!==void 0?zl:Ql==null?void 0:Ql.enabledProviders.includes("email"),smsOtpAuthEnabled:(Au=(Cu=qs.auth)===null||Cu===void 0||(Nu=Cu.methods)===null||Nu===void 0?void 0:Nu.smsOtpAuthEnabled)!==null&&Au!==void 0?Au:Ql==null?void 0:Ql.enabledProviders.includes("sms"),passkeyAuthEnabled:(Du=(Lu=qs.auth)===null||Lu===void 0||(Uu=Lu.methods)===null||Uu===void 0?void 0:Uu.passkeyAuthEnabled)!==null&&Du!==void 0?Du:Ql==null?void 0:Ql.enabledProviders.includes("passkey"),walletAuthEnabled:(Wu=(Xu=qs.auth)===null||Xu===void 0||(Yu=Xu.methods)===null||Yu===void 0?void 0:Yu.walletAuthEnabled)!==null&&Wu!==void 0?Wu:Ql==null?void 0:Ql.enabledProviders.includes("wallet"),googleOauthEnabled:(ep=(Gu=qs.auth)===null||Gu===void 0||(np=Gu.methods)===null||np===void 0?void 0:np.googleOauthEnabled)!==null&&ep!==void 0?ep:Ql==null?void 0:Ql.enabledProviders.includes("google"),xOauthEnabled:(_h=(ap=qs.auth)===null||ap===void 0||(ip=ap.methods)===null||ip===void 0?void 0:ip.xOauthEnabled)!==null&&_h!==void 0?_h:Ql==null?void 0:Ql.enabledProviders.includes("x"),discordOauthEnabled:(cp=(tp=qs.auth)===null||tp===void 0||(op=tp.methods)===null||op===void 0?void 0:op.discordOauthEnabled)!==null&&cp!==void 0?cp:Ql==null?void 0:Ql.enabledProviders.includes("discord"),appleOauthEnabled:(bp=(up=qs.auth)===null||up===void 0||(Ep=up.methods)===null||Ep===void 0?void 0:Ep.appleOauthEnabled)!==null&&bp!==void 0?bp:Ql==null?void 0:Ql.enabledProviders.includes("apple"),facebookOauthEnabled:(Tp=(wp=qs.auth)===null||wp===void 0||(lp=wp.methods)===null||lp===void 0?void 0:lp.facebookOauthEnabled)!==null&&Tp!==void 0?Tp:Ql==null?void 0:Ql.enabledProviders.includes("facebook")},u1={googleClientId:(Np=(sp=qs.auth)===null||sp===void 0||(Lp=sp.oauthConfig)===null||Lp===void 0?void 0:Lp.googleClientId)!==null&&Np!==void 0?Np:Ql==null||(mp=Ql.oauthClientIds)===null||mp===void 0?void 0:mp.google,appleClientId:(_p=(Pp=qs.auth)===null||Pp===void 0||(kp=Pp.oauthConfig)===null||kp===void 0?void 0:kp.appleClientId)!==null&&_p!==void 0?_p:Ql==null||(jp=Ql.oauthClientIds)===null||jp===void 0?void 0:jp.apple,facebookClientId:(zp=(Wp=qs.auth)===null||Wp===void 0||(qp=Wp.oauthConfig)===null||qp===void 0?void 0:qp.facebookClientId)!==null&&zp!==void 0?zp:Ql==null||(Op=Ql.oauthClientIds)===null||Op===void 0?void 0:Op.facebook,xClientId:(Yp=(sm=qs.auth)===null||sm===void 0||(rm=sm.oauthConfig)===null||rm===void 0?void 0:rm.xClientId)!==null&&Yp!==void 0?Yp:Ql==null||(nm=Ql.oauthClientIds)===null||nm===void 0?void 0:nm.x,discordClientId:(Jp=(mm=qs.auth)===null||mm===void 0||(bm=mm.oauthConfig)===null||bm===void 0?void 0:bm.discordClientId)!==null&&Jp!==void 0?Jp:Ql==null||(Zp=Ql.oauthClientIds)===null||Zp===void 0?void 0:Zp.discord},d1=(wm=(_m=qs.auth)===null||_m===void 0||(hm=_m.oauthConfig)===null||hm===void 0?void 0:hm.oauthRedirectUri)!==null&&wm!==void 0?wm:Ql==null?void 0:Ql.oauthRedirectUrl,s0=(Qp=(lm=qs.auth)===null||lm===void 0?void 0:lm.oauthOrder)!==null&&Qp!==void 0?Qp:["google","apple","x","discord","facebook"].filter(function(p1){return Vm["".concat(p1,"OauthEnabled")]}),f1=(Mp=(Um=qs.auth)===null||Um===void 0?void 0:Um.methodOrder)!==null&&Mp!==void 0?Mp:[s0.length>0?"socials":null,Vm.emailOtpAuthEnabled?"email":null,Vm.smsOtpAuthEnabled?"sms":null,Vm.passkeyAuthEnabled?"passkey":null,Vm.walletAuthEnabled?"wallet":null].filter(Boolean);if(Ql){var Zy,Jy,Qy;(Zy=qs.auth)!==null&&Zy!==void 0&&Zy.sessionExpirationSeconds&&console.warn("Turnkey SDK warning. You have set sessionExpirationSeconds directly in the TurnkeyProvider. This setting will be ignored because you are using an auth proxy. Please configure session expiration in the Turnkey dashboard."),((Jy=qs.auth)===null||Jy===void 0?void 0:Jy.otpAlphanumeric)!==void 0&&console.warn("Turnkey SDK warning. You have set otpAlphanumeric directly in the TurnkeyProvider. This setting will be ignored because you are using an auth proxy. Please configure OTP settings in the Turnkey dashboard."),(Qy=qs.auth)!==null&&Qy!==void 0&&Qy.otpLength&&console.warn("Turnkey SDK warning. You have set otpLength directly in the TurnkeyProvider. This setting will be ignored because you are using an auth proxy. Please configure OTP settings in the Turnkey dashboard.")}var h1={sessionExpirationSeconds:(jm=Ql==null?void 0:Ql.sessionExpirationSeconds)!==null&&jm!==void 0?jm:(Dm=qs.auth)===null||Dm===void 0?void 0:Dm.sessionExpirationSeconds,otpAlphanumeric:(Bm=(zm=Ql==null?void 0:Ql.otpAlphanumeric)!==null&&zm!==void 0?zm:(oy=qs.auth)===null||oy===void 0?void 0:oy.otpAlphanumeric)!==null&&Bm!==void 0?Bm:!0,otpLength:(Em=(cy=Ql==null?void 0:Ql.otpLength)!==null&&cy!==void 0?cy:(Ey=qs.auth)===null||Ey===void 0?void 0:Ey.otpLength)!==null&&Em!==void 0?Em:"6"};return _objectSpread2$2(_objectSpread2$2({},qs),{},{auth:_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},qs.auth),h1),{},{methods:Vm,oauthConfig:_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},(wy=qs.auth)===null||wy===void 0?void 0:wy.oauthConfig),u1),{},{oauthRedirectUri:d1,openOauthInPage:Fu?!0:(_y=qs.auth)===null||_y===void 0||(Sy=_y.oauthConfig)===null||Sy===void 0?void 0:Sy.openOauthInPage}),methodOrder:f1,oauthOrder:s0,autoRefreshSession:(Ay=(Ty=qs.auth)===null||Ty===void 0?void 0:Ty.autoRefreshSession)!==null&&Ay!==void 0?Ay:!0}),autoRefreshManagedState:(Iy=qs.autoRefreshManagedState)!==null&&Iy!==void 0?Iy:!0,walletConfig:_objectSpread2$2(_objectSpread2$2({},qs.walletConfig),{},{features:_objectSpread2$2(_objectSpread2$2({},(xy=qs.walletConfig)===null||xy===void 0?void 0:xy.features),{},{auth:(Cy=(Py=Vm.walletAuthEnabled)!==null&&Py!==void 0?Py:(ky=qs.walletConfig)===null||ky===void 0||(Ry=ky.features)===null||Ry===void 0?void 0:Ry.auth)!==null&&Cy!==void 0?Cy:!0,connecting:(Ny=(Oy=qs.walletConfig)===null||Oy===void 0||(Dy=Oy.features)===null||Dy===void 0?void 0:Dy.connecting)!==null&&Ny!==void 0?Ny:!0}),chains:_objectSpread2$2(_objectSpread2$2({},(By=qs.walletConfig)===null||By===void 0?void 0:By.chains),{},{ethereum:_objectSpread2$2(_objectSpread2$2({},(My=qs.walletConfig)===null||My===void 0||(Ly=My.chains)===null||Ly===void 0?void 0:Ly.ethereum),{},{native:(Fy=(Uy=qs.walletConfig)===null||Uy===void 0||(jy=Uy.chains)===null||jy===void 0||(zy=jy.ethereum)===null||zy===void 0?void 0:zy.native)!==null&&Fy!==void 0?Fy:!0}),solana:_objectSpread2$2(_objectSpread2$2({},(Vy=qs.walletConfig)===null||Vy===void 0||(Hy=Vy.chains)===null||Hy===void 0?void 0:Hy.solana),{},{native:(Ky=(Wy=qs.walletConfig)===null||Wy===void 0||(Gy=Wy.chains)===null||Gy===void 0||(qy=Gy.solana)===null||qy===void 0?void 0:qy.native)!==null&&Ky!==void 0?Ky:!0})})}),importIframeUrl:(Yy=qs.importIframeUrl)!==null&&Yy!==void 0?Yy:"https://import.turnkey.com",exportIframeUrl:(Xy=qs.exportIframeUrl)!==null&&Xy!==void 0?Xy:"https://export.turnkey.com"})},vp=function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(){var zl,Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu;return _regenerator().w(function(Yu){for(;;)switch(Yu.p=Yu.n){case 0:if(!(!Al||Js||Xl==ClientState.Loading)){Yu.n=1;break}return Yu.a(2);case 1:return Yu.p=1,Ul(ClientState.Loading),Lu=new TurnkeyClient({apiBaseUrl:Al.apiBaseUrl,authProxyUrl:Al.authProxyUrl,authProxyConfigId:Al.authProxyConfigId,organizationId:Al.organizationId,passkeyConfig:{rpId:(zl=Al.passkeyConfig)===null||zl===void 0?void 0:zl.rpId,timeout:((Jl=Al.passkeyConfig)===null||Jl===void 0?void 0:Jl.timeout)||6e4,userVerification:((_u=Al.passkeyConfig)===null||_u===void 0?void 0:_u.userVerification)||"preferred",allowCredentials:((Au=Al.passkeyConfig)===null||Au===void 0?void 0:Au.allowCredentials)||[]},walletConfig:_objectSpread2$2({features:_objectSpread2$2({},(Cu=Al.walletConfig)===null||Cu===void 0?void 0:Cu.features),chains:_objectSpread2$2({},(Nu=Al.walletConfig)===null||Nu===void 0?void 0:Nu.chains)},((Du=Al.walletConfig)===null||Du===void 0?void 0:Du.walletConnect)&&{walletConnect:Al.walletConfig.walletConnect}),defaultStamperType:Al.defaultStamperType}),Yu.n=2,Lu.init();case 2:$l(Lu),Yu.n=4;break;case 3:Yu.p=3,Xu=Yu.v,Ul(ClientState.Error),Xu instanceof TurnkeyError||Xu instanceof TurnkeyNetworkError?Xs==null||(Uu=Xs.onError)===null||Uu===void 0||Uu.call(Xs,Xu):Xs==null||(Wu=Xs.onError)===null||Wu===void 0||Wu.call(Xs,new TurnkeyError("Failed to initialize Turnkey client",TurnkeyErrorCodes.INITIALIZE_CLIENT_ERROR,Xu));case 4:return Yu.a(2)}},Ql,null,[[1,3]])}));return function(){return Ou.apply(this,arguments)}}(),Ap=function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(){var zl,Jl,_u,Au,Cu,Nu,Du,Lu;return _regenerator().w(function(Uu){for(;;)switch(Uu.p=Uu.n){case 0:return Sl(void 0),Hu(void 0),Uu.p=1,Uu.n=2,tm();case 2:if(zl=Uu.v,zl){Uu.n=3;break}return Uu.a(2);case 3:return Uu.n=4,Promise.all(Object.keys(zl).map(function(){var Wu=_asyncToGenerator(_regenerator().m(function Xu(Yu){var ep,Gu,np;return _regenerator().w(function(_h){for(;;)switch(_h.n){case 0:if(ep=zl==null?void 0:zl[Yu],isValidSession(ep)){_h.n=4;break}return _h.n=1,$p({sessionKey:Yu});case 1:return Gu=Yu,_h.n=2,Dp();case 2:if(np=_h.v,Gu!==np){_h.n=3;break}Sl(void 0);case 3:return delete zl[Yu],_h.a(2);case 4:Bp({sessionKey:Yu,expiry:ep.expiry});case 5:return _h.a(2)}},Xu)}));return function(Xu){return Wu.apply(this,arguments)}}()));case 4:return Hu(zl||void 0),Uu.n=5,Js==null?void 0:Js.getActiveSessionKey();case 5:if(Jl=Uu.v,!Jl){Uu.n=8;break}if(zl[Jl]){Uu.n=6;break}return Uu.a(2);case 6:return Sl(zl[Jl]),Uu.n=7,Promise.all([Vu(),function(){return Al!=null&&Al.autoRefreshManagedState?am():[]}()]);case 7:return _u=Uu.v,Au=_slicedToArray$2(_u,2),Cu=Au[1],Cu&&Ol(function(Wu){return mergeWalletsWithoutDuplicates(Wu,Cu)}),Uu.a(2);case 8:Uu.n=10;break;case 9:Uu.p=9,Lu=Uu.v,Lu instanceof TurnkeyError||Lu instanceof TurnkeyNetworkError?Xs==null||(Nu=Xs.onError)===null||Nu===void 0||Nu.call(Xs,Lu):Xs==null||(Du=Xs.onError)===null||Du===void 0||Du.call(Xs,new TurnkeyError("Failed to initialize sessions",TurnkeyErrorCodes.INITIALIZE_SESSION_ERROR,Lu));case 10:return Uu.a(2)}},Ql,null,[[1,9]])}));return function(){return Ou.apply(this,arguments)}}();function Rp(Ou,Ql){return xp.apply(this,arguments)}function xp(){return xp=_asyncToGenerator(_regenerator().m(function Ou(Ql,zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap;return _regenerator().w(function(ip){for(;;)switch(ip.n){case 0:if(ep=function(tp,op){var bp,up=[],Ep=tp==null||(bp=tp.features)===null||bp===void 0?void 0:bp["standard:events"];if(Ep!=null&&Ep.on){var Tp=Ep.on("change",function(){var wp=_asyncToGenerator(_regenerator().m(function lp(Np){return _regenerator().w(function(sp){for(;;)switch(sp.n){case 0:return sp.n=1,op();case 1:return sp.a(2)}},lp)}));return function(lp){return wp.apply(this,arguments)}}());up.push(Tp)}return function(){return up.forEach(function(wp){return wp()})}},Yu=function(tp,op){if(typeof tp.on=="function"){var bp=function(){var Tp=_asyncToGenerator(_regenerator().m(function wp(lp){return _regenerator().w(function(Np){for(;;)switch(Np.n){case 0:return Np.a(2,op())}},wp)}));return function(lp){return Tp.apply(this,arguments)}}(),up=function(){var Tp=_asyncToGenerator(_regenerator().m(function wp(lp){return _regenerator().w(function(Np){for(;;)switch(Np.n){case 0:lp.length===0&&op();case 1:return Np.a(2)}},wp)}));return function(lp){return Tp.apply(this,arguments)}}(),Ep=function(){return op()};return tp.on("chainChanged",bp),tp.on("accountsChanged",up),tp.on("disconnect",Ep),function(){tp.removeListener("chainChanged",bp),tp.removeListener("accountsChanged",up),tp.removeListener("disconnect",Ep)}}},Ql.length!==0){ip.n=1;break}return ip.a(2,function(){});case 1:return Nu=[],Du=function(tp){return tp.interfaceType!==WalletInterfaceType.WalletConnect},Lu=Al!=null&&(Jl=Al.walletConfig)!==null&&Jl!==void 0&&(_u=Jl.chains.ethereum)!==null&&_u!==void 0&&_u.native?Ql.filter(function(cp){return cp.chainInfo.namespace===Chain.Ethereum&&Du(cp)&&cp.connectedAddresses.length>0}):[],Uu=Al!=null&&(Au=Al.walletConfig)!==null&&Au!==void 0&&(Cu=Au.chains.solana)!==null&&Cu!==void 0&&Cu.native?Ql.filter(function(cp){return cp.chainInfo.namespace===Chain.Solana&&Du(cp)&&cp.connectedAddresses.length>0}):[],Wu=Ql.filter(function(cp){return cp.interfaceType===WalletInterfaceType.WalletConnect}),Xu=Wu.find(function(cp){return cp.interfaceType===WalletInterfaceType.WalletConnect}),Lu.forEach(function(cp){var tp=Yu(cp.provider,zl);tp&&Nu.push(tp)}),Uu.forEach(function(cp){var tp=ep(cp.provider,zl);tp&&Nu.push(tp)}),Xu&&(_h=(Gu=Xu.provider)===null||Gu===void 0||(np=Gu.features)===null||np===void 0?void 0:np["standard:events"],_h!=null&&_h.on&&_h!=null&&_h.on&&(ap=_h.on("change",function(){var cp=_asyncToGenerator(_regenerator().m(function tp(op){var bp,up,Ep,Tp,wp;return _regenerator().w(function(lp){for(;;)switch(lp.n){case 0:if((op==null?void 0:op.type)!=="pairingExpired"){lp.n=1;break}return ly(),lp.a(2);case 1:if((op==null?void 0:op.type)!=="failed"){lp.n=2;break}return ly(),Xs==null||(bp=Xs.onError)===null||bp===void 0||bp.call(Xs,new TurnkeyError("WalletConnect initialization failed: ".concat(op.error||"Unknown error"),TurnkeyErrorCodes.WALLET_CONNECT_INITIALIZATION_ERROR,op.error)),lp.a(2);case 2:if((op==null?void 0:op.type)!=="initialized"){lp.n=7;break}return lp.n=3,ly();case 3:return up=lp.v,lp.n=4,yp();case 4:if(Ep=lp.v,!Ep){lp.n=6;break}return Tp=up==null?void 0:up.filter(function(Np){return Np.interfaceType===WalletInterfaceType.WalletConnect}),lp.n=5,am({walletProviders:Tp,connectedOnly:!0});case 5:wp=lp.v,wp.length>0&&Ol(function(Np){return mergeWalletsWithoutDuplicates(Np,wp)});case 6:return lp.a(2);case 7:return lp.n=8,zl();case 8:return lp.a(2)}},tp)}));return function(tp){return cp.apply(this,arguments)}}()),Nu.push(ap))),ip.a(2,function(){Nu.forEach(function(cp){return cp()})})}},Ou)})),xp.apply(this,arguments)}function Gp(Ou){try{Ou?clearKeys(Pu.current,Ou):clearAll(Pu.current)}catch(Jl){if(Jl instanceof TurnkeyError||Jl instanceof TurnkeyNetworkError){var Ql;Xs==null||(Ql=Xs.onError)===null||Ql===void 0||Ql.call(Xs,Jl)}else{var zl;Xs==null||(zl=Xs.onError)===null||zl===void 0||zl.call(Xs,new TurnkeyError("Failed to clear session timeouts",TurnkeyErrorCodes.CLEAR_SESSION_TIMEOUTS_ERROR,Jl))}}}var Cp=function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep;return _regenerator().w(function(Gu){for(;;)switch(Gu.p=Gu.n){case 0:return Jl=zl.method,_u=zl.action,Au=zl.identifier,Cu=zl.appProofs,Gu.p=1,Gu.n=2,Dp();case 2:return Lu=Gu.v,Gu.n=3,yp(_objectSpread2$2({},Lu&&{sessionKey:Lu}));case 3:if(Uu=Gu.v,!(Uu&&Lu)){Gu.n=4;break}return Gu.n=4,Bp({sessionKey:Lu,expiry:Uu.expiry});case 4:return Gu.n=5,Js.getAllSessions();case 5:return Wu=Gu.v,Sl(Uu),Hu(Wu),Gu.n=6,Promise.all([rp(),Vu()]);case 6:if(!((Al==null||(Nu=Al.auth)===null||Nu===void 0?void 0:Nu.verifyWalletOnSignup)===!0&&Cu&&Cu.length>0&&_u===AuthAction.SIGNUP)){Gu.n=7;break}return Gu.n=7,i0({appProofs:Cu});case 7:Xs==null||(Du=Xs.onAuthenticationSuccess)===null||Du===void 0||Du.call(Xs,{session:Uu,method:Jl,action:_u,identifier:Au}),Gu.n=9;break;case 8:Gu.p=8,ep=Gu.v,ep instanceof TurnkeyError||ep instanceof TurnkeyNetworkError?Xs==null||(Xu=Xs.onError)===null||Xu===void 0||Xu.call(Xs,ep):Xs==null||(Yu=Xs.onError)===null||Yu===void 0||Yu.call(Xs,new TurnkeyError("Failed to handle post-authentication",TurnkeyErrorCodes.HANDLE_POST_AUTH_ERROR,ep));case 9:return Gu.a(2)}},Ql,null,[[1,8]])}));return function(zl){return Ou.apply(this,arguments)}}(),em=function(Ql){try{Gp(Ql?[Ql,"".concat(Ql,"-warning")]:void 0),Hu(function(Jl){if(!Jl)return Jl;if(Ql){var _u=_objectSpread2$2({},Jl);return delete _u[Ql],_u}return{}}),Sl(void 0),Wl(void 0),Ol([])}catch(Jl){var zl;Xs==null||(zl=Xs.onError)===null||zl===void 0||zl.call(Xs,new TurnkeyError("Failed to initialize sessions",TurnkeyErrorCodes.HANDLE_POST_LOGOUT_ERROR,Jl))}},dm=reactExports.useCallback(function(Ou){if(!Js)throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);return Js.createHttpClient(Ou)},[Js]),Dp=reactExports.useCallback(_asyncToGenerator(_regenerator().m(function Ou(){return _regenerator().w(function(Ql){for(;;)switch(Ql.n){case 0:if(Js){Ql.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Ql.a(2,withTurnkeyErrorHandling(function(){return Js.getActiveSessionKey()},void 0,Xs,"Failed to get active session key"))}},Ou)})),[Js,Xs]),Qu=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.n=2,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function _u(){var Au;return _regenerator().w(function(Cu){for(;;)switch(Cu.n){case 0:if(Au=zl==null?void 0:zl.sessionKey,Au){Cu.n=2;break}return Cu.n=1,Dp();case 1:Au=Cu.v;case 2:return Cu.n=3,Js.logout(zl);case 3:Au&&em(Au);case 4:return Cu.a(2)}},_u)})),void 0,Xs,"Failed to logout");case 2:return Jl.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Dp]),yp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.getSession(zl)},void 0,Xs,"Failed to get session"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),tm=reactExports.useCallback(_asyncToGenerator(_regenerator().m(function Ou(){return _regenerator().w(function(Ql){for(;;)switch(Ql.n){case 0:if(Js){Ql.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Ql.a(2,withTurnkeyErrorHandling(function(){return Js.getAllSessions()},void 0,Xs,"Failed to get all sessions"))}},Ou)})),[Js,Xs]),Am=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.createPasskey(_objectSpread2$2({},zl))},void 0,Xs,"Failed to create passkey"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),ym=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchUser(zl)},function(){return Qu()},Xs,"Failed to fetch user"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),vm=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function _u(){var Au;return _regenerator().w(function(Cu){for(;;)switch(Cu.n){case 0:return Cu.n=1,Js.fetchWalletProviders(zl);case 1:return Au=Cu.v,$u(Au),Cu.a(2,Au)}},_u)})),void 0,Xs,"Failed to fetch wallet providers"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),am=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchWallets(zl)},function(){return Qu()},Xs,"Failed to fetch wallets"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),zu=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:if(Jl=zl||{},_u=Jl.stampWith,Au=Jl.organizationId,Cu=Jl.userId,Js){Du.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Du.n=2,withTurnkeyErrorHandling(function(){return ym(_objectSpread2$2(_objectSpread2$2({stampWith:_u},Au&&{organizationId:Au}),Cu&&{userId:Cu}))},function(){return Qu()},Xs,"Failed to refresh user");case 2:Nu=Du.v,Nu&&Wl(Nu);case 3:return Du.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,ym,Qu]),Vu=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Al!=null&&Al.autoRefreshManagedState){Jl.n=1;break}return Jl.a(2);case 1:return Jl.a(2,zu(zl))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Al,zu]),Ju=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du;return _regenerator().w(function(Lu){for(;;)switch(Lu.n){case 0:if(Jl=zl||{},_u=Jl.stampWith,Au=Jl.organizationId,Cu=Jl.userId,Js){Lu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Lu.n=2,withTurnkeyErrorHandling(function(){return vm()},void 0,Xs,"Failed to refresh wallets");case 2:return Nu=Lu.v,Lu.n=3,withTurnkeyErrorHandling(function(){return am(_objectSpread2$2(_objectSpread2$2({stampWith:_u,walletProviders:Nu},Au&&{organizationId:Au}),Cu&&{userId:Cu}))},function(){return Qu()},Xs,"Failed to refresh wallets");case 3:return Du=Lu.v,Du&&Ol(Du),Lu.a(2,Du)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,vm,am,Qu]),rp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Al!=null&&Al.autoRefreshManagedState){Jl.n=1;break}return Jl.a(2,[]);case 1:return Jl.a(2,Ju(zl))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Al,Ju]),$p=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu;return _regenerator().w(function(Nu){for(;;)switch(Nu.n){case 0:if(Js){Nu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Nu.n=2,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function Du(){return _regenerator().w(function(Lu){for(;;)switch(Lu.n){case 0:return Lu.a(2,Js.clearSession(zl))}},Du)})),void 0,Xs,"Failed to clear session");case 2:if(!((Jl=zl==null?void 0:zl.sessionKey)!==null&&Jl!==void 0)){Nu.n=3;break}Cu=Jl,Nu.n=5;break;case 3:return Nu.n=4,Dp();case 4:Cu=Nu.v;case 5:if(_u=Cu,_u){Nu.n=6;break}return Nu.a(2);case 6:return zl!=null&&zl.sessionKey||Sl(void 0),Gp([_u]),Au=_objectSpread2$2({},Mu),Au&&delete Au[_u],Hu(Au),Nu.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Dp,Mu]),Bp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep;return _regenerator().w(function(Gu){for(;;)switch(Gu.p=Gu.n){case 0:if(Jl=zl.sessionKey,_u=zl.expiry,Gu.p=1,Au="".concat(Jl,"-warning"),clearKey(Pu.current,Jl),clearKey(Pu.current,Au),Cu=Date.now(),Nu=_u*1e3,Du=Nu-Cu,Lu=function(){var np=_asyncToGenerator(_regenerator().m(function _h(){var ap,ip,cp,tp;return _regenerator().w(function(op){for(;;)switch(op.n){case 0:return op.n=1,yp();case 1:if(cp=op.v,!(!cp&&Pu.current[Au])){op.n=2;break}return setTimeoutInMap(Pu.current,Au,Lu,1e4),op.a(2);case 2:return op.n=3,yp({sessionKey:Jl});case 3:if(tp=op.v,tp){op.n=4;break}return op.a(2);case 4:if(Xs==null||(ap=Xs.beforeSessionExpiry)===null||ap===void 0||ap.call(Xs,{sessionKey:Jl}),!(Al!=null&&(ip=Al.auth)!==null&&ip!==void 0&&ip.autoRefreshSession)){op.n=5;break}return op.n=5,Kp({expirationSeconds:tp.expirationSeconds,sessionKey:Jl});case 5:return op.a(2)}},_h)}));return function(){return np.apply(this,arguments)}}(),Uu=function(){var np=_asyncToGenerator(_regenerator().m(function _h(){var ap,ip,cp,tp;return _regenerator().w(function(op){for(;;)switch(op.n){case 0:return op.n=1,yp({sessionKey:Jl});case 1:if(ip=op.v,ip){op.n=2;break}return op.a(2);case 2:return Xs==null||(ap=Xs.onSessionExpired)===null||ap===void 0||ap.call(Xs,{sessionKey:Jl}),op.n=3,Dp();case 3:if(cp=op.v,tp=Jl,cp!==tp){op.n=4;break}Sl(void 0);case 4:return Hu(function(bp){if(!bp)return bp;var up=_objectSpread2$2({},bp);return delete up[Jl],up}),op.n=5,$p({sessionKey:Jl});case 5:return clearKey(Pu.current,Jl),clearKey(Pu.current,Au),op.n=6,Qu();case 6:return op.a(2)}},_h)}));return function(){return np.apply(this,arguments)}}(),!(Du<=0)){Gu.n=3;break}return Gu.n=2,Uu();case 2:return Gu.a(2);case 3:Wu=Nu-SESSION_WARNING_THRESHOLD_MS,Wu<=Cu?Lu():setCappedTimeoutInMap(Pu.current,Au,Lu,Wu-Cu),setCappedTimeoutInMap(Pu.current,Jl,Uu,Du),Gu.n=5;break;case 4:Gu.p=4,ep=Gu.v,ep instanceof TurnkeyError||ep instanceof TurnkeyNetworkError?Xs==null||(Xu=Xs.onError)===null||Xu===void 0||Xu.call(Xs,ep):Xs==null||(Yu=Xs.onError)===null||Yu===void 0||Yu.call(Xs,new TurnkeyError("Failed to schedule session expiration for ".concat(Jl),TurnkeyErrorCodes.SCHEDULE_SESSION_EXPIRY_ERROR,ep));case 5:return Gu.a(2)}},Ql,null,[[1,4]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Xs,Al,yp,Dp,$p,Qu]),Kp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du;return _regenerator().w(function(Lu){for(;;)switch(Lu.n){case 0:if(Js){Lu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Lu.n=2,Js.getActiveSessionKey();case 2:if(_u=Lu.v,_u){Lu.n=3;break}throw new TurnkeyError("No active session found.",TurnkeyErrorCodes.NO_SESSION_FOUND);case 3:return Au=(Jl=zl==null?void 0:zl.sessionKey)!==null&&Jl!==void 0?Jl:_u,Lu.n=4,withTurnkeyErrorHandling(function(){return Js.refreshSession(_objectSpread2$2({},zl))},function(){return Qu()},Xs,"Failed to refresh session");case 4:return Cu=Lu.v,Lu.n=5,yp({sessionKey:Au});case 5:if(Nu=Lu.v,!(Nu&&Au)){Lu.n=6;break}return Lu.n=6,Bp({sessionKey:Au,expiry:Nu.expiry});case 6:return Lu.n=7,tm();case 7:return Du=Lu.v,Sl(Nu),Hu(Du),Lu.a(2,Cu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,yp,Bp,tm]),Ip=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:if(Js){Du.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Cu=(Jl=(_u=zl==null?void 0:zl.expirationSeconds)!==null&&_u!==void 0?_u:Al==null||(Au=Al.auth)===null||Au===void 0?void 0:Au.sessionExpirationSeconds)!==null&&Jl!==void 0?Jl:DEFAULT_SESSION_EXPIRATION_IN_SECONDS,Du.n=2,withTurnkeyErrorHandling(function(){return Js.loginWithPasskey(_objectSpread2$2(_objectSpread2$2({},zl),{},{expirationSeconds:Cu}))},function(){return Qu()},Xs,"Failed to login with passkey");case 2:if(Nu=Du.v,!Nu){Du.n=3;break}return Du.n=3,Cp({method:AuthMethod.Passkey,action:AuthAction.LOGIN,identifier:Nu.credentialId,appProofs:Nu.appProofs});case 3:return Du.a(2,Nu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Al,Qu,Cp]),fp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op;return _regenerator().w(function(bp){for(;;)switch(bp.n){case 0:if(Js){bp.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){bp.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return _h=(Jl=(_u=zl)===null||_u===void 0?void 0:_u.createSubOrgParams)!==null&&Jl!==void 0?Jl:(Au=Al.auth)===null||Au===void 0||(Cu=Au.createSuborgParams)===null||Cu===void 0?void 0:Cu.passkeyAuth,zl=_h!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:_h}):_objectSpread2$2({},zl),ap=(Nu=(Du=(Lu=zl)===null||Lu===void 0?void 0:Lu.expirationSeconds)!==null&&Du!==void 0?Du:Al==null||(Uu=Al.auth)===null||Uu===void 0?void 0:Uu.sessionExpirationSeconds)!==null&&Nu!==void 0?Nu:DEFAULT_SESSION_EXPIRATION_IN_SECONDS,ip=window.location.hostname,cp=new Date().toLocaleDateString()+"-"+new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),tp=(Wu=(Xu=(Yu=zl)===null||Yu===void 0?void 0:Yu.passkeyDisplayName)!==null&&Xu!==void 0?Xu:(ep=Al.auth)===null||ep===void 0||(Gu=ep.createSuborgParams)===null||Gu===void 0||(np=Gu.passkeyAuth)===null||np===void 0?void 0:np.passkeyName)!==null&&Wu!==void 0?Wu:"".concat(ip,"-").concat(cp),bp.n=3,withTurnkeyErrorHandling(function(){return Js.signUpWithPasskey(_objectSpread2$2(_objectSpread2$2({},zl),{},{passkeyDisplayName:tp,expirationSeconds:ap}))},function(){return Qu()},Xs,"Failed to sign up with passkey");case 3:if(op=bp.v,!op){bp.n=4;break}return bp.n=4,Cp({method:AuthMethod.Passkey,action:AuthAction.SIGNUP,identifier:op.credentialId,appProofs:op.appProofs});case 4:return bp.a(2,op)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Cp,Al]),hp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function _u(){var Au,Cu,Nu,Du,Lu;return _regenerator().w(function(Uu){for(;;)switch(Uu.n){case 0:return Uu.n=1,Js.connectWalletAccount(zl);case 1:return Au=Uu.v,Uu.n=2,yp();case 2:if(Nu=Uu.v,!Nu){Uu.n=4;break}return Uu.n=3,rp();case 3:Cu=Uu.v,Uu.n=6;break;case 4:return Uu.n=5,am({connectedOnly:!0});case 5:Cu=Uu.v;case 6:if(Du=Cu.filter(function(Wu){return Wu.source===WalletSource.Connected}),Lu=Du.flatMap(function(Wu){return Wu.accounts}).find(function(Wu){return Wu.address===Au}),Lu){Uu.n=7;break}throw new TurnkeyError("No connected wallet account found for address: ".concat(Au),TurnkeyErrorCodes.NO_WALLET_FOUND);case 7:return Uu.a(2,Lu)}},_u)})),function(){return Qu()},Xs,"Failed to connect wallet account"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,yp,Qu,rp,am]),gp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.n=2,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function _u(){return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:return Au.n=1,Js.disconnectWalletAccount(zl);case 1:return Au.a(2)}},_u)})),void 0,Xs,"Failed to disconnect wallet account");case 2:return Jl.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),pp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.n=2,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function _u(){return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:return Au.n=1,Js.switchWalletAccountChain(_objectSpread2$2(_objectSpread2$2({},zl),{},{walletProviders:Su}));case 1:return Au.a(2)}},_u)})),void 0,Xs,"Failed to switch wallet account chain");case 2:return Jl.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Su,Xs]),dp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu;return _regenerator().w(function(Nu){for(;;)switch(Nu.n){case 0:if(Js){Nu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Cu=(Jl=(_u=zl==null?void 0:zl.expirationSeconds)!==null&&_u!==void 0?_u:Al==null||(Au=Al.auth)===null||Au===void 0?void 0:Au.sessionExpirationSeconds)!==null&&Jl!==void 0?Jl:DEFAULT_SESSION_EXPIRATION_IN_SECONDS,Nu.n=2,withTurnkeyErrorHandling(function(){return Js.buildWalletLoginRequest(_objectSpread2$2(_objectSpread2$2({},zl),{},{expirationSeconds:Cu}))},void 0,Xs,"Failed to login with wallet");case 2:return Nu.a(2,Nu.v)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Al]),Hp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:if(Js){Du.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Cu=(Jl=(_u=zl==null?void 0:zl.expirationSeconds)!==null&&_u!==void 0?_u:Al==null||(Au=Al.auth)===null||Au===void 0?void 0:Au.sessionExpirationSeconds)!==null&&Jl!==void 0?Jl:DEFAULT_SESSION_EXPIRATION_IN_SECONDS,Du.n=2,withTurnkeyErrorHandling(function(){return Js.loginWithWallet(_objectSpread2$2(_objectSpread2$2({},zl),{},{expirationSeconds:Cu}))},void 0,Xs,"Failed to login with wallet");case 2:if(Nu=Du.v,!Nu){Du.n=3;break}return Du.n=3,Cp({method:AuthMethod.Wallet,action:AuthAction.LOGIN,identifier:Nu.address,appProofs:Nu.appProofs});case 3:return Du.a(2,Nu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp,Al]),Xp=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu;return _regenerator().w(function(Yu){for(;;)switch(Yu.n){case 0:if(Js){Yu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){Yu.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return Uu=(Jl=zl.createSubOrgParams)!==null&&Jl!==void 0?Jl:(_u=Al.auth)===null||_u===void 0||(Au=_u.createSuborgParams)===null||Au===void 0?void 0:Au.walletAuth,zl=Uu!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:Uu}):_objectSpread2$2({},zl),Wu=(Cu=(Nu=(Du=zl)===null||Du===void 0?void 0:Du.expirationSeconds)!==null&&Nu!==void 0?Nu:Al==null||(Lu=Al.auth)===null||Lu===void 0?void 0:Lu.sessionExpirationSeconds)!==null&&Cu!==void 0?Cu:DEFAULT_SESSION_EXPIRATION_IN_SECONDS,Yu.n=3,withTurnkeyErrorHandling(function(){return Js.signUpWithWallet(_objectSpread2$2(_objectSpread2$2({},zl),{},{expirationSeconds:Wu}))},void 0,Xs,"Failed to sign up with wallet");case 3:if(Xu=Yu.v,!Xu){Yu.n=4;break}return Yu.n=4,Cp({method:AuthMethod.Wallet,action:AuthAction.SIGNUP,identifier:Xu.address,appProofs:Xu.appProofs});case 4:return Yu.a(2,Xu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp,Al]),um=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu;return _regenerator().w(function(Yu){for(;;)switch(Yu.n){case 0:if(Js){Yu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){Yu.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return Uu=(Jl=zl.createSubOrgParams)!==null&&Jl!==void 0?Jl:(_u=Al.auth)===null||_u===void 0||(Au=_u.createSuborgParams)===null||Au===void 0?void 0:Au.walletAuth,zl=Uu!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:Uu}):_objectSpread2$2({},zl),Wu=(Cu=(Nu=(Du=zl)===null||Du===void 0?void 0:Du.expirationSeconds)!==null&&Nu!==void 0?Nu:Al==null||(Lu=Al.auth)===null||Lu===void 0?void 0:Lu.sessionExpirationSeconds)!==null&&Cu!==void 0?Cu:DEFAULT_SESSION_EXPIRATION_IN_SECONDS,Yu.n=3,withTurnkeyErrorHandling(function(){return Js.loginOrSignupWithWallet(_objectSpread2$2(_objectSpread2$2({},zl),{},{expirationSeconds:Wu}))},void 0,Xs,"Failed to login or sign up with wallet");case 3:if(Xu=Yu.v,!Xu){Yu.n=4;break}return Yu.n=4,Cp({method:AuthMethod.Wallet,action:Xu.action,identifier:Xu.address,appProofs:Xu.appProofs});case 4:return Yu.a(2,Xu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp,Al]),fm=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.initOtp(zl)},void 0,Xs,"Failed to initialize OTP"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),gm=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.verifyOtp(zl)},void 0,Xs,"Failed to verify OTP"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),Fm=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.loginWithOtp(zl)},void 0,Xs,"Failed to login with OTP");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Cp({method:AuthMethod.Otp,action:AuthAction.LOGIN,identifier:zl.verificationToken,appProofs:Jl.appProofs});case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp]),iy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au;return _regenerator().w(function(Cu){for(;;)switch(Cu.n){case 0:if(Js){Cu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){Cu.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return _u=zl.createSubOrgParams,!_u&&Al!==null&&Al!==void 0&&(Jl=Al.auth)!==null&&Jl!==void 0&&Jl.createSuborgParams&&(zl.otpType===OtpType.Email?_u=Al.auth.createSuborgParams.emailOtpAuth:zl.otpType===OtpType.Sms&&(_u=Al.auth.createSuborgParams.smsOtpAuth)),zl=_u!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:_u}):_objectSpread2$2({},zl),Cu.n=3,withTurnkeyErrorHandling(function(){return Js.signUpWithOtp(zl)},void 0,Xs,"Failed to sign up with OTP");case 3:if(Au=Cu.v,!Au){Cu.n=4;break}return Cu.n=4,Cp({method:AuthMethod.Otp,action:AuthAction.SIGNUP,identifier:zl.verificationToken,appProofs:Au.appProofs});case 4:return Cu.a(2,Au)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Al,Cp]),uy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au;return _regenerator().w(function(Cu){for(;;)switch(Cu.n){case 0:if(Js){Cu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){Cu.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return _u=zl.createSubOrgParams,!_u&&Al!==null&&Al!==void 0&&(Jl=Al.auth)!==null&&Jl!==void 0&&Jl.createSuborgParams&&(zl.otpType===OtpType.Email?_u=Al.auth.createSuborgParams.emailOtpAuth:zl.otpType===OtpType.Sms&&(_u=Al.auth.createSuborgParams.smsOtpAuth)),zl=_u!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:_u}):_objectSpread2$2({},zl),Cu.n=3,withTurnkeyErrorHandling(function(){return Js.completeOtp(zl)},void 0,Xs,"Failed to complete OTP");case 3:if(Au=Cu.v,!Au){Cu.n=4;break}return Cu.n=4,Cp({method:AuthMethod.Otp,action:Au.action,identifier:Au.verificationToken,appProofs:Au.appProofs});case 4:return Cu.a(2,Au)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp,Al]),xm=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.loginWithOauth(zl)},void 0,Xs,"Failed to login with OAuth");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Cp({method:AuthMethod.Oauth,action:AuthAction.LOGIN,identifier:zl.oidcToken,appProofs:Jl.appProofs});case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp]),m0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:if(Js){Du.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){Du.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return Cu=(Jl=zl.createSubOrgParams)!==null&&Jl!==void 0?Jl:(_u=Al.auth)===null||_u===void 0||(Au=_u.createSuborgParams)===null||Au===void 0?void 0:Au.oauth,zl=Cu!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:Cu}):_objectSpread2$2({},zl),Du.n=3,withTurnkeyErrorHandling(function(){return Js.signUpWithOauth(zl)},void 0,Xs,"Failed to sign up with OAuth");case 3:if(Nu=Du.v,!Nu){Du.n=4;break}return Du.n=4,Cp({method:AuthMethod.Oauth,action:AuthAction.SIGNUP,identifier:zl.oidcToken,appProofs:Nu.appProofs});case 4:return Du.a(2,Nu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Cp,Al]),$m=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:if(Js){Du.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){Du.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:return Cu=(Jl=zl.createSubOrgParams)!==null&&Jl!==void 0?Jl:(_u=Al.auth)===null||_u===void 0||(Au=_u.createSuborgParams)===null||Au===void 0?void 0:Au.oauth,zl=Cu!==void 0?_objectSpread2$2(_objectSpread2$2({},zl),{},{createSubOrgParams:Cu}):_objectSpread2$2({},zl),Du.n=3,withTurnkeyErrorHandling(function(){return Js.completeOauth(zl)},void 0,Xs,"Failed to complete OAuth");case 3:if(Nu=Du.v,!Nu){Du.n=4;break}return Du.n=4,Cp({method:AuthMethod.Oauth,action:Nu.action,identifier:zl.oidcToken,appProofs:Nu.appProofs});case 4:return Du.a(2,Nu)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Al,Cp]),y0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchWalletAccounts(zl)},function(){return Qu()},Xs,"Failed to fetch wallet accounts"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),v0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchPrivateKeys(zl)},function(){return Qu()},Xs,"Failed to fetch private keys"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),$0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.signMessage(zl)},function(){return Qu()},Xs,"Failed to sign message"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),b0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Jl=zl.successPageDuration,_u=Jl===void 0?2e3:Jl,Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.a(2,new Promise(function(Cu,Nu){ju({key:"Sign message",content:jsxRuntimeExports.jsx(SignMessageModal,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({message:zl.message,subText:zl==null?void 0:zl.subText,walletAccount:zl.walletAccount,stampWith:zl.stampWith,successPageDuration:_u,onSuccess:function(Lu){Cu(Lu)},onError:function(Lu){Nu(Lu)}},(zl==null?void 0:zl.encoding)&&{encoding:zl.encoding}),(zl==null?void 0:zl.hashFunction)&&{hashFunction:zl.hashFunction}),(zl==null?void 0:zl.addEthereumPrefix)&&{addEthereumPrefix:zl.addEthereumPrefix}),(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId})),onClose:function(){return Nu(new TurnkeyError("User canceled the signing process.",TurnkeyErrorCodes.USER_CANCELED))}})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,ju]),E0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.signTransaction(zl)},function(){return Qu()},Xs,"Failed to sign transaction"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),r0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.ethSendTransaction(zl)},function(){return Qu()},Xs,"Failed to send eth transaction"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),w0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.signAndSendTransaction(zl)},function(){return Qu()},Xs,"Failed to sign and send transaction"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),n0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.pollTransactionStatus(zl)},function(){return Qu()},Xs,"Failed to poll transaction status"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),_0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchOrCreateP256ApiKeyUser(zl)},function(){return Qu()},Xs,"Failed to fetch or create delegated access user"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),S0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchOrCreatePolicies(zl)},function(){return Qu()},Xs,"Failed to fetch or create delegated access user"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),sy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.updateUserEmail(zl)},function(){return Qu()},Xs,"Failed to update user email");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),A0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.removeUserEmail(zl)},function(){return Qu()},Xs,"Failed to remove user email");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),ay=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.updateUserPhoneNumber(zl)},function(){return Qu()},Xs,"Failed to update user phone number");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),T0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.removeUserPhoneNumber(zl)},function(){return Qu()},Xs,"Failed to remove user phone number");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),hy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.updateUserName(zl)},function(){return Qu()},Xs,"Failed to update user name");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),py=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.addOauthProvider(zl)},function(){return Qu()},Xs,"Failed to add OAuth provider");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),I0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.removeOauthProviders(zl)},function(){return Qu()},Xs,"Failed to remove OAuth providers");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),gy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.addPasskey(zl)},function(){return Qu()},Xs,"Failed to add passkey");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),x0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.removePasskeys(zl)},function(){return Qu()},Xs,"Failed to remove passkeys");case 2:if(Jl=_u.v,!Jl){_u.n=3;break}return _u.n=3,Vu(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 3:return _u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Vu]),C0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.n=2,withTurnkeyErrorHandling(function(){return Js.createWallet(zl)},function(){return Qu()},Xs,"Failed to create wallet");case 2:return Jl=Au.v,Au.n=3,yp();case 3:if(_u=Au.v,!(Jl&&_u)){Au.n=4;break}return Au.n=4,rp(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}));case 4:return Au.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,_l,Xs,Qu,rp,yp]),P0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.n=2,withTurnkeyErrorHandling(function(){return Js.createWalletAccounts(zl)},function(){return Qu()},Xs,"Failed to create wallet accounts");case 2:return Jl=Au.v,Au.n=3,yp();case 3:if(_u=Au.v,!(Jl&&_u)){Au.n=4;break}return Au.n=4,rp(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}));case 4:return Au.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,_l,Xs,Qu,yp,rp]),k0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.n=2,withTurnkeyErrorHandling(function(){return Js.exportWallet(zl)},function(){return Qu()},Xs,"Failed to export wallet");case 2:return Jl=Au.v,Au.n=3,yp();case 3:if(_u=Au.v,!(Jl&&_u)){Au.n=4;break}return Au.n=4,rp(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}));case 4:return Au.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,_l,Xs,Qu,yp,rp]),R0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.exportPrivateKey(zl)},function(){return Qu()},Xs,"Failed to export private key");case 2:return Jl=_u.v,_u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),N0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.n=2,withTurnkeyErrorHandling(function(){return Js.exportWalletAccount(zl)},function(){return Qu()},Xs,"Failed to export wallet accounts");case 2:return Jl=Au.v,Au.n=3,yp();case 3:if(_u=Au.v,!(Jl&&_u)){Au.n=4;break}return Au.n=4,rp(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}));case 4:return Au.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,yp,rp]),O0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.n=2,withTurnkeyErrorHandling(function(){return Js.importWallet(zl)},function(){return Qu()},Xs,"Failed to import wallet");case 2:return Jl=Au.v,Au.n=3,yp();case 3:if(_u=Au.v,!(Jl&&_u)){Au.n=4;break}return Au.n=4,rp(_objectSpread2$2(_objectSpread2$2({stampWith:zl==null?void 0:zl.stampWith},(zl==null?void 0:zl.organizationId)&&{organizationId:zl.organizationId}),(zl==null?void 0:zl.userId)&&{userId:zl.userId}));case 4:return Au.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,yp,rp]),D0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.n){case 0:if(Js){_u.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return _u.n=2,withTurnkeyErrorHandling(function(){return Js.importPrivateKey(zl)},function(){return Qu()},Xs,"Failed to import private key");case 2:return Jl=_u.v,_u.a(2,Jl)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),B0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.deleteSubOrganization(zl)},function(){return Qu()},Xs,"Failed to delete sub-organization"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),M0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au;return _regenerator().w(function(Cu){for(;;)switch(Cu.n){case 0:if(Js){Cu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Cu.n=2,withTurnkeyErrorHandling(function(){return Js.storeSession(zl)},function(){return Qu()},Xs,"Failed to store session");case 2:return Cu.n=3,Dp();case 3:return Jl=Cu.v,Cu.n=4,yp(_objectSpread2$2({},Jl&&{sessionKey:Jl}));case 4:if(_u=Cu.v,!(_u&&Jl)){Cu.n=5;break}return Cu.n=5,Bp({sessionKey:Jl,expiry:_u.expiry});case 5:return Cu.n=6,tm();case 6:return Au=Cu.v,Sl(_u),Hu(Au),Cu.n=7,Promise.all([rp(),Vu()]);case 7:return Cu.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,Dp,yp,Bp,tm,rp,Vu]),L0=reactExports.useCallback(_asyncToGenerator(_regenerator().m(function Ou(){return _regenerator().w(function(Ql){for(;;)switch(Ql.n){case 0:if(Js){Ql.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Sl(void 0),Hu(void 0),Gp(),Ql.n=2,withTurnkeyErrorHandling(function(){return Js.clearAllSessions()},function(){return Qu()},Xs,"Failed to clear all sessions");case 2:return Ql.a(2,Ql.v)}},Ou)})),[Js,Xs,Qu,Gp]),F0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:if(Js){Au.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Au.n=2,withTurnkeyErrorHandling(function(){return Js.getSession({sessionKey:zl.sessionKey})},function(){return Qu()},Xs,"Failed to get session");case 2:return Jl=Au.v,Au.n=3,yp();case 3:if(_u=Au.v,_u){Au.n=4;break}throw new TurnkeyError("Session not found.",TurnkeyErrorCodes.NOT_FOUND);case 4:return Au.n=5,withTurnkeyErrorHandling(function(){return Js.setActiveSession(zl)},function(){return Qu()},Xs,"Failed to set active session");case 5:return Sl(Jl),Au.n=6,withTurnkeyErrorHandling(_asyncToGenerator(_regenerator().m(function Cu(){return _regenerator().w(function(Nu){for(;;)switch(Nu.n){case 0:return Nu.n=1,Promise.all([rp(),Vu()]);case 1:return Nu.a(2)}},Cu)})),function(){return Qu()},Xs,"Failed to refresh data after setting active session");case 6:return Au.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu,yp,rp,Vu]),U0=reactExports.useCallback(_asyncToGenerator(_regenerator().m(function Ou(){return _regenerator().w(function(Ql){for(;;)switch(Ql.n){case 0:if(Js){Ql.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Ql.a(2,withTurnkeyErrorHandling(function(){return Js.clearUnusedKeyPairs()},void 0,Xs,"Failed to clear unused key pairs"))}},Ou)})),[Js,Xs]),Cm=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.createApiKeyPair(zl)},void 0,Xs,"Failed to create API key pair"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs]),j0=reactExports.useCallback(_asyncToGenerator(_regenerator().m(function Ou(){return _regenerator().w(function(Ql){for(;;)switch(Ql.n){case 0:if(Js){Ql.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Ql.a(2,withTurnkeyErrorHandling(function(){return Js.getProxyAuthConfig()},void 0,Xs,"Failed to get proxy auth config"))}},Ou)})),[Js,Xs]),z0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.fetchBootProofForAppProof(zl)},function(){return Qu()},Xs,"Failed to fetch or create delegated access user"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),V0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){return _regenerator().w(function(Jl){for(;;)switch(Jl.n){case 0:if(Js){Jl.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl.a(2,withTurnkeyErrorHandling(function(){return Js.verifyAppProofs(zl)},function(){return Qu()},Xs,"Failed to verify app proofs"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,Qu]),my=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np,sp,Lp;return _regenerator().w(function(mp){for(;;)switch(mp.p=mp.n){case 0:if(Du=zl||{},Lu=Du.clientId,Uu=Lu===void 0?Al==null||(Jl=Al.auth)===null||Jl===void 0||(_u=Jl.oauthConfig)===null||_u===void 0?void 0:_u.discordClientId:Lu,Wu=Du.openInPage,Xu=Wu===void 0?(Au=Al==null||(Cu=Al.auth)===null||Cu===void 0||(Nu=Cu.oauthConfig)===null||Nu===void 0?void 0:Nu.openOauthInPage)!==null&&Au!==void 0?Au:!1:Wu,Yu=Du.additionalState,mp.p=1,Al){mp.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:if(Uu){mp.n=3;break}throw new TurnkeyError("Discord Client ID is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 3:if((ep=Al.auth)!==null&&ep!==void 0&&(Gu=ep.oauthConfig)!==null&&Gu!==void 0&&Gu.oauthRedirectUri){mp.n=4;break}throw new TurnkeyError("OAuth Redirect URI is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 4:return _h=Xu?"redirect":"popup",ap=(np=Al.auth)===null||np===void 0?void 0:np.oauthConfig.oauthRedirectUri,mp.n=5,Cm();case 5:if(ip=mp.v,ip){mp.n=6;break}throw new Error("Failed to create public key for OAuth.");case 6:return cp=bytesToHex$5(sha256$3(ip)),mp.n=7,generateChallengePair();case 7:if(tp=mp.v,op=tp.verifier,bp=tp.codeChallenge,sessionStorage.setItem("discord_verifier",op),up=new URL(DISCORD_AUTH_URL),up.searchParams.set("client_id",Uu),up.searchParams.set("redirect_uri",ap),up.searchParams.set("response_type","code"),up.searchParams.set("code_challenge",bp),up.searchParams.set("code_challenge_method","S256"),up.searchParams.set("scope","identify email"),up.searchParams.set("state","provider=discord&flow=".concat(_h,"&publicKey=").concat(encodeURIComponent(ip),"&nonce=").concat(cp)),Yu&&(Ep=Object.entries(Yu).map(function(_p){var Pp=_slicedToArray$2(_p,2),kp=Pp[0],jp=Pp[1];return"".concat(encodeURIComponent(kp),"=").concat(encodeURIComponent(jp))}).join("&"),Ep&&up.searchParams.set("state",up.searchParams.get("state")+"&".concat(Ep))),!Xu){mp.n=8;break}return window.location.href=up.toString(),mp.a(2,new Promise(function(_p,Pp){var kp=setTimeout(function(){Pp(new Error("Authentication timed out."))},3e5);window.addEventListener("beforeunload",function(){return clearTimeout(kp)})}));case 8:if(Tp=popupWidth,wp=popupHeight,lp=window.screenX+(window.innerWidth-Tp)/2,Np=window.screenY+(window.innerHeight-wp)/2,sp=window.open("about:blank","_blank","width=".concat(Tp,",height=").concat(wp,",top=").concat(Np,",left=").concat(lp,",scrollbars=yes,resizable=yes")),sp){mp.n=9;break}throw new Error("Failed to open Discord login window.");case 9:return sp.location.href=up.toString(),mp.a(2,new Promise(function(_p,Pp){var kp=setInterval(function(){try{if(sp.closed){clearInterval(kp),Pp(new Error("Authentication window was closed."));return}var jp=sp.location.href||"";if(jp.startsWith(window.location.origin)){var zp,Wp=new URLSearchParams(new URL(jp).search),qp=Wp.get("code"),Op=Wp.get("state"),Yp=Op==null||(zp=Op.split("&").find(function(rm){return rm.startsWith("sessionKey=")}))===null||zp===void 0?void 0:zp.split("=")[1];if(qp&&Op&&Op.includes("provider=discord")){sp.close(),clearInterval(kp);var sm=sessionStorage.getItem("discord_verifier");if(!sm){Pp(new Error("Missing PKCE verifier"));return}Js==null||Js.httpClient.proxyOAuth2Authenticate({provider:"OAUTH2_PROVIDER_DISCORD",authCode:qp,redirectUri:ap,codeVerifier:sm,clientId:Uu,nonce:cp}).then(function(rm){sessionStorage.removeItem("discord_verifier");var nm=rm.oidcToken;if(zl!=null&&zl.onOauthSuccess)zl.onOauthSuccess(_objectSpread2$2({publicKey:ip,oidcToken:nm,providerName:"discord"},Yp&&{sessionKey:Yp}));else if(Xs!=null&&Xs.onOauthRedirect)Xs.onOauthRedirect(_objectSpread2$2({idToken:nm,publicKey:ip},Yp&&{sessionKey:Yp}));else{$m(_objectSpread2$2({oidcToken:nm,publicKey:ip,providerName:"discord"},Yp&&{sessionKey:Yp})).then(function(){return _p()}).catch(Pp);return}_p()}).catch(Pp)}}}catch{}},500);sp.closed&&clearInterval(kp)}));case 10:mp.n=12;break;case 11:throw mp.p=11,Lp=mp.v,Lp;case 12:return mp.a(2)}},Ql,null,[[1,11]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,$m,Cm,Al]),yy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np,sp,Lp;return _regenerator().w(function(mp){for(;;)switch(mp.p=mp.n){case 0:if(Du=zl||{},Lu=Du.clientId,Uu=Lu===void 0?Al==null||(Jl=Al.auth)===null||Jl===void 0||(_u=Jl.oauthConfig)===null||_u===void 0?void 0:_u.xClientId:Lu,Wu=Du.openInPage,Xu=Wu===void 0?(Au=Al==null||(Cu=Al.auth)===null||Cu===void 0||(Nu=Cu.oauthConfig)===null||Nu===void 0?void 0:Nu.openOauthInPage)!==null&&Au!==void 0?Au:!1:Wu,Yu=Du.additionalState,mp.p=1,Al){mp.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:if(Uu){mp.n=3;break}throw new TurnkeyError("Twitter Client ID is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 3:if((ep=Al.auth)!==null&&ep!==void 0&&(Gu=ep.oauthConfig)!==null&&Gu!==void 0&&Gu.oauthRedirectUri){mp.n=4;break}throw new TurnkeyError("OAuth Redirect URI is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 4:return _h=Xu?"redirect":"popup",ap=(np=Al.auth)===null||np===void 0?void 0:np.oauthConfig.oauthRedirectUri,mp.n=5,Cm();case 5:if(ip=mp.v,ip){mp.n=6;break}throw new Error("Failed to create public key for OAuth.");case 6:return cp=bytesToHex$5(sha256$3(ip)),mp.n=7,generateChallengePair();case 7:if(tp=mp.v,op=tp.verifier,bp=tp.codeChallenge,sessionStorage.setItem("twitter_verifier",op),up=new URL(X_AUTH_URL),up.searchParams.set("client_id",Uu),up.searchParams.set("redirect_uri",ap),up.searchParams.set("response_type","code"),up.searchParams.set("code_challenge",bp),up.searchParams.set("code_challenge_method","S256"),up.searchParams.set("scope","tweet.read users.read"),up.searchParams.set("state","provider=twitter&flow=".concat(_h,"&publicKey=").concat(encodeURIComponent(ip),"&nonce=").concat(cp)),Yu&&(Ep=Object.entries(Yu).map(function(_p){var Pp=_slicedToArray$2(_p,2),kp=Pp[0],jp=Pp[1];return"".concat(encodeURIComponent(kp),"=").concat(encodeURIComponent(jp))}).join("&"),Ep&&up.searchParams.set("state",up.searchParams.get("state")+"&".concat(Ep))),!Xu){mp.n=8;break}return window.location.href=up.toString(),mp.a(2,new Promise(function(_p,Pp){var kp=setTimeout(function(){Pp(new Error("Authentication timed out."))},3e5);window.addEventListener("beforeunload",function(){return clearTimeout(kp)})}));case 8:if(Tp=popupWidth,wp=popupHeight,lp=window.screenX+(window.innerWidth-Tp)/2,Np=window.screenY+(window.innerHeight-wp)/2,sp=window.open("about:blank","_blank","width=".concat(Tp,",height=").concat(wp,",top=").concat(Np,",left=").concat(lp,",scrollbars=yes,resizable=yes")),sp){mp.n=9;break}throw new Error("Failed to open Twitter login window.");case 9:return sp.location.href=up.toString(),mp.a(2,new Promise(function(_p,Pp){var kp=setInterval(function(){try{if(sp.closed){clearInterval(kp),Pp(new Error("Authentication window was closed."));return}var jp=sp.location.href||"";if(jp.startsWith(window.location.origin)){var zp,Wp=new URLSearchParams(new URL(jp).search),qp=Wp.get("code"),Op=Wp.get("state"),Yp=Op==null||(zp=Op.split("&").find(function(rm){return rm.startsWith("sessionKey=")}))===null||zp===void 0?void 0:zp.split("=")[1];if(qp&&Op&&Op.includes("provider=twitter")){sp.close(),clearInterval(kp);var sm=sessionStorage.getItem("twitter_verifier");if(!sm){Pp(new Error("Missing PKCE verifier"));return}Js==null||Js.httpClient.proxyOAuth2Authenticate({provider:"OAUTH2_PROVIDER_X",authCode:qp,redirectUri:ap,codeVerifier:sm,clientId:Uu,nonce:cp}).then(function(rm){sessionStorage.removeItem("twitter_verifier");var nm=rm.oidcToken;if(zl!=null&&zl.onOauthSuccess)zl.onOauthSuccess(_objectSpread2$2({publicKey:ip,oidcToken:nm,providerName:"twitter"},Yp&&{sessionKey:Yp}));else if(Xs!=null&&Xs.onOauthRedirect)Xs.onOauthRedirect(_objectSpread2$2({idToken:nm,publicKey:ip},Yp&&{sessionKey:Yp}));else{$m(_objectSpread2$2({oidcToken:nm,publicKey:ip,providerName:"twitter"},Yp&&{sessionKey:Yp})).then(function(){return _p()}).catch(Pp);return}_p()}).catch(Pp)}}}catch{}},500);sp.closed&&clearInterval(kp)}));case 10:mp.n=12;break;case 11:throw mp.p=11,Lp=mp.v,Lp;case 12:return mp.a(2)}},Ql,null,[[1,11]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Xs,$m,Cm,Al]),vy=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np;return _regenerator().w(function(sp){for(;;)switch(sp.p=sp.n){case 0:if(Du=zl||{},Lu=Du.clientId,Uu=Lu===void 0?Al==null||(Jl=Al.auth)===null||Jl===void 0||(_u=Jl.oauthConfig)===null||_u===void 0?void 0:_u.googleClientId:Lu,Wu=Du.openInPage,Xu=Wu===void 0?(Au=Al==null||(Cu=Al.auth)===null||Cu===void 0||(Nu=Cu.oauthConfig)===null||Nu===void 0?void 0:Nu.openOauthInPage)!==null&&Au!==void 0?Au:!1:Wu,Yu=Du.additionalState,sp.p=1,Al){sp.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:if(Uu){sp.n=3;break}throw new TurnkeyError("Google Client ID is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 3:if((ep=Al.auth)!==null&&ep!==void 0&&(Gu=ep.oauthConfig)!==null&&Gu!==void 0&&Gu.oauthRedirectUri){sp.n=4;break}throw new TurnkeyError("OAuth Redirect URI is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 4:return _h=Xu?"redirect":"popup",ap=(np=Al.auth)===null||np===void 0?void 0:np.oauthConfig.oauthRedirectUri.replace(/\/$/,""),sp.n=5,Cm();case 5:if(ip=sp.v,ip){sp.n=6;break}throw new Error("Failed to create public key for OAuth.");case 6:if(cp=bytesToHex$5(sha256$3(ip)),tp=new URL(GOOGLE_AUTH_URL),tp.searchParams.set("client_id",Uu),tp.searchParams.set("redirect_uri",ap),tp.searchParams.set("response_type","id_token"),tp.searchParams.set("scope","openid email profile"),tp.searchParams.set("nonce",cp),tp.searchParams.set("prompt","select_account"),op="provider=google&flow=".concat(_h,"&publicKey=").concat(encodeURIComponent(ip)),Yu&&(bp=Object.entries(Yu).map(function(Lp){var mp=_slicedToArray$2(Lp,2),_p=mp[0],Pp=mp[1];return"".concat(encodeURIComponent(_p),"=").concat(encodeURIComponent(Pp))}).join("&"),bp&&(op+="&".concat(bp))),tp.searchParams.set("state",op),!Xu){sp.n=7;break}return window.location.href=tp.toString(),sp.a(2,new Promise(function(Lp,mp){var _p=setTimeout(function(){mp(new Error("Authentication timed out."))},3e5);window.addEventListener("beforeunload",function(){return clearTimeout(_p)})}));case 7:if(up=popupWidth,Ep=popupHeight,Tp=window.screenX+(window.innerWidth-up)/2,wp=window.screenY+(window.innerHeight-Ep)/2,lp=window.open("about:blank","_blank","width=".concat(up,",height=").concat(Ep,",top=").concat(wp,",left=").concat(Tp,",scrollbars=yes,resizable=yes")),lp){sp.n=8;break}throw new Error("Failed to open Google login window.");case 8:return lp.location.href=tp.toString(),sp.a(2,new Promise(function(Lp,mp){var _p=setInterval(function(){try{if(lp.closed){clearInterval(_p),mp(new Error("Authentication window was closed."));return}var Pp=lp.location.href||"";if(Pp.startsWith(window.location.origin)){var kp,jp=new URLSearchParams(Pp.split("#")[1]),zp=jp.get("id_token"),Wp=jp.get("state"),qp=Wp==null||(kp=Wp.split("&").find(function(Op){return Op.startsWith("sessionKey=")}))===null||kp===void 0?void 0:kp.split("=")[1];if(zp){if(lp.close(),clearInterval(_p),zl!=null&&zl.onOauthSuccess)zl.onOauthSuccess(_objectSpread2$2({publicKey:ip,oidcToken:zp,providerName:"google"},qp&&{sessionKey:qp}));else if(Xs!=null&&Xs.onOauthRedirect)Xs.onOauthRedirect(_objectSpread2$2({idToken:zp,publicKey:ip},qp&&{sessionKey:qp}));else{$m(_objectSpread2$2({oidcToken:zp,publicKey:ip,providerName:"google"},qp&&{sessionKey:qp})).then(function(){return Lp()}).catch(mp);return}Lp()}}}catch{}},500);lp.closed&&clearInterval(_p)}));case 9:sp.n=11;break;case 10:throw sp.p=10,Np=sp.v,Np;case 11:return sp.a(2)}},Ql,null,[[1,10]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Xs,$m,Cm,Al]),$y=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np;return _regenerator().w(function(sp){for(;;)switch(sp.p=sp.n){case 0:if(Du=zl||{},Lu=Du.clientId,Uu=Lu===void 0?Al==null||(Jl=Al.auth)===null||Jl===void 0||(_u=Jl.oauthConfig)===null||_u===void 0?void 0:_u.appleClientId:Lu,Wu=Du.openInPage,Xu=Wu===void 0?(Au=Al==null||(Cu=Al.auth)===null||Cu===void 0||(Nu=Cu.oauthConfig)===null||Nu===void 0?void 0:Nu.openOauthInPage)!==null&&Au!==void 0?Au:!1:Wu,Yu=Du.additionalState,sp.p=1,Al){sp.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:if(Uu){sp.n=3;break}throw new TurnkeyError("Apple Client ID is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 3:if((ep=Al.auth)!==null&&ep!==void 0&&(Gu=ep.oauthConfig)!==null&&Gu!==void 0&&Gu.oauthRedirectUri){sp.n=4;break}throw new TurnkeyError("OAuth Redirect URI is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 4:return _h=Xu?"redirect":"popup",ap=(np=Al.auth)===null||np===void 0?void 0:np.oauthConfig.oauthRedirectUri,sp.n=5,Cm();case 5:if(ip=sp.v,ip){sp.n=6;break}throw new Error("Failed to create public key for OAuth.");case 6:if(cp=bytesToHex$5(sha256$3(ip)),tp=new URL(APPLE_AUTH_URL),tp.searchParams.set("client_id",Uu),tp.searchParams.set("redirect_uri",ap),tp.searchParams.set("response_type","code id_token"),tp.searchParams.set("response_mode","fragment"),tp.searchParams.set("nonce",cp),op="provider=apple&flow=".concat(_h,"&publicKey=").concat(encodeURIComponent(ip)),Yu&&(bp=Object.entries(Yu).map(function(Lp){var mp=_slicedToArray$2(Lp,2),_p=mp[0],Pp=mp[1];return"".concat(encodeURIComponent(_p),"=").concat(encodeURIComponent(Pp))}).join("&"),bp&&(op+="&".concat(bp))),tp.searchParams.set("state",op),!Xu){sp.n=7;break}return window.location.href=tp.toString(),sp.a(2,new Promise(function(Lp,mp){var _p=setTimeout(function(){mp(new Error("Authentication timed out."))},3e5);window.addEventListener("beforeunload",function(){return clearTimeout(_p)})}));case 7:if(up=popupWidth,Ep=popupHeight,Tp=window.screenX+(window.innerWidth-up)/2,wp=window.screenY+(window.innerHeight-Ep)/2,lp=window.open("about:blank","_blank","width=".concat(up,",height=").concat(Ep,",top=").concat(wp,",left=").concat(Tp,",scrollbars=yes,resizable=yes")),lp){sp.n=8;break}throw new Error("Failed to open Apple login window.");case 8:return lp.location.href=tp.toString(),sp.a(2,new Promise(function(Lp,mp){var _p=setInterval(function(){try{if(lp.closed){clearInterval(_p),mp(new Error("Authentication window was closed."));return}var Pp=lp.location.href||"";if(Pp.startsWith(window.location.origin)){var kp,jp=new URLSearchParams(Pp.split("#")[1]),zp=jp.get("id_token"),Wp=jp.get("state"),qp=Wp==null||(kp=Wp.split("&").find(function(Op){return Op.startsWith("sessionKey=")}))===null||kp===void 0?void 0:kp.split("=")[1];if(zp){if(lp.close(),clearInterval(_p),zl!=null&&zl.onOauthSuccess)zl.onOauthSuccess(_objectSpread2$2({publicKey:ip,oidcToken:zp,providerName:"apple"},qp&&{sessionKey:qp}));else if(Xs!=null&&Xs.onOauthRedirect)Xs.onOauthRedirect(_objectSpread2$2({idToken:zp,publicKey:ip},qp&&{sessionKey:qp}));else{$m(_objectSpread2$2({oidcToken:zp,publicKey:ip,providerName:"apple"},qp&&{sessionKey:qp})).then(function(){return Lp()}).catch(mp);return}Lp()}}}catch{}},500);lp.closed&&clearInterval(_p)}));case 9:sp.n=11;break;case 10:throw sp.p=10,Np=sp.v,Np;case 11:return sp.a(2)}},Ql,null,[[1,10]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Xs,$m,Cm,Al]),by=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up,Ep,Tp,wp,lp,Np,sp,Lp,mp;return _regenerator().w(function(_p){for(;;)switch(_p.p=_p.n){case 0:if(Du=zl||{},Lu=Du.clientId,Uu=Lu===void 0?Al==null||(Jl=Al.auth)===null||Jl===void 0||(_u=Jl.oauthConfig)===null||_u===void 0?void 0:_u.facebookClientId:Lu,Wu=Du.openInPage,Xu=Wu===void 0?(Au=Al==null||(Cu=Al.auth)===null||Cu===void 0||(Nu=Cu.oauthConfig)===null||Nu===void 0?void 0:Nu.openOauthInPage)!==null&&Au!==void 0?Au:!1:Wu,Yu=Du.additionalState,_p.p=1,Al){_p.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 2:if(Uu){_p.n=3;break}throw new TurnkeyError("Facebook Client ID is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 3:if((ep=Al.auth)!==null&&ep!==void 0&&(Gu=ep.oauthConfig)!==null&&Gu!==void 0&&Gu.oauthRedirectUri){_p.n=4;break}throw new TurnkeyError("OAuth Redirect URI is not configured.",TurnkeyErrorCodes.INVALID_CONFIGURATION);case 4:return _h=Xu?"redirect":"popup",ap=(np=Al.auth)===null||np===void 0?void 0:np.oauthConfig.oauthRedirectUri,_p.n=5,Cm();case 5:if(ip=_p.v,ip){_p.n=6;break}throw new Error("Failed to create public key for OAuth.");case 6:return cp=bytesToHex$5(sha256$3(ip)),_p.n=7,generateChallengePair();case 7:if(tp=_p.v,op=tp.verifier,bp=tp.codeChallenge,sessionStorage.setItem("facebook_verifier",op),up=new URL(FACEBOOK_AUTH_URL),up.searchParams.set("client_id",Uu),up.searchParams.set("redirect_uri",ap),up.searchParams.set("response_type","code"),up.searchParams.set("code_challenge",bp),up.searchParams.set("code_challenge_method","S256"),up.searchParams.set("nonce",cp),up.searchParams.set("scope","openid"),Ep="provider=facebook&flow=".concat(_h,"&publicKey=").concat(encodeURIComponent(ip)),Yu&&(Tp=Object.entries(Yu).map(function(Pp){var kp=_slicedToArray$2(Pp,2),jp=kp[0],zp=kp[1];return"".concat(encodeURIComponent(jp),"=").concat(encodeURIComponent(zp))}).join("&"),Tp&&(Ep+="&".concat(Tp))),up.searchParams.set("state",Ep),!Xu){_p.n=8;break}return window.location.href=up.toString(),_p.a(2,new Promise(function(Pp,kp){var jp=setTimeout(function(){kp(new Error("Authentication timed out."))},3e5);window.addEventListener("beforeunload",function(){return clearTimeout(jp)})}));case 8:if(wp=popupWidth,lp=popupHeight,Np=window.screenX+(window.innerWidth-wp)/2,sp=window.screenY+(window.innerHeight-lp)/2,Lp=window.open("about:blank","_blank","width=".concat(wp,",height=").concat(lp,",top=").concat(sp,",left=").concat(Np,",scrollbars=yes,resizable=yes")),Lp){_p.n=9;break}throw new Error("Failed to open Facebook login window.");case 9:return Lp.location.href=up.toString(),_p.a(2,new Promise(function(Pp,kp){var jp=setInterval(function(){try{if(Lp.closed){clearInterval(jp),kp(new Error("Authentication window was closed."));return}var zp=Lp.location.href||"";if(zp.startsWith(window.location.origin)){var Wp=new URLSearchParams(new URL(zp).search),qp=Wp.get("code"),Op=Wp.get("state");if(qp&&Op&&Op.includes("provider=facebook")){var Yp,sm=Op==null||(Yp=Op.split("&").find(function(nm){return nm.startsWith("sessionKey=")}))===null||Yp===void 0?void 0:Yp.split("=")[1];Lp.close(),clearInterval(jp);var rm=sessionStorage.getItem("facebook_verifier");if(!rm){kp(new Error("Missing PKCE verifier"));return}exchangeCodeForToken(Uu,ap,qp,rm).then(function(nm){if(sessionStorage.removeItem("facebook_verifier"),zl!=null&&zl.onOauthSuccess)zl.onOauthSuccess(_objectSpread2$2({publicKey:ip,oidcToken:nm.id_token,providerName:"facebook"},sm&&{sessionKey:sm}));else if(Xs!=null&&Xs.onOauthRedirect)Xs.onOauthRedirect(_objectSpread2$2({idToken:nm.id_token,publicKey:ip},sm&&{sessionKey:sm}));else{$m(_objectSpread2$2({oidcToken:nm.id_token,publicKey:ip,providerName:"facebook"},sm&&{sessionKey:sm})).then(function(){return Pp()}).catch(kp);return}Pp()}).catch(kp)}}}catch{}},500);Lp.closed&&clearInterval(jp)}));case 10:_p.n=12;break;case 11:throw _p.p=11,mp=_p.v,mp;case 12:return _p.a(2)}},Ql,null,[[1,11]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Xs,$m,Cm,Al]),H0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu;return _regenerator().w(function(Uu){for(;;)switch(Uu.n){case 0:Lu=Al!=null&&(Jl=Al.ui)!==null&&Jl!==void 0&&Jl.darkMode?(_u=zl==null?void 0:zl.logoDark)!==null&&_u!==void 0?_u:Al==null||(Au=Al.ui)===null||Au===void 0?void 0:Au.logoDark:(Cu=zl==null?void 0:zl.logoLight)!==null&&Cu!==void 0?Cu:Al==null||(Nu=Al.ui)===null||Nu===void 0?void 0:Nu.logoLight,ju({key:(Du=zl==null?void 0:zl.title)!==null&&Du!==void 0?Du:"Log in or sign up",content:jsxRuntimeExports.jsx(AuthComponent,{sessionKey:zl==null?void 0:zl.sessionKey,logo:Lu,logoClassName:zl==null?void 0:zl.logoClassName,title:zl==null?void 0:zl.title}),showTitle:!Lu});case 1:return Uu.a(2)}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju,Al]),K0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu;return _regenerator().w(function(Nu){for(;;)switch(Nu.n){case 0:return Jl=zl.walletId,_u=zl.targetPublicKey,Au=zl.stampWith,Cu=zl.organizationId,Nu.a(2,new Promise(function(Du,Lu){return ju({key:"Export wallet",content:jsxRuntimeExports.jsx(ExportComponent,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({target:Jl,exportType:ExportType.Wallet},_u!==void 0&&{targetPublicKey:_u}),Au!==void 0&&{stampWith:Au}),Cu!==void 0&&{organizationId:Cu}),{},{onSuccess:function(){return Du()},onError:function(Wu){return Lu(Wu)}})),onClose:function(){return Lu(new TurnkeyError("User canceled the export wallet process.",TurnkeyErrorCodes.USER_CANCELED))}})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju]),W0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:return Jl=zl.privateKeyId,_u=zl.targetPublicKey,Au=zl.keyFormat,Cu=zl.stampWith,Nu=zl.organizationId,Du.a(2,new Promise(function(Lu,Uu){return ju({key:"Export private key",content:jsxRuntimeExports.jsx(ExportComponent,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({target:Jl,exportType:ExportType.PrivateKey},Au!==void 0&&{keyFormat:Au}),_u!==void 0&&{targetPublicKey:_u}),Cu!==void 0&&{stampWith:Cu}),Nu!==void 0&&{organizationId:Nu}),{},{onSuccess:function(){return Lu()},onError:function(Xu){return Uu(Xu)}})),onClose:function(){return Uu(new TurnkeyError("User canceled the export private key process.",TurnkeyErrorCodes.USER_CANCELED))}})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju]),G0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:return Jl=zl.address,_u=zl.targetPublicKey,Au=zl.keyFormat,Cu=zl.stampWith,Nu=zl.organizationId,Du.a(2,new Promise(function(Lu,Uu){return ju({key:"Export wallet account",content:jsxRuntimeExports.jsx(ExportComponent,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({target:Jl,exportType:ExportType.WalletAccount},Au!==void 0&&{keyFormat:Au}),_u!==void 0&&{targetPublicKey:_u}),Cu!==void 0&&{stampWith:Cu}),Nu!==void 0&&{organizationId:Nu}),{},{onSuccess:function(){return Lu()},onError:function(Xu){return Uu(Xu)}})),onClose:function(){return Uu(new TurnkeyError("User canceled the export wallet account process.",TurnkeyErrorCodes.USER_CANCELED))}})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju]),q0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu;return _regenerator().w(function(Yu){for(;;)switch(Yu.p=Yu.n){case 0:return Jl=zl||{},_u=Jl.defaultWalletAccounts,Au=Jl.successPageDuration,Cu=Au===void 0?2e3:Au,Nu=Jl.stampWith,Du=Jl.walletName,Lu=Jl.clearClipboardOnPaste,Uu=Jl.organizationId,Wu=Jl.userId,Yu.p=1,Yu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(ep,Gu){return ju({key:"Import wallet",content:jsxRuntimeExports.jsx(ImportComponent,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({importType:ImportType.Wallet,onError:function(_h){Gu(_h)},onSuccess:function(_h){return ep(_h)}},_u!==void 0&&{defaultWalletAccounts:_u}),Cu!==void 0&&{successPageDuration:Cu}),Lu!==void 0&&{clearClipboardOnPaste:Lu}),Nu!==void 0&&{stampWith:Nu}),Du!==void 0&&{name:Du}),Uu!==void 0&&{organizationId:Uu}),Wu!==void 0&&{userId:Wu}))})})},function(){return Qu()}));case 2:if(Yu.p=2,Xu=Yu.v,!(Xu instanceof TurnkeyError)){Yu.n=3;break}throw Xu;case 3:throw new TurnkeyError("Failed to import wallet.",TurnkeyErrorCodes.IMPORT_WALLET_ERROR,Xu);case 4:return Yu.a(2)}},Ql,null,[[1,2]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju,Qu]),Y0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu;return _regenerator().w(function(Yu){for(;;)switch(Yu.p=Yu.n){case 0:return Jl=zl||{},_u=Jl.curve,Au=Jl.addressFormats,Cu=Jl.successPageDuration,Nu=Cu===void 0?2e3:Cu,Du=Jl.stampWith,Lu=Jl.keyName,Uu=Jl.clearClipboardOnPaste,Wu=Jl.organizationId,Yu.p=1,Yu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(ep,Gu){return ju({key:"Import private key",content:jsxRuntimeExports.jsx(ImportComponent,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({importType:ImportType.PrivateKey,curve:_u,addressFormats:Au,onError:function(_h){Gu(_h)},onSuccess:function(_h){return ep(_h)}},Nu!==void 0&&{successPageDuration:Nu}),Uu!==void 0&&{clearClipboardOnPaste:Uu}),Du!==void 0&&{stampWith:Du}),Lu!==void 0&&{name:Lu}),Wu!==void 0&&{organizationId:Wu}))})})},function(){return Qu()}));case 2:if(Yu.p=2,Xu=Yu.v,!(Xu instanceof TurnkeyError)){Yu.n=3;break}throw Xu;case 3:throw new TurnkeyError("Failed to import private key.",TurnkeyErrorCodes.IMPORT_WALLET_ERROR,Xu);case 4:return Yu.a(2)}},Ql,null,[[1,2]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju,Qu]),X0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu;return _regenerator().w(function(np){for(;;)switch(np.p=np.n){case 0:if(Jl=zl||{},_u=Jl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=Jl.subTitle,Nu=Jl.title,Du=Jl.stampWith,Js){np.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return np.n=2,yp();case 2:if(Lu=np.v,Uu=(zl==null?void 0:zl.organizationId)||(Lu==null?void 0:Lu.organizationId),Uu){np.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:if(Wu=(zl==null?void 0:zl.userId)||(Bl==null?void 0:Bl.userId),Wu){np.n=4;break}throw new TurnkeyError("A user ID is required to update a user name.",TurnkeyErrorCodes.INVALID_REQUEST);case 4:if(Xu=function(){Au&&ju({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"User name changed successfully!",duration:Au,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1})},np.p=5,!(!(zl!=null&&zl.userName)&&(zl==null?void 0:zl.userName)!=="")){np.n=6;break}return np.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(_h,ap){ju({key:"Update User Name",content:jsxRuntimeExports.jsx(UpdateUserName,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({onSuccess:function(cp){_h(cp)},onError:function(cp){ap(cp)},successPageDuration:Au,stampWith:Du},Nu!==void 0&&{title:Nu}),Cu!==void 0&&{subTitle:Cu}),{},{organizationId:Uu,userId:Wu})),showTitle:!1})})},function(){return Qu()}));case 6:return np.n=7,hy(_objectSpread2$2({userName:zl.userName,userId:(Yu=zl.userId)!==null&&Yu!==void 0?Yu:Bl.userId,stampWith:Du},Uu!==void 0&&{organizationId:Uu}));case 7:return ep=np.v,Xu(),np.a(2,ep);case 8:np.n=11;break;case 9:if(np.p=9,Gu=np.v,!(Gu instanceof TurnkeyError)){np.n=10;break}throw Gu;case 10:throw new TurnkeyError("Failed to update user name.",TurnkeyErrorCodes.UPDATE_USER_NAME_ERROR,Gu);case 11:return np.a(2)}},Ql,null,[[5,9]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,Bl,ju,qu,hy,Qu]),Z0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np;return _regenerator().w(function(_h){for(;;)switch(_h.p=_h.n){case 0:if(Au=zl||{},Cu=Au.successPageDuration,Nu=Cu===void 0?2e3:Cu,Du=Au.subTitle,Lu=Au.title,Uu=Au.stampWith,Js){_h.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){_h.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.CONFIG_NOT_INITIALIZED);case 2:if((Jl=Al.auth)!==null&&Jl!==void 0&&(_u=Jl.methods)!==null&&_u!==void 0&&_u.smsOtpAuthEnabled){_h.n=3;break}throw new TurnkeyError("SMS OTP authentication is not enabled in the configuration.",TurnkeyErrorCodes.AUTH_METHOD_NOT_ENABLED);case 3:return _h.n=4,yp();case 4:if(Wu=_h.v,Xu=(zl==null?void 0:zl.organizationId)||(Wu==null?void 0:Wu.organizationId),Xu){_h.n=5;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 5:if(Yu=(zl==null?void 0:zl.userId)||(Wu==null?void 0:Wu.userId),Yu){_h.n=6;break}throw new TurnkeyError("A user ID is required to update a phone number.",TurnkeyErrorCodes.INVALID_REQUEST);case 6:if(ep=function(){Nu&&ju({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Phone number changed successfully!",duration:Nu,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1})},_h.p=7,!(!(zl!=null&&zl.phoneNumber)&&(zl==null?void 0:zl.phoneNumber)!=="")){_h.n=8;break}return _h.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(ap,ip){ju({key:"Update Phone Number",content:jsxRuntimeExports.jsx(UpdatePhoneNumber,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({successPageDuration:Nu,onSuccess:function(tp){return ap(tp)},onError:function(tp){return ip(tp)},organizationId:Xu,userId:Yu},Lu!==void 0&&{title:Lu}),Du!==void 0&&{subTitle:Du}),Uu!==void 0&&{stampWith:Uu})),showTitle:!1})})},function(){return Qu()}));case 8:return _h.n=9,fm({otpType:OtpType.Sms,contact:zl.phoneNumber});case 9:return Gu=_h.v,_h.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(ap,ip){var cp,tp;ju({key:"Update Phone Number",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({otpType:OtpType.Sms,contact:zl.phoneNumber,otpId:Gu,otpLength:((cp=Al.auth)===null||cp===void 0?void 0:cp.otpLength)!==void 0?Number(Al.auth.otpLength):void 0,alphanumeric:(tp=Al.auth)===null||tp===void 0?void 0:tp.otpAlphanumeric,onContinue:function(){var op=_asyncToGenerator(_regenerator().m(function up(Ep){var Tp,wp,lp,Np;return _regenerator().w(function(sp){for(;;)switch(sp.p=sp.n){case 0:return sp.p=0,sp.n=1,gm({otpId:Gu,otpCode:Ep,contact:zl.phoneNumber,otpType:OtpType.Sms});case 1:return Tp=sp.v,wp=Tp.verificationToken,sp.n=2,ay(_objectSpread2$2({phoneNumber:zl.phoneNumber,verificationToken:wp,userId:Yu,organizationId:Xu},Uu!==void 0&&{stampWith:Uu}));case 2:lp=sp.v,ep(),ap(lp),sp.n=4;break;case 3:sp.p=3,Np=sp.v,ip(Np);case 4:return sp.a(2)}},up,null,[[0,3]])}));function bp(up){return op.apply(this,arguments)}return bp}()},!(Bl!=null&&Bl.userPhoneNumber)&&{title:Lu??"Connect a phone number"}),Du!==void 0&&{subTitle:Du}),zl.formattedPhone&&{formattedPhone:zl.formattedPhone})),showTitle:!1})})},function(){return Qu()},Xs,"Failed to update phone number"));case 10:_h.n=13;break;case 11:if(_h.p=11,np=_h.v,!(np instanceof TurnkeyError)){_h.n=12;break}throw np;case 12:throw new TurnkeyError("Failed to initialize OTP for sms verification.",TurnkeyErrorCodes.INIT_OTP_ERROR,np);case 13:return _h.a(2)}},Ql,null,[[7,11]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Al,yp,ju,qu,Qu,fm,gm,ay,Bl,Xs]),J0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep;return _regenerator().w(function(Gu){for(;;)switch(Gu.p=Gu.n){case 0:if(Jl=zl||{},_u=Jl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=Jl.subTitle,Nu=Jl.title,Du=Jl.stampWith,Js){Gu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Gu.n=2,yp();case 2:if(Lu=Gu.v,Uu=(zl==null?void 0:zl.organizationId)||(Lu==null?void 0:Lu.organizationId),Uu){Gu.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:if(Wu=(zl==null?void 0:zl.userId)||(Lu==null?void 0:Lu.userId),Wu){Gu.n=4;break}throw new TurnkeyError("A user ID is required to update an email.",TurnkeyErrorCodes.INVALID_REQUEST);case 4:if(Xu=function(){Au&&ju({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Email changed successfully!",duration:Au,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1})},Gu.p=5,!(!(zl!=null&&zl.email)&&(zl==null?void 0:zl.email)!=="")){Gu.n=6;break}return Gu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(np,_h){ju({key:"Update Email",content:jsxRuntimeExports.jsx(UpdateEmail,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({successPageDuration:Au,onSuccess:function(ip){np(ip)},onError:function(ip){return _h(ip)},organizationId:Uu,userId:Wu},Nu!==void 0&&{title:Nu}),Cu!==void 0&&{subTitle:Cu}),Du!==void 0&&{stampWith:Du})),showTitle:!1})})},function(){return Qu()}));case 6:return Gu.n=7,fm({otpType:OtpType.Email,contact:zl.email});case 7:return Yu=Gu.v,Gu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(np,_h){var ap,ip;ju({key:"Update Email",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2(_objectSpread2$2({otpType:OtpType.Email,contact:zl.email,otpId:Yu,otpLength:(Al==null||(ap=Al.auth)===null||ap===void 0?void 0:ap.otpLength)!==void 0?Number(Al.auth.otpLength):void 0,alphanumeric:Al==null||(ip=Al.auth)===null||ip===void 0?void 0:ip.otpAlphanumeric,onContinue:function(){var cp=_asyncToGenerator(_regenerator().m(function op(bp){var up,Ep,Tp,wp;return _regenerator().w(function(lp){for(;;)switch(lp.p=lp.n){case 0:return lp.p=0,lp.n=1,gm({otpId:Yu,otpCode:bp,contact:zl.email,otpType:OtpType.Email});case 1:return up=lp.v,Ep=up.verificationToken,lp.n=2,sy(_objectSpread2$2({email:zl.email,verificationToken:Ep,userId:Wu,organizationId:Uu},Du!==void 0&&{stampWith:Du}));case 2:Tp=lp.v,Xu(),np(Tp),lp.n=4;break;case 3:lp.p=3,wp=lp.v,_h(wp);case 4:return lp.a(2)}},op,null,[[0,3]])}));function tp(op){return cp.apply(this,arguments)}return tp}()},!(Bl!=null&&Bl.userEmail)&&{title:Nu??"Connect an email"}),Cu!==void 0&&{subTitle:Cu})),showTitle:!1})})},function(){return Qu()},Xs,"Failed to update email"));case 8:Gu.n=11;break;case 9:if(Gu.p=9,ep=Gu.v,!(ep instanceof TurnkeyError)){Gu.n=10;break}throw ep;case 10:throw new TurnkeyError("Failed to initialize OTP for email verification.",TurnkeyErrorCodes.INIT_OTP_ERROR,ep);case 11:return Gu.a(2)}},Ql,null,[[5,9]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,ju,qu,Qu,fm,Al,gm,sy,Bl,Xs]),Q0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep;return _regenerator().w(function(Gu){for(;;)switch(Gu.p=Gu.n){case 0:if(Jl=zl||{},_u=Jl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=Jl.subTitle,Nu=Jl.title,Du=Jl.stampWith,Js){Gu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Gu.n=2,yp();case 2:if(Lu=Gu.v,Uu=(zl==null?void 0:zl.organizationId)||(Lu==null?void 0:Lu.organizationId),Uu){Gu.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:if(Wu=(zl==null?void 0:zl.userId)||(Lu==null?void 0:Lu.userId),Wu){Gu.n=4;break}throw new TurnkeyError("A user ID is required to add an email.",TurnkeyErrorCodes.INVALID_REQUEST);case 4:if(Xu=function(){Au&&ju({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Email added successfully!",duration:Au,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1})},Gu.p=5,!(!(zl!=null&&zl.email)&&(zl==null?void 0:zl.email)!=="")){Gu.n=6;break}return Gu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(np,_h){ju({key:"Add Email",content:jsxRuntimeExports.jsx(UpdateEmail,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({successPageDuration:Au,onSuccess:function(ip){np(ip)},onError:function(ip){return _h(ip)}},Bl!=null&&Bl.userEmail?{}:{title:Nu??"Connect an email"}),Cu!==void 0?{subTitle:Cu}:{}),{},{organizationId:Uu,userId:Wu,stampWith:Du})),showTitle:!1})})},function(){return Qu()}));case 6:return Gu.n=7,fm({otpType:OtpType.Email,contact:zl.email});case 7:return Yu=Gu.v,Gu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(np,_h){var ap,ip;ju({key:"Add Email",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2(_objectSpread2$2({otpType:OtpType.Email,contact:zl.email,otpId:Yu,otpLength:(Al==null||(ap=Al.auth)===null||ap===void 0?void 0:ap.otpLength)!==void 0?Number(Al.auth.otpLength):void 0,alphanumeric:Al==null||(ip=Al.auth)===null||ip===void 0?void 0:ip.otpAlphanumeric,onContinue:function(){var cp=_asyncToGenerator(_regenerator().m(function op(bp){var up,Ep,Tp,wp;return _regenerator().w(function(lp){for(;;)switch(lp.p=lp.n){case 0:return lp.p=0,lp.n=1,gm({otpId:Yu,otpCode:bp,contact:zl.email,otpType:OtpType.Email});case 1:return up=lp.v,Ep=up.verificationToken,lp.n=2,sy({email:zl.email,verificationToken:Ep,userId:Wu,organizationId:Uu,stampWith:Du});case 2:Tp=lp.v,Xu(),np(Tp),lp.n=4;break;case 3:lp.p=3,wp=lp.v,_h(wp);case 4:return lp.a(2)}},op,null,[[0,3]])}));function tp(op){return cp.apply(this,arguments)}return tp}()},!(Bl!=null&&Bl.userEmail)&&{title:Nu??"Connect an email"}),Cu!==void 0&&{subTitle:Cu})),showTitle:!1})})},function(){return Qu()},Xs,"Failed to add email"));case 8:Gu.n=11;break;case 9:if(Gu.p=9,ep=Gu.v,!(ep instanceof TurnkeyError)){Gu.n=10;break}throw ep;case 10:throw new TurnkeyError("Failed to initialize OTP for email verification.",TurnkeyErrorCodes.INIT_OTP_ERROR,ep);case 11:return Gu.a(2)}},Ql,null,[[5,9]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,ju,qu,Bl,Qu,fm,Al,gm,sy,Xs]),e1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np;return _regenerator().w(function(_h){for(;;)switch(_h.p=_h.n){case 0:if(Au=zl||{},Cu=Au.successPageDuration,Nu=Cu===void 0?2e3:Cu,Du=Au.subTitle,Lu=Au.title,Uu=Au.stampWith,Js){_h.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al){_h.n=2;break}throw new TurnkeyError("Config is not ready yet!",TurnkeyErrorCodes.CONFIG_NOT_INITIALIZED);case 2:if((Jl=Al.auth)!==null&&Jl!==void 0&&(_u=Jl.methods)!==null&&_u!==void 0&&_u.smsOtpAuthEnabled){_h.n=3;break}throw new TurnkeyError("SMS OTP authentication is not enabled in the configuration.",TurnkeyErrorCodes.AUTH_METHOD_NOT_ENABLED);case 3:return _h.n=4,yp();case 4:if(Wu=_h.v,Xu=(zl==null?void 0:zl.organizationId)||(Wu==null?void 0:Wu.organizationId),Xu){_h.n=5;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 5:if(Yu=(zl==null?void 0:zl.userId)||(Wu==null?void 0:Wu.userId),Yu){_h.n=6;break}throw new TurnkeyError("A user ID is required to add a phone number.",TurnkeyErrorCodes.INVALID_REQUEST);case 6:if(ep=function(){Nu&&ju({key:"success",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Phone number updated successfully!",duration:Nu,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1})},_h.p=7,!(!(zl!=null&&zl.phoneNumber)&&(zl==null?void 0:zl.phoneNumber)!=="")){_h.n=8;break}return _h.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(ap,ip){ju({key:"Add Phone Number",content:jsxRuntimeExports.jsx(UpdatePhoneNumber,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({successPageDuration:Nu,onSuccess:function(tp){ap(tp)},onError:function(tp){ip(tp)}},!(Bl!=null&&Bl.userPhoneNumber)&&{title:Lu??"Connect a phone number"}),Du!==void 0&&{subTitle:Du}),{},{organizationId:Xu,userId:Yu,stampWith:Uu})),showTitle:!1})})},function(){return Qu()},Xs,"Failed to add phone number"));case 8:return _h.n=9,fm({otpType:OtpType.Sms,contact:zl.phoneNumber});case 9:return Gu=_h.v,_h.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(ap,ip){var cp,tp;ju({key:"Add Phone Number",content:jsxRuntimeExports.jsx(OtpVerification,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({otpType:OtpType.Sms,contact:zl.phoneNumber,otpId:Gu,otpLength:((cp=Al.auth)===null||cp===void 0?void 0:cp.otpLength)!==void 0?Number(Al.auth.otpLength):void 0,alphanumeric:Al==null||(tp=Al.auth)===null||tp===void 0?void 0:tp.otpAlphanumeric,onContinue:function(){var op=_asyncToGenerator(_regenerator().m(function up(Ep){var Tp,wp,lp,Np;return _regenerator().w(function(sp){for(;;)switch(sp.p=sp.n){case 0:return sp.p=0,sp.n=1,gm({otpId:Gu,otpCode:Ep,contact:zl.phoneNumber,otpType:OtpType.Sms});case 1:return Tp=sp.v,wp=Tp.verificationToken,sp.n=2,ay({phoneNumber:zl.phoneNumber,verificationToken:wp,userId:Yu,organizationId:Xu,stampWith:Uu});case 2:lp=sp.v,ep(),ap(lp),sp.n=4;break;case 3:sp.p=3,Np=sp.v,ip(Np);case 4:return sp.a(2)}},up,null,[[0,3]])}));function bp(up){return op.apply(this,arguments)}return bp}()},!(Bl!=null&&Bl.userPhoneNumber)&&{title:Lu??"Connect a phone number"}),Du!==void 0&&{subTitle:Du}),zl.formattedPhone&&{formattedPhone:zl.formattedPhone})),showTitle:!1})})},function(){return Qu()},Xs,"Failed to add phone number"));case 10:_h.n=13;break;case 11:if(_h.p=11,np=_h.v,!(np instanceof TurnkeyError)){_h.n=12;break}throw np;case 12:throw new TurnkeyError("Failed to initialize OTP for sms verification.",TurnkeyErrorCodes.INIT_OTP_ERROR,np);case 13:return _h.a(2)}},Ql,null,[[7,11]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Al,yp,ju,qu,Bl,Qu,Xs,fm,gm,ay]),t1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu;return _regenerator().w(function(Xu){for(;;)switch(Xu.n){case 0:if(Jl=zl.authenticatorId,_u=zl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=zl.subTitle,Nu=zl.title,Du=zl.stampWith,Lu=zl.userId,Js){Xu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Xu.n=2,yp();case 2:if(Uu=Xu.v,Wu=(zl==null?void 0:zl.organizationId)||(Uu==null?void 0:Uu.organizationId),Wu){Xu.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:return Xu.a(2,withTurnkeyErrorHandling(function(){return new Promise(function(Yu,ep){ju({key:"Remove Passkey",content:jsxRuntimeExports.jsx(RemovePasskey,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({authenticatorId:Jl,successPageDuration:Au,onSuccess:function(np){Yu(np)},onError:function(np){ep(np)},stampWith:Du},Lu&&{userId:Lu}),Nu!==void 0&&{title:Nu}),Cu!==void 0&&{subTitle:Cu}),Wu!==void 0&&{organizationId:Wu})),showTitle:!1,preventBack:!0})})},function(){return Qu()},Xs,"Failed to remove passkey"))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,ju,Qu,Xs]),r1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu;return _regenerator().w(function(ep){for(;;)switch(ep.p=ep.n){case 0:if(Jl=zl||{},_u=Jl.name,Au=Jl.displayName,Cu=Jl.successPageDuration,Nu=Cu===void 0?2e3:Cu,Du=Jl.stampWith,Js){ep.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return ep.n=2,yp();case 2:if(Lu=ep.v,Uu=(zl==null?void 0:zl.organizationId)||(Lu==null?void 0:Lu.organizationId),Uu){ep.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:if(Wu=(zl==null?void 0:zl.userId)||(Lu==null?void 0:Lu.userId),Wu){ep.n=4;break}throw new TurnkeyError("A user ID or a valid session is required to add a passkey.",TurnkeyErrorCodes.INVALID_REQUEST);case 4:return ep.p=4,Xu=gy(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({},_u&&{name:_u}),Au&&{displayName:Au}),{},{userId:Wu,stampWith:Du},Uu&&{organizationId:Uu})),Xu.then(function(){ju({key:"Passkey Added",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Successfully added passkey!",duration:Nu,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1})}),ep.n=5,Xu;case 5:return ep.a(2,ep.v);case 6:if(ep.p=6,Yu=ep.v,!(Yu instanceof TurnkeyError)){ep.n=7;break}throw Yu;case 7:throw new TurnkeyError("Failed to add passkey in handler.",TurnkeyErrorCodes.ADD_PASSKEY_ERROR,Yu);case 8:return ep.a(2)}},Ql,null,[[4,6]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,gy,ju,qu]),n1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu;return _regenerator().w(function(Xu){for(;;)switch(Xu.p=Xu.n){case 0:if(Jl=zl.providerId,_u=zl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=zl.subTitle,Nu=zl.title,Du=zl.stampWith,Js){Xu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Xu.n=2,yp();case 2:if(Lu=Xu.v,Uu=(zl==null?void 0:zl.organizationId)||(Lu==null?void 0:Lu.organizationId),Uu){Xu.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:return Xu.p=3,Xu.a(2,new Promise(function(Yu,ep){ju({key:"Remove OAuth Provider",content:jsxRuntimeExports.jsx(RemoveOAuthProvider,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({providerId:Jl,stampWith:Du,successPageDuration:Au,onSuccess:function(np){Yu(np)},onError:function(np){ep(np)}},Nu!==void 0&&{title:Nu}),Cu!==void 0&&{subTitle:Cu}),Uu!==void 0&&{organizationId:Uu})),showTitle:!1,preventBack:!0,onClose:function(){return ep(new TurnkeyError("User canceled the remove OAuth provider process.",TurnkeyErrorCodes.USER_CANCELED))}})}));case 4:if(Xu.p=4,Wu=Xu.v,!(Wu instanceof TurnkeyError)){Xu.n=5;break}throw Wu;case 5:throw new TurnkeyError("Failed to remove OAuth provider in handler.",TurnkeyErrorCodes.REMOVE_OAUTH_PROVIDER_ERROR,Wu);case 6:return Xu.a(2)}},Ql,null,[[3,4]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,ju]),i1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu;return _regenerator().w(function(Uu){for(;;)switch(Uu.n){case 0:if(Js){Uu.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:return Jl=zl.providerName,_u=zl.stampWith,Au=zl.successPageDuration,Cu=Au===void 0?2e3:Au,Uu.n=2,yp();case 2:if(Nu=Uu.v,Du=(zl==null?void 0:zl.organizationId)||(Nu==null?void 0:Nu.organizationId),Du){Uu.n=3;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 3:if(Lu=(zl==null?void 0:zl.userId)||(Nu==null?void 0:Nu.userId),Lu){Uu.n=4;break}throw new TurnkeyError("A user ID is required to add an OAuth provider.",TurnkeyErrorCodes.INVALID_REQUEST);case 4:return Uu.a(2,new Promise(function(){var Wu=_asyncToGenerator(_regenerator().m(function Xu(Yu,ep){var Gu,np,_h;return _regenerator().w(function(ap){for(;;)switch(ap.p=ap.n){case 0:ap.p=0,Gu=function(){var ip=_asyncToGenerator(_regenerator().m(function cp(tp){return _regenerator().w(function(op){for(;;)switch(op.n){case 0:return op.n=1,py({providerName:tp.providerName,oidcToken:tp.oidcToken,stampWith:_u,organizationId:Du,userId:Lu});case 1:Yu(),ju({key:"OAuth Provider Added",content:jsxRuntimeExports.jsx(SuccessPage,{text:"Successfully added ".concat(tp.providerName," OAuth provider!"),duration:Cu,onComplete:function(){qu()}}),preventBack:!0,showTitle:!1});case 2:return op.a(2)}},cp)}));return function(tp){return ip.apply(this,arguments)}}(),np=Jl,ap.n=np===OAuthProviders.DISCORD?1:np===OAuthProviders.X?3:np===OAuthProviders.GOOGLE?5:np===OAuthProviders.APPLE?7:np===OAuthProviders.FACEBOOK?9:11;break;case 1:return ap.n=2,my({openInPage:!1,onOauthSuccess:Gu});case 2:return ap.a(2,ap.v);case 3:return ap.n=4,yy({openInPage:!1,onOauthSuccess:Gu});case 4:return ap.a(2,ap.v);case 5:return ap.n=6,vy({openInPage:!1,onOauthSuccess:Gu});case 6:return ap.a(2,ap.v);case 7:return ap.n=8,$y({openInPage:!1,onOauthSuccess:Gu});case 8:return ap.a(2,ap.v);case 9:return ap.n=10,by({openInPage:!1,onOauthSuccess:Gu});case 10:return ap.a(2,ap.v);case 11:throw new TurnkeyError("Unsupported OAuth provider: ".concat(Jl),TurnkeyErrorCodes.NOT_FOUND);case 12:ap.n=14;break;case 13:ap.p=13,_h=ap.v,ep(_h);case 14:return ap.a(2)}},Xu,null,[[0,13]])}));return function(Xu,Yu){return Wu.apply(this,arguments)}}()))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,yp,py,ju,qu,my,yy,vy,$y,by]),o1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu;return _regenerator().w(function(Du){for(;;)switch(Du.n){case 0:if(Au=zl||{},Cu=Au.successPageDuration,Nu=Cu===void 0?2e3:Cu,Js){Du.n=1;break}throw new TurnkeyError("Client is not initialized.",TurnkeyErrorCodes.CLIENT_NOT_INITIALIZED);case 1:if(Al!=null&&(Jl=Al.walletConfig)!==null&&Jl!==void 0&&(_u=Jl.features)!==null&&_u!==void 0&&_u.connecting){Du.n=2;break}throw new TurnkeyError("Wallet connecting is not enabled.",TurnkeyErrorCodes.FEATURE_NOT_ENABLED);case 2:return Du.a(2,new Promise(function(Lu,Uu){ju({key:"Connect wallet",content:jsxRuntimeExports.jsx(ConnectWalletModal,{successPageDuration:Nu,onSuccess:function(Xu,Yu){Lu({type:Xu,account:Yu})}}),onClose:function(){return Uu(new TurnkeyError("User canceled the connect wallet process.",TurnkeyErrorCodes.USER_CANCELED))}})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[Js,Al,vm,ju]),s1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu;return _regenerator().w(function(Wu){for(;;)switch(Wu.p=Wu.n){case 0:return Jl=zl||{},_u=Jl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=Jl.stampWith,Nu=Jl.userId,Wu.n=1,yp();case 1:if(Du=Wu.v,Lu=(zl==null?void 0:zl.organizationId)||(Du==null?void 0:Du.organizationId),Lu){Wu.n=2;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 2:return Wu.p=2,Wu.a(2,new Promise(function(Xu,Yu){ju({key:"Remove Email",content:jsxRuntimeExports.jsx(RemoveEmail,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({successPageDuration:Au},Nu&&{userId:Nu}),Cu&&{stampWith:Cu}),{},{onSuccess:function(Gu){Xu(Gu)},onError:function(Gu){Yu(Gu)}},Lu!==void 0&&{organizationId:Lu})),showTitle:!1,preventBack:!0,onClose:function(){return Yu(new TurnkeyError("User canceled the remove email process.",TurnkeyErrorCodes.USER_CANCELED))}})}));case 3:if(Wu.p=3,Uu=Wu.v,!(Uu instanceof TurnkeyError)){Wu.n=4;break}throw Uu;case 4:throw new TurnkeyError("Failed to remove user email.",TurnkeyErrorCodes.UPDATE_USER_EMAIL_ERROR,Uu);case 5:return Wu.a(2)}},Ql,null,[[2,3]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[yp,ju]),a1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu;return _regenerator().w(function(Wu){for(;;)switch(Wu.p=Wu.n){case 0:return Jl=zl||{},_u=Jl.successPageDuration,Au=_u===void 0?2e3:_u,Cu=Jl.stampWith,Nu=Jl.userId,Wu.n=1,yp();case 1:if(Du=Wu.v,Lu=(zl==null?void 0:zl.organizationId)||(Du==null?void 0:Du.organizationId),Lu){Wu.n=2;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 2:return Wu.p=2,Wu.a(2,new Promise(function(Xu,Yu){ju({key:"Remove Phone Number",content:jsxRuntimeExports.jsx(RemovePhoneNumber,_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({successPageDuration:Au},Nu&&{userId:Nu}),Cu&&{stampWith:Cu}),{},{onSuccess:function(Gu){Xu(Gu)},onError:function(Gu){Yu(Gu)}},Lu!==void 0&&{organizationId:Lu})),showTitle:!1,preventBack:!0,onClose:function(){return Yu(new TurnkeyError("User canceled the remove phone number process.",TurnkeyErrorCodes.USER_CANCELED))}})}));case 3:if(Wu.p=3,Uu=Wu.v,!(Uu instanceof TurnkeyError)){Wu.n=4;break}throw Uu;case 4:throw new TurnkeyError("Failed to remove user phone number.",TurnkeyErrorCodes.UPDATE_USER_PHONE_NUMBER_ERROR,Uu);case 5:return Wu.a(2)}},Ql,null,[[2,3]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[yp,ju]),l1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp;return _regenerator().w(function(tp){for(;;)switch(tp.n){case 0:return tp.n=1,yp();case 1:if(Jl=tp.v,_u=zl.organizationId||(Jl==null?void 0:Jl.organizationId),_u){tp.n=2;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 2:return Au=zl.transaction,Cu=zl.icon,Nu=zl.stampWith,Du=zl.successPageDuration,Lu=Du===void 0?2e3:Du,Uu=Au.from,Wu=Au.to,Xu=Au.caip2,Yu=Au.value,ep=Au.data,Gu=Au.nonce,np=Au.gasLimit,_h=Au.maxFeePerGas,ap=Au.maxPriorityFeePerGas,ip=Au.sponsor,cp=ep&&ep!=="0x"&&ep!==""?ep:void 0,tp.a(2,new Promise(function(op,bp){var up=function(){var Ep=_asyncToGenerator(_regenerator().m(function Tp(){var wp,lp,Np,sp,Lp;return _regenerator().w(function(mp){for(;;)switch(mp.n){case 0:return lp=_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({from:Uu,to:Wu,caip2:Xu,sponsor:ip??!1},Yu?{value:Yu}:{}),cp?{data:cp}:{}),Gu?{nonce:Gu}:{}),np?{gasLimit:np}:{}),_h?{maxFeePerGas:_h}:{}),ap?{maxPriorityFeePerGas:ap}:{}),mp.n=1,r0({organizationId:_u,transaction:lp,stampWith:Nu});case 1:if(Np=mp.v,Np){mp.n=2;break}throw new TurnkeyError("Missing sendTransactionStatusId",TurnkeyErrorCodes.ETH_SEND_TRANSACTION_ERROR);case 2:return mp.n=3,n0({organizationId:_u,sendTransactionStatusId:Np});case 3:if(sp=mp.v,Lp=sp==null||(wp=sp.eth)===null||wp===void 0?void 0:wp.txHash,Lp){mp.n=4;break}throw new TurnkeyError("Missing txHash in transaction result",TurnkeyErrorCodes.POLL_TRANSACTION_STATUS_ERROR);case 4:return mp.a(2,{txHash:Lp})}},Tp)}));return function(){return Ep.apply(this,arguments)}}();ju({key:"Send Transaction",showTitle:!1,preventBack:!0,onClose:function(){return bp(new TurnkeyError("User canceled the transaction.",TurnkeyErrorCodes.USER_CANCELED))},content:jsxRuntimeExports.jsx(SendTransactionPage,{icon:Cu??getChainLogo(Xu),action:up,caip2:Xu,successPageDuration:Lu,onSuccess:function(){return op()},onError:function(Tp){return bp(Tp)}})})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[ju,Js]),c1=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu,Wu,Xu,Yu,ep,Gu,np,_h,ap,ip,cp,tp,op,bp,up;return _regenerator().w(function(Ep){for(;;)switch(Ep.n){case 0:return _u=zl.walletAccount,Au=zl.fiatCurrencyAmount,Cu=zl.fiatCurrencyCode,Nu=zl.paymentMethod,Du=zl.countrySubdivisionCode,Lu=zl.urlForSignature,Uu=zl.countryCode,Wu=zl.onrampProvider,Xu=Wu===void 0?"FIAT_ON_RAMP_PROVIDER_MOONPAY":Wu,Yu=zl.sandboxMode,ep=Yu===void 0?!0:Yu,Gu=zl.successPageDuration,np=Gu===void 0?2e3:Gu,_h=zl.openInNewTab,ap=_h===void 0?!1:_h,Ep.n=1,yp();case 1:if(ip=Ep.v,cp=(zl==null?void 0:zl.organizationId)||(ip==null?void 0:ip.organizationId),cp){Ep.n=2;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 2:up=!0,Ep.n=up===(_u.addressFormat==="ADDRESS_FORMAT_ETHEREUM")?3:up===((Jl=_u.addressFormat)===null||Jl===void 0?void 0:Jl.includes("ADDRESS_FORMAT_BITCOIN"))?4:up===(_u.addressFormat==="ADDRESS_FORMAT_SOLANA")?5:6;break;case 3:return tp=FiatOnRampCryptoCurrency.ETHEREUM,op=FiatOnRampBlockchainNetwork.ETHEREUM,Ep.a(3,7);case 4:return tp=FiatOnRampCryptoCurrency.BITCOIN,op=FiatOnRampBlockchainNetwork.BITCOIN,Ep.a(3,7);case 5:return tp=FiatOnRampCryptoCurrency.SOLANA,op=FiatOnRampBlockchainNetwork.SOLANA,Ep.a(3,7);case 6:return tp=FiatOnRampCryptoCurrency.ETHEREUM,op=FiatOnRampBlockchainNetwork.ETHEREUM,Ep.a(3,7);case 7:return bp=ap||Fu,tp=zl.cryptoCurrencyCode||tp,op=zl.network||op,Ep.a(2,new Promise(function(Tp,wp){var lp=function(){var sp=reactExports.useState(!1),Lp=_slicedToArray$2(sp,2),mp=Lp[0],_p=Lp[1],Pp=reactExports.useRef(null),kp=function(){Pp.current&&(clearInterval(Pp.current),Pp.current=null)};reactExports.useEffect(function(){return function(){kp()}},[]);var jp=function(){var zp=_asyncToGenerator(_regenerator().m(function Wp(){var qp,Op,Yp,sm,rm,nm,Jp,mm,bm;return _regenerator().w(function(Zp){for(;;)switch(Zp.p=Zp.n){case 0:if(Zp.p=0,Op=null,!bp){Zp.n=1;break}if(Op=window.open("","_blank"),Op){Zp.n=1;break}throw new Error("Failed to open On Ramp tab.");case 1:return Zp.n=2,Js==null||(qp=Js.httpClient)===null||qp===void 0?void 0:qp.initFiatOnRamp(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2(_objectSpread2$2({onrampProvider:Xu,walletAddress:_u.address,network:op,cryptoCurrencyCode:tp,sandboxMode:ep,organizationId:cp},Cu?{fiatCurrencyCode:Cu}:{}),Au?{fiatCurrencyAmount:Au}:{}),Nu?{paymentMethod:Nu}:{}),Uu?{countryCode:Uu}:{}),Du?{countrySubdivisionCode:Du}:{}),ep!==void 0?{sandboxMode:ep}:{}),Lu?{urlForSignature:Lu}:{}));case 2:if(Yp=Zp.v,Yp!=null&&Yp.onRampUrl){Zp.n=3;break}throw new Error("Missing onRampUrl");case 3:if(!(bp&&Op)){Zp.n=4;break}Op.location.href=Yp.onRampUrl.toString(),Zp.n=5;break;case 4:if(sm=500,rm=600,nm=window.screenX+(window.innerWidth-sm)/2,Jp=window.screenY+(window.innerHeight-rm)/2,Op=window.open(Yp.onRampUrl.toString(),"_blank","width=".concat(sm,",height=").concat(rm,",top=").concat(Jp,",left=").concat(nm,",scrollbars=yes,resizable=yes")),Op){Zp.n=5;break}throw new Error("Failed to open On Ramp window.");case 5:if(mm=Yp.onRampTransactionId,mm){Zp.n=6;break}throw new Error("No onRampTransactionId returned");case 6:return Zp.a(2,new Promise(function(wm,_m){Pp.current=setInterval(_asyncToGenerator(_regenerator().m(function hm(){var Qp,lm,Mp,Um,jm,Dm,Bm,zm,oy;return _regenerator().w(function(Em){for(;;)switch(Em.p=Em.n){case 0:if(Em.p=0,!(Xu==="FIAT_ON_RAMP_PROVIDER_COINBASE"&&(Qp=Op)!==null&&Qp!==void 0&&Qp.closed)){Em.n=1;break}return kp(),_m(new Error("On-ramp popup closed by user")),Em.a(2);case 1:Mp="";try{Mp=((Um=Op)===null||Um===void 0?void 0:Um.location.href)||""}catch{}if(!(Mp&&Mp.startsWith(window.location.origin))){Em.n=2;break}return kp(),(jm=Op)===null||jm===void 0||jm.close(),_p(!0),wm(),Em.a(2);case 2:return Em.n=3,Js==null||(lm=Js.httpClient)===null||lm===void 0?void 0:lm.getOnRampTransactionStatus({transactionId:mm,refresh:!0});case 3:if(Dm=Em.v,Bm=Dm==null?void 0:Dm.transactionStatus,["COMPLETED","FAILED","CANCELLED"].includes(Bm??"")){kp();try{(zm=Op)===null||zm===void 0||zm.close()}catch{}_p(!0),wm()}Em.n=5;break;case 4:Em.p=4,oy=Em.v,console.warn("Polling error (ignored):",oy);case 5:return Em.a(2)}},hm,null,[[0,4]])})),3e3)}));case 7:throw Zp.p=7,bm=Zp.v,kp(),bm;case 8:return Zp.a(2)}},Wp,null,[[0,7]])}));return function(){return zp.apply(this,arguments)}}();return jsxRuntimeExports.jsx(OnRampPage,{icon:Xu==="FIAT_ON_RAMP_PROVIDER_COINBASE"?jsxRuntimeExports.jsx(CoinbaseLogo,{className:"w-12 h-12"}):jsxRuntimeExports.jsx(MoonPayLogo,{className:"w-12 h-12"}),onrampProvider:Xu,action:jp,sandboxMode:ep,completed:mp,successPageDuration:np,onSuccess:function(){return Tp()},onError:function(Wp){return wp(Wp)}})};ju({key:"Fiat OnRamp",content:jsxRuntimeExports.jsx(lp,{}),showTitle:!1,preventBack:!0,onClose:function(){return wp(new TurnkeyError("User canceled the onramp process.",TurnkeyErrorCodes.USER_CANCELED))}})}))}},Ql)}));return function(Ql){return Ou.apply(this,arguments)}}(),[yp,Js,ju]),i0=reactExports.useCallback(function(){var Ou=_asyncToGenerator(_regenerator().m(function Ql(zl){var Jl,_u,Au,Cu,Nu,Du,Lu,Uu;return _regenerator().w(function(Wu){for(;;)switch(Wu.p=Wu.n){case 0:return Jl=zl||{},_u=Jl.appProofs,Au=Jl.successPageDuration,Cu=Au===void 0?3e3:Au,Nu=Jl.stampWith,Wu.n=1,yp();case 1:if(Du=Wu.v,Lu=(zl==null?void 0:zl.organizationId)||(Du==null?void 0:Du.organizationId),Lu){Wu.n=2;break}throw new TurnkeyError("A session or passed in organization ID is required.",TurnkeyErrorCodes.INVALID_REQUEST);case 2:return Wu.p=2,Wu.a(2,new Promise(function(Xu,Yu){ju({key:"Verify app proofs",showTurnkeyBranding:!1,content:jsxRuntimeExports.jsx(VerifyPage,_objectSpread2$2(_objectSpread2$2({appProofs:_u,onSuccess:function(){Xu()},onError:function(Gu){Yu(Gu)},successPageDuration:Cu},Nu&&{stampWith:Nu}),Lu!==void 0&&{organizationId:Lu})),showTitle:!1,preventBack:!0,onClose:function(){return Yu(new TurnkeyError("User canceled the verify app proofs process.",TurnkeyErrorCodes.USER_CANCELED))}})}));case 3:if(Wu.p=3,Uu=Wu.v,!(Uu instanceof TurnkeyError)){Wu.n=4;break}throw Uu;case 4:throw new TurnkeyError("Failed to verify app proofs.",TurnkeyErrorCodes.VERIFY_APP_PROOFS_ERROR,Uu);case 5:return Wu.a(2)}},Ql,null,[[2,3]])}));return function(Ql){return Ou.apply(this,arguments)}}(),[yp,ju]);reactExports.useEffect(function(){if(!ku.current){var Ou=function(){var Ql=_asyncToGenerator(_regenerator().m(function zl(){var Jl;return _regenerator().w(function(_u){for(;;)switch(_u.p=_u.n){case 0:if(_u.p=0,!Fl){_u.n=2;break}return _u.n=1,getAuthProxyConfig(qs.authProxyConfigId,qs.authProxyUrl);case 1:Jl=_u.v,ku.current=Jl;case 2:xl(_d(Jl)),_u.n=4;break;case 3:_u.p=3,_u.v,Ul(ClientState.Error);case 4:return _u.a(2)}},zl,null,[[0,3]])}));return function(){return Ql.apply(this,arguments)}}();Ou()}},[]),reactExports.useEffect(function(){Al&&vp()},[Al]),reactExports.useEffect(function(){var Ou;!ku.current&&Fl||xl(_d((Ou=ku.current)!==null&&Ou!==void 0?Ou:void 0))},[qs,ku.current]);var o0=useDebouncedCallback(rp,100),ly=useDebouncedCallback(vm,100);return reactExports.useEffect(function(){var Ou=function(){var zl=_asyncToGenerator(_regenerator().m(function Jl(){var _u;return _regenerator().w(function(Au){for(;;)switch(Au.n){case 0:return Au.n=1,yp();case 1:if(_u=Au.v,!_u){Au.n=3;break}return Au.n=2,o0();case 2:Au.n=4;break;case 3:return Au.n=4,ly();case 4:return Au.a(2)}},Jl)}));return function(){return zl.apply(this,arguments)}}(),Ql=function(){};return Rp(Su,Ou).then(function(zl){Ql=zl}).catch(function(zl){console.error("Failed to init providers:",zl)}),function(){Ql()}},[Su,yp,o0,ly]),reactExports.useEffect(function(){_l&&isValidSession(_l)?Gl(AuthState.Authenticated):Gl(AuthState.Unauthenticated)},[_l]),reactExports.useEffect(function(){if(!(!Js||!Al))return Zu().finally(function(){var Ou,Ql,zl,Jl;Gp(),((Ou=Al.walletConfig)!==null&&Ou!==void 0&&(Ql=Ou.features)!==null&&Ql!==void 0&&Ql.auth||(zl=Al.walletConfig)!==null&&zl!==void 0&&(Jl=zl.features)!==null&&Jl!==void 0&&Jl.connecting)&&vm(),Ap().finally(function(){Ul(ClientState.Ready)})}),function(){Gp()}},[Js]),jsxRuntimeExports.jsx(ClientContext.Provider,{value:{session:_l,allSessions:Mu,clientState:Xl,authState:Dl,user:Bl,wallets:Rl,walletProviders:Su,config:Al,httpClient:Js==null?void 0:Js.httpClient,createHttpClient:dm,createPasskey:Am,logout:Qu,loginWithPasskey:Ip,signUpWithPasskey:fp,fetchWalletProviders:vm,connectWalletAccount:hp,disconnectWalletAccount:gp,switchWalletAccountChain:pp,buildWalletLoginRequest:dp,loginWithWallet:Hp,signUpWithWallet:Xp,loginOrSignupWithWallet:um,initOtp:fm,verifyOtp:gm,loginWithOtp:Fm,signUpWithOtp:iy,completeOtp:uy,loginWithOauth:xm,signUpWithOauth:m0,completeOauth:$m,fetchWallets:am,fetchWalletAccounts:y0,fetchPrivateKeys:v0,refreshWallets:Ju,signMessage:$0,signTransaction:E0,ethSendTransaction:r0,signAndSendTransaction:w0,pollTransactionStatus:n0,fetchUser:ym,fetchOrCreateP256ApiKeyUser:_0,fetchOrCreatePolicies:S0,refreshUser:zu,updateUserEmail:sy,removeUserEmail:A0,updateUserPhoneNumber:ay,removeUserPhoneNumber:T0,updateUserName:hy,addOauthProvider:py,removeOauthProviders:I0,addPasskey:gy,removePasskeys:x0,createWallet:C0,createWalletAccounts:P0,exportWallet:k0,exportPrivateKey:R0,exportWalletAccount:N0,importWallet:O0,importPrivateKey:D0,deleteSubOrganization:B0,storeSession:M0,clearSession:$p,clearAllSessions:L0,refreshSession:Kp,getSession:yp,getAllSessions:tm,setActiveSession:F0,clearUnusedKeyPairs:U0,getActiveSessionKey:Dp,createApiKeyPair:Cm,getProxyAuthConfig:j0,fetchBootProofForAppProof:z0,verifyAppProofs:V0,handleLogin:H0,handleGoogleOauth:vy,handleXOauth:yy,handleDiscordOauth:my,handleAppleOauth:$y,handleFacebookOauth:by,handleExportWallet:K0,handleExportPrivateKey:W0,handleExportWalletAccount:G0,handleImportWallet:q0,handleImportPrivateKey:Y0,handleUpdateUserEmail:J0,handleUpdateUserPhoneNumber:Z0,handleUpdateUserName:X0,handleAddOauthProvider:i1,handleRemoveOauthProvider:n1,handleAddPasskey:r1,handleRemovePasskey:t1,handleAddEmail:Q0,handleAddPhoneNumber:e1,handleSignMessage:b0,handleConnectExternalWallet:o1,handleRemoveUserEmail:s1,handleRemoveUserPhoneNumber:a1,handleVerifyAppProofs:i0,handleOnRamp:c1,handleSendTransaction:l1},children:Ys})};function ModalRoot(at){var zs,Ws,qs,Ys,Xs=at.config,Zs=useModal(),yl=Zs.modalStack,Js=Zs.popPage,$l=Zs.closeModal,El=Zs.screenWidth,wl=Zs.isMobile,_l=Zs.sheet,Sl=Zs.closeSheet,Tl=useTurnkey(),Il=Tl.clientState,Al=yl.length>0?yl[0]:null,xl=yl[yl.length-1],Pl=reactExports.useState(_l),Cl=_slicedToArray$2(Pl,2),Rl=Cl[0],Ol=Cl[1],Ml=yl.length>1&&!(xl!=null&&xl.preventBack),Ll=reactExports.useState(0),Bl=_slicedToArray$2(Ll,2),Wl=Bl[0],Yl=Bl[1],Kl=16,Xl=reactExports.useRef(null),Ul=reactExports.useState(300),Vl=_slicedToArray$2(Ul,2),Nl=Vl[0],Dl=Vl[1],Gl=reactExports.useState(300),Fl=_slicedToArray$2(Gl,2),Hl=Fl[0],Zl=Fl[1],Su=reactExports.useState(!0),$u=_slicedToArray$2(Su,2),Pu=$u[0],ku=$u[1];useCssLoaded(yl);var Tu=El*.9,Ru=function(){var Hu,Ku,Fu=(Hu=Xs==null||(Ku=Xs.ui)===null||Ku===void 0?void 0:Ku.borderRadius)!==null&&Hu!==void 0?Hu:16,ju=typeof Fu=="number"?"".concat(Fu,"px"):Fu;return wl?"".concat(ju," ").concat(ju," 0 0"):ju};return reactExports.useEffect(function(){var Mu=Xl.current;if(!(!Mu||!Pu)){var Hu=!1,Ku=new ResizeObserver(function(Fu){var ju=_slicedToArray$2(Fu,1),qu=ju[0];if(!(!qu||Hu)){Yl(10);var Zu=qu.contentRect,_d=Zu.width,vp=Zu.height;Dl(vp),Zl(_d),setTimeout(function(){return!Hu&&Yl(0)},100)}});return Ku.observe(Mu),function(){Hu=!0,Ku.disconnect()}}},[Xl.current,Pu]),reactExports.useEffect(function(){var Mu=!1,Hu=function(){if(!(Mu||!Xl.current)){Yl(10);var ju=Xl.current.getBoundingClientRect();Dl(ju.height),Zl(ju.width),setTimeout(function(){return!Mu&&Yl(0)},100)}};if(xl){ku(!0),requestAnimationFrame(Hu);var Ku=document.body.style.overflow;return document.body.style.overflow="hidden",function(){Mu=!0,document.body.style.overflow=Ku}}else{ku(!1),Dl(Nl/1.3),Zl(wl?Hl:Hl/1.3);return}},[xl,wl]),reactExports.useEffect(function(){_l&&Ol(_l)},[_l]),jsxRuntimeExports.jsx(Ke$4,{appear:!0,show:!!xl,as:reactExports.Fragment,children:jsxRuntimeExports.jsx(te$3,{as:reactExports.Fragment,children:jsxRuntimeExports.jsxs("div",{className:"relative z-40",children:[jsxRuntimeExports.jsx(Oe$3,{as:reactExports.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/40",style:{backdropFilter:"blur(".concat(typeof(Xs==null||(zs=Xs.ui)===null||zs===void 0?void 0:zs.backgroundBlur)=="number"?"".concat(Xs.ui.backgroundBlur,"px"):(Ws=Xs==null||(qs=Xs.ui)===null||qs===void 0?void 0:qs.backgroundBlur)!==null&&Ws!==void 0?Ws:"8px",")")}})}),jsxRuntimeExports.jsx("div",{className:clsx("tk-modal fixed inset-0 flex justify-center transition-colors",{dark:Xs==null||(Ys=Xs.ui)===null||Ys===void 0?void 0:Ys.darkMode},{"items-end":wl},{"items-center":!wl}),onMouseDown:function(Hu){Hu.target===Hu.currentTarget&&(Hu.stopPropagation(),$l())},children:jsxRuntimeExports.jsx(Oe$3,{as:reactExports.Fragment,enter:"ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsxRuntimeExports.jsxs("div",{onClick:function(Hu){return Hu.stopPropagation()},style:{height:Nl,width:wl?Tu:Hl,padding:Kl,borderRadius:Ru()},className:"relative bg-modal-background-light dark:bg-modal-background-dark text-modal-text-light dark:text-modal-text-dark flex justify-center shadow-xl transition-all overflow-x-clip",children:[jsxRuntimeExports.jsxs("div",{className:"h-6.5 absolute z-30 flex items-center justify-between transition-all",style:{width:wl?Tu:Hl},children:[jsxRuntimeExports.jsx("div",{className:"w-6.5 h-6.5",children:Ml&&jsxRuntimeExports.jsx(IconButton,{className:"w-6.5 h-6.5",icon:faArrowLeft,onClick:Js})}),jsxRuntimeExports.jsx("h2",{className:"text-base font-medium",children:(xl==null?void 0:xl.showTitle)===void 0||xl.showTitle?xl==null?void 0:xl.key:null}),jsxRuntimeExports.jsx("div",{className:"w-6.5 h-6.5",children:jsxRuntimeExports.jsx(IconButton,{className:"w-6.5 h-6.5",icon:faClose,onClick:function(){var Hu;Al==null||(Hu=Al.onClose)===null||Hu===void 0||Hu.call(Al),$l()}})})]}),jsxRuntimeExports.jsx(Oe$3,{as:reactExports.Fragment,enter:"ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsxRuntimeExports.jsxs("div",{className:clsx("flex flex-col z-10 transition-all duration-50 self-start",wl&&"w-full items-center"),style:{filter:"blur(".concat(Wl,"px)")},ref:Xl,children:[Il===ClientState.Error?jsxRuntimeExports.jsx(DeveloperError,{developerTitle:"Turnkey SDK failed to initialize.",developerMessages:["Check your config and ensure you're connected to the internet.","Try attaching an onError callback to the TurnkeyProvider's callbacks to see more details.","You can also inspect the network tab to see any failed network requests."],userMessages:["An underlying error occurred. Try refreshing the page"]}):xl==null?void 0:xl.content,(xl==null?void 0:xl.showTurnkeyBranding)!==!1&&jsxRuntimeExports.jsxs("a",{href:"https://www.turnkey.com/",target:"_blank",className:"flex flex-row items-center justify-center gap-0.5 mt-2 mb-1 text-icon-text-light/50 dark:text-icon-text-dark/50 text-xs no-underline",style:{opacity:xl!=null&&xl.content?1:0},children:[jsxRuntimeExports.jsx("span",{children:"Secured by"}),jsxRuntimeExports.jsx(TurnkeyLogo,{className:"w-[60px] h-[11px]"})]})]})}),jsxRuntimeExports.jsx("div",{style:{borderRadius:Ru()},className:"overflow-clip absolute top-0 left-0 w-full h-full",children:jsxRuntimeExports.jsx(Ke$4,{appear:!0,show:!!_l,as:reactExports.Fragment,afterLeave:function(){return Ol(null)},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Oe$3,{as:reactExports.Fragment,enter:"ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsxRuntimeExports.jsx("div",{style:{borderRadius:Ru()},className:"absolute left-0 top-0 z-40 bg-black/20 w-full h-full transition-all",onClick:function(Hu){Hu.stopPropagation(),Sl()}})}),jsxRuntimeExports.jsx(Oe$3,{as:reactExports.Fragment,enter:"ease-out duration-150",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"ease-out duration-150",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:jsxRuntimeExports.jsxs("div",{style:{borderRadius:Ru(),width:wl?Tu:Hl},className:"absolute transition-all duration-100 self-start bottom-0 left-0 right-0 bg-modal-background-light dark:bg-modal-background-dark border-t border-icon-background-light dark:border-icon-background-dark p-4 z-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6.5 h-6.5"}),jsxRuntimeExports.jsx("h1",{className:"text-base font-medium text-center !my-0 !mx-4",children:Rl==null?void 0:Rl.key}),jsxRuntimeExports.jsx(IconButton,{className:"w-6.5 h-6.5",icon:faClose,onClick:Sl})]}),jsxRuntimeExports.jsx(Oe$3,{as:reactExports.Fragment,enter:"ease-out duration-200",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"ease-out duration-150",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0",children:Rl==null?void 0:Rl.content})]})})]})})})]})})})]})})})}function useCssLoaded(at,zs){reactExports.useEffect(function(){},[at])}function TurnkeyThemeOverrides(at){var zs=at.light,Ws=at.dark,qs=function(Zs){return Zs?Object.entries(Zs).map(function(yl){var Js=_slicedToArray$2(yl,2),$l=Js[0],El=Js[1];return"--color-".concat(kebab($l),"-light: ").concat(El,";")}).join(`
`):""},Ys=function(Zs){return Zs?Object.entries(Zs).map(function(yl){var Js=_slicedToArray$2(yl,2),$l=Js[0],El=Js[1];return"--color-".concat(kebab($l),"-dark: ").concat(El,";")}).join(`
`):""};return jsxRuntimeExports.jsx("style",{children:`
        :root {
          `.concat(qs(zs),`
        }
        .dark {
          `).concat(Ys(Ws),`
        }
      `)})}function kebab(at){return at.replace(/[A-Z]/g,function(zs){return"-".concat(zs.toLowerCase())})}function TurnkeyProvider(at){var zs,Ws,qs,Ys,Xs,Zs=at.children,yl=at.config,Js=at.callbacks;return jsxRuntimeExports.jsx(ModalProvider,{children:jsxRuntimeExports.jsxs(ClientProvider,{config:yl,callbacks:Js,children:[jsxRuntimeExports.jsx(TurnkeyThemeOverrides,{light:(zs=yl.ui)===null||zs===void 0||(Ws=zs.colors)===null||Ws===void 0?void 0:Ws.light,dark:(qs=yl.ui)===null||qs===void 0||(Ys=qs.colors)===null||Ys===void 0?void 0:Ys.dark}),Zs,((Xs=yl.ui)===null||Xs===void 0?void 0:Xs.renderModalInProvider)&&jsxRuntimeExports.jsx("div",{id:"headlessui-portal-root",children:jsxRuntimeExports.jsx("div",{})}),jsxRuntimeExports.jsx(ModalRoot,{config:yl})]})})}const AsyncStorage$1={getItem:function(at){try{const zs=localStorage.getItem(at);return Promise.resolve(zs)}catch(zs){return console.warn("AsyncStorage.getItem error:",zs),Promise.resolve(null)}},setItem:function(at,zs){try{return localStorage.setItem(at,zs),Promise.resolve()}catch(Ws){return console.warn("AsyncStorage.setItem error:",Ws),Promise.reject(Ws)}},removeItem:function(at){try{return localStorage.removeItem(at),Promise.resolve()}catch(zs){return console.warn("AsyncStorage.removeItem error:",zs),Promise.reject(zs)}},clear:function(){try{return localStorage.clear(),Promise.resolve()}catch(at){return console.warn("AsyncStorage.clear error:",at),Promise.reject(at)}},getAllKeys:function(){try{return Promise.resolve(Object.keys(localStorage))}catch(at){return console.warn("AsyncStorage.getAllKeys error:",at),Promise.resolve([])}},multiGet:function(at){try{const zs=at.map(Ws=>[Ws,localStorage.getItem(Ws)]);return Promise.resolve(zs)}catch(zs){return console.warn("AsyncStorage.multiGet error:",zs),Promise.resolve([])}},multiSet:function(at){try{return at.forEach(([zs,Ws])=>{localStorage.setItem(zs,Ws)}),Promise.resolve()}catch(zs){return console.warn("AsyncStorage.multiSet error:",zs),Promise.reject(zs)}},multiRemove:function(at){try{return at.forEach(zs=>localStorage.removeItem(zs)),Promise.resolve()}catch(zs){return console.warn("AsyncStorage.multiRemove error:",zs),Promise.reject(zs)}}};typeof module<"u"&&module.exports&&(module.exports=AsyncStorage$1,module.exports.default=AsyncStorage$1),typeof window<"u"&&(window.AsyncStorage=AsyncStorage$1,typeof globalThis<"u"&&(globalThis.AsyncStorage=AsyncStorage$1),typeof require<"u"&&typeof require.cache<"u"&&(require.cache["@react-native-async-storage/async-storage"]={exports:AsyncStorage$1}));var define_process_env_default$2={};if(typeof window<"u"){window.AsyncStorage=AsyncStorage$1,typeof globalThis<"u"&&(globalThis.AsyncStorage=AsyncStorage$1),typeof global<"u"&&(global.AsyncStorage=AsyncStorage$1);const at=typeof require<"u"?require:null;if(at&&typeof at.resolve=="function"){const zs=at.resolve;at.resolve=function(Ws){return Ws==="@react-native-async-storage/async-storage"?"@react-native-async-storage/async-storage":zs.apply(this,arguments)}}at&&at.cache&&(at.cache["@react-native-async-storage/async-storage"]={exports:AsyncStorage$1,loaded:!0})}let TURNKEY_ORG_ID="",TURNKEY_AUTH_PROXY_CONFIG_ID="",TURNKEY_WALLETCONNECT_PROJECT_ID="";console.log("Current origin:",window.location.origin),console.log("Current hostname:",window.location.hostname),fetch("/api/turnkey-config").then(at=>at.json()).then(at=>{TURNKEY_ORG_ID=at.orgId,TURNKEY_AUTH_PROXY_CONFIG_ID=at.authProxyConfigId,TURNKEY_WALLETCONNECT_PROJECT_ID=at.walletConnectProjectId||"",console.log("Turnkey config loaded:",{orgId:TURNKEY_ORG_ID,authProxyConfigId:TURNKEY_AUTH_PROXY_CONFIG_ID})}).catch(at=>{console.warn("Failed to fetch Turnkey config, using defaults:",at),TURNKEY_ORG_ID=define_process_env_default$2.TURNKEY_ORG_ID||"",TURNKEY_AUTH_PROXY_CONFIG_ID=define_process_env_default$2.TURNKEY_AUTH_PROXY_CONFIG_ID||""});function WalletConnectButton(){const{isAuthenticated:at,authenticate:zs,logout:Ws,wallets:qs,createWallet:Ys,isLoading:Xs}=useTurnkey(),[Zs,yl]=React$1.useState(null);React$1.useEffect(()=>{var wl;console.log("Turnkey wallet state changed:",{isAuthenticated:at,walletCount:(qs==null?void 0:qs.length)||0,isLoading:Xs});const El=qs==null?void 0:qs.find(_l=>{var Sl;return(Sl=_l.accounts)==null?void 0:Sl.some(Tl=>Tl.addressFormat==="ADDRESS_FORMAT_SOLANA")});if(El){const _l=(wl=El.accounts)==null?void 0:wl.find(Sl=>Sl.addressFormat==="ADDRESS_FORMAT_SOLANA");if(_l&&_l.address&&(yl({address:_l.address,walletId:El.walletId,walletName:El.walletName}),window.userWalletAddress!==_l.address)){window.userWalletAddress=_l.address,console.log(" Setting wallet address:",_l.address),console.log(" Dispatching turnkey-wallet-connected event");const Sl=new CustomEvent("turnkey-wallet-connected",{detail:{address:_l.address}});window.dispatchEvent(Sl),setTimeout(()=>{window.showTurnkeySuccessNotification&&window.showTurnkeySuccessNotification(_l.address)},500),setTimeout(()=>{const Tl=document.getElementById("play-button"),Il=document.getElementById("create-button");Tl&&(Tl.disabled=!1,Tl.style.opacity="1",Tl.style.cursor="pointer",console.log(" Enabled play button")),Il&&(Il.disabled=!1,Il.style.opacity="1",Il.style.cursor="pointer",console.log(" Enabled create button"))},100)}}else!Xs&&!at&&!(qs!=null&&qs.length)&&(window.userWalletAddress&&(console.log("No wallets found and not authenticated, clearing wallet address"),window.userWalletAddress=null,window.dispatchEvent(new CustomEvent("turnkey-wallet-disconnected"))),yl(null))},[at,qs,Xs]);const Js=async()=>{try{if(console.log(" Attempting to connect wallet with Turnkey..."),console.log("Current authenticated state:",at),at)(qs==null?void 0:qs.find(wl=>{var _l;return(_l=wl.accounts)==null?void 0:_l.some(Sl=>Sl.addressFormat==="ADDRESS_FORMAT_SOLANA")}))||(console.log(" Authenticated but no Solana wallet, creating one..."),await Ys({walletName:`Wallet ${Date.now()}`,accounts:["ADDRESS_FORMAT_SOLANA"]}));else if(console.log(" Opening Turnkey authentication..."),await zs(),console.log(" Authentication completed"),await new Promise(El=>setTimeout(El,1e3)),!qs||qs.length===0){console.log(" No wallets found, creating embedded wallet with Solana account...");try{await Ys({walletName:`Wallet ${Date.now()}`,accounts:["ADDRESS_FORMAT_SOLANA"]}),console.log(" Wallet created successfully")}catch(El){throw console.error(" Error creating wallet:",El),El}}else qs.some(wl=>{var _l;return(_l=wl.accounts)==null?void 0:_l.some(Sl=>Sl.addressFormat==="ADDRESS_FORMAT_SOLANA")})||(console.log(" No Solana account found, creating one..."),await Ys({walletName:`Wallet ${Date.now()}`,accounts:["ADDRESS_FORMAT_SOLANA"]}))}catch(El){console.error(" Error connecting wallet:",El),console.error("Error details:",{message:El==null?void 0:El.message,name:El==null?void 0:El.name,stack:El==null?void 0:El.stack});const wl=document.createElement("div");wl.style.cssText="position: fixed; bottom: 20px; right: 20px; background: #dc3545; color: #fff; padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 10000; max-width: 300px; font-family: Nunito, sans-serif; font-weight: 600;";const _l=(El==null?void 0:El.message)||"Unknown error";wl.innerHTML=`<div style="position: absolute; top: 5px; right: 5px; background: transparent; border: 1px solid rgba(255,255,255,0.5); color: #fff; width: 24px; height: 24px; border-radius: 4px; cursor: pointer; font-size: 18px; line-height: 1; display: flex; align-items: center; justify-content: center; padding: 0;" onclick="this.parentElement.remove()"></div><div style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">Connection Error</div><div style="font-size: 14px;">${_l}</div>`,document.body.appendChild(wl),setTimeout(()=>wl.remove(),5e3)}},$l=async()=>{try{await Ws(),window.userWalletAddress=null,yl(null),window.dispatchEvent(new CustomEvent("turnkey-wallet-disconnected"))}catch(El){console.error("Error disconnecting:",El)}};if(Xs)return jsxRuntimeExports.jsx("button",{disabled:!0,style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"not-allowed",opacity:.5},children:"Loading..."});if(at&&Zs){const El=Zs.address||"",wl=El?`${El.substring(0,4)}...${El.substring(El.length-4)}`:"";return jsxRuntimeExports.jsxs("div",{id:"header-wallet-info",style:{display:"block",color:"#fff",fontSize:"0.9em",marginTop:"5px",textAlign:"center"},children:[jsxRuntimeExports.jsx("div",{id:"header-wallet-address",style:{marginBottom:"5px"},children:wl}),jsxRuntimeExports.jsx("button",{id:"header-wallet-disconnect",onClick:$l,style:{padding:"5px 10px",fontSize:"0.8em",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"5px",color:"#fff",cursor:"pointer"},children:"Disconnect"})]})}return jsxRuntimeExports.jsx("button",{id:"header-wallet-connect-btn",onClick:Js,style:{background:"linear-gradient(135deg, #9945FF 0%, #14F195 100%)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"pointer",boxShadow:"0 3px 8px rgba(0,0,0,0.3)"},children:jsxRuntimeExports.jsx("span",{id:"wallet-btn-text",children:"Connect Wallet"})})}function TurnkeyApp(){React$1.useEffect(()=>{window.showTurnkeySuccessNotification=qs=>{const Ys=document.getElementById("turnkey-success-notification");Ys&&Ys.remove();const Xs=qs?`${qs.substring(0,4)}...${qs.substring(qs.length-4)}`:"",Zs=document.createElement("div");if(Zs.id="turnkey-success-notification",Zs.style.cssText=`
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border: 2px solid #9945FF;
        border-radius: 16px;
        padding: 32px;
        box-shadow: 0 8px 32px rgba(153, 69, 255, 0.3);
        z-index: 10001;
        max-width: 400px;
        width: 90%;
        text-align: center;
        font-family: 'Nunito', sans-serif;
        color: #fff;
        animation: slideIn 0.3s ease-out;
      `,!document.getElementById("turnkey-success-animation")){const yl=document.createElement("style");yl.id="turnkey-success-animation",yl.textContent=`
          @keyframes slideIn {
            from {
              opacity: 0;
              transform: translate(-50%, -60%);
            }
            to {
              opacity: 1;
              transform: translate(-50%, -50%);
            }
          }
        `,document.head.appendChild(yl)}Zs.innerHTML=`
        <div style="margin-bottom: 20px;">
          <div style="
            width: 64px;
            height: 64px;
            margin: 0 auto;
            background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 4px 16px rgba(153, 69, 255, 0.4);
          ">
            
          </div>
        </div>
        <h2 style="
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 12px 0;
          color: #14F195;
        ">Wallet Connected Successfully!</h2>
        <p style="
          font-size: 16px;
          margin: 0 0 8px 0;
          color: rgba(255, 255, 255, 0.9);
        ">Your Solana wallet ${Xs?`(${Xs})`:""} is ready!</p>
        <p style="
          font-size: 14px;
          margin: 0 0 16px 0;
          color: rgba(255, 255, 255, 0.7);
          line-height: 1.4;
        "> <strong>Rewards:</strong> When you win, rewards will be sent directly to this wallet. Just sign in with your email to claim them - no password needed!</p>
        <div style="
          margin-top: 24px;
          padding-top: 16px;
          border-top: 1px solid rgba(255, 255, 255, 0.1);
          font-size: 12px;
          color: rgba(255, 255, 255, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        ">
          <span>Secured by</span>
          <span style="
            background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
          ">Turnkey</span>
        </div>
        <button onclick="this.closest('#turnkey-success-notification').remove()" style="
          margin-top: 20px;
          background: linear-gradient(135deg, #9945FF 0%, #14F195 100%);
          color: #fff;
          border: none;
          padding: 12px 32px;
          border-radius: 8px;
          font-weight: 700;
          cursor: pointer;
          font-size: 16px;
          font-family: 'Nunito', sans-serif;
          box-shadow: 0 4px 12px rgba(153, 69, 255, 0.3);
          transition: transform 0.2s;
        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
          Continue
        </button>
      `,document.body.appendChild(Zs),setTimeout(()=>{Zs.parentNode&&(Zs.style.animation="slideIn 0.3s ease-out reverse",setTimeout(()=>Zs.remove(),300))},5e3)}},[]);const[at,zs]=React$1.useState(!1);if(React$1.useEffect(()=>{fetch("/api/turnkey-config").then(qs=>qs.json()).then(qs=>{qs.orgId&&qs.authProxyConfigId&&zs(!0)}).catch(()=>{TURNKEY_ORG_ID&&TURNKEY_AUTH_PROXY_CONFIG_ID?zs(!0):console.warn(" Turnkey config not available. Please set TURNKEY_ORG_ID and TURNKEY_AUTH_PROXY_CONFIG_ID")})},[]),!at)return jsxRuntimeExports.jsx("button",{disabled:!0,style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"not-allowed",opacity:.5},children:"Initializing..."});if(!TURNKEY_ORG_ID||!TURNKEY_AUTH_PROXY_CONFIG_ID)return jsxRuntimeExports.jsx("button",{disabled:!0,style:{background:"rgba(255,255,255,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"not-allowed",opacity:.5},children:"Config Loading..."});const Ws={organizationId:TURNKEY_ORG_ID,authProxyConfigId:TURNKEY_AUTH_PROXY_CONFIG_ID,auth:{methods:{passkeyAuthEnabled:!1,walletAuthEnabled:!0,emailOtpEnabled:!0}},walletConfig:{chains:{solana:{native:!0,walletConnectNamespaces:TURNKEY_WALLETCONNECT_PROJECT_ID?["solana:mainnet"]:void 0}},walletConnect:TURNKEY_WALLETCONNECT_PROJECT_ID?{projectId:TURNKEY_WALLETCONNECT_PROJECT_ID,appMetadata:{name:"doodls.fun",description:"Free multiplayer drawing and guessing game",url:window.location.origin,icons:[`${window.location.origin}/img/doodllogo.gif`]}}:void 0},ui:{darkMode:!0,renderModalInProvider:!0,borderRadius:"8px",backdropBlur:"10px"}};try{return jsxRuntimeExports.jsx(TurnkeyProvider,{config:Ws,callbacks:{onError:qs=>{console.error(" Turnkey Provider Error:",qs),console.error("Error details:",{message:qs==null?void 0:qs.message,name:qs==null?void 0:qs.name,stack:qs==null?void 0:qs.stack,cause:qs==null?void 0:qs.cause})}},children:jsxRuntimeExports.jsx(WalletConnectButton,{})})}catch(qs){return console.error("TurnkeyProvider initialization error:",qs),jsxRuntimeExports.jsx("button",{disabled:!0,style:{background:"rgba(255,0,0,0.2)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"not-allowed",opacity:.5},children:"Wallet Error"})}}let turnkeyAppInitialized=!1;function initTurnkeyApp(){if(turnkeyAppInitialized)return;const at=document.getElementById("wallet-connect-header");at&&!at.hasChildNodes()&&(turnkeyAppInitialized=!0,client.createRoot(at).render(React$1.createElement(TurnkeyApp)))}typeof window<"u"&&(window.TurnkeyApp={initTurnkeyApp},document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){setTimeout(initTurnkeyApp,100)}):setTimeout(initTurnkeyApp,100));function convertTurnkeyApiKeyToJwk(at){const{uncompressedPrivateKeyHex:zs,compressedPublicKeyHex:Ws}=at;let qs;try{qs=pointDecode(uint8ArrayFromHexString(Ws))}catch{throw new Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return qs.d=hexStringToBase64url(zs,DEFAULT_JWK_MEMBER_BYTE_LENGTH),qs}const signWithApiKey$2=async at=>{const{content:zs,publicKey:Ws,privateKey:qs}=at,Ys=await importTurnkeyApiKey({uncompressedPrivateKeyHex:qs,compressedPublicKeyHex:Ws});return await signMessage({key:Ys,content:zs})};async function importTurnkeyApiKey(at){const{uncompressedPrivateKeyHex:zs,compressedPublicKeyHex:Ws}=at,qs=convertTurnkeyApiKeyToJwk({uncompressedPrivateKeyHex:zs,compressedPublicKeyHex:Ws});return await crypto.subtle.importKey("jwk",qs,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function signMessage(at){const{key:zs,content:Ws}=at,qs=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},zs,new TextEncoder().encode(Ws)),Ys=convertEcdsaIeee1363ToDer(new Uint8Array(qs));return uint8ArrayToHexString(Ys)}function convertEcdsaIeee1363ToDer(at){if(at.length%2!=0||at.length==0||at.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+at.length);const zs=toUnsignedBigNum(at.subarray(0,at.length/2)),Ws=toUnsignedBigNum(at.subarray(at.length/2,at.length));let qs=0;const Ys=2+zs.length+1+1+Ws.length;let Xs;return Ys>=128?(Xs=new Uint8Array(Ys+3),Xs[qs++]=48,Xs[qs++]=129,Xs[qs++]=Ys):(Xs=new Uint8Array(Ys+2),Xs[qs++]=48,Xs[qs++]=Ys),Xs[qs++]=2,Xs[qs++]=zs.length,Xs.set(zs,qs),qs+=zs.length,Xs[qs++]=2,Xs[qs++]=Ws.length,Xs.set(Ws,qs),Xs}function toUnsignedBigNum(at){let zs=0;for(;zs<at.length&&at[zs]==0;)zs++;zs==at.length&&(zs=at.length-1);let Ws=0;(at[zs]&128)==128&&(Ws=1);const qs=new Uint8Array(at.length-zs+Ws);return qs.set(at.subarray(zs),Ws),qs}const webcrypto=Object.freeze(Object.defineProperty({__proto__:null,signWithApiKey:signWithApiKey$2},Symbol.toStringTag,{value:"Module"})),signWithApiKey$1=async at=>{const{content:zs,publicKey:Ws,privateKey:qs}=at,Ys=(void 0)({key:convertTurnkeyApiKeyToJwk({uncompressedPrivateKeyHex:qs,compressedPublicKeyHex:Ws}),format:"jwk"}),Xs=(void 0)("SHA256");return Xs.write(Buffer.from(zs)),Xs.end(),Xs.sign(Ys,"hex")},nodecrypto=Object.freeze(Object.defineProperty({__proto__:null,signWithApiKey:signWithApiKey$1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$e=BigInt(0),_1n$e=BigInt(1);function _abool2(at,zs=""){if(typeof at!="boolean"){const Ws=zs&&`"${zs}"`;throw new Error(Ws+"expected boolean, got type="+typeof at)}return at}function _abytes2(at,zs,Ws=""){const qs=isBytes$4(at),Ys=at==null?void 0:at.length,Xs=zs!==void 0;if(!qs||Xs&&Ys!==zs){const Zs=Ws&&`"${Ws}" `,yl=Xs?` of length ${zs}`:"",Js=qs?`length=${Ys}`:`type=${typeof at}`;throw new Error(Zs+"expected Uint8Array"+yl+", got "+Js)}return at}function numberToHexUnpadded$2(at){const zs=at.toString(16);return zs.length&1?"0"+zs:zs}function hexToNumber$3(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return at===""?_0n$e:BigInt("0x"+at)}function bytesToNumberBE$2(at){return hexToNumber$3(bytesToHex$5(at))}function bytesToNumberLE$2(at){return abytes$3(at),hexToNumber$3(bytesToHex$5(Uint8Array.from(at).reverse()))}function numberToBytesBE$2(at,zs){return hexToBytes$5(at.toString(16).padStart(zs*2,"0"))}function numberToBytesLE$2(at,zs){return numberToBytesBE$2(at,zs).reverse()}function ensureBytes$2(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=hexToBytes$5(zs)}catch(Ys){throw new Error(at+" must be hex string or Uint8Array, cause: "+Ys)}else if(isBytes$4(zs))qs=Uint8Array.from(zs);else throw new Error(at+" must be hex string or Uint8Array");return qs.length,qs}const isPosBig$2=at=>typeof at=="bigint"&&_0n$e<=at;function inRange$2(at,zs,Ws){return isPosBig$2(at)&&isPosBig$2(zs)&&isPosBig$2(Ws)&&zs<=at&&at<Ws}function aInRange$2(at,zs,Ws,qs){if(!inRange$2(zs,Ws,qs))throw new Error("expected valid "+at+": "+Ws+" <= n < "+qs+", got "+zs)}function bitLen$2(at){let zs;for(zs=0;at>_0n$e;at>>=_1n$e,zs+=1);return zs}const bitMask$2=at=>(_1n$e<<BigInt(at))-_1n$e;function createHmacDrbg$2(at,zs,Ws){if(typeof at!="number"||at<2)throw new Error("hashLen must be a number");if(typeof zs!="number"||zs<2)throw new Error("qByteLen must be a number");if(typeof Ws!="function")throw new Error("hmacFn must be a function");const qs=Sl=>new Uint8Array(Sl),Ys=Sl=>Uint8Array.of(Sl);let Xs=qs(at),Zs=qs(at),yl=0;const Js=()=>{Xs.fill(1),Zs.fill(0),yl=0},$l=(...Sl)=>Ws(Zs,Xs,...Sl),El=(Sl=qs(0))=>{Zs=$l(Ys(0),Sl),Xs=$l(),Sl.length!==0&&(Zs=$l(Ys(1),Sl),Xs=$l())},wl=()=>{if(yl++>=1e3)throw new Error("drbg: tried 1000 values");let Sl=0;const Tl=[];for(;Sl<zs;){Xs=$l();const Il=Xs.slice();Tl.push(Il),Sl+=Xs.length}return concatBytes$6(...Tl)};return(Sl,Tl)=>{Js(),El(Sl);let Il;for(;!(Il=Tl(wl()));)El();return Js(),Il}}function _validateObject(at,zs,Ws={}){if(!at||typeof at!="object")throw new Error("expected valid options object");function qs(Ys,Xs,Zs){const yl=at[Ys];if(Zs&&yl===void 0)return;const Js=typeof yl;if(Js!==Xs||yl===null)throw new Error(`param "${Ys}" is invalid: expected ${Xs}, got ${Js}`)}Object.entries(zs).forEach(([Ys,Xs])=>qs(Ys,Xs,!1)),Object.entries(Ws).forEach(([Ys,Xs])=>qs(Ys,Xs,!0))}function memoized$2(at){const zs=new WeakMap;return(Ws,...qs)=>{const Ys=zs.get(Ws);if(Ys!==void 0)return Ys;const Xs=at(Ws,...qs);return zs.set(Ws,Xs),Xs}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$d=BigInt(0),_1n$d=BigInt(1),_2n$6=BigInt(2),_3n$5=BigInt(3),_4n$5=BigInt(4),_5n$2=BigInt(5),_7n$1=BigInt(7),_8n$2=BigInt(8),_9n=BigInt(9),_16n=BigInt(16);function mod$2(at,zs){const Ws=at%zs;return Ws>=_0n$d?Ws:zs+Ws}function invert$2(at,zs){if(at===_0n$d)throw new Error("invert: expected non-zero number");if(zs<=_0n$d)throw new Error("invert: expected positive modulus, got "+zs);let Ws=mod$2(at,zs),qs=zs,Ys=_0n$d,Xs=_1n$d;for(;Ws!==_0n$d;){const yl=qs/Ws,Js=qs%Ws,$l=Ys-Xs*yl;qs=Ws,Ws=Js,Ys=Xs,Xs=$l}if(qs!==_1n$d)throw new Error("invert: does not exist");return mod$2(Ys,zs)}function assertIsSquare(at,zs,Ws){if(!at.eql(at.sqr(zs),Ws))throw new Error("Cannot find square root")}function sqrt3mod4$2(at,zs){const Ws=(at.ORDER+_1n$d)/_4n$5,qs=at.pow(zs,Ws);return assertIsSquare(at,qs,zs),qs}function sqrt5mod8$2(at,zs){const Ws=(at.ORDER-_5n$2)/_8n$2,qs=at.mul(zs,_2n$6),Ys=at.pow(qs,Ws),Xs=at.mul(zs,Ys),Zs=at.mul(at.mul(Xs,_2n$6),Ys),yl=at.mul(Xs,at.sub(Zs,at.ONE));return assertIsSquare(at,yl,zs),yl}function sqrt9mod16(at){const zs=Field$2(at),Ws=tonelliShanks$2(at),qs=Ws(zs,zs.neg(zs.ONE)),Ys=Ws(zs,qs),Xs=Ws(zs,zs.neg(qs)),Zs=(at+_7n$1)/_16n;return(yl,Js)=>{let $l=yl.pow(Js,Zs),El=yl.mul($l,qs);const wl=yl.mul($l,Ys),_l=yl.mul($l,Xs),Sl=yl.eql(yl.sqr(El),Js),Tl=yl.eql(yl.sqr(wl),Js);$l=yl.cmov($l,El,Sl),El=yl.cmov(_l,wl,Tl);const Il=yl.eql(yl.sqr(El),Js),Al=yl.cmov($l,El,Il);return assertIsSquare(yl,Al,Js),Al}}function tonelliShanks$2(at){if(at<_3n$5)throw new Error("sqrt is not defined for small field");let zs=at-_1n$d,Ws=0;for(;zs%_2n$6===_0n$d;)zs/=_2n$6,Ws++;let qs=_2n$6;const Ys=Field$2(at);for(;FpLegendre$2(Ys,qs)===1;)if(qs++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(Ws===1)return sqrt3mod4$2;let Xs=Ys.pow(qs,zs);const Zs=(zs+_1n$d)/_2n$6;return function(Js,$l){if(Js.is0($l))return $l;if(FpLegendre$2(Js,$l)!==1)throw new Error("Cannot find square root");let El=Ws,wl=Js.mul(Js.ONE,Xs),_l=Js.pow($l,zs),Sl=Js.pow($l,Zs);for(;!Js.eql(_l,Js.ONE);){if(Js.is0(_l))return Js.ZERO;let Tl=1,Il=Js.sqr(_l);for(;!Js.eql(Il,Js.ONE);)if(Tl++,Il=Js.sqr(Il),Tl===El)throw new Error("Cannot find square root");const Al=_1n$d<<BigInt(El-Tl-1),xl=Js.pow(wl,Al);El=Tl,wl=Js.sqr(xl),_l=Js.mul(_l,wl),Sl=Js.mul(Sl,xl)}return Sl}}function FpSqrt$2(at){return at%_4n$5===_3n$5?sqrt3mod4$2:at%_8n$2===_5n$2?sqrt5mod8$2:at%_16n===_9n?sqrt9mod16(at):tonelliShanks$2(at)}const FIELD_FIELDS$2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$2(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},Ws=FIELD_FIELDS$2.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return _validateObject(at,Ws),at}function FpPow$2(at,zs,Ws){if(Ws<_0n$d)throw new Error("invalid exponent, negatives unsupported");if(Ws===_0n$d)return at.ONE;if(Ws===_1n$d)return zs;let qs=at.ONE,Ys=zs;for(;Ws>_0n$d;)Ws&_1n$d&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=_1n$d;return qs}function FpInvertBatch$2(at,zs,Ws=!1){const qs=new Array(zs.length).fill(Ws?at.ZERO:void 0),Ys=zs.reduce((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=Zs,at.mul(Zs,yl)),at.ONE),Xs=at.inv(Ys);return zs.reduceRight((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=at.mul(Zs,qs[Js]),at.mul(Zs,yl)),Xs),qs}function FpLegendre$2(at,zs){const Ws=(at.ORDER-_1n$d)/_2n$6,qs=at.pow(zs,Ws),Ys=at.eql(qs,at.ONE),Xs=at.eql(qs,at.ZERO),Zs=at.eql(qs,at.neg(at.ONE));if(!Ys&&!Xs&&!Zs)throw new Error("invalid Legendre symbol result");return Ys?1:Xs?0:-1}function nLength$2(at,zs){zs!==void 0&&anumber$1(zs);const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function Field$2(at,zs,Ws=!1,qs={}){if(at<=_0n$d)throw new Error("invalid field: expected ORDER > 0, got "+at);let Ys,Xs,Zs=!1,yl;if(typeof zs=="object"&&zs!=null){if(qs.sqrt||Ws)throw new Error("cannot specify opts in two arguments");const _l=zs;_l.BITS&&(Ys=_l.BITS),_l.sqrt&&(Xs=_l.sqrt),typeof _l.isLE=="boolean"&&(Ws=_l.isLE),typeof _l.modFromBytes=="boolean"&&(Zs=_l.modFromBytes),yl=_l.allowedLengths}else typeof zs=="number"&&(Ys=zs),qs.sqrt&&(Xs=qs.sqrt);const{nBitLength:Js,nByteLength:$l}=nLength$2(at,Ys);if($l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let El;const wl=Object.freeze({ORDER:at,isLE:Ws,BITS:Js,BYTES:$l,MASK:bitMask$2(Js),ZERO:_0n$d,ONE:_1n$d,allowedLengths:yl,create:_l=>mod$2(_l,at),isValid:_l=>{if(typeof _l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof _l);return _0n$d<=_l&&_l<at},is0:_l=>_l===_0n$d,isValidNot0:_l=>!wl.is0(_l)&&wl.isValid(_l),isOdd:_l=>(_l&_1n$d)===_1n$d,neg:_l=>mod$2(-_l,at),eql:(_l,Sl)=>_l===Sl,sqr:_l=>mod$2(_l*_l,at),add:(_l,Sl)=>mod$2(_l+Sl,at),sub:(_l,Sl)=>mod$2(_l-Sl,at),mul:(_l,Sl)=>mod$2(_l*Sl,at),pow:(_l,Sl)=>FpPow$2(wl,_l,Sl),div:(_l,Sl)=>mod$2(_l*invert$2(Sl,at),at),sqrN:_l=>_l*_l,addN:(_l,Sl)=>_l+Sl,subN:(_l,Sl)=>_l-Sl,mulN:(_l,Sl)=>_l*Sl,inv:_l=>invert$2(_l,at),sqrt:Xs||(_l=>(El||(El=FpSqrt$2(at)),El(wl,_l))),toBytes:_l=>Ws?numberToBytesLE$2(_l,$l):numberToBytesBE$2(_l,$l),fromBytes:(_l,Sl=!0)=>{if(yl){if(!yl.includes(_l.length)||_l.length>$l)throw new Error("Field.fromBytes: expected "+yl+" bytes, got "+_l.length);const Il=new Uint8Array($l);Il.set(_l,Ws?0:Il.length-_l.length),_l=Il}if(_l.length!==$l)throw new Error("Field.fromBytes: expected "+$l+" bytes, got "+_l.length);let Tl=Ws?bytesToNumberLE$2(_l):bytesToNumberBE$2(_l);if(Zs&&(Tl=mod$2(Tl,at)),!Sl&&!wl.isValid(Tl))throw new Error("invalid field element: outside of range 0..ORDER");return Tl},invertBatch:_l=>FpInvertBatch$2(wl,_l),cmov:(_l,Sl,Tl)=>Tl?Sl:_l});return Object.freeze(wl)}function getFieldBytesLength$2(at){if(typeof at!="bigint")throw new Error("field order must be bigint");const zs=at.toString(2).length;return Math.ceil(zs/8)}function getMinHashLength$2(at){const zs=getFieldBytesLength$2(at);return zs+Math.ceil(zs/2)}function mapHashToField$2(at,zs,Ws=!1){const qs=at.length,Ys=getFieldBytesLength$2(zs),Xs=getMinHashLength$2(zs);if(qs<16||qs<Xs||qs>1024)throw new Error("expected "+Xs+"-1024 bytes of input, got "+qs);const Zs=Ws?bytesToNumberLE$2(at):bytesToNumberBE$2(at),yl=mod$2(Zs,zs-_1n$d)+_1n$d;return Ws?numberToBytesLE$2(yl,Ys):numberToBytesBE$2(yl,Ys)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$c=BigInt(0),_1n$c=BigInt(1);function negateCt(at,zs){const Ws=zs.negate();return at?Ws:zs}function normalizeZ(at,zs){const Ws=FpInvertBatch$2(at.Fp,zs.map(qs=>qs.Z));return zs.map((qs,Ys)=>at.fromAffine(qs.toAffine(Ws[Ys])))}function validateW$2(at,zs){if(!Number.isSafeInteger(at)||at<=0||at>zs)throw new Error("invalid window size, expected [1.."+zs+"], got W="+at)}function calcWOpts$2(at,zs){validateW$2(at,zs);const Ws=Math.ceil(zs/at)+1,qs=2**(at-1),Ys=2**at,Xs=bitMask$2(at),Zs=BigInt(at);return{windows:Ws,windowSize:qs,mask:Xs,maxNumber:Ys,shiftBy:Zs}}function calcOffsets$2(at,zs,Ws){const{windowSize:qs,mask:Ys,maxNumber:Xs,shiftBy:Zs}=Ws;let yl=Number(at&Ys),Js=at>>Zs;yl>qs&&(yl-=Xs,Js+=_1n$c);const $l=zs*qs,El=$l+Math.abs(yl)-1,wl=yl===0,_l=yl<0,Sl=zs%2!==0;return{nextN:Js,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:$l}}function validateMSMPoints$2(at,zs){if(!Array.isArray(at))throw new Error("array expected");at.forEach((Ws,qs)=>{if(!(Ws instanceof zs))throw new Error("invalid point at index "+qs)})}function validateMSMScalars$2(at,zs){if(!Array.isArray(at))throw new Error("array of scalars expected");at.forEach((Ws,qs)=>{if(!zs.isValid(Ws))throw new Error("invalid scalar at index "+qs)})}const pointPrecomputes$2=new WeakMap,pointWindowSizes$2=new WeakMap;function getW$2(at){return pointWindowSizes$2.get(at)||1}function assert0(at){if(at!==_0n$c)throw new Error("invalid wNAF")}let wNAF$2=class{constructor(zs,Ws){this.BASE=zs.BASE,this.ZERO=zs.ZERO,this.Fn=zs.Fn,this.bits=Ws}_unsafeLadder(zs,Ws,qs=this.ZERO){let Ys=zs;for(;Ws>_0n$c;)Ws&_1n$c&&(qs=qs.add(Ys)),Ys=Ys.double(),Ws>>=_1n$c;return qs}precomputeWindow(zs,Ws){const{windows:qs,windowSize:Ys}=calcWOpts$2(Ws,this.bits),Xs=[];let Zs=zs,yl=Zs;for(let Js=0;Js<qs;Js++){yl=Zs,Xs.push(yl);for(let $l=1;$l<Ys;$l++)yl=yl.add(Zs),Xs.push(yl);Zs=yl.double()}return Xs}wNAF(zs,Ws,qs){if(!this.Fn.isValid(qs))throw new Error("invalid scalar");let Ys=this.ZERO,Xs=this.BASE;const Zs=calcWOpts$2(zs,this.bits);for(let yl=0;yl<Zs.windows;yl++){const{nextN:Js,offset:$l,isZero:El,isNeg:wl,isNegF:_l,offsetF:Sl}=calcOffsets$2(qs,yl,Zs);qs=Js,El?Xs=Xs.add(negateCt(_l,Ws[Sl])):Ys=Ys.add(negateCt(wl,Ws[$l]))}return assert0(qs),{p:Ys,f:Xs}}wNAFUnsafe(zs,Ws,qs,Ys=this.ZERO){const Xs=calcWOpts$2(zs,this.bits);for(let Zs=0;Zs<Xs.windows&&qs!==_0n$c;Zs++){const{nextN:yl,offset:Js,isZero:$l,isNeg:El}=calcOffsets$2(qs,Zs,Xs);if(qs=yl,!$l){const wl=Ws[Js];Ys=Ys.add(El?wl.negate():wl)}}return assert0(qs),Ys}getPrecomputes(zs,Ws,qs){let Ys=pointPrecomputes$2.get(Ws);return Ys||(Ys=this.precomputeWindow(Ws,zs),zs!==1&&(typeof qs=="function"&&(Ys=qs(Ys)),pointPrecomputes$2.set(Ws,Ys))),Ys}cached(zs,Ws,qs){const Ys=getW$2(zs);return this.wNAF(Ys,this.getPrecomputes(Ys,zs,qs),Ws)}unsafe(zs,Ws,qs,Ys){const Xs=getW$2(zs);return Xs===1?this._unsafeLadder(zs,Ws,Ys):this.wNAFUnsafe(Xs,this.getPrecomputes(Xs,zs,qs),Ws,Ys)}createCache(zs,Ws){validateW$2(Ws,this.bits),pointWindowSizes$2.set(zs,Ws),pointPrecomputes$2.delete(zs)}hasCache(zs){return getW$2(zs)!==1}};function mulEndoUnsafe(at,zs,Ws,qs){let Ys=zs,Xs=at.ZERO,Zs=at.ZERO;for(;Ws>_0n$c||qs>_0n$c;)Ws&_1n$c&&(Xs=Xs.add(Ys)),qs&_1n$c&&(Zs=Zs.add(Ys)),Ys=Ys.double(),Ws>>=_1n$c,qs>>=_1n$c;return{p1:Xs,p2:Zs}}function pippenger$2(at,zs,Ws,qs){validateMSMPoints$2(Ws,at),validateMSMScalars$2(qs,zs);const Ys=Ws.length,Xs=qs.length;if(Ys!==Xs)throw new Error("arrays of points and scalars must have equal length");const Zs=at.ZERO,yl=bitLen$2(BigInt(Ys));let Js=1;yl>12?Js=yl-3:yl>4?Js=yl-2:yl>0&&(Js=2);const $l=bitMask$2(Js),El=new Array(Number($l)+1).fill(Zs),wl=Math.floor((zs.BITS-1)/Js)*Js;let _l=Zs;for(let Sl=wl;Sl>=0;Sl-=Js){El.fill(Zs);for(let Il=0;Il<Xs;Il++){const Al=qs[Il],xl=Number(Al>>BigInt(Sl)&$l);El[xl]=El[xl].add(Ws[Il])}let Tl=Zs;for(let Il=El.length-1,Al=Zs;Il>0;Il--)Al=Al.add(El[Il]),Tl=Tl.add(Al);if(_l=_l.add(Tl),Sl!==0)for(let Il=0;Il<Js;Il++)_l=_l.double()}return _l}function createField(at,zs,Ws){if(zs){if(zs.ORDER!==at)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return validateField$2(zs),zs}else return Field$2(at,{isLE:Ws})}function _createCurveFields(at,zs,Ws={},qs){if(qs===void 0&&(qs=at==="edwards"),!zs||typeof zs!="object")throw new Error(`expected valid ${at} CURVE object`);for(const Js of["p","n","h"]){const $l=zs[Js];if(!(typeof $l=="bigint"&&$l>_0n$c))throw new Error(`CURVE.${Js} must be positive bigint`)}const Ys=createField(zs.p,Ws.Fp,qs),Xs=createField(zs.n,Ws.Fn,qs),yl=["Gx","Gy","a","b"];for(const Js of yl)if(!Ys.isValid(zs[Js]))throw new Error(`CURVE.${Js} must be valid field element of CURVE.Fp`);return zs=Object.freeze(Object.assign({},zs)),{CURVE:zs,Fp:Ys,Fn:Xs}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const divNearest$2=(at,zs)=>(at+(at>=0?zs:-zs)/_2n$5)/zs;function _splitEndoScalar(at,zs,Ws){const[[qs,Ys],[Xs,Zs]]=zs,yl=divNearest$2(Zs*at,Ws),Js=divNearest$2(-Ys*at,Ws);let $l=at-yl*qs-Js*Xs,El=-yl*Ys-Js*Zs;const wl=$l<_0n$b,_l=El<_0n$b;wl&&($l=-$l),_l&&(El=-El);const Sl=bitMask$2(Math.ceil(bitLen$2(Ws)/2))+_1n$b;if($l<_0n$b||$l>=Sl||El<_0n$b||El>=Sl)throw new Error("splitScalar (endomorphism): failed, k="+at);return{k1neg:wl,k1:$l,k2neg:_l,k2:El}}function validateSigFormat(at){if(!["compact","recovered","der"].includes(at))throw new Error('Signature format must be "compact", "recovered", or "der"');return at}function validateSigOpts(at,zs){const Ws={};for(let qs of Object.keys(zs))Ws[qs]=at[qs]===void 0?zs[qs]:at[qs];return _abool2(Ws.lowS,"lowS"),_abool2(Ws.prehash,"prehash"),Ws.format!==void 0&&validateSigFormat(Ws.format),Ws}let DERErr$2=class extends Error{constructor(zs=""){super(zs)}};const DER$2={Err:DERErr$2,_tlv:{encode:(at,zs)=>{const{Err:Ws}=DER$2;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length&1)throw new Ws("tlv.encode: unpadded data");const qs=zs.length/2,Ys=numberToHexUnpadded$2(qs);if(Ys.length/2&128)throw new Ws("tlv.encode: long form length too big");const Xs=qs>127?numberToHexUnpadded$2(Ys.length/2|128):"";return numberToHexUnpadded$2(at)+Xs+Ys+zs},decode(at,zs){const{Err:Ws}=DER$2;let qs=0;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length<2||zs[qs++]!==at)throw new Ws("tlv.decode: wrong tlv");const Ys=zs[qs++],Xs=!!(Ys&128);let Zs=0;if(!Xs)Zs=Ys;else{const Js=Ys&127;if(!Js)throw new Ws("tlv.decode(long): indefinite length not supported");if(Js>4)throw new Ws("tlv.decode(long): byte length is too big");const $l=zs.subarray(qs,qs+Js);if($l.length!==Js)throw new Ws("tlv.decode: length bytes not complete");if($l[0]===0)throw new Ws("tlv.decode(long): zero leftmost byte");for(const El of $l)Zs=Zs<<8|El;if(qs+=Js,Zs<128)throw new Ws("tlv.decode(long): not minimal encoding")}const yl=zs.subarray(qs,qs+Zs);if(yl.length!==Zs)throw new Ws("tlv.decode: wrong value length");return{v:yl,l:zs.subarray(qs+Zs)}}},_int:{encode(at){const{Err:zs}=DER$2;if(at<_0n$b)throw new zs("integer: negative integers are not allowed");let Ws=numberToHexUnpadded$2(at);if(Number.parseInt(Ws[0],16)&8&&(Ws="00"+Ws),Ws.length&1)throw new zs("unexpected DER parsing assertion: unpadded hex");return Ws},decode(at){const{Err:zs}=DER$2;if(at[0]&128)throw new zs("invalid signature integer: negative");if(at[0]===0&&!(at[1]&128))throw new zs("invalid signature integer: unnecessary leading zero");return bytesToNumberBE$2(at)}},toSig(at){const{Err:zs,_int:Ws,_tlv:qs}=DER$2,Ys=ensureBytes$2("signature",at),{v:Xs,l:Zs}=qs.decode(48,Ys);if(Zs.length)throw new zs("invalid signature: left bytes after parsing");const{v:yl,l:Js}=qs.decode(2,Xs),{v:$l,l:El}=qs.decode(2,Js);if(El.length)throw new zs("invalid signature: left bytes after parsing");return{r:Ws.decode(yl),s:Ws.decode($l)}},hexFromSig(at){const{_tlv:zs,_int:Ws}=DER$2,qs=zs.encode(2,Ws.encode(at.r)),Ys=zs.encode(2,Ws.encode(at.s)),Xs=qs+Ys;return zs.encode(48,Xs)}},_0n$b=BigInt(0),_1n$b=BigInt(1),_2n$5=BigInt(2),_3n$4=BigInt(3),_4n$4=BigInt(4);function _normFnElement(at,zs){const{BYTES:Ws}=at;let qs;if(typeof zs=="bigint")qs=zs;else{let Ys=ensureBytes$2("private key",zs);try{qs=at.fromBytes(Ys)}catch{throw new Error(`invalid private key: expected ui8a of size ${Ws}, got ${typeof zs}`)}}if(!at.isValidNot0(qs))throw new Error("invalid private key: out of range [1..N-1]");return qs}function weierstrassN(at,zs={}){const Ws=_createCurveFields("weierstrass",at,zs),{Fp:qs,Fn:Ys}=Ws;let Xs=Ws.CURVE;const{h:Zs,n:yl}=Xs;_validateObject(zs,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:Js}=zs;if(Js&&(!qs.is0(Xs.a)||typeof Js.beta!="bigint"||!Array.isArray(Js.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const $l=getWLengths(qs,Ys);function El(){if(!qs.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function wl(Xl,Ul,Vl){const{x:Nl,y:Dl}=Ul.toAffine(),Gl=qs.toBytes(Nl);if(_abool2(Vl,"isCompressed"),Vl){El();const Fl=!qs.isOdd(Dl);return concatBytes$6(pprefix(Fl),Gl)}else return concatBytes$6(Uint8Array.of(4),Gl,qs.toBytes(Dl))}function _l(Xl){_abytes2(Xl,void 0,"Point");const{publicKey:Ul,publicKeyUncompressed:Vl}=$l,Nl=Xl.length,Dl=Xl[0],Gl=Xl.subarray(1);if(Nl===Ul&&(Dl===2||Dl===3)){const Fl=qs.fromBytes(Gl);if(!qs.isValid(Fl))throw new Error("bad point: is not on curve, wrong x");const Hl=Il(Fl);let Zl;try{Zl=qs.sqrt(Hl)}catch(Pu){const ku=Pu instanceof Error?": "+Pu.message:"";throw new Error("bad point: is not on curve, sqrt error"+ku)}El();const Su=qs.isOdd(Zl);return(Dl&1)===1!==Su&&(Zl=qs.neg(Zl)),{x:Fl,y:Zl}}else if(Nl===Vl&&Dl===4){const Fl=qs.BYTES,Hl=qs.fromBytes(Gl.subarray(0,Fl)),Zl=qs.fromBytes(Gl.subarray(Fl,Fl*2));if(!Al(Hl,Zl))throw new Error("bad point: is not on curve");return{x:Hl,y:Zl}}else throw new Error(`bad point: got length ${Nl}, expected compressed=${Ul} or uncompressed=${Vl}`)}const Sl=zs.toBytes||wl,Tl=zs.fromBytes||_l;function Il(Xl){const Ul=qs.sqr(Xl),Vl=qs.mul(Ul,Xl);return qs.add(qs.add(Vl,qs.mul(Xl,Xs.a)),Xs.b)}function Al(Xl,Ul){const Vl=qs.sqr(Ul),Nl=Il(Xl);return qs.eql(Vl,Nl)}if(!Al(Xs.Gx,Xs.Gy))throw new Error("bad curve params: generator point");const xl=qs.mul(qs.pow(Xs.a,_3n$4),_4n$4),Pl=qs.mul(qs.sqr(Xs.b),BigInt(27));if(qs.is0(qs.add(xl,Pl)))throw new Error("bad curve params: a or b");function Cl(Xl,Ul,Vl=!1){if(!qs.isValid(Ul)||Vl&&qs.is0(Ul))throw new Error(`bad point coordinate ${Xl}`);return Ul}function Rl(Xl){if(!(Xl instanceof Wl))throw new Error("ProjectivePoint expected")}function Ol(Xl){if(!Js||!Js.basises)throw new Error("no endo");return _splitEndoScalar(Xl,Js.basises,Ys.ORDER)}const Ml=memoized$2((Xl,Ul)=>{const{X:Vl,Y:Nl,Z:Dl}=Xl;if(qs.eql(Dl,qs.ONE))return{x:Vl,y:Nl};const Gl=Xl.is0();Ul==null&&(Ul=Gl?qs.ONE:qs.inv(Dl));const Fl=qs.mul(Vl,Ul),Hl=qs.mul(Nl,Ul),Zl=qs.mul(Dl,Ul);if(Gl)return{x:qs.ZERO,y:qs.ZERO};if(!qs.eql(Zl,qs.ONE))throw new Error("invZ was invalid");return{x:Fl,y:Hl}}),Ll=memoized$2(Xl=>{if(Xl.is0()){if(zs.allowInfinityPoint&&!qs.is0(Xl.Y))return;throw new Error("bad point: ZERO")}const{x:Ul,y:Vl}=Xl.toAffine();if(!qs.isValid(Ul)||!qs.isValid(Vl))throw new Error("bad point: x or y not field elements");if(!Al(Ul,Vl))throw new Error("bad point: equation left != right");if(!Xl.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Bl(Xl,Ul,Vl,Nl,Dl){return Vl=new Wl(qs.mul(Vl.X,Xl),Vl.Y,Vl.Z),Ul=negateCt(Nl,Ul),Vl=negateCt(Dl,Vl),Ul.add(Vl)}class Wl{constructor(Ul,Vl,Nl){this.X=Cl("x",Ul),this.Y=Cl("y",Vl,!0),this.Z=Cl("z",Nl),Object.freeze(this)}static CURVE(){return Xs}static fromAffine(Ul){const{x:Vl,y:Nl}=Ul||{};if(!Ul||!qs.isValid(Vl)||!qs.isValid(Nl))throw new Error("invalid affine point");if(Ul instanceof Wl)throw new Error("projective point not allowed");return qs.is0(Vl)&&qs.is0(Nl)?Wl.ZERO:new Wl(Vl,Nl,qs.ONE)}static fromBytes(Ul){const Vl=Wl.fromAffine(Tl(_abytes2(Ul,void 0,"point")));return Vl.assertValidity(),Vl}static fromHex(Ul){return Wl.fromBytes(ensureBytes$2("pointHex",Ul))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(Ul=8,Vl=!0){return Kl.createCache(this,Ul),Vl||this.multiply(_3n$4),this}assertValidity(){Ll(this)}hasEvenY(){const{y:Ul}=this.toAffine();if(!qs.isOdd)throw new Error("Field doesn't support isOdd");return!qs.isOdd(Ul)}equals(Ul){Rl(Ul);const{X:Vl,Y:Nl,Z:Dl}=this,{X:Gl,Y:Fl,Z:Hl}=Ul,Zl=qs.eql(qs.mul(Vl,Hl),qs.mul(Gl,Dl)),Su=qs.eql(qs.mul(Nl,Hl),qs.mul(Fl,Dl));return Zl&&Su}negate(){return new Wl(this.X,qs.neg(this.Y),this.Z)}double(){const{a:Ul,b:Vl}=Xs,Nl=qs.mul(Vl,_3n$4),{X:Dl,Y:Gl,Z:Fl}=this;let Hl=qs.ZERO,Zl=qs.ZERO,Su=qs.ZERO,$u=qs.mul(Dl,Dl),Pu=qs.mul(Gl,Gl),ku=qs.mul(Fl,Fl),Tu=qs.mul(Dl,Gl);return Tu=qs.add(Tu,Tu),Su=qs.mul(Dl,Fl),Su=qs.add(Su,Su),Hl=qs.mul(Ul,Su),Zl=qs.mul(Nl,ku),Zl=qs.add(Hl,Zl),Hl=qs.sub(Pu,Zl),Zl=qs.add(Pu,Zl),Zl=qs.mul(Hl,Zl),Hl=qs.mul(Tu,Hl),Su=qs.mul(Nl,Su),ku=qs.mul(Ul,ku),Tu=qs.sub($u,ku),Tu=qs.mul(Ul,Tu),Tu=qs.add(Tu,Su),Su=qs.add($u,$u),$u=qs.add(Su,$u),$u=qs.add($u,ku),$u=qs.mul($u,Tu),Zl=qs.add(Zl,$u),ku=qs.mul(Gl,Fl),ku=qs.add(ku,ku),$u=qs.mul(ku,Tu),Hl=qs.sub(Hl,$u),Su=qs.mul(ku,Pu),Su=qs.add(Su,Su),Su=qs.add(Su,Su),new Wl(Hl,Zl,Su)}add(Ul){Rl(Ul);const{X:Vl,Y:Nl,Z:Dl}=this,{X:Gl,Y:Fl,Z:Hl}=Ul;let Zl=qs.ZERO,Su=qs.ZERO,$u=qs.ZERO;const Pu=Xs.a,ku=qs.mul(Xs.b,_3n$4);let Tu=qs.mul(Vl,Gl),Ru=qs.mul(Nl,Fl),Mu=qs.mul(Dl,Hl),Hu=qs.add(Vl,Nl),Ku=qs.add(Gl,Fl);Hu=qs.mul(Hu,Ku),Ku=qs.add(Tu,Ru),Hu=qs.sub(Hu,Ku),Ku=qs.add(Vl,Dl);let Fu=qs.add(Gl,Hl);return Ku=qs.mul(Ku,Fu),Fu=qs.add(Tu,Mu),Ku=qs.sub(Ku,Fu),Fu=qs.add(Nl,Dl),Zl=qs.add(Fl,Hl),Fu=qs.mul(Fu,Zl),Zl=qs.add(Ru,Mu),Fu=qs.sub(Fu,Zl),$u=qs.mul(Pu,Ku),Zl=qs.mul(ku,Mu),$u=qs.add(Zl,$u),Zl=qs.sub(Ru,$u),$u=qs.add(Ru,$u),Su=qs.mul(Zl,$u),Ru=qs.add(Tu,Tu),Ru=qs.add(Ru,Tu),Mu=qs.mul(Pu,Mu),Ku=qs.mul(ku,Ku),Ru=qs.add(Ru,Mu),Mu=qs.sub(Tu,Mu),Mu=qs.mul(Pu,Mu),Ku=qs.add(Ku,Mu),Tu=qs.mul(Ru,Ku),Su=qs.add(Su,Tu),Tu=qs.mul(Fu,Ku),Zl=qs.mul(Hu,Zl),Zl=qs.sub(Zl,Tu),Tu=qs.mul(Hu,Ru),$u=qs.mul(Fu,$u),$u=qs.add($u,Tu),new Wl(Zl,Su,$u)}subtract(Ul){return this.add(Ul.negate())}is0(){return this.equals(Wl.ZERO)}multiply(Ul){const{endo:Vl}=zs;if(!Ys.isValidNot0(Ul))throw new Error("invalid scalar: out of range");let Nl,Dl;const Gl=Fl=>Kl.cached(this,Fl,Hl=>normalizeZ(Wl,Hl));if(Vl){const{k1neg:Fl,k1:Hl,k2neg:Zl,k2:Su}=Ol(Ul),{p:$u,f:Pu}=Gl(Hl),{p:ku,f:Tu}=Gl(Su);Dl=Pu.add(Tu),Nl=Bl(Vl.beta,$u,ku,Fl,Zl)}else{const{p:Fl,f:Hl}=Gl(Ul);Nl=Fl,Dl=Hl}return normalizeZ(Wl,[Nl,Dl])[0]}multiplyUnsafe(Ul){const{endo:Vl}=zs,Nl=this;if(!Ys.isValid(Ul))throw new Error("invalid scalar: out of range");if(Ul===_0n$b||Nl.is0())return Wl.ZERO;if(Ul===_1n$b)return Nl;if(Kl.hasCache(this))return this.multiply(Ul);if(Vl){const{k1neg:Dl,k1:Gl,k2neg:Fl,k2:Hl}=Ol(Ul),{p1:Zl,p2:Su}=mulEndoUnsafe(Wl,Nl,Gl,Hl);return Bl(Vl.beta,Zl,Su,Dl,Fl)}else return Kl.unsafe(Nl,Ul)}multiplyAndAddUnsafe(Ul,Vl,Nl){const Dl=this.multiplyUnsafe(Vl).add(Ul.multiplyUnsafe(Nl));return Dl.is0()?void 0:Dl}toAffine(Ul){return Ml(this,Ul)}isTorsionFree(){const{isTorsionFree:Ul}=zs;return Zs===_1n$b?!0:Ul?Ul(Wl,this):Kl.unsafe(this,yl).is0()}clearCofactor(){const{clearCofactor:Ul}=zs;return Zs===_1n$b?this:Ul?Ul(Wl,this):this.multiplyUnsafe(Zs)}isSmallOrder(){return this.multiplyUnsafe(Zs).is0()}toBytes(Ul=!0){return _abool2(Ul,"isCompressed"),this.assertValidity(),Sl(Wl,this,Ul)}toHex(Ul=!0){return bytesToHex$5(this.toBytes(Ul))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(Ul=!0){return this.toBytes(Ul)}_setWindowSize(Ul){this.precompute(Ul)}static normalizeZ(Ul){return normalizeZ(Wl,Ul)}static msm(Ul,Vl){return pippenger$2(Wl,Ys,Ul,Vl)}static fromPrivateKey(Ul){return Wl.BASE.multiply(_normFnElement(Ys,Ul))}}Wl.BASE=new Wl(Xs.Gx,Xs.Gy,qs.ONE),Wl.ZERO=new Wl(qs.ZERO,qs.ONE,qs.ZERO),Wl.Fp=qs,Wl.Fn=Ys;const Yl=Ys.BITS,Kl=new wNAF$2(Wl,zs.endo?Math.ceil(Yl/2):Yl);return Wl.BASE.precompute(8),Wl}function pprefix(at){return Uint8Array.of(at?2:3)}function getWLengths(at,zs){return{secretKey:zs.BYTES,publicKey:1+at.BYTES,publicKeyUncompressed:1+2*at.BYTES,publicKeyHasPrefix:!0,signature:2*zs.BYTES}}function ecdh(at,zs={}){const{Fn:Ws}=at,qs=zs.randomBytes||randomBytes$1,Ys=Object.assign(getWLengths(at.Fp,Ws),{seed:getMinHashLength$2(Ws.ORDER)});function Xs(Sl){try{return!!_normFnElement(Ws,Sl)}catch{return!1}}function Zs(Sl,Tl){const{publicKey:Il,publicKeyUncompressed:Al}=Ys;try{const xl=Sl.length;return Tl===!0&&xl!==Il||Tl===!1&&xl!==Al?!1:!!at.fromBytes(Sl)}catch{return!1}}function yl(Sl=qs(Ys.seed)){return mapHashToField$2(_abytes2(Sl,Ys.seed,"seed"),Ws.ORDER)}function Js(Sl,Tl=!0){return at.BASE.multiply(_normFnElement(Ws,Sl)).toBytes(Tl)}function $l(Sl){const Tl=yl(Sl);return{secretKey:Tl,publicKey:Js(Tl)}}function El(Sl){if(typeof Sl=="bigint")return!1;if(Sl instanceof at)return!0;const{secretKey:Tl,publicKey:Il,publicKeyUncompressed:Al}=Ys;if(Ws.allowedLengths||Tl===Il)return;const xl=ensureBytes$2("key",Sl).length;return xl===Il||xl===Al}function wl(Sl,Tl,Il=!0){if(El(Sl)===!0)throw new Error("first arg must be private key");if(El(Tl)===!1)throw new Error("second arg must be public key");const Al=_normFnElement(Ws,Sl);return at.fromHex(Tl).multiply(Al).toBytes(Il)}return Object.freeze({getPublicKey:Js,getSharedSecret:wl,keygen:$l,Point:at,utils:{isValidSecretKey:Xs,isValidPublicKey:Zs,randomSecretKey:yl,isValidPrivateKey:Xs,randomPrivateKey:yl,normPrivateKeyToScalar:Sl=>_normFnElement(Ws,Sl),precompute(Sl=8,Tl=at.BASE){return Tl.precompute(Sl,!1)}},lengths:Ys})}function ecdsa(at,zs,Ws={}){ahash(zs),_validateObject(Ws,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const qs=Ws.randomBytes||randomBytes$1,Ys=Ws.hmac||((Vl,...Nl)=>hmac$1(zs,Vl,concatBytes$6(...Nl))),{Fp:Xs,Fn:Zs}=at,{ORDER:yl,BITS:Js}=Zs,{keygen:$l,getPublicKey:El,getSharedSecret:wl,utils:_l,lengths:Sl}=ecdh(at,Ws),Tl={prehash:!1,lowS:typeof Ws.lowS=="boolean"?Ws.lowS:!1,format:void 0,extraEntropy:!1},Il="compact";function Al(Vl){const Nl=yl>>_1n$b;return Vl>Nl}function xl(Vl,Nl){if(!Zs.isValidNot0(Nl))throw new Error(`invalid signature ${Vl}: out of range 1..Point.Fn.ORDER`);return Nl}function Pl(Vl,Nl){validateSigFormat(Nl);const Dl=Sl.signature,Gl=Nl==="compact"?Dl:Nl==="recovered"?Dl+1:void 0;return _abytes2(Vl,Gl,`${Nl} signature`)}class Cl{constructor(Nl,Dl,Gl){this.r=xl("r",Nl),this.s=xl("s",Dl),Gl!=null&&(this.recovery=Gl),Object.freeze(this)}static fromBytes(Nl,Dl=Il){Pl(Nl,Dl);let Gl;if(Dl==="der"){const{r:Su,s:$u}=DER$2.toSig(_abytes2(Nl));return new Cl(Su,$u)}Dl==="recovered"&&(Gl=Nl[0],Dl="compact",Nl=Nl.subarray(1));const Fl=Zs.BYTES,Hl=Nl.subarray(0,Fl),Zl=Nl.subarray(Fl,Fl*2);return new Cl(Zs.fromBytes(Hl),Zs.fromBytes(Zl),Gl)}static fromHex(Nl,Dl){return this.fromBytes(hexToBytes$5(Nl),Dl)}addRecoveryBit(Nl){return new Cl(this.r,this.s,Nl)}recoverPublicKey(Nl){const Dl=Xs.ORDER,{r:Gl,s:Fl,recovery:Hl}=this;if(Hl==null||![0,1,2,3].includes(Hl))throw new Error("recovery id invalid");if(yl*_2n$5<Dl&&Hl>1)throw new Error("recovery id is ambiguous for h>1 curve");const Su=Hl===2||Hl===3?Gl+yl:Gl;if(!Xs.isValid(Su))throw new Error("recovery id 2 or 3 invalid");const $u=Xs.toBytes(Su),Pu=at.fromBytes(concatBytes$6(pprefix((Hl&1)===0),$u)),ku=Zs.inv(Su),Tu=Ol(ensureBytes$2("msgHash",Nl)),Ru=Zs.create(-Tu*ku),Mu=Zs.create(Fl*ku),Hu=at.BASE.multiplyUnsafe(Ru).add(Pu.multiplyUnsafe(Mu));if(Hu.is0())throw new Error("point at infinify");return Hu.assertValidity(),Hu}hasHighS(){return Al(this.s)}toBytes(Nl=Il){if(validateSigFormat(Nl),Nl==="der")return hexToBytes$5(DER$2.hexFromSig(this));const Dl=Zs.toBytes(this.r),Gl=Zs.toBytes(this.s);if(Nl==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return concatBytes$6(Uint8Array.of(this.recovery),Dl,Gl)}return concatBytes$6(Dl,Gl)}toHex(Nl){return bytesToHex$5(this.toBytes(Nl))}assertValidity(){}static fromCompact(Nl){return Cl.fromBytes(ensureBytes$2("sig",Nl),"compact")}static fromDER(Nl){return Cl.fromBytes(ensureBytes$2("sig",Nl),"der")}normalizeS(){return this.hasHighS()?new Cl(this.r,Zs.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return bytesToHex$5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return bytesToHex$5(this.toBytes("compact"))}}const Rl=Ws.bits2int||function(Nl){if(Nl.length>8192)throw new Error("input is too large");const Dl=bytesToNumberBE$2(Nl),Gl=Nl.length*8-Js;return Gl>0?Dl>>BigInt(Gl):Dl},Ol=Ws.bits2int_modN||function(Nl){return Zs.create(Rl(Nl))},Ml=bitMask$2(Js);function Ll(Vl){return aInRange$2("num < 2^"+Js,Vl,_0n$b,Ml),Zs.toBytes(Vl)}function Bl(Vl,Nl){return _abytes2(Vl,void 0,"message"),Nl?_abytes2(zs(Vl),void 0,"prehashed message"):Vl}function Wl(Vl,Nl,Dl){if(["recovered","canonical"].some(Ru=>Ru in Dl))throw new Error("sign() legacy options not supported");const{lowS:Gl,prehash:Fl,extraEntropy:Hl}=validateSigOpts(Dl,Tl);Vl=Bl(Vl,Fl);const Zl=Ol(Vl),Su=_normFnElement(Zs,Nl),$u=[Ll(Su),Ll(Zl)];if(Hl!=null&&Hl!==!1){const Ru=Hl===!0?qs(Sl.secretKey):Hl;$u.push(ensureBytes$2("extraEntropy",Ru))}const Pu=concatBytes$6(...$u),ku=Zl;function Tu(Ru){const Mu=Rl(Ru);if(!Zs.isValidNot0(Mu))return;const Hu=Zs.inv(Mu),Ku=at.BASE.multiply(Mu).toAffine(),Fu=Zs.create(Ku.x);if(Fu===_0n$b)return;const ju=Zs.create(Hu*Zs.create(ku+Fu*Su));if(ju===_0n$b)return;let qu=(Ku.x===Fu?0:2)|Number(Ku.y&_1n$b),Zu=ju;return Gl&&Al(ju)&&(Zu=Zs.neg(ju),qu^=1),new Cl(Fu,Zu,qu)}return{seed:Pu,k2sig:Tu}}function Yl(Vl,Nl,Dl={}){Vl=ensureBytes$2("message",Vl);const{seed:Gl,k2sig:Fl}=Wl(Vl,Nl,Dl);return createHmacDrbg$2(zs.outputLen,Zs.BYTES,Ys)(Gl,Fl)}function Kl(Vl){let Nl;const Dl=typeof Vl=="string"||isBytes$4(Vl),Gl=!Dl&&Vl!==null&&typeof Vl=="object"&&typeof Vl.r=="bigint"&&typeof Vl.s=="bigint";if(!Dl&&!Gl)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(Gl)Nl=new Cl(Vl.r,Vl.s);else if(Dl){try{Nl=Cl.fromBytes(ensureBytes$2("sig",Vl),"der")}catch(Fl){if(!(Fl instanceof DER$2.Err))throw Fl}if(!Nl)try{Nl=Cl.fromBytes(ensureBytes$2("sig",Vl),"compact")}catch{return!1}}return Nl||!1}function Xl(Vl,Nl,Dl,Gl={}){const{lowS:Fl,prehash:Hl,format:Zl}=validateSigOpts(Gl,Tl);if(Dl=ensureBytes$2("publicKey",Dl),Nl=Bl(ensureBytes$2("message",Nl),Hl),"strict"in Gl)throw new Error("options.strict was renamed to lowS");const Su=Zl===void 0?Kl(Vl):Cl.fromBytes(ensureBytes$2("sig",Vl),Zl);if(Su===!1)return!1;try{const $u=at.fromBytes(Dl);if(Fl&&Su.hasHighS())return!1;const{r:Pu,s:ku}=Su,Tu=Ol(Nl),Ru=Zs.inv(ku),Mu=Zs.create(Tu*Ru),Hu=Zs.create(Pu*Ru),Ku=at.BASE.multiplyUnsafe(Mu).add($u.multiplyUnsafe(Hu));return Ku.is0()?!1:Zs.create(Ku.x)===Pu}catch{return!1}}function Ul(Vl,Nl,Dl={}){const{prehash:Gl}=validateSigOpts(Dl,Tl);return Nl=Bl(Nl,Gl),Cl.fromBytes(Vl,"recovered").recoverPublicKey(Nl).toBytes()}return Object.freeze({keygen:$l,getPublicKey:El,getSharedSecret:wl,utils:_l,lengths:Sl,Point:at,sign:Yl,verify:Xl,recoverPublicKey:Ul,Signature:Cl,hash:zs})}function _weierstrass_legacy_opts_to_new(at){const zs={a:at.a,b:at.b,p:at.Fp.ORDER,n:at.n,h:at.h,Gx:at.Gx,Gy:at.Gy},Ws=at.Fp;let qs=at.allowedPrivateKeyLengths?Array.from(new Set(at.allowedPrivateKeyLengths.map(Zs=>Math.ceil(Zs/2)))):void 0;const Ys=Field$2(zs.n,{BITS:at.nBitLength,allowedLengths:qs,modFromBytes:at.wrapPrivateKey}),Xs={Fp:Ws,Fn:Ys,allowInfinityPoint:at.allowInfinityPoint,endo:at.endo,isTorsionFree:at.isTorsionFree,clearCofactor:at.clearCofactor,fromBytes:at.fromBytes,toBytes:at.toBytes};return{CURVE:zs,curveOpts:Xs}}function _ecdsa_legacy_opts_to_new(at){const{CURVE:zs,curveOpts:Ws}=_weierstrass_legacy_opts_to_new(at),qs={hmac:at.hmac,randomBytes:at.randomBytes,lowS:at.lowS,bits2int:at.bits2int,bits2int_modN:at.bits2int_modN};return{CURVE:zs,curveOpts:Ws,hash:at.hash,ecdsaOpts:qs}}function _ecdsa_new_output_to_legacy(at,zs){const Ws=zs.Point;return Object.assign({},zs,{ProjectivePoint:Ws,CURVE:Object.assign({},at,nLength$2(Ws.Fn.ORDER,Ws.Fn.BITS))})}function weierstrass$2(at){const{CURVE:zs,curveOpts:Ws,hash:qs,ecdsaOpts:Ys}=_ecdsa_legacy_opts_to_new(at),Xs=weierstrassN(zs,Ws),Zs=ecdsa(Xs,qs,Ys);return _ecdsa_new_output_to_legacy(at,Zs)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function createCurve$2(at,zs){const Ws=qs=>weierstrass$2({...at,hash:qs});return{...Ws(zs),create:Ws}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p256_CURVE={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},p384_CURVE={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},p521_CURVE={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Fp256=Field$2(p256_CURVE.p),Fp384=Field$2(p384_CURVE.p),Fp521=Field$2(p521_CURVE.p),p256$1=createCurve$2({...p256_CURVE,Fp:Fp256,lowS:!1},sha256$3);createCurve$2({...p384_CURVE,Fp:Fp384,lowS:!1},sha384),createCurve$2({...p521_CURVE,Fp:Fp521,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},sha512$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p256=p256$1,signWithApiKey=async at=>{const zs=p256.getPublicKey(at.privateKey,!0),Ws=uint8ArrayToHexString(zs);if(Ws!=at.publicKey)throw new Error(`Bad API key. Expected to get public key ${at.publicKey}, got ${Ws}`);const qs=createHash$1().update(at.content).digest();return p256.sign(qs,at.privateKey).toDERHex()},purejs=Object.freeze(Object.defineProperty({__proto__:null,signWithApiKey},Symbol.toStringTag,{value:"Module"}));let AsyncStorage;try{const at=require("@react-native-async-storage/async-storage");AsyncStorage=at.default??at}catch{throw new Error("Please install @react-native-async-storage/async-storage in your app to use MobileStorageManager")}class MobileStorageManager{constructor(){this.getStorageValue=async zs=>{const Ws=await AsyncStorage.getItem(zs);return Ws?JSON.parse(Ws):void 0},this.setStorageValue=async(zs,Ws)=>{await AsyncStorage.setItem(zs,JSON.stringify(Ws))},this.setActiveSessionKey=async zs=>{await AsyncStorage.setItem(MobileStorageManager.ACTIVE_SESSION_KEY,zs)},this.removeStorageValue=async zs=>{await AsyncStorage.removeItem(zs)},this.storeSession=async(zs,Ws=SessionKey.DefaultSessionkey)=>{const qs=parseSession(zs);await this.setStorageValue(Ws,qs);const Ys=await this.getStorageValue(MobileStorageManager.ALL_SESSION_KEYS),Xs=Array.isArray(Ys)?Ys:[];Xs.includes(Ws)||(Xs.push(Ws),await this.setStorageValue(MobileStorageManager.ALL_SESSION_KEYS,Xs)),await this.setStorageValue(MobileStorageManager.ACTIVE_SESSION_KEY,Ws)},this.getSession=async(zs=SessionKey.DefaultSessionkey)=>this.getStorageValue(zs),this.getActiveSessionKey=async()=>this.getStorageValue(MobileStorageManager.ACTIVE_SESSION_KEY),this.getActiveSession=async()=>{const zs=await this.getActiveSessionKey();return zs?this.getSession(zs):void 0},this.listSessionKeys=async()=>{const zs=await this.getStorageValue(MobileStorageManager.ALL_SESSION_KEYS);return Array.isArray(zs)?zs:[]},this.clearSession=async zs=>{await this.removeStorageValue(zs);const qs=(await this.listSessionKeys()).filter(Xs=>Xs!==zs);await this.setStorageValue(MobileStorageManager.ALL_SESSION_KEYS,qs),await this.getActiveSessionKey()===zs&&await this.removeStorageValue(MobileStorageManager.ACTIVE_SESSION_KEY)},this.clearAllSessions=async()=>{const zs=await this.listSessionKeys();await Promise.all(zs.map(Ws=>AsyncStorage.removeItem(Ws))),await this.removeStorageValue(MobileStorageManager.ALL_SESSION_KEYS),await this.removeStorageValue(MobileStorageManager.ACTIVE_SESSION_KEY)}}}MobileStorageManager.ALL_SESSION_KEYS="@turnkey/all-session-keys",MobileStorageManager.ACTIVE_SESSION_KEY="@turnkey/active-session-key";const storage=Object.freeze(Object.defineProperty({__proto__:null,MobileStorageManager},Symbol.toStringTag,{value:"Module"}));let Keychain;try{Keychain=require("react-native-keychain")}catch{throw new Error("Please install react-native-keychain in your app to use ReactNativeKeychainStamper")}class ReactNativeKeychainStamper{async listKeyPairs(){return await Keychain.getAllGenericPasswordServices()}async clearKeyPairs(){const zs=await this.listKeyPairs();for(const Ws of zs)await this.deleteKeyPair(Ws)}async createKeyPair(zs){let Ws,qs;if(zs)Ws=zs.privateKey,qs=zs.publicKey;else{const Ys=generateP256KeyPair();Ws=Ys.privateKey,qs=Ys.publicKey}return await Keychain.setGenericPassword(qs,Ws,{service:qs}),qs}async deleteKeyPair(zs){await Keychain.resetGenericPassword({service:zs})}async getPrivateKey(zs){const Ws=await Keychain.getGenericPassword({service:zs});return Ws?Ws.password:null}async stamp(zs,Ws){const qs=await this.getPrivateKey(Ws);if(!qs)throw new Error(`No private key found for public key: ${Ws}`);const Ys=new ApiKeyStamper({apiPublicKey:Ws,apiPrivateKey:qs}),{stampHeaderName:Xs,stampHeaderValue:Zs}=await Ys.stamp(zs);return{stampHeaderName:Xs,stampHeaderValue:Zs}}async sign(zs,Ws,qs){const Ys=await this.getPrivateKey(Ws);if(!Ys)throw new Error(`No private key found for public key: ${Ws}`);const Xs=new ApiKeyStamper({apiPublicKey:Ws,apiPrivateKey:Ys});switch(qs){case SignatureFormat.Raw:return Xs.sign(zs,SignatureFormat.Raw);case SignatureFormat.Der:return Xs.sign(zs,SignatureFormat.Der);default:throw new Error(`Unsupported signature format: ${qs}`)}}}const stamper=Object.freeze(Object.defineProperty({__proto__:null,ReactNativeKeychainStamper},Symbol.toStringTag,{value:"Module"})),STAMP_HEADER_NAME="X-Stamp";class CrossPlatformWalletStamper{constructor(zs){this.ctx={};const Ws=Object.entries(zs).filter(([,qs])=>!!qs);if(Ws.length===0)throw new Error("Cannot create WalletStamper: no wallet interfaces provided");for(const[qs,Ys]of Ws){const Xs=qs;this.ctx[Xs]={wallet:Ys,stamper:new WalletStamper(Ys)}}}async stamp(zs,Ws=this.defaultInterface(),qs){const Ys=this.getCtx(Ws),Xs=qs??Ys.provider;if(!Xs)throw new Error(`Could not find a provider for interface '${Ws}'.`);return Ys.stamper.stamp(zs,Xs)}async getPublicKey(zs=this.defaultInterface(),Ws){return this.getCtx(zs).wallet.getPublicKey(Ws)}setProvider(zs,Ws){this.getCtx(zs).provider=Ws,this.activeInterfaceType=zs}defaultInterface(){if(this.activeInterfaceType)return this.activeInterfaceType;const zs=Object.keys(this.ctx);if(zs.includes(WalletInterfaceType.Ethereum))return WalletInterfaceType.Ethereum;if(zs.includes(WalletInterfaceType.Solana))return WalletInterfaceType.Solana;if(zs.includes(WalletInterfaceType.WalletConnect))return WalletInterfaceType.WalletConnect;throw new Error("No interfaces initialized")}getCtx(zs){const Ws=this.ctx[zs];if(!Ws)throw new Error(`Interface '${zs}' not initialised`);return Ws}}class WalletStamper{constructor(zs){this.wallet=zs}async stamp(zs,Ws){let qs,Ys;try{qs=await this.wallet.sign(zs,Ws,SignIntent.SignMessage)}catch(Zs){throw new Error(`Failed to sign the message: ${Zs}`)}const Xs=getSignatureSchemeFromProvider(Ws);try{if(isEthereumProvider(Ws)){const{recoverPublicKey:Zs,hashMessage:yl}=await __vitePreload(async()=>{const{recoverPublicKey:Tl,hashMessage:Il}=await Promise.resolve().then(()=>index);return{recoverPublicKey:Tl,hashMessage:Il}},void 0),{compressRawPublicKey:Js,toDerSignature:$l}=await __vitePreload(async()=>{const{compressRawPublicKey:Tl,toDerSignature:Il}=await Promise.resolve().then(()=>index$3);return{compressRawPublicKey:Tl,toDerSignature:Il}},void 0),El=await Zs({hash:yl(zs),signature:qs}),wl=El.startsWith("0x")?El.slice(2):El,_l=uint8ArrayFromHexString(wl),Sl=Js(_l);Ys=uint8ArrayToHexString(Sl),qs=$l(qs.replace("0x",""))}else if(isSolanaProvider(Ws))Ys=await this.wallet.getPublicKey(Ws);else throw new Error(`Unsupported provider namespace: ${Ws.chainInfo.namespace}. Expected Ethereum or Solana.`)}catch(Zs){throw new Error(`Failed to recover public key: ${Zs}`)}return{stampHeaderName:STAMP_HEADER_NAME,stampHeaderValue:stringToBase64urlString(JSON.stringify({publicKey:Ys,scheme:Xs,signature:qs}))}}}class CrossPlatformWalletConnector{constructor(zs){if(this.wallets=zs,!Object.keys(zs).length)throw new Error("Cannot create WalletConnector: no wallet interfaces provided")}async connectWalletAccount(zs){const Ws=this.wallets[zs.interfaceType];if(!Ws)throw new Error(`Wallet for ${zs.interfaceType} not initialized`);return await Ws.connectWalletAccount(zs)}async disconnectWalletAccount(zs){const Ws=this.wallets[zs.interfaceType];if(!Ws)throw new Error(`Wallet for ${zs.interfaceType} not initialized`);await Ws.disconnectWalletAccount(zs)}async switchChain(zs,Ws){if(zs.chainInfo.namespace!==Chain.Ethereum)throw new Error("Only Ethereum wallets support chain switching");const qs=this.wallets[zs.interfaceType];if(!(qs!=null&&qs.switchChain))throw new Error(`Wallet ${zs.interfaceType} doesnt support switching chains`);return qs.switchChain(zs,Ws)}async sign(zs,Ws,qs){const Ys=this.wallets[Ws.interfaceType];if(!Ys)throw new Error(`Wallet for ${Ws.interfaceType} not initialized`);return Ys.sign(zs,Ws,qs)}}var events={exports:{}},R$3=typeof Reflect=="object"?Reflect:null,ReflectApply=R$3&&typeof R$3.apply=="function"?R$3.apply:function(zs,Ws,qs){return Function.prototype.apply.call(zs,Ws,qs)},ReflectOwnKeys;R$3&&typeof R$3.ownKeys=="function"?ReflectOwnKeys=R$3.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(zs){return Object.getOwnPropertyNames(zs).concat(Object.getOwnPropertySymbols(zs))}:ReflectOwnKeys=function(zs){return Object.getOwnPropertyNames(zs)};function ProcessEmitWarning(at){console&&console.warn&&console.warn(at)}var NumberIsNaN=Number.isNaN||function(zs){return zs!==zs};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(at){if(typeof at!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof at)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(at){if(typeof at!="number"||at<0||NumberIsNaN(at))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+at+".");defaultMaxListeners=at}}),EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(zs){if(typeof zs!="number"||zs<0||NumberIsNaN(zs))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+zs+".");return this._maxListeners=zs,this};function _getMaxListeners(at){return at._maxListeners===void 0?EventEmitter.defaultMaxListeners:at._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(zs){for(var Ws=[],qs=1;qs<arguments.length;qs++)Ws.push(arguments[qs]);var Ys=zs==="error",Xs=this._events;if(Xs!==void 0)Ys=Ys&&Xs.error===void 0;else if(!Ys)return!1;if(Ys){var Zs;if(Ws.length>0&&(Zs=Ws[0]),Zs instanceof Error)throw Zs;var yl=new Error("Unhandled error."+(Zs?" ("+Zs.message+")":""));throw yl.context=Zs,yl}var Js=Xs[zs];if(Js===void 0)return!1;if(typeof Js=="function")ReflectApply(Js,this,Ws);else for(var $l=Js.length,El=arrayClone(Js,$l),qs=0;qs<$l;++qs)ReflectApply(El[qs],this,Ws);return!0};function _addListener(at,zs,Ws,qs){var Ys,Xs,Zs;if(checkListener(Ws),Xs=at._events,Xs===void 0?(Xs=at._events=Object.create(null),at._eventsCount=0):(Xs.newListener!==void 0&&(at.emit("newListener",zs,Ws.listener?Ws.listener:Ws),Xs=at._events),Zs=Xs[zs]),Zs===void 0)Zs=Xs[zs]=Ws,++at._eventsCount;else if(typeof Zs=="function"?Zs=Xs[zs]=qs?[Ws,Zs]:[Zs,Ws]:qs?Zs.unshift(Ws):Zs.push(Ws),Ys=_getMaxListeners(at),Ys>0&&Zs.length>Ys&&!Zs.warned){Zs.warned=!0;var yl=new Error("Possible EventEmitter memory leak detected. "+Zs.length+" "+String(zs)+" listeners added. Use emitter.setMaxListeners() to increase limit");yl.name="MaxListenersExceededWarning",yl.emitter=at,yl.type=zs,yl.count=Zs.length,ProcessEmitWarning(yl)}return at}EventEmitter.prototype.addListener=function(zs,Ws){return _addListener(this,zs,Ws,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(zs,Ws){return _addListener(this,zs,Ws,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(at,zs,Ws){var qs={fired:!1,wrapFn:void 0,target:at,type:zs,listener:Ws},Ys=onceWrapper.bind(qs);return Ys.listener=Ws,qs.wrapFn=Ys,Ys}EventEmitter.prototype.once=function(zs,Ws){return checkListener(Ws),this.on(zs,_onceWrap(this,zs,Ws)),this},EventEmitter.prototype.prependOnceListener=function(zs,Ws){return checkListener(Ws),this.prependListener(zs,_onceWrap(this,zs,Ws)),this},EventEmitter.prototype.removeListener=function(zs,Ws){var qs,Ys,Xs,Zs,yl;if(checkListener(Ws),Ys=this._events,Ys===void 0)return this;if(qs=Ys[zs],qs===void 0)return this;if(qs===Ws||qs.listener===Ws)--this._eventsCount===0?this._events=Object.create(null):(delete Ys[zs],Ys.removeListener&&this.emit("removeListener",zs,qs.listener||Ws));else if(typeof qs!="function"){for(Xs=-1,Zs=qs.length-1;Zs>=0;Zs--)if(qs[Zs]===Ws||qs[Zs].listener===Ws){yl=qs[Zs].listener,Xs=Zs;break}if(Xs<0)return this;Xs===0?qs.shift():spliceOne(qs,Xs),qs.length===1&&(Ys[zs]=qs[0]),Ys.removeListener!==void 0&&this.emit("removeListener",zs,yl||Ws)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(zs){var Ws,qs,Ys;if(qs=this._events,qs===void 0)return this;if(qs.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):qs[zs]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete qs[zs]),this;if(arguments.length===0){var Xs=Object.keys(qs),Zs;for(Ys=0;Ys<Xs.length;++Ys)Zs=Xs[Ys],Zs!=="removeListener"&&this.removeAllListeners(Zs);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Ws=qs[zs],typeof Ws=="function")this.removeListener(zs,Ws);else if(Ws!==void 0)for(Ys=Ws.length-1;Ys>=0;Ys--)this.removeListener(zs,Ws[Ys]);return this};function _listeners(at,zs,Ws){var qs=at._events;if(qs===void 0)return[];var Ys=qs[zs];return Ys===void 0?[]:typeof Ys=="function"?Ws?[Ys.listener||Ys]:[Ys]:Ws?unwrapListeners(Ys):arrayClone(Ys,Ys.length)}EventEmitter.prototype.listeners=function(zs){return _listeners(this,zs,!0)},EventEmitter.prototype.rawListeners=function(zs){return _listeners(this,zs,!1)},EventEmitter.listenerCount=function(at,zs){return typeof at.listenerCount=="function"?at.listenerCount(zs):listenerCount.call(at,zs)},EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(at){var zs=this._events;if(zs!==void 0){var Ws=zs[at];if(typeof Ws=="function")return 1;if(Ws!==void 0)return Ws.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(at,zs){for(var Ws=new Array(zs),qs=0;qs<zs;++qs)Ws[qs]=at[qs];return Ws}function spliceOne(at,zs){for(;zs+1<at.length;zs++)at[zs]=at[zs+1];at.pop()}function unwrapListeners(at){for(var zs=new Array(at.length),Ws=0;Ws<zs.length;++Ws)zs[Ws]=at[Ws].listener||at[Ws];return zs}function once(at,zs){return new Promise(function(Ws,qs){function Ys(Zs){at.removeListener(zs,Xs),qs(Zs)}function Xs(){typeof at.removeListener=="function"&&at.removeListener("error",Ys),Ws([].slice.call(arguments))}eventTargetAgnosticAddListener(at,zs,Xs,{once:!0}),zs!=="error"&&addErrorHandlerIfEventEmitter(at,Ys,{once:!0})})}function addErrorHandlerIfEventEmitter(at,zs,Ws){typeof at.on=="function"&&eventTargetAgnosticAddListener(at,"error",zs,Ws)}function eventTargetAgnosticAddListener(at,zs,Ws,qs){if(typeof at.on=="function")qs.once?at.once(zs,Ws):at.on(zs,Ws);else if(typeof at.addEventListener=="function")at.addEventListener(zs,function Ys(Xs){qs.once&&at.removeEventListener(zs,Ys),Ws(Xs)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof at)}var eventsExports=events.exports;const Pt$3=getDefaultExportFromCjs(eventsExports);var cjs$3={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$2=function(at,zs){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ws,qs){Ws.__proto__=qs}||function(Ws,qs){for(var Ys in qs)qs.hasOwnProperty(Ys)&&(Ws[Ys]=qs[Ys])},extendStatics$2(at,zs)};function __extends$2(at,zs){extendStatics$2(at,zs);function Ws(){this.constructor=at}at.prototype=zs===null?Object.create(zs):(Ws.prototype=zs.prototype,new Ws)}var __assign$2=function(){return __assign$2=Object.assign||function(zs){for(var Ws,qs=1,Ys=arguments.length;qs<Ys;qs++){Ws=arguments[qs];for(var Xs in Ws)Object.prototype.hasOwnProperty.call(Ws,Xs)&&(zs[Xs]=Ws[Xs])}return zs},__assign$2.apply(this,arguments)};function __rest$1(at,zs){var Ws={};for(var qs in at)Object.prototype.hasOwnProperty.call(at,qs)&&zs.indexOf(qs)<0&&(Ws[qs]=at[qs]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ys=0,qs=Object.getOwnPropertySymbols(at);Ys<qs.length;Ys++)zs.indexOf(qs[Ys])<0&&Object.prototype.propertyIsEnumerable.call(at,qs[Ys])&&(Ws[qs[Ys]]=at[qs[Ys]]);return Ws}function __decorate$1(at,zs,Ws,qs){var Ys=arguments.length,Xs=Ys<3?zs:qs===null?qs=Object.getOwnPropertyDescriptor(zs,Ws):qs,Zs;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xs=Reflect.decorate(at,zs,Ws,qs);else for(var yl=at.length-1;yl>=0;yl--)(Zs=at[yl])&&(Xs=(Ys<3?Zs(Xs):Ys>3?Zs(zs,Ws,Xs):Zs(zs,Ws))||Xs);return Ys>3&&Xs&&Object.defineProperty(zs,Ws,Xs),Xs}function __param$1(at,zs){return function(Ws,qs){zs(Ws,qs,at)}}function __metadata$1(at,zs){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,zs)}function __awaiter$2(at,zs,Ws,qs){function Ys(Xs){return Xs instanceof Ws?Xs:new Ws(function(Zs){Zs(Xs)})}return new(Ws||(Ws=Promise))(function(Xs,Zs){function yl(El){try{$l(qs.next(El))}catch(wl){Zs(wl)}}function Js(El){try{$l(qs.throw(El))}catch(wl){Zs(wl)}}function $l(El){El.done?Xs(El.value):Ys(El.value).then(yl,Js)}$l((qs=qs.apply(at,zs||[])).next())})}function __generator$2(at,zs){var Ws={label:0,sent:function(){if(Xs[0]&1)throw Xs[1];return Xs[1]},trys:[],ops:[]},qs,Ys,Xs,Zs;return Zs={next:yl(0),throw:yl(1),return:yl(2)},typeof Symbol=="function"&&(Zs[Symbol.iterator]=function(){return this}),Zs;function yl($l){return function(El){return Js([$l,El])}}function Js($l){if(qs)throw new TypeError("Generator is already executing.");for(;Ws;)try{if(qs=1,Ys&&(Xs=$l[0]&2?Ys.return:$l[0]?Ys.throw||((Xs=Ys.return)&&Xs.call(Ys),0):Ys.next)&&!(Xs=Xs.call(Ys,$l[1])).done)return Xs;switch(Ys=0,Xs&&($l=[$l[0]&2,Xs.value]),$l[0]){case 0:case 1:Xs=$l;break;case 4:return Ws.label++,{value:$l[1],done:!1};case 5:Ws.label++,Ys=$l[1],$l=[0];continue;case 7:$l=Ws.ops.pop(),Ws.trys.pop();continue;default:if(Xs=Ws.trys,!(Xs=Xs.length>0&&Xs[Xs.length-1])&&($l[0]===6||$l[0]===2)){Ws=0;continue}if($l[0]===3&&(!Xs||$l[1]>Xs[0]&&$l[1]<Xs[3])){Ws.label=$l[1];break}if($l[0]===6&&Ws.label<Xs[1]){Ws.label=Xs[1],Xs=$l;break}if(Xs&&Ws.label<Xs[2]){Ws.label=Xs[2],Ws.ops.push($l);break}Xs[2]&&Ws.ops.pop(),Ws.trys.pop();continue}$l=zs.call(at,Ws)}catch(El){$l=[6,El],Ys=0}finally{qs=Xs=0}if($l[0]&5)throw $l[1];return{value:$l[0]?$l[1]:void 0,done:!0}}}function __createBinding$1(at,zs,Ws,qs){qs===void 0&&(qs=Ws),at[qs]=zs[Ws]}function __exportStar$1(at,zs){for(var Ws in at)Ws!=="default"&&!zs.hasOwnProperty(Ws)&&(zs[Ws]=at[Ws])}function __values$1(at){var zs=typeof Symbol=="function"&&Symbol.iterator,Ws=zs&&at[zs],qs=0;if(Ws)return Ws.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&qs>=at.length&&(at=void 0),{value:at&&at[qs++],done:!at}}};throw new TypeError(zs?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(at,zs){var Ws=typeof Symbol=="function"&&at[Symbol.iterator];if(!Ws)return at;var qs=Ws.call(at),Ys,Xs=[],Zs;try{for(;(zs===void 0||zs-- >0)&&!(Ys=qs.next()).done;)Xs.push(Ys.value)}catch(yl){Zs={error:yl}}finally{try{Ys&&!Ys.done&&(Ws=qs.return)&&Ws.call(qs)}finally{if(Zs)throw Zs.error}}return Xs}function __spread$1(){for(var at=[],zs=0;zs<arguments.length;zs++)at=at.concat(__read$1(arguments[zs]));return at}function __spreadArrays$1(){for(var at=0,zs=0,Ws=arguments.length;zs<Ws;zs++)at+=arguments[zs].length;for(var qs=Array(at),Ys=0,zs=0;zs<Ws;zs++)for(var Xs=arguments[zs],Zs=0,yl=Xs.length;Zs<yl;Zs++,Ys++)qs[Ys]=Xs[Zs];return qs}function __await$1(at){return this instanceof __await$1?(this.v=at,this):new __await$1(at)}function __asyncGenerator$1(at,zs,Ws){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qs=Ws.apply(at,zs||[]),Ys,Xs=[];return Ys={},Zs("next"),Zs("throw"),Zs("return"),Ys[Symbol.asyncIterator]=function(){return this},Ys;function Zs(_l){qs[_l]&&(Ys[_l]=function(Sl){return new Promise(function(Tl,Il){Xs.push([_l,Sl,Tl,Il])>1||yl(_l,Sl)})})}function yl(_l,Sl){try{Js(qs[_l](Sl))}catch(Tl){wl(Xs[0][3],Tl)}}function Js(_l){_l.value instanceof __await$1?Promise.resolve(_l.value.v).then($l,El):wl(Xs[0][2],_l)}function $l(_l){yl("next",_l)}function El(_l){yl("throw",_l)}function wl(_l,Sl){_l(Sl),Xs.shift(),Xs.length&&yl(Xs[0][0],Xs[0][1])}}function __asyncDelegator$1(at){var zs,Ws;return zs={},qs("next"),qs("throw",function(Ys){throw Ys}),qs("return"),zs[Symbol.iterator]=function(){return this},zs;function qs(Ys,Xs){zs[Ys]=at[Ys]?function(Zs){return(Ws=!Ws)?{value:__await$1(at[Ys](Zs)),done:Ys==="return"}:Xs?Xs(Zs):Zs}:Xs}}function __asyncValues$1(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var zs=at[Symbol.asyncIterator],Ws;return zs?zs.call(at):(at=typeof __values$1=="function"?__values$1(at):at[Symbol.iterator](),Ws={},qs("next"),qs("throw"),qs("return"),Ws[Symbol.asyncIterator]=function(){return this},Ws);function qs(Xs){Ws[Xs]=at[Xs]&&function(Zs){return new Promise(function(yl,Js){Zs=at[Xs](Zs),Ys(yl,Js,Zs.done,Zs.value)})}}function Ys(Xs,Zs,yl,Js){Promise.resolve(Js).then(function($l){Xs({value:$l,done:yl})},Zs)}}function __makeTemplateObject$1(at,zs){return Object.defineProperty?Object.defineProperty(at,"raw",{value:zs}):at.raw=zs,at}function __importStar$1(at){if(at&&at.__esModule)return at;var zs={};if(at!=null)for(var Ws in at)Object.hasOwnProperty.call(at,Ws)&&(zs[Ws]=at[Ws]);return zs.default=at,zs}function __importDefault$1(at){return at&&at.__esModule?at:{default:at}}function __classPrivateFieldGet$2(at,zs){if(!zs.has(at))throw new TypeError("attempted to get private field on non-instance");return zs.get(at)}function __classPrivateFieldSet$2(at,zs,Ws){if(!zs.has(at))throw new TypeError("attempted to set private field on non-instance");return zs.set(at,Ws),Ws}const tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$2},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$2,__classPrivateFieldGet:__classPrivateFieldGet$2,__classPrivateFieldSet:__classPrivateFieldSet$2,__createBinding:__createBinding$1,__decorate:__decorate$1,__exportStar:__exportStar$1,__extends:__extends$2,__generator:__generator$2,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6$1);var utils={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function at(zs){return new Promise(Ws=>{setTimeout(()=>{Ws(!0)},zs)})}return delay.delay=at,delay}var convert={},constants={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(at){Object.defineProperty(at,"__esModule",{value:!0}),at.ONE_YEAR=at.FOUR_WEEKS=at.THREE_WEEKS=at.TWO_WEEKS=at.ONE_WEEK=at.THIRTY_DAYS=at.SEVEN_DAYS=at.FIVE_DAYS=at.THREE_DAYS=at.ONE_DAY=at.TWENTY_FOUR_HOURS=at.TWELVE_HOURS=at.SIX_HOURS=at.THREE_HOURS=at.ONE_HOUR=at.SIXTY_MINUTES=at.THIRTY_MINUTES=at.TEN_MINUTES=at.FIVE_MINUTES=at.ONE_MINUTE=at.SIXTY_SECONDS=at.THIRTY_SECONDS=at.TEN_SECONDS=at.FIVE_SECONDS=at.ONE_SECOND=void 0,at.ONE_SECOND=1,at.FIVE_SECONDS=5,at.TEN_SECONDS=10,at.THIRTY_SECONDS=30,at.SIXTY_SECONDS=60,at.ONE_MINUTE=at.SIXTY_SECONDS,at.FIVE_MINUTES=at.ONE_MINUTE*5,at.TEN_MINUTES=at.ONE_MINUTE*10,at.THIRTY_MINUTES=at.ONE_MINUTE*30,at.SIXTY_MINUTES=at.ONE_MINUTE*60,at.ONE_HOUR=at.SIXTY_MINUTES,at.THREE_HOURS=at.ONE_HOUR*3,at.SIX_HOURS=at.ONE_HOUR*6,at.TWELVE_HOURS=at.ONE_HOUR*12,at.TWENTY_FOUR_HOURS=at.ONE_HOUR*24,at.ONE_DAY=at.TWENTY_FOUR_HOURS,at.THREE_DAYS=at.ONE_DAY*3,at.FIVE_DAYS=at.ONE_DAY*5,at.SEVEN_DAYS=at.ONE_DAY*7,at.THIRTY_DAYS=at.ONE_DAY*30,at.ONE_WEEK=at.SEVEN_DAYS,at.TWO_WEEKS=at.ONE_WEEK*2,at.THREE_WEEKS=at.ONE_WEEK*3,at.FOUR_WEEKS=at.ONE_WEEK*4,at.ONE_YEAR=at.ONE_DAY*365}(time)),time}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(at){Object.defineProperty(at,"__esModule",{value:!0});const zs=require$$0$1;zs.__exportStar(requireMisc(),at),zs.__exportStar(requireTime(),at)}(constants)),constants}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const at=requireConstants();function zs(qs){return qs*at.ONE_THOUSAND}convert.toMiliseconds=zs;function Ws(qs){return Math.floor(qs/at.ONE_THOUSAND)}return convert.fromMiliseconds=Ws,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(at){Object.defineProperty(at,"__esModule",{value:!0});const zs=require$$0$1;zs.__exportStar(requireDelay(),at),zs.__exportStar(requireConvert(),at)}(utils)),utils}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class at{constructor(){this.timestamps=new Map}start(Ws){if(this.timestamps.has(Ws))throw new Error(`Watch already started for label: ${Ws}`);this.timestamps.set(Ws,{started:Date.now()})}stop(Ws){const qs=this.get(Ws);if(typeof qs.elapsed<"u")throw new Error(`Watch already stopped for label: ${Ws}`);const Ys=Date.now()-qs.started;this.timestamps.set(Ws,{started:qs.started,elapsed:Ys})}get(Ws){const qs=this.timestamps.get(Ws);if(typeof qs>"u")throw new Error(`No timestamp found for label: ${Ws}`);return qs}elapsed(Ws){const qs=this.get(Ws);return qs.elapsed||Date.now()-qs.started}}return watch$2.Watch=at,watch$2.default=at,watch$2}var types={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class at{}return watch$1.IWatch=at,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(at){Object.defineProperty(at,"__esModule",{value:!0}),require$$0$1.__exportStar(requireWatch(),at)}(types)),types}(function(at){Object.defineProperty(at,"__esModule",{value:!0});const zs=require$$0$1;zs.__exportStar(requireUtils(),at),zs.__exportStar(requireWatch$1(),at),zs.__exportStar(requireTypes(),at),zs.__exportStar(requireConstants(),at)})(cjs$3);class IEvents{}let n$1=class extends IEvents{constructor(zs){super()}};const s=cjs$3.FIVE_SECONDS,r$1={pulse:"heartbeat_pulse"};let i$1=class f0 extends n$1{constructor(zs){super(zs),this.events=new eventsExports.EventEmitter,this.interval=s,this.interval=(zs==null?void 0:zs.interval)||s}static async init(zs){const Ws=new f0(zs);return await Ws.init(),Ws}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(zs,Ws){this.events.on(zs,Ws)}once(zs,Ws){this.events.once(zs,Ws)}off(zs,Ws){this.events.off(zs,Ws)}removeListener(zs,Ws){this.events.removeListener(zs,Ws)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjs$3.toMiliseconds(this.interval))}pulse(){this.events.emit(r$1.pulse)}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(at,zs){if(at==="__proto__"||at==="constructor"&&zs&&typeof zs=="object"&&"prototype"in zs){warnKeyDropped(at);return}return zs}function warnKeyDropped(at){console.warn(`[destr] Dropping "${at}" key to prevent prototype pollution.`)}function destr(at,zs={}){if(typeof at!="string")return at;if(at[0]==='"'&&at[at.length-1]==='"'&&at.indexOf("\\")===-1)return at.slice(1,-1);const Ws=at.trim();if(Ws.length<=9)switch(Ws.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(at)){if(zs.strict)throw new SyntaxError("[destr] Invalid JSON");return at}try{if(suspectProtoRx.test(at)||suspectConstructorRx.test(at)){if(zs.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(at,jsonParseTransform)}return JSON.parse(at)}catch(qs){if(zs.strict)throw qs;return at}}function wrapToPromise(at){return!at||typeof at.then!="function"?Promise.resolve(at):at}function asyncCall(at,...zs){try{return wrapToPromise(at(...zs))}catch(Ws){return Promise.reject(Ws)}}function isPrimitive(at){const zs=typeof at;return at===null||zs!=="object"&&zs!=="function"}function isPureObject(at){const zs=Object.getPrototypeOf(at);return!zs||zs.isPrototypeOf(Object)}function stringify$1(at){if(isPrimitive(at))return String(at);if(isPureObject(at)||Array.isArray(at))return JSON.stringify(at);if(typeof at.toJSON=="function")return stringify$1(at.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const BASE64_PREFIX="base64:";function serializeRaw(at){return typeof at=="string"?at:BASE64_PREFIX+base64Encode(at)}function deserializeRaw(at){return typeof at!="string"||!at.startsWith(BASE64_PREFIX)?at:base64Decode(at.slice(BASE64_PREFIX.length))}function base64Decode(at){return globalThis.Buffer?Buffer.from(at,"base64"):Uint8Array.from(globalThis.atob(at),zs=>zs.codePointAt(0))}function base64Encode(at){return globalThis.Buffer?Buffer.from(at).toString("base64"):globalThis.btoa(String.fromCodePoint(...at))}function normalizeKey(at){var zs;return at&&((zs=at.split("?")[0])==null?void 0:zs.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function joinKeys(...at){return normalizeKey(at.join(":"))}function normalizeBaseKey(at){return at=normalizeKey(at),at?at+":":""}function filterKeyByDepth(at,zs){if(zs===void 0)return!0;let Ws=0,qs=at.indexOf(":");for(;qs>-1;)Ws++,qs=at.indexOf(":",qs+1);return Ws<=zs}function filterKeyByBase(at,zs){return zs?at.startsWith(zs)&&at[at.length-1]!=="$":at[at.length-1]!=="$"}function defineDriver(at){return at}const DRIVER_NAME="memory",memory=()=>{const at=new Map;return{name:DRIVER_NAME,getInstance:()=>at,hasItem(zs){return at.has(zs)},getItem(zs){return at.get(zs)??null},getItemRaw(zs){return at.get(zs)??null},setItem(zs,Ws){at.set(zs,Ws)},setItemRaw(zs,Ws){at.set(zs,Ws)},removeItem(zs){at.delete(zs)},getKeys(){return[...at.keys()]},clear(){at.clear()},dispose(){at.clear()}}};function createStorage(at={}){const zs={mounts:{"":at.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},Ws=$l=>{for(const El of zs.mountpoints)if($l.startsWith(El))return{base:El,relativeKey:$l.slice(El.length),driver:zs.mounts[El]};return{base:"",relativeKey:$l,driver:zs.mounts[""]}},qs=($l,El)=>zs.mountpoints.filter(wl=>wl.startsWith($l)||El&&$l.startsWith(wl)).map(wl=>({relativeBase:$l.length>wl.length?$l.slice(wl.length):void 0,mountpoint:wl,driver:zs.mounts[wl]})),Ys=($l,El)=>{if(zs.watching){El=normalizeKey(El);for(const wl of zs.watchListeners)wl($l,El)}},Xs=async()=>{if(!zs.watching){zs.watching=!0;for(const $l in zs.mounts)zs.unwatch[$l]=await watch(zs.mounts[$l],Ys,$l)}},Zs=async()=>{if(zs.watching){for(const $l in zs.unwatch)await zs.unwatch[$l]();zs.unwatch={},zs.watching=!1}},yl=($l,El,wl)=>{const _l=new Map,Sl=Tl=>{let Il=_l.get(Tl.base);return Il||(Il={driver:Tl.driver,base:Tl.base,items:[]},_l.set(Tl.base,Il)),Il};for(const Tl of $l){const Il=typeof Tl=="string",Al=normalizeKey(Il?Tl:Tl.key),xl=Il?void 0:Tl.value,Pl=Il||!Tl.options?El:{...El,...Tl.options},Cl=Ws(Al);Sl(Cl).items.push({key:Al,value:xl,relativeKey:Cl.relativeKey,options:Pl})}return Promise.all([..._l.values()].map(Tl=>wl(Tl))).then(Tl=>Tl.flat())},Js={hasItem($l,El={}){$l=normalizeKey($l);const{relativeKey:wl,driver:_l}=Ws($l);return asyncCall(_l.hasItem,wl,El)},getItem($l,El={}){$l=normalizeKey($l);const{relativeKey:wl,driver:_l}=Ws($l);return asyncCall(_l.getItem,wl,El).then(Sl=>destr(Sl))},getItems($l,El={}){return yl($l,El,wl=>wl.driver.getItems?asyncCall(wl.driver.getItems,wl.items.map(_l=>({key:_l.relativeKey,options:_l.options})),El).then(_l=>_l.map(Sl=>({key:joinKeys(wl.base,Sl.key),value:destr(Sl.value)}))):Promise.all(wl.items.map(_l=>asyncCall(wl.driver.getItem,_l.relativeKey,_l.options).then(Sl=>({key:_l.key,value:destr(Sl)})))))},getItemRaw($l,El={}){$l=normalizeKey($l);const{relativeKey:wl,driver:_l}=Ws($l);return _l.getItemRaw?asyncCall(_l.getItemRaw,wl,El):asyncCall(_l.getItem,wl,El).then(Sl=>deserializeRaw(Sl))},async setItem($l,El,wl={}){if(El===void 0)return Js.removeItem($l);$l=normalizeKey($l);const{relativeKey:_l,driver:Sl}=Ws($l);Sl.setItem&&(await asyncCall(Sl.setItem,_l,stringify$1(El),wl),Sl.watch||Ys("update",$l))},async setItems($l,El){await yl($l,El,async wl=>{if(wl.driver.setItems)return asyncCall(wl.driver.setItems,wl.items.map(_l=>({key:_l.relativeKey,value:stringify$1(_l.value),options:_l.options})),El);wl.driver.setItem&&await Promise.all(wl.items.map(_l=>asyncCall(wl.driver.setItem,_l.relativeKey,stringify$1(_l.value),_l.options)))})},async setItemRaw($l,El,wl={}){if(El===void 0)return Js.removeItem($l,wl);$l=normalizeKey($l);const{relativeKey:_l,driver:Sl}=Ws($l);if(Sl.setItemRaw)await asyncCall(Sl.setItemRaw,_l,El,wl);else if(Sl.setItem)await asyncCall(Sl.setItem,_l,serializeRaw(El),wl);else return;Sl.watch||Ys("update",$l)},async removeItem($l,El={}){typeof El=="boolean"&&(El={removeMeta:El}),$l=normalizeKey($l);const{relativeKey:wl,driver:_l}=Ws($l);_l.removeItem&&(await asyncCall(_l.removeItem,wl,El),(El.removeMeta||El.removeMata)&&await asyncCall(_l.removeItem,wl+"$",El),_l.watch||Ys("remove",$l))},async getMeta($l,El={}){typeof El=="boolean"&&(El={nativeOnly:El}),$l=normalizeKey($l);const{relativeKey:wl,driver:_l}=Ws($l),Sl=Object.create(null);if(_l.getMeta&&Object.assign(Sl,await asyncCall(_l.getMeta,wl,El)),!El.nativeOnly){const Tl=await asyncCall(_l.getItem,wl+"$",El).then(Il=>destr(Il));Tl&&typeof Tl=="object"&&(typeof Tl.atime=="string"&&(Tl.atime=new Date(Tl.atime)),typeof Tl.mtime=="string"&&(Tl.mtime=new Date(Tl.mtime)),Object.assign(Sl,Tl))}return Sl},setMeta($l,El,wl={}){return this.setItem($l+"$",El,wl)},removeMeta($l,El={}){return this.removeItem($l+"$",El)},async getKeys($l,El={}){var Al;$l=normalizeBaseKey($l);const wl=qs($l,!0);let _l=[];const Sl=[];let Tl=!0;for(const xl of wl){(Al=xl.driver.flags)!=null&&Al.maxDepth||(Tl=!1);const Pl=await asyncCall(xl.driver.getKeys,xl.relativeBase,El);for(const Cl of Pl){const Rl=xl.mountpoint+normalizeKey(Cl);_l.some(Ol=>Rl.startsWith(Ol))||Sl.push(Rl)}_l=[xl.mountpoint,..._l.filter(Cl=>!Cl.startsWith(xl.mountpoint))]}const Il=El.maxDepth!==void 0&&!Tl;return Sl.filter(xl=>(!Il||filterKeyByDepth(xl,El.maxDepth))&&filterKeyByBase(xl,$l))},async clear($l,El={}){$l=normalizeBaseKey($l),await Promise.all(qs($l,!1).map(async wl=>{if(wl.driver.clear)return asyncCall(wl.driver.clear,wl.relativeBase,El);if(wl.driver.removeItem){const _l=await wl.driver.getKeys(wl.relativeBase||"",El);return Promise.all(_l.map(Sl=>wl.driver.removeItem(Sl,El)))}}))},async dispose(){await Promise.all(Object.values(zs.mounts).map($l=>dispose($l)))},async watch($l){return await Xs(),zs.watchListeners.push($l),async()=>{zs.watchListeners=zs.watchListeners.filter(El=>El!==$l),zs.watchListeners.length===0&&await Zs()}},async unwatch(){zs.watchListeners=[],await Zs()},mount($l,El){if($l=normalizeBaseKey($l),$l&&zs.mounts[$l])throw new Error(`already mounted at ${$l}`);return $l&&(zs.mountpoints.push($l),zs.mountpoints.sort((wl,_l)=>_l.length-wl.length)),zs.mounts[$l]=El,zs.watching&&Promise.resolve(watch(El,Ys,$l)).then(wl=>{zs.unwatch[$l]=wl}).catch(console.error),Js},async unmount($l,El=!0){var wl,_l;$l=normalizeBaseKey($l),!(!$l||!zs.mounts[$l])&&(zs.watching&&$l in zs.unwatch&&((_l=(wl=zs.unwatch)[$l])==null||_l.call(wl),delete zs.unwatch[$l]),El&&await dispose(zs.mounts[$l]),zs.mountpoints=zs.mountpoints.filter(Sl=>Sl!==$l),delete zs.mounts[$l])},getMount($l=""){$l=normalizeKey($l)+":";const El=Ws($l);return{driver:El.driver,base:El.base}},getMounts($l="",El={}){return $l=normalizeKey($l),qs($l,El.parents).map(_l=>({driver:_l.driver,base:_l.mountpoint}))},keys:($l,El={})=>Js.getKeys($l,El),get:($l,El={})=>Js.getItem($l,El),set:($l,El,wl={})=>Js.setItem($l,El,wl),has:($l,El={})=>Js.hasItem($l,El),del:($l,El={})=>Js.removeItem($l,El),remove:($l,El={})=>Js.removeItem($l,El)};return Js}function watch(at,zs,Ws){return at.watch?at.watch((qs,Ys)=>zs(qs,Ws+Ys)):()=>{}}async function dispose(at){typeof at.dispose=="function"&&await asyncCall(at.dispose)}function promisifyRequest(at){return new Promise((zs,Ws)=>{at.oncomplete=at.onsuccess=()=>zs(at.result),at.onabort=at.onerror=()=>Ws(at.error)})}function createStore(at,zs){const Ws=indexedDB.open(at);Ws.onupgradeneeded=()=>Ws.result.createObjectStore(zs);const qs=promisifyRequest(Ws);return(Ys,Xs)=>qs.then(Zs=>Xs(Zs.transaction(zs,Ys).objectStore(zs)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get$1(at,zs=defaultGetStore()){return zs("readonly",Ws=>promisifyRequest(Ws.get(at)))}function set(at,zs,Ws=defaultGetStore()){return Ws("readwrite",qs=>(qs.put(zs,at),promisifyRequest(qs.transaction)))}function del(at,zs=defaultGetStore()){return zs("readwrite",Ws=>(Ws.delete(at),promisifyRequest(Ws.transaction)))}function clear(at=defaultGetStore()){return at("readwrite",zs=>(zs.clear(),promisifyRequest(zs.transaction)))}function eachCursor(at,zs){return at.openCursor().onsuccess=function(){this.result&&(zs(this.result),this.result.continue())},promisifyRequest(at.transaction)}function keys(at=defaultGetStore()){return at("readonly",zs=>{if(zs.getAllKeys)return promisifyRequest(zs.getAllKeys());const Ws=[];return eachCursor(zs,qs=>Ws.push(qs.key)).then(()=>Ws)})}const JSONStringify=at=>JSON.stringify(at,(zs,Ws)=>typeof Ws=="bigint"?Ws.toString()+"n":Ws),JSONParse=at=>{const zs=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,Ws=at.replace(zs,'$1"$2n"$3');return JSON.parse(Ws,(qs,Ys)=>typeof Ys=="string"&&Ys.match(/^\d+n$/)?BigInt(Ys.substring(0,Ys.length-1)):Ys)};function safeJsonParse(at){if(typeof at!="string")throw new Error(`Cannot safe json parse value of type ${typeof at}`);try{return JSONParse(at)}catch{return at}}function safeJsonStringify(at){return typeof at=="string"?at:JSONStringify(at)||""}const x$3="idb-keyval";var z$3=(at={})=>{const zs=at.base&&at.base.length>0?`${at.base}:`:"",Ws=Ys=>zs+Ys;let qs;return at.dbName&&at.storeName&&(qs=createStore(at.dbName,at.storeName)),{name:x$3,options:at,async hasItem(Ys){return!(typeof await get$1(Ws(Ys),qs)>"u")},async getItem(Ys){return await get$1(Ws(Ys),qs)??null},setItem(Ys,Xs){return set(Ws(Ys),Xs,qs)},removeItem(Ys){return del(Ws(Ys),qs)},getKeys(){return keys(qs)},clear(){return clear(qs)}}};const D="WALLET_CONNECT_V2_INDEXED_DB",E$2="keyvaluestorage";let _$1=class{constructor(){this.indexedDb=createStorage({driver:z$3({dbName:D,storeName:E$2})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(zs=>[zs.key,zs.value])}async getItem(zs){const Ws=await this.indexedDb.getItem(zs);if(Ws!==null)return Ws}async setItem(zs,Ws){await this.indexedDb.setItem(zs,safeJsonStringify(Ws))}async removeItem(zs){await this.indexedDb.removeItem(zs)}};var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$2={exports:{}};(function(){let at;function zs(){}at=zs,at.prototype.getItem=function(Ws){return this.hasOwnProperty(Ws)?String(this[Ws]):null},at.prototype.setItem=function(Ws,qs){this[Ws]=String(qs)},at.prototype.removeItem=function(Ws){delete this[Ws]},at.prototype.clear=function(){const Ws=this;Object.keys(Ws).forEach(function(qs){Ws[qs]=void 0,delete Ws[qs]})},at.prototype.key=function(Ws){return Ws=Ws||0,Object.keys(this)[Ws]},at.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l<"u"&&l.localStorage?c$2.exports=l.localStorage:typeof window<"u"&&window.localStorage?c$2.exports=window.localStorage:c$2.exports=new zs})();function k$3(at){var zs;return[at[0],safeJsonParse((zs=at[1])!=null?zs:"")]}let K$5=class{constructor(){this.localStorage=c$2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$3)}async getItem(zs){const Ws=this.localStorage.getItem(zs);if(Ws!==null)return safeJsonParse(Ws)}async setItem(zs,Ws){this.localStorage.setItem(zs,safeJsonStringify(Ws))}async removeItem(zs){this.localStorage.removeItem(zs)}};const N$4="wc_storage_version",y$2=1,O$2=async(at,zs,Ws)=>{const qs=N$4,Ys=await zs.getItem(qs);if(Ys&&Ys>=y$2){Ws(zs);return}const Xs=await at.getKeys();if(!Xs.length){Ws(zs);return}const Zs=[];for(;Xs.length;){const yl=Xs.shift();if(!yl)continue;const Js=yl.toLowerCase();if(Js.includes("wc@")||Js.includes("walletconnect")||Js.includes("wc_")||Js.includes("wallet_connect")){const $l=await at.getItem(yl);await zs.setItem(yl,$l),Zs.push(yl)}}await zs.setItem(qs,y$2),Ws(zs),j$2(at,Zs)},j$2=async(at,zs)=>{zs.length&&zs.forEach(async Ws=>{await at.removeItem(Ws)})};let h$2=class{constructor(){this.initialized=!1,this.setInitialized=Ws=>{this.storage=Ws,this.initialized=!0};const zs=new K$5;this.storage=zs;try{const Ws=new _$1;O$2(zs,Ws,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(zs){return await this.initialize(),this.storage.getItem(zs)}async setItem(zs,Ws){return await this.initialize(),this.storage.setItem(zs,Ws)}async removeItem(zs){return await this.initialize(),this.storage.removeItem(zs)}async initialize(){this.initialized||await new Promise(zs=>{const Ws=setInterval(()=>{this.initialized&&(clearInterval(Ws),zs())},20)})}};var b$3={exports:{}};function se$2(at){try{return JSON.stringify(at)}catch{return'"[Circular]"'}}var ie$1=oe$2;function oe$2(at,zs,Ws){var qs=Ws&&Ws.stringify||se$2,Ys=1;if(typeof at=="object"&&at!==null){var Xs=zs.length+Ys;if(Xs===1)return at;var Zs=new Array(Xs);Zs[0]=qs(at);for(var yl=1;yl<Xs;yl++)Zs[yl]=qs(zs[yl]);return Zs.join(" ")}if(typeof at!="string")return at;var Js=zs.length;if(Js===0)return at;for(var $l="",El=1-Ys,wl=-1,_l=at&&at.length||0,Sl=0;Sl<_l;){if(at.charCodeAt(Sl)===37&&Sl+1<_l){switch(wl=wl>-1?wl:0,at.charCodeAt(Sl+1)){case 100:case 102:if(El>=Js||zs[El]==null)break;wl<Sl&&($l+=at.slice(wl,Sl)),$l+=Number(zs[El]),wl=Sl+2,Sl++;break;case 105:if(El>=Js||zs[El]==null)break;wl<Sl&&($l+=at.slice(wl,Sl)),$l+=Math.floor(Number(zs[El])),wl=Sl+2,Sl++;break;case 79:case 111:case 106:if(El>=Js||zs[El]===void 0)break;wl<Sl&&($l+=at.slice(wl,Sl));var Tl=typeof zs[El];if(Tl==="string"){$l+="'"+zs[El]+"'",wl=Sl+2,Sl++;break}if(Tl==="function"){$l+=zs[El].name||"<anonymous>",wl=Sl+2,Sl++;break}$l+=qs(zs[El]),wl=Sl+2,Sl++;break;case 115:if(El>=Js)break;wl<Sl&&($l+=at.slice(wl,Sl)),$l+=String(zs[El]),wl=Sl+2,Sl++;break;case 37:wl<Sl&&($l+=at.slice(wl,Sl)),$l+="%",wl=Sl+2,Sl++,El--;break}++El}++Sl}return wl===-1?at:(wl<_l&&($l+=at.slice(wl)),$l)}const G$2=ie$1;b$3.exports=v$5;const E$1=Le$3().console||{},le$1={mapHttpRequest:T$1,mapHttpResponse:T$1,wrapRequestSerializer:$,wrapResponseSerializer:$,wrapErrorSerializer:$,req:T$1,res:T$1,err:U$1,errWithCause:U$1};function m$3(at,zs){return at==="silent"?1/0:zs.levels.values[at]}const A$1=Symbol("pino.logFuncs"),P$3=Symbol("pino.hierarchy"),ae$1={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function R$2(at,zs){const Ws={logger:zs,parent:at[P$3]};zs[P$3]=Ws}function ue(at,zs,Ws){const qs={};zs.forEach(Ys=>{qs[Ys]=Ws[Ys]?Ws[Ys]:E$1[Ys]||E$1[ae$1[Ys]||"log"]||z$2}),at[A$1]=qs}function ce$1(at,zs){return Array.isArray(at)?at.filter(function(Ws){return Ws!=="!stdSerializers.err"}):at===!0?Object.keys(zs):!1}function v$5(at){at=at||{},at.browser=at.browser||{};const zs=at.browser.transmit;if(zs&&typeof zs.send!="function")throw Error("pino: transmit option must have a send function");const Ws=at.browser.write||E$1;at.browser.write&&(at.browser.asObject=!0);const qs=at.serializers||{},Ys=ce$1(at.browser.serialize,qs);let Xs=at.browser.serialize;Array.isArray(at.browser.serialize)&&at.browser.serialize.indexOf("!stdSerializers.err")>-1&&(Xs=!1);const Zs=Object.keys(at.customLevels||{}),yl=["error","fatal","warn","info","debug","trace"].concat(Zs);typeof Ws=="function"&&yl.forEach(function(Il){Ws[Il]=Ws}),(at.enabled===!1||at.browser.disabled)&&(at.level="silent");const Js=at.level||"info",$l=Object.create(Ws);$l.log||($l.log=z$2),ue($l,yl,Ws),R$2({},$l),Object.defineProperty($l,"levelVal",{get:wl}),Object.defineProperty($l,"level",{get:_l,set:Sl});const El={transmit:zs,serialize:Ys,asObject:at.browser.asObject,asObjectBindingsOnly:at.browser.asObjectBindingsOnly,formatters:at.browser.formatters,levels:yl,timestamp:ye$3(at),messageKey:at.messageKey||"msg",onChild:at.onChild||z$2};$l.levels=fe$2(at),$l.level=Js,$l.isLevelEnabled=function(Il){return this.levels.values[Il]?this.levels.values[Il]>=this.levels.values[this.level]:!1},$l.setMaxListeners=$l.getMaxListeners=$l.emit=$l.addListener=$l.on=$l.prependListener=$l.once=$l.prependOnceListener=$l.removeListener=$l.removeAllListeners=$l.listeners=$l.listenerCount=$l.eventNames=$l.write=$l.flush=z$2,$l.serializers=qs,$l._serialize=Ys,$l._stdErrSerialize=Xs,$l.child=function(...Il){return Tl.call(this,El,...Il)},zs&&($l._logEvent=N$3());function wl(){return m$3(this.level,this)}function _l(){return this._level}function Sl(Il){if(Il!=="silent"&&!this.levels.values[Il])throw Error("unknown level "+Il);this._level=Il,O$1(this,El,$l,"error"),O$1(this,El,$l,"fatal"),O$1(this,El,$l,"warn"),O$1(this,El,$l,"info"),O$1(this,El,$l,"debug"),O$1(this,El,$l,"trace"),Zs.forEach(Al=>{O$1(this,El,$l,Al)})}function Tl(Il,Al,xl){if(!Al)throw new Error("missing bindings for child Pino");xl=xl||{},Ys&&Al.serializers&&(xl.serializers=Al.serializers);const Pl=xl.serializers;if(Ys&&Pl){var Cl=Object.assign({},qs,Pl),Rl=at.browser.serialize===!0?Object.keys(Cl):Ys;delete Al.serializers,V$2([Al],Rl,Cl,this._stdErrSerialize)}function Ol(Ll){this._childLevel=(Ll._childLevel|0)+1,this.bindings=Al,Cl&&(this.serializers=Cl,this._serialize=Rl),zs&&(this._logEvent=N$3([].concat(Ll._logEvent.bindings,Al)))}Ol.prototype=this;const Ml=new Ol(this);return R$2(this,Ml),Ml.child=function(...Ll){return Tl.call(this,Il,...Ll)},Ml.level=xl.level||this.level,Il.onChild(Ml),Ml}return $l}function fe$2(at){const zs=at.customLevels||{},Ws=Object.assign({},v$5.levels.values,zs),qs=Object.assign({},v$5.levels.labels,he$3(zs));return{values:Ws,labels:qs}}function he$3(at){const zs={};return Object.keys(at).forEach(function(Ws){zs[at[Ws]]=Ws}),zs}v$5.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},v$5.stdSerializers=le$1,v$5.stdTimeFunctions=Object.assign({},{nullTime:X$2,epochTime:Y$1,unixTime:pe$2,isoTime:we$3});function ge$3(at){const zs=[];at.bindings&&zs.push(at.bindings);let Ws=at[P$3];for(;Ws.parent;)Ws=Ws.parent,Ws.logger.bindings&&zs.push(Ws.logger.bindings);return zs.reverse()}function O$1(at,zs,Ws,qs){if(Object.defineProperty(at,qs,{value:m$3(at.level,Ws)>m$3(qs,Ws)?z$2:Ws[A$1][qs],writable:!0,enumerable:!0,configurable:!0}),at[qs]===z$2){if(!zs.transmit)return;const Xs=zs.transmit.level||at.level,Zs=m$3(Xs,Ws);if(m$3(qs,Ws)<Zs)return}at[qs]=de$2(at,zs,Ws,qs);const Ys=ge$3(at);Ys.length!==0&&(at[qs]=be$3(Ys,at[qs]))}function be$3(at,zs){return function(){return zs.apply(this,[...at,...arguments])}}function de$2(at,zs,Ws,qs){return function(Ys){return function(){const Xs=zs.timestamp(),Zs=new Array(arguments.length),yl=Object.getPrototypeOf&&Object.getPrototypeOf(this)===E$1?E$1:this;for(var Js=0;Js<Zs.length;Js++)Zs[Js]=arguments[Js];var $l=!1;if(zs.serialize&&(V$2(Zs,this._serialize,this.serializers,this._stdErrSerialize),$l=!0),zs.asObject||zs.formatters?Ys.call(yl,...ve$3(this,qs,Zs,Xs,zs)):Ys.apply(yl,Zs),zs.transmit){const El=zs.transmit.level||at._level,wl=m$3(El,Ws),_l=m$3(qs,Ws);if(_l<wl)return;me$3(this,{ts:Xs,methodLevel:qs,methodValue:_l,transmitValue:Ws.levels.values[zs.transmit.level||at._level],send:zs.transmit.send,val:m$3(at._level,Ws)},Zs,$l)}}}(at[A$1][qs])}function ve$3(at,zs,Ws,qs,Ys){const{level:Xs,log:Zs=wl=>wl}=Ys.formatters||{},yl=Ws.slice();let Js=yl[0];const $l={};let El=(at._childLevel|0)+1;if(El<1&&(El=1),qs&&($l.time=qs),Xs){const wl=Xs(zs,at.levels.values[zs]);Object.assign($l,wl)}else $l.level=at.levels.values[zs];if(Ys.asObjectBindingsOnly){if(Js!==null&&typeof Js=="object")for(;El--&&typeof yl[0]=="object";)Object.assign($l,yl.shift());return[Zs($l),...yl]}else{if(Js!==null&&typeof Js=="object"){for(;El--&&typeof yl[0]=="object";)Object.assign($l,yl.shift());Js=yl.length?G$2(yl.shift(),yl):void 0}else typeof Js=="string"&&(Js=G$2(yl.shift(),yl));return Js!==void 0&&($l[Ys.messageKey]=Js),[Zs($l)]}}function V$2(at,zs,Ws,qs){for(const Ys in at)if(qs&&at[Ys]instanceof Error)at[Ys]=v$5.stdSerializers.err(at[Ys]);else if(typeof at[Ys]=="object"&&!Array.isArray(at[Ys])&&zs)for(const Xs in at[Ys])zs.indexOf(Xs)>-1&&Xs in Ws&&(at[Ys][Xs]=Ws[Xs](at[Ys][Xs]))}function me$3(at,zs,Ws,qs=!1){const Ys=zs.send,Xs=zs.ts,Zs=zs.methodLevel,yl=zs.methodValue,Js=zs.val,$l=at._logEvent.bindings;qs||V$2(Ws,at._serialize||Object.keys(at.serializers),at.serializers,at._stdErrSerialize===void 0?!0:at._stdErrSerialize),at._logEvent.ts=Xs,at._logEvent.messages=Ws.filter(function(El){return $l.indexOf(El)===-1}),at._logEvent.level.label=Zs,at._logEvent.level.value=yl,Ys(Zs,at._logEvent,Js),at._logEvent=N$3($l)}function N$3(at){return{ts:0,messages:[],bindings:at||[],level:{label:"",value:0}}}function U$1(at){const zs={type:at.constructor.name,msg:at.message,stack:at.stack};for(const Ws in at)zs[Ws]===void 0&&(zs[Ws]=at[Ws]);return zs}function ye$3(at){return typeof at.timestamp=="function"?at.timestamp:at.timestamp===!1?X$2:Y$1}function T$1(){return{}}function $(at){return at}function z$2(){}function X$2(){return!1}function Y$1(){return Date.now()}function pe$2(){return Math.round(Date.now()/1e3)}function we$3(){return new Date(Date.now()).toISOString()}function Le$3(){function at(zs){return typeof zs<"u"&&zs}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return at(self)||at(window)||at(this)||{}}}b$3.exports.default=v$5,b$3.exports.pino=v$5;const Z={level:"info"},k$2="custom_context",x$2=1e3*1024;var ze$2=Object.defineProperty,_e$4=(at,zs,Ws)=>zs in at?ze$2(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,y$1=(at,zs,Ws)=>_e$4(at,typeof zs!="symbol"?zs+"":zs,Ws);let je$2=class{constructor(zs){y$1(this,"nodeValue"),y$1(this,"sizeInBytes"),y$1(this,"next"),this.nodeValue=zs,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},q$1=class{constructor(zs){y$1(this,"lengthInNodes"),y$1(this,"sizeInBytes"),y$1(this,"head"),y$1(this,"tail"),y$1(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=zs,this.sizeInBytes=0}append(zs){const Ws=new je$2(zs);if(Ws.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${zs} with size ${Ws.size}`);for(;this.size+Ws.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=Ws),this.tail=Ws):(this.head=Ws,this.tail=Ws),this.lengthInNodes++,this.sizeInBytes+=Ws.size}shift(){if(!this.head)return;const zs=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=zs.size}toArray(){const zs=[];let Ws=this.head;for(;Ws!==null;)zs.push(Ws.value),Ws=Ws.next;return zs}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let zs=this.head;return{next:()=>{if(!zs)return{done:!0,value:null};const Ws=zs.value;return zs=zs.next,{done:!1,value:Ws}}}}};const Se$3=at=>JSON.stringify(at,(zs,Ws)=>typeof Ws=="bigint"?Ws.toString()+"n":Ws);function K$4(at){return typeof at=="string"?at:Se$3(at)||""}var Ee$2=Object.defineProperty,ke$2=(at,zs,Ws)=>zs in at?Ee$2(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,B=(at,zs,Ws)=>ke$2(at,typeof zs!="symbol"?zs+"":zs,Ws);let J$4=class{constructor(zs,Ws=x$2){B(this,"logs"),B(this,"level"),B(this,"levelValue"),B(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=zs??"error",this.levelValue=b$3.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=Ws,this.logs=new q$1(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(zs,Ws){Ws===b$3.exports.levels.values.error?console.error(zs):Ws===b$3.exports.levels.values.warn?console.warn(zs):Ws===b$3.exports.levels.values.debug?console.debug(zs):Ws===b$3.exports.levels.values.trace?console.trace(zs):console.log(zs)}appendToLogs(zs){this.logs.append(K$4({timestamp:new Date().toISOString(),log:zs}));const Ws=typeof zs=="string"?JSON.parse(zs).level:zs.level;Ws>=this.levelValue&&this.forwardToConsole(zs,Ws)}getLogs(){return this.logs}clearLogs(){this.logs=new q$1(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(zs){const Ws=this.getLogArray();return Ws.push(K$4({extraMetadata:zs})),new Blob(Ws,{type:"application/json"})}};var Ce$2=Object.defineProperty,Ie$3=(at,zs,Ws)=>zs in at?Ce$2(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Te$3=(at,zs,Ws)=>Ie$3(at,zs+"",Ws);let xe$2=class{constructor(zs,Ws=x$2){Te$3(this,"baseChunkLogger"),this.baseChunkLogger=new J$4(zs,Ws)}write(zs){this.baseChunkLogger.appendToLogs(zs)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(zs){return this.baseChunkLogger.logsToBlob(zs)}downloadLogsBlobInBrowser(zs){const Ws=URL.createObjectURL(this.logsToBlob(zs)),qs=document.createElement("a");qs.href=Ws,qs.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(qs),qs.click(),document.body.removeChild(qs),URL.revokeObjectURL(Ws)}};var Be$3=Object.defineProperty,Ae$2=(at,zs,Ws)=>zs in at?Be$3(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Pe$3=(at,zs,Ws)=>Ae$2(at,zs+"",Ws);let Ve$3=class{constructor(zs,Ws=x$2){Pe$3(this,"baseChunkLogger"),this.baseChunkLogger=new J$4(zs,Ws)}write(zs){this.baseChunkLogger.appendToLogs(zs)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(zs){return this.baseChunkLogger.logsToBlob(zs)}};var Ne$2=Object.defineProperty,$e$3=Object.defineProperties,Fe$2=Object.getOwnPropertyDescriptors,H$1=Object.getOwnPropertySymbols,Me$4=Object.prototype.hasOwnProperty,De$4=Object.prototype.propertyIsEnumerable,W$3=(at,zs,Ws)=>zs in at?Ne$2(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,p$2=(at,zs)=>{for(var Ws in zs||(zs={}))Me$4.call(zs,Ws)&&W$3(at,Ws,zs[Ws]);if(H$1)for(var Ws of H$1(zs))De$4.call(zs,Ws)&&W$3(at,Ws,zs[Ws]);return at},w$1=(at,zs)=>$e$3(at,Fe$2(zs));function Ge$4(at){return w$1(p$2({},at),{level:(at==null?void 0:at.level)||Z.level})}function Q$2(at,zs,Ws=k$2){return at[Ws]=zs,at}function ee$2(at,zs=k$2){return at[zs]||""}function te$2(at,zs,Ws=k$2){const qs=ee$2(at,Ws);return qs.trim()?`${qs}/${zs}`:zs}function Re$3(at,zs,Ws=k$2){const qs=te$2(at,zs,Ws),Ys=at.child({context:qs});return Q$2(Ys,qs,Ws)}function re$1(at){var zs,Ws;const qs=new xe$2((zs=at.opts)==null?void 0:zs.level,at.maxSizeInBytes);return{logger:b$3.exports(w$1(p$2({},at.opts),{level:"trace",browser:w$1(p$2({},(Ws=at.opts)==null?void 0:Ws.browser),{write:Ys=>qs.write(Ys)})})),chunkLoggerController:qs}}function ne$1(at){var zs,Ws;const qs=new Ve$3((zs=at.opts)==null?void 0:zs.level,at.maxSizeInBytes);return{logger:b$3.exports(w$1(p$2({},at.opts),{level:"trace",browser:w$1(p$2({},(Ws=at.opts)==null?void 0:Ws.browser),{write:Ys=>qs.write(Ys)})}),qs),chunkLoggerController:qs}}function Ue$4(at){var zs;if(typeof at.loggerOverride<"u"&&typeof at.loggerOverride!="string")return{logger:at.loggerOverride,chunkLoggerController:null};const Ws=w$1(p$2({},at.opts),{level:typeof at.loggerOverride=="string"?at.loggerOverride:(zs=at.opts)==null?void 0:zs.level});return typeof window<"u"?re$1(w$1(p$2({},at),{opts:Ws})):ne$1(w$1(p$2({},at),{opts:Ws}))}var a=Object.defineProperty,u=(at,zs,Ws)=>zs in at?a(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,c$1=(at,zs,Ws)=>u(at,typeof zs!="symbol"?zs+"":zs,Ws);let h$1=class extends IEvents{constructor(zs){super(),this.opts=zs,c$1(this,"protocol","wc"),c$1(this,"version",2)}};var p$1=Object.defineProperty,b$2=(at,zs,Ws)=>zs in at?p$1(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,v$4=(at,zs,Ws)=>b$2(at,zs+"",Ws);class I extends IEvents{constructor(zs,Ws){super(),this.core=zs,this.logger=Ws,v$4(this,"records",new Map)}}class y{constructor(zs,Ws){this.logger=zs,this.core=Ws}}let m$2=class extends IEvents{constructor(zs,Ws){super(),this.relayer=zs,this.logger=Ws}},d$2=class extends IEvents{constructor(zs){super()}},f$2=class{constructor(zs,Ws,qs,Ys){this.core=zs,this.logger=Ws,this.name=qs}},P$2=class extends IEvents{constructor(zs,Ws){super(),this.relayer=zs,this.logger=Ws}},S$1=class extends IEvents{constructor(zs,Ws){super(),this.core=zs,this.logger=Ws}},M$2=class{constructor(zs,Ws,qs){this.core=zs,this.logger=Ws,this.store=qs}};class O{constructor(zs,Ws){this.projectId=zs,this.logger=Ws}}let R$1=class{constructor(zs,Ws,qs){this.core=zs,this.logger=Ws,this.telemetryEnabled=qs}};var T=Object.defineProperty,k$1=(at,zs,Ws)=>zs in at?T(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,i=(at,zs,Ws)=>k$1(at,typeof zs!="symbol"?zs+"":zs,Ws);let J$3=class{constructor(zs){this.opts=zs,i(this,"protocol","wc"),i(this,"version",2)}},V$1=class{constructor(zs){this.client=zs}};function En$2(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function fe$1(at,...zs){if(!En$2(at))throw new Error("Uint8Array expected");if(zs.length>0&&!zs.includes(at.length))throw new Error("Uint8Array expected of length "+zs+", got length="+at.length)}function De$3(at,zs=!0){if(at.destroyed)throw new Error("Hash instance has been destroyed");if(zs&&at.finished)throw new Error("Hash#digest() has already been called")}function gn$2(at,zs){fe$1(at);const Ws=zs.outputLen;if(at.length<Ws)throw new Error("digestInto() expects output buffer of length at least "+Ws)}const it=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t$2=at=>new DataView(at.buffer,at.byteOffset,at.byteLength);function yn$2(at){if(typeof at!="string")throw new Error("utf8ToBytes expected string, got "+typeof at);return new Uint8Array(new TextEncoder().encode(at))}function de$1(at){return typeof at=="string"&&(at=yn$2(at)),fe$1(at),at}let xn$2=class{clone(){return this._cloneInto()}};function Bn$2(at){const zs=qs=>at().update(de$1(qs)).digest(),Ws=at();return zs.outputLen=Ws.outputLen,zs.blockLen=Ws.blockLen,zs.create=()=>at(),zs}function he$2(at=32){if(it&&typeof it.getRandomValues=="function")return it.getRandomValues(new Uint8Array(at));if(it&&typeof it.randomBytes=="function")return it.randomBytes(at);throw new Error("crypto.getRandomValues must be defined")}function Cn$2(at,zs,Ws,qs){if(typeof at.setBigUint64=="function")return at.setBigUint64(zs,Ws,qs);const Ys=BigInt(32),Xs=BigInt(4294967295),Zs=Number(Ws>>Ys&Xs),yl=Number(Ws&Xs),Js=qs?4:0,$l=qs?0:4;at.setUint32(zs+Js,Zs,qs),at.setUint32(zs+$l,yl,qs)}let An$2=class extends xn$2{constructor(zs,Ws,qs,Ys){super(),this.blockLen=zs,this.outputLen=Ws,this.padOffset=qs,this.isLE=Ys,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(zs),this.view=_t$2(this.buffer)}update(zs){De$3(this);const{view:Ws,buffer:qs,blockLen:Ys}=this;zs=de$1(zs);const Xs=zs.length;for(let Zs=0;Zs<Xs;){const yl=Math.min(Ys-this.pos,Xs-Zs);if(yl===Ys){const Js=_t$2(zs);for(;Ys<=Xs-Zs;Zs+=Ys)this.process(Js,Zs);continue}qs.set(zs.subarray(Zs,Zs+yl),this.pos),this.pos+=yl,Zs+=yl,this.pos===Ys&&(this.process(Ws,0),this.pos=0)}return this.length+=zs.length,this.roundClean(),this}digestInto(zs){De$3(this),gn$2(zs,this),this.finished=!0;const{buffer:Ws,view:qs,blockLen:Ys,isLE:Xs}=this;let{pos:Zs}=this;Ws[Zs++]=128,this.buffer.subarray(Zs).fill(0),this.padOffset>Ys-Zs&&(this.process(qs,0),Zs=0);for(let wl=Zs;wl<Ys;wl++)Ws[wl]=0;Cn$2(qs,Ys-8,BigInt(this.length*8),Xs),this.process(qs,0);const yl=_t$2(zs),Js=this.outputLen;if(Js%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $l=Js/4,El=this.get();if($l>El.length)throw new Error("_sha2: outputLen bigger than state");for(let wl=0;wl<$l;wl++)yl.setUint32(4*wl,El[wl],Xs)}digest(){const{buffer:zs,outputLen:Ws}=this;this.digestInto(zs);const qs=zs.slice(0,Ws);return this.destroy(),qs}_cloneInto(zs){zs||(zs=new this.constructor),zs.set(...this.get());const{blockLen:Ws,buffer:qs,length:Ys,finished:Xs,destroyed:Zs,pos:yl}=this;return zs.length=Ys,zs.pos=yl,zs.finished=Xs,zs.destroyed=Zs,Ys%Ws&&zs.buffer.set(qs),zs}};const wt$2=BigInt(2**32-1),St$3=BigInt(32);function le(at,zs=!1){return zs?{h:Number(at&wt$2),l:Number(at>>St$3&wt$2)}:{h:Number(at>>St$3&wt$2)|0,l:Number(at&wt$2)|0}}function mn$2(at,zs=!1){let Ws=new Uint32Array(at.length),qs=new Uint32Array(at.length);for(let Ys=0;Ys<at.length;Ys++){const{h:Xs,l:Zs}=le(at[Ys],zs);[Ws[Ys],qs[Ys]]=[Xs,Zs]}return[Ws,qs]}const _n$2=(at,zs)=>BigInt(at>>>0)<<St$3|BigInt(zs>>>0),Sn$2=(at,zs,Ws)=>at>>>Ws,vn$2=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,In$2=(at,zs,Ws)=>at>>>Ws|zs<<32-Ws,Un$2=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,Tn$2=(at,zs,Ws)=>at<<64-Ws|zs>>>Ws-32,Fn$2=(at,zs,Ws)=>at>>>Ws-32|zs<<64-Ws,Nn$2=(at,zs)=>zs,Ln$2=(at,zs)=>at,On$2=(at,zs,Ws)=>at<<Ws|zs>>>32-Ws,Hn$2=(at,zs,Ws)=>zs<<Ws|at>>>32-Ws,zn$2=(at,zs,Ws)=>zs<<Ws-32|at>>>64-Ws,Mn$2=(at,zs,Ws)=>at<<Ws-32|zs>>>64-Ws;function qn$2(at,zs,Ws,qs){const Ys=(zs>>>0)+(qs>>>0);return{h:at+Ws+(Ys/2**32|0)|0,l:Ys|0}}const $n$2=(at,zs,Ws)=>(at>>>0)+(zs>>>0)+(Ws>>>0),kn$2=(at,zs,Ws,qs)=>zs+Ws+qs+(at/2**32|0)|0,Rn$2=(at,zs,Ws,qs)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0),jn$2=(at,zs,Ws,qs,Ys)=>zs+Ws+qs+Ys+(at/2**32|0)|0,Zn$2=(at,zs,Ws,qs,Ys)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0)+(Ys>>>0),Gn$2=(at,zs,Ws,qs,Ys,Xs)=>zs+Ws+qs+Ys+Xs+(at/2**32|0)|0,x$1={fromBig:le,split:mn$2,toBig:_n$2,shrSH:Sn$2,shrSL:vn$2,rotrSH:In$2,rotrSL:Un$2,rotrBH:Tn$2,rotrBL:Fn$2,rotr32H:Nn$2,rotr32L:Ln$2,rotlSH:On$2,rotlSL:Hn$2,rotlBH:zn$2,rotlBL:Mn$2,add:qn$2,add3L:$n$2,add3H:kn$2,add4L:Rn$2,add4H:jn$2,add5H:Gn$2,add5L:Zn$2},[Vn$2,Yn$2]=x$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(at=>BigInt(at))),P$1=new Uint32Array(80),Q$1=new Uint32Array(80);let Jn$2=class extends An$2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:zs,Al:Ws,Bh:qs,Bl:Ys,Ch:Xs,Cl:Zs,Dh:yl,Dl:Js,Eh:$l,El,Fh:wl,Fl:_l,Gh:Sl,Gl:Tl,Hh:Il,Hl:Al}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al){this.Ah=zs|0,this.Al=Ws|0,this.Bh=qs|0,this.Bl=Ys|0,this.Ch=Xs|0,this.Cl=Zs|0,this.Dh=yl|0,this.Dl=Js|0,this.Eh=$l|0,this.El=El|0,this.Fh=wl|0,this.Fl=_l|0,this.Gh=Sl|0,this.Gl=Tl|0,this.Hh=Il|0,this.Hl=Al|0}process(zs,Ws){for(let Cl=0;Cl<16;Cl++,Ws+=4)P$1[Cl]=zs.getUint32(Ws),Q$1[Cl]=zs.getUint32(Ws+=4);for(let Cl=16;Cl<80;Cl++){const Rl=P$1[Cl-15]|0,Ol=Q$1[Cl-15]|0,Ml=x$1.rotrSH(Rl,Ol,1)^x$1.rotrSH(Rl,Ol,8)^x$1.shrSH(Rl,Ol,7),Ll=x$1.rotrSL(Rl,Ol,1)^x$1.rotrSL(Rl,Ol,8)^x$1.shrSL(Rl,Ol,7),Bl=P$1[Cl-2]|0,Wl=Q$1[Cl-2]|0,Yl=x$1.rotrSH(Bl,Wl,19)^x$1.rotrBH(Bl,Wl,61)^x$1.shrSH(Bl,Wl,6),Kl=x$1.rotrSL(Bl,Wl,19)^x$1.rotrBL(Bl,Wl,61)^x$1.shrSL(Bl,Wl,6),Xl=x$1.add4L(Ll,Kl,Q$1[Cl-7],Q$1[Cl-16]),Ul=x$1.add4H(Xl,Ml,Yl,P$1[Cl-7],P$1[Cl-16]);P$1[Cl]=Ul|0,Q$1[Cl]=Xl|0}let{Ah:qs,Al:Ys,Bh:Xs,Bl:Zs,Ch:yl,Cl:Js,Dh:$l,Dl:El,Eh:wl,El:_l,Fh:Sl,Fl:Tl,Gh:Il,Gl:Al,Hh:xl,Hl:Pl}=this;for(let Cl=0;Cl<80;Cl++){const Rl=x$1.rotrSH(wl,_l,14)^x$1.rotrSH(wl,_l,18)^x$1.rotrBH(wl,_l,41),Ol=x$1.rotrSL(wl,_l,14)^x$1.rotrSL(wl,_l,18)^x$1.rotrBL(wl,_l,41),Ml=wl&Sl^~wl&Il,Ll=_l&Tl^~_l&Al,Bl=x$1.add5L(Pl,Ol,Ll,Yn$2[Cl],Q$1[Cl]),Wl=x$1.add5H(Bl,xl,Rl,Ml,Vn$2[Cl],P$1[Cl]),Yl=Bl|0,Kl=x$1.rotrSH(qs,Ys,28)^x$1.rotrBH(qs,Ys,34)^x$1.rotrBH(qs,Ys,39),Xl=x$1.rotrSL(qs,Ys,28)^x$1.rotrBL(qs,Ys,34)^x$1.rotrBL(qs,Ys,39),Ul=qs&Xs^qs&yl^Xs&yl,Vl=Ys&Zs^Ys&Js^Zs&Js;xl=Il|0,Pl=Al|0,Il=Sl|0,Al=Tl|0,Sl=wl|0,Tl=_l|0,{h:wl,l:_l}=x$1.add($l|0,El|0,Wl|0,Yl|0),$l=yl|0,El=Js|0,yl=Xs|0,Js=Zs|0,Xs=qs|0,Zs=Ys|0;const Nl=x$1.add3L(Yl,Xl,Vl);qs=x$1.add3H(Nl,Wl,Kl,Ul),Ys=Nl|0}({h:qs,l:Ys}=x$1.add(this.Ah|0,this.Al|0,qs|0,Ys|0)),{h:Xs,l:Zs}=x$1.add(this.Bh|0,this.Bl|0,Xs|0,Zs|0),{h:yl,l:Js}=x$1.add(this.Ch|0,this.Cl|0,yl|0,Js|0),{h:$l,l:El}=x$1.add(this.Dh|0,this.Dl|0,$l|0,El|0),{h:wl,l:_l}=x$1.add(this.Eh|0,this.El|0,wl|0,_l|0),{h:Sl,l:Tl}=x$1.add(this.Fh|0,this.Fl|0,Sl|0,Tl|0),{h:Il,l:Al}=x$1.add(this.Gh|0,this.Gl|0,Il|0,Al|0),{h:xl,l:Pl}=x$1.add(this.Hh|0,this.Hl|0,xl|0,Pl|0),this.set(qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al,xl,Pl)}roundClean(){P$1.fill(0),Q$1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Kn$2=Bn$2(()=>new Jn$2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt$2=BigInt(0),be$2=BigInt(1),Wn$2=BigInt(2);function It$3(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function Ut$2(at){if(!It$3(at))throw new Error("Uint8Array expected")}function Tt$2(at,zs){if(typeof zs!="boolean")throw new Error(at+" boolean expected, got "+zs)}const Xn$2=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function Ft$2(at){Ut$2(at);let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=Xn$2[at[Ws]];return zs}function pe$1(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return at===""?vt$2:BigInt("0x"+at)}const K$3={_0:48,_9:57,A:65,F:70,a:97,f:102};function we$2(at){if(at>=K$3._0&&at<=K$3._9)return at-K$3._0;if(at>=K$3.A&&at<=K$3.F)return at-(K$3.A-10);if(at>=K$3.a&&at<=K$3.f)return at-(K$3.a-10)}function Ee$1(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);const zs=at.length,Ws=zs/2;if(zs%2)throw new Error("hex string expected, got unpadded hex of length "+zs);const qs=new Uint8Array(Ws);for(let Ys=0,Xs=0;Ys<Ws;Ys++,Xs+=2){const Zs=we$2(at.charCodeAt(Xs)),yl=we$2(at.charCodeAt(Xs+1));if(Zs===void 0||yl===void 0){const Js=at[Xs]+at[Xs+1];throw new Error('hex string expected, got non-hex character "'+Js+'" at index '+Xs)}qs[Ys]=Zs*16+yl}return qs}function Pn$2(at){return pe$1(Ft$2(at))}function Et$3(at){return Ut$2(at),pe$1(Ft$2(Uint8Array.from(at).reverse()))}function ge$2(at,zs){return Ee$1(at.toString(16).padStart(zs*2,"0"))}function Nt$2(at,zs){return ge$2(at,zs).reverse()}function W$2(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=Ee$1(zs)}catch(Xs){throw new Error(at+" must be hex string or Uint8Array, cause: "+Xs)}else if(It$3(zs))qs=Uint8Array.from(zs);else throw new Error(at+" must be hex string or Uint8Array");const Ys=qs.length;if(typeof Ws=="number"&&Ys!==Ws)throw new Error(at+" of length "+Ws+" expected, got "+Ys);return qs}function ye$2(...at){let zs=0;for(let qs=0;qs<at.length;qs++){const Ys=at[qs];Ut$2(Ys),zs+=Ys.length}const Ws=new Uint8Array(zs);for(let qs=0,Ys=0;qs<at.length;qs++){const Xs=at[qs];Ws.set(Xs,Ys),Ys+=Xs.length}return Ws}const Lt$2=at=>typeof at=="bigint"&&vt$2<=at;function Qn$1(at,zs,Ws){return Lt$2(at)&&Lt$2(zs)&&Lt$2(Ws)&&zs<=at&&at<Ws}function ft$2(at,zs,Ws,qs){if(!Qn$1(zs,Ws,qs))throw new Error("expected valid "+at+": "+Ws+" <= n < "+qs+", got "+zs)}function tr(at){let zs;for(zs=0;at>vt$2;at>>=be$2,zs+=1);return zs}const er=at=>(Wn$2<<BigInt(at-1))-be$2,nr$1={bigint:at=>typeof at=="bigint",function:at=>typeof at=="function",boolean:at=>typeof at=="boolean",string:at=>typeof at=="string",stringOrUint8Array:at=>typeof at=="string"||It$3(at),isSafeInteger:at=>Number.isSafeInteger(at),array:at=>Array.isArray(at),field:(at,zs)=>zs.Fp.isValid(at),hash:at=>typeof at=="function"&&Number.isSafeInteger(at.outputLen)};function Ot$2(at,zs,Ws={}){const qs=(Ys,Xs,Zs)=>{const yl=nr$1[Xs];if(typeof yl!="function")throw new Error("invalid validator function");const Js=at[Ys];if(!(Zs&&Js===void 0)&&!yl(Js,at))throw new Error("param "+String(Ys)+" is invalid. Expected "+Xs+", got "+Js)};for(const[Ys,Xs]of Object.entries(zs))qs(Ys,Xs,!1);for(const[Ys,Xs]of Object.entries(Ws))qs(Ys,Xs,!0);return at}function xe$1(at){const zs=new WeakMap;return(Ws,...qs)=>{const Ys=zs.get(Ws);if(Ys!==void 0)return Ys;const Xs=at(Ws,...qs);return zs.set(Ws,Xs),Xs}}const M$1=BigInt(0),N$2=BigInt(1),nt$1=BigInt(2),rr$1=BigInt(3),Ht$2=BigInt(4),Be$2=BigInt(5),Ce$1=BigInt(8);function H(at,zs){const Ws=at%zs;return Ws>=M$1?Ws:zs+Ws}function or$2(at,zs,Ws){if(zs<M$1)throw new Error("invalid exponent, negatives unsupported");if(Ws<=M$1)throw new Error("invalid modulus");if(Ws===N$2)return M$1;let qs=N$2;for(;zs>M$1;)zs&N$2&&(qs=qs*at%Ws),at=at*at%Ws,zs>>=N$2;return qs}function J$2(at,zs,Ws){let qs=at;for(;zs-- >M$1;)qs*=qs,qs%=Ws;return qs}function Ae$1(at,zs){if(at===M$1)throw new Error("invert: expected non-zero number");if(zs<=M$1)throw new Error("invert: expected positive modulus, got "+zs);let Ws=H(at,zs),qs=zs,Ys=M$1,Xs=N$2;for(;Ws!==M$1;){const Zs=qs/Ws,yl=qs%Ws,Js=Ys-Xs*Zs;qs=Ws,Ws=yl,Ys=Xs,Xs=Js}if(qs!==N$2)throw new Error("invert: does not exist");return H(Ys,zs)}function sr(at){const zs=(at-N$2)/nt$1;let Ws,qs,Ys;for(Ws=at-N$2,qs=0;Ws%nt$1===M$1;Ws/=nt$1,qs++);for(Ys=nt$1;Ys<at&&or$2(Ys,zs,at)!==at-N$2;Ys++)if(Ys>1e3)throw new Error("Cannot find square root: likely non-prime P");if(qs===1){const Zs=(at+N$2)/Ht$2;return function(yl,Js){const $l=yl.pow(Js,Zs);if(!yl.eql(yl.sqr($l),Js))throw new Error("Cannot find square root");return $l}}const Xs=(Ws+N$2)/nt$1;return function(Zs,yl){if(Zs.pow(yl,zs)===Zs.neg(Zs.ONE))throw new Error("Cannot find square root");let Js=qs,$l=Zs.pow(Zs.mul(Zs.ONE,Ys),Ws),El=Zs.pow(yl,Xs),wl=Zs.pow(yl,Ws);for(;!Zs.eql(wl,Zs.ONE);){if(Zs.eql(wl,Zs.ZERO))return Zs.ZERO;let _l=1;for(let Tl=Zs.sqr(wl);_l<Js&&!Zs.eql(Tl,Zs.ONE);_l++)Tl=Zs.sqr(Tl);const Sl=Zs.pow($l,N$2<<BigInt(Js-_l-1));$l=Zs.sqr(Sl),El=Zs.mul(El,Sl),wl=Zs.mul(wl,$l),Js=_l}return El}}function ir$1(at){if(at%Ht$2===rr$1){const zs=(at+N$2)/Ht$2;return function(Ws,qs){const Ys=Ws.pow(qs,zs);if(!Ws.eql(Ws.sqr(Ys),qs))throw new Error("Cannot find square root");return Ys}}if(at%Ce$1===Be$2){const zs=(at-Be$2)/Ce$1;return function(Ws,qs){const Ys=Ws.mul(qs,nt$1),Xs=Ws.pow(Ys,zs),Zs=Ws.mul(qs,Xs),yl=Ws.mul(Ws.mul(Zs,nt$1),Xs),Js=Ws.mul(Zs,Ws.sub(yl,Ws.ONE));if(!Ws.eql(Ws.sqr(Js),qs))throw new Error("Cannot find square root");return Js}}return sr(at)}const ur$2=(at,zs)=>(H(at,zs)&N$2)===N$2,cr$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ar$2(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Ws=cr$1.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return Ot$2(at,Ws)}function fr$1(at,zs,Ws){if(Ws<M$1)throw new Error("invalid exponent, negatives unsupported");if(Ws===M$1)return at.ONE;if(Ws===N$2)return zs;let qs=at.ONE,Ys=zs;for(;Ws>M$1;)Ws&N$2&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=N$2;return qs}function Dr$2(at,zs){const Ws=new Array(zs.length),qs=zs.reduce((Xs,Zs,yl)=>at.is0(Zs)?Xs:(Ws[yl]=Xs,at.mul(Xs,Zs)),at.ONE),Ys=at.inv(qs);return zs.reduceRight((Xs,Zs,yl)=>at.is0(Zs)?Xs:(Ws[yl]=at.mul(Xs,Ws[yl]),at.mul(Xs,Zs)),Ys),Ws}function me$2(at,zs){const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function _e$3(at,zs,Ws=!1,qs={}){if(at<=M$1)throw new Error("invalid field: expected ORDER > 0, got "+at);const{nBitLength:Ys,nByteLength:Xs}=me$2(at,zs);if(Xs>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Zs;const yl=Object.freeze({ORDER:at,isLE:Ws,BITS:Ys,BYTES:Xs,MASK:er(Ys),ZERO:M$1,ONE:N$2,create:Js=>H(Js,at),isValid:Js=>{if(typeof Js!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Js);return M$1<=Js&&Js<at},is0:Js=>Js===M$1,isOdd:Js=>(Js&N$2)===N$2,neg:Js=>H(-Js,at),eql:(Js,$l)=>Js===$l,sqr:Js=>H(Js*Js,at),add:(Js,$l)=>H(Js+$l,at),sub:(Js,$l)=>H(Js-$l,at),mul:(Js,$l)=>H(Js*$l,at),pow:(Js,$l)=>fr$1(yl,Js,$l),div:(Js,$l)=>H(Js*Ae$1($l,at),at),sqrN:Js=>Js*Js,addN:(Js,$l)=>Js+$l,subN:(Js,$l)=>Js-$l,mulN:(Js,$l)=>Js*$l,inv:Js=>Ae$1(Js,at),sqrt:qs.sqrt||(Js=>(Zs||(Zs=ir$1(at)),Zs(yl,Js))),invertBatch:Js=>Dr$2(yl,Js),cmov:(Js,$l,El)=>El?$l:Js,toBytes:Js=>Ws?Nt$2(Js,Xs):ge$2(Js,Xs),fromBytes:Js=>{if(Js.length!==Xs)throw new Error("Field.fromBytes: expected "+Xs+" bytes, got "+Js.length);return Ws?Et$3(Js):Pn$2(Js)}});return Object.freeze(yl)}const Se$2=BigInt(0),gt$2=BigInt(1);function zt$2(at,zs){const Ws=zs.negate();return at?Ws:zs}function ve$2(at,zs){if(!Number.isSafeInteger(at)||at<=0||at>zs)throw new Error("invalid window size, expected [1.."+zs+"], got W="+at)}function Mt$2(at,zs){ve$2(at,zs);const Ws=Math.ceil(zs/at)+1,qs=2**(at-1);return{windows:Ws,windowSize:qs}}function dr$2(at,zs){if(!Array.isArray(at))throw new Error("array expected");at.forEach((Ws,qs)=>{if(!(Ws instanceof zs))throw new Error("invalid point at index "+qs)})}function hr$1(at,zs){if(!Array.isArray(at))throw new Error("array of scalars expected");at.forEach((Ws,qs)=>{if(!zs.isValid(Ws))throw new Error("invalid scalar at index "+qs)})}const qt$2=new WeakMap,Ie$2=new WeakMap;function $t$2(at){return Ie$2.get(at)||1}function lr$2(at,zs){return{constTimeNegate:zt$2,hasPrecomputes(Ws){return $t$2(Ws)!==1},unsafeLadder(Ws,qs,Ys=at.ZERO){let Xs=Ws;for(;qs>Se$2;)qs&gt$2&&(Ys=Ys.add(Xs)),Xs=Xs.double(),qs>>=gt$2;return Ys},precomputeWindow(Ws,qs){const{windows:Ys,windowSize:Xs}=Mt$2(qs,zs),Zs=[];let yl=Ws,Js=yl;for(let $l=0;$l<Ys;$l++){Js=yl,Zs.push(Js);for(let El=1;El<Xs;El++)Js=Js.add(yl),Zs.push(Js);yl=Js.double()}return Zs},wNAF(Ws,qs,Ys){const{windows:Xs,windowSize:Zs}=Mt$2(Ws,zs);let yl=at.ZERO,Js=at.BASE;const $l=BigInt(2**Ws-1),El=2**Ws,wl=BigInt(Ws);for(let _l=0;_l<Xs;_l++){const Sl=_l*Zs;let Tl=Number(Ys&$l);Ys>>=wl,Tl>Zs&&(Tl-=El,Ys+=gt$2);const Il=Sl,Al=Sl+Math.abs(Tl)-1,xl=_l%2!==0,Pl=Tl<0;Tl===0?Js=Js.add(zt$2(xl,qs[Il])):yl=yl.add(zt$2(Pl,qs[Al]))}return{p:yl,f:Js}},wNAFUnsafe(Ws,qs,Ys,Xs=at.ZERO){const{windows:Zs,windowSize:yl}=Mt$2(Ws,zs),Js=BigInt(2**Ws-1),$l=2**Ws,El=BigInt(Ws);for(let wl=0;wl<Zs;wl++){const _l=wl*yl;if(Ys===Se$2)break;let Sl=Number(Ys&Js);if(Ys>>=El,Sl>yl&&(Sl-=$l,Ys+=gt$2),Sl===0)continue;let Tl=qs[_l+Math.abs(Sl)-1];Sl<0&&(Tl=Tl.negate()),Xs=Xs.add(Tl)}return Xs},getPrecomputes(Ws,qs,Ys){let Xs=qt$2.get(qs);return Xs||(Xs=this.precomputeWindow(qs,Ws),Ws!==1&&qt$2.set(qs,Ys(Xs))),Xs},wNAFCached(Ws,qs,Ys){const Xs=$t$2(Ws);return this.wNAF(Xs,this.getPrecomputes(Xs,Ws,Ys),qs)},wNAFCachedUnsafe(Ws,qs,Ys,Xs){const Zs=$t$2(Ws);return Zs===1?this.unsafeLadder(Ws,qs,Xs):this.wNAFUnsafe(Zs,this.getPrecomputes(Zs,Ws,Ys),qs,Xs)},setWindowSize(Ws,qs){ve$2(qs,zs),Ie$2.set(Ws,qs),qt$2.delete(Ws)}}}function br$2(at,zs,Ws,qs){if(dr$2(Ws,at),hr$1(qs,zs),Ws.length!==qs.length)throw new Error("arrays of points and scalars must have equal length");const Ys=at.ZERO,Xs=tr(BigInt(Ws.length)),Zs=Xs>12?Xs-3:Xs>4?Xs-2:Xs?2:1,yl=(1<<Zs)-1,Js=new Array(yl+1).fill(Ys),$l=Math.floor((zs.BITS-1)/Zs)*Zs;let El=Ys;for(let wl=$l;wl>=0;wl-=Zs){Js.fill(Ys);for(let Sl=0;Sl<qs.length;Sl++){const Tl=qs[Sl],Il=Number(Tl>>BigInt(wl)&BigInt(yl));Js[Il]=Js[Il].add(Ws[Sl])}let _l=Ys;for(let Sl=Js.length-1,Tl=Ys;Sl>0;Sl--)Tl=Tl.add(Js[Sl]),_l=_l.add(Tl);if(El=El.add(_l),wl!==0)for(let Sl=0;Sl<Zs;Sl++)El=El.double()}return El}function pr$2(at){return ar$2(at.Fp),Ot$2(at,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me$2(at.n,at.nBitLength),...at,p:at.Fp.ORDER})}const G$1=BigInt(0),j$1=BigInt(1),yt$2=BigInt(2),wr$2=BigInt(8),Er$1={zip215:!0};function gr$2(at){const zs=pr$2(at);return Ot$2(at,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...zs})}function yr$2(at){const zs=gr$2(at),{Fp:Ws,n:qs,prehash:Ys,hash:Xs,randomBytes:Zs,nByteLength:yl,h:Js}=zs,$l=yt$2<<BigInt(yl*8)-j$1,El=Ws.create,wl=_e$3(zs.n,zs.nBitLength),_l=zs.uvRatio||((Nl,Dl)=>{try{return{isValid:!0,value:Ws.sqrt(Nl*Ws.inv(Dl))}}catch{return{isValid:!1,value:G$1}}}),Sl=zs.adjustScalarBytes||(Nl=>Nl),Tl=zs.domain||((Nl,Dl,Gl)=>{if(Tt$2("phflag",Gl),Dl.length||Gl)throw new Error("Contexts/pre-hash are not supported");return Nl});function Il(Nl,Dl){ft$2("coordinate "+Nl,Dl,G$1,$l)}function Al(Nl){if(!(Nl instanceof Cl))throw new Error("ExtendedPoint expected")}const xl=xe$1((Nl,Dl)=>{const{ex:Gl,ey:Fl,ez:Hl}=Nl,Zl=Nl.is0();Dl==null&&(Dl=Zl?wr$2:Ws.inv(Hl));const Su=El(Gl*Dl),$u=El(Fl*Dl),Pu=El(Hl*Dl);if(Zl)return{x:G$1,y:j$1};if(Pu!==j$1)throw new Error("invZ was invalid");return{x:Su,y:$u}}),Pl=xe$1(Nl=>{const{a:Dl,d:Gl}=zs;if(Nl.is0())throw new Error("bad point: ZERO");const{ex:Fl,ey:Hl,ez:Zl,et:Su}=Nl,$u=El(Fl*Fl),Pu=El(Hl*Hl),ku=El(Zl*Zl),Tu=El(ku*ku),Ru=El($u*Dl),Mu=El(ku*El(Ru+Pu)),Hu=El(Tu+El(Gl*El($u*Pu)));if(Mu!==Hu)throw new Error("bad point: equation left != right (1)");const Ku=El(Fl*Hl),Fu=El(Zl*Su);if(Ku!==Fu)throw new Error("bad point: equation left != right (2)");return!0});class Cl{constructor(Dl,Gl,Fl,Hl){this.ex=Dl,this.ey=Gl,this.ez=Fl,this.et=Hl,Il("x",Dl),Il("y",Gl),Il("z",Fl),Il("t",Hl),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Dl){if(Dl instanceof Cl)throw new Error("extended point not allowed");const{x:Gl,y:Fl}=Dl||{};return Il("x",Gl),Il("y",Fl),new Cl(Gl,Fl,j$1,El(Gl*Fl))}static normalizeZ(Dl){const Gl=Ws.invertBatch(Dl.map(Fl=>Fl.ez));return Dl.map((Fl,Hl)=>Fl.toAffine(Gl[Hl])).map(Cl.fromAffine)}static msm(Dl,Gl){return br$2(Cl,wl,Dl,Gl)}_setWindowSize(Dl){Ml.setWindowSize(this,Dl)}assertValidity(){Pl(this)}equals(Dl){Al(Dl);const{ex:Gl,ey:Fl,ez:Hl}=this,{ex:Zl,ey:Su,ez:$u}=Dl,Pu=El(Gl*$u),ku=El(Zl*Hl),Tu=El(Fl*$u),Ru=El(Su*Hl);return Pu===ku&&Tu===Ru}is0(){return this.equals(Cl.ZERO)}negate(){return new Cl(El(-this.ex),this.ey,this.ez,El(-this.et))}double(){const{a:Dl}=zs,{ex:Gl,ey:Fl,ez:Hl}=this,Zl=El(Gl*Gl),Su=El(Fl*Fl),$u=El(yt$2*El(Hl*Hl)),Pu=El(Dl*Zl),ku=Gl+Fl,Tu=El(El(ku*ku)-Zl-Su),Ru=Pu+Su,Mu=Ru-$u,Hu=Pu-Su,Ku=El(Tu*Mu),Fu=El(Ru*Hu),ju=El(Tu*Hu),qu=El(Mu*Ru);return new Cl(Ku,Fu,qu,ju)}add(Dl){Al(Dl);const{a:Gl,d:Fl}=zs,{ex:Hl,ey:Zl,ez:Su,et:$u}=this,{ex:Pu,ey:ku,ez:Tu,et:Ru}=Dl;if(Gl===BigInt(-1)){const Gp=El((Zl-Hl)*(ku+Pu)),Cp=El((Zl+Hl)*(ku-Pu)),em=El(Cp-Gp);if(em===G$1)return this.double();const dm=El(Su*yt$2*Ru),Dp=El($u*yt$2*Tu),Qu=Dp+dm,yp=Cp+Gp,tm=Dp-dm,Am=El(Qu*em),ym=El(yp*tm),vm=El(Qu*tm),am=El(em*yp);return new Cl(Am,ym,am,vm)}const Mu=El(Hl*Pu),Hu=El(Zl*ku),Ku=El($u*Fl*Ru),Fu=El(Su*Tu),ju=El((Hl+Zl)*(Pu+ku)-Mu-Hu),qu=Fu-Ku,Zu=Fu+Ku,_d=El(Hu-Gl*Mu),vp=El(ju*qu),Ap=El(Zu*_d),Rp=El(ju*_d),xp=El(qu*Zu);return new Cl(vp,Ap,xp,Rp)}subtract(Dl){return this.add(Dl.negate())}wNAF(Dl){return Ml.wNAFCached(this,Dl,Cl.normalizeZ)}multiply(Dl){const Gl=Dl;ft$2("scalar",Gl,j$1,qs);const{p:Fl,f:Hl}=this.wNAF(Gl);return Cl.normalizeZ([Fl,Hl])[0]}multiplyUnsafe(Dl,Gl=Cl.ZERO){const Fl=Dl;return ft$2("scalar",Fl,G$1,qs),Fl===G$1?Ol:this.is0()||Fl===j$1?this:Ml.wNAFCachedUnsafe(this,Fl,Cl.normalizeZ,Gl)}isSmallOrder(){return this.multiplyUnsafe(Js).is0()}isTorsionFree(){return Ml.unsafeLadder(this,qs).is0()}toAffine(Dl){return xl(this,Dl)}clearCofactor(){const{h:Dl}=zs;return Dl===j$1?this:this.multiplyUnsafe(Dl)}static fromHex(Dl,Gl=!1){const{d:Fl,a:Hl}=zs,Zl=Ws.BYTES;Dl=W$2("pointHex",Dl,Zl),Tt$2("zip215",Gl);const Su=Dl.slice(),$u=Dl[Zl-1];Su[Zl-1]=$u&-129;const Pu=Et$3(Su),ku=Gl?$l:Ws.ORDER;ft$2("pointHex.y",Pu,G$1,ku);const Tu=El(Pu*Pu),Ru=El(Tu-j$1),Mu=El(Fl*Tu-Hl);let{isValid:Hu,value:Ku}=_l(Ru,Mu);if(!Hu)throw new Error("Point.fromHex: invalid y coordinate");const Fu=(Ku&j$1)===j$1,ju=($u&128)!==0;if(!Gl&&Ku===G$1&&ju)throw new Error("Point.fromHex: x=0 and x_0=1");return ju!==Fu&&(Ku=El(-Ku)),Cl.fromAffine({x:Ku,y:Pu})}static fromPrivateKey(Dl){return Wl(Dl).point}toRawBytes(){const{x:Dl,y:Gl}=this.toAffine(),Fl=Nt$2(Gl,Ws.BYTES);return Fl[Fl.length-1]|=Dl&j$1?128:0,Fl}toHex(){return Ft$2(this.toRawBytes())}}Cl.BASE=new Cl(zs.Gx,zs.Gy,j$1,El(zs.Gx*zs.Gy)),Cl.ZERO=new Cl(G$1,j$1,j$1,G$1);const{BASE:Rl,ZERO:Ol}=Cl,Ml=lr$2(Cl,yl*8);function Ll(Nl){return H(Nl,qs)}function Bl(Nl){return Ll(Et$3(Nl))}function Wl(Nl){const Dl=Ws.BYTES;Nl=W$2("private key",Nl,Dl);const Gl=W$2("hashed private key",Xs(Nl),2*Dl),Fl=Sl(Gl.slice(0,Dl)),Hl=Gl.slice(Dl,2*Dl),Zl=Bl(Fl),Su=Rl.multiply(Zl),$u=Su.toRawBytes();return{head:Fl,prefix:Hl,scalar:Zl,point:Su,pointBytes:$u}}function Yl(Nl){return Wl(Nl).pointBytes}function Kl(Nl=new Uint8Array,...Dl){const Gl=ye$2(...Dl);return Bl(Xs(Tl(Gl,W$2("context",Nl),!!Ys)))}function Xl(Nl,Dl,Gl={}){Nl=W$2("message",Nl),Ys&&(Nl=Ys(Nl));const{prefix:Fl,scalar:Hl,pointBytes:Zl}=Wl(Dl),Su=Kl(Gl.context,Fl,Nl),$u=Rl.multiply(Su).toRawBytes(),Pu=Kl(Gl.context,$u,Zl,Nl),ku=Ll(Su+Pu*Hl);ft$2("signature.s",ku,G$1,qs);const Tu=ye$2($u,Nt$2(ku,Ws.BYTES));return W$2("result",Tu,Ws.BYTES*2)}const Ul=Er$1;function Vl(Nl,Dl,Gl,Fl=Ul){const{context:Hl,zip215:Zl}=Fl,Su=Ws.BYTES;Nl=W$2("signature",Nl,2*Su),Dl=W$2("message",Dl),Gl=W$2("publicKey",Gl,Su),Zl!==void 0&&Tt$2("zip215",Zl),Ys&&(Dl=Ys(Dl));const $u=Et$3(Nl.slice(Su,2*Su));let Pu,ku,Tu;try{Pu=Cl.fromHex(Gl,Zl),ku=Cl.fromHex(Nl.slice(0,Su),Zl),Tu=Rl.multiplyUnsafe($u)}catch{return!1}if(!Zl&&Pu.isSmallOrder())return!1;const Ru=Kl(Hl,ku.toRawBytes(),Pu.toRawBytes(),Dl);return ku.add(Pu.multiplyUnsafe(Ru)).subtract(Tu).clearCofactor().equals(Cl.ZERO)}return Rl._setWindowSize(8),{CURVE:zs,getPublicKey:Yl,sign:Xl,verify:Vl,ExtendedPoint:Cl,utils:{getExtendedPublicKey:Wl,randomPrivateKey:()=>Zs(Ws.BYTES),precompute(Nl=8,Dl=Cl.BASE){return Dl._setWindowSize(Nl),Dl.multiply(BigInt(3)),Dl}}}}BigInt(0),BigInt(1);const kt$2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ue$3=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xr$1=BigInt(1),Te$2=BigInt(2);BigInt(3);const Br$2=BigInt(5),Cr$2=BigInt(8);function Ar$2(at){const zs=BigInt(10),Ws=BigInt(20),qs=BigInt(40),Ys=BigInt(80),Xs=kt$2,Zs=at*at%Xs*at%Xs,yl=J$2(Zs,Te$2,Xs)*Zs%Xs,Js=J$2(yl,xr$1,Xs)*at%Xs,$l=J$2(Js,Br$2,Xs)*Js%Xs,El=J$2($l,zs,Xs)*$l%Xs,wl=J$2(El,Ws,Xs)*El%Xs,_l=J$2(wl,qs,Xs)*wl%Xs,Sl=J$2(_l,Ys,Xs)*_l%Xs,Tl=J$2(Sl,Ys,Xs)*_l%Xs,Il=J$2(Tl,zs,Xs)*$l%Xs;return{pow_p_5_8:J$2(Il,Te$2,Xs)*at%Xs,b2:Zs}}function mr$2(at){return at[0]&=248,at[31]&=127,at[31]|=64,at}function _r$2(at,zs){const Ws=kt$2,qs=H(zs*zs*zs,Ws),Ys=H(qs*qs*zs,Ws),Xs=Ar$2(at*Ys).pow_p_5_8;let Zs=H(at*qs*Xs,Ws);const yl=H(zs*Zs*Zs,Ws),Js=Zs,$l=H(Zs*Ue$3,Ws),El=yl===at,wl=yl===H(-at,Ws),_l=yl===H(-at*Ue$3,Ws);return El&&(Zs=Js),(wl||_l)&&(Zs=$l),ur$2(Zs,Ws)&&(Zs=H(-Zs,Ws)),{isValid:El||wl,value:Zs}}const Sr$2=_e$3(kt$2,void 0,!0),vr$1={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sr$2,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cr$2,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kn$2,randomBytes:he$2,adjustScalarBytes:mr$2,uvRatio:_r$2},Rt$3=yr$2(vr$1),jt$2="EdDSA",Zt$2="JWT",ut$2=".",Dt$1="base64url",Gt$2="utf8",xt$2="utf8",Vt$2=":",Yt$1="did",Jt$2="key",dt$2="base58btc",Kt$2="z",Wt$2="K36",Ne$1=32;function Xt$2(at){return globalThis.Buffer!=null?new Uint8Array(at.buffer,at.byteOffset,at.byteLength):at}function Le$2(at=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt$2(globalThis.Buffer.allocUnsafe(at)):new Uint8Array(at)}function Oe$1(at,zs){zs||(zs=at.reduce((Ys,Xs)=>Ys+Xs.length,0));const Ws=Le$2(zs);let qs=0;for(const Ys of at)Ws.set(Ys,qs),qs+=Ys.length;return Xt$2(Ws)}function Ir$2(at,zs){if(at.length>=255)throw new TypeError("Alphabet too long");for(var Ws=new Uint8Array(256),qs=0;qs<Ws.length;qs++)Ws[qs]=255;for(var Ys=0;Ys<at.length;Ys++){var Xs=at.charAt(Ys),Zs=Xs.charCodeAt(0);if(Ws[Zs]!==255)throw new TypeError(Xs+" is ambiguous");Ws[Zs]=Ys}var yl=at.length,Js=at.charAt(0),$l=Math.log(yl)/Math.log(256),El=Math.log(256)/Math.log(yl);function wl(Tl){if(Tl instanceof Uint8Array||(ArrayBuffer.isView(Tl)?Tl=new Uint8Array(Tl.buffer,Tl.byteOffset,Tl.byteLength):Array.isArray(Tl)&&(Tl=Uint8Array.from(Tl))),!(Tl instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Tl.length===0)return"";for(var Il=0,Al=0,xl=0,Pl=Tl.length;xl!==Pl&&Tl[xl]===0;)xl++,Il++;for(var Cl=(Pl-xl)*El+1>>>0,Rl=new Uint8Array(Cl);xl!==Pl;){for(var Ol=Tl[xl],Ml=0,Ll=Cl-1;(Ol!==0||Ml<Al)&&Ll!==-1;Ll--,Ml++)Ol+=256*Rl[Ll]>>>0,Rl[Ll]=Ol%yl>>>0,Ol=Ol/yl>>>0;if(Ol!==0)throw new Error("Non-zero carry");Al=Ml,xl++}for(var Bl=Cl-Al;Bl!==Cl&&Rl[Bl]===0;)Bl++;for(var Wl=Js.repeat(Il);Bl<Cl;++Bl)Wl+=at.charAt(Rl[Bl]);return Wl}function _l(Tl){if(typeof Tl!="string")throw new TypeError("Expected String");if(Tl.length===0)return new Uint8Array;var Il=0;if(Tl[Il]!==" "){for(var Al=0,xl=0;Tl[Il]===Js;)Al++,Il++;for(var Pl=(Tl.length-Il)*$l+1>>>0,Cl=new Uint8Array(Pl);Tl[Il];){var Rl=Ws[Tl.charCodeAt(Il)];if(Rl===255)return;for(var Ol=0,Ml=Pl-1;(Rl!==0||Ol<xl)&&Ml!==-1;Ml--,Ol++)Rl+=yl*Cl[Ml]>>>0,Cl[Ml]=Rl%256>>>0,Rl=Rl/256>>>0;if(Rl!==0)throw new Error("Non-zero carry");xl=Ol,Il++}if(Tl[Il]!==" "){for(var Ll=Pl-xl;Ll!==Pl&&Cl[Ll]===0;)Ll++;for(var Bl=new Uint8Array(Al+(Pl-Ll)),Wl=Al;Ll!==Pl;)Bl[Wl++]=Cl[Ll++];return Bl}}}function Sl(Tl){var Il=_l(Tl);if(Il)return Il;throw new Error(`Non-${zs} character`)}return{encode:wl,decodeUnsafe:_l,decode:Sl}}var Ur$2=Ir$2,Tr$2=Ur$2;const He$2=at=>{if(at instanceof Uint8Array&&at.constructor.name==="Uint8Array")return at;if(at instanceof ArrayBuffer)return new Uint8Array(at);if(ArrayBuffer.isView(at))return new Uint8Array(at.buffer,at.byteOffset,at.byteLength);throw new Error("Unknown type, must be binary type")},Fr$2=at=>new TextEncoder().encode(at),Nr$2=at=>new TextDecoder().decode(at);let Lr$2=class{constructor(zs,Ws,qs){this.name=zs,this.prefix=Ws,this.baseEncode=qs}encode(zs){if(zs instanceof Uint8Array)return`${this.prefix}${this.baseEncode(zs)}`;throw Error("Unknown type, must be binary type")}},Or$2=class{constructor(zs,Ws,qs){if(this.name=zs,this.prefix=Ws,Ws.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=Ws.codePointAt(0),this.baseDecode=qs}decode(zs){if(typeof zs=="string"){if(zs.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(zs)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(zs.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(zs){return ze$1(this,zs)}},Hr$2=class{constructor(zs){this.decoders=zs}or(zs){return ze$1(this,zs)}decode(zs){const Ws=zs[0],qs=this.decoders[Ws];if(qs)return qs.decode(zs);throw RangeError(`Unable to decode multibase string ${JSON.stringify(zs)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ze$1=(at,zs)=>new Hr$2({...at.decoders||{[at.prefix]:at},...zs.decoders||{[zs.prefix]:zs}});let zr$2=class{constructor(zs,Ws,qs,Ys){this.name=zs,this.prefix=Ws,this.baseEncode=qs,this.baseDecode=Ys,this.encoder=new Lr$2(zs,Ws,qs),this.decoder=new Or$2(zs,Ws,Ys)}encode(zs){return this.encoder.encode(zs)}decode(zs){return this.decoder.decode(zs)}};const Bt$2=({name:at,prefix:zs,encode:Ws,decode:qs})=>new zr$2(at,zs,Ws,qs),ht$1=({prefix:at,name:zs,alphabet:Ws})=>{const{encode:qs,decode:Ys}=Tr$2(Ws,zs);return Bt$2({prefix:at,name:zs,encode:qs,decode:Xs=>He$2(Ys(Xs))})},Mr$2=(at,zs,Ws,qs)=>{const Ys={};for(let El=0;El<zs.length;++El)Ys[zs[El]]=El;let Xs=at.length;for(;at[Xs-1]==="=";)--Xs;const Zs=new Uint8Array(Xs*Ws/8|0);let yl=0,Js=0,$l=0;for(let El=0;El<Xs;++El){const wl=Ys[at[El]];if(wl===void 0)throw new SyntaxError(`Non-${qs} character`);Js=Js<<Ws|wl,yl+=Ws,yl>=8&&(yl-=8,Zs[$l++]=255&Js>>yl)}if(yl>=Ws||255&Js<<8-yl)throw new SyntaxError("Unexpected end of data");return Zs},qr$2=(at,zs,Ws)=>{const qs=zs[zs.length-1]==="=",Ys=(1<<Ws)-1;let Xs="",Zs=0,yl=0;for(let Js=0;Js<at.length;++Js)for(yl=yl<<8|at[Js],Zs+=8;Zs>Ws;)Zs-=Ws,Xs+=zs[Ys&yl>>Zs];if(Zs&&(Xs+=zs[Ys&yl<<Ws-Zs]),qs)for(;Xs.length*Ws&7;)Xs+="=";return Xs},k=({name:at,prefix:zs,bitsPerChar:Ws,alphabet:qs})=>Bt$2({prefix:zs,name:at,encode(Ys){return qr$2(Ys,qs,Ws)},decode(Ys){return Mr$2(Ys,qs,Ws,at)}}),$r$2=Bt$2({prefix:"\0",name:"identity",encode:at=>Nr$2(at),decode:at=>Fr$2(at)});var kr$2=Object.freeze({__proto__:null,identity:$r$2});const Rr$2=k({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jr$2=Object.freeze({__proto__:null,base2:Rr$2});const Zr$2=k({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gr$2=Object.freeze({__proto__:null,base8:Zr$2});const Vr$2=ht$1({prefix:"9",name:"base10",alphabet:"0123456789"});var Yr$2=Object.freeze({__proto__:null,base10:Vr$2});const Jr$2=k({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kr$2=k({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wr$2=Object.freeze({__proto__:null,base16:Jr$2,base16upper:Kr$2});const Xr$2=k({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr$2=k({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qr$2=k({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),to$2=k({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eo$2=k({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),no$2=k({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ro$2=k({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oo$1=k({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),so$1=k({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var io$1=Object.freeze({__proto__:null,base32:Xr$2,base32upper:Pr$2,base32pad:Qr$2,base32padupper:to$2,base32hex:eo$2,base32hexupper:no$2,base32hexpad:ro$2,base32hexpadupper:oo$1,base32z:so$1});const uo$1=ht$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),co$2=ht$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ao$2=Object.freeze({__proto__:null,base36:uo$1,base36upper:co$2});const fo$2=ht$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Do$2=ht$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ho$1=Object.freeze({__proto__:null,base58btc:fo$2,base58flickr:Do$2});const lo$2=k({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bo$2=k({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),po$2=k({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wo$2=k({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eo$2=Object.freeze({__proto__:null,base64:lo$2,base64pad:bo$2,base64url:po$2,base64urlpad:wo$2});const Me$3=Array.from(""),go$2=Me$3.reduce((at,zs,Ws)=>(at[Ws]=zs,at),[]),yo$2=Me$3.reduce((at,zs,Ws)=>(at[zs.codePointAt(0)]=Ws,at),[]);function xo$2(at){return at.reduce((zs,Ws)=>(zs+=go$2[Ws],zs),"")}function Bo$2(at){const zs=[];for(const Ws of at){const qs=yo$2[Ws.codePointAt(0)];if(qs===void 0)throw new Error(`Non-base256emoji character: ${Ws}`);zs.push(qs)}return new Uint8Array(zs)}const Co$2=Bt$2({prefix:"",name:"base256emoji",encode:xo$2,decode:Bo$2});var Ao$2=Object.freeze({__proto__:null,base256emoji:Co$2}),mo$2=$e$2,qe$3=128,So$2=-128,vo$2=Math.pow(2,31);function $e$2(at,zs,Ws){zs=zs||[],Ws=Ws||0;for(var qs=Ws;at>=vo$2;)zs[Ws++]=at&255|qe$3,at/=128;for(;at&So$2;)zs[Ws++]=at&255|qe$3,at>>>=7;return zs[Ws]=at|0,$e$2.bytes=Ws-qs+1,zs}var Io$2=Pt$2,Uo$2=128,ke$1=127;function Pt$2(at,qs){var Ws=0,qs=qs||0,Ys=0,Xs=qs,Zs,yl=at.length;do{if(Xs>=yl)throw Pt$2.bytes=0,new RangeError("Could not decode varint");Zs=at[Xs++],Ws+=Ys<28?(Zs&ke$1)<<Ys:(Zs&ke$1)*Math.pow(2,Ys),Ys+=7}while(Zs>=Uo$2);return Pt$2.bytes=Xs-qs,Ws}var To$2=Math.pow(2,7),Fo$2=Math.pow(2,14),No$2=Math.pow(2,21),Lo$2=Math.pow(2,28),Oo$2=Math.pow(2,35),Ho$2=Math.pow(2,42),zo$2=Math.pow(2,49),Mo$2=Math.pow(2,56),qo$2=Math.pow(2,63),$o$2=function(at){return at<To$2?1:at<Fo$2?2:at<No$2?3:at<Lo$2?4:at<Oo$2?5:at<Ho$2?6:at<zo$2?7:at<Mo$2?8:at<qo$2?9:10},ko$2={encode:mo$2,decode:Io$2,encodingLength:$o$2},Re$2=ko$2;const je$1=(at,zs,Ws=0)=>(Re$2.encode(at,zs,Ws),zs),Ze$2=at=>Re$2.encodingLength(at),Qt$2=(at,zs)=>{const Ws=zs.byteLength,qs=Ze$2(at),Ys=qs+Ze$2(Ws),Xs=new Uint8Array(Ys+Ws);return je$1(at,Xs,0),je$1(Ws,Xs,qs),Xs.set(zs,Ys),new Ro$2(at,Ws,zs,Xs)};let Ro$2=class{constructor(zs,Ws,qs,Ys){this.code=zs,this.size=Ws,this.digest=qs,this.bytes=Ys}};const Ge$3=({name:at,code:zs,encode:Ws})=>new jo$2(at,zs,Ws);let jo$2=class{constructor(zs,Ws,qs){this.name=zs,this.code=Ws,this.encode=qs}digest(zs){if(zs instanceof Uint8Array){const Ws=this.encode(zs);return Ws instanceof Uint8Array?Qt$2(this.code,Ws):Ws.then(qs=>Qt$2(this.code,qs))}else throw Error("Unknown type, must be binary type")}};const Ve$2=at=>async zs=>new Uint8Array(await crypto.subtle.digest(at,zs)),Zo$2=Ge$3({name:"sha2-256",code:18,encode:Ve$2("SHA-256")}),Go$2=Ge$3({name:"sha2-512",code:19,encode:Ve$2("SHA-512")});var Vo$2=Object.freeze({__proto__:null,sha256:Zo$2,sha512:Go$2});const Ye$2=0,Yo$2="identity",Je$2=He$2,Jo$2=at=>Qt$2(Ye$2,Je$2(at)),Ko$2={code:Ye$2,name:Yo$2,encode:Je$2,digest:Jo$2};var Wo$2=Object.freeze({__proto__:null,identity:Ko$2});new TextEncoder,new TextDecoder;const Ke$3={...kr$2,...jr$2,...Gr$2,...Yr$2,...Wr$2,...io$1,...ao$2,...ho$1,...Eo$2,...Ao$2};({...Vo$2,...Wo$2});function We$2(at,zs,Ws,qs){return{name:at,prefix:zs,encoder:{name:at,prefix:zs,encode:Ws},decoder:{decode:qs}}}const Xe$1=We$2("utf8","u",at=>"u"+new TextDecoder("utf8").decode(at),at=>new TextEncoder().encode(at.substring(1))),te$1=We$2("ascii","a",at=>{let zs="a";for(let Ws=0;Ws<at.length;Ws++)zs+=String.fromCharCode(at[Ws]);return zs},at=>{at=at.substring(1);const zs=Le$2(at.length);for(let Ws=0;Ws<at.length;Ws++)zs[Ws]=at.charCodeAt(Ws);return zs}),Pe$2={utf8:Xe$1,"utf-8":Xe$1,hex:Ke$3.base16,latin1:te$1,ascii:te$1,binary:te$1,...Ke$3};function ct$1(at,zs="utf8"){const Ws=Pe$2[zs];if(!Ws)throw new Error(`Unsupported encoding "${zs}"`);return(zs==="utf8"||zs==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(at.buffer,at.byteOffset,at.byteLength).toString("utf8"):Ws.encoder.encode(at).substring(1)}function rt$1(at,zs="utf8"){const Ws=Pe$2[zs];if(!Ws)throw new Error(`Unsupported encoding "${zs}"`);return(zs==="utf8"||zs==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt$2(globalThis.Buffer.from(at,"utf-8")):Ws.decoder.decode(`${Ws.prefix}${at}`)}function lt$1(at){return safeJsonParse(ct$1(rt$1(at,Dt$1),Gt$2))}function bt$1(at){return ct$1(rt$1(safeJsonStringify(at),Gt$2),Dt$1)}function Qe$1(at){const zs=rt$1(Wt$2,dt$2),Ws=Kt$2+ct$1(Oe$1([zs,at]),dt$2);return[Yt$1,Jt$2,Ws].join(Vt$2)}function en$2(at){return ct$1(at,Dt$1)}function nn(at){return rt$1(at,Dt$1)}function rn$2(at){return rt$1([bt$1(at.header),bt$1(at.payload)].join(ut$2),xt$2)}function on$3(at){return[bt$1(at.header),bt$1(at.payload),en$2(at.signature)].join(ut$2)}function sn$1(at){const zs=at.split(ut$2),Ws=lt$1(zs[0]),qs=lt$1(zs[1]),Ys=nn(zs[2]),Xs=rt$1(zs.slice(0,2).join(ut$2),xt$2);return{header:Ws,payload:qs,signature:Ys,data:Xs}}function Po$2(at=he$2(Ne$1)){const zs=Rt$3.getPublicKey(at);return{secretKey:Oe$1([at,zs]),publicKey:zs}}async function Qo$2(at,zs,Ws,qs,Ys=cjs$3.fromMiliseconds(Date.now())){const Xs={alg:jt$2,typ:Zt$2},Zs=Qe$1(qs.publicKey),yl=Ys+Ws,Js={iss:Zs,sub:at,aud:zs,iat:Ys,exp:yl},$l=rn$2({header:Xs,payload:Js}),El=Rt$3.sign($l,qs.secretKey.slice(0,32));return on$3({header:Xs,payload:Js,signature:El})}var __spreadArray=function(at,zs,Ws){if(Ws||arguments.length===2)for(var qs=0,Ys=zs.length,Xs;qs<Ys;qs++)(Xs||!(qs in zs))&&(Xs||(Xs=Array.prototype.slice.call(zs,0,qs)),Xs[qs]=zs[qs]);return at.concat(Xs||Array.prototype.slice.call(zs))},BrowserInfo=function(){function at(zs,Ws,qs){this.name=zs,this.version=Ws,this.os=qs,this.type="browser"}return at}(),NodeInfo=function(){function at(zs){this.version=zs,this.type="node",this.name="node",this.os=process.platform}return at}(),SearchBotDeviceInfo=function(){function at(zs,Ws,qs,Ys){this.name=zs,this.version=Ws,this.os=qs,this.bot=Ys,this.type="bot-device"}return at}(),BotInfo=function(){function at(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return at}(),ReactNativeInfo=function(){function at(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return at}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(at){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(at){return at!==""&&userAgentRules.reduce(function(zs,Ws){var qs=Ws[0],Ys=Ws[1];if(zs)return zs;var Xs=Ys.exec(at);return!!Xs&&[qs,Xs]},!1)}function parseUserAgent(at){var zs=matchUserAgent(at);if(!zs)return null;var Ws=zs[0],qs=zs[1];if(Ws==="searchbot")return new BotInfo;var Ys=qs[1]&&qs[1].split(".").join("_").split("_").slice(0,3);Ys?Ys.length<REQUIRED_VERSION_PARTS&&(Ys=__spreadArray(__spreadArray([],Ys,!0),createVersionParts(REQUIRED_VERSION_PARTS-Ys.length),!0)):Ys=[];var Xs=Ys.join("."),Zs=detectOS(at),yl=SEARCHBOT_OS_REGEX.exec(at);return yl&&yl[1]?new SearchBotDeviceInfo(Ws,Xs,Zs,yl[1]):new BrowserInfo(Ws,Xs,Zs)}function detectOS(at){for(var zs=0,Ws=operatingSystemRules.length;zs<Ws;zs++){var qs=operatingSystemRules[zs],Ys=qs[0],Xs=qs[1],Zs=Xs.exec(at);if(Zs)return Ys}return null}function getNodeVersion(){var at=typeof process<"u"&&process.version;return at?new NodeInfo(process.version.slice(1)):null}function createVersionParts(at){for(var zs=[],Ws=0;Ws<at;Ws++)zs.push("0");return zs}var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0}),cjs$2.getLocalStorage=cjs$2.getLocalStorageOrThrow=cjs$2.getCrypto=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=cjs$2.getDocumentOrThrow=cjs$2.getFromWindowOrThrow=cjs$2.getFromWindow=void 0;function getFromWindow(at){let zs;return typeof window<"u"&&typeof window[at]<"u"&&(zs=window[at]),zs}cjs$2.getFromWindow=getFromWindow;function getFromWindowOrThrow(at){const zs=getFromWindow(at);if(!zs)throw new Error(`${at} is not defined in Window`);return zs}cjs$2.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$2.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$2.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$2.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$2.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$2.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$2.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$2.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$2.getLocalStorage=getLocalStorage;var cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getWindowMetadata_1=cjs$1.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let at,zs;try{at=window_getters_1.getDocumentOrThrow(),zs=window_getters_1.getLocationOrThrow()}catch{return null}function Ws(){const wl=at.getElementsByTagName("link"),_l=[];for(let Sl=0;Sl<wl.length;Sl++){const Tl=wl[Sl],Il=Tl.getAttribute("rel");if(Il&&Il.toLowerCase().indexOf("icon")>-1){const Al=Tl.getAttribute("href");if(Al)if(Al.toLowerCase().indexOf("https:")===-1&&Al.toLowerCase().indexOf("http:")===-1&&Al.indexOf("//")!==0){let xl=zs.protocol+"//"+zs.host;if(Al.indexOf("/")===0)xl+=Al;else{const Pl=zs.pathname.split("/");Pl.pop();const Cl=Pl.join("/");xl+=Cl+"/"+Al}_l.push(xl)}else if(Al.indexOf("//")===0){const xl=zs.protocol+Al;_l.push(xl)}else _l.push(Al)}}return _l}function qs(...wl){const _l=at.getElementsByTagName("meta");for(let Sl=0;Sl<_l.length;Sl++){const Tl=_l[Sl],Il=["itemprop","property","name"].map(Al=>Tl.getAttribute(Al)).filter(Al=>Al?wl.includes(Al):!1);if(Il.length&&Il){const Al=Tl.getAttribute("content");if(Al)return Al}}return""}function Ys(){let wl=qs("name","og:site_name","og:title","twitter:title");return wl||(wl=at.title),wl}function Xs(){return qs("description","og:description","twitter:description","keywords")}const Zs=Ys(),yl=Xs(),Js=zs.origin,$l=Ws();return{description:yl,url:Js,icons:$l,name:Zs}}getWindowMetadata_1=cjs$1.getWindowMetadata=getWindowMetadata;const version$1="0.1.1";function getVersion(){return version$1}let BaseError$1=class t0 extends Error{constructor(zs,Ws={}){const qs=(()=>{var Js;if(Ws.cause instanceof t0){if(Ws.cause.details)return Ws.cause.details;if(Ws.cause.shortMessage)return Ws.cause.shortMessage}return Ws.cause&&"details"in Ws.cause&&typeof Ws.cause.details=="string"?Ws.cause.details:(Js=Ws.cause)!=null&&Js.message?Ws.cause.message:Ws.details})(),Ys=Ws.cause instanceof t0&&Ws.cause.docsPath||Ws.docsPath,Zs=`https://oxlib.sh${Ys??""}`,yl=[zs||"An error occurred.",...Ws.metaMessages?["",...Ws.metaMessages]:[],...qs||Ys?["",qs?`Details: ${qs}`:void 0,Ys?`See: ${Zs}`:void 0]:[]].filter(Js=>typeof Js=="string").join(`
`);super(yl,Ws.cause?{cause:Ws.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${getVersion()}`}),this.cause=Ws.cause,this.details=qs,this.docs=Zs,this.docsPath=Ys,this.shortMessage=zs}walk(zs){return walk$1(this,zs)}};function walk$1(at,zs){return zs!=null&&zs(at)?at:at&&typeof at=="object"&&"cause"in at&&at.cause?walk$1(at.cause,zs):zs?null:at}const _0n$a=BigInt(0),_1n$a=BigInt(1),_2n$4=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113),SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[];for(let at=0,zs=_1n$a,Ws=1,qs=0;at<24;at++){[Ws,qs]=[qs,(2*Ws+3*qs)%5],SHA3_PI.push(2*(5*qs+Ws)),SHA3_ROTL.push((at+1)*(at+2)/2%64);let Ys=_0n$a;for(let Xs=0;Xs<7;Xs++)zs=(zs<<_1n$a^(zs>>_7n)*_0x71n)%_256n,zs&_2n$4&&(Ys^=_1n$a<<(_1n$a<<BigInt(Xs))-_1n$a);_SHA3_IOTA.push(Ys)}const IOTAS=split$1(_SHA3_IOTA,!0),SHA3_IOTA_H=IOTAS[0],SHA3_IOTA_L=IOTAS[1],rotlH=(at,zs,Ws)=>Ws>32?rotlBH$1(at,zs,Ws):rotlSH$1(at,zs,Ws),rotlL=(at,zs,Ws)=>Ws>32?rotlBL$1(at,zs,Ws):rotlSL$1(at,zs,Ws);function keccakP(at,zs=24){const Ws=new Uint32Array(10);for(let qs=24-zs;qs<24;qs++){for(let Zs=0;Zs<10;Zs++)Ws[Zs]=at[Zs]^at[Zs+10]^at[Zs+20]^at[Zs+30]^at[Zs+40];for(let Zs=0;Zs<10;Zs+=2){const yl=(Zs+8)%10,Js=(Zs+2)%10,$l=Ws[Js],El=Ws[Js+1],wl=rotlH($l,El,1)^Ws[yl],_l=rotlL($l,El,1)^Ws[yl+1];for(let Sl=0;Sl<50;Sl+=10)at[Zs+Sl]^=wl,at[Zs+Sl+1]^=_l}let Ys=at[2],Xs=at[3];for(let Zs=0;Zs<24;Zs++){const yl=SHA3_ROTL[Zs],Js=rotlH(Ys,Xs,yl),$l=rotlL(Ys,Xs,yl),El=SHA3_PI[Zs];Ys=at[El],Xs=at[El+1],at[El]=Js,at[El+1]=$l}for(let Zs=0;Zs<50;Zs+=10){for(let yl=0;yl<10;yl++)Ws[yl]=at[Zs+yl];for(let yl=0;yl<10;yl++)at[Zs+yl]^=~Ws[(yl+2)%10]&Ws[(yl+4)%10]}at[0]^=SHA3_IOTA_H[qs],at[1]^=SHA3_IOTA_L[qs]}clean(Ws)}class Keccak extends Hash$2{constructor(zs,Ws,qs,Ys=!1,Xs=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=zs,this.suffix=Ws,this.outputLen=qs,this.enableXOF=Ys,this.rounds=Xs,anumber$1(qs),!(0<zs&&zs<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}clone(){return this._cloneInto()}keccak(){swap32IfBE(this.state32),keccakP(this.state32,this.rounds),swap32IfBE(this.state32),this.posOut=0,this.pos=0}update(zs){aexists(this),zs=toBytes$2(zs),abytes$3(zs);const{blockLen:Ws,state:qs}=this,Ys=zs.length;for(let Xs=0;Xs<Ys;){const Zs=Math.min(Ws-this.pos,Ys-Xs);for(let yl=0;yl<Zs;yl++)qs[this.pos++]^=zs[Xs++];this.pos===Ws&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:zs,suffix:Ws,pos:qs,blockLen:Ys}=this;zs[qs]^=Ws,Ws&128&&qs===Ys-1&&this.keccak(),zs[Ys-1]^=128,this.keccak()}writeInto(zs){aexists(this,!1),abytes$3(zs),this.finish();const Ws=this.state,{blockLen:qs}=this;for(let Ys=0,Xs=zs.length;Ys<Xs;){this.posOut>=qs&&this.keccak();const Zs=Math.min(qs-this.posOut,Xs-Ys);zs.set(Ws.subarray(this.posOut,this.posOut+Zs),Ys),this.posOut+=Zs,Ys+=Zs}return zs}xofInto(zs){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(zs)}xof(zs){return anumber$1(zs),this.xofInto(new Uint8Array(zs))}digestInto(zs){if(aoutput(zs,this),this.finished)throw new Error("digest() was already called");return this.writeInto(zs),this.destroy(),zs}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,clean(this.state)}_cloneInto(zs){const{blockLen:Ws,suffix:qs,outputLen:Ys,rounds:Xs,enableXOF:Zs}=this;return zs||(zs=new Keccak(Ws,qs,Ys,Zs,Xs)),zs.state32.set(this.state32),zs.pos=this.pos,zs.posOut=this.posOut,zs.finished=this.finished,zs.rounds=Xs,zs.suffix=qs,zs.outputLen=Ys,zs.enableXOF=Zs,zs.destroyed=this.destroyed,zs}}const gen=(at,zs,Ws)=>createHasher(()=>new Keccak(zs,at,Ws)),keccak_256=gen(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$9=BigInt(0),_1n$9=BigInt(1);function isBytes$2(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function abytes$1(at){if(!isBytes$2(at))throw new Error("Uint8Array expected")}function abool$1(at,zs){if(typeof zs!="boolean")throw new Error(at+" boolean expected, got "+zs)}function numberToHexUnpadded$1(at){const zs=at.toString(16);return zs.length&1?"0"+zs:zs}function hexToNumber$2(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return at===""?_0n$9:BigInt("0x"+at)}const hasHexBuiltin$1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes$3=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function bytesToHex$2(at){if(abytes$1(at),hasHexBuiltin$1)return at.toHex();let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=hexes$3[at[Ws]];return zs}const asciis$1={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16$1(at){if(at>=asciis$1._0&&at<=asciis$1._9)return at-asciis$1._0;if(at>=asciis$1.A&&at<=asciis$1.F)return at-(asciis$1.A-10);if(at>=asciis$1.a&&at<=asciis$1.f)return at-(asciis$1.a-10)}function hexToBytes$2(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);if(hasHexBuiltin$1)return Uint8Array.fromHex(at);const zs=at.length,Ws=zs/2;if(zs%2)throw new Error("hex string expected, got unpadded hex of length "+zs);const qs=new Uint8Array(Ws);for(let Ys=0,Xs=0;Ys<Ws;Ys++,Xs+=2){const Zs=asciiToBase16$1(at.charCodeAt(Xs)),yl=asciiToBase16$1(at.charCodeAt(Xs+1));if(Zs===void 0||yl===void 0){const Js=at[Xs]+at[Xs+1];throw new Error('hex string expected, got non-hex character "'+Js+'" at index '+Xs)}qs[Ys]=Zs*16+yl}return qs}function bytesToNumberBE$1(at){return hexToNumber$2(bytesToHex$2(at))}function bytesToNumberLE$1(at){return abytes$1(at),hexToNumber$2(bytesToHex$2(Uint8Array.from(at).reverse()))}function numberToBytesBE$1(at,zs){return hexToBytes$2(at.toString(16).padStart(zs*2,"0"))}function numberToBytesLE$1(at,zs){return numberToBytesBE$1(at,zs).reverse()}function ensureBytes$1(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=hexToBytes$2(zs)}catch(Xs){throw new Error(at+" must be hex string or Uint8Array, cause: "+Xs)}else if(isBytes$2(zs))qs=Uint8Array.from(zs);else throw new Error(at+" must be hex string or Uint8Array");const Ys=qs.length;if(typeof Ws=="number"&&Ys!==Ws)throw new Error(at+" of length "+Ws+" expected, got "+Ys);return qs}function concatBytes$2(...at){let zs=0;for(let qs=0;qs<at.length;qs++){const Ys=at[qs];abytes$1(Ys),zs+=Ys.length}const Ws=new Uint8Array(zs);for(let qs=0,Ys=0;qs<at.length;qs++){const Xs=at[qs];Ws.set(Xs,Ys),Ys+=Xs.length}return Ws}const isPosBig$1=at=>typeof at=="bigint"&&_0n$9<=at;function inRange$1(at,zs,Ws){return isPosBig$1(at)&&isPosBig$1(zs)&&isPosBig$1(Ws)&&zs<=at&&at<Ws}function aInRange$1(at,zs,Ws,qs){if(!inRange$1(zs,Ws,qs))throw new Error("expected valid "+at+": "+Ws+" <= n < "+qs+", got "+zs)}function bitLen$1(at){let zs;for(zs=0;at>_0n$9;at>>=_1n$9,zs+=1);return zs}const bitMask$1=at=>(_1n$9<<BigInt(at))-_1n$9,u8n$1=at=>new Uint8Array(at),u8fr$1=at=>Uint8Array.from(at);function createHmacDrbg$1(at,zs,Ws){if(typeof at!="number"||at<2)throw new Error("hashLen must be a number");if(typeof zs!="number"||zs<2)throw new Error("qByteLen must be a number");if(typeof Ws!="function")throw new Error("hmacFn must be a function");let qs=u8n$1(at),Ys=u8n$1(at),Xs=0;const Zs=()=>{qs.fill(1),Ys.fill(0),Xs=0},yl=(...wl)=>Ws(Ys,qs,...wl),Js=(wl=u8n$1(0))=>{Ys=yl(u8fr$1([0]),wl),qs=yl(),wl.length!==0&&(Ys=yl(u8fr$1([1]),wl),qs=yl())},$l=()=>{if(Xs++>=1e3)throw new Error("drbg: tried 1000 values");let wl=0;const _l=[];for(;wl<zs;){qs=yl();const Sl=qs.slice();_l.push(Sl),wl+=qs.length}return concatBytes$2(..._l)};return(wl,_l)=>{Zs(),Js(wl);let Sl;for(;!(Sl=_l($l()));)Js();return Zs(),Sl}}const validatorFns$1={bigint:at=>typeof at=="bigint",function:at=>typeof at=="function",boolean:at=>typeof at=="boolean",string:at=>typeof at=="string",stringOrUint8Array:at=>typeof at=="string"||isBytes$2(at),isSafeInteger:at=>Number.isSafeInteger(at),array:at=>Array.isArray(at),field:(at,zs)=>zs.Fp.isValid(at),hash:at=>typeof at=="function"&&Number.isSafeInteger(at.outputLen)};function validateObject$1(at,zs,Ws={}){const qs=(Ys,Xs,Zs)=>{const yl=validatorFns$1[Xs];if(typeof yl!="function")throw new Error("invalid validator function");const Js=at[Ys];if(!(Zs&&Js===void 0)&&!yl(Js,at))throw new Error("param "+String(Ys)+" is invalid. Expected "+Xs+", got "+Js)};for(const[Ys,Xs]of Object.entries(zs))qs(Ys,Xs,!1);for(const[Ys,Xs]of Object.entries(Ws))qs(Ys,Xs,!0);return at}function memoized$1(at){const zs=new WeakMap;return(Ws,...qs)=>{const Ys=zs.get(Ws);if(Ys!==void 0)return Ys;const Xs=at(Ws,...qs);return zs.set(Ws,Xs),Xs}}function assertSize$2(at,zs){if(size$1(at)>zs)throw new SizeOverflowError$1({givenSize:size$1(at),maxSize:zs})}const charCodeMap$1={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16$1(at){if(at>=charCodeMap$1.zero&&at<=charCodeMap$1.nine)return at-charCodeMap$1.zero;if(at>=charCodeMap$1.A&&at<=charCodeMap$1.F)return at-(charCodeMap$1.A-10);if(at>=charCodeMap$1.a&&at<=charCodeMap$1.f)return at-(charCodeMap$1.a-10)}function pad$2(at,zs={}){const{dir:Ws,size:qs=32}=zs;if(qs===0)return at;if(at.length>qs)throw new SizeExceedsPaddingSizeError$1({size:at.length,targetSize:qs,type:"Bytes"});const Ys=new Uint8Array(qs);for(let Xs=0;Xs<qs;Xs++){const Zs=Ws==="right";Ys[Zs?Xs:qs-Xs-1]=at[Zs?Xs:at.length-Xs-1]}return Ys}function assertSize$1(at,zs){if(size$2(at)>zs)throw new SizeOverflowError$2({givenSize:size$2(at),maxSize:zs})}function assertStartOffset(at,zs){if(typeof zs=="number"&&zs>0&&zs>size$2(at)-1)throw new SliceOffsetOutOfBoundsError({offset:zs,position:"start",size:size$2(at)})}function assertEndOffset(at,zs,Ws){if(typeof zs=="number"&&typeof Ws=="number"&&size$2(at)!==Ws-zs)throw new SliceOffsetOutOfBoundsError({offset:Ws,position:"end",size:size$2(at)})}function pad$1(at,zs={}){const{dir:Ws,size:qs=32}=zs;if(qs===0)return at;const Ys=at.replace("0x","");if(Ys.length>qs*2)throw new SizeExceedsPaddingSizeError$2({size:Math.ceil(Ys.length/2),targetSize:qs,type:"Hex"});return`0x${Ys[Ws==="right"?"padEnd":"padStart"](qs*2,"0")}`}const bigIntSuffix="#__bigint";function stringify(at,zs,Ws){return JSON.stringify(at,(qs,Ys)=>typeof Ys=="bigint"?Ys.toString()+bigIntSuffix:Ys,Ws)}const hexes$2=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function assert$3(at,zs={}){const{strict:Ws=!1}=zs;if(!at)throw new InvalidHexTypeError(at);if(typeof at!="string")throw new InvalidHexTypeError(at);if(Ws&&!/^0x[0-9a-fA-F]*$/.test(at))throw new InvalidHexValueError(at);if(!at.startsWith("0x"))throw new InvalidHexValueError(at)}function concat$2(...at){return`0x${at.reduce((zs,Ws)=>zs+Ws.replace("0x",""),"")}`}function from$4(at){return at instanceof Uint8Array?fromBytes$1(at):Array.isArray(at)?fromBytes$1(new Uint8Array(at)):at}function fromBytes$1(at,zs={}){let Ws="";for(let Ys=0;Ys<at.length;Ys++)Ws+=hexes$2[at[Ys]];const qs=`0x${Ws}`;return typeof zs.size=="number"?(assertSize$1(qs,zs.size),padRight$1(qs,zs.size)):qs}function fromNumber(at,zs={}){const{signed:Ws,size:qs}=zs,Ys=BigInt(at);let Xs;qs?Ws?Xs=(1n<<BigInt(qs)*8n-1n)-1n:Xs=2n**(BigInt(qs)*8n)-1n:typeof at=="number"&&(Xs=BigInt(Number.MAX_SAFE_INTEGER));const Zs=typeof Xs=="bigint"&&Ws?-Xs-1n:0;if(Xs&&Ys>Xs||Ys<Zs){const $l=typeof at=="bigint"?"n":"";throw new IntegerOutOfRangeError$1({max:Xs?`${Xs}${$l}`:void 0,min:`${Zs}${$l}`,signed:Ws,size:qs,value:`${at}${$l}`})}const Js=`0x${(Ws&&Ys<0?(1n<<BigInt(qs*8))+BigInt(Ys):Ys).toString(16)}`;return qs?padLeft(Js,qs):Js}function padLeft(at,zs){return pad$1(at,{dir:"left",size:zs})}function padRight$1(at,zs){return pad$1(at,{dir:"right",size:zs})}function slice(at,zs,Ws,qs={}){const{strict:Ys}=qs;assertStartOffset(at,zs);const Xs=`0x${at.replace("0x","").slice((zs??0)*2,(Ws??at.length)*2)}`;return Ys&&assertEndOffset(Xs,zs,Ws),Xs}function size$2(at){return Math.ceil((at.length-2)/2)}function validate$1(at,zs={}){const{strict:Ws=!1}=zs;try{return assert$3(at,{strict:Ws}),!0}catch{return!1}}let IntegerOutOfRangeError$1=class extends BaseError$1{constructor({max:zs,min:Ws,signed:qs,size:Ys,value:Xs}){super(`Number \`${Xs}\` is not in safe${Ys?` ${Ys*8}-bit`:""}${qs?" signed":" unsigned"} integer range ${zs?`(\`${Ws}\` to \`${zs}\`)`:`(above \`${Ws}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class InvalidHexTypeError extends BaseError$1{constructor(zs){super(`Value \`${typeof zs=="object"?stringify(zs):zs}\` of type \`${typeof zs}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class InvalidHexValueError extends BaseError$1{constructor(zs){super(`Value \`${zs}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let SizeOverflowError$2=class extends BaseError$1{constructor({givenSize:zs,maxSize:Ws}){super(`Size cannot exceed \`${Ws}\` bytes. Given size: \`${zs}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class SliceOffsetOutOfBoundsError extends BaseError$1{constructor({offset:zs,position:Ws,size:qs}){super(`Slice ${Ws==="start"?"starting":"ending"} at offset \`${zs}\` is out-of-bounds (size: \`${qs}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let SizeExceedsPaddingSizeError$2=class extends BaseError$1{constructor({size:zs,targetSize:Ws,type:qs}){super(`${qs.charAt(0).toUpperCase()}${qs.slice(1).toLowerCase()} size (\`${zs}\`) exceeds padding size (\`${Ws}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const encoder$2=new TextEncoder;function assert$2(at){if(!(at instanceof Uint8Array)){if(!at)throw new InvalidBytesTypeError(at);if(typeof at!="object")throw new InvalidBytesTypeError(at);if(!("BYTES_PER_ELEMENT"in at))throw new InvalidBytesTypeError(at);if(at.BYTES_PER_ELEMENT!==1||at.constructor.name!=="Uint8Array")throw new InvalidBytesTypeError(at)}}function from$3(at){return at instanceof Uint8Array?at:typeof at=="string"?fromHex$2(at):fromArray(at)}function fromArray(at){return at instanceof Uint8Array?at:new Uint8Array(at)}function fromHex$2(at,zs={}){const{size:Ws}=zs;let qs=at;Ws&&(assertSize$1(at,Ws),qs=padRight$1(at,Ws));let Ys=qs.slice(2);Ys.length%2&&(Ys=`0${Ys}`);const Xs=Ys.length/2,Zs=new Uint8Array(Xs);for(let yl=0,Js=0;yl<Xs;yl++){const $l=charCodeToBase16$1(Ys.charCodeAt(Js++)),El=charCodeToBase16$1(Ys.charCodeAt(Js++));if($l===void 0||El===void 0)throw new BaseError$1(`Invalid byte sequence ("${Ys[Js-2]}${Ys[Js-1]}" in "${Ys}").`);Zs[yl]=$l*16+El}return Zs}function fromString$2(at,zs={}){const{size:Ws}=zs,qs=encoder$2.encode(at);return typeof Ws=="number"?(assertSize$2(qs,Ws),padRight(qs,Ws)):qs}function padRight(at,zs){return pad$2(at,{dir:"right",size:zs})}function size$1(at){return at.length}function validate(at){try{return assert$2(at),!0}catch{return!1}}class InvalidBytesTypeError extends BaseError$1{constructor(zs){super(`Value \`${typeof zs=="object"?stringify(zs):zs}\` of type \`${typeof zs}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let SizeOverflowError$1=class extends BaseError$1{constructor({givenSize:zs,maxSize:Ws}){super(`Size cannot exceed \`${Ws}\` bytes. Given size: \`${zs}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},SizeExceedsPaddingSizeError$1=class extends BaseError$1{constructor({size:zs,targetSize:Ws,type:qs}){super(`${qs.charAt(0).toUpperCase()}${qs.slice(1).toLowerCase()} size (\`${zs}\`) exceeds padding size (\`${Ws}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function keccak256$1(at,zs={}){const{as:Ws=typeof at=="string"?"Hex":"Bytes"}=zs,qs=keccak_256(from$3(at));return Ws==="Bytes"?qs:fromBytes$1(qs)}class LruMap extends Map{constructor(zs){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=zs}get(zs){const Ws=super.get(zs);return super.has(zs)&&Ws!==void 0&&(this.delete(zs),super.set(zs,Ws)),Ws}set(zs,Ws){if(super.set(zs,Ws),this.maxSize&&this.size>this.maxSize){const qs=this.keys().next().value;qs&&this.delete(qs)}return this}}const caches={checksum:new LruMap(8192)},checksum$1=caches.checksum;function assert$1(at,zs={}){const{compressed:Ws}=zs,{prefix:qs,x:Ys,y:Xs}=at;if(Ws===!1||typeof Ys=="bigint"&&typeof Xs=="bigint"){if(qs!==4)throw new InvalidPrefixError({prefix:qs,cause:new InvalidUncompressedPrefixError});return}if(Ws===!0||typeof Ys=="bigint"&&typeof Xs>"u"){if(qs!==3&&qs!==2)throw new InvalidPrefixError({prefix:qs,cause:new InvalidCompressedPrefixError});return}throw new InvalidError({publicKey:at})}function from$2(at){const zs=(()=>{if(validate$1(at))return fromHex$1(at);if(validate(at))return fromBytes(at);const{prefix:Ws,x:qs,y:Ys}=at;return typeof qs=="bigint"&&typeof Ys=="bigint"?{prefix:Ws??4,x:qs,y:Ys}:{prefix:Ws,x:qs}})();return assert$1(zs),zs}function fromBytes(at){return fromHex$1(fromBytes$1(at))}function fromHex$1(at){if(at.length!==132&&at.length!==130&&at.length!==68)throw new InvalidSerializedSizeError$1({publicKey:at});if(at.length===130){const qs=BigInt(slice(at,0,32)),Ys=BigInt(slice(at,32,64));return{prefix:4,x:qs,y:Ys}}if(at.length===132){const qs=Number(slice(at,0,1)),Ys=BigInt(slice(at,1,33)),Xs=BigInt(slice(at,33,65));return{prefix:qs,x:Ys,y:Xs}}const zs=Number(slice(at,0,1)),Ws=BigInt(slice(at,1,33));return{prefix:zs,x:Ws}}function toHex$2(at,zs={}){assert$1(at);const{prefix:Ws,x:qs,y:Ys}=at,{includePrefix:Xs=!0}=zs;return concat$2(Xs?fromNumber(Ws,{size:1}):"0x",fromNumber(qs,{size:32}),typeof Ys=="bigint"?fromNumber(Ys,{size:32}):"0x")}class InvalidError extends BaseError$1{constructor({publicKey:zs}){super(`Value \`${stringify(zs)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class InvalidPrefixError extends BaseError$1{constructor({prefix:zs,cause:Ws}){super(`Prefix "${zs}" is invalid.`,{cause:Ws}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class InvalidCompressedPrefixError extends BaseError$1{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class InvalidUncompressedPrefixError extends BaseError$1{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let InvalidSerializedSizeError$1=class extends BaseError$1{constructor({publicKey:zs}){super(`Value \`${zs}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${size$2(from$4(zs))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const addressRegex=/^0x[a-fA-F0-9]{40}$/;function assert(at,zs={}){const{strict:Ws=!0}=zs;if(!addressRegex.test(at))throw new InvalidAddressError({address:at,cause:new InvalidInputError});if(Ws){if(at.toLowerCase()===at)return;if(checksum(at)!==at)throw new InvalidAddressError({address:at,cause:new InvalidChecksumError})}}function checksum(at){if(checksum$1.has(at))return checksum$1.get(at);assert(at,{strict:!1});const zs=at.substring(2).toLowerCase(),Ws=keccak256$1(fromString$2(zs),{as:"Bytes"}),qs=zs.split("");for(let Xs=0;Xs<40;Xs+=2)Ws[Xs>>1]>>4>=8&&qs[Xs]&&(qs[Xs]=qs[Xs].toUpperCase()),(Ws[Xs>>1]&15)>=8&&qs[Xs+1]&&(qs[Xs+1]=qs[Xs+1].toUpperCase());const Ys=`0x${qs.join("")}`;return checksum$1.set(at,Ys),Ys}function from$1(at,zs={}){const{checksum:Ws=!1}=zs;return assert(at),Ws?checksum(at):at}function fromPublicKey(at,zs={}){const Ws=keccak256$1(`0x${toHex$2(at).slice(4)}`).substring(26);return from$1(`0x${Ws}`,zs)}class InvalidAddressError extends BaseError$1{constructor({address:zs,cause:Ws}){super(`Address "${zs}" is invalid.`,{cause:Ws}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class InvalidInputError extends BaseError$1{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class InvalidChecksumError extends BaseError$1{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$8=BigInt(1),_2n$3=BigInt(2),_3n$3=BigInt(3),_4n$3=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);function mod$1(at,zs){const Ws=at%zs;return Ws>=_0n$8?Ws:zs+Ws}function pow2$1(at,zs,Ws){let qs=at;for(;zs-- >_0n$8;)qs*=qs,qs%=Ws;return qs}function invert$1(at,zs){if(at===_0n$8)throw new Error("invert: expected non-zero number");if(zs<=_0n$8)throw new Error("invert: expected positive modulus, got "+zs);let Ws=mod$1(at,zs),qs=zs,Ys=_0n$8,Xs=_1n$8;for(;Ws!==_0n$8;){const yl=qs/Ws,Js=qs%Ws,$l=Ys-Xs*yl;qs=Ws,Ws=Js,Ys=Xs,Xs=$l}if(qs!==_1n$8)throw new Error("invert: does not exist");return mod$1(Ys,zs)}function sqrt3mod4$1(at,zs){const Ws=(at.ORDER+_1n$8)/_4n$3,qs=at.pow(zs,Ws);if(!at.eql(at.sqr(qs),zs))throw new Error("Cannot find square root");return qs}function sqrt5mod8$1(at,zs){const Ws=(at.ORDER-_5n$1)/_8n$1,qs=at.mul(zs,_2n$3),Ys=at.pow(qs,Ws),Xs=at.mul(zs,Ys),Zs=at.mul(at.mul(Xs,_2n$3),Ys),yl=at.mul(Xs,at.sub(Zs,at.ONE));if(!at.eql(at.sqr(yl),zs))throw new Error("Cannot find square root");return yl}function tonelliShanks$1(at){if(at<BigInt(3))throw new Error("sqrt is not defined for small field");let zs=at-_1n$8,Ws=0;for(;zs%_2n$3===_0n$8;)zs/=_2n$3,Ws++;let qs=_2n$3;const Ys=Field$1(at);for(;FpLegendre$1(Ys,qs)===1;)if(qs++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(Ws===1)return sqrt3mod4$1;let Xs=Ys.pow(qs,zs);const Zs=(zs+_1n$8)/_2n$3;return function(Js,$l){if(Js.is0($l))return $l;if(FpLegendre$1(Js,$l)!==1)throw new Error("Cannot find square root");let El=Ws,wl=Js.mul(Js.ONE,Xs),_l=Js.pow($l,zs),Sl=Js.pow($l,Zs);for(;!Js.eql(_l,Js.ONE);){if(Js.is0(_l))return Js.ZERO;let Tl=1,Il=Js.sqr(_l);for(;!Js.eql(Il,Js.ONE);)if(Tl++,Il=Js.sqr(Il),Tl===El)throw new Error("Cannot find square root");const Al=_1n$8<<BigInt(El-Tl-1),xl=Js.pow(wl,Al);El=Tl,wl=Js.sqr(xl),_l=Js.mul(_l,wl),Sl=Js.mul(Sl,xl)}return Sl}}function FpSqrt$1(at){return at%_4n$3===_3n$3?sqrt3mod4$1:at%_8n$1===_5n$1?sqrt5mod8$1:tonelliShanks$1(at)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Ws=FIELD_FIELDS$1.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return validateObject$1(at,Ws)}function FpPow$1(at,zs,Ws){if(Ws<_0n$8)throw new Error("invalid exponent, negatives unsupported");if(Ws===_0n$8)return at.ONE;if(Ws===_1n$8)return zs;let qs=at.ONE,Ys=zs;for(;Ws>_0n$8;)Ws&_1n$8&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=_1n$8;return qs}function FpInvertBatch$1(at,zs,Ws=!1){const qs=new Array(zs.length).fill(Ws?at.ZERO:void 0),Ys=zs.reduce((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=Zs,at.mul(Zs,yl)),at.ONE),Xs=at.inv(Ys);return zs.reduceRight((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=at.mul(Zs,qs[Js]),at.mul(Zs,yl)),Xs),qs}function FpLegendre$1(at,zs){const Ws=(at.ORDER-_1n$8)/_2n$3,qs=at.pow(zs,Ws),Ys=at.eql(qs,at.ONE),Xs=at.eql(qs,at.ZERO),Zs=at.eql(qs,at.neg(at.ONE));if(!Ys&&!Xs&&!Zs)throw new Error("invalid Legendre symbol result");return Ys?1:Xs?0:-1}function nLength$1(at,zs){zs!==void 0&&anumber$1(zs);const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function Field$1(at,zs,Ws=!1,qs={}){if(at<=_0n$8)throw new Error("invalid field: expected ORDER > 0, got "+at);const{nBitLength:Ys,nByteLength:Xs}=nLength$1(at,zs);if(Xs>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Zs;const yl=Object.freeze({ORDER:at,isLE:Ws,BITS:Ys,BYTES:Xs,MASK:bitMask$1(Ys),ZERO:_0n$8,ONE:_1n$8,create:Js=>mod$1(Js,at),isValid:Js=>{if(typeof Js!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Js);return _0n$8<=Js&&Js<at},is0:Js=>Js===_0n$8,isOdd:Js=>(Js&_1n$8)===_1n$8,neg:Js=>mod$1(-Js,at),eql:(Js,$l)=>Js===$l,sqr:Js=>mod$1(Js*Js,at),add:(Js,$l)=>mod$1(Js+$l,at),sub:(Js,$l)=>mod$1(Js-$l,at),mul:(Js,$l)=>mod$1(Js*$l,at),pow:(Js,$l)=>FpPow$1(yl,Js,$l),div:(Js,$l)=>mod$1(Js*invert$1($l,at),at),sqrN:Js=>Js*Js,addN:(Js,$l)=>Js+$l,subN:(Js,$l)=>Js-$l,mulN:(Js,$l)=>Js*$l,inv:Js=>invert$1(Js,at),sqrt:qs.sqrt||(Js=>(Zs||(Zs=FpSqrt$1(at)),Zs(yl,Js))),toBytes:Js=>Ws?numberToBytesLE$1(Js,Xs):numberToBytesBE$1(Js,Xs),fromBytes:Js=>{if(Js.length!==Xs)throw new Error("Field.fromBytes: expected "+Xs+" bytes, got "+Js.length);return Ws?bytesToNumberLE$1(Js):bytesToNumberBE$1(Js)},invertBatch:Js=>FpInvertBatch$1(yl,Js),cmov:(Js,$l,El)=>El?$l:Js});return Object.freeze(yl)}function getFieldBytesLength$1(at){if(typeof at!="bigint")throw new Error("field order must be bigint");const zs=at.toString(2).length;return Math.ceil(zs/8)}function getMinHashLength$1(at){const zs=getFieldBytesLength$1(at);return zs+Math.ceil(zs/2)}function mapHashToField$1(at,zs,Ws=!1){const qs=at.length,Ys=getFieldBytesLength$1(zs),Xs=getMinHashLength$1(zs);if(qs<16||qs<Xs||qs>1024)throw new Error("expected "+Xs+"-1024 bytes of input, got "+qs);const Zs=Ws?bytesToNumberLE$1(at):bytesToNumberBE$1(at),yl=mod$1(Zs,zs-_1n$8)+_1n$8;return Ws?numberToBytesLE$1(yl,Ys):numberToBytesBE$1(yl,Ys)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$7=BigInt(1);function constTimeNegate$1(at,zs){const Ws=zs.negate();return at?Ws:zs}function validateW$1(at,zs){if(!Number.isSafeInteger(at)||at<=0||at>zs)throw new Error("invalid window size, expected [1.."+zs+"], got W="+at)}function calcWOpts$1(at,zs){validateW$1(at,zs);const Ws=Math.ceil(zs/at)+1,qs=2**(at-1),Ys=2**at,Xs=bitMask$1(at),Zs=BigInt(at);return{windows:Ws,windowSize:qs,mask:Xs,maxNumber:Ys,shiftBy:Zs}}function calcOffsets$1(at,zs,Ws){const{windowSize:qs,mask:Ys,maxNumber:Xs,shiftBy:Zs}=Ws;let yl=Number(at&Ys),Js=at>>Zs;yl>qs&&(yl-=Xs,Js+=_1n$7);const $l=zs*qs,El=$l+Math.abs(yl)-1,wl=yl===0,_l=yl<0,Sl=zs%2!==0;return{nextN:Js,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:$l}}function validateMSMPoints$1(at,zs){if(!Array.isArray(at))throw new Error("array expected");at.forEach((Ws,qs)=>{if(!(Ws instanceof zs))throw new Error("invalid point at index "+qs)})}function validateMSMScalars$1(at,zs){if(!Array.isArray(at))throw new Error("array of scalars expected");at.forEach((Ws,qs)=>{if(!zs.isValid(Ws))throw new Error("invalid scalar at index "+qs)})}const pointPrecomputes$1=new WeakMap,pointWindowSizes$1=new WeakMap;function getW$1(at){return pointWindowSizes$1.get(at)||1}function wNAF$1(at,zs){return{constTimeNegate:constTimeNegate$1,hasPrecomputes(Ws){return getW$1(Ws)!==1},unsafeLadder(Ws,qs,Ys=at.ZERO){let Xs=Ws;for(;qs>_0n$7;)qs&_1n$7&&(Ys=Ys.add(Xs)),Xs=Xs.double(),qs>>=_1n$7;return Ys},precomputeWindow(Ws,qs){const{windows:Ys,windowSize:Xs}=calcWOpts$1(qs,zs),Zs=[];let yl=Ws,Js=yl;for(let $l=0;$l<Ys;$l++){Js=yl,Zs.push(Js);for(let El=1;El<Xs;El++)Js=Js.add(yl),Zs.push(Js);yl=Js.double()}return Zs},wNAF(Ws,qs,Ys){let Xs=at.ZERO,Zs=at.BASE;const yl=calcWOpts$1(Ws,zs);for(let Js=0;Js<yl.windows;Js++){const{nextN:$l,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:Tl}=calcOffsets$1(Ys,Js,yl);Ys=$l,wl?Zs=Zs.add(constTimeNegate$1(Sl,qs[Tl])):Xs=Xs.add(constTimeNegate$1(_l,qs[El]))}return{p:Xs,f:Zs}},wNAFUnsafe(Ws,qs,Ys,Xs=at.ZERO){const Zs=calcWOpts$1(Ws,zs);for(let yl=0;yl<Zs.windows&&Ys!==_0n$7;yl++){const{nextN:Js,offset:$l,isZero:El,isNeg:wl}=calcOffsets$1(Ys,yl,Zs);if(Ys=Js,!El){const _l=qs[$l];Xs=Xs.add(wl?_l.negate():_l)}}return Xs},getPrecomputes(Ws,qs,Ys){let Xs=pointPrecomputes$1.get(qs);return Xs||(Xs=this.precomputeWindow(qs,Ws),Ws!==1&&pointPrecomputes$1.set(qs,Ys(Xs))),Xs},wNAFCached(Ws,qs,Ys){const Xs=getW$1(Ws);return this.wNAF(Xs,this.getPrecomputes(Xs,Ws,Ys),qs)},wNAFCachedUnsafe(Ws,qs,Ys,Xs){const Zs=getW$1(Ws);return Zs===1?this.unsafeLadder(Ws,qs,Xs):this.wNAFUnsafe(Zs,this.getPrecomputes(Zs,Ws,Ys),qs,Xs)},setWindowSize(Ws,qs){validateW$1(qs,zs),pointWindowSizes$1.set(Ws,qs),pointPrecomputes$1.delete(Ws)}}}function pippenger$1(at,zs,Ws,qs){validateMSMPoints$1(Ws,at),validateMSMScalars$1(qs,zs);const Ys=Ws.length,Xs=qs.length;if(Ys!==Xs)throw new Error("arrays of points and scalars must have equal length");const Zs=at.ZERO,yl=bitLen$1(BigInt(Ys));let Js=1;yl>12?Js=yl-3:yl>4?Js=yl-2:yl>0&&(Js=2);const $l=bitMask$1(Js),El=new Array(Number($l)+1).fill(Zs),wl=Math.floor((zs.BITS-1)/Js)*Js;let _l=Zs;for(let Sl=wl;Sl>=0;Sl-=Js){El.fill(Zs);for(let Il=0;Il<Xs;Il++){const Al=qs[Il],xl=Number(Al>>BigInt(Sl)&$l);El[xl]=El[xl].add(Ws[Il])}let Tl=Zs;for(let Il=El.length-1,Al=Zs;Il>0;Il--)Al=Al.add(El[Il]),Tl=Tl.add(Al);if(_l=_l.add(Tl),Sl!==0)for(let Il=0;Il<Js;Il++)_l=_l.double()}return _l}function validateBasic$1(at){return validateField$1(at.Fp),validateObject$1(at,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(at.n,at.nBitLength),...at,p:at.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts$1(at){at.lowS!==void 0&&abool$1("lowS",at.lowS),at.prehash!==void 0&&abool$1("prehash",at.prehash)}function validatePointOpts$1(at){const zs=validateBasic$1(at);validateObject$1(zs,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:Ws,Fp:qs,a:Ys}=zs;if(Ws){if(!qs.eql(Ys,qs.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof Ws!="object"||typeof Ws.beta!="bigint"||typeof Ws.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...zs})}let DERErr$1=class extends Error{constructor(zs=""){super(zs)}};const DER$1={Err:DERErr$1,_tlv:{encode:(at,zs)=>{const{Err:Ws}=DER$1;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length&1)throw new Ws("tlv.encode: unpadded data");const qs=zs.length/2,Ys=numberToHexUnpadded$1(qs);if(Ys.length/2&128)throw new Ws("tlv.encode: long form length too big");const Xs=qs>127?numberToHexUnpadded$1(Ys.length/2|128):"";return numberToHexUnpadded$1(at)+Xs+Ys+zs},decode(at,zs){const{Err:Ws}=DER$1;let qs=0;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length<2||zs[qs++]!==at)throw new Ws("tlv.decode: wrong tlv");const Ys=zs[qs++],Xs=!!(Ys&128);let Zs=0;if(!Xs)Zs=Ys;else{const Js=Ys&127;if(!Js)throw new Ws("tlv.decode(long): indefinite length not supported");if(Js>4)throw new Ws("tlv.decode(long): byte length is too big");const $l=zs.subarray(qs,qs+Js);if($l.length!==Js)throw new Ws("tlv.decode: length bytes not complete");if($l[0]===0)throw new Ws("tlv.decode(long): zero leftmost byte");for(const El of $l)Zs=Zs<<8|El;if(qs+=Js,Zs<128)throw new Ws("tlv.decode(long): not minimal encoding")}const yl=zs.subarray(qs,qs+Zs);if(yl.length!==Zs)throw new Ws("tlv.decode: wrong value length");return{v:yl,l:zs.subarray(qs+Zs)}}},_int:{encode(at){const{Err:zs}=DER$1;if(at<_0n$6)throw new zs("integer: negative integers are not allowed");let Ws=numberToHexUnpadded$1(at);if(Number.parseInt(Ws[0],16)&8&&(Ws="00"+Ws),Ws.length&1)throw new zs("unexpected DER parsing assertion: unpadded hex");return Ws},decode(at){const{Err:zs}=DER$1;if(at[0]&128)throw new zs("invalid signature integer: negative");if(at[0]===0&&!(at[1]&128))throw new zs("invalid signature integer: unnecessary leading zero");return bytesToNumberBE$1(at)}},toSig(at){const{Err:zs,_int:Ws,_tlv:qs}=DER$1,Ys=ensureBytes$1("signature",at),{v:Xs,l:Zs}=qs.decode(48,Ys);if(Zs.length)throw new zs("invalid signature: left bytes after parsing");const{v:yl,l:Js}=qs.decode(2,Xs),{v:$l,l:El}=qs.decode(2,Js);if(El.length)throw new zs("invalid signature: left bytes after parsing");return{r:Ws.decode(yl),s:Ws.decode($l)}},hexFromSig(at){const{_tlv:zs,_int:Ws}=DER$1,qs=zs.encode(2,Ws.encode(at.r)),Ys=zs.encode(2,Ws.encode(at.s)),Xs=qs+Ys;return zs.encode(48,Xs)}};function numToSizedHex$1(at,zs){return bytesToHex$2(numberToBytesBE$1(at,zs))}const _0n$6=BigInt(0),_1n$6=BigInt(1);BigInt(2);const _3n$2=BigInt(3),_4n$2=BigInt(4);function weierstrassPoints$1(at){const zs=validatePointOpts$1(at),{Fp:Ws}=zs,qs=Field$1(zs.n,zs.nBitLength),Ys=zs.toBytes||((Cl,Rl,Ol)=>{const Ml=Rl.toAffine();return concatBytes$2(Uint8Array.from([4]),Ws.toBytes(Ml.x),Ws.toBytes(Ml.y))}),Xs=zs.fromBytes||(Cl=>{const Rl=Cl.subarray(1),Ol=Ws.fromBytes(Rl.subarray(0,Ws.BYTES)),Ml=Ws.fromBytes(Rl.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Ol,y:Ml}});function Zs(Cl){const{a:Rl,b:Ol}=zs,Ml=Ws.sqr(Cl),Ll=Ws.mul(Ml,Cl);return Ws.add(Ws.add(Ll,Ws.mul(Cl,Rl)),Ol)}function yl(Cl,Rl){const Ol=Ws.sqr(Rl),Ml=Zs(Cl);return Ws.eql(Ol,Ml)}if(!yl(zs.Gx,zs.Gy))throw new Error("bad curve params: generator point");const Js=Ws.mul(Ws.pow(zs.a,_3n$2),_4n$2),$l=Ws.mul(Ws.sqr(zs.b),BigInt(27));if(Ws.is0(Ws.add(Js,$l)))throw new Error("bad curve params: a or b");function El(Cl){return inRange$1(Cl,_1n$6,zs.n)}function wl(Cl){const{allowedPrivateKeyLengths:Rl,nByteLength:Ol,wrapPrivateKey:Ml,n:Ll}=zs;if(Rl&&typeof Cl!="bigint"){if(isBytes$2(Cl)&&(Cl=bytesToHex$2(Cl)),typeof Cl!="string"||!Rl.includes(Cl.length))throw new Error("invalid private key");Cl=Cl.padStart(Ol*2,"0")}let Bl;try{Bl=typeof Cl=="bigint"?Cl:bytesToNumberBE$1(ensureBytes$1("private key",Cl,Ol))}catch{throw new Error("invalid private key, expected hex or "+Ol+" bytes, got "+typeof Cl)}return Ml&&(Bl=mod$1(Bl,Ll)),aInRange$1("private key",Bl,_1n$6,Ll),Bl}function _l(Cl){if(!(Cl instanceof Il))throw new Error("ProjectivePoint expected")}const Sl=memoized$1((Cl,Rl)=>{const{px:Ol,py:Ml,pz:Ll}=Cl;if(Ws.eql(Ll,Ws.ONE))return{x:Ol,y:Ml};const Bl=Cl.is0();Rl==null&&(Rl=Bl?Ws.ONE:Ws.inv(Ll));const Wl=Ws.mul(Ol,Rl),Yl=Ws.mul(Ml,Rl),Kl=Ws.mul(Ll,Rl);if(Bl)return{x:Ws.ZERO,y:Ws.ZERO};if(!Ws.eql(Kl,Ws.ONE))throw new Error("invZ was invalid");return{x:Wl,y:Yl}}),Tl=memoized$1(Cl=>{if(Cl.is0()){if(zs.allowInfinityPoint&&!Ws.is0(Cl.py))return;throw new Error("bad point: ZERO")}const{x:Rl,y:Ol}=Cl.toAffine();if(!Ws.isValid(Rl)||!Ws.isValid(Ol))throw new Error("bad point: x or y not FE");if(!yl(Rl,Ol))throw new Error("bad point: equation left != right");if(!Cl.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class Il{constructor(Rl,Ol,Ml){if(Rl==null||!Ws.isValid(Rl))throw new Error("x required");if(Ol==null||!Ws.isValid(Ol)||Ws.is0(Ol))throw new Error("y required");if(Ml==null||!Ws.isValid(Ml))throw new Error("z required");this.px=Rl,this.py=Ol,this.pz=Ml,Object.freeze(this)}static fromAffine(Rl){const{x:Ol,y:Ml}=Rl||{};if(!Rl||!Ws.isValid(Ol)||!Ws.isValid(Ml))throw new Error("invalid affine point");if(Rl instanceof Il)throw new Error("projective point not allowed");const Ll=Bl=>Ws.eql(Bl,Ws.ZERO);return Ll(Ol)&&Ll(Ml)?Il.ZERO:new Il(Ol,Ml,Ws.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Rl){const Ol=FpInvertBatch$1(Ws,Rl.map(Ml=>Ml.pz));return Rl.map((Ml,Ll)=>Ml.toAffine(Ol[Ll])).map(Il.fromAffine)}static fromHex(Rl){const Ol=Il.fromAffine(Xs(ensureBytes$1("pointHex",Rl)));return Ol.assertValidity(),Ol}static fromPrivateKey(Rl){return Il.BASE.multiply(wl(Rl))}static msm(Rl,Ol){return pippenger$1(Il,qs,Rl,Ol)}_setWindowSize(Rl){Pl.setWindowSize(this,Rl)}assertValidity(){Tl(this)}hasEvenY(){const{y:Rl}=this.toAffine();if(Ws.isOdd)return!Ws.isOdd(Rl);throw new Error("Field doesn't support isOdd")}equals(Rl){_l(Rl);const{px:Ol,py:Ml,pz:Ll}=this,{px:Bl,py:Wl,pz:Yl}=Rl,Kl=Ws.eql(Ws.mul(Ol,Yl),Ws.mul(Bl,Ll)),Xl=Ws.eql(Ws.mul(Ml,Yl),Ws.mul(Wl,Ll));return Kl&&Xl}negate(){return new Il(this.px,Ws.neg(this.py),this.pz)}double(){const{a:Rl,b:Ol}=zs,Ml=Ws.mul(Ol,_3n$2),{px:Ll,py:Bl,pz:Wl}=this;let Yl=Ws.ZERO,Kl=Ws.ZERO,Xl=Ws.ZERO,Ul=Ws.mul(Ll,Ll),Vl=Ws.mul(Bl,Bl),Nl=Ws.mul(Wl,Wl),Dl=Ws.mul(Ll,Bl);return Dl=Ws.add(Dl,Dl),Xl=Ws.mul(Ll,Wl),Xl=Ws.add(Xl,Xl),Yl=Ws.mul(Rl,Xl),Kl=Ws.mul(Ml,Nl),Kl=Ws.add(Yl,Kl),Yl=Ws.sub(Vl,Kl),Kl=Ws.add(Vl,Kl),Kl=Ws.mul(Yl,Kl),Yl=Ws.mul(Dl,Yl),Xl=Ws.mul(Ml,Xl),Nl=Ws.mul(Rl,Nl),Dl=Ws.sub(Ul,Nl),Dl=Ws.mul(Rl,Dl),Dl=Ws.add(Dl,Xl),Xl=Ws.add(Ul,Ul),Ul=Ws.add(Xl,Ul),Ul=Ws.add(Ul,Nl),Ul=Ws.mul(Ul,Dl),Kl=Ws.add(Kl,Ul),Nl=Ws.mul(Bl,Wl),Nl=Ws.add(Nl,Nl),Ul=Ws.mul(Nl,Dl),Yl=Ws.sub(Yl,Ul),Xl=Ws.mul(Nl,Vl),Xl=Ws.add(Xl,Xl),Xl=Ws.add(Xl,Xl),new Il(Yl,Kl,Xl)}add(Rl){_l(Rl);const{px:Ol,py:Ml,pz:Ll}=this,{px:Bl,py:Wl,pz:Yl}=Rl;let Kl=Ws.ZERO,Xl=Ws.ZERO,Ul=Ws.ZERO;const Vl=zs.a,Nl=Ws.mul(zs.b,_3n$2);let Dl=Ws.mul(Ol,Bl),Gl=Ws.mul(Ml,Wl),Fl=Ws.mul(Ll,Yl),Hl=Ws.add(Ol,Ml),Zl=Ws.add(Bl,Wl);Hl=Ws.mul(Hl,Zl),Zl=Ws.add(Dl,Gl),Hl=Ws.sub(Hl,Zl),Zl=Ws.add(Ol,Ll);let Su=Ws.add(Bl,Yl);return Zl=Ws.mul(Zl,Su),Su=Ws.add(Dl,Fl),Zl=Ws.sub(Zl,Su),Su=Ws.add(Ml,Ll),Kl=Ws.add(Wl,Yl),Su=Ws.mul(Su,Kl),Kl=Ws.add(Gl,Fl),Su=Ws.sub(Su,Kl),Ul=Ws.mul(Vl,Zl),Kl=Ws.mul(Nl,Fl),Ul=Ws.add(Kl,Ul),Kl=Ws.sub(Gl,Ul),Ul=Ws.add(Gl,Ul),Xl=Ws.mul(Kl,Ul),Gl=Ws.add(Dl,Dl),Gl=Ws.add(Gl,Dl),Fl=Ws.mul(Vl,Fl),Zl=Ws.mul(Nl,Zl),Gl=Ws.add(Gl,Fl),Fl=Ws.sub(Dl,Fl),Fl=Ws.mul(Vl,Fl),Zl=Ws.add(Zl,Fl),Dl=Ws.mul(Gl,Zl),Xl=Ws.add(Xl,Dl),Dl=Ws.mul(Su,Zl),Kl=Ws.mul(Hl,Kl),Kl=Ws.sub(Kl,Dl),Dl=Ws.mul(Hl,Gl),Ul=Ws.mul(Su,Ul),Ul=Ws.add(Ul,Dl),new Il(Kl,Xl,Ul)}subtract(Rl){return this.add(Rl.negate())}is0(){return this.equals(Il.ZERO)}wNAF(Rl){return Pl.wNAFCached(this,Rl,Il.normalizeZ)}multiplyUnsafe(Rl){const{endo:Ol,n:Ml}=zs;aInRange$1("scalar",Rl,_0n$6,Ml);const Ll=Il.ZERO;if(Rl===_0n$6)return Ll;if(this.is0()||Rl===_1n$6)return this;if(!Ol||Pl.hasPrecomputes(this))return Pl.wNAFCachedUnsafe(this,Rl,Il.normalizeZ);let{k1neg:Bl,k1:Wl,k2neg:Yl,k2:Kl}=Ol.splitScalar(Rl),Xl=Ll,Ul=Ll,Vl=this;for(;Wl>_0n$6||Kl>_0n$6;)Wl&_1n$6&&(Xl=Xl.add(Vl)),Kl&_1n$6&&(Ul=Ul.add(Vl)),Vl=Vl.double(),Wl>>=_1n$6,Kl>>=_1n$6;return Bl&&(Xl=Xl.negate()),Yl&&(Ul=Ul.negate()),Ul=new Il(Ws.mul(Ul.px,Ol.beta),Ul.py,Ul.pz),Xl.add(Ul)}multiply(Rl){const{endo:Ol,n:Ml}=zs;aInRange$1("scalar",Rl,_1n$6,Ml);let Ll,Bl;if(Ol){const{k1neg:Wl,k1:Yl,k2neg:Kl,k2:Xl}=Ol.splitScalar(Rl);let{p:Ul,f:Vl}=this.wNAF(Yl),{p:Nl,f:Dl}=this.wNAF(Xl);Ul=Pl.constTimeNegate(Wl,Ul),Nl=Pl.constTimeNegate(Kl,Nl),Nl=new Il(Ws.mul(Nl.px,Ol.beta),Nl.py,Nl.pz),Ll=Ul.add(Nl),Bl=Vl.add(Dl)}else{const{p:Wl,f:Yl}=this.wNAF(Rl);Ll=Wl,Bl=Yl}return Il.normalizeZ([Ll,Bl])[0]}multiplyAndAddUnsafe(Rl,Ol,Ml){const Ll=Il.BASE,Bl=(Yl,Kl)=>Kl===_0n$6||Kl===_1n$6||!Yl.equals(Ll)?Yl.multiplyUnsafe(Kl):Yl.multiply(Kl),Wl=Bl(this,Ol).add(Bl(Rl,Ml));return Wl.is0()?void 0:Wl}toAffine(Rl){return Sl(this,Rl)}isTorsionFree(){const{h:Rl,isTorsionFree:Ol}=zs;if(Rl===_1n$6)return!0;if(Ol)return Ol(Il,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Rl,clearCofactor:Ol}=zs;return Rl===_1n$6?this:Ol?Ol(Il,this):this.multiplyUnsafe(zs.h)}toRawBytes(Rl=!0){return abool$1("isCompressed",Rl),this.assertValidity(),Ys(Il,this,Rl)}toHex(Rl=!0){return abool$1("isCompressed",Rl),bytesToHex$2(this.toRawBytes(Rl))}}Il.BASE=new Il(zs.Gx,zs.Gy,Ws.ONE),Il.ZERO=new Il(Ws.ZERO,Ws.ONE,Ws.ZERO);const{endo:Al,nBitLength:xl}=zs,Pl=wNAF$1(Il,Al?Math.ceil(xl/2):xl);return{CURVE:zs,ProjectivePoint:Il,normPrivateKeyToScalar:wl,weierstrassEquation:Zs,isWithinCurveOrder:El}}function validateOpts$1(at){const zs=validateBasic$1(at);return validateObject$1(zs,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...zs})}function weierstrass$1(at){const zs=validateOpts$1(at),{Fp:Ws,n:qs,nByteLength:Ys,nBitLength:Xs}=zs,Zs=Ws.BYTES+1,yl=2*Ws.BYTES+1;function Js(Nl){return mod$1(Nl,qs)}function $l(Nl){return invert$1(Nl,qs)}const{ProjectivePoint:El,normPrivateKeyToScalar:wl,weierstrassEquation:_l,isWithinCurveOrder:Sl}=weierstrassPoints$1({...zs,toBytes(Nl,Dl,Gl){const Fl=Dl.toAffine(),Hl=Ws.toBytes(Fl.x),Zl=concatBytes$2;return abool$1("isCompressed",Gl),Gl?Zl(Uint8Array.from([Dl.hasEvenY()?2:3]),Hl):Zl(Uint8Array.from([4]),Hl,Ws.toBytes(Fl.y))},fromBytes(Nl){const Dl=Nl.length,Gl=Nl[0],Fl=Nl.subarray(1);if(Dl===Zs&&(Gl===2||Gl===3)){const Hl=bytesToNumberBE$1(Fl);if(!inRange$1(Hl,_1n$6,Ws.ORDER))throw new Error("Point is not on curve");const Zl=_l(Hl);let Su;try{Su=Ws.sqrt(Zl)}catch(ku){const Tu=ku instanceof Error?": "+ku.message:"";throw new Error("Point is not on curve"+Tu)}const $u=(Su&_1n$6)===_1n$6;return(Gl&1)===1!==$u&&(Su=Ws.neg(Su)),{x:Hl,y:Su}}else if(Dl===yl&&Gl===4){const Hl=Ws.fromBytes(Fl.subarray(0,Ws.BYTES)),Zl=Ws.fromBytes(Fl.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Hl,y:Zl}}else{const Hl=Zs,Zl=yl;throw new Error("invalid Point, expected length of "+Hl+", or uncompressed "+Zl+", got "+Dl)}}});function Tl(Nl){const Dl=qs>>_1n$6;return Nl>Dl}function Il(Nl){return Tl(Nl)?Js(-Nl):Nl}const Al=(Nl,Dl,Gl)=>bytesToNumberBE$1(Nl.slice(Dl,Gl));class xl{constructor(Dl,Gl,Fl){aInRange$1("r",Dl,_1n$6,qs),aInRange$1("s",Gl,_1n$6,qs),this.r=Dl,this.s=Gl,Fl!=null&&(this.recovery=Fl),Object.freeze(this)}static fromCompact(Dl){const Gl=Ys;return Dl=ensureBytes$1("compactSignature",Dl,Gl*2),new xl(Al(Dl,0,Gl),Al(Dl,Gl,2*Gl))}static fromDER(Dl){const{r:Gl,s:Fl}=DER$1.toSig(ensureBytes$1("DER",Dl));return new xl(Gl,Fl)}assertValidity(){}addRecoveryBit(Dl){return new xl(this.r,this.s,Dl)}recoverPublicKey(Dl){const{r:Gl,s:Fl,recovery:Hl}=this,Zl=Ll(ensureBytes$1("msgHash",Dl));if(Hl==null||![0,1,2,3].includes(Hl))throw new Error("recovery id invalid");const Su=Hl===2||Hl===3?Gl+zs.n:Gl;if(Su>=Ws.ORDER)throw new Error("recovery id 2 or 3 invalid");const $u=Hl&1?"03":"02",Pu=El.fromHex($u+numToSizedHex$1(Su,Ws.BYTES)),ku=$l(Su),Tu=Js(-Zl*ku),Ru=Js(Fl*ku),Mu=El.BASE.multiplyAndAddUnsafe(Pu,Tu,Ru);if(!Mu)throw new Error("point at infinify");return Mu.assertValidity(),Mu}hasHighS(){return Tl(this.s)}normalizeS(){return this.hasHighS()?new xl(this.r,Js(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$2(this.toDERHex())}toDERHex(){return DER$1.hexFromSig(this)}toCompactRawBytes(){return hexToBytes$2(this.toCompactHex())}toCompactHex(){const Dl=Ys;return numToSizedHex$1(this.r,Dl)+numToSizedHex$1(this.s,Dl)}}const Pl={isValidPrivateKey(Nl){try{return wl(Nl),!0}catch{return!1}},normPrivateKeyToScalar:wl,randomPrivateKey:()=>{const Nl=getMinHashLength$1(zs.n);return mapHashToField$1(zs.randomBytes(Nl),zs.n)},precompute(Nl=8,Dl=El.BASE){return Dl._setWindowSize(Nl),Dl.multiply(BigInt(3)),Dl}};function Cl(Nl,Dl=!0){return El.fromPrivateKey(Nl).toRawBytes(Dl)}function Rl(Nl){if(typeof Nl=="bigint")return!1;if(Nl instanceof El)return!0;const Gl=ensureBytes$1("key",Nl).length,Fl=Ws.BYTES,Hl=Fl+1,Zl=2*Fl+1;if(!(zs.allowedPrivateKeyLengths||Ys===Hl))return Gl===Hl||Gl===Zl}function Ol(Nl,Dl,Gl=!0){if(Rl(Nl)===!0)throw new Error("first arg must be private key");if(Rl(Dl)===!1)throw new Error("second arg must be public key");return El.fromHex(Dl).multiply(wl(Nl)).toRawBytes(Gl)}const Ml=zs.bits2int||function(Nl){if(Nl.length>8192)throw new Error("input is too large");const Dl=bytesToNumberBE$1(Nl),Gl=Nl.length*8-Xs;return Gl>0?Dl>>BigInt(Gl):Dl},Ll=zs.bits2int_modN||function(Nl){return Js(Ml(Nl))},Bl=bitMask$1(Xs);function Wl(Nl){return aInRange$1("num < 2^"+Xs,Nl,_0n$6,Bl),numberToBytesBE$1(Nl,Ys)}function Yl(Nl,Dl,Gl=Kl){if(["recovered","canonical"].some(Ku=>Ku in Gl))throw new Error("sign() legacy options not supported");const{hash:Fl,randomBytes:Hl}=zs;let{lowS:Zl,prehash:Su,extraEntropy:$u}=Gl;Zl==null&&(Zl=!0),Nl=ensureBytes$1("msgHash",Nl),validateSigVerOpts$1(Gl),Su&&(Nl=ensureBytes$1("prehashed msgHash",Fl(Nl)));const Pu=Ll(Nl),ku=wl(Dl),Tu=[Wl(ku),Wl(Pu)];if($u!=null&&$u!==!1){const Ku=$u===!0?Hl(Ws.BYTES):$u;Tu.push(ensureBytes$1("extraEntropy",Ku))}const Ru=concatBytes$2(...Tu),Mu=Pu;function Hu(Ku){const Fu=Ml(Ku);if(!Sl(Fu))return;const ju=$l(Fu),qu=El.BASE.multiply(Fu).toAffine(),Zu=Js(qu.x);if(Zu===_0n$6)return;const _d=Js(ju*Js(Mu+Zu*ku));if(_d===_0n$6)return;let vp=(qu.x===Zu?0:2)|Number(qu.y&_1n$6),Ap=_d;return Zl&&Tl(_d)&&(Ap=Il(_d),vp^=1),new xl(Zu,Ap,vp)}return{seed:Ru,k2sig:Hu}}const Kl={lowS:zs.lowS,prehash:!1},Xl={lowS:zs.lowS,prehash:!1};function Ul(Nl,Dl,Gl=Kl){const{seed:Fl,k2sig:Hl}=Yl(Nl,Dl,Gl),Zl=zs;return createHmacDrbg$1(Zl.hash.outputLen,Zl.nByteLength,Zl.hmac)(Fl,Hl)}El.BASE._setWindowSize(8);function Vl(Nl,Dl,Gl,Fl=Xl){var vp;const Hl=Nl;Dl=ensureBytes$1("msgHash",Dl),Gl=ensureBytes$1("publicKey",Gl);const{lowS:Zl,prehash:Su,format:$u}=Fl;if(validateSigVerOpts$1(Fl),"strict"in Fl)throw new Error("options.strict was renamed to lowS");if($u!==void 0&&$u!=="compact"&&$u!=="der")throw new Error("format must be compact or der");const Pu=typeof Hl=="string"||isBytes$2(Hl),ku=!Pu&&!$u&&typeof Hl=="object"&&Hl!==null&&typeof Hl.r=="bigint"&&typeof Hl.s=="bigint";if(!Pu&&!ku)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Tu,Ru;try{if(ku&&(Tu=new xl(Hl.r,Hl.s)),Pu){try{$u!=="compact"&&(Tu=xl.fromDER(Hl))}catch(Ap){if(!(Ap instanceof DER$1.Err))throw Ap}!Tu&&$u!=="der"&&(Tu=xl.fromCompact(Hl))}Ru=El.fromHex(Gl)}catch{return!1}if(!Tu||Zl&&Tu.hasHighS())return!1;Su&&(Dl=zs.hash(Dl));const{r:Mu,s:Hu}=Tu,Ku=Ll(Dl),Fu=$l(Hu),ju=Js(Ku*Fu),qu=Js(Mu*Fu),Zu=(vp=El.BASE.multiplyAndAddUnsafe(Ru,ju,qu))==null?void 0:vp.toAffine();return Zu?Js(Zu.x)===Mu:!1}return{CURVE:zs,getPublicKey:Cl,getSharedSecret:Ol,sign:Ul,verify:Vl,ProjectivePoint:El,Signature:xl,utils:Pl}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(at){return{hash:at,hmac:(zs,...Ws)=>hmac$1(at,zs,concatBytes$6(...Ws)),randomBytes:randomBytes$1}}function createCurve$1(at,zs){const Ws=qs=>weierstrass$1({...at,...getHash$1(qs)});return{...Ws(zs),create:Ws}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_0n$5=BigInt(0),_1n$5=BigInt(1),_2n$2=BigInt(2),divNearest$1=(at,zs)=>(at+zs/_2n$2)/zs;function sqrtMod$1(at){const zs=secp256k1P$1,Ws=BigInt(3),qs=BigInt(6),Ys=BigInt(11),Xs=BigInt(22),Zs=BigInt(23),yl=BigInt(44),Js=BigInt(88),$l=at*at*at%zs,El=$l*$l*at%zs,wl=pow2$1(El,Ws,zs)*El%zs,_l=pow2$1(wl,Ws,zs)*El%zs,Sl=pow2$1(_l,_2n$2,zs)*$l%zs,Tl=pow2$1(Sl,Ys,zs)*Sl%zs,Il=pow2$1(Tl,Xs,zs)*Tl%zs,Al=pow2$1(Il,yl,zs)*Il%zs,xl=pow2$1(Al,Js,zs)*Al%zs,Pl=pow2$1(xl,yl,zs)*Il%zs,Cl=pow2$1(Pl,Ws,zs)*El%zs,Rl=pow2$1(Cl,Zs,zs)*Tl%zs,Ol=pow2$1(Rl,qs,zs)*$l%zs,Ml=pow2$1(Ol,_2n$2,zs);if(!Fpk1$1.eql(Fpk1$1.sqr(Ml),at))throw new Error("Cannot find square root");return Ml}const Fpk1$1=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$2=createCurve$1({a:_0n$5,b:BigInt(7),Fp:Fpk1$1,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:at=>{const zs=secp256k1N$1,Ws=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),qs=-_1n$5*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Ys=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Xs=Ws,Zs=BigInt("0x100000000000000000000000000000000"),yl=divNearest$1(Xs*at,zs),Js=divNearest$1(-qs*at,zs);let $l=mod$1(at-yl*Ws-Js*Ys,zs),El=mod$1(-yl*qs-Js*Xs,zs);const wl=$l>Zs,_l=El>Zs;if(wl&&($l=zs-$l),_l&&(El=zs-El),$l>Zs||El>Zs)throw new Error("splitScalar: Endomorphism failed, k="+at);return{k1neg:wl,k1:$l,k2neg:_l,k2:El}}}},sha256$3);function fromHex(at){if(at.length!==130&&at.length!==132)throw new InvalidSerializedSizeError({signature:at});const zs=BigInt(slice(at,0,32)),Ws=BigInt(slice(at,32,64)),qs=(()=>{const Ys=+`0x${at.slice(130)}`;if(!Number.isNaN(Ys))try{return vToYParity(Ys)}catch{throw new InvalidYParityError({value:Ys})}})();return typeof qs>"u"?{r:zs,s:Ws}:{r:zs,s:Ws,yParity:qs}}function vToYParity(at){if(at===0||at===27)return 0;if(at===1||at===28)return 1;if(at>=35)return at%2===0?1:0;throw new InvalidVError({value:at})}class InvalidSerializedSizeError extends BaseError$1{constructor({signature:zs}){super(`Value \`${zs}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${size$2(from$4(zs))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class InvalidYParityError extends BaseError$1{constructor({value:zs}){super(`Value \`${zs}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class InvalidVError extends BaseError$1{constructor({value:zs}){super(`Value \`${zs}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$1(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function isArrayOf(at,zs){return Array.isArray(zs)?zs.length===0?!0:at?zs.every(Ws=>typeof Ws=="string"):zs.every(Ws=>Number.isSafeInteger(Ws)):!1}function astr(at,zs){if(typeof zs!="string")throw new Error(`${at}: string expected`);return!0}function anumber(at){if(!Number.isSafeInteger(at))throw new Error(`invalid integer: ${at}`)}function aArr(at){if(!Array.isArray(at))throw new Error("array expected")}function astrArr(at,zs){if(!isArrayOf(!0,zs))throw new Error(`${at}: array of strings expected`)}function anumArr(at,zs){if(!isArrayOf(!1,zs))throw new Error(`${at}: array of numbers expected`)}function chain(...at){const zs=Xs=>Xs,Ws=(Xs,Zs)=>yl=>Xs(Zs(yl)),qs=at.map(Xs=>Xs.encode).reduceRight(Ws,zs),Ys=at.map(Xs=>Xs.decode).reduce(Ws,zs);return{encode:qs,decode:Ys}}function alphabet$1(at){const zs=typeof at=="string"?at.split(""):at,Ws=zs.length;astrArr("alphabet",zs);const qs=new Map(zs.map((Ys,Xs)=>[Ys,Xs]));return{encode:Ys=>(aArr(Ys),Ys.map(Xs=>{if(!Number.isSafeInteger(Xs)||Xs<0||Xs>=Ws)throw new Error(`alphabet.encode: digit index outside alphabet "${Xs}". Allowed: ${at}`);return zs[Xs]})),decode:Ys=>(aArr(Ys),Ys.map(Xs=>{astr("alphabet.decode",Xs);const Zs=qs.get(Xs);if(Zs===void 0)throw new Error(`Unknown letter: "${Xs}". Allowed: ${at}`);return Zs}))}}function join(at=""){return astr("join",at),{encode:zs=>(astrArr("join.decode",zs),zs.join(at)),decode:zs=>(astr("join.decode",zs),zs.split(at))}}function padding(at,zs="="){return anumber(at),astr("padding",zs),{encode(Ws){for(astrArr("padding.encode",Ws);Ws.length*at%8;)Ws.push(zs);return Ws},decode(Ws){astrArr("padding.decode",Ws);let qs=Ws.length;if(qs*at%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;qs>0&&Ws[qs-1]===zs;qs--)if((qs-1)*at%8===0)throw new Error("padding: invalid, string has too much padding");return Ws.slice(0,qs)}}}const gcd=(at,zs)=>zs===0?at:gcd(zs,at%zs),radix2carry=(at,zs)=>at+(zs-gcd(at,zs)),powers=(()=>{let at=[];for(let zs=0;zs<40;zs++)at.push(2**zs);return at})();function convertRadix2(at,zs,Ws,qs){if(aArr(at),zs<=0||zs>32)throw new Error(`convertRadix2: wrong from=${zs}`);if(Ws<=0||Ws>32)throw new Error(`convertRadix2: wrong to=${Ws}`);if(radix2carry(zs,Ws)>32)throw new Error(`convertRadix2: carry overflow from=${zs} to=${Ws} carryBits=${radix2carry(zs,Ws)}`);let Ys=0,Xs=0;const Zs=powers[zs],yl=powers[Ws]-1,Js=[];for(const $l of at){if(anumber($l),$l>=Zs)throw new Error(`convertRadix2: invalid data word=${$l} from=${zs}`);if(Ys=Ys<<zs|$l,Xs+zs>32)throw new Error(`convertRadix2: carry overflow pos=${Xs} from=${zs}`);for(Xs+=zs;Xs>=Ws;Xs-=Ws)Js.push((Ys>>Xs-Ws&yl)>>>0);const El=powers[Xs];if(El===void 0)throw new Error("invalid carry");Ys&=El-1}if(Ys=Ys<<Ws-Xs&yl,!qs&&Xs>=zs)throw new Error("Excess padding");if(!qs&&Ys>0)throw new Error(`Non-zero padding: ${Ys}`);return qs&&Xs>0&&Js.push(Ys>>>0),Js}function radix2(at,zs=!1){if(anumber(at),at<=0||at>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,at)>32||radix2carry(at,8)>32)throw new Error("radix2: carry overflow");return{encode:Ws=>{if(!isBytes$1(Ws))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(Ws),8,at,!zs)},decode:Ws=>(anumArr("radix2.decode",Ws),Uint8Array.from(convertRadix2(Ws,at,8,zs)))}}const base32$2=chain(radix2(5),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));function recoverAddress(at){return fromPublicKey(recoverPublicKey$1(at))}function recoverPublicKey$1(at){const{payload:zs,signature:Ws}=at,{r:qs,s:Ys,yParity:Xs}=Ws,yl=new secp256k1$2.Signature(BigInt(qs),BigInt(Ys)).addRecoveryBit(Xs).recoverPublicKey(from$4(zs).substring(2));return from$2(yl)}function utf8Count(at){const zs=at.length;let Ws=0,qs=0;for(;qs<zs;){let Ys=at.charCodeAt(qs++);if(Ys&4294967168)if(!(Ys&4294965248))Ws+=2;else{if(Ys>=55296&&Ys<=56319&&qs<zs){const Xs=at.charCodeAt(qs);(Xs&64512)===56320&&(++qs,Ys=((Ys&1023)<<10)+(Xs&1023)+65536)}Ys&4294901760?Ws+=4:Ws+=3}else{Ws++;continue}}return Ws}function utf8EncodeJs(at,zs,Ws){const qs=at.length;let Ys=Ws,Xs=0;for(;Xs<qs;){let Zs=at.charCodeAt(Xs++);if(Zs&4294967168)if(!(Zs&4294965248))zs[Ys++]=Zs>>6&31|192;else{if(Zs>=55296&&Zs<=56319&&Xs<qs){const yl=at.charCodeAt(Xs);(yl&64512)===56320&&(++Xs,Zs=((Zs&1023)<<10)+(yl&1023)+65536)}Zs&4294901760?(zs[Ys++]=Zs>>18&7|240,zs[Ys++]=Zs>>12&63|128,zs[Ys++]=Zs>>6&63|128):(zs[Ys++]=Zs>>12&15|224,zs[Ys++]=Zs>>6&63|128)}else{zs[Ys++]=Zs;continue}zs[Ys++]=Zs&63|128}}const sharedTextEncoder=new TextEncoder,TEXT_ENCODER_THRESHOLD=50;function utf8EncodeTE(at,zs,Ws){sharedTextEncoder.encodeInto(at,zs.subarray(Ws))}function utf8Encode(at,zs,Ws){at.length>TEXT_ENCODER_THRESHOLD?utf8EncodeTE(at,zs,Ws):utf8EncodeJs(at,zs,Ws)}const CHUNK_SIZE=4096;function utf8DecodeJs(at,zs,Ws){let qs=zs;const Ys=qs+Ws,Xs=[];let Zs="";for(;qs<Ys;){const yl=at[qs++];if(!(yl&128))Xs.push(yl);else if((yl&224)===192){const Js=at[qs++]&63;Xs.push((yl&31)<<6|Js)}else if((yl&240)===224){const Js=at[qs++]&63,$l=at[qs++]&63;Xs.push((yl&31)<<12|Js<<6|$l)}else if((yl&248)===240){const Js=at[qs++]&63,$l=at[qs++]&63,El=at[qs++]&63;let wl=(yl&7)<<18|Js<<12|$l<<6|El;wl>65535&&(wl-=65536,Xs.push(wl>>>10&1023|55296),wl=56320|wl&1023),Xs.push(wl)}else Xs.push(yl);Xs.length>=CHUNK_SIZE&&(Zs+=String.fromCharCode(...Xs),Xs.length=0)}return Xs.length>0&&(Zs+=String.fromCharCode(...Xs)),Zs}const sharedTextDecoder=new TextDecoder,TEXT_DECODER_THRESHOLD=200;function utf8DecodeTD(at,zs,Ws){const qs=at.subarray(zs,zs+Ws);return sharedTextDecoder.decode(qs)}function utf8Decode(at,zs,Ws){return Ws>TEXT_DECODER_THRESHOLD?utf8DecodeTD(at,zs,Ws):utf8DecodeJs(at,zs,Ws)}class ExtData{constructor(zs,Ws){this.type=zs,this.data=Ws}}class DecodeError extends Error{constructor(zs){super(zs);const Ws=Object.create(DecodeError.prototype);Object.setPrototypeOf(this,Ws),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:DecodeError.name})}}const UINT32_MAX=4294967295;function setUint64(at,zs,Ws){const qs=Ws/4294967296,Ys=Ws;at.setUint32(zs,qs),at.setUint32(zs+4,Ys)}function setInt64(at,zs,Ws){const qs=Math.floor(Ws/4294967296),Ys=Ws;at.setUint32(zs,qs),at.setUint32(zs+4,Ys)}function getInt64(at,zs){const Ws=at.getInt32(zs),qs=at.getUint32(zs+4);return Ws*4294967296+qs}function getUint64(at,zs){const Ws=at.getUint32(zs),qs=at.getUint32(zs+4);return Ws*4294967296+qs}const EXT_TIMESTAMP=-1,TIMESTAMP32_MAX_SEC=4294967296-1,TIMESTAMP64_MAX_SEC=17179869184-1;function encodeTimeSpecToTimestamp({sec:at,nsec:zs}){if(at>=0&&zs>=0&&at<=TIMESTAMP64_MAX_SEC)if(zs===0&&at<=TIMESTAMP32_MAX_SEC){const Ws=new Uint8Array(4);return new DataView(Ws.buffer).setUint32(0,at),Ws}else{const Ws=at/4294967296,qs=at&4294967295,Ys=new Uint8Array(8),Xs=new DataView(Ys.buffer);return Xs.setUint32(0,zs<<2|Ws&3),Xs.setUint32(4,qs),Ys}else{const Ws=new Uint8Array(12),qs=new DataView(Ws.buffer);return qs.setUint32(0,zs),setInt64(qs,4,at),Ws}}function encodeDateToTimeSpec(at){const zs=at.getTime(),Ws=Math.floor(zs/1e3),qs=(zs-Ws*1e3)*1e6,Ys=Math.floor(qs/1e9);return{sec:Ws+Ys,nsec:qs-Ys*1e9}}function encodeTimestampExtension(at){if(at instanceof Date){const zs=encodeDateToTimeSpec(at);return encodeTimeSpecToTimestamp(zs)}else return null}function decodeTimestampToTimeSpec(at){const zs=new DataView(at.buffer,at.byteOffset,at.byteLength);switch(at.byteLength){case 4:return{sec:zs.getUint32(0),nsec:0};case 8:{const Ws=zs.getUint32(0),qs=zs.getUint32(4),Ys=(Ws&3)*4294967296+qs,Xs=Ws>>>2;return{sec:Ys,nsec:Xs}}case 12:{const Ws=getInt64(zs,4),qs=zs.getUint32(0);return{sec:Ws,nsec:qs}}default:throw new DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${at.length}`)}}function decodeTimestampExtension(at){const zs=decodeTimestampToTimeSpec(at);return new Date(zs.sec*1e3+zs.nsec/1e6)}const timestampExtension={type:EXT_TIMESTAMP,encode:encodeTimestampExtension,decode:decodeTimestampExtension};class ExtensionCodec{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(timestampExtension)}register({type:zs,encode:Ws,decode:qs}){if(zs>=0)this.encoders[zs]=Ws,this.decoders[zs]=qs;else{const Ys=-1-zs;this.builtInEncoders[Ys]=Ws,this.builtInDecoders[Ys]=qs}}tryToEncode(zs,Ws){for(let qs=0;qs<this.builtInEncoders.length;qs++){const Ys=this.builtInEncoders[qs];if(Ys!=null){const Xs=Ys(zs,Ws);if(Xs!=null){const Zs=-1-qs;return new ExtData(Zs,Xs)}}}for(let qs=0;qs<this.encoders.length;qs++){const Ys=this.encoders[qs];if(Ys!=null){const Xs=Ys(zs,Ws);if(Xs!=null){const Zs=qs;return new ExtData(Zs,Xs)}}}return zs instanceof ExtData?zs:null}decode(zs,Ws,qs){const Ys=Ws<0?this.builtInDecoders[-1-Ws]:this.decoders[Ws];return Ys?Ys(zs,Ws,qs):new ExtData(Ws,zs)}}ExtensionCodec.defaultCodec=new ExtensionCodec;function isArrayBufferLike(at){return at instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&at instanceof SharedArrayBuffer}function ensureUint8Array(at){return at instanceof Uint8Array?at:ArrayBuffer.isView(at)?new Uint8Array(at.buffer,at.byteOffset,at.byteLength):isArrayBufferLike(at)?new Uint8Array(at):Uint8Array.from(at)}const DEFAULT_MAX_DEPTH=100,DEFAULT_INITIAL_BUFFER_SIZE=2048;let Encoder$1=class h0{constructor(zs){this.entered=!1,this.extensionCodec=(zs==null?void 0:zs.extensionCodec)??ExtensionCodec.defaultCodec,this.context=zs==null?void 0:zs.context,this.useBigInt64=(zs==null?void 0:zs.useBigInt64)??!1,this.maxDepth=(zs==null?void 0:zs.maxDepth)??DEFAULT_MAX_DEPTH,this.initialBufferSize=(zs==null?void 0:zs.initialBufferSize)??DEFAULT_INITIAL_BUFFER_SIZE,this.sortKeys=(zs==null?void 0:zs.sortKeys)??!1,this.forceFloat32=(zs==null?void 0:zs.forceFloat32)??!1,this.ignoreUndefined=(zs==null?void 0:zs.ignoreUndefined)??!1,this.forceIntegerToFloat=(zs==null?void 0:zs.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new h0({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(zs){if(this.entered)return this.clone().encodeSharedRef(zs);try{return this.entered=!0,this.reinitializeState(),this.doEncode(zs,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(zs){if(this.entered)return this.clone().encode(zs);try{return this.entered=!0,this.reinitializeState(),this.doEncode(zs,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(zs,Ws){if(Ws>this.maxDepth)throw new Error(`Too deep objects in depth ${Ws}`);zs==null?this.encodeNil():typeof zs=="boolean"?this.encodeBoolean(zs):typeof zs=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(zs):this.encodeNumber(zs):typeof zs=="string"?this.encodeString(zs):this.useBigInt64&&typeof zs=="bigint"?this.encodeBigInt64(zs):this.encodeObject(zs,Ws)}ensureBufferSizeToWrite(zs){const Ws=this.pos+zs;this.view.byteLength<Ws&&this.resizeBuffer(Ws*2)}resizeBuffer(zs){const Ws=new ArrayBuffer(zs),qs=new Uint8Array(Ws),Ys=new DataView(Ws);qs.set(this.bytes),this.view=Ys,this.bytes=qs}encodeNil(){this.writeU8(192)}encodeBoolean(zs){zs===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(zs){!this.forceIntegerToFloat&&Number.isSafeInteger(zs)?zs>=0?zs<128?this.writeU8(zs):zs<256?(this.writeU8(204),this.writeU8(zs)):zs<65536?(this.writeU8(205),this.writeU16(zs)):zs<4294967296?(this.writeU8(206),this.writeU32(zs)):this.useBigInt64?this.encodeNumberAsFloat(zs):(this.writeU8(207),this.writeU64(zs)):zs>=-32?this.writeU8(224|zs+32):zs>=-128?(this.writeU8(208),this.writeI8(zs)):zs>=-32768?(this.writeU8(209),this.writeI16(zs)):zs>=-2147483648?(this.writeU8(210),this.writeI32(zs)):this.useBigInt64?this.encodeNumberAsFloat(zs):(this.writeU8(211),this.writeI64(zs)):this.encodeNumberAsFloat(zs)}encodeNumberAsFloat(zs){this.forceFloat32?(this.writeU8(202),this.writeF32(zs)):(this.writeU8(203),this.writeF64(zs))}encodeBigInt64(zs){zs>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(zs)):(this.writeU8(211),this.writeBigInt64(zs))}writeStringHeader(zs){if(zs<32)this.writeU8(160+zs);else if(zs<256)this.writeU8(217),this.writeU8(zs);else if(zs<65536)this.writeU8(218),this.writeU16(zs);else if(zs<4294967296)this.writeU8(219),this.writeU32(zs);else throw new Error(`Too long string: ${zs} bytes in UTF-8`)}encodeString(zs){const qs=utf8Count(zs);this.ensureBufferSizeToWrite(5+qs),this.writeStringHeader(qs),utf8Encode(zs,this.bytes,this.pos),this.pos+=qs}encodeObject(zs,Ws){const qs=this.extensionCodec.tryToEncode(zs,this.context);if(qs!=null)this.encodeExtension(qs);else if(Array.isArray(zs))this.encodeArray(zs,Ws);else if(ArrayBuffer.isView(zs))this.encodeBinary(zs);else if(typeof zs=="object")this.encodeMap(zs,Ws);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(zs)}`)}encodeBinary(zs){const Ws=zs.byteLength;if(Ws<256)this.writeU8(196),this.writeU8(Ws);else if(Ws<65536)this.writeU8(197),this.writeU16(Ws);else if(Ws<4294967296)this.writeU8(198),this.writeU32(Ws);else throw new Error(`Too large binary: ${Ws}`);const qs=ensureUint8Array(zs);this.writeU8a(qs)}encodeArray(zs,Ws){const qs=zs.length;if(qs<16)this.writeU8(144+qs);else if(qs<65536)this.writeU8(220),this.writeU16(qs);else if(qs<4294967296)this.writeU8(221),this.writeU32(qs);else throw new Error(`Too large array: ${qs}`);for(const Ys of zs)this.doEncode(Ys,Ws+1)}countWithoutUndefined(zs,Ws){let qs=0;for(const Ys of Ws)zs[Ys]!==void 0&&qs++;return qs}encodeMap(zs,Ws){const qs=Object.keys(zs);this.sortKeys&&qs.sort();const Ys=this.ignoreUndefined?this.countWithoutUndefined(zs,qs):qs.length;if(Ys<16)this.writeU8(128+Ys);else if(Ys<65536)this.writeU8(222),this.writeU16(Ys);else if(Ys<4294967296)this.writeU8(223),this.writeU32(Ys);else throw new Error(`Too large map object: ${Ys}`);for(const Xs of qs){const Zs=zs[Xs];this.ignoreUndefined&&Zs===void 0||(this.encodeString(Xs),this.doEncode(Zs,Ws+1))}}encodeExtension(zs){if(typeof zs.data=="function"){const qs=zs.data(this.pos+6),Ys=qs.length;if(Ys>=4294967296)throw new Error(`Too large extension object: ${Ys}`);this.writeU8(201),this.writeU32(Ys),this.writeI8(zs.type),this.writeU8a(qs);return}const Ws=zs.data.length;if(Ws===1)this.writeU8(212);else if(Ws===2)this.writeU8(213);else if(Ws===4)this.writeU8(214);else if(Ws===8)this.writeU8(215);else if(Ws===16)this.writeU8(216);else if(Ws<256)this.writeU8(199),this.writeU8(Ws);else if(Ws<65536)this.writeU8(200),this.writeU16(Ws);else if(Ws<4294967296)this.writeU8(201),this.writeU32(Ws);else throw new Error(`Too large extension object: ${Ws}`);this.writeI8(zs.type),this.writeU8a(zs.data)}writeU8(zs){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,zs),this.pos++}writeU8a(zs){const Ws=zs.length;this.ensureBufferSizeToWrite(Ws),this.bytes.set(zs,this.pos),this.pos+=Ws}writeI8(zs){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,zs),this.pos++}writeU16(zs){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,zs),this.pos+=2}writeI16(zs){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,zs),this.pos+=2}writeU32(zs){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,zs),this.pos+=4}writeI32(zs){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,zs),this.pos+=4}writeF32(zs){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,zs),this.pos+=4}writeF64(zs){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,zs),this.pos+=8}writeU64(zs){this.ensureBufferSizeToWrite(8),setUint64(this.view,this.pos,zs),this.pos+=8}writeI64(zs){this.ensureBufferSizeToWrite(8),setInt64(this.view,this.pos,zs),this.pos+=8}writeBigUint64(zs){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,zs),this.pos+=8}writeBigInt64(zs){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,zs),this.pos+=8}};function encode$2(at,zs){return new Encoder$1(zs).encodeSharedRef(at)}function prettyByte(at){return`${at<0?"-":""}0x${Math.abs(at).toString(16).padStart(2,"0")}`}const DEFAULT_MAX_KEY_LENGTH=16,DEFAULT_MAX_LENGTH_PER_KEY=16;class CachedKeyDecoder{constructor(zs=DEFAULT_MAX_KEY_LENGTH,Ws=DEFAULT_MAX_LENGTH_PER_KEY){this.hit=0,this.miss=0,this.maxKeyLength=zs,this.maxLengthPerKey=Ws,this.caches=[];for(let qs=0;qs<this.maxKeyLength;qs++)this.caches.push([])}canBeCached(zs){return zs>0&&zs<=this.maxKeyLength}find(zs,Ws,qs){const Ys=this.caches[qs-1];e:for(const Xs of Ys){const Zs=Xs.bytes;for(let yl=0;yl<qs;yl++)if(Zs[yl]!==zs[Ws+yl])continue e;return Xs.str}return null}store(zs,Ws){const qs=this.caches[zs.length-1],Ys={bytes:zs,str:Ws};qs.length>=this.maxLengthPerKey?qs[Math.random()*qs.length|0]=Ys:qs.push(Ys)}decode(zs,Ws,qs){const Ys=this.find(zs,Ws,qs);if(Ys!=null)return this.hit++,Ys;this.miss++;const Xs=utf8DecodeJs(zs,Ws,qs),Zs=Uint8Array.prototype.slice.call(zs,Ws,Ws+qs);return this.store(Zs,Xs),Xs}}const STATE_ARRAY="array",STATE_MAP_KEY="map_key",STATE_MAP_VALUE="map_value",mapKeyConverter=at=>{if(typeof at=="string"||typeof at=="number")return at;throw new DecodeError("The type of key must be string or number but "+typeof at)};class StackPool{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(zs){const Ws=this.getUninitializedStateFromPool();Ws.type=STATE_ARRAY,Ws.position=0,Ws.size=zs,Ws.array=new Array(zs)}pushMapState(zs){const Ws=this.getUninitializedStateFromPool();Ws.type=STATE_MAP_KEY,Ws.readCount=0,Ws.size=zs,Ws.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const zs={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(zs)}return this.stack[this.stackHeadPosition]}release(zs){if(this.stack[this.stackHeadPosition]!==zs)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(zs.type===STATE_ARRAY){const qs=zs;qs.size=0,qs.array=void 0,qs.position=0,qs.type=void 0}if(zs.type===STATE_MAP_KEY||zs.type===STATE_MAP_VALUE){const qs=zs;qs.size=0,qs.map=void 0,qs.readCount=0,qs.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const HEAD_BYTE_REQUIRED=-1,EMPTY_VIEW=new DataView(new ArrayBuffer(0)),EMPTY_BYTES=new Uint8Array(EMPTY_VIEW.buffer);try{EMPTY_VIEW.getInt8(0)}catch(at){if(!(at instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const MORE_DATA=new RangeError("Insufficient data"),sharedCachedKeyDecoder=new CachedKeyDecoder;let Decoder$1=class p0{constructor(zs){this.totalPos=0,this.pos=0,this.view=EMPTY_VIEW,this.bytes=EMPTY_BYTES,this.headByte=HEAD_BYTE_REQUIRED,this.stack=new StackPool,this.entered=!1,this.extensionCodec=(zs==null?void 0:zs.extensionCodec)??ExtensionCodec.defaultCodec,this.context=zs==null?void 0:zs.context,this.useBigInt64=(zs==null?void 0:zs.useBigInt64)??!1,this.rawStrings=(zs==null?void 0:zs.rawStrings)??!1,this.maxStrLength=(zs==null?void 0:zs.maxStrLength)??UINT32_MAX,this.maxBinLength=(zs==null?void 0:zs.maxBinLength)??UINT32_MAX,this.maxArrayLength=(zs==null?void 0:zs.maxArrayLength)??UINT32_MAX,this.maxMapLength=(zs==null?void 0:zs.maxMapLength)??UINT32_MAX,this.maxExtLength=(zs==null?void 0:zs.maxExtLength)??UINT32_MAX,this.keyDecoder=(zs==null?void 0:zs.keyDecoder)!==void 0?zs.keyDecoder:sharedCachedKeyDecoder,this.mapKeyConverter=(zs==null?void 0:zs.mapKeyConverter)??mapKeyConverter}clone(){return new p0({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=HEAD_BYTE_REQUIRED,this.stack.reset()}setBuffer(zs){const Ws=ensureUint8Array(zs);this.bytes=Ws,this.view=new DataView(Ws.buffer,Ws.byteOffset,Ws.byteLength),this.pos=0}appendBuffer(zs){if(this.headByte===HEAD_BYTE_REQUIRED&&!this.hasRemaining(1))this.setBuffer(zs);else{const Ws=this.bytes.subarray(this.pos),qs=ensureUint8Array(zs),Ys=new Uint8Array(Ws.length+qs.length);Ys.set(Ws),Ys.set(qs,Ws.length),this.setBuffer(Ys)}}hasRemaining(zs){return this.view.byteLength-this.pos>=zs}createExtraByteError(zs){const{view:Ws,pos:qs}=this;return new RangeError(`Extra ${Ws.byteLength-qs} of ${Ws.byteLength} byte(s) found at buffer[${zs}]`)}decode(zs){if(this.entered)return this.clone().decode(zs);try{this.entered=!0,this.reinitializeState(),this.setBuffer(zs);const Ws=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return Ws}finally{this.entered=!1}}*decodeMulti(zs){if(this.entered){yield*this.clone().decodeMulti(zs);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(zs);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(zs){if(this.entered)return this.clone().decodeAsync(zs);try{this.entered=!0;let Ws=!1,qs;for await(const yl of zs){if(Ws)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(yl);try{qs=this.doDecodeSync(),Ws=!0}catch(Js){if(!(Js instanceof RangeError))throw Js}this.totalPos+=this.pos}if(Ws){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return qs}const{headByte:Ys,pos:Xs,totalPos:Zs}=this;throw new RangeError(`Insufficient data in parsing ${prettyByte(Ys)} at ${Zs} (${Xs} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(zs){return this.decodeMultiAsync(zs,!0)}decodeStream(zs){return this.decodeMultiAsync(zs,!1)}async*decodeMultiAsync(zs,Ws){if(this.entered){yield*this.clone().decodeMultiAsync(zs,Ws);return}try{this.entered=!0;let qs=Ws,Ys=-1;for await(const Xs of zs){if(Ws&&Ys===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(Xs),qs&&(Ys=this.readArraySize(),qs=!1,this.complete());try{for(;yield this.doDecodeSync(),--Ys!==0;);}catch(Zs){if(!(Zs instanceof RangeError))throw Zs}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const zs=this.readHeadByte();let Ws;if(zs>=224)Ws=zs-256;else if(zs<192)if(zs<128)Ws=zs;else if(zs<144){const Ys=zs-128;if(Ys!==0){this.pushMapState(Ys),this.complete();continue e}else Ws={}}else if(zs<160){const Ys=zs-144;if(Ys!==0){this.pushArrayState(Ys),this.complete();continue e}else Ws=[]}else{const Ys=zs-160;Ws=this.decodeString(Ys,0)}else if(zs===192)Ws=null;else if(zs===194)Ws=!1;else if(zs===195)Ws=!0;else if(zs===202)Ws=this.readF32();else if(zs===203)Ws=this.readF64();else if(zs===204)Ws=this.readU8();else if(zs===205)Ws=this.readU16();else if(zs===206)Ws=this.readU32();else if(zs===207)this.useBigInt64?Ws=this.readU64AsBigInt():Ws=this.readU64();else if(zs===208)Ws=this.readI8();else if(zs===209)Ws=this.readI16();else if(zs===210)Ws=this.readI32();else if(zs===211)this.useBigInt64?Ws=this.readI64AsBigInt():Ws=this.readI64();else if(zs===217){const Ys=this.lookU8();Ws=this.decodeString(Ys,1)}else if(zs===218){const Ys=this.lookU16();Ws=this.decodeString(Ys,2)}else if(zs===219){const Ys=this.lookU32();Ws=this.decodeString(Ys,4)}else if(zs===220){const Ys=this.readU16();if(Ys!==0){this.pushArrayState(Ys),this.complete();continue e}else Ws=[]}else if(zs===221){const Ys=this.readU32();if(Ys!==0){this.pushArrayState(Ys),this.complete();continue e}else Ws=[]}else if(zs===222){const Ys=this.readU16();if(Ys!==0){this.pushMapState(Ys),this.complete();continue e}else Ws={}}else if(zs===223){const Ys=this.readU32();if(Ys!==0){this.pushMapState(Ys),this.complete();continue e}else Ws={}}else if(zs===196){const Ys=this.lookU8();Ws=this.decodeBinary(Ys,1)}else if(zs===197){const Ys=this.lookU16();Ws=this.decodeBinary(Ys,2)}else if(zs===198){const Ys=this.lookU32();Ws=this.decodeBinary(Ys,4)}else if(zs===212)Ws=this.decodeExtension(1,0);else if(zs===213)Ws=this.decodeExtension(2,0);else if(zs===214)Ws=this.decodeExtension(4,0);else if(zs===215)Ws=this.decodeExtension(8,0);else if(zs===216)Ws=this.decodeExtension(16,0);else if(zs===199){const Ys=this.lookU8();Ws=this.decodeExtension(Ys,1)}else if(zs===200){const Ys=this.lookU16();Ws=this.decodeExtension(Ys,2)}else if(zs===201){const Ys=this.lookU32();Ws=this.decodeExtension(Ys,4)}else throw new DecodeError(`Unrecognized type byte: ${prettyByte(zs)}`);this.complete();const qs=this.stack;for(;qs.length>0;){const Ys=qs.top();if(Ys.type===STATE_ARRAY)if(Ys.array[Ys.position]=Ws,Ys.position++,Ys.position===Ys.size)Ws=Ys.array,qs.release(Ys);else continue e;else if(Ys.type===STATE_MAP_KEY){if(Ws==="__proto__")throw new DecodeError("The key __proto__ is not allowed");Ys.key=this.mapKeyConverter(Ws),Ys.type=STATE_MAP_VALUE;continue e}else if(Ys.map[Ys.key]=Ws,Ys.readCount++,Ys.readCount===Ys.size)Ws=Ys.map,qs.release(Ys);else{Ys.key=null,Ys.type=STATE_MAP_KEY;continue e}}return Ws}}readHeadByte(){return this.headByte===HEAD_BYTE_REQUIRED&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=HEAD_BYTE_REQUIRED}readArraySize(){const zs=this.readHeadByte();switch(zs){case 220:return this.readU16();case 221:return this.readU32();default:{if(zs<160)return zs-144;throw new DecodeError(`Unrecognized array type byte: ${prettyByte(zs)}`)}}}pushMapState(zs){if(zs>this.maxMapLength)throw new DecodeError(`Max length exceeded: map length (${zs}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(zs)}pushArrayState(zs){if(zs>this.maxArrayLength)throw new DecodeError(`Max length exceeded: array length (${zs}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(zs)}decodeString(zs,Ws){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(zs,Ws):this.decodeBinary(zs,Ws)}decodeUtf8String(zs,Ws){var Xs;if(zs>this.maxStrLength)throw new DecodeError(`Max length exceeded: UTF-8 byte length (${zs}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+Ws+zs)throw MORE_DATA;const qs=this.pos+Ws;let Ys;return this.stateIsMapKey()&&((Xs=this.keyDecoder)!=null&&Xs.canBeCached(zs))?Ys=this.keyDecoder.decode(this.bytes,qs,zs):Ys=utf8Decode(this.bytes,qs,zs),this.pos+=Ws+zs,Ys}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===STATE_MAP_KEY:!1}decodeBinary(zs,Ws){if(zs>this.maxBinLength)throw new DecodeError(`Max length exceeded: bin length (${zs}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(zs+Ws))throw MORE_DATA;const qs=this.pos+Ws,Ys=this.bytes.subarray(qs,qs+zs);return this.pos+=Ws+zs,Ys}decodeExtension(zs,Ws){if(zs>this.maxExtLength)throw new DecodeError(`Max length exceeded: ext length (${zs}) > maxExtLength (${this.maxExtLength})`);const qs=this.view.getInt8(this.pos+Ws),Ys=this.decodeBinary(zs,Ws+1);return this.extensionCodec.decode(Ys,qs,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const zs=this.view.getUint8(this.pos);return this.pos++,zs}readI8(){const zs=this.view.getInt8(this.pos);return this.pos++,zs}readU16(){const zs=this.view.getUint16(this.pos);return this.pos+=2,zs}readI16(){const zs=this.view.getInt16(this.pos);return this.pos+=2,zs}readU32(){const zs=this.view.getUint32(this.pos);return this.pos+=4,zs}readI32(){const zs=this.view.getInt32(this.pos);return this.pos+=4,zs}readU64(){const zs=getUint64(this.view,this.pos);return this.pos+=8,zs}readI64(){const zs=getInt64(this.view,this.pos);return this.pos+=8,zs}readU64AsBigInt(){const zs=this.view.getBigUint64(this.pos);return this.pos+=8,zs}readI64AsBigInt(){const zs=this.view.getBigInt64(this.pos);return this.pos+=8,zs}readF32(){const zs=this.view.getFloat32(this.pos);return this.pos+=4,zs}readF64(){const zs=this.view.getFloat64(this.pos);return this.pos+=8,zs}};function decode$2(at,zs){return new Decoder$1(zs).decode(at)}function asUint8Array(at){return globalThis.Buffer!=null?new Uint8Array(at.buffer,at.byteOffset,at.byteLength):at}function allocUnsafe(at=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(at)):new Uint8Array(at)}function concat$1(at,zs){zs||(zs=at.reduce((Ys,Xs)=>Ys+Xs.length,0));const Ws=allocUnsafe(zs);let qs=0;for(const Ys of at)Ws.set(Ys,qs),qs+=Ys.length;return asUint8Array(Ws)}function base(at,zs){if(at.length>=255)throw new TypeError("Alphabet too long");for(var Ws=new Uint8Array(256),qs=0;qs<Ws.length;qs++)Ws[qs]=255;for(var Ys=0;Ys<at.length;Ys++){var Xs=at.charAt(Ys),Zs=Xs.charCodeAt(0);if(Ws[Zs]!==255)throw new TypeError(Xs+" is ambiguous");Ws[Zs]=Ys}var yl=at.length,Js=at.charAt(0),$l=Math.log(yl)/Math.log(256),El=Math.log(256)/Math.log(yl);function wl(Tl){if(Tl instanceof Uint8Array||(ArrayBuffer.isView(Tl)?Tl=new Uint8Array(Tl.buffer,Tl.byteOffset,Tl.byteLength):Array.isArray(Tl)&&(Tl=Uint8Array.from(Tl))),!(Tl instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Tl.length===0)return"";for(var Il=0,Al=0,xl=0,Pl=Tl.length;xl!==Pl&&Tl[xl]===0;)xl++,Il++;for(var Cl=(Pl-xl)*El+1>>>0,Rl=new Uint8Array(Cl);xl!==Pl;){for(var Ol=Tl[xl],Ml=0,Ll=Cl-1;(Ol!==0||Ml<Al)&&Ll!==-1;Ll--,Ml++)Ol+=256*Rl[Ll]>>>0,Rl[Ll]=Ol%yl>>>0,Ol=Ol/yl>>>0;if(Ol!==0)throw new Error("Non-zero carry");Al=Ml,xl++}for(var Bl=Cl-Al;Bl!==Cl&&Rl[Bl]===0;)Bl++;for(var Wl=Js.repeat(Il);Bl<Cl;++Bl)Wl+=at.charAt(Rl[Bl]);return Wl}function _l(Tl){if(typeof Tl!="string")throw new TypeError("Expected String");if(Tl.length===0)return new Uint8Array;var Il=0;if(Tl[Il]!==" "){for(var Al=0,xl=0;Tl[Il]===Js;)Al++,Il++;for(var Pl=(Tl.length-Il)*$l+1>>>0,Cl=new Uint8Array(Pl);Tl[Il];){var Rl=Ws[Tl.charCodeAt(Il)];if(Rl===255)return;for(var Ol=0,Ml=Pl-1;(Rl!==0||Ol<xl)&&Ml!==-1;Ml--,Ol++)Rl+=yl*Cl[Ml]>>>0,Cl[Ml]=Rl%256>>>0,Rl=Rl/256>>>0;if(Rl!==0)throw new Error("Non-zero carry");xl=Ol,Il++}if(Tl[Il]!==" "){for(var Ll=Pl-xl;Ll!==Pl&&Cl[Ll]===0;)Ll++;for(var Bl=new Uint8Array(Al+(Pl-Ll)),Wl=Al;Ll!==Pl;)Bl[Wl++]=Cl[Ll++];return Bl}}}function Sl(Tl){var Il=_l(Tl);if(Il)return Il;throw new Error(`Non-${zs} character`)}return{encode:wl,decodeUnsafe:_l,decode:Sl}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=at=>{if(at instanceof Uint8Array&&at.constructor.name==="Uint8Array")return at;if(at instanceof ArrayBuffer)return new Uint8Array(at);if(ArrayBuffer.isView(at))return new Uint8Array(at.buffer,at.byteOffset,at.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=at=>new TextEncoder().encode(at),toString$1=at=>new TextDecoder().decode(at);class Encoder{constructor(zs,Ws,qs){this.name=zs,this.prefix=Ws,this.baseEncode=qs}encode(zs){if(zs instanceof Uint8Array)return`${this.prefix}${this.baseEncode(zs)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(zs,Ws,qs){if(this.name=zs,this.prefix=Ws,Ws.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=Ws.codePointAt(0),this.baseDecode=qs}decode(zs){if(typeof zs=="string"){if(zs.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(zs)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(zs.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(zs){return or$1(this,zs)}}class ComposedDecoder{constructor(zs){this.decoders=zs}or(zs){return or$1(this,zs)}decode(zs){const Ws=zs[0],qs=this.decoders[Ws];if(qs)return qs.decode(zs);throw RangeError(`Unable to decode multibase string ${JSON.stringify(zs)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$1=(at,zs)=>new ComposedDecoder({...at.decoders||{[at.prefix]:at},...zs.decoders||{[zs.prefix]:zs}});class Codec{constructor(zs,Ws,qs,Ys){this.name=zs,this.prefix=Ws,this.baseEncode=qs,this.baseDecode=Ys,this.encoder=new Encoder(zs,Ws,qs),this.decoder=new Decoder(zs,Ws,Ys)}encode(zs){return this.encoder.encode(zs)}decode(zs){return this.decoder.decode(zs)}}const from=({name:at,prefix:zs,encode:Ws,decode:qs})=>new Codec(at,zs,Ws,qs),baseX=({prefix:at,name:zs,alphabet:Ws})=>{const{encode:qs,decode:Ys}=_brrp__multiformats_scope_baseX(Ws,zs);return from({prefix:at,name:zs,encode:qs,decode:Xs=>coerce(Ys(Xs))})},decode$1=(at,zs,Ws,qs)=>{const Ys={};for(let El=0;El<zs.length;++El)Ys[zs[El]]=El;let Xs=at.length;for(;at[Xs-1]==="=";)--Xs;const Zs=new Uint8Array(Xs*Ws/8|0);let yl=0,Js=0,$l=0;for(let El=0;El<Xs;++El){const wl=Ys[at[El]];if(wl===void 0)throw new SyntaxError(`Non-${qs} character`);Js=Js<<Ws|wl,yl+=Ws,yl>=8&&(yl-=8,Zs[$l++]=255&Js>>yl)}if(yl>=Ws||255&Js<<8-yl)throw new SyntaxError("Unexpected end of data");return Zs},encode$1=(at,zs,Ws)=>{const qs=zs[zs.length-1]==="=",Ys=(1<<Ws)-1;let Xs="",Zs=0,yl=0;for(let Js=0;Js<at.length;++Js)for(yl=yl<<8|at[Js],Zs+=8;Zs>Ws;)Zs-=Ws,Xs+=zs[Ys&yl>>Zs];if(Zs&&(Xs+=zs[Ys&yl<<Ws-Zs]),qs)for(;Xs.length*Ws&7;)Xs+="=";return Xs},rfc4648=({name:at,prefix:zs,bitsPerChar:Ws,alphabet:qs})=>from({prefix:zs,name:at,encode(Ys){return encode$1(Ys,qs,Ws)},decode(Ys){return decode$1(Ys,qs,Ws,at)}}),identity=from({prefix:"\0",name:"identity",encode:at=>toString$1(at),decode:at=>fromString$1(at)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((at,zs,Ws)=>(at[Ws]=zs,at),[]),alphabetCharsToBytes=alphabet.reduce((at,zs,Ws)=>(at[zs.codePointAt(0)]=Ws,at),[]);function encode(at){return at.reduce((zs,Ws)=>(zs+=alphabetBytesToChars[Ws],zs),"")}function decode(at){const zs=[];for(const Ws of at){const qs=alphabetCharsToBytes[Ws.codePointAt(0)];if(qs===void 0)throw new Error(`Non-base256emoji character: ${Ws}`);zs.push(qs)}return new Uint8Array(zs)}const base256emoji=from({prefix:"",name:"base256emoji",encode,decode}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(at,zs,Ws,qs){return{name:at,prefix:zs,encoder:{name:at,prefix:zs,encode:Ws},decoder:{decode:qs}}}const string=createCodec("utf8","u",at=>"u"+new TextDecoder("utf8").decode(at),at=>new TextEncoder().encode(at.substring(1))),ascii=createCodec("ascii","a",at=>{let zs="a";for(let Ws=0;Ws<at.length;Ws++)zs+=String.fromCharCode(at[Ws]);return zs},at=>{at=at.substring(1);const zs=allocUnsafe(at.length);for(let Ws=0;Ws<at.length;Ws++)zs[Ws]=at.charCodeAt(Ws);return zs}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(at,zs="utf8"){const Ws=BASES[zs];if(!Ws)throw new Error(`Unsupported encoding "${zs}"`);return(zs==="utf8"||zs==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(at,"utf-8")):Ws.decoder.decode(`${Ws.prefix}${at}`)}function toString(at,zs="utf8"){const Ws=BASES[zs];if(!Ws)throw new Error(`Unsupported encoding "${zs}"`);return(zs==="utf8"||zs==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(at.buffer,at.byteOffset,at.byteLength).toString("utf8"):Ws.encoder.encode(at).substring(1)}const C$1={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(at){let zs;if(at instanceof Uint8Array)zs=at;else if(typeof at=="string")zs=new TextEncoder().encode(at);else throw new Error(ERROR_MSG_INPUT);return zs}function toHex$1(at){return Array.prototype.map.call(at,function(zs){return(zs<16?"0":"")+zs.toString(16)}).join("")}function uint32ToHex(at){return(4294967296+at).toString(16).substring(1)}function debugPrint(at,zs,Ws){let qs=`
`+at+" = ";for(let Ys=0;Ys<zs.length;Ys+=2){if(Ws===32)qs+=uint32ToHex(zs[Ys]).toUpperCase(),qs+=" ",qs+=uint32ToHex(zs[Ys+1]).toUpperCase();else if(Ws===64)qs+=uint32ToHex(zs[Ys+1]).toUpperCase(),qs+=uint32ToHex(zs[Ys]).toUpperCase();else throw new Error("Invalid size "+Ws);Ys%6===4?qs+=`
`+new Array(at.length+4).join(" "):Ys<zs.length-2&&(qs+=" ")}console.log(qs)}function testSpeed(at,zs,Ws){let qs=new Date().getTime();const Ys=new Uint8Array(zs);for(let Zs=0;Zs<zs;Zs++)Ys[Zs]=Zs%256;const Xs=new Date().getTime();console.log("Generated random input in "+(Xs-qs)+"ms"),qs=Xs;for(let Zs=0;Zs<Ws;Zs++){const yl=at(Ys),Js=new Date().getTime(),$l=Js-qs;qs=Js,console.log("Hashed in "+$l+"ms: "+yl.substring(0,20)+"..."),console.log(Math.round(zs/(1<<20)/($l/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex:toHex$1,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(at,zs,Ws){const qs=at[zs]+at[Ws];let Ys=at[zs+1]+at[Ws+1];qs>=4294967296&&Ys++,at[zs]=qs,at[zs+1]=Ys}function ADD64AC(at,zs,Ws,qs){let Ys=at[zs]+Ws;Ws<0&&(Ys+=4294967296);let Xs=at[zs+1]+qs;Ys>=4294967296&&Xs++,at[zs]=Ys,at[zs+1]=Xs}function B2B_GET32(at,zs){return at[zs]^at[zs+1]<<8^at[zs+2]<<16^at[zs+3]<<24}function B2B_G(at,zs,Ws,qs,Ys,Xs){const Zs=m$1[Ys],yl=m$1[Ys+1],Js=m$1[Xs],$l=m$1[Xs+1];ADD64AA(v$3,at,zs),ADD64AC(v$3,at,Zs,yl);let El=v$3[qs]^v$3[at],wl=v$3[qs+1]^v$3[at+1];v$3[qs]=wl,v$3[qs+1]=El,ADD64AA(v$3,Ws,qs),El=v$3[zs]^v$3[Ws],wl=v$3[zs+1]^v$3[Ws+1],v$3[zs]=El>>>24^wl<<8,v$3[zs+1]=wl>>>24^El<<8,ADD64AA(v$3,at,zs),ADD64AC(v$3,at,Js,$l),El=v$3[qs]^v$3[at],wl=v$3[qs+1]^v$3[at+1],v$3[qs]=El>>>16^wl<<16,v$3[qs+1]=wl>>>16^El<<16,ADD64AA(v$3,Ws,qs),El=v$3[zs]^v$3[Ws],wl=v$3[zs+1]^v$3[Ws+1],v$3[zs]=wl>>>31^El<<1,v$3[zs+1]=El>>>31^wl<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(at){return at*2})),v$3=new Uint32Array(32),m$1=new Uint32Array(32);function blake2bCompress(at,zs){let Ws=0;for(Ws=0;Ws<16;Ws++)v$3[Ws]=at.h[Ws],v$3[Ws+16]=BLAKE2B_IV32[Ws];for(v$3[24]=v$3[24]^at.t,v$3[25]=v$3[25]^at.t/4294967296,zs&&(v$3[28]=~v$3[28],v$3[29]=~v$3[29]),Ws=0;Ws<32;Ws++)m$1[Ws]=B2B_GET32(at.b,4*Ws);for(Ws=0;Ws<12;Ws++)B2B_G(0,8,16,24,SIGMA82[Ws*16+0],SIGMA82[Ws*16+1]),B2B_G(2,10,18,26,SIGMA82[Ws*16+2],SIGMA82[Ws*16+3]),B2B_G(4,12,20,28,SIGMA82[Ws*16+4],SIGMA82[Ws*16+5]),B2B_G(6,14,22,30,SIGMA82[Ws*16+6],SIGMA82[Ws*16+7]),B2B_G(0,10,20,30,SIGMA82[Ws*16+8],SIGMA82[Ws*16+9]),B2B_G(2,12,22,24,SIGMA82[Ws*16+10],SIGMA82[Ws*16+11]),B2B_G(4,14,16,26,SIGMA82[Ws*16+12],SIGMA82[Ws*16+13]),B2B_G(6,8,18,28,SIGMA82[Ws*16+14],SIGMA82[Ws*16+15]);for(Ws=0;Ws<16;Ws++)at.h[Ws]=at.h[Ws]^v$3[Ws]^v$3[Ws+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(at,zs,Ws,qs){if(at===0||at>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(zs&&zs.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(Ws&&Ws.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(qs&&qs.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const Ys={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:at};parameterBlock.fill(0),parameterBlock[0]=at,zs&&(parameterBlock[1]=zs.length),parameterBlock[2]=1,parameterBlock[3]=1,Ws&&parameterBlock.set(Ws,32),qs&&parameterBlock.set(qs,48);for(let Xs=0;Xs<16;Xs++)Ys.h[Xs]=BLAKE2B_IV32[Xs]^B2B_GET32(parameterBlock,Xs*4);return zs&&(blake2bUpdate(Ys,zs),Ys.c=128),Ys}function blake2bUpdate(at,zs){for(let Ws=0;Ws<zs.length;Ws++)at.c===128&&(at.t+=at.c,blake2bCompress(at,!1),at.c=0),at.b[at.c++]=zs[Ws]}function blake2bFinal(at){for(at.t+=at.c;at.c<128;)at.b[at.c++]=0;blake2bCompress(at,!0);const zs=new Uint8Array(at.outlen);for(let Ws=0;Ws<at.outlen;Ws++)zs[Ws]=at.h[Ws>>2]>>8*(Ws&3);return zs}function blake2b(at,zs,Ws,qs,Ys){Ws=Ws||64,at=util$1.normalizeInput(at),qs&&(qs=util$1.normalizeInput(qs)),Ys&&(Ys=util$1.normalizeInput(Ys));const Xs=blake2bInit(Ws,zs,qs,Ys);return blake2bUpdate(Xs,at),blake2bFinal(Xs)}function blake2bHex(at,zs,Ws,qs,Ys){const Xs=blake2b(at,zs,Ws,qs,Ys);return util$1.toHex(Xs)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(at,zs){return at[zs]^at[zs+1]<<8^at[zs+2]<<16^at[zs+3]<<24}function B2S_G(at,zs,Ws,qs,Ys,Xs){v$2[at]=v$2[at]+v$2[zs]+Ys,v$2[qs]=ROTR32(v$2[qs]^v$2[at],16),v$2[Ws]=v$2[Ws]+v$2[qs],v$2[zs]=ROTR32(v$2[zs]^v$2[Ws],12),v$2[at]=v$2[at]+v$2[zs]+Xs,v$2[qs]=ROTR32(v$2[qs]^v$2[at],8),v$2[Ws]=v$2[Ws]+v$2[qs],v$2[zs]=ROTR32(v$2[zs]^v$2[Ws],7)}function ROTR32(at,zs){return at>>>zs^at<<32-zs}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$2=new Uint32Array(16),m=new Uint32Array(16);function blake2sCompress(at,zs){let Ws=0;for(Ws=0;Ws<8;Ws++)v$2[Ws]=at.h[Ws],v$2[Ws+8]=BLAKE2S_IV[Ws];for(v$2[12]^=at.t,v$2[13]^=at.t/4294967296,zs&&(v$2[14]=~v$2[14]),Ws=0;Ws<16;Ws++)m[Ws]=B2S_GET32(at.b,4*Ws);for(Ws=0;Ws<10;Ws++)B2S_G(0,4,8,12,m[SIGMA[Ws*16+0]],m[SIGMA[Ws*16+1]]),B2S_G(1,5,9,13,m[SIGMA[Ws*16+2]],m[SIGMA[Ws*16+3]]),B2S_G(2,6,10,14,m[SIGMA[Ws*16+4]],m[SIGMA[Ws*16+5]]),B2S_G(3,7,11,15,m[SIGMA[Ws*16+6]],m[SIGMA[Ws*16+7]]),B2S_G(0,5,10,15,m[SIGMA[Ws*16+8]],m[SIGMA[Ws*16+9]]),B2S_G(1,6,11,12,m[SIGMA[Ws*16+10]],m[SIGMA[Ws*16+11]]),B2S_G(2,7,8,13,m[SIGMA[Ws*16+12]],m[SIGMA[Ws*16+13]]),B2S_G(3,4,9,14,m[SIGMA[Ws*16+14]],m[SIGMA[Ws*16+15]]);for(Ws=0;Ws<8;Ws++)at.h[Ws]^=v$2[Ws]^v$2[Ws+8]}function blake2sInit(at,zs){if(!(at>0&&at<=32))throw new Error("Incorrect output length, should be in [1, 32]");const Ws=zs?zs.length:0;if(zs&&!(Ws>0&&Ws<=32))throw new Error("Incorrect key length, should be in [1, 32]");const qs={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:at};return qs.h[0]^=16842752^Ws<<8^at,Ws>0&&(blake2sUpdate(qs,zs),qs.c=64),qs}function blake2sUpdate(at,zs){for(let Ws=0;Ws<zs.length;Ws++)at.c===64&&(at.t+=at.c,blake2sCompress(at,!1),at.c=0),at.b[at.c++]=zs[Ws]}function blake2sFinal(at){for(at.t+=at.c;at.c<64;)at.b[at.c++]=0;blake2sCompress(at,!0);const zs=new Uint8Array(at.outlen);for(let Ws=0;Ws<at.outlen;Ws++)zs[Ws]=at.h[Ws>>2]>>8*(Ws&3)&255;return zs}function blake2s(at,zs,Ws){Ws=Ws||32,at=util.normalizeInput(at);const qs=blake2sInit(Ws,zs);return blake2sUpdate(qs,at),blake2sFinal(qs)}function blake2sHex(at,zs,Ws){const qs=blake2s(at,zs,Ws);return util.toHex(qs)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal},define_process_env_default$1={};const Ae=":";function Je$1(at){const[zs,Ws]=at.split(Ae);return{namespace:zs,reference:Ws}}function Se$1(at,zs){return at.includes(":")?[at]:zs.chains||[]}var ri$1=Object.defineProperty,oi$1=Object.defineProperties,si$1=Object.getOwnPropertyDescriptors,ar$1=Object.getOwnPropertySymbols,ii$1=Object.prototype.hasOwnProperty,ci$1=Object.prototype.propertyIsEnumerable,en$1=(at,zs,Ws)=>zs in at?ri$1(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,ur$1=(at,zs)=>{for(var Ws in zs||(zs={}))ii$1.call(zs,Ws)&&en$1(at,Ws,zs[Ws]);if(ar$1)for(var Ws of ar$1(zs))ci$1.call(zs,Ws)&&en$1(at,Ws,zs[Ws]);return at},fi$1=(at,zs)=>oi$1(at,si$1(zs)),lr$1=(at,zs,Ws)=>en$1(at,typeof zs!="symbol"?zs+"":zs,Ws);const dr$1="ReactNative",et$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},pr$1="js";function rn$1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function It$2(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===dr$1}function li$1(){return It$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function di$1(){return It$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Wt$1(){return!rn$1()&&!!getNavigator_1()&&!!getDocument_1()}function Vt$1(){return It$2()?et$1.reactNative:rn$1()?et$1.node:Wt$1()?et$1.browser:et$1.unknown}function hi$1(){var at;try{return It$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(at=global.Application)==null?void 0:at.applicationId:void 0}catch{return}}function gr$1(at,zs){const Ws=new URLSearchParams(at);return Object.entries(zs).sort(([qs],[Ys])=>qs.localeCompare(Ys)).forEach(([qs,Ys])=>{Ys!=null&&Ws.set(qs,String(Ys))}),Ws.toString()}function pi$1(at){var zs,Ws;const qs=br$1();try{return at!=null&&at.url&&qs.url&&new URL(at.url).host!==new URL(qs.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${at.url} differs from the actual page url:${qs.url}. This is probably unintended and can lead to issues.`),at.url=qs.url),(zs=at==null?void 0:at.icons)!=null&&zs.length&&at.icons.length>0&&(at.icons=at.icons.filter(Ys=>Ys!=="")),fi$1(ur$1(ur$1({},qs),at),{url:(at==null?void 0:at.url)||qs.url,name:(at==null?void 0:at.name)||qs.name,description:(at==null?void 0:at.description)||qs.description,icons:(Ws=at==null?void 0:at.icons)!=null&&Ws.length&&at.icons.length>0?at.icons:qs.icons})}catch(Ys){return console.warn("Error populating app metadata",Ys),at||qs}}function br$1(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function yr$1(){if(Vt$1()===et$1.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:Ws,Version:qs}=global.Platform;return[Ws,qs].join("-")}const at=detect();if(at===null)return"unknown";const zs=at.os?at.os.replace(" ","").toLowerCase():"unknown";return at.type==="browser"?[zs,at.name,at.version].join("-"):[zs,at.version].join("-")}function mr$1(){var at;const zs=Vt$1();return zs===et$1.browser?[zs,((at=getLocation_1())==null?void 0:at.host)||"unknown"].join(":"):zs}function wr$1(at,zs,Ws){const qs=yr$1(),Ys=mr$1();return[[at,zs].join("-"),[pr$1,Ws].join("-"),qs,Ys].join("/")}function bi$1({protocol:at,version:zs,relayUrl:Ws,sdkVersion:qs,auth:Ys,projectId:Xs,useOnCloseEvent:Zs,bundleId:yl,packageName:Js}){const $l=Ws.split("?"),El=wr$1(at,zs,qs),wl={auth:Ys,ua:El,projectId:Xs,useOnCloseEvent:Zs,packageName:Js||void 0,bundleId:yl||void 0},_l=gr$1($l[1]||"",wl);return $l[0]+"?"+_l}function At$1(at,zs){return at.filter(Ws=>zs.includes(Ws)).length===at.length}function vi$1(at){return Object.fromEntries(at.entries())}function xi$1(at){return new Map(Object.entries(at))}function Ai$1(at=cjs$3.FIVE_MINUTES,zs){const Ws=cjs$3.toMiliseconds(at||cjs$3.FIVE_MINUTES);let qs,Ys,Xs,Zs;return{resolve:yl=>{Xs&&qs&&(clearTimeout(Xs),qs(yl),Zs=Promise.resolve(yl))},reject:yl=>{Xs&&Ys&&(clearTimeout(Xs),Ys(yl))},done:()=>new Promise((yl,Js)=>{if(Zs)return yl(Zs);Xs=setTimeout(()=>{const $l=new Error(zs);Zs=Promise.reject($l),Js($l)},Ws),qs=yl,Ys=Js})}}function Si$1(at,zs,Ws){return new Promise(async(qs,Ys)=>{const Xs=setTimeout(()=>Ys(new Error(Ws)),zs);try{const Zs=await at;qs(Zs)}catch(Zs){Ys(Zs)}clearTimeout(Xs)})}function on$2(at,zs){if(typeof zs=="string"&&zs.startsWith(`${at}:`))return zs;if(at.toLowerCase()==="topic"){if(typeof zs!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${zs}`}else if(at.toLowerCase()==="id"){if(typeof zs!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${zs}`}throw new Error(`Unknown expirer target type: ${at}`)}function Oi$1(at){return on$2("topic",at)}function Ni$1(at){return on$2("id",at)}function Ui$1(at){const[zs,Ws]=at.split(":"),qs={id:void 0,topic:void 0};if(zs==="topic"&&typeof Ws=="string")qs.topic=Ws;else if(zs==="id"&&Number.isInteger(Number(Ws)))qs.id=Number(Ws);else throw new Error(`Invalid target, expected id:number or topic:string, got ${zs}:${Ws}`);return qs}function _i$1(at,zs){return cjs$3.fromMiliseconds(Date.now()+cjs$3.toMiliseconds(at))}function Ri$1(at){return Date.now()>=cjs$3.toMiliseconds(at)}function $i$1(at,zs){return`${at}${zs?`:${zs}`:""}`}function ut$1(at=[],zs=[]){return[...new Set([...at,...zs])]}async function Ti$1({id:at,topic:zs,wcDeepLink:Ws}){var qs;try{if(!Ws)return;const Ys=typeof Ws=="string"?JSON.parse(Ws):Ws,Xs=Ys==null?void 0:Ys.href;if(typeof Xs!="string")return;const Zs=Br$1(Xs,at,zs),yl=Vt$1();if(yl===et$1.browser){if(!((qs=getDocument_1())!=null&&qs.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Ir$1(Zs)}else yl===et$1.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(Zs)}catch(Ys){console.error(Ys)}}function Br$1(at,zs,Ws){const qs=`requestId=${zs}&sessionTopic=${Ws}`;at.endsWith("/")&&(at=at.slice(0,-1));let Ys=`${at}`;if(at.startsWith("https://t.me")){const Xs=at.includes("?")?"&startapp=":"?startapp=";Ys=`${Ys}${Xs}${Or$1(qs,!0)}`}else Ys=`${Ys}/wc?${qs}`;return Ys}function Ir$1(at){let zs="_self";Sr$1()?zs="_top":(Ar$1()||at.startsWith("https://")||at.startsWith("http://"))&&(zs="_blank"),window.open(at,zs,"noreferrer noopener")}async function Ci$1(at,zs){let Ws="";try{if(Wt$1()&&(Ws=localStorage.getItem(zs),Ws))return Ws;Ws=await at.getItem(zs)}catch(qs){console.error(qs)}return Ws}function ji$1(at,zs){if(!at.includes(zs))return null;const Ws=at.split(/([&,?,=])/),qs=Ws.indexOf(zs);return Ws[qs+2]}function Li$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,at=>{const zs=Math.random()*16|0;return(at==="x"?zs:zs&3|8).toString(16)})}function ki$1(){return typeof process<"u"&&define_process_env_default$1.IS_VITEST==="true"}function Ar$1(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sr$1(){try{return window.self!==window.top}catch{return!1}}function Or$1(at,zs=!1){const Ws=Buffer.from(at).toString("base64");return zs?Ws.replace(/[=]/g,""):Ws}function cn$1(at){return Buffer.from(at,"base64").toString("utf-8")}function Pi$1(at){return new Promise(zs=>setTimeout(zs,at))}let Hi$1=class{constructor({limit:zs}){lr$1(this,"limit"),lr$1(this,"set"),this.limit=zs,this.set=new Set}add(zs){if(!this.set.has(zs)){if(this.set.size>=this.limit){const Ws=this.set.values().next().value;Ws&&this.set.delete(Ws)}this.set.add(zs)}}has(zs){return this.set.has(zs)}};const Ne=BigInt(2**32-1),Nr$1=BigInt(32);function Ur$1(at,zs=!1){return zs?{h:Number(at&Ne),l:Number(at>>Nr$1&Ne)}:{h:Number(at>>Nr$1&Ne)|0,l:Number(at&Ne)|0}}function _r$1(at,zs=!1){const Ws=at.length;let qs=new Uint32Array(Ws),Ys=new Uint32Array(Ws);for(let Xs=0;Xs<Ws;Xs++){const{h:Zs,l:yl}=Ur$1(at[Xs],zs);[qs[Xs],Ys[Xs]]=[Zs,yl]}return[qs,Ys]}const Rr$1=(at,zs,Ws)=>at>>>Ws,$r$1=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,St$2=(at,zs,Ws)=>at>>>Ws|zs<<32-Ws,Ot$1=(at,zs,Ws)=>at<<32-Ws|zs>>>Ws,de=(at,zs,Ws)=>at<<64-Ws|zs>>>Ws-32,he$1=(at,zs,Ws)=>at>>>Ws-32|zs<<64-Ws,Di$1=(at,zs)=>zs,Vi$1=(at,zs)=>at,Mi$1=(at,zs,Ws)=>at<<Ws|zs>>>32-Ws,Ki$1=(at,zs,Ws)=>zs<<Ws|at>>>32-Ws,qi$1=(at,zs,Ws)=>zs<<Ws-32|at>>>64-Ws,Fi$1=(at,zs,Ws)=>at<<Ws-32|zs>>>64-Ws;function dt$1(at,zs,Ws,qs){const Ys=(zs>>>0)+(qs>>>0);return{h:at+Ws+(Ys/2**32|0)|0,l:Ys|0}}const fn$1=(at,zs,Ws)=>(at>>>0)+(zs>>>0)+(Ws>>>0),an$1=(at,zs,Ws,qs)=>zs+Ws+qs+(at/2**32|0)|0,Zi=(at,zs,Ws,qs)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0),Gi$1=(at,zs,Ws,qs,Ys)=>zs+Ws+qs+Ys+(at/2**32|0)|0,zi$1=(at,zs,Ws,qs,Ys)=>(at>>>0)+(zs>>>0)+(Ws>>>0)+(qs>>>0)+(Ys>>>0),Yi=(at,zs,Ws,qs,Ys,Xs)=>zs+Ws+qs+Ys+Xs+(at/2**32|0)|0,Xt$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ue$2(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function mt$1(at){if(!Number.isSafeInteger(at)||at<0)throw new Error("positive integer expected, got "+at)}function ht(at,...zs){if(!Ue$2(at))throw new Error("Uint8Array expected");if(zs.length>0&&!zs.includes(at.length))throw new Error("Uint8Array expected of length "+zs+", got length="+at.length)}function _e$2(at){if(typeof at!="function"||typeof at.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");mt$1(at.outputLen),mt$1(at.blockLen)}function Nt$1(at,zs=!0){if(at.destroyed)throw new Error("Hash instance has been destroyed");if(zs&&at.finished)throw new Error("Hash#digest() has already been called")}function un$1(at,zs){ht(at);const Ws=zs.outputLen;if(at.length<Ws)throw new Error("digestInto() expects output buffer of length at least "+Ws)}function pe(at){return new Uint32Array(at.buffer,at.byteOffset,Math.floor(at.byteLength/4))}function lt(...at){for(let zs=0;zs<at.length;zs++)at[zs].fill(0)}function ln$1(at){return new DataView(at.buffer,at.byteOffset,at.byteLength)}function bt(at,zs){return at<<32-zs|at>>>zs}const Tr$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Cr$1(at){return at<<24&4278190080|at<<8&16711680|at>>>8&65280|at>>>24&255}const wt$1=Tr$1?at=>at:at=>Cr$1(at);function Wi$1(at){for(let zs=0;zs<at.length;zs++)at[zs]=Cr$1(at[zs]);return at}const Ut$1=Tr$1?at=>at:Wi$1,jr$1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Xi=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function Jt$1(at){if(ht(at),jr$1)return at.toHex();let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=Xi[at[Ws]];return zs}const vt$1={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lr$1(at){if(at>=vt$1._0&&at<=vt$1._9)return at-vt$1._0;if(at>=vt$1.A&&at<=vt$1.F)return at-(vt$1.A-10);if(at>=vt$1.a&&at<=vt$1.f)return at-(vt$1.a-10)}function Re$1(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);if(jr$1)return Uint8Array.fromHex(at);const zs=at.length,Ws=zs/2;if(zs%2)throw new Error("hex string expected, got unpadded hex of length "+zs);const qs=new Uint8Array(Ws);for(let Ys=0,Xs=0;Ys<Ws;Ys++,Xs+=2){const Zs=Lr$1(at.charCodeAt(Xs)),yl=Lr$1(at.charCodeAt(Xs+1));if(Zs===void 0||yl===void 0){const Js=at[Xs]+at[Xs+1];throw new Error('hex string expected, got non-hex character "'+Js+'" at index '+Xs)}qs[Ys]=Zs*16+yl}return qs}function kr$1(at){if(typeof at!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(at))}function pt(at){return typeof at=="string"&&(at=kr$1(at)),ht(at),at}function _t$1(...at){let zs=0;for(let qs=0;qs<at.length;qs++){const Ys=at[qs];ht(Ys),zs+=Ys.length}const Ws=new Uint8Array(zs);for(let qs=0,Ys=0;qs<at.length;qs++){const Xs=at[qs];Ws.set(Xs,Ys),Ys+=Xs.length}return Ws}let $e$1=class{};function ge$1(at){const zs=qs=>at().update(pt(qs)).digest(),Ws=at();return zs.outputLen=Ws.outputLen,zs.blockLen=Ws.blockLen,zs.create=()=>at(),zs}function Ji(at){const zs=(qs,Ys)=>at(Ys).update(pt(qs)).digest(),Ws=at({});return zs.outputLen=Ws.outputLen,zs.blockLen=Ws.blockLen,zs.create=qs=>at(qs),zs}function Mt$1(at=32){if(Xt$1&&typeof Xt$1.getRandomValues=="function")return Xt$1.getRandomValues(new Uint8Array(at));if(Xt$1&&typeof Xt$1.randomBytes=="function")return Uint8Array.from(Xt$1.randomBytes(at));throw new Error("crypto.getRandomValues must be defined")}const Qi=BigInt(0),be$1=BigInt(1),tc=BigInt(2),ec=BigInt(7),nc=BigInt(256),rc=BigInt(113),Pr$1=[],Hr$1=[],Dr$1=[];for(let at=0,zs=be$1,Ws=1,qs=0;at<24;at++){[Ws,qs]=[qs,(2*Ws+3*qs)%5],Pr$1.push(2*(5*qs+Ws)),Hr$1.push((at+1)*(at+2)/2%64);let Ys=Qi;for(let Xs=0;Xs<7;Xs++)zs=(zs<<be$1^(zs>>ec)*rc)%nc,zs&tc&&(Ys^=be$1<<(be$1<<BigInt(Xs))-be$1);Dr$1.push(Ys)}const Vr$1=_r$1(Dr$1,!0),oc=Vr$1[0],sc=Vr$1[1],Mr$1=(at,zs,Ws)=>Ws>32?qi$1(at,zs,Ws):Mi$1(at,zs,Ws),Kr$1=(at,zs,Ws)=>Ws>32?Fi$1(at,zs,Ws):Ki$1(at,zs,Ws);function ic(at,zs=24){const Ws=new Uint32Array(10);for(let qs=24-zs;qs<24;qs++){for(let Zs=0;Zs<10;Zs++)Ws[Zs]=at[Zs]^at[Zs+10]^at[Zs+20]^at[Zs+30]^at[Zs+40];for(let Zs=0;Zs<10;Zs+=2){const yl=(Zs+8)%10,Js=(Zs+2)%10,$l=Ws[Js],El=Ws[Js+1],wl=Mr$1($l,El,1)^Ws[yl],_l=Kr$1($l,El,1)^Ws[yl+1];for(let Sl=0;Sl<50;Sl+=10)at[Zs+Sl]^=wl,at[Zs+Sl+1]^=_l}let Ys=at[2],Xs=at[3];for(let Zs=0;Zs<24;Zs++){const yl=Hr$1[Zs],Js=Mr$1(Ys,Xs,yl),$l=Kr$1(Ys,Xs,yl),El=Pr$1[Zs];Ys=at[El],Xs=at[El+1],at[El]=Js,at[El+1]=$l}for(let Zs=0;Zs<50;Zs+=10){for(let yl=0;yl<10;yl++)Ws[yl]=at[Zs+yl];for(let yl=0;yl<10;yl++)at[Zs+yl]^=~Ws[(yl+2)%10]&Ws[(yl+4)%10]}at[0]^=oc[qs],at[1]^=sc[qs]}lt(Ws)}let Jn$1=class g0 extends $e$1{constructor(zs,Ws,qs,Ys=!1,Xs=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=zs,this.suffix=Ws,this.outputLen=qs,this.enableXOF=Ys,this.rounds=Xs,mt$1(qs),!(0<zs&&zs<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pe(this.state)}clone(){return this._cloneInto()}keccak(){Ut$1(this.state32),ic(this.state32,this.rounds),Ut$1(this.state32),this.posOut=0,this.pos=0}update(zs){Nt$1(this),zs=pt(zs),ht(zs);const{blockLen:Ws,state:qs}=this,Ys=zs.length;for(let Xs=0;Xs<Ys;){const Zs=Math.min(Ws-this.pos,Ys-Xs);for(let yl=0;yl<Zs;yl++)qs[this.pos++]^=zs[Xs++];this.pos===Ws&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:zs,suffix:Ws,pos:qs,blockLen:Ys}=this;zs[qs]^=Ws,Ws&128&&qs===Ys-1&&this.keccak(),zs[Ys-1]^=128,this.keccak()}writeInto(zs){Nt$1(this,!1),ht(zs),this.finish();const Ws=this.state,{blockLen:qs}=this;for(let Ys=0,Xs=zs.length;Ys<Xs;){this.posOut>=qs&&this.keccak();const Zs=Math.min(qs-this.posOut,Xs-Ys);zs.set(Ws.subarray(this.posOut,this.posOut+Zs),Ys),this.posOut+=Zs,Ys+=Zs}return zs}xofInto(zs){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(zs)}xof(zs){return mt$1(zs),this.xofInto(new Uint8Array(zs))}digestInto(zs){if(un$1(zs,this),this.finished)throw new Error("digest() was already called");return this.writeInto(zs),this.destroy(),zs}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(zs){const{blockLen:Ws,suffix:qs,outputLen:Ys,rounds:Xs,enableXOF:Zs}=this;return zs||(zs=new g0(Ws,qs,Ys,Zs,Xs)),zs.state32.set(this.state32),zs.pos=this.pos,zs.posOut=this.posOut,zs.finished=this.finished,zs.rounds=Xs,zs.suffix=qs,zs.outputLen=Ys,zs.enableXOF=Zs,zs.destroyed=this.destroyed,zs}};const cc=(at,zs,Ws)=>ge$1(()=>new Jn$1(zs,at,Ws)),fc=cc(1,136,256/8);function ac(at,zs,Ws,qs){if(typeof at.setBigUint64=="function")return at.setBigUint64(zs,Ws,qs);const Ys=BigInt(32),Xs=BigInt(4294967295),Zs=Number(Ws>>Ys&Xs),yl=Number(Ws&Xs),Js=qs?4:0,$l=qs?0:4;at.setUint32(zs+Js,Zs,qs),at.setUint32(zs+$l,yl,qs)}function uc(at,zs,Ws){return at&zs^~at&Ws}function lc(at,zs,Ws){return at&zs^at&Ws^zs&Ws}let qr$1=class extends $e$1{constructor(zs,Ws,qs,Ys){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=zs,this.outputLen=Ws,this.padOffset=qs,this.isLE=Ys,this.buffer=new Uint8Array(zs),this.view=ln$1(this.buffer)}update(zs){Nt$1(this),zs=pt(zs),ht(zs);const{view:Ws,buffer:qs,blockLen:Ys}=this,Xs=zs.length;for(let Zs=0;Zs<Xs;){const yl=Math.min(Ys-this.pos,Xs-Zs);if(yl===Ys){const Js=ln$1(zs);for(;Ys<=Xs-Zs;Zs+=Ys)this.process(Js,Zs);continue}qs.set(zs.subarray(Zs,Zs+yl),this.pos),this.pos+=yl,Zs+=yl,this.pos===Ys&&(this.process(Ws,0),this.pos=0)}return this.length+=zs.length,this.roundClean(),this}digestInto(zs){Nt$1(this),un$1(zs,this),this.finished=!0;const{buffer:Ws,view:qs,blockLen:Ys,isLE:Xs}=this;let{pos:Zs}=this;Ws[Zs++]=128,lt(this.buffer.subarray(Zs)),this.padOffset>Ys-Zs&&(this.process(qs,0),Zs=0);for(let wl=Zs;wl<Ys;wl++)Ws[wl]=0;ac(qs,Ys-8,BigInt(this.length*8),Xs),this.process(qs,0);const yl=ln$1(zs),Js=this.outputLen;if(Js%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $l=Js/4,El=this.get();if($l>El.length)throw new Error("_sha2: outputLen bigger than state");for(let wl=0;wl<$l;wl++)yl.setUint32(4*wl,El[wl],Xs)}digest(){const{buffer:zs,outputLen:Ws}=this;this.digestInto(zs);const qs=zs.slice(0,Ws);return this.destroy(),qs}_cloneInto(zs){zs||(zs=new this.constructor),zs.set(...this.get());const{blockLen:Ws,buffer:qs,length:Ys,finished:Xs,destroyed:Zs,pos:yl}=this;return zs.destroyed=Zs,zs.finished=Xs,zs.length=Ys,zs.pos=yl,Ys%Ws&&zs.buffer.set(qs),zs}clone(){return this._cloneInto()}};const Rt$2=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),X$1=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),J$1=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),dc=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$t$1=new Uint32Array(64);class hc extends qr$1{constructor(zs=32){super(64,zs,8,!1),this.A=Rt$2[0]|0,this.B=Rt$2[1]|0,this.C=Rt$2[2]|0,this.D=Rt$2[3]|0,this.E=Rt$2[4]|0,this.F=Rt$2[5]|0,this.G=Rt$2[6]|0,this.H=Rt$2[7]|0}get(){const{A:zs,B:Ws,C:qs,D:Ys,E:Xs,F:Zs,G:yl,H:Js}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js){this.A=zs|0,this.B=Ws|0,this.C=qs|0,this.D=Ys|0,this.E=Xs|0,this.F=Zs|0,this.G=yl|0,this.H=Js|0}process(zs,Ws){for(let wl=0;wl<16;wl++,Ws+=4)$t$1[wl]=zs.getUint32(Ws,!1);for(let wl=16;wl<64;wl++){const _l=$t$1[wl-15],Sl=$t$1[wl-2],Tl=bt(_l,7)^bt(_l,18)^_l>>>3,Il=bt(Sl,17)^bt(Sl,19)^Sl>>>10;$t$1[wl]=Il+$t$1[wl-7]+Tl+$t$1[wl-16]|0}let{A:qs,B:Ys,C:Xs,D:Zs,E:yl,F:Js,G:$l,H:El}=this;for(let wl=0;wl<64;wl++){const _l=bt(yl,6)^bt(yl,11)^bt(yl,25),Sl=El+_l+uc(yl,Js,$l)+dc[wl]+$t$1[wl]|0,Tl=(bt(qs,2)^bt(qs,13)^bt(qs,22))+lc(qs,Ys,Xs)|0;El=$l,$l=Js,Js=yl,yl=Zs+Sl|0,Zs=Xs,Xs=Ys,Ys=qs,qs=Sl+Tl|0}qs=qs+this.A|0,Ys=Ys+this.B|0,Xs=Xs+this.C|0,Zs=Zs+this.D|0,yl=yl+this.E|0,Js=Js+this.F|0,$l=$l+this.G|0,El=El+this.H|0,this.set(qs,Ys,Xs,Zs,yl,Js,$l,El)}roundClean(){lt($t$1)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const Fr$1=_r$1(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(at=>BigInt(at))),pc=Fr$1[0],gc=Fr$1[1],Tt$1=new Uint32Array(80),Ct$1=new Uint32Array(80);let dn$1=class extends qr$1{constructor(zs=64){super(128,zs,16,!1),this.Ah=J$1[0]|0,this.Al=J$1[1]|0,this.Bh=J$1[2]|0,this.Bl=J$1[3]|0,this.Ch=J$1[4]|0,this.Cl=J$1[5]|0,this.Dh=J$1[6]|0,this.Dl=J$1[7]|0,this.Eh=J$1[8]|0,this.El=J$1[9]|0,this.Fh=J$1[10]|0,this.Fl=J$1[11]|0,this.Gh=J$1[12]|0,this.Gl=J$1[13]|0,this.Hh=J$1[14]|0,this.Hl=J$1[15]|0}get(){const{Ah:zs,Al:Ws,Bh:qs,Bl:Ys,Ch:Xs,Cl:Zs,Dh:yl,Dl:Js,Eh:$l,El,Fh:wl,Fl:_l,Gh:Sl,Gl:Tl,Hh:Il,Hl:Al}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al){this.Ah=zs|0,this.Al=Ws|0,this.Bh=qs|0,this.Bl=Ys|0,this.Ch=Xs|0,this.Cl=Zs|0,this.Dh=yl|0,this.Dl=Js|0,this.Eh=$l|0,this.El=El|0,this.Fh=wl|0,this.Fl=_l|0,this.Gh=Sl|0,this.Gl=Tl|0,this.Hh=Il|0,this.Hl=Al|0}process(zs,Ws){for(let Cl=0;Cl<16;Cl++,Ws+=4)Tt$1[Cl]=zs.getUint32(Ws),Ct$1[Cl]=zs.getUint32(Ws+=4);for(let Cl=16;Cl<80;Cl++){const Rl=Tt$1[Cl-15]|0,Ol=Ct$1[Cl-15]|0,Ml=St$2(Rl,Ol,1)^St$2(Rl,Ol,8)^Rr$1(Rl,Ol,7),Ll=Ot$1(Rl,Ol,1)^Ot$1(Rl,Ol,8)^$r$1(Rl,Ol,7),Bl=Tt$1[Cl-2]|0,Wl=Ct$1[Cl-2]|0,Yl=St$2(Bl,Wl,19)^de(Bl,Wl,61)^Rr$1(Bl,Wl,6),Kl=Ot$1(Bl,Wl,19)^he$1(Bl,Wl,61)^$r$1(Bl,Wl,6),Xl=Zi(Ll,Kl,Ct$1[Cl-7],Ct$1[Cl-16]),Ul=Gi$1(Xl,Ml,Yl,Tt$1[Cl-7],Tt$1[Cl-16]);Tt$1[Cl]=Ul|0,Ct$1[Cl]=Xl|0}let{Ah:qs,Al:Ys,Bh:Xs,Bl:Zs,Ch:yl,Cl:Js,Dh:$l,Dl:El,Eh:wl,El:_l,Fh:Sl,Fl:Tl,Gh:Il,Gl:Al,Hh:xl,Hl:Pl}=this;for(let Cl=0;Cl<80;Cl++){const Rl=St$2(wl,_l,14)^St$2(wl,_l,18)^de(wl,_l,41),Ol=Ot$1(wl,_l,14)^Ot$1(wl,_l,18)^he$1(wl,_l,41),Ml=wl&Sl^~wl&Il,Ll=_l&Tl^~_l&Al,Bl=zi$1(Pl,Ol,Ll,gc[Cl],Ct$1[Cl]),Wl=Yi(Bl,xl,Rl,Ml,pc[Cl],Tt$1[Cl]),Yl=Bl|0,Kl=St$2(qs,Ys,28)^de(qs,Ys,34)^de(qs,Ys,39),Xl=Ot$1(qs,Ys,28)^he$1(qs,Ys,34)^he$1(qs,Ys,39),Ul=qs&Xs^qs&yl^Xs&yl,Vl=Ys&Zs^Ys&Js^Zs&Js;xl=Il|0,Pl=Al|0,Il=Sl|0,Al=Tl|0,Sl=wl|0,Tl=_l|0,{h:wl,l:_l}=dt$1($l|0,El|0,Wl|0,Yl|0),$l=yl|0,El=Js|0,yl=Xs|0,Js=Zs|0,Xs=qs|0,Zs=Ys|0;const Nl=fn$1(Yl,Xl,Vl);qs=an$1(Nl,Wl,Kl,Ul),Ys=Nl|0}({h:qs,l:Ys}=dt$1(this.Ah|0,this.Al|0,qs|0,Ys|0)),{h:Xs,l:Zs}=dt$1(this.Bh|0,this.Bl|0,Xs|0,Zs|0),{h:yl,l:Js}=dt$1(this.Ch|0,this.Cl|0,yl|0,Js|0),{h:$l,l:El}=dt$1(this.Dh|0,this.Dl|0,$l|0,El|0),{h:wl,l:_l}=dt$1(this.Eh|0,this.El|0,wl|0,_l|0),{h:Sl,l:Tl}=dt$1(this.Fh|0,this.Fl|0,Sl|0,Tl|0),{h:Il,l:Al}=dt$1(this.Gh|0,this.Gl|0,Il|0,Al|0),{h:xl,l:Pl}=dt$1(this.Hh|0,this.Hl|0,xl|0,Pl|0),this.set(qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al,xl,Pl)}roundClean(){lt(Tt$1,Ct$1)}destroy(){lt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class bc extends dn$1{constructor(){super(48),this.Ah=X$1[0]|0,this.Al=X$1[1]|0,this.Bh=X$1[2]|0,this.Bl=X$1[3]|0,this.Ch=X$1[4]|0,this.Cl=X$1[5]|0,this.Dh=X$1[6]|0,this.Dl=X$1[7]|0,this.Eh=X$1[8]|0,this.El=X$1[9]|0,this.Fh=X$1[10]|0,this.Fl=X$1[11]|0,this.Gh=X$1[12]|0,this.Gl=X$1[13]|0,this.Hh=X$1[14]|0,this.Hl=X$1[15]|0}}const Q=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class yc extends dn$1{constructor(){super(32),this.Ah=Q[0]|0,this.Al=Q[1]|0,this.Bh=Q[2]|0,this.Bl=Q[3]|0,this.Ch=Q[4]|0,this.Cl=Q[5]|0,this.Dh=Q[6]|0,this.Dl=Q[7]|0,this.Eh=Q[8]|0,this.El=Q[9]|0,this.Fh=Q[10]|0,this.Fl=Q[11]|0,this.Gh=Q[12]|0,this.Gl=Q[13]|0,this.Hh=Q[14]|0,this.Hl=Q[15]|0}}const Te$1=ge$1(()=>new hc),mc=ge$1(()=>new dn$1),wc=ge$1(()=>new bc),vc=ge$1(()=>new yc),xc=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),z$1=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),S=new Uint32Array(32);function jt$1(at,zs,Ws,qs,Ys,Xs){const Zs=Ys[Xs],yl=Ys[Xs+1];let Js=S[2*at],$l=S[2*at+1],El=S[2*zs],wl=S[2*zs+1],_l=S[2*Ws],Sl=S[2*Ws+1],Tl=S[2*qs],Il=S[2*qs+1],Al=fn$1(Js,El,Zs);$l=an$1(Al,$l,wl,yl),Js=Al|0,{Dh:Il,Dl:Tl}={Dh:Il^$l,Dl:Tl^Js},{Dh:Il,Dl:Tl}={Dh:Di$1(Il,Tl),Dl:Vi$1(Il)},{h:Sl,l:_l}=dt$1(Sl,_l,Il,Tl),{Bh:wl,Bl:El}={Bh:wl^Sl,Bl:El^_l},{Bh:wl,Bl:El}={Bh:St$2(wl,El,24),Bl:Ot$1(wl,El,24)},S[2*at]=Js,S[2*at+1]=$l,S[2*zs]=El,S[2*zs+1]=wl,S[2*Ws]=_l,S[2*Ws+1]=Sl,S[2*qs]=Tl,S[2*qs+1]=Il}function Lt$1(at,zs,Ws,qs,Ys,Xs){const Zs=Ys[Xs],yl=Ys[Xs+1];let Js=S[2*at],$l=S[2*at+1],El=S[2*zs],wl=S[2*zs+1],_l=S[2*Ws],Sl=S[2*Ws+1],Tl=S[2*qs],Il=S[2*qs+1],Al=fn$1(Js,El,Zs);$l=an$1(Al,$l,wl,yl),Js=Al|0,{Dh:Il,Dl:Tl}={Dh:Il^$l,Dl:Tl^Js},{Dh:Il,Dl:Tl}={Dh:St$2(Il,Tl,16),Dl:Ot$1(Il,Tl,16)},{h:Sl,l:_l}=dt$1(Sl,_l,Il,Tl),{Bh:wl,Bl:El}={Bh:wl^Sl,Bl:El^_l},{Bh:wl,Bl:El}={Bh:de(wl,El,63),Bl:he$1(wl,El,63)},S[2*at]=Js,S[2*at+1]=$l,S[2*zs]=El,S[2*zs+1]=wl,S[2*Ws]=_l,S[2*Ws+1]=Sl,S[2*qs]=Tl,S[2*qs+1]=Il}function Ec(at,zs={},Ws,qs,Ys){if(mt$1(Ws),at<0||at>Ws)throw new Error("outputLen bigger than keyLen");const{key:Xs,salt:Zs,personalization:yl}=zs;if(Xs!==void 0&&(Xs.length<1||Xs.length>Ws))throw new Error("key length must be undefined or 1.."+Ws);if(Zs!==void 0&&Zs.length!==qs)throw new Error("salt must be undefined or "+qs);if(yl!==void 0&&yl.length!==Ys)throw new Error("personalization must be undefined or "+Ys)}class Bc extends $e$1{constructor(zs,Ws){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt$1(zs),mt$1(Ws),this.blockLen=zs,this.outputLen=Ws,this.buffer=new Uint8Array(zs),this.buffer32=pe(this.buffer)}update(zs){Nt$1(this),zs=pt(zs),ht(zs);const{blockLen:Ws,buffer:qs,buffer32:Ys}=this,Xs=zs.length,Zs=zs.byteOffset,yl=zs.buffer;for(let Js=0;Js<Xs;){this.pos===Ws&&(Ut$1(Ys),this.compress(Ys,0,!1),Ut$1(Ys),this.pos=0);const $l=Math.min(Ws-this.pos,Xs-Js),El=Zs+Js;if($l===Ws&&!(El%4)&&Js+$l<Xs){const wl=new Uint32Array(yl,El,Math.floor((Xs-Js)/4));Ut$1(wl);for(let _l=0;Js+Ws<Xs;_l+=Ys.length,Js+=Ws)this.length+=Ws,this.compress(wl,_l,!1);Ut$1(wl);continue}qs.set(zs.subarray(Js,Js+$l),this.pos),this.pos+=$l,this.length+=$l,Js+=$l}return this}digestInto(zs){Nt$1(this),un$1(zs,this);const{pos:Ws,buffer32:qs}=this;this.finished=!0,lt(this.buffer.subarray(Ws)),Ut$1(qs),this.compress(qs,0,!0),Ut$1(qs);const Ys=pe(zs);this.get().forEach((Xs,Zs)=>Ys[Zs]=wt$1(Xs))}digest(){const{buffer:zs,outputLen:Ws}=this;this.digestInto(zs);const qs=zs.slice(0,Ws);return this.destroy(),qs}_cloneInto(zs){const{buffer:Ws,length:qs,finished:Ys,destroyed:Xs,outputLen:Zs,pos:yl}=this;return zs||(zs=new this.constructor({dkLen:Zs})),zs.set(...this.get()),zs.buffer.set(Ws),zs.destroyed=Xs,zs.finished=Ys,zs.length=qs,zs.pos=yl,zs.outputLen=Zs,zs}clone(){return this._cloneInto()}}class Ic extends Bc{constructor(zs={}){const Ws=zs.dkLen===void 0?64:zs.dkLen;super(128,Ws),this.v0l=z$1[0]|0,this.v0h=z$1[1]|0,this.v1l=z$1[2]|0,this.v1h=z$1[3]|0,this.v2l=z$1[4]|0,this.v2h=z$1[5]|0,this.v3l=z$1[6]|0,this.v3h=z$1[7]|0,this.v4l=z$1[8]|0,this.v4h=z$1[9]|0,this.v5l=z$1[10]|0,this.v5h=z$1[11]|0,this.v6l=z$1[12]|0,this.v6h=z$1[13]|0,this.v7l=z$1[14]|0,this.v7h=z$1[15]|0,Ec(Ws,zs,64,16,16);let{key:qs,personalization:Ys,salt:Xs}=zs,Zs=0;if(qs!==void 0&&(qs=pt(qs),Zs=qs.length),this.v0l^=this.outputLen|Zs<<8|65536|1<<24,Xs!==void 0){Xs=pt(Xs);const yl=pe(Xs);this.v4l^=wt$1(yl[0]),this.v4h^=wt$1(yl[1]),this.v5l^=wt$1(yl[2]),this.v5h^=wt$1(yl[3])}if(Ys!==void 0){Ys=pt(Ys);const yl=pe(Ys);this.v6l^=wt$1(yl[0]),this.v6h^=wt$1(yl[1]),this.v7l^=wt$1(yl[2]),this.v7h^=wt$1(yl[3])}if(qs!==void 0){const yl=new Uint8Array(this.blockLen);yl.set(qs),this.update(yl)}}get(){let{v0l:zs,v0h:Ws,v1l:qs,v1h:Ys,v2l:Xs,v2h:Zs,v3l:yl,v3h:Js,v4l:$l,v4h:El,v5l:wl,v5h:_l,v6l:Sl,v6h:Tl,v7l:Il,v7h:Al}=this;return[zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al]}set(zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al){this.v0l=zs|0,this.v0h=Ws|0,this.v1l=qs|0,this.v1h=Ys|0,this.v2l=Xs|0,this.v2h=Zs|0,this.v3l=yl|0,this.v3h=Js|0,this.v4l=$l|0,this.v4h=El|0,this.v5l=wl|0,this.v5h=_l|0,this.v6l=Sl|0,this.v6h=Tl|0,this.v7l=Il|0,this.v7h=Al|0}compress(zs,Ws,qs){this.get().forEach((Js,$l)=>S[$l]=Js),S.set(z$1,16);let{h:Ys,l:Xs}=Ur$1(BigInt(this.length));S[24]=z$1[8]^Xs,S[25]=z$1[9]^Ys,qs&&(S[28]=~S[28],S[29]=~S[29]);let Zs=0;const yl=xc;for(let Js=0;Js<12;Js++)jt$1(0,4,8,12,zs,Ws+2*yl[Zs++]),Lt$1(0,4,8,12,zs,Ws+2*yl[Zs++]),jt$1(1,5,9,13,zs,Ws+2*yl[Zs++]),Lt$1(1,5,9,13,zs,Ws+2*yl[Zs++]),jt$1(2,6,10,14,zs,Ws+2*yl[Zs++]),Lt$1(2,6,10,14,zs,Ws+2*yl[Zs++]),jt$1(3,7,11,15,zs,Ws+2*yl[Zs++]),Lt$1(3,7,11,15,zs,Ws+2*yl[Zs++]),jt$1(0,5,10,15,zs,Ws+2*yl[Zs++]),Lt$1(0,5,10,15,zs,Ws+2*yl[Zs++]),jt$1(1,6,11,12,zs,Ws+2*yl[Zs++]),Lt$1(1,6,11,12,zs,Ws+2*yl[Zs++]),jt$1(2,7,8,13,zs,Ws+2*yl[Zs++]),Lt$1(2,7,8,13,zs,Ws+2*yl[Zs++]),jt$1(3,4,9,14,zs,Ws+2*yl[Zs++]),Lt$1(3,4,9,14,zs,Ws+2*yl[Zs++]);this.v0l^=S[0]^S[16],this.v0h^=S[1]^S[17],this.v1l^=S[2]^S[18],this.v1h^=S[3]^S[19],this.v2l^=S[4]^S[20],this.v2h^=S[5]^S[21],this.v3l^=S[6]^S[22],this.v3h^=S[7]^S[23],this.v4l^=S[8]^S[24],this.v4h^=S[9]^S[25],this.v5l^=S[10]^S[26],this.v5h^=S[11]^S[27],this.v6l^=S[12]^S[28],this.v6h^=S[13]^S[29],this.v7l^=S[14]^S[30],this.v7h^=S[15]^S[31],lt(S)}destroy(){this.destroyed=!0,lt(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ac=Ji(at=>new Ic(at)),Sc="https://rpc.walletconnect.org/v1";function hn$1(at){const zs=`Ethereum Signed Message:
${at.length}`,Ws=new TextEncoder().encode(zs+at);return"0x"+Buffer.from(fc(Ws)).toString("hex")}async function Zr$1(at,zs,Ws,qs,Ys,Xs){switch(Ws.t){case"eip191":return await Gr$1(at,zs,Ws.s);case"eip1271":return await zr$1(at,zs,Ws.s,qs,Ys,Xs);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${Ws.t}`)}}function Gr$1(at,zs,Ws){const qs=fromHex(Ws);return recoverAddress({payload:hn$1(zs),signature:qs}).toLowerCase()===at.toLowerCase()}async function zr$1(at,zs,Ws,qs,Ys,Xs){const Zs=Je$1(qs);if(!Zs.namespace||!Zs.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${qs}`);try{const yl="0x1626ba7e",Js="0000000000000000000000000000000000000000000000000000000000000040",$l=Ws.substring(2),El=($l.length/2).toString(16).padStart(64,"0"),wl=(zs.startsWith("0x")?zs:hn$1(zs)).substring(2),_l=yl+wl+Js+El+$l,Sl=await fetch(`${Xs||Sc}/?chainId=${qs}&projectId=${Ys}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Oc(),jsonrpc:"2.0",method:"eth_call",params:[{to:at,data:_l},"latest"]})}),{result:Tl}=await Sl.json();return Tl?Tl.slice(0,yl.length).toLowerCase()===yl.toLowerCase():!1}catch(yl){return console.error("isValidEip1271Signature: ",yl),!1}}function Oc(){return Date.now()+Math.floor(Math.random()*1e3)}function Nc(at){const zs=atob(at),Ws=new Uint8Array(zs.length);for(let Zs=0;Zs<zs.length;Zs++)Ws[Zs]=zs.charCodeAt(Zs);const qs=Ws[0];if(qs===0)throw new Error("No signatures found");const Ys=1+qs*64;if(Ws.length<Ys)throw new Error("Transaction data too short for claimed signature count");if(Ws.length<100)throw new Error("Transaction too short");const Xs=Buffer.from(at,"base64").slice(1,65);return ue$3.encode(Xs)}function Uc(at){const zs=new Uint8Array(Buffer.from(at,"base64")),Ws=Array.from("TransactionData::").map(Xs=>Xs.charCodeAt(0)),qs=new Uint8Array(Ws.length+zs.length);qs.set(Ws),qs.set(zs,Ws.length);const Ys=Ac(qs,{dkLen:32});return ue$3.encode(Ys)}function _c(at){const zs=new Uint8Array(Te$1(Yr$1(at)));return ue$3.encode(zs)}function Yr$1(at){if(at instanceof Uint8Array)return at;if(Array.isArray(at))return new Uint8Array(at);if(typeof at=="object"&&at!=null&&at.data)return new Uint8Array(Object.values(at.data));if(typeof at=="object"&&at)return new Uint8Array(Object.values(at));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Rc(at){const zs=Buffer.from(at,"base64"),Ws=decode$2(zs).txn;if(!Ws)throw new Error("Invalid signed transaction: missing 'txn' field");const qs=encode$2(Ws),Ys=Buffer.from("TX"),Xs=Buffer.concat([Ys,Buffer.from(qs)]),Zs=vc(Xs);return base32$2.encode(Zs).replace(/=+$/,"")}function pn$1(at){const zs=[];let Ws=BigInt(at);for(;Ws>=BigInt(128);)zs.push(Number(Ws&BigInt(127)|BigInt(128))),Ws>>=BigInt(7);return zs.push(Number(Ws)),Buffer.from(zs)}function $c(at){const zs=Buffer.from(at.signed.bodyBytes,"base64"),Ws=Buffer.from(at.signed.authInfoBytes,"base64"),qs=Buffer.from(at.signature.signature,"base64"),Ys=[];Ys.push(Buffer.from([10])),Ys.push(pn$1(zs.length)),Ys.push(zs),Ys.push(Buffer.from([18])),Ys.push(pn$1(Ws.length)),Ys.push(Ws),Ys.push(Buffer.from([26])),Ys.push(pn$1(qs.length)),Ys.push(qs);const Xs=Buffer.concat(Ys),Zs=Te$1(Xs);return Buffer.from(Zs).toString("hex").toUpperCase()}function Tc(at){var zs,Ws;const qs=[];try{if(typeof at=="string")return qs.push(at),qs;if(typeof at!="object")return qs;at!=null&&at.id&&qs.push(at.id);const Ys=(Ws=(zs=at==null?void 0:at.capabilities)==null?void 0:zs.caip345)==null?void 0:Ws.transactionHashes;Ys&&qs.push(...Ys)}catch(Ys){console.warn("getWalletSendCallsHashes failed: ",Ys)}return qs}var Cc=Object.defineProperty,jc=Object.defineProperties,Lc=Object.getOwnPropertyDescriptors,Wr$1=Object.getOwnPropertySymbols,kc=Object.prototype.hasOwnProperty,Pc=Object.prototype.propertyIsEnumerable,Xr$1=(at,zs,Ws)=>zs in at?Cc(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,gn$1=(at,zs)=>{for(var Ws in zs||(zs={}))kc.call(zs,Ws)&&Xr$1(at,Ws,zs[Ws]);if(Wr$1)for(var Ws of Wr$1(zs))Pc.call(zs,Ws)&&Xr$1(at,Ws,zs[Ws]);return at},Jr$1=(at,zs)=>jc(at,Lc(zs));const Qr$1="did:pkh:",Hc={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},Dc=at=>at?Hc[at]||at:"",ye$1=at=>at==null?void 0:at.split(":"),to$1=at=>{const zs=at&&ye$1(at);if(zs)return at.includes(Qr$1)?zs[3]:zs[1]},eo$1=at=>{const zs=at&&ye$1(at);if(zs)return at.includes(Qr$1)?zs[2]:zs[0]},no$1=at=>{const zs=at&&ye$1(at);if(zs)return zs[2]+":"+zs[3]},bn$1=at=>{const zs=at&&ye$1(at);if(zs)return zs.pop()};async function Vc(at){const{cacao:zs,projectId:Ws}=at,{s:qs,p:Ys}=zs,Xs=ro$1(Ys,Ys.iss),Zs=bn$1(Ys.iss);return await Zr$1(Zs,Xs,qs,no$1(Ys.iss),Ws)}const ro$1=(at,zs)=>{const Ws=eo$1(zs);if(!Ws)throw new Error("Invalid issuer: "+zs);const qs=`${at.domain} wants you to sign in with your ${Dc(Ws)} account:`,Ys=bn$1(zs);if(!at.aud&&!at.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let Xs=at.statement||void 0;const Zs=`URI: ${at.aud||at.uri}`,yl=`Version: ${at.version}`,Js=`Chain ID: ${to$1(zs)}`,$l=`Nonce: ${at.nonce}`,El=`Issued At: ${at.iat}`,wl=at.exp?`Expiration Time: ${at.exp}`:void 0,_l=at.nbf?`Not Before: ${at.nbf}`:void 0,Sl=at.requestId?`Request ID: ${at.requestId}`:void 0,Tl=at.resources?`Resources:${at.resources.map(Al=>`
- ${Al}`).join("")}`:void 0,Il=je(at.resources);if(Il){const Al=kt$1(Il);Xs=wn$1(Xs,Al)}return[qs,Ys,"",Xs,"",Zs,yl,Js,$l,El,wl,_l,Sl,Tl].filter(Al=>Al!=null).join(`
`)};function co$1(at){return Buffer.from(JSON.stringify(at)).toString("base64")}function fo$1(at){return JSON.parse(Buffer.from(at,"base64").toString("utf-8"))}function yt$1(at){if(!at)throw new Error("No recap provided, value is undefined");if(!at.att)throw new Error("No `att` property found");const zs=Object.keys(at.att);if(!(zs!=null&&zs.length))throw new Error("No resources found in `att` property");zs.forEach(Ws=>{const qs=at.att[Ws];if(Array.isArray(qs))throw new Error(`Resource must be an object: ${Ws}`);if(typeof qs!="object")throw new Error(`Resource must be an object: ${Ws}`);if(!Object.keys(qs).length)throw new Error(`Resource object is empty: ${Ws}`);Object.keys(qs).forEach(Ys=>{const Xs=qs[Ys];if(!Array.isArray(Xs))throw new Error(`Ability limits ${Ys} must be an array of objects, found: ${Xs}`);if(!Xs.length)throw new Error(`Value of ${Ys} is empty array, must be an array with objects`);Xs.forEach(Zs=>{if(typeof Zs!="object")throw new Error(`Ability limits (${Ys}) must be an array of objects, found: ${Zs}`)})})})}function ao$1(at,zs,Ws,qs={}){return Ws==null||Ws.sort((Ys,Xs)=>Ys.localeCompare(Xs)),{att:{[at]:yn$1(zs,Ws,qs)}}}function yn$1(at,zs,Ws={}){zs=zs==null?void 0:zs.sort((Ys,Xs)=>Ys.localeCompare(Xs));const qs=zs.map(Ys=>({[`${at}/${Ys}`]:[Ws]}));return Object.assign({},...qs)}function Ce(at){return yt$1(at),`urn:recap:${co$1(at).replace(/=/g,"")}`}function kt$1(at){const zs=fo$1(at.replace("urn:recap:",""));return yt$1(zs),zs}function Zc(at,zs,Ws){const qs=ao$1(at,zs,Ws);return Ce(qs)}function mn$1(at){return at&&at.includes("urn:recap:")}function Gc(at,zs){const Ws=kt$1(at),qs=kt$1(zs),Ys=lo$1(Ws,qs);return Ce(Ys)}function lo$1(at,zs){yt$1(at),yt$1(zs);const Ws=Object.keys(at.att).concat(Object.keys(zs.att)).sort((Ys,Xs)=>Ys.localeCompare(Xs)),qs={att:{}};return Ws.forEach(Ys=>{var Xs,Zs;Object.keys(((Xs=at.att)==null?void 0:Xs[Ys])||{}).concat(Object.keys(((Zs=zs.att)==null?void 0:Zs[Ys])||{})).sort((yl,Js)=>yl.localeCompare(Js)).forEach(yl=>{var Js,$l;qs.att[Ys]=Jr$1(gn$1({},qs.att[Ys]),{[yl]:((Js=at.att[Ys])==null?void 0:Js[yl])||(($l=zs.att[Ys])==null?void 0:$l[yl])})})}),qs}function wn$1(at="",zs){yt$1(zs);const Ws="I further authorize the stated URI to perform the following actions on my behalf: ";if(at.includes(Ws))return at;const qs=[];let Ys=0;Object.keys(zs.att).forEach(yl=>{const Js=Object.keys(zs.att[yl]).map(wl=>({ability:wl.split("/")[0],action:wl.split("/")[1]}));Js.sort((wl,_l)=>wl.action.localeCompare(_l.action));const $l={};Js.forEach(wl=>{$l[wl.ability]||($l[wl.ability]=[]),$l[wl.ability].push(wl.action)});const El=Object.keys($l).map(wl=>(Ys++,`(${Ys}) '${wl}': '${$l[wl].join("', '")}' for '${yl}'.`));qs.push(El.join(", ").replace(".,","."))});const Xs=qs.join(" "),Zs=`${Ws}${Xs}`;return`${at?at+" ":""}${Zs}`}function zc(at){var zs;const Ws=kt$1(at);yt$1(Ws);const qs=(zs=Ws.att)==null?void 0:zs.eip155;return qs?Object.keys(qs).map(Ys=>Ys.split("/")[1]):[]}function Yc(at){const zs=kt$1(at);yt$1(zs);const Ws=[];return Object.values(zs.att).forEach(qs=>{Object.values(qs).forEach(Ys=>{var Xs;(Xs=Ys==null?void 0:Ys[0])!=null&&Xs.chains&&Ws.push(Ys[0].chains)})}),[...new Set(Ws.flat())]}function je(at){if(!at)return;const zs=at==null?void 0:at[at.length-1];return mn$1(zs)?zs:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function po$1(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function vn$1(at){if(typeof at!="boolean")throw new Error(`boolean expected, not ${at}`)}function xn$1(at){if(!Number.isSafeInteger(at)||at<0)throw new Error("positive integer expected, got "+at)}function ot(at,...zs){if(!po$1(at))throw new Error("Uint8Array expected");if(zs.length>0&&!zs.includes(at.length))throw new Error("Uint8Array expected of length "+zs+", got length="+at.length)}function go$1(at,zs=!0){if(at.destroyed)throw new Error("Hash instance has been destroyed");if(zs&&at.finished)throw new Error("Hash#digest() has already been called")}function Wc(at,zs){ot(at);const Ws=zs.outputLen;if(at.length<Ws)throw new Error("digestInto() expects output buffer of length at least "+Ws)}function Pt$1(at){return new Uint32Array(at.buffer,at.byteOffset,Math.floor(at.byteLength/4))}function Qt$1(...at){for(let zs=0;zs<at.length;zs++)at[zs].fill(0)}function Xc(at){return new DataView(at.buffer,at.byteOffset,at.byteLength)}const Jc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Qc(at){if(typeof at!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(at))}function En$1(at){if(typeof at=="string")at=Qc(at);else if(po$1(at))at=Bn$1(at);else throw new Error("Uint8Array expected, got "+typeof at);return at}function tf(at,zs){if(zs==null||typeof zs!="object")throw new Error("options must be defined");return Object.assign(at,zs)}function ef(at,zs){if(at.length!==zs.length)return!1;let Ws=0;for(let qs=0;qs<at.length;qs++)Ws|=at[qs]^zs[qs];return Ws===0}const nf=(at,zs)=>{function Ws(qs,...Ys){if(ot(qs),!Jc)throw new Error("Non little-endian hardware is not yet supported");if(at.nonceLength!==void 0){const $l=Ys[0];if(!$l)throw new Error("nonce / iv required");at.varSizeNonce?ot($l):ot($l,at.nonceLength)}const Xs=at.tagLength;Xs&&Ys[1]!==void 0&&ot(Ys[1]);const Zs=zs(qs,...Ys),yl=($l,El)=>{if(El!==void 0){if($l!==2)throw new Error("cipher output not supported");ot(El)}};let Js=!1;return{encrypt($l,El){if(Js)throw new Error("cannot encrypt() twice with same key + nonce");return Js=!0,ot($l),yl(Zs.encrypt.length,El),Zs.encrypt($l,El)},decrypt($l,El){if(ot($l),Xs&&$l.length<Xs)throw new Error("invalid ciphertext length: smaller than tagLength="+Xs);return yl(Zs.decrypt.length,El),Zs.decrypt($l,El)}}}return Object.assign(Ws,at),Ws};function bo$1(at,zs,Ws=!0){if(zs===void 0)return new Uint8Array(at);if(zs.length!==at)throw new Error("invalid output length, expected "+at+", got: "+zs.length);if(Ws&&!of(zs))throw new Error("invalid output, must be aligned");return zs}function yo$1(at,zs,Ws,qs){if(typeof at.setBigUint64=="function")return at.setBigUint64(zs,Ws,qs);const Ys=BigInt(32),Xs=BigInt(4294967295),Zs=Number(Ws>>Ys&Xs),yl=Number(Ws&Xs);at.setUint32(zs+4,Zs,qs),at.setUint32(zs+0,yl,qs)}function rf(at,zs,Ws){vn$1(Ws);const qs=new Uint8Array(16),Ys=Xc(qs);return yo$1(Ys,0,BigInt(zs),Ws),yo$1(Ys,8,BigInt(at),Ws),qs}function of(at){return at.byteOffset%4===0}function Bn$1(at){return Uint8Array.from(at)}const mo$1=at=>Uint8Array.from(at.split("").map(zs=>zs.charCodeAt(0))),sf=mo$1("expand 16-byte k"),cf=mo$1("expand 32-byte k"),ff=Pt$1(sf),af=Pt$1(cf);function K$2(at,zs){return at<<zs|at>>>32-zs}function In$1(at){return at.byteOffset%4===0}const Le$1=64,uf=16,wo$1=2**32-1,vo$1=new Uint32Array;function lf(at,zs,Ws,qs,Ys,Xs,Zs,yl){const Js=Ys.length,$l=new Uint8Array(Le$1),El=Pt$1($l),wl=In$1(Ys)&&In$1(Xs),_l=wl?Pt$1(Ys):vo$1,Sl=wl?Pt$1(Xs):vo$1;for(let Tl=0;Tl<Js;Zs++){if(at(zs,Ws,qs,El,Zs,yl),Zs>=wo$1)throw new Error("arx: counter overflow");const Il=Math.min(Le$1,Js-Tl);if(wl&&Il===Le$1){const Al=Tl/4;if(Tl%4!==0)throw new Error("arx: invalid block position");for(let xl=0,Pl;xl<uf;xl++)Pl=Al+xl,Sl[Pl]=_l[Pl]^El[xl];Tl+=Le$1;continue}for(let Al=0,xl;Al<Il;Al++)xl=Tl+Al,Xs[xl]=Ys[xl]^$l[Al];Tl+=Il}}function df(at,zs){const{allowShortKeys:Ws,extendNonceFn:qs,counterLength:Ys,counterRight:Xs,rounds:Zs}=tf({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},zs);if(typeof at!="function")throw new Error("core must be a function");return xn$1(Ys),xn$1(Zs),vn$1(Xs),vn$1(Ws),(yl,Js,$l,El,wl=0)=>{ot(yl),ot(Js),ot($l);const _l=$l.length;if(El===void 0&&(El=new Uint8Array(_l)),ot(El),xn$1(wl),wl<0||wl>=wo$1)throw new Error("arx: counter overflow");if(El.length<_l)throw new Error(`arx: output (${El.length}) is shorter than data (${_l})`);const Sl=[];let Tl=yl.length,Il,Al;if(Tl===32)Sl.push(Il=Bn$1(yl)),Al=af;else if(Tl===16&&Ws)Il=new Uint8Array(32),Il.set(yl),Il.set(yl,16),Al=ff,Sl.push(Il);else throw new Error(`arx: invalid 32-byte key, got length=${Tl}`);In$1(Js)||Sl.push(Js=Bn$1(Js));const xl=Pt$1(Il);if(qs){if(Js.length!==24)throw new Error("arx: extended nonce must be 24 bytes");qs(Al,xl,Pt$1(Js.subarray(0,16)),xl),Js=Js.subarray(16)}const Pl=16-Ys;if(Pl!==Js.length)throw new Error(`arx: nonce must be ${Pl} or 16 bytes`);if(Pl!==12){const Rl=new Uint8Array(12);Rl.set(Js,Xs?0:12-Js.length),Js=Rl,Sl.push(Js)}const Cl=Pt$1(Js);return lf(at,Al,xl,Cl,$l,El,wl,Zs),Qt$1(...Sl),El}}const W$1=(at,zs)=>at[zs++]&255|(at[zs++]&255)<<8;class hf{constructor(zs){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,zs=En$1(zs),ot(zs,32);const Ws=W$1(zs,0),qs=W$1(zs,2),Ys=W$1(zs,4),Xs=W$1(zs,6),Zs=W$1(zs,8),yl=W$1(zs,10),Js=W$1(zs,12),$l=W$1(zs,14);this.r[0]=Ws&8191,this.r[1]=(Ws>>>13|qs<<3)&8191,this.r[2]=(qs>>>10|Ys<<6)&7939,this.r[3]=(Ys>>>7|Xs<<9)&8191,this.r[4]=(Xs>>>4|Zs<<12)&255,this.r[5]=Zs>>>1&8190,this.r[6]=(Zs>>>14|yl<<2)&8191,this.r[7]=(yl>>>11|Js<<5)&8065,this.r[8]=(Js>>>8|$l<<8)&8191,this.r[9]=$l>>>5&127;for(let El=0;El<8;El++)this.pad[El]=W$1(zs,16+2*El)}process(zs,Ws,qs=!1){const Ys=qs?0:2048,{h:Xs,r:Zs}=this,yl=Zs[0],Js=Zs[1],$l=Zs[2],El=Zs[3],wl=Zs[4],_l=Zs[5],Sl=Zs[6],Tl=Zs[7],Il=Zs[8],Al=Zs[9],xl=W$1(zs,Ws+0),Pl=W$1(zs,Ws+2),Cl=W$1(zs,Ws+4),Rl=W$1(zs,Ws+6),Ol=W$1(zs,Ws+8),Ml=W$1(zs,Ws+10),Ll=W$1(zs,Ws+12),Bl=W$1(zs,Ws+14);let Wl=Xs[0]+(xl&8191),Yl=Xs[1]+((xl>>>13|Pl<<3)&8191),Kl=Xs[2]+((Pl>>>10|Cl<<6)&8191),Xl=Xs[3]+((Cl>>>7|Rl<<9)&8191),Ul=Xs[4]+((Rl>>>4|Ol<<12)&8191),Vl=Xs[5]+(Ol>>>1&8191),Nl=Xs[6]+((Ol>>>14|Ml<<2)&8191),Dl=Xs[7]+((Ml>>>11|Ll<<5)&8191),Gl=Xs[8]+((Ll>>>8|Bl<<8)&8191),Fl=Xs[9]+(Bl>>>5|Ys),Hl=0,Zl=Hl+Wl*yl+Yl*(5*Al)+Kl*(5*Il)+Xl*(5*Tl)+Ul*(5*Sl);Hl=Zl>>>13,Zl&=8191,Zl+=Vl*(5*_l)+Nl*(5*wl)+Dl*(5*El)+Gl*(5*$l)+Fl*(5*Js),Hl+=Zl>>>13,Zl&=8191;let Su=Hl+Wl*Js+Yl*yl+Kl*(5*Al)+Xl*(5*Il)+Ul*(5*Tl);Hl=Su>>>13,Su&=8191,Su+=Vl*(5*Sl)+Nl*(5*_l)+Dl*(5*wl)+Gl*(5*El)+Fl*(5*$l),Hl+=Su>>>13,Su&=8191;let $u=Hl+Wl*$l+Yl*Js+Kl*yl+Xl*(5*Al)+Ul*(5*Il);Hl=$u>>>13,$u&=8191,$u+=Vl*(5*Tl)+Nl*(5*Sl)+Dl*(5*_l)+Gl*(5*wl)+Fl*(5*El),Hl+=$u>>>13,$u&=8191;let Pu=Hl+Wl*El+Yl*$l+Kl*Js+Xl*yl+Ul*(5*Al);Hl=Pu>>>13,Pu&=8191,Pu+=Vl*(5*Il)+Nl*(5*Tl)+Dl*(5*Sl)+Gl*(5*_l)+Fl*(5*wl),Hl+=Pu>>>13,Pu&=8191;let ku=Hl+Wl*wl+Yl*El+Kl*$l+Xl*Js+Ul*yl;Hl=ku>>>13,ku&=8191,ku+=Vl*(5*Al)+Nl*(5*Il)+Dl*(5*Tl)+Gl*(5*Sl)+Fl*(5*_l),Hl+=ku>>>13,ku&=8191;let Tu=Hl+Wl*_l+Yl*wl+Kl*El+Xl*$l+Ul*Js;Hl=Tu>>>13,Tu&=8191,Tu+=Vl*yl+Nl*(5*Al)+Dl*(5*Il)+Gl*(5*Tl)+Fl*(5*Sl),Hl+=Tu>>>13,Tu&=8191;let Ru=Hl+Wl*Sl+Yl*_l+Kl*wl+Xl*El+Ul*$l;Hl=Ru>>>13,Ru&=8191,Ru+=Vl*Js+Nl*yl+Dl*(5*Al)+Gl*(5*Il)+Fl*(5*Tl),Hl+=Ru>>>13,Ru&=8191;let Mu=Hl+Wl*Tl+Yl*Sl+Kl*_l+Xl*wl+Ul*El;Hl=Mu>>>13,Mu&=8191,Mu+=Vl*$l+Nl*Js+Dl*yl+Gl*(5*Al)+Fl*(5*Il),Hl+=Mu>>>13,Mu&=8191;let Hu=Hl+Wl*Il+Yl*Tl+Kl*Sl+Xl*_l+Ul*wl;Hl=Hu>>>13,Hu&=8191,Hu+=Vl*El+Nl*$l+Dl*Js+Gl*yl+Fl*(5*Al),Hl+=Hu>>>13,Hu&=8191;let Ku=Hl+Wl*Al+Yl*Il+Kl*Tl+Xl*Sl+Ul*_l;Hl=Ku>>>13,Ku&=8191,Ku+=Vl*wl+Nl*El+Dl*$l+Gl*Js+Fl*yl,Hl+=Ku>>>13,Ku&=8191,Hl=(Hl<<2)+Hl|0,Hl=Hl+Zl|0,Zl=Hl&8191,Hl=Hl>>>13,Su+=Hl,Xs[0]=Zl,Xs[1]=Su,Xs[2]=$u,Xs[3]=Pu,Xs[4]=ku,Xs[5]=Tu,Xs[6]=Ru,Xs[7]=Mu,Xs[8]=Hu,Xs[9]=Ku}finalize(){const{h:zs,pad:Ws}=this,qs=new Uint16Array(10);let Ys=zs[1]>>>13;zs[1]&=8191;for(let yl=2;yl<10;yl++)zs[yl]+=Ys,Ys=zs[yl]>>>13,zs[yl]&=8191;zs[0]+=Ys*5,Ys=zs[0]>>>13,zs[0]&=8191,zs[1]+=Ys,Ys=zs[1]>>>13,zs[1]&=8191,zs[2]+=Ys,qs[0]=zs[0]+5,Ys=qs[0]>>>13,qs[0]&=8191;for(let yl=1;yl<10;yl++)qs[yl]=zs[yl]+Ys,Ys=qs[yl]>>>13,qs[yl]&=8191;qs[9]-=8192;let Xs=(Ys^1)-1;for(let yl=0;yl<10;yl++)qs[yl]&=Xs;Xs=~Xs;for(let yl=0;yl<10;yl++)zs[yl]=zs[yl]&Xs|qs[yl];zs[0]=(zs[0]|zs[1]<<13)&65535,zs[1]=(zs[1]>>>3|zs[2]<<10)&65535,zs[2]=(zs[2]>>>6|zs[3]<<7)&65535,zs[3]=(zs[3]>>>9|zs[4]<<4)&65535,zs[4]=(zs[4]>>>12|zs[5]<<1|zs[6]<<14)&65535,zs[5]=(zs[6]>>>2|zs[7]<<11)&65535,zs[6]=(zs[7]>>>5|zs[8]<<8)&65535,zs[7]=(zs[8]>>>8|zs[9]<<5)&65535;let Zs=zs[0]+Ws[0];zs[0]=Zs&65535;for(let yl=1;yl<8;yl++)Zs=(zs[yl]+Ws[yl]|0)+(Zs>>>16)|0,zs[yl]=Zs&65535;Qt$1(qs)}update(zs){go$1(this),zs=En$1(zs),ot(zs);const{buffer:Ws,blockLen:qs}=this,Ys=zs.length;for(let Xs=0;Xs<Ys;){const Zs=Math.min(qs-this.pos,Ys-Xs);if(Zs===qs){for(;qs<=Ys-Xs;Xs+=qs)this.process(zs,Xs);continue}Ws.set(zs.subarray(Xs,Xs+Zs),this.pos),this.pos+=Zs,Xs+=Zs,this.pos===qs&&(this.process(Ws,0,!1),this.pos=0)}return this}destroy(){Qt$1(this.h,this.r,this.buffer,this.pad)}digestInto(zs){go$1(this),Wc(zs,this),this.finished=!0;const{buffer:Ws,h:qs}=this;let{pos:Ys}=this;if(Ys){for(Ws[Ys++]=1;Ys<16;Ys++)Ws[Ys]=0;this.process(Ws,0,!0)}this.finalize();let Xs=0;for(let Zs=0;Zs<8;Zs++)zs[Xs++]=qs[Zs]>>>0,zs[Xs++]=qs[Zs]>>>8;return zs}digest(){const{buffer:zs,outputLen:Ws}=this;this.digestInto(zs);const qs=zs.slice(0,Ws);return this.destroy(),qs}}function pf(at){const zs=(qs,Ys)=>at(Ys).update(En$1(qs)).digest(),Ws=at(new Uint8Array(32));return zs.outputLen=Ws.outputLen,zs.blockLen=Ws.blockLen,zs.create=qs=>at(qs),zs}const gf=pf(at=>new hf(at));function bf(at,zs,Ws,qs,Ys,Xs=20){let Zs=at[0],yl=at[1],Js=at[2],$l=at[3],El=zs[0],wl=zs[1],_l=zs[2],Sl=zs[3],Tl=zs[4],Il=zs[5],Al=zs[6],xl=zs[7],Pl=Ys,Cl=Ws[0],Rl=Ws[1],Ol=Ws[2],Ml=Zs,Ll=yl,Bl=Js,Wl=$l,Yl=El,Kl=wl,Xl=_l,Ul=Sl,Vl=Tl,Nl=Il,Dl=Al,Gl=xl,Fl=Pl,Hl=Cl,Zl=Rl,Su=Ol;for(let Pu=0;Pu<Xs;Pu+=2)Ml=Ml+Yl|0,Fl=K$2(Fl^Ml,16),Vl=Vl+Fl|0,Yl=K$2(Yl^Vl,12),Ml=Ml+Yl|0,Fl=K$2(Fl^Ml,8),Vl=Vl+Fl|0,Yl=K$2(Yl^Vl,7),Ll=Ll+Kl|0,Hl=K$2(Hl^Ll,16),Nl=Nl+Hl|0,Kl=K$2(Kl^Nl,12),Ll=Ll+Kl|0,Hl=K$2(Hl^Ll,8),Nl=Nl+Hl|0,Kl=K$2(Kl^Nl,7),Bl=Bl+Xl|0,Zl=K$2(Zl^Bl,16),Dl=Dl+Zl|0,Xl=K$2(Xl^Dl,12),Bl=Bl+Xl|0,Zl=K$2(Zl^Bl,8),Dl=Dl+Zl|0,Xl=K$2(Xl^Dl,7),Wl=Wl+Ul|0,Su=K$2(Su^Wl,16),Gl=Gl+Su|0,Ul=K$2(Ul^Gl,12),Wl=Wl+Ul|0,Su=K$2(Su^Wl,8),Gl=Gl+Su|0,Ul=K$2(Ul^Gl,7),Ml=Ml+Kl|0,Su=K$2(Su^Ml,16),Dl=Dl+Su|0,Kl=K$2(Kl^Dl,12),Ml=Ml+Kl|0,Su=K$2(Su^Ml,8),Dl=Dl+Su|0,Kl=K$2(Kl^Dl,7),Ll=Ll+Xl|0,Fl=K$2(Fl^Ll,16),Gl=Gl+Fl|0,Xl=K$2(Xl^Gl,12),Ll=Ll+Xl|0,Fl=K$2(Fl^Ll,8),Gl=Gl+Fl|0,Xl=K$2(Xl^Gl,7),Bl=Bl+Ul|0,Hl=K$2(Hl^Bl,16),Vl=Vl+Hl|0,Ul=K$2(Ul^Vl,12),Bl=Bl+Ul|0,Hl=K$2(Hl^Bl,8),Vl=Vl+Hl|0,Ul=K$2(Ul^Vl,7),Wl=Wl+Yl|0,Zl=K$2(Zl^Wl,16),Nl=Nl+Zl|0,Yl=K$2(Yl^Nl,12),Wl=Wl+Yl|0,Zl=K$2(Zl^Wl,8),Nl=Nl+Zl|0,Yl=K$2(Yl^Nl,7);let $u=0;qs[$u++]=Zs+Ml|0,qs[$u++]=yl+Ll|0,qs[$u++]=Js+Bl|0,qs[$u++]=$l+Wl|0,qs[$u++]=El+Yl|0,qs[$u++]=wl+Kl|0,qs[$u++]=_l+Xl|0,qs[$u++]=Sl+Ul|0,qs[$u++]=Tl+Vl|0,qs[$u++]=Il+Nl|0,qs[$u++]=Al+Dl|0,qs[$u++]=xl+Gl|0,qs[$u++]=Pl+Fl|0,qs[$u++]=Cl+Hl|0,qs[$u++]=Rl+Zl|0,qs[$u++]=Ol+Su|0}const yf=df(bf,{counterRight:!1,counterLength:4,allowShortKeys:!1}),mf=new Uint8Array(16),xo$1=(at,zs)=>{at.update(zs);const Ws=zs.length%16;Ws&&at.update(mf.subarray(Ws))},wf=new Uint8Array(32);function Eo$1(at,zs,Ws,qs,Ys){const Xs=at(zs,Ws,wf),Zs=gf.create(Xs);Ys&&xo$1(Zs,Ys),xo$1(Zs,qs);const yl=rf(qs.length,Ys?Ys.length:0,!0);Zs.update(yl);const Js=Zs.digest();return Qt$1(Xs,yl),Js}const vf=at=>(zs,Ws,qs)=>({encrypt(Ys,Xs){const Zs=Ys.length;Xs=bo$1(Zs+16,Xs,!1),Xs.set(Ys);const yl=Xs.subarray(0,-16);at(zs,Ws,yl,yl,1);const Js=Eo$1(at,zs,Ws,yl,qs);return Xs.set(Js,Zs),Qt$1(Js),Xs},decrypt(Ys,Xs){Xs=bo$1(Ys.length-16,Xs,!1);const Zs=Ys.subarray(0,-16),yl=Ys.subarray(-16),Js=Eo$1(at,zs,Ws,Zs,qs);if(!ef(yl,Js))throw new Error("invalid tag");return Xs.set(Ys.subarray(0,-16)),at(zs,Ws,Xs,Xs,1),Qt$1(Js),Xs}}),Bo$1=nf({blockSize:64,nonceLength:12,tagLength:16},vf(yf));let Io$1=class extends $e$1{constructor(zs,Ws){super(),this.finished=!1,this.destroyed=!1,_e$2(zs);const qs=pt(Ws);if(this.iHash=zs.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const Ys=this.blockLen,Xs=new Uint8Array(Ys);Xs.set(qs.length>Ys?zs.create().update(qs).digest():qs);for(let Zs=0;Zs<Xs.length;Zs++)Xs[Zs]^=54;this.iHash.update(Xs),this.oHash=zs.create();for(let Zs=0;Zs<Xs.length;Zs++)Xs[Zs]^=106;this.oHash.update(Xs),lt(Xs)}update(zs){return Nt$1(this),this.iHash.update(zs),this}digestInto(zs){Nt$1(this),ht(zs,this.outputLen),this.finished=!0,this.iHash.digestInto(zs),this.oHash.update(zs),this.oHash.digestInto(zs),this.destroy()}digest(){const zs=new Uint8Array(this.oHash.outputLen);return this.digestInto(zs),zs}_cloneInto(zs){zs||(zs=Object.create(Object.getPrototypeOf(this),{}));const{oHash:Ws,iHash:qs,finished:Ys,destroyed:Xs,blockLen:Zs,outputLen:yl}=this;return zs=zs,zs.finished=Ys,zs.destroyed=Xs,zs.blockLen=Zs,zs.outputLen=yl,zs.oHash=Ws._cloneInto(zs.oHash),zs.iHash=qs._cloneInto(zs.iHash),zs}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ke=(at,zs,Ws)=>new Io$1(at,zs).update(Ws).digest();ke.create=(at,zs)=>new Io$1(at,zs);function xf(at,zs,Ws){return _e$2(at),Ws===void 0&&(Ws=new Uint8Array(at.outputLen)),ke(at,pt(Ws),pt(zs))}const An$1=Uint8Array.from([0]),Ao$1=Uint8Array.of();function Ef(at,zs,Ws,qs=32){_e$2(at),mt$1(qs);const Ys=at.outputLen;if(qs>255*Ys)throw new Error("Length should be <= 255*HashLen");const Xs=Math.ceil(qs/Ys);Ws===void 0&&(Ws=Ao$1);const Zs=new Uint8Array(Xs*Ys),yl=ke.create(at,zs),Js=yl._cloneInto(),$l=new Uint8Array(yl.outputLen);for(let El=0;El<Xs;El++)An$1[0]=El+1,Js.update(El===0?Ao$1:$l).update(Ws).update(An$1).digestInto($l),Zs.set($l,Ys*El),yl._cloneInto(Js);return yl.destroy(),Js.destroy(),lt($l,An$1),Zs.slice(0,qs)}const Bf=(at,zs,Ws,qs,Ys)=>Ef(at,xf(at,zs,Ws),qs,Ys),Pe$1=Te$1,Sn$1=BigInt(0),On$1=BigInt(1);function He$1(at,zs=""){if(typeof at!="boolean"){const Ws=zs&&`"${zs}"`;throw new Error(Ws+"expected boolean, got type="+typeof at)}return at}function Kt$1(at,zs,Ws=""){const qs=Ue$2(at),Ys=at==null?void 0:at.length,Xs=zs!==void 0;if(!qs||Xs&&Ys!==zs){const Zs=Ws&&`"${Ws}" `,yl=Xs?` of length ${zs}`:"",Js=qs?`length=${Ys}`:`type=${typeof at}`;throw new Error(Zs+"expected Uint8Array"+yl+", got "+Js)}return at}function De$2(at){const zs=at.toString(16);return zs.length&1?"0"+zs:zs}function So$1(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return at===""?Sn$1:BigInt("0x"+at)}function Ve$1(at){return So$1(Jt$1(at))}function Me$2(at){return ht(at),So$1(Jt$1(Uint8Array.from(at).reverse()))}function Nn$1(at,zs){return Re$1(at.toString(16).padStart(zs*2,"0"))}function Un$1(at,zs){return Nn$1(at,zs).reverse()}function tt$1(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=Re$1(zs)}catch(Xs){throw new Error(at+" must be hex string or Uint8Array, cause: "+Xs)}else if(Ue$2(zs))qs=Uint8Array.from(zs);else throw new Error(at+" must be hex string or Uint8Array");const Ys=qs.length;if(typeof Ws=="number"&&Ys!==Ws)throw new Error(at+" of length "+Ws+" expected, got "+Ys);return qs}const _n$1=at=>typeof at=="bigint"&&Sn$1<=at;function If(at,zs,Ws){return _n$1(at)&&_n$1(zs)&&_n$1(Ws)&&zs<=at&&at<Ws}function Rn$1(at,zs,Ws,qs){if(!If(zs,Ws,qs))throw new Error("expected valid "+at+": "+Ws+" <= n < "+qs+", got "+zs)}function Oo$1(at){let zs;for(zs=0;at>Sn$1;at>>=On$1,zs+=1);return zs}const me$1=at=>(On$1<<BigInt(at))-On$1;function Af(at,zs,Ws){if(typeof at!="number"||at<2)throw new Error("hashLen must be a number");if(typeof zs!="number"||zs<2)throw new Error("qByteLen must be a number");if(typeof Ws!="function")throw new Error("hmacFn must be a function");const qs=_l=>new Uint8Array(_l),Ys=_l=>Uint8Array.of(_l);let Xs=qs(at),Zs=qs(at),yl=0;const Js=()=>{Xs.fill(1),Zs.fill(0),yl=0},$l=(..._l)=>Ws(Zs,Xs,..._l),El=(_l=qs(0))=>{Zs=$l(Ys(0),_l),Xs=$l(),_l.length!==0&&(Zs=$l(Ys(1),_l),Xs=$l())},wl=()=>{if(yl++>=1e3)throw new Error("drbg: tried 1000 values");let _l=0;const Sl=[];for(;_l<zs;){Xs=$l();const Tl=Xs.slice();Sl.push(Tl),_l+=Xs.length}return _t$1(...Sl)};return(_l,Sl)=>{Js(),El(_l);let Tl;for(;!(Tl=Sl(wl()));)El();return Js(),Tl}}function Ke$2(at,zs,Ws={}){if(!at||typeof at!="object")throw new Error("expected valid options object");function qs(Ys,Xs,Zs){const yl=at[Ys];if(Zs&&yl===void 0)return;const Js=typeof yl;if(Js!==Xs||yl===null)throw new Error(`param "${Ys}" is invalid: expected ${Xs}, got ${Js}`)}Object.entries(zs).forEach(([Ys,Xs])=>qs(Ys,Xs,!1)),Object.entries(Ws).forEach(([Ys,Xs])=>qs(Ys,Xs,!0))}function No$1(at){const zs=new WeakMap;return(Ws,...qs)=>{const Ys=zs.get(Ws);if(Ys!==void 0)return Ys;const Xs=at(Ws,...qs);return zs.set(Ws,Xs),Xs}}const st=BigInt(0),nt=BigInt(1),qt$1=BigInt(2),Uo$1=BigInt(3),_o$1=BigInt(4),Ro$1=BigInt(5),Sf=BigInt(7),$o$1=BigInt(8),Of=BigInt(9),To$1=BigInt(16);function ct(at,zs){const Ws=at%zs;return Ws>=st?Ws:zs+Ws}function gt$1(at,zs,Ws){let qs=at;for(;zs-- >st;)qs*=qs,qs%=Ws;return qs}function Co$1(at,zs){if(at===st)throw new Error("invert: expected non-zero number");if(zs<=st)throw new Error("invert: expected positive modulus, got "+zs);let Ws=ct(at,zs),qs=zs,Ys=st,Xs=nt;for(;Ws!==st;){const Zs=qs/Ws,yl=qs%Ws,Js=Ys-Xs*Zs;qs=Ws,Ws=yl,Ys=Xs,Xs=Js}if(qs!==nt)throw new Error("invert: does not exist");return ct(Ys,zs)}function $n$1(at,zs,Ws){if(!at.eql(at.sqr(zs),Ws))throw new Error("Cannot find square root")}function jo$1(at,zs){const Ws=(at.ORDER+nt)/_o$1,qs=at.pow(zs,Ws);return $n$1(at,qs,zs),qs}function Nf(at,zs){const Ws=(at.ORDER-Ro$1)/$o$1,qs=at.mul(zs,qt$1),Ys=at.pow(qs,Ws),Xs=at.mul(zs,Ys),Zs=at.mul(at.mul(Xs,qt$1),Ys),yl=at.mul(Xs,at.sub(Zs,at.ONE));return $n$1(at,yl,zs),yl}function Uf(at){const zs=Ht$1(at),Ws=Lo$1(at),qs=Ws(zs,zs.neg(zs.ONE)),Ys=Ws(zs,qs),Xs=Ws(zs,zs.neg(qs)),Zs=(at+Sf)/To$1;return(yl,Js)=>{let $l=yl.pow(Js,Zs),El=yl.mul($l,qs);const wl=yl.mul($l,Ys),_l=yl.mul($l,Xs),Sl=yl.eql(yl.sqr(El),Js),Tl=yl.eql(yl.sqr(wl),Js);$l=yl.cmov($l,El,Sl),El=yl.cmov(_l,wl,Tl);const Il=yl.eql(yl.sqr(El),Js),Al=yl.cmov($l,El,Il);return $n$1(yl,Al,Js),Al}}function Lo$1(at){if(at<Uo$1)throw new Error("sqrt is not defined for small field");let zs=at-nt,Ws=0;for(;zs%qt$1===st;)zs/=qt$1,Ws++;let qs=qt$1;const Ys=Ht$1(at);for(;Po$1(Ys,qs)===1;)if(qs++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(Ws===1)return jo$1;let Xs=Ys.pow(qs,zs);const Zs=(zs+nt)/qt$1;return function(yl,Js){if(yl.is0(Js))return Js;if(Po$1(yl,Js)!==1)throw new Error("Cannot find square root");let $l=Ws,El=yl.mul(yl.ONE,Xs),wl=yl.pow(Js,zs),_l=yl.pow(Js,Zs);for(;!yl.eql(wl,yl.ONE);){if(yl.is0(wl))return yl.ZERO;let Sl=1,Tl=yl.sqr(wl);for(;!yl.eql(Tl,yl.ONE);)if(Sl++,Tl=yl.sqr(Tl),Sl===$l)throw new Error("Cannot find square root");const Il=nt<<BigInt($l-Sl-1),Al=yl.pow(El,Il);$l=Sl,El=yl.sqr(Al),wl=yl.mul(wl,El),_l=yl.mul(_l,Al)}return _l}}function _f(at){return at%_o$1===Uo$1?jo$1:at%$o$1===Ro$1?Nf:at%To$1===Of?Uf(at):Lo$1(at)}const Rf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $f(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},Ws=Rf.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return Ke$2(at,Ws),at}function Tf(at,zs,Ws){if(Ws<st)throw new Error("invalid exponent, negatives unsupported");if(Ws===st)return at.ONE;if(Ws===nt)return zs;let qs=at.ONE,Ys=zs;for(;Ws>st;)Ws&nt&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=nt;return qs}function ko$1(at,zs,Ws=!1){const qs=new Array(zs.length).fill(Ws?at.ZERO:void 0),Ys=zs.reduce((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=Zs,at.mul(Zs,yl)),at.ONE),Xs=at.inv(Ys);return zs.reduceRight((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=at.mul(Zs,qs[Js]),at.mul(Zs,yl)),Xs),qs}function Po$1(at,zs){const Ws=(at.ORDER-nt)/qt$1,qs=at.pow(zs,Ws),Ys=at.eql(qs,at.ONE),Xs=at.eql(qs,at.ZERO),Zs=at.eql(qs,at.neg(at.ONE));if(!Ys&&!Xs&&!Zs)throw new Error("invalid Legendre symbol result");return Ys?1:Xs?0:-1}function Ho$1(at,zs){zs!==void 0&&mt$1(zs);const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function Ht$1(at,zs,Ws=!1,qs={}){if(at<=st)throw new Error("invalid field: expected ORDER > 0, got "+at);let Ys,Xs,Zs=!1,yl;if(typeof zs=="object"&&zs!=null){if(qs.sqrt||Ws)throw new Error("cannot specify opts in two arguments");const _l=zs;_l.BITS&&(Ys=_l.BITS),_l.sqrt&&(Xs=_l.sqrt),typeof _l.isLE=="boolean"&&(Ws=_l.isLE),typeof _l.modFromBytes=="boolean"&&(Zs=_l.modFromBytes),yl=_l.allowedLengths}else typeof zs=="number"&&(Ys=zs),qs.sqrt&&(Xs=qs.sqrt);const{nBitLength:Js,nByteLength:$l}=Ho$1(at,Ys);if($l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let El;const wl=Object.freeze({ORDER:at,isLE:Ws,BITS:Js,BYTES:$l,MASK:me$1(Js),ZERO:st,ONE:nt,allowedLengths:yl,create:_l=>ct(_l,at),isValid:_l=>{if(typeof _l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof _l);return st<=_l&&_l<at},is0:_l=>_l===st,isValidNot0:_l=>!wl.is0(_l)&&wl.isValid(_l),isOdd:_l=>(_l&nt)===nt,neg:_l=>ct(-_l,at),eql:(_l,Sl)=>_l===Sl,sqr:_l=>ct(_l*_l,at),add:(_l,Sl)=>ct(_l+Sl,at),sub:(_l,Sl)=>ct(_l-Sl,at),mul:(_l,Sl)=>ct(_l*Sl,at),pow:(_l,Sl)=>Tf(wl,_l,Sl),div:(_l,Sl)=>ct(_l*Co$1(Sl,at),at),sqrN:_l=>_l*_l,addN:(_l,Sl)=>_l+Sl,subN:(_l,Sl)=>_l-Sl,mulN:(_l,Sl)=>_l*Sl,inv:_l=>Co$1(_l,at),sqrt:Xs||(_l=>(El||(El=_f(at)),El(wl,_l))),toBytes:_l=>Ws?Un$1(_l,$l):Nn$1(_l,$l),fromBytes:(_l,Sl=!0)=>{if(yl){if(!yl.includes(_l.length)||_l.length>$l)throw new Error("Field.fromBytes: expected "+yl+" bytes, got "+_l.length);const Il=new Uint8Array($l);Il.set(_l,Ws?0:Il.length-_l.length),_l=Il}if(_l.length!==$l)throw new Error("Field.fromBytes: expected "+$l+" bytes, got "+_l.length);let Tl=Ws?Me$2(_l):Ve$1(_l);if(Zs&&(Tl=ct(Tl,at)),!Sl&&!wl.isValid(Tl))throw new Error("invalid field element: outside of range 0..ORDER");return Tl},invertBatch:_l=>ko$1(wl,_l),cmov:(_l,Sl,Tl)=>Tl?Sl:_l});return Object.freeze(wl)}function Do$1(at){if(typeof at!="bigint")throw new Error("field order must be bigint");const zs=at.toString(2).length;return Math.ceil(zs/8)}function Vo$1(at){const zs=Do$1(at);return zs+Math.ceil(zs/2)}function Cf(at,zs,Ws=!1){const qs=at.length,Ys=Do$1(zs),Xs=Vo$1(zs);if(qs<16||qs<Xs||qs>1024)throw new Error("expected "+Xs+"-1024 bytes of input, got "+qs);const Zs=Ws?Me$2(at):Ve$1(at),yl=ct(Zs,zs-nt)+nt;return Ws?Un$1(yl,Ys):Nn$1(yl,Ys)}const te=BigInt(0),Ft$1=BigInt(1);function qe$2(at,zs){const Ws=zs.negate();return at?Ws:zs}function Tn$1(at,zs){const Ws=ko$1(at.Fp,zs.map(qs=>qs.Z));return zs.map((qs,Ys)=>at.fromAffine(qs.toAffine(Ws[Ys])))}function Mo$1(at,zs){if(!Number.isSafeInteger(at)||at<=0||at>zs)throw new Error("invalid window size, expected [1.."+zs+"], got W="+at)}function Cn$1(at,zs){Mo$1(at,zs);const Ws=Math.ceil(zs/at)+1,qs=2**(at-1),Ys=2**at,Xs=me$1(at),Zs=BigInt(at);return{windows:Ws,windowSize:qs,mask:Xs,maxNumber:Ys,shiftBy:Zs}}function Ko$1(at,zs,Ws){const{windowSize:qs,mask:Ys,maxNumber:Xs,shiftBy:Zs}=Ws;let yl=Number(at&Ys),Js=at>>Zs;yl>qs&&(yl-=Xs,Js+=Ft$1);const $l=zs*qs,El=$l+Math.abs(yl)-1,wl=yl===0,_l=yl<0,Sl=zs%2!==0;return{nextN:Js,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:$l}}function jf(at,zs){if(!Array.isArray(at))throw new Error("array expected");at.forEach((Ws,qs)=>{if(!(Ws instanceof zs))throw new Error("invalid point at index "+qs)})}function Lf(at,zs){if(!Array.isArray(at))throw new Error("array of scalars expected");at.forEach((Ws,qs)=>{if(!zs.isValid(Ws))throw new Error("invalid scalar at index "+qs)})}const jn$1=new WeakMap,qo$1=new WeakMap;function Ln$1(at){return qo$1.get(at)||1}function Fo$1(at){if(at!==te)throw new Error("invalid wNAF")}class kf{constructor(zs,Ws){this.BASE=zs.BASE,this.ZERO=zs.ZERO,this.Fn=zs.Fn,this.bits=Ws}_unsafeLadder(zs,Ws,qs=this.ZERO){let Ys=zs;for(;Ws>te;)Ws&Ft$1&&(qs=qs.add(Ys)),Ys=Ys.double(),Ws>>=Ft$1;return qs}precomputeWindow(zs,Ws){const{windows:qs,windowSize:Ys}=Cn$1(Ws,this.bits),Xs=[];let Zs=zs,yl=Zs;for(let Js=0;Js<qs;Js++){yl=Zs,Xs.push(yl);for(let $l=1;$l<Ys;$l++)yl=yl.add(Zs),Xs.push(yl);Zs=yl.double()}return Xs}wNAF(zs,Ws,qs){if(!this.Fn.isValid(qs))throw new Error("invalid scalar");let Ys=this.ZERO,Xs=this.BASE;const Zs=Cn$1(zs,this.bits);for(let yl=0;yl<Zs.windows;yl++){const{nextN:Js,offset:$l,isZero:El,isNeg:wl,isNegF:_l,offsetF:Sl}=Ko$1(qs,yl,Zs);qs=Js,El?Xs=Xs.add(qe$2(_l,Ws[Sl])):Ys=Ys.add(qe$2(wl,Ws[$l]))}return Fo$1(qs),{p:Ys,f:Xs}}wNAFUnsafe(zs,Ws,qs,Ys=this.ZERO){const Xs=Cn$1(zs,this.bits);for(let Zs=0;Zs<Xs.windows&&qs!==te;Zs++){const{nextN:yl,offset:Js,isZero:$l,isNeg:El}=Ko$1(qs,Zs,Xs);if(qs=yl,!$l){const wl=Ws[Js];Ys=Ys.add(El?wl.negate():wl)}}return Fo$1(qs),Ys}getPrecomputes(zs,Ws,qs){let Ys=jn$1.get(Ws);return Ys||(Ys=this.precomputeWindow(Ws,zs),zs!==1&&(typeof qs=="function"&&(Ys=qs(Ys)),jn$1.set(Ws,Ys))),Ys}cached(zs,Ws,qs){const Ys=Ln$1(zs);return this.wNAF(Ys,this.getPrecomputes(Ys,zs,qs),Ws)}unsafe(zs,Ws,qs,Ys){const Xs=Ln$1(zs);return Xs===1?this._unsafeLadder(zs,Ws,Ys):this.wNAFUnsafe(Xs,this.getPrecomputes(Xs,zs,qs),Ws,Ys)}createCache(zs,Ws){Mo$1(Ws,this.bits),qo$1.set(zs,Ws),jn$1.delete(zs)}hasCache(zs){return Ln$1(zs)!==1}}function Pf(at,zs,Ws,qs){let Ys=zs,Xs=at.ZERO,Zs=at.ZERO;for(;Ws>te||qs>te;)Ws&Ft$1&&(Xs=Xs.add(Ys)),qs&Ft$1&&(Zs=Zs.add(Ys)),Ys=Ys.double(),Ws>>=Ft$1,qs>>=Ft$1;return{p1:Xs,p2:Zs}}function Hf(at,zs,Ws,qs){jf(Ws,at),Lf(qs,zs);const Ys=Ws.length,Xs=qs.length;if(Ys!==Xs)throw new Error("arrays of points and scalars must have equal length");const Zs=at.ZERO,yl=Oo$1(BigInt(Ys));let Js=1;yl>12?Js=yl-3:yl>4?Js=yl-2:yl>0&&(Js=2);const $l=me$1(Js),El=new Array(Number($l)+1).fill(Zs),wl=Math.floor((zs.BITS-1)/Js)*Js;let _l=Zs;for(let Sl=wl;Sl>=0;Sl-=Js){El.fill(Zs);for(let Il=0;Il<Xs;Il++){const Al=qs[Il],xl=Number(Al>>BigInt(Sl)&$l);El[xl]=El[xl].add(Ws[Il])}let Tl=Zs;for(let Il=El.length-1,Al=Zs;Il>0;Il--)Al=Al.add(El[Il]),Tl=Tl.add(Al);if(_l=_l.add(Tl),Sl!==0)for(let Il=0;Il<Js;Il++)_l=_l.double()}return _l}function Zo$1(at,zs,Ws){if(zs){if(zs.ORDER!==at)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $f(zs),zs}else return Ht$1(at,{isLE:Ws})}function Df(at,zs,Ws={},qs){if(qs===void 0&&(qs=at==="edwards"),!zs||typeof zs!="object")throw new Error(`expected valid ${at} CURVE object`);for(const yl of["p","n","h"]){const Js=zs[yl];if(!(typeof Js=="bigint"&&Js>te))throw new Error(`CURVE.${yl} must be positive bigint`)}const Ys=Zo$1(zs.p,Ws.Fp,qs),Xs=Zo$1(zs.n,Ws.Fn,qs),Zs=["Gx","Gy","a","b"];for(const yl of Zs)if(!Ys.isValid(zs[yl]))throw new Error(`CURVE.${yl} must be valid field element of CURVE.Fp`);return zs=Object.freeze(Object.assign({},zs)),{CURVE:zs,Fp:Ys,Fn:Xs}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),kr$1("HashToScalar-");const we$1=BigInt(0),ee$1=BigInt(1),Fe$1=BigInt(2);function Vf(at){return Ke$2(at,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...at})}function Mf(at){const zs=Vf(at),{P:Ws,type:qs,adjustScalarBytes:Ys,powPminus2:Xs,randomBytes:Zs}=zs,yl=qs==="x25519";if(!yl&&qs!=="x448")throw new Error("invalid type");const Js=Zs||Mt$1,$l=yl?255:448,El=yl?32:56,wl=BigInt(yl?9:5),_l=BigInt(yl?121665:39081),Sl=yl?Fe$1**BigInt(254):Fe$1**BigInt(447),Tl=yl?BigInt(8)*Fe$1**BigInt(251)-ee$1:BigInt(4)*Fe$1**BigInt(445)-ee$1,Il=Sl+Tl+ee$1,Al=Xl=>ct(Xl,Ws),xl=Pl(wl);function Pl(Xl){return Un$1(Al(Xl),El)}function Cl(Xl){const Ul=tt$1("u coordinate",Xl,El);return yl&&(Ul[31]&=127),Al(Me$2(Ul))}function Rl(Xl){return Me$2(Ys(tt$1("scalar",Xl,El)))}function Ol(Xl,Ul){const Vl=Bl(Cl(Ul),Rl(Xl));if(Vl===we$1)throw new Error("invalid private or public key received");return Pl(Vl)}function Ml(Xl){return Ol(Xl,xl)}function Ll(Xl,Ul,Vl){const Nl=Al(Xl*(Ul-Vl));return Ul=Al(Ul-Nl),Vl=Al(Vl+Nl),{x_2:Ul,x_3:Vl}}function Bl(Xl,Ul){Rn$1("u",Xl,we$1,Ws),Rn$1("scalar",Ul,Sl,Il);const Vl=Ul,Nl=Xl;let Dl=ee$1,Gl=we$1,Fl=Xl,Hl=ee$1,Zl=we$1;for(let $u=BigInt($l-1);$u>=we$1;$u--){const Pu=Vl>>$u&ee$1;Zl^=Pu,{x_2:Dl,x_3:Fl}=Ll(Zl,Dl,Fl),{x_2:Gl,x_3:Hl}=Ll(Zl,Gl,Hl),Zl=Pu;const ku=Dl+Gl,Tu=Al(ku*ku),Ru=Dl-Gl,Mu=Al(Ru*Ru),Hu=Tu-Mu,Ku=Fl+Hl,Fu=Fl-Hl,ju=Al(Fu*ku),qu=Al(Ku*Ru),Zu=ju+qu,_d=ju-qu;Fl=Al(Zu*Zu),Hl=Al(Nl*Al(_d*_d)),Dl=Al(Tu*Mu),Gl=Al(Hu*(Tu+Al(_l*Hu)))}({x_2:Dl,x_3:Fl}=Ll(Zl,Dl,Fl)),{x_2:Gl,x_3:Hl}=Ll(Zl,Gl,Hl);const Su=Xs(Gl);return Al(Dl*Su)}const Wl={secretKey:El,publicKey:El,seed:El},Yl=(Xl=Js(El))=>(ht(Xl,Wl.seed),Xl);function Kl(Xl){const Ul=Yl(Xl);return{secretKey:Ul,publicKey:Ml(Ul)}}return{keygen:Kl,getSharedSecret:(Xl,Ul)=>Ol(Xl,Ul),getPublicKey:Xl=>Ml(Xl),scalarMult:Ol,scalarMultBase:Ml,utils:{randomSecretKey:Yl,randomPrivateKey:Yl},GuBytes:xl.slice(),lengths:Wl}}const Kf=BigInt(1),Go$1=BigInt(2),qf=BigInt(3),Ff=BigInt(5);BigInt(8);const zo$1=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Gf={p:zo$1,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function zf(at){const zs=BigInt(10),Ws=BigInt(20),qs=BigInt(40),Ys=BigInt(80),Xs=zo$1,Zs=at*at%Xs*at%Xs,yl=gt$1(Zs,Go$1,Xs)*Zs%Xs,Js=gt$1(yl,Kf,Xs)*at%Xs,$l=gt$1(Js,Ff,Xs)*Js%Xs,El=gt$1($l,zs,Xs)*$l%Xs,wl=gt$1(El,Ws,Xs)*El%Xs,_l=gt$1(wl,qs,Xs)*wl%Xs,Sl=gt$1(_l,Ys,Xs)*_l%Xs,Tl=gt$1(Sl,Ys,Xs)*_l%Xs,Il=gt$1(Tl,zs,Xs)*$l%Xs;return{pow_p_5_8:gt$1(Il,Go$1,Xs)*at%Xs,b2:Zs}}function Yf(at){return at[0]&=248,at[31]&=127,at[31]|=64,at}const Wf=Ht$1(Gf.p,{isLE:!0}),kn$1=(()=>{const at=Wf.ORDER;return Mf({P:at,type:"x25519",powPminus2:zs=>{const{pow_p_5_8:Ws,b2:qs}=zf(zs);return ct(gt$1(Ws,qf,at)*qs,at)},adjustScalarBytes:Yf})})(),Yo$1=(at,zs)=>(at+(at>=0?zs:-zs)/Wo$1)/zs;function Xf(at,zs,Ws){const[[qs,Ys],[Xs,Zs]]=zs,yl=Yo$1(Zs*at,Ws),Js=Yo$1(-Ys*at,Ws);let $l=at-yl*qs-Js*Xs,El=-yl*Ys-Js*Zs;const wl=$l<Et$2,_l=El<Et$2;wl&&($l=-$l),_l&&(El=-El);const Sl=me$1(Math.ceil(Oo$1(Ws)/2))+ne;if($l<Et$2||$l>=Sl||El<Et$2||El>=Sl)throw new Error("splitScalar (endomorphism): failed, k="+at);return{k1neg:wl,k1:$l,k2neg:_l,k2:El}}function Pn$1(at){if(!["compact","recovered","der"].includes(at))throw new Error('Signature format must be "compact", "recovered", or "der"');return at}function Hn$1(at,zs){const Ws={};for(let qs of Object.keys(zs))Ws[qs]=at[qs]===void 0?zs[qs]:at[qs];return He$1(Ws.lowS,"lowS"),He$1(Ws.prehash,"prehash"),Ws.format!==void 0&&Pn$1(Ws.format),Ws}class Jf extends Error{constructor(zs=""){super(zs)}}const xt$1={Err:Jf,_tlv:{encode:(at,zs)=>{const{Err:Ws}=xt$1;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length&1)throw new Ws("tlv.encode: unpadded data");const qs=zs.length/2,Ys=De$2(qs);if(Ys.length/2&128)throw new Ws("tlv.encode: long form length too big");const Xs=qs>127?De$2(Ys.length/2|128):"";return De$2(at)+Xs+Ys+zs},decode(at,zs){const{Err:Ws}=xt$1;let qs=0;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length<2||zs[qs++]!==at)throw new Ws("tlv.decode: wrong tlv");const Ys=zs[qs++],Xs=!!(Ys&128);let Zs=0;if(!Xs)Zs=Ys;else{const Js=Ys&127;if(!Js)throw new Ws("tlv.decode(long): indefinite length not supported");if(Js>4)throw new Ws("tlv.decode(long): byte length is too big");const $l=zs.subarray(qs,qs+Js);if($l.length!==Js)throw new Ws("tlv.decode: length bytes not complete");if($l[0]===0)throw new Ws("tlv.decode(long): zero leftmost byte");for(const El of $l)Zs=Zs<<8|El;if(qs+=Js,Zs<128)throw new Ws("tlv.decode(long): not minimal encoding")}const yl=zs.subarray(qs,qs+Zs);if(yl.length!==Zs)throw new Ws("tlv.decode: wrong value length");return{v:yl,l:zs.subarray(qs+Zs)}}},_int:{encode(at){const{Err:zs}=xt$1;if(at<Et$2)throw new zs("integer: negative integers are not allowed");let Ws=De$2(at);if(Number.parseInt(Ws[0],16)&8&&(Ws="00"+Ws),Ws.length&1)throw new zs("unexpected DER parsing assertion: unpadded hex");return Ws},decode(at){const{Err:zs}=xt$1;if(at[0]&128)throw new zs("invalid signature integer: negative");if(at[0]===0&&!(at[1]&128))throw new zs("invalid signature integer: unnecessary leading zero");return Ve$1(at)}},toSig(at){const{Err:zs,_int:Ws,_tlv:qs}=xt$1,Ys=tt$1("signature",at),{v:Xs,l:Zs}=qs.decode(48,Ys);if(Zs.length)throw new zs("invalid signature: left bytes after parsing");const{v:yl,l:Js}=qs.decode(2,Xs),{v:$l,l:El}=qs.decode(2,Js);if(El.length)throw new zs("invalid signature: left bytes after parsing");return{r:Ws.decode(yl),s:Ws.decode($l)}},hexFromSig(at){const{_tlv:zs,_int:Ws}=xt$1,qs=zs.encode(2,Ws.encode(at.r)),Ys=zs.encode(2,Ws.encode(at.s)),Xs=qs+Ys;return zs.encode(48,Xs)}},Et$2=BigInt(0),ne=BigInt(1),Wo$1=BigInt(2),Ze$1=BigInt(3),Qf=BigInt(4);function re(at,zs){const{BYTES:Ws}=at;let qs;if(typeof zs=="bigint")qs=zs;else{let Ys=tt$1("private key",zs);try{qs=at.fromBytes(Ys)}catch{throw new Error(`invalid private key: expected ui8a of size ${Ws}, got ${typeof zs}`)}}if(!at.isValidNot0(qs))throw new Error("invalid private key: out of range [1..N-1]");return qs}function ta$1(at,zs={}){const Ws=Df("weierstrass",at,zs),{Fp:qs,Fn:Ys}=Ws;let Xs=Ws.CURVE;const{h:Zs,n:yl}=Xs;Ke$2(zs,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:Js}=zs;if(Js&&(!qs.is0(Xs.a)||typeof Js.beta!="bigint"||!Array.isArray(Js.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const $l=Jo$1(qs,Ys);function El(){if(!qs.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function wl(Xl,Ul,Vl){const{x:Nl,y:Dl}=Ul.toAffine(),Gl=qs.toBytes(Nl);if(He$1(Vl,"isCompressed"),Vl){El();const Fl=!qs.isOdd(Dl);return _t$1(Xo$1(Fl),Gl)}else return _t$1(Uint8Array.of(4),Gl,qs.toBytes(Dl))}function _l(Xl){Kt$1(Xl,void 0,"Point");const{publicKey:Ul,publicKeyUncompressed:Vl}=$l,Nl=Xl.length,Dl=Xl[0],Gl=Xl.subarray(1);if(Nl===Ul&&(Dl===2||Dl===3)){const Fl=qs.fromBytes(Gl);if(!qs.isValid(Fl))throw new Error("bad point: is not on curve, wrong x");const Hl=Il(Fl);let Zl;try{Zl=qs.sqrt(Hl)}catch($u){const Pu=$u instanceof Error?": "+$u.message:"";throw new Error("bad point: is not on curve, sqrt error"+Pu)}El();const Su=qs.isOdd(Zl);return(Dl&1)===1!==Su&&(Zl=qs.neg(Zl)),{x:Fl,y:Zl}}else if(Nl===Vl&&Dl===4){const Fl=qs.BYTES,Hl=qs.fromBytes(Gl.subarray(0,Fl)),Zl=qs.fromBytes(Gl.subarray(Fl,Fl*2));if(!Al(Hl,Zl))throw new Error("bad point: is not on curve");return{x:Hl,y:Zl}}else throw new Error(`bad point: got length ${Nl}, expected compressed=${Ul} or uncompressed=${Vl}`)}const Sl=zs.toBytes||wl,Tl=zs.fromBytes||_l;function Il(Xl){const Ul=qs.sqr(Xl),Vl=qs.mul(Ul,Xl);return qs.add(qs.add(Vl,qs.mul(Xl,Xs.a)),Xs.b)}function Al(Xl,Ul){const Vl=qs.sqr(Ul),Nl=Il(Xl);return qs.eql(Vl,Nl)}if(!Al(Xs.Gx,Xs.Gy))throw new Error("bad curve params: generator point");const xl=qs.mul(qs.pow(Xs.a,Ze$1),Qf),Pl=qs.mul(qs.sqr(Xs.b),BigInt(27));if(qs.is0(qs.add(xl,Pl)))throw new Error("bad curve params: a or b");function Cl(Xl,Ul,Vl=!1){if(!qs.isValid(Ul)||Vl&&qs.is0(Ul))throw new Error(`bad point coordinate ${Xl}`);return Ul}function Rl(Xl){if(!(Xl instanceof Wl))throw new Error("ProjectivePoint expected")}function Ol(Xl){if(!Js||!Js.basises)throw new Error("no endo");return Xf(Xl,Js.basises,Ys.ORDER)}const Ml=No$1((Xl,Ul)=>{const{X:Vl,Y:Nl,Z:Dl}=Xl;if(qs.eql(Dl,qs.ONE))return{x:Vl,y:Nl};const Gl=Xl.is0();Ul==null&&(Ul=Gl?qs.ONE:qs.inv(Dl));const Fl=qs.mul(Vl,Ul),Hl=qs.mul(Nl,Ul),Zl=qs.mul(Dl,Ul);if(Gl)return{x:qs.ZERO,y:qs.ZERO};if(!qs.eql(Zl,qs.ONE))throw new Error("invZ was invalid");return{x:Fl,y:Hl}}),Ll=No$1(Xl=>{if(Xl.is0()){if(zs.allowInfinityPoint&&!qs.is0(Xl.Y))return;throw new Error("bad point: ZERO")}const{x:Ul,y:Vl}=Xl.toAffine();if(!qs.isValid(Ul)||!qs.isValid(Vl))throw new Error("bad point: x or y not field elements");if(!Al(Ul,Vl))throw new Error("bad point: equation left != right");if(!Xl.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Bl(Xl,Ul,Vl,Nl,Dl){return Vl=new Wl(qs.mul(Vl.X,Xl),Vl.Y,Vl.Z),Ul=qe$2(Nl,Ul),Vl=qe$2(Dl,Vl),Ul.add(Vl)}class Wl{constructor(Ul,Vl,Nl){this.X=Cl("x",Ul),this.Y=Cl("y",Vl,!0),this.Z=Cl("z",Nl),Object.freeze(this)}static CURVE(){return Xs}static fromAffine(Ul){const{x:Vl,y:Nl}=Ul||{};if(!Ul||!qs.isValid(Vl)||!qs.isValid(Nl))throw new Error("invalid affine point");if(Ul instanceof Wl)throw new Error("projective point not allowed");return qs.is0(Vl)&&qs.is0(Nl)?Wl.ZERO:new Wl(Vl,Nl,qs.ONE)}static fromBytes(Ul){const Vl=Wl.fromAffine(Tl(Kt$1(Ul,void 0,"point")));return Vl.assertValidity(),Vl}static fromHex(Ul){return Wl.fromBytes(tt$1("pointHex",Ul))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(Ul=8,Vl=!0){return Kl.createCache(this,Ul),Vl||this.multiply(Ze$1),this}assertValidity(){Ll(this)}hasEvenY(){const{y:Ul}=this.toAffine();if(!qs.isOdd)throw new Error("Field doesn't support isOdd");return!qs.isOdd(Ul)}equals(Ul){Rl(Ul);const{X:Vl,Y:Nl,Z:Dl}=this,{X:Gl,Y:Fl,Z:Hl}=Ul,Zl=qs.eql(qs.mul(Vl,Hl),qs.mul(Gl,Dl)),Su=qs.eql(qs.mul(Nl,Hl),qs.mul(Fl,Dl));return Zl&&Su}negate(){return new Wl(this.X,qs.neg(this.Y),this.Z)}double(){const{a:Ul,b:Vl}=Xs,Nl=qs.mul(Vl,Ze$1),{X:Dl,Y:Gl,Z:Fl}=this;let Hl=qs.ZERO,Zl=qs.ZERO,Su=qs.ZERO,$u=qs.mul(Dl,Dl),Pu=qs.mul(Gl,Gl),ku=qs.mul(Fl,Fl),Tu=qs.mul(Dl,Gl);return Tu=qs.add(Tu,Tu),Su=qs.mul(Dl,Fl),Su=qs.add(Su,Su),Hl=qs.mul(Ul,Su),Zl=qs.mul(Nl,ku),Zl=qs.add(Hl,Zl),Hl=qs.sub(Pu,Zl),Zl=qs.add(Pu,Zl),Zl=qs.mul(Hl,Zl),Hl=qs.mul(Tu,Hl),Su=qs.mul(Nl,Su),ku=qs.mul(Ul,ku),Tu=qs.sub($u,ku),Tu=qs.mul(Ul,Tu),Tu=qs.add(Tu,Su),Su=qs.add($u,$u),$u=qs.add(Su,$u),$u=qs.add($u,ku),$u=qs.mul($u,Tu),Zl=qs.add(Zl,$u),ku=qs.mul(Gl,Fl),ku=qs.add(ku,ku),$u=qs.mul(ku,Tu),Hl=qs.sub(Hl,$u),Su=qs.mul(ku,Pu),Su=qs.add(Su,Su),Su=qs.add(Su,Su),new Wl(Hl,Zl,Su)}add(Ul){Rl(Ul);const{X:Vl,Y:Nl,Z:Dl}=this,{X:Gl,Y:Fl,Z:Hl}=Ul;let Zl=qs.ZERO,Su=qs.ZERO,$u=qs.ZERO;const Pu=Xs.a,ku=qs.mul(Xs.b,Ze$1);let Tu=qs.mul(Vl,Gl),Ru=qs.mul(Nl,Fl),Mu=qs.mul(Dl,Hl),Hu=qs.add(Vl,Nl),Ku=qs.add(Gl,Fl);Hu=qs.mul(Hu,Ku),Ku=qs.add(Tu,Ru),Hu=qs.sub(Hu,Ku),Ku=qs.add(Vl,Dl);let Fu=qs.add(Gl,Hl);return Ku=qs.mul(Ku,Fu),Fu=qs.add(Tu,Mu),Ku=qs.sub(Ku,Fu),Fu=qs.add(Nl,Dl),Zl=qs.add(Fl,Hl),Fu=qs.mul(Fu,Zl),Zl=qs.add(Ru,Mu),Fu=qs.sub(Fu,Zl),$u=qs.mul(Pu,Ku),Zl=qs.mul(ku,Mu),$u=qs.add(Zl,$u),Zl=qs.sub(Ru,$u),$u=qs.add(Ru,$u),Su=qs.mul(Zl,$u),Ru=qs.add(Tu,Tu),Ru=qs.add(Ru,Tu),Mu=qs.mul(Pu,Mu),Ku=qs.mul(ku,Ku),Ru=qs.add(Ru,Mu),Mu=qs.sub(Tu,Mu),Mu=qs.mul(Pu,Mu),Ku=qs.add(Ku,Mu),Tu=qs.mul(Ru,Ku),Su=qs.add(Su,Tu),Tu=qs.mul(Fu,Ku),Zl=qs.mul(Hu,Zl),Zl=qs.sub(Zl,Tu),Tu=qs.mul(Hu,Ru),$u=qs.mul(Fu,$u),$u=qs.add($u,Tu),new Wl(Zl,Su,$u)}subtract(Ul){return this.add(Ul.negate())}is0(){return this.equals(Wl.ZERO)}multiply(Ul){const{endo:Vl}=zs;if(!Ys.isValidNot0(Ul))throw new Error("invalid scalar: out of range");let Nl,Dl;const Gl=Fl=>Kl.cached(this,Fl,Hl=>Tn$1(Wl,Hl));if(Vl){const{k1neg:Fl,k1:Hl,k2neg:Zl,k2:Su}=Ol(Ul),{p:$u,f:Pu}=Gl(Hl),{p:ku,f:Tu}=Gl(Su);Dl=Pu.add(Tu),Nl=Bl(Vl.beta,$u,ku,Fl,Zl)}else{const{p:Fl,f:Hl}=Gl(Ul);Nl=Fl,Dl=Hl}return Tn$1(Wl,[Nl,Dl])[0]}multiplyUnsafe(Ul){const{endo:Vl}=zs,Nl=this;if(!Ys.isValid(Ul))throw new Error("invalid scalar: out of range");if(Ul===Et$2||Nl.is0())return Wl.ZERO;if(Ul===ne)return Nl;if(Kl.hasCache(this))return this.multiply(Ul);if(Vl){const{k1neg:Dl,k1:Gl,k2neg:Fl,k2:Hl}=Ol(Ul),{p1:Zl,p2:Su}=Pf(Wl,Nl,Gl,Hl);return Bl(Vl.beta,Zl,Su,Dl,Fl)}else return Kl.unsafe(Nl,Ul)}multiplyAndAddUnsafe(Ul,Vl,Nl){const Dl=this.multiplyUnsafe(Vl).add(Ul.multiplyUnsafe(Nl));return Dl.is0()?void 0:Dl}toAffine(Ul){return Ml(this,Ul)}isTorsionFree(){const{isTorsionFree:Ul}=zs;return Zs===ne?!0:Ul?Ul(Wl,this):Kl.unsafe(this,yl).is0()}clearCofactor(){const{clearCofactor:Ul}=zs;return Zs===ne?this:Ul?Ul(Wl,this):this.multiplyUnsafe(Zs)}isSmallOrder(){return this.multiplyUnsafe(Zs).is0()}toBytes(Ul=!0){return He$1(Ul,"isCompressed"),this.assertValidity(),Sl(Wl,this,Ul)}toHex(Ul=!0){return Jt$1(this.toBytes(Ul))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(Ul=!0){return this.toBytes(Ul)}_setWindowSize(Ul){this.precompute(Ul)}static normalizeZ(Ul){return Tn$1(Wl,Ul)}static msm(Ul,Vl){return Hf(Wl,Ys,Ul,Vl)}static fromPrivateKey(Ul){return Wl.BASE.multiply(re(Ys,Ul))}}Wl.BASE=new Wl(Xs.Gx,Xs.Gy,qs.ONE),Wl.ZERO=new Wl(qs.ZERO,qs.ONE,qs.ZERO),Wl.Fp=qs,Wl.Fn=Ys;const Yl=Ys.BITS,Kl=new kf(Wl,zs.endo?Math.ceil(Yl/2):Yl);return Wl.BASE.precompute(8),Wl}function Xo$1(at){return Uint8Array.of(at?2:3)}function Jo$1(at,zs){return{secretKey:zs.BYTES,publicKey:1+at.BYTES,publicKeyUncompressed:1+2*at.BYTES,publicKeyHasPrefix:!0,signature:2*zs.BYTES}}function ea$1(at,zs={}){const{Fn:Ws}=at,qs=zs.randomBytes||Mt$1,Ys=Object.assign(Jo$1(at.Fp,Ws),{seed:Vo$1(Ws.ORDER)});function Xs(_l){try{return!!re(Ws,_l)}catch{return!1}}function Zs(_l,Sl){const{publicKey:Tl,publicKeyUncompressed:Il}=Ys;try{const Al=_l.length;return Sl===!0&&Al!==Tl||Sl===!1&&Al!==Il?!1:!!at.fromBytes(_l)}catch{return!1}}function yl(_l=qs(Ys.seed)){return Cf(Kt$1(_l,Ys.seed,"seed"),Ws.ORDER)}function Js(_l,Sl=!0){return at.BASE.multiply(re(Ws,_l)).toBytes(Sl)}function $l(_l){const Sl=yl(_l);return{secretKey:Sl,publicKey:Js(Sl)}}function El(_l){if(typeof _l=="bigint")return!1;if(_l instanceof at)return!0;const{secretKey:Sl,publicKey:Tl,publicKeyUncompressed:Il}=Ys;if(Ws.allowedLengths||Sl===Tl)return;const Al=tt$1("key",_l).length;return Al===Tl||Al===Il}function wl(_l,Sl,Tl=!0){if(El(_l)===!0)throw new Error("first arg must be private key");if(El(Sl)===!1)throw new Error("second arg must be public key");const Il=re(Ws,_l);return at.fromHex(Sl).multiply(Il).toBytes(Tl)}return Object.freeze({getPublicKey:Js,getSharedSecret:wl,keygen:$l,Point:at,utils:{isValidSecretKey:Xs,isValidPublicKey:Zs,randomSecretKey:yl,isValidPrivateKey:Xs,randomPrivateKey:yl,normPrivateKeyToScalar:_l=>re(Ws,_l),precompute(_l=8,Sl=at.BASE){return Sl.precompute(_l,!1)}},lengths:Ys})}function na(at,zs,Ws={}){_e$2(zs),Ke$2(Ws,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const qs=Ws.randomBytes||Mt$1,Ys=Ws.hmac||((Vl,...Nl)=>ke(zs,Vl,_t$1(...Nl))),{Fp:Xs,Fn:Zs}=at,{ORDER:yl,BITS:Js}=Zs,{keygen:$l,getPublicKey:El,getSharedSecret:wl,utils:_l,lengths:Sl}=ea$1(at,Ws),Tl={prehash:!1,lowS:typeof Ws.lowS=="boolean"?Ws.lowS:!1,format:void 0,extraEntropy:!1},Il="compact";function Al(Vl){const Nl=yl>>ne;return Vl>Nl}function xl(Vl,Nl){if(!Zs.isValidNot0(Nl))throw new Error(`invalid signature ${Vl}: out of range 1..Point.Fn.ORDER`);return Nl}function Pl(Vl,Nl){Pn$1(Nl);const Dl=Sl.signature,Gl=Nl==="compact"?Dl:Nl==="recovered"?Dl+1:void 0;return Kt$1(Vl,Gl,`${Nl} signature`)}class Cl{constructor(Nl,Dl,Gl){this.r=xl("r",Nl),this.s=xl("s",Dl),Gl!=null&&(this.recovery=Gl),Object.freeze(this)}static fromBytes(Nl,Dl=Il){Pl(Nl,Dl);let Gl;if(Dl==="der"){const{r:Su,s:$u}=xt$1.toSig(Kt$1(Nl));return new Cl(Su,$u)}Dl==="recovered"&&(Gl=Nl[0],Dl="compact",Nl=Nl.subarray(1));const Fl=Zs.BYTES,Hl=Nl.subarray(0,Fl),Zl=Nl.subarray(Fl,Fl*2);return new Cl(Zs.fromBytes(Hl),Zs.fromBytes(Zl),Gl)}static fromHex(Nl,Dl){return this.fromBytes(Re$1(Nl),Dl)}addRecoveryBit(Nl){return new Cl(this.r,this.s,Nl)}recoverPublicKey(Nl){const Dl=Xs.ORDER,{r:Gl,s:Fl,recovery:Hl}=this;if(Hl==null||![0,1,2,3].includes(Hl))throw new Error("recovery id invalid");if(yl*Wo$1<Dl&&Hl>1)throw new Error("recovery id is ambiguous for h>1 curve");const Zl=Hl===2||Hl===3?Gl+yl:Gl;if(!Xs.isValid(Zl))throw new Error("recovery id 2 or 3 invalid");const Su=Xs.toBytes(Zl),$u=at.fromBytes(_t$1(Xo$1((Hl&1)===0),Su)),Pu=Zs.inv(Zl),ku=Ol(tt$1("msgHash",Nl)),Tu=Zs.create(-ku*Pu),Ru=Zs.create(Fl*Pu),Mu=at.BASE.multiplyUnsafe(Tu).add($u.multiplyUnsafe(Ru));if(Mu.is0())throw new Error("point at infinify");return Mu.assertValidity(),Mu}hasHighS(){return Al(this.s)}toBytes(Nl=Il){if(Pn$1(Nl),Nl==="der")return Re$1(xt$1.hexFromSig(this));const Dl=Zs.toBytes(this.r),Gl=Zs.toBytes(this.s);if(Nl==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return _t$1(Uint8Array.of(this.recovery),Dl,Gl)}return _t$1(Dl,Gl)}toHex(Nl){return Jt$1(this.toBytes(Nl))}assertValidity(){}static fromCompact(Nl){return Cl.fromBytes(tt$1("sig",Nl),"compact")}static fromDER(Nl){return Cl.fromBytes(tt$1("sig",Nl),"der")}normalizeS(){return this.hasHighS()?new Cl(this.r,Zs.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Jt$1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Jt$1(this.toBytes("compact"))}}const Rl=Ws.bits2int||function(Vl){if(Vl.length>8192)throw new Error("input is too large");const Nl=Ve$1(Vl),Dl=Vl.length*8-Js;return Dl>0?Nl>>BigInt(Dl):Nl},Ol=Ws.bits2int_modN||function(Vl){return Zs.create(Rl(Vl))},Ml=me$1(Js);function Ll(Vl){return Rn$1("num < 2^"+Js,Vl,Et$2,Ml),Zs.toBytes(Vl)}function Bl(Vl,Nl){return Kt$1(Vl,void 0,"message"),Nl?Kt$1(zs(Vl),void 0,"prehashed message"):Vl}function Wl(Vl,Nl,Dl){if(["recovered","canonical"].some(Ru=>Ru in Dl))throw new Error("sign() legacy options not supported");const{lowS:Gl,prehash:Fl,extraEntropy:Hl}=Hn$1(Dl,Tl);Vl=Bl(Vl,Fl);const Zl=Ol(Vl),Su=re(Zs,Nl),$u=[Ll(Su),Ll(Zl)];if(Hl!=null&&Hl!==!1){const Ru=Hl===!0?qs(Sl.secretKey):Hl;$u.push(tt$1("extraEntropy",Ru))}const Pu=_t$1(...$u),ku=Zl;function Tu(Ru){const Mu=Rl(Ru);if(!Zs.isValidNot0(Mu))return;const Hu=Zs.inv(Mu),Ku=at.BASE.multiply(Mu).toAffine(),Fu=Zs.create(Ku.x);if(Fu===Et$2)return;const ju=Zs.create(Hu*Zs.create(ku+Fu*Su));if(ju===Et$2)return;let qu=(Ku.x===Fu?0:2)|Number(Ku.y&ne),Zu=ju;return Gl&&Al(ju)&&(Zu=Zs.neg(ju),qu^=1),new Cl(Fu,Zu,qu)}return{seed:Pu,k2sig:Tu}}function Yl(Vl,Nl,Dl={}){Vl=tt$1("message",Vl);const{seed:Gl,k2sig:Fl}=Wl(Vl,Nl,Dl);return Af(zs.outputLen,Zs.BYTES,Ys)(Gl,Fl)}function Kl(Vl){let Nl;const Dl=typeof Vl=="string"||Ue$2(Vl),Gl=!Dl&&Vl!==null&&typeof Vl=="object"&&typeof Vl.r=="bigint"&&typeof Vl.s=="bigint";if(!Dl&&!Gl)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(Gl)Nl=new Cl(Vl.r,Vl.s);else if(Dl){try{Nl=Cl.fromBytes(tt$1("sig",Vl),"der")}catch(Fl){if(!(Fl instanceof xt$1.Err))throw Fl}if(!Nl)try{Nl=Cl.fromBytes(tt$1("sig",Vl),"compact")}catch{return!1}}return Nl||!1}function Xl(Vl,Nl,Dl,Gl={}){const{lowS:Fl,prehash:Hl,format:Zl}=Hn$1(Gl,Tl);if(Dl=tt$1("publicKey",Dl),Nl=Bl(tt$1("message",Nl),Hl),"strict"in Gl)throw new Error("options.strict was renamed to lowS");const Su=Zl===void 0?Kl(Vl):Cl.fromBytes(tt$1("sig",Vl),Zl);if(Su===!1)return!1;try{const $u=at.fromBytes(Dl);if(Fl&&Su.hasHighS())return!1;const{r:Pu,s:ku}=Su,Tu=Ol(Nl),Ru=Zs.inv(ku),Mu=Zs.create(Tu*Ru),Hu=Zs.create(Pu*Ru),Ku=at.BASE.multiplyUnsafe(Mu).add($u.multiplyUnsafe(Hu));return Ku.is0()?!1:Zs.create(Ku.x)===Pu}catch{return!1}}function Ul(Vl,Nl,Dl={}){const{prehash:Gl}=Hn$1(Dl,Tl);return Nl=Bl(Nl,Gl),Cl.fromBytes(Vl,"recovered").recoverPublicKey(Nl).toBytes()}return Object.freeze({keygen:$l,getPublicKey:El,getSharedSecret:wl,utils:_l,lengths:Sl,Point:at,sign:Yl,verify:Xl,recoverPublicKey:Ul,Signature:Cl,hash:zs})}function ra(at){const zs={a:at.a,b:at.b,p:at.Fp.ORDER,n:at.n,h:at.h,Gx:at.Gx,Gy:at.Gy},Ws=at.Fp;let qs=at.allowedPrivateKeyLengths?Array.from(new Set(at.allowedPrivateKeyLengths.map(Zs=>Math.ceil(Zs/2)))):void 0;const Ys=Ht$1(zs.n,{BITS:at.nBitLength,allowedLengths:qs,modFromBytes:at.wrapPrivateKey}),Xs={Fp:Ws,Fn:Ys,allowInfinityPoint:at.allowInfinityPoint,endo:at.endo,isTorsionFree:at.isTorsionFree,clearCofactor:at.clearCofactor,fromBytes:at.fromBytes,toBytes:at.toBytes};return{CURVE:zs,curveOpts:Xs}}function oa(at){const{CURVE:zs,curveOpts:Ws}=ra(at),qs={hmac:at.hmac,randomBytes:at.randomBytes,lowS:at.lowS,bits2int:at.bits2int,bits2int_modN:at.bits2int_modN};return{CURVE:zs,curveOpts:Ws,hash:at.hash,ecdsaOpts:qs}}function sa(at,zs){const Ws=zs.Point;return Object.assign({},zs,{ProjectivePoint:Ws,CURVE:Object.assign({},at,Ho$1(Ws.Fn.ORDER,Ws.Fn.BITS))})}function ia(at){const{CURVE:zs,curveOpts:Ws,hash:qs,ecdsaOpts:Ys}=oa(at),Xs=ta$1(zs,Ws),Zs=na(Xs,qs,Ys);return sa(at,Zs)}function Dn$1(at,zs){const Ws=qs=>ia({...at,hash:qs});return{...Ws(zs),create:Ws}}const Qo$1={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},ts={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},es={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},ca=Ht$1(Qo$1.p),fa=Ht$1(ts.p),aa=Ht$1(es.p),ua=Dn$1({...Qo$1,Fp:ca,lowS:!1},Te$1);Dn$1({...ts,Fp:fa,lowS:!1},wc),Dn$1({...es,Fp:aa,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},mc);const la=ua,Vn$1="base10",rt="base16",oe$1="base64pad",Ge$2="base64url",se$1="utf8",Mn$1=0,ie=1,ve$1=2,da=0,ns=1,xe=12,Kn$1=32;function ha(){const at=kn$1.utils.randomPrivateKey(),zs=kn$1.getPublicKey(at);return{privateKey:toString(at,rt),publicKey:toString(zs,rt)}}function pa(){const at=Mt$1(Kn$1);return toString(at,rt)}function ga(at,zs){const Ws=kn$1.getSharedSecret(fromString(at,rt),fromString(zs,rt)),qs=Bf(Pe$1,Ws,void 0,void 0,Kn$1);return toString(qs,rt)}function ba(at){const zs=Pe$1(fromString(at,rt));return toString(zs,rt)}function ya(at){const zs=Pe$1(fromString(at,se$1));return toString(zs,rt)}function qn$1(at){return fromString(`${at}`,Vn$1)}function Zt$1(at){return Number(toString(at,Vn$1))}function rs(at){return at.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function os(at){const zs=at.replace(/-/g,"+").replace(/_/g,"/"),Ws=(4-zs.length%4)%4;return zs+"=".repeat(Ws)}function ma(at){const zs=qn$1(typeof at.type<"u"?at.type:Mn$1);if(Zt$1(zs)===ie&&typeof at.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const Ws=typeof at.senderPublicKey<"u"?fromString(at.senderPublicKey,rt):void 0,qs=typeof at.iv<"u"?fromString(at.iv,rt):Mt$1(xe),Ys=fromString(at.symKey,rt),Xs=Bo$1(Ys,qs).encrypt(fromString(at.message,se$1)),Zs=Fn$1({type:zs,sealed:Xs,iv:qs,senderPublicKey:Ws});return at.encoding===Ge$2?rs(Zs):Zs}function wa(at){const zs=fromString(at.symKey,rt),{sealed:Ws,iv:qs}=ze({encoded:at.encoded,encoding:at.encoding}),Ys=Bo$1(zs,qs).decrypt(Ws);if(Ys===null)throw new Error("Failed to decrypt");return toString(Ys,se$1)}function va(at,zs){const Ws=qn$1(ve$1),qs=Mt$1(xe),Ys=fromString(at,se$1),Xs=Fn$1({type:Ws,sealed:Ys,iv:qs});return zs===Ge$2?rs(Xs):Xs}function xa(at,zs){const{sealed:Ws}=ze({encoded:at,encoding:zs});return toString(Ws,se$1)}function Fn$1(at){if(Zt$1(at.type)===ve$1)return toString(concat$1([at.type,at.sealed]),oe$1);if(Zt$1(at.type)===ie){if(typeof at.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString(concat$1([at.type,at.senderPublicKey,at.iv,at.sealed]),oe$1)}return toString(concat$1([at.type,at.iv,at.sealed]),oe$1)}function ze(at){const zs=(at.encoding||oe$1)===Ge$2?os(at.encoded):at.encoded,Ws=fromString(zs,oe$1),qs=Ws.slice(da,ns),Ys=ns;if(Zt$1(qs)===ie){const Js=Ys+Kn$1,$l=Js+xe,El=Ws.slice(Ys,Js),wl=Ws.slice(Js,$l),_l=Ws.slice($l);return{type:qs,sealed:_l,iv:wl,senderPublicKey:El}}if(Zt$1(qs)===ve$1){const Js=Ws.slice(Ys),$l=Mt$1(xe);return{type:qs,sealed:Js,iv:$l}}const Xs=Ys+xe,Zs=Ws.slice(Ys,Xs),yl=Ws.slice(Xs);return{type:qs,sealed:yl,iv:Zs}}function Ea(at,zs){const Ws=ze({encoded:at,encoding:zs==null?void 0:zs.encoding});return ss({type:Zt$1(Ws.type),senderPublicKey:typeof Ws.senderPublicKey<"u"?toString(Ws.senderPublicKey,rt):void 0,receiverPublicKey:zs==null?void 0:zs.receiverPublicKey})}function ss(at){const zs=(at==null?void 0:at.type)||Mn$1;if(zs===ie){if(typeof(at==null?void 0:at.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(at==null?void 0:at.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:zs,senderPublicKey:at==null?void 0:at.senderPublicKey,receiverPublicKey:at==null?void 0:at.receiverPublicKey}}function Ba(at){return at.type===ie&&typeof at.senderPublicKey=="string"&&typeof at.receiverPublicKey=="string"}function Ia(at){return at.type===ve$1}function is(at){const zs=Buffer.from(at.x,"base64"),Ws=Buffer.from(at.y,"base64");return concat$1([new Uint8Array([4]),zs,Ws])}function Aa(at,zs){const[Ws,qs,Ys]=at.split("."),Xs=Buffer.from(os(Ys),"base64");if(Xs.length!==64)throw new Error("Invalid signature length");const Zs=Xs.slice(0,32),yl=Xs.slice(32,64),Js=`${Ws}.${qs}`,$l=Pe$1(Js),El=is(zs);if(!la.verify(concat$1([Zs,yl]),$l,El))throw new Error("Invalid signature");return sn$1(at).payload}const cs="irn";function Sa(at){return(at==null?void 0:at.relay)||{protocol:cs}}function Oa(at){const zs=C$1[at];if(typeof zs>"u")throw new Error(`Relay Protocol not supported: ${at}`);return zs}var Na=Object.defineProperty,Ua=Object.defineProperties,_a=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,Ra=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,as=(at,zs,Ws)=>zs in at?Na(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Zn$1=(at,zs)=>{for(var Ws in zs||(zs={}))Ra.call(zs,Ws)&&as(at,Ws,zs[Ws]);if(fs)for(var Ws of fs(zs))$a.call(zs,Ws)&&as(at,Ws,zs[Ws]);return at},Ta=(at,zs)=>Ua(at,_a(zs));function us(at,zs="-"){const Ws={},qs="relay"+zs;return Object.keys(at).forEach(Ys=>{if(Ys.startsWith(qs)){const Xs=Ys.replace(qs,""),Zs=at[Ys];Ws[Xs]=Zs}}),Ws}function Ca(at){if(!at.includes("wc:")){const $l=cn$1(at);$l!=null&&$l.includes("wc:")&&(at=$l)}at=at.includes("wc://")?at.replace("wc://",""):at,at=at.includes("wc:")?at.replace("wc:",""):at;const zs=at.indexOf(":"),Ws=at.indexOf("?")!==-1?at.indexOf("?"):void 0,qs=at.substring(0,zs),Ys=at.substring(zs+1,Ws).split("@"),Xs=typeof Ws<"u"?at.substring(Ws):"",Zs=new URLSearchParams(Xs),yl=Object.fromEntries(Zs.entries()),Js=typeof yl.methods=="string"?yl.methods.split(","):void 0;return{protocol:qs,topic:ls(Ys[0]),version:parseInt(Ys[1],10),symKey:yl.symKey,relay:us(yl),methods:Js,expiryTimestamp:yl.expiryTimestamp?parseInt(yl.expiryTimestamp,10):void 0}}function ls(at){return at.startsWith("//")?at.substring(2):at}function ds(at,zs="-"){const Ws="relay",qs={};return Object.keys(at).forEach(Ys=>{const Xs=Ys,Zs=Ws+zs+Xs;at[Xs]&&(qs[Zs]=at[Xs])}),qs}function ja(at){const zs=new URLSearchParams,Ws=Zn$1(Zn$1(Ta(Zn$1({},ds(at.relay)),{symKey:at.symKey}),at.expiryTimestamp&&{expiryTimestamp:at.expiryTimestamp.toString()}),at.methods&&{methods:at.methods.join(",")});return Object.entries(Ws).sort(([qs],[Ys])=>qs.localeCompare(Ys)).forEach(([qs,Ys])=>{Ys!==void 0&&zs.append(qs,String(Ys))}),`${at.protocol}:${at.topic}@${at.version}?${zs}`}function La(at,zs,Ws){return`${at}?wc_ev=${Ws}&topic=${zs}`}var ka=Object.defineProperty,Pa=Object.defineProperties,Ha=Object.getOwnPropertyDescriptors,hs=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Va=Object.prototype.propertyIsEnumerable,ps=(at,zs,Ws)=>zs in at?ka(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Ma=(at,zs)=>{for(var Ws in zs||(zs={}))Da.call(zs,Ws)&&ps(at,Ws,zs[Ws]);if(hs)for(var Ws of hs(zs))Va.call(zs,Ws)&&ps(at,Ws,zs[Ws]);return at},Ka=(at,zs)=>Pa(at,Ha(zs));function Gt$1(at){const zs=[];return at.forEach(Ws=>{const[qs,Ys]=Ws.split(":");zs.push(`${qs}:${Ys}`)}),zs}function gs(at){const zs=[];return Object.values(at).forEach(Ws=>{zs.push(...Gt$1(Ws.accounts))}),[...new Set(zs)]}function qa(at){const zs=[];return Object.values(at).forEach(Ws=>{zs.push(...Ws.methods)}),[...new Set(zs)]}function Fa(at){const zs=[];return Object.values(at).forEach(Ws=>{zs.push(...Ws.events)}),[...new Set(zs)]}function bs(at,zs){const Ws=[];return Object.values(at).forEach(qs=>{Gt$1(qs.accounts).includes(zs)&&Ws.push(...qs.methods)}),Ws}function ys(at,zs){const Ws=[];return Object.values(at).forEach(qs=>{Gt$1(qs.accounts).includes(zs)&&Ws.push(...qs.events)}),Ws}function Gn$1(at){return at.includes(":")}function ms(at){return Gn$1(at)?at.split(":")[0]:at}function Ee(at){var zs,Ws,qs;const Ys={};if(!Ye$1(at))return Ys;for(const[Xs,Zs]of Object.entries(at)){const yl=Gn$1(Xs)?[Xs]:Zs.chains,Js=Zs.methods||[],$l=Zs.events||[],El=ms(Xs);Ys[El]=Ka(Ma({},Ys[El]),{chains:ut$1(yl,(zs=Ys[El])==null?void 0:zs.chains),methods:ut$1(Js,(Ws=Ys[El])==null?void 0:Ws.methods),events:ut$1($l,(qs=Ys[El])==null?void 0:qs.events)})}return Ys}function ws(at){const zs={};return at==null||at.forEach(Ws=>{var qs;const[Ys,Xs]=Ws.split(":");zs[Ys]||(zs[Ys]={accounts:[],chains:[],events:[],methods:[]}),zs[Ys].accounts.push(Ws),(qs=zs[Ys].chains)==null||qs.push(`${Ys}:${Xs}`)}),zs}function za(at,zs){zs=zs.map(qs=>qs.replace("did:pkh:",""));const Ws=ws(zs);for(const[qs,Ys]of Object.entries(Ws))Ys.methods?Ys.methods=ut$1(Ys.methods,at):Ys.methods=at,Ys.events=["chainChanged","accountsChanged"];return Ws}function Ya(at,zs){var Ws,qs,Ys,Xs,Zs,yl;const Js=Ee(at),$l=Ee(zs),El={},wl=Object.keys(Js).concat(Object.keys($l));for(const _l of wl)El[_l]={chains:ut$1((Ws=Js[_l])==null?void 0:Ws.chains,(qs=$l[_l])==null?void 0:qs.chains),methods:ut$1((Ys=Js[_l])==null?void 0:Ys.methods,(Xs=$l[_l])==null?void 0:Xs.methods),events:ut$1((Zs=Js[_l])==null?void 0:Zs.events,(yl=$l[_l])==null?void 0:yl.events)};return El}const vs={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},xs$1={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Bt$1(at,zs){const{message:Ws,code:qs}=xs$1[at];return{message:zs?`${Ws} ${zs}`:Ws,code:qs}}function zt$1(at,zs){const{message:Ws,code:qs}=vs[at];return{message:zs?`${Ws} ${zs}`:Ws,code:qs}}function Be$1(at,zs){return Array.isArray(at)?typeof zs<"u"&&at.length?at.every(zs):!0:!1}function Ye$1(at){return Object.getPrototypeOf(at)===Object.prototype&&Object.keys(at).length}function Dt(at){return typeof at>"u"}function ft$1(at,zs){return zs&&Dt(at)?!0:typeof at=="string"&&!!at.trim().length}function We$1(at,zs){return typeof at=="number"&&!isNaN(at)}function Wa(at,zs){const{requiredNamespaces:Ws}=zs,qs=Object.keys(at.namespaces),Ys=Object.keys(Ws);let Xs=!0;return At$1(Ys,qs)?(qs.forEach(Zs=>{const{accounts:yl,methods:Js,events:$l}=at.namespaces[Zs],El=Gt$1(yl),wl=Ws[Zs];(!At$1(Se$1(Zs,wl),El)||!At$1(wl.methods,Js)||!At$1(wl.events,$l))&&(Xs=!1)}),Xs):!1}function Ie$1(at){return ft$1(at,!1)&&at.includes(":")?at.split(":").length===2:!1}function Es(at){if(ft$1(at,!1)&&at.includes(":")){const zs=at.split(":");if(zs.length===3){const Ws=zs[0]+":"+zs[1];return!!zs[2]&&Ie$1(Ws)}}return!1}function Xa(at){function zs(Ws){try{return typeof new URL(Ws)<"u"}catch{return!1}}try{if(ft$1(at,!1)){if(zs(at))return!0;const Ws=cn$1(at);return zs(Ws)}}catch{}return!1}function Ja(at){var zs;return(zs=at==null?void 0:at.proposer)==null?void 0:zs.publicKey}function Qa(at){return at==null?void 0:at.topic}function tu(at,zs){let Ws=null;return ft$1(at==null?void 0:at.publicKey,!1)||(Ws=Bt$1("MISSING_OR_INVALID",`${zs} controller public key should be a string`)),Ws}function zn$1(at){let zs=!0;return Be$1(at)?at.length&&(zs=at.every(Ws=>ft$1(Ws,!1))):zs=!1,zs}function Bs(at,zs,Ws){let qs=null;return Be$1(zs)&&zs.length?zs.forEach(Ys=>{qs||Ie$1(Ys)||(qs=zt$1("UNSUPPORTED_CHAINS",`${Ws}, chain ${Ys} should be a string and conform to "namespace:chainId" format`))}):Ie$1(at)||(qs=zt$1("UNSUPPORTED_CHAINS",`${Ws}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),qs}function Is(at,zs,Ws){let qs=null;return Object.entries(at).forEach(([Ys,Xs])=>{if(qs)return;const Zs=Bs(Ys,Se$1(Ys,Xs),`${zs} ${Ws}`);Zs&&(qs=Zs)}),qs}function As$1(at,zs){let Ws=null;return Be$1(at)?at.forEach(qs=>{Ws||Es(qs)||(Ws=zt$1("UNSUPPORTED_ACCOUNTS",`${zs}, account ${qs} should be a string and conform to "namespace:chainId:address" format`))}):Ws=zt$1("UNSUPPORTED_ACCOUNTS",`${zs}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),Ws}function Ss(at,zs){let Ws=null;return Object.values(at).forEach(qs=>{if(Ws)return;const Ys=As$1(qs==null?void 0:qs.accounts,`${zs} namespace`);Ys&&(Ws=Ys)}),Ws}function Os(at,zs){let Ws=null;return zn$1(at==null?void 0:at.methods)?zn$1(at==null?void 0:at.events)||(Ws=zt$1("UNSUPPORTED_EVENTS",`${zs}, events should be an array of strings or empty array for no events`)):Ws=zt$1("UNSUPPORTED_METHODS",`${zs}, methods should be an array of strings or empty array for no methods`),Ws}function Yn$1(at,zs){let Ws=null;return Object.values(at).forEach(qs=>{if(Ws)return;const Ys=Os(qs,`${zs}, namespace`);Ys&&(Ws=Ys)}),Ws}function eu(at,zs,Ws){let qs=null;if(at&&Ye$1(at)){const Ys=Yn$1(at,zs);Ys&&(qs=Ys);const Xs=Is(at,zs,Ws);Xs&&(qs=Xs)}else qs=Bt$1("MISSING_OR_INVALID",`${zs}, ${Ws} should be an object with data`);return qs}function Ns(at,zs){let Ws=null;if(at&&Ye$1(at)){const qs=Yn$1(at,zs);qs&&(Ws=qs);const Ys=Ss(at,zs);Ys&&(Ws=Ys)}else Ws=Bt$1("MISSING_OR_INVALID",`${zs}, namespaces should be an object with data`);return Ws}function Us$1(at){return ft$1(at.protocol,!0)}function nu(at,zs){let Ws=!1;return at?at&&Be$1(at)&&at.length&&at.forEach(qs=>{Ws=Us$1(qs)}):Ws=!0,Ws}function ru(at){return typeof at=="number"}function ou(at){return typeof at<"u"&&typeof at!==null}function su(at){return!(!at||typeof at!="object"||!at.code||!We$1(at.code)||!at.message||!ft$1(at.message,!1))}function iu(at){return!(Dt(at)||!ft$1(at.method,!1))}function cu(at){return!(Dt(at)||Dt(at.result)&&Dt(at.error)||!We$1(at.id)||!ft$1(at.jsonrpc,!1))}function fu(at){return!(Dt(at)||!ft$1(at.name,!1))}function au(at,zs){return!(!Ie$1(zs)||!gs(at).includes(zs))}function uu(at,zs,Ws){return ft$1(Ws,!1)?bs(at,zs).includes(Ws):!1}function lu(at,zs,Ws){return ft$1(Ws,!1)?ys(at,zs).includes(Ws):!1}function _s(at,zs,Ws){let qs=null;const Ys=du(at),Xs=hu(zs),Zs=Object.keys(Ys),yl=Object.keys(Xs),Js=Rs(Object.keys(at)),$l=Rs(Object.keys(zs)),El=Js.filter(wl=>!$l.includes(wl));return El.length&&(qs=Bt$1("NON_CONFORMING_NAMESPACES",`${Ws} namespaces keys don't satisfy requiredNamespaces.
      Required: ${El.toString()}
      Received: ${Object.keys(zs).toString()}`)),At$1(Zs,yl)||(qs=Bt$1("NON_CONFORMING_NAMESPACES",`${Ws} namespaces chains don't satisfy required namespaces.
      Required: ${Zs.toString()}
      Approved: ${yl.toString()}`)),Object.keys(zs).forEach(wl=>{if(!wl.includes(":")||qs)return;const _l=Gt$1(zs[wl].accounts);_l.includes(wl)||(qs=Bt$1("NON_CONFORMING_NAMESPACES",`${Ws} namespaces accounts don't satisfy namespace accounts for ${wl}
        Required: ${wl}
        Approved: ${_l.toString()}`))}),Zs.forEach(wl=>{qs||(At$1(Ys[wl].methods,Xs[wl].methods)?At$1(Ys[wl].events,Xs[wl].events)||(qs=Bt$1("NON_CONFORMING_NAMESPACES",`${Ws} namespaces events don't satisfy namespace events for ${wl}`)):qs=Bt$1("NON_CONFORMING_NAMESPACES",`${Ws} namespaces methods don't satisfy namespace methods for ${wl}`))}),qs}function du(at){const zs={};return Object.keys(at).forEach(Ws=>{var qs;Ws.includes(":")?zs[Ws]=at[Ws]:(qs=at[Ws].chains)==null||qs.forEach(Ys=>{zs[Ys]={methods:at[Ws].methods,events:at[Ws].events}})}),zs}function Rs(at){return[...new Set(at.map(zs=>zs.includes(":")?zs.split(":")[0]:zs))]}function hu(at){const zs={};return Object.keys(at).forEach(Ws=>{if(Ws.includes(":"))zs[Ws]=at[Ws];else{const qs=Gt$1(at[Ws].accounts);qs==null||qs.forEach(Ys=>{zs[Ys]={accounts:at[Ws].accounts.filter(Xs=>Xs.includes(`${Ys}:`)),methods:at[Ws].methods,events:at[Ws].events}})}}),zs}function pu(at,zs){return We$1(at)&&at<=zs.max&&at>=zs.min}function gu(){const at=Vt$1();return new Promise(zs=>{switch(at){case et$1.browser:zs($s$1());break;case et$1.reactNative:zs(Ts());break;case et$1.node:zs(Cs$1());break;default:zs(!0)}})}function $s$1(){return Wt$1()&&(navigator==null?void 0:navigator.onLine)}async function Ts(){if(It$2()&&typeof global<"u"&&global!=null&&global.NetInfo){const at=await(global==null?void 0:global.NetInfo.fetch());return at==null?void 0:at.isConnected}return!0}function Cs$1(){return!0}function bu(at){switch(Vt$1()){case et$1.browser:js$1(at);break;case et$1.reactNative:Ls$1(at);break}}function js$1(at){!It$2()&&Wt$1()&&(window.addEventListener("online",()=>at(!0)),window.addEventListener("offline",()=>at(!1)))}function Ls$1(at){It$2()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(zs=>at(zs==null?void 0:zs.isConnected)))}function yu(){var at;return Wt$1()&&getDocument_1()?((at=getDocument_1())==null?void 0:at.visibilityState)==="visible":!0}const Wn$1={};class mu{static get(zs){return Wn$1[zs]}static set(zs,Ws){Wn$1[zs]=Ws}static delete(zs){delete Wn$1[zs]}}function ks$1(at){const zs=ue$3.decode(at);if(zs.length<33)throw new Error("Too short to contain a public key");return zs.slice(1,33)}function Ps({publicKey:at,signature:zs,payload:Ws}){var qs;const Ys=Xn$1(Ws.method),Xs=128|parseInt(((qs=Ws.version)==null?void 0:qs.toString())||"4"),Zs=vu(Ws.address),yl=Ws.era==="00"?new Uint8Array([0]):Xn$1(Ws.era);if(yl.length!==1&&yl.length!==2)throw new Error("Invalid era length");const Js=parseInt(Ws.nonce,16),$l=new Uint8Array([Js&255,Js>>8&255]),El=BigInt(`0x${wu(Ws.tip)}`),wl=Eu(El),_l=new Uint8Array([0,...at,Zs,...zs,...yl,...$l,...wl,...Ys]),Sl=xu(_l.length+1);return new Uint8Array([...Sl,Xs,..._l])}function Hs$1(at){const zs=Xn$1(at),Ws=blakejs.blake2b(zs,void 0,32);return"0x"+Buffer.from(Ws).toString("hex")}function Xn$1(at){return new Uint8Array(at.replace(/^0x/,"").match(/.{1,2}/g).map(zs=>parseInt(zs,16)))}function wu(at){return at.startsWith("0x")?at.slice(2):at}function vu(at){const zs=ue$3.decode(at)[0];return zs===42?0:zs===60?2:1}function xu(at){if(at<64)return new Uint8Array([at<<2]);if(at<16384){const zs=at<<2|1;return new Uint8Array([zs&255,zs>>8&255])}else if(at<1<<30){const zs=at<<2|2;return new Uint8Array([zs&255,zs>>8&255,zs>>16&255,zs>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Eu(at){if(at<BigInt(1)<<BigInt(6))return new Uint8Array([Number(at<<BigInt(2))]);if(at<BigInt(1)<<BigInt(14)){const zs=at<<BigInt(2)|BigInt(1);return new Uint8Array([Number(zs&BigInt(255)),Number(zs>>BigInt(8)&BigInt(255))])}else if(at<BigInt(1)<<BigInt(30)){const zs=at<<BigInt(2)|BigInt(2);return new Uint8Array([Number(zs&BigInt(255)),Number(zs>>BigInt(8)&BigInt(255)),Number(zs>>BigInt(16)&BigInt(255)),Number(zs>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Bu(at){const zs=Uint8Array.from(Buffer.from(at.signature,"hex")),Ws=ks$1(at.transaction.address),qs=Ps({publicKey:Ws,signature:zs,payload:at.transaction}),Ys=Buffer.from(qs).toString("hex");return Hs$1(Ys)}function Iu({logger:at,name:zs}){const Ws=typeof at=="string"?Ue$4({opts:{level:at,name:zs}}).logger:at;return Ws.level=typeof at=="string"?at:at.level,Ws}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(at){return RESERVED_ERROR_CODES.includes(at)}function getError(at){return Object.keys(STANDARD_ERROR_MAP).includes(at)?STANDARD_ERROR_MAP[at]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(at){const zs=Object.values(STANDARD_ERROR_MAP).find(Ws=>Ws.code===at);return zs||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(at,zs,Ws){return at.message.includes("getaddrinfo ENOTFOUND")||at.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${Ws} RPC url at ${zs}`):at}var cjs={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$1=function(at,zs){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ws,qs){Ws.__proto__=qs}||function(Ws,qs){for(var Ys in qs)qs.hasOwnProperty(Ys)&&(Ws[Ys]=qs[Ys])},extendStatics$1(at,zs)};function __extends$1(at,zs){extendStatics$1(at,zs);function Ws(){this.constructor=at}at.prototype=zs===null?Object.create(zs):(Ws.prototype=zs.prototype,new Ws)}var __assign$1=function(){return __assign$1=Object.assign||function(zs){for(var Ws,qs=1,Ys=arguments.length;qs<Ys;qs++){Ws=arguments[qs];for(var Xs in Ws)Object.prototype.hasOwnProperty.call(Ws,Xs)&&(zs[Xs]=Ws[Xs])}return zs},__assign$1.apply(this,arguments)};function __rest(at,zs){var Ws={};for(var qs in at)Object.prototype.hasOwnProperty.call(at,qs)&&zs.indexOf(qs)<0&&(Ws[qs]=at[qs]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ys=0,qs=Object.getOwnPropertySymbols(at);Ys<qs.length;Ys++)zs.indexOf(qs[Ys])<0&&Object.prototype.propertyIsEnumerable.call(at,qs[Ys])&&(Ws[qs[Ys]]=at[qs[Ys]]);return Ws}function __decorate(at,zs,Ws,qs){var Ys=arguments.length,Xs=Ys<3?zs:qs===null?qs=Object.getOwnPropertyDescriptor(zs,Ws):qs,Zs;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Xs=Reflect.decorate(at,zs,Ws,qs);else for(var yl=at.length-1;yl>=0;yl--)(Zs=at[yl])&&(Xs=(Ys<3?Zs(Xs):Ys>3?Zs(zs,Ws,Xs):Zs(zs,Ws))||Xs);return Ys>3&&Xs&&Object.defineProperty(zs,Ws,Xs),Xs}function __param(at,zs){return function(Ws,qs){zs(Ws,qs,at)}}function __metadata(at,zs){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,zs)}function __awaiter$1(at,zs,Ws,qs){function Ys(Xs){return Xs instanceof Ws?Xs:new Ws(function(Zs){Zs(Xs)})}return new(Ws||(Ws=Promise))(function(Xs,Zs){function yl(El){try{$l(qs.next(El))}catch(wl){Zs(wl)}}function Js(El){try{$l(qs.throw(El))}catch(wl){Zs(wl)}}function $l(El){El.done?Xs(El.value):Ys(El.value).then(yl,Js)}$l((qs=qs.apply(at,zs||[])).next())})}function __generator$1(at,zs){var Ws={label:0,sent:function(){if(Xs[0]&1)throw Xs[1];return Xs[1]},trys:[],ops:[]},qs,Ys,Xs,Zs;return Zs={next:yl(0),throw:yl(1),return:yl(2)},typeof Symbol=="function"&&(Zs[Symbol.iterator]=function(){return this}),Zs;function yl($l){return function(El){return Js([$l,El])}}function Js($l){if(qs)throw new TypeError("Generator is already executing.");for(;Ws;)try{if(qs=1,Ys&&(Xs=$l[0]&2?Ys.return:$l[0]?Ys.throw||((Xs=Ys.return)&&Xs.call(Ys),0):Ys.next)&&!(Xs=Xs.call(Ys,$l[1])).done)return Xs;switch(Ys=0,Xs&&($l=[$l[0]&2,Xs.value]),$l[0]){case 0:case 1:Xs=$l;break;case 4:return Ws.label++,{value:$l[1],done:!1};case 5:Ws.label++,Ys=$l[1],$l=[0];continue;case 7:$l=Ws.ops.pop(),Ws.trys.pop();continue;default:if(Xs=Ws.trys,!(Xs=Xs.length>0&&Xs[Xs.length-1])&&($l[0]===6||$l[0]===2)){Ws=0;continue}if($l[0]===3&&(!Xs||$l[1]>Xs[0]&&$l[1]<Xs[3])){Ws.label=$l[1];break}if($l[0]===6&&Ws.label<Xs[1]){Ws.label=Xs[1],Xs=$l;break}if(Xs&&Ws.label<Xs[2]){Ws.label=Xs[2],Ws.ops.push($l);break}Xs[2]&&Ws.ops.pop(),Ws.trys.pop();continue}$l=zs.call(at,Ws)}catch(El){$l=[6,El],Ys=0}finally{qs=Xs=0}if($l[0]&5)throw $l[1];return{value:$l[0]?$l[1]:void 0,done:!0}}}function __createBinding(at,zs,Ws,qs){qs===void 0&&(qs=Ws),at[qs]=zs[Ws]}function __exportStar(at,zs){for(var Ws in at)Ws!=="default"&&!zs.hasOwnProperty(Ws)&&(zs[Ws]=at[Ws])}function __values(at){var zs=typeof Symbol=="function"&&Symbol.iterator,Ws=zs&&at[zs],qs=0;if(Ws)return Ws.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&qs>=at.length&&(at=void 0),{value:at&&at[qs++],done:!at}}};throw new TypeError(zs?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(at,zs){var Ws=typeof Symbol=="function"&&at[Symbol.iterator];if(!Ws)return at;var qs=Ws.call(at),Ys,Xs=[],Zs;try{for(;(zs===void 0||zs-- >0)&&!(Ys=qs.next()).done;)Xs.push(Ys.value)}catch(yl){Zs={error:yl}}finally{try{Ys&&!Ys.done&&(Ws=qs.return)&&Ws.call(qs)}finally{if(Zs)throw Zs.error}}return Xs}function __spread(){for(var at=[],zs=0;zs<arguments.length;zs++)at=at.concat(__read(arguments[zs]));return at}function __spreadArrays(){for(var at=0,zs=0,Ws=arguments.length;zs<Ws;zs++)at+=arguments[zs].length;for(var qs=Array(at),Ys=0,zs=0;zs<Ws;zs++)for(var Xs=arguments[zs],Zs=0,yl=Xs.length;Zs<yl;Zs++,Ys++)qs[Ys]=Xs[Zs];return qs}function __await(at){return this instanceof __await?(this.v=at,this):new __await(at)}function __asyncGenerator(at,zs,Ws){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qs=Ws.apply(at,zs||[]),Ys,Xs=[];return Ys={},Zs("next"),Zs("throw"),Zs("return"),Ys[Symbol.asyncIterator]=function(){return this},Ys;function Zs(_l){qs[_l]&&(Ys[_l]=function(Sl){return new Promise(function(Tl,Il){Xs.push([_l,Sl,Tl,Il])>1||yl(_l,Sl)})})}function yl(_l,Sl){try{Js(qs[_l](Sl))}catch(Tl){wl(Xs[0][3],Tl)}}function Js(_l){_l.value instanceof __await?Promise.resolve(_l.value.v).then($l,El):wl(Xs[0][2],_l)}function $l(_l){yl("next",_l)}function El(_l){yl("throw",_l)}function wl(_l,Sl){_l(Sl),Xs.shift(),Xs.length&&yl(Xs[0][0],Xs[0][1])}}function __asyncDelegator(at){var zs,Ws;return zs={},qs("next"),qs("throw",function(Ys){throw Ys}),qs("return"),zs[Symbol.iterator]=function(){return this},zs;function qs(Ys,Xs){zs[Ys]=at[Ys]?function(Zs){return(Ws=!Ws)?{value:__await(at[Ys](Zs)),done:Ys==="return"}:Xs?Xs(Zs):Zs}:Xs}}function __asyncValues(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var zs=at[Symbol.asyncIterator],Ws;return zs?zs.call(at):(at=typeof __values=="function"?__values(at):at[Symbol.iterator](),Ws={},qs("next"),qs("throw"),qs("return"),Ws[Symbol.asyncIterator]=function(){return this},Ws);function qs(Xs){Ws[Xs]=at[Xs]&&function(Zs){return new Promise(function(yl,Js){Zs=at[Xs](Zs),Ys(yl,Js,Zs.done,Zs.value)})}}function Ys(Xs,Zs,yl,Js){Promise.resolve(Js).then(function($l){Xs({value:$l,done:yl})},Zs)}}function __makeTemplateObject(at,zs){return Object.defineProperty?Object.defineProperty(at,"raw",{value:zs}):at.raw=zs,at}function __importStar(at){if(at&&at.__esModule)return at;var zs={};if(at!=null)for(var Ws in at)Object.hasOwnProperty.call(at,Ws)&&(zs[Ws]=at[Ws]);return zs.default=at,zs}function __importDefault(at){return at&&at.__esModule?at:{default:at}}function __classPrivateFieldGet$1(at,zs){if(!zs.has(at))throw new TypeError("attempted to get private field on non-instance");return zs.get(at)}function __classPrivateFieldSet$1(at,zs,Ws){if(!zs.has(at))throw new TypeError("attempted to set private field on non-instance");return zs.set(at,Ws),Ws}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding,__decorate,__exportStar,__extends:__extends$1,__generator:__generator$1,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6);var crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function at(){return(commonjsGlobal==null?void 0:commonjsGlobal.crypto)||(commonjsGlobal==null?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=at;function zs(){const qs=at();return qs.subtle||qs.webkitSubtle}crypto$1.getSubtleCrypto=zs;function Ws(){return!!at()&&!!zs()}return crypto$1.isBrowserCryptoAvailable=Ws,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function at(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=at;function zs(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}env.isNode=zs;function Ws(){return!at()&&!zs()}return env.isBrowser=Ws,env}(function(at){Object.defineProperty(at,"__esModule",{value:!0});const zs=require$$0;zs.__exportStar(requireCrypto(),at),zs.__exportStar(requireEnv(),at)})(cjs);function payloadId(at=3){const zs=Date.now()*Math.pow(10,at),Ws=Math.floor(Math.random()*Math.pow(10,at));return zs+Ws}function getBigIntRpcId(at=6){return BigInt(payloadId(at))}function formatJsonRpcRequest(at,zs,Ws){return{id:Ws||payloadId(),jsonrpc:"2.0",method:at,params:zs}}function formatJsonRpcResult(at,zs){return{id:at,jsonrpc:"2.0",result:zs}}function formatJsonRpcError(at,zs,Ws){return{id:at,jsonrpc:"2.0",error:formatErrorMessage(zs)}}function formatErrorMessage(at,zs){return typeof at>"u"?getError(INTERNAL_ERROR):(typeof at=="string"&&(at=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:at})),isReservedErrorCode(at.code)&&(at=getErrorByCode(at.code)),at)}class e{}class n extends e{constructor(){super()}}class r extends n{constructor(zs){super()}}const WS_REGEX="^wss?:";function getUrlProtocol(at){const zs=at.match(new RegExp(/^\w+:/,"gi"));if(!(!zs||!zs.length))return zs[0]}function matchRegexProtocol(at,zs){const Ws=getUrlProtocol(at);return typeof Ws>"u"?!1:new RegExp(zs).test(Ws)}function isWsUrl(at){return matchRegexProtocol(at,WS_REGEX)}function isLocalhostUrl(at){return new RegExp("wss?://localhost(:d{2,5})?").test(at)}function isJsonRpcPayload(at){return typeof at=="object"&&"id"in at&&"jsonrpc"in at&&at.jsonrpc==="2.0"}function isJsonRpcRequest(at){return isJsonRpcPayload(at)&&"method"in at}function isJsonRpcResponse(at){return isJsonRpcPayload(at)&&(isJsonRpcResult(at)||isJsonRpcError(at))}function isJsonRpcResult(at){return"result"in at}function isJsonRpcError(at){return"error"in at}class o extends r{constructor(zs){super(zs),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(zs),this.connection.connected&&this.registerEventListeners()}async connect(zs=this.connection){await this.open(zs)}async disconnect(){await this.close()}on(zs,Ws){this.events.on(zs,Ws)}once(zs,Ws){this.events.once(zs,Ws)}off(zs,Ws){this.events.off(zs,Ws)}removeListener(zs,Ws){this.events.removeListener(zs,Ws)}async request(zs,Ws){return this.requestStrict(formatJsonRpcRequest(zs.method,zs.params||[],zs.id||getBigIntRpcId().toString()),Ws)}async requestStrict(zs,Ws){return new Promise(async(qs,Ys)=>{if(!this.connection.connected)try{await this.open()}catch(Xs){Ys(Xs)}this.events.on(`${zs.id}`,Xs=>{isJsonRpcError(Xs)?Ys(Xs.error):qs(Xs.result)});try{await this.connection.send(zs,Ws)}catch(Xs){Ys(Xs)}})}setConnection(zs=this.connection){return zs}onPayload(zs){this.events.emit("payload",zs),isJsonRpcResponse(zs)?this.events.emit(`${zs.id}`,zs):this.events.emit("message",{type:zs.method,data:zs.params})}onClose(zs){zs&&zs.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${zs.code} ${zs.reason?`(${zs.reason})`:""}`)),this.events.emit("disconnect")}async open(zs=this.connection){this.connection===zs&&this.connection.connected||(this.connection.connected&&this.close(),typeof zs=="string"&&(await this.connection.open(zs),zs=this.connection),this.connection=this.setConnection(zs),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",zs=>this.onPayload(zs)),this.connection.on("close",zs=>this.onClose(zs)),this.connection.on("error",zs=>this.events.emit("error",zs)),this.connection.on("register_error",zs=>this.onClose()),this.hasRegisteredEventListeners=!0)}}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),browser}const v$1=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:requireBrowser(),w=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",d$1=at=>at.split("?")[0],h=10,b$1=v$1();let f$1=class{constructor(zs){if(this.url=zs,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(zs))throw new Error(`Provided URL is not compatible with WebSocket connection: ${zs}`);this.url=zs}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(zs,Ws){this.events.on(zs,Ws)}once(zs,Ws){this.events.once(zs,Ws)}off(zs,Ws){this.events.off(zs,Ws)}removeListener(zs,Ws){this.events.removeListener(zs,Ws)}async open(zs=this.url){await this.register(zs)}async close(){return new Promise((zs,Ws)=>{if(typeof this.socket>"u"){Ws(new Error("Connection already closed"));return}this.socket.onclose=qs=>{this.onClose(qs),zs()},this.socket.close()})}async send(zs){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(zs))}catch(Ws){this.onError(zs.id,Ws)}}register(zs=this.url){if(!isWsUrl(zs))throw new Error(`Provided URL is not compatible with WebSocket connection: ${zs}`);if(this.registering){const Ws=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=Ws||this.events.listenerCount("open")>=Ws)&&this.events.setMaxListeners(Ws+1),new Promise((qs,Ys)=>{this.events.once("register_error",Xs=>{this.resetMaxListeners(),Ys(Xs)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return Ys(new Error("WebSocket connection is missing or invalid"));qs(this.socket)})})}return this.url=zs,this.registering=!0,new Promise((Ws,qs)=>{const Ys=cjs.isReactNative()?void 0:{rejectUnauthorized:!isLocalhostUrl(zs)},Xs=new b$1(zs,[],Ys);w()?Xs.onerror=Zs=>{const yl=Zs;qs(this.emitError(yl.error))}:Xs.on("error",Zs=>{qs(this.emitError(Zs))}),Xs.onopen=()=>{this.onOpen(Xs),Ws(Xs)}})}onOpen(zs){zs.onmessage=Ws=>this.onPayload(Ws),zs.onclose=Ws=>this.onClose(Ws),this.socket=zs,this.registering=!1,this.events.emit("open")}onClose(zs){this.socket=void 0,this.registering=!1,this.events.emit("close",zs)}onPayload(zs){if(typeof zs.data>"u")return;const Ws=typeof zs.data=="string"?safeJsonParse(zs.data):zs.data;this.events.emit("payload",Ws)}onError(zs,Ws){const qs=this.parseError(Ws),Ys=qs.message||qs.toString(),Xs=formatJsonRpcError(zs,Ys);this.events.emit("payload",Xs)}parseError(zs,Ws=this.url){return parseConnectionError(zs,d$1(Ws),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(zs){const Ws=this.parseError(new Error((zs==null?void 0:zs.message)||`WebSocket connection failed for host: ${d$1(this.url)}`));return this.events.emit("register_error",Ws),Ws}};var define_process_env_default={};const Ue$1="wc",Fe=2,ge="core",W=`${Ue$1}@2:${ge}:`,Et$1={logger:"error"},It$1={database:":memory:"},Tt="crypto",Me$1="client_ed25519_seed",Ct=cjs$3.ONE_DAY,Pt="keychain",St$1="0.3",Ot="messages",Rt$1="0.3",At=cjs$3.SIX_HOURS,xt="publisher",Nt="irn",$t="error",Ke$1="wss://relay.walletconnect.org",zt="relayer",C={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Lt="_subscription",M={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},kt=.1,Pe="2.23.3",ee={link_mode:"link_mode",relay:"relay"},ye={inbound:"inbound",outbound:"outbound"},jt="0.3",Ut="WALLETCONNECT_CLIENT_ID",Be="WALLETCONNECT_LINK_MODE_APPS",j={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Ft="subscription",Mt="0.3",Kt="pairing",Bt="0.3",oe={wc_pairingDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0}}},ae={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},V={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Vt="history",qt="0.3",Gt="expirer",q={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Wt="0.3",Ht="verify-api",ir="https://verify.walletconnect.com",Yt="https://verify.walletconnect.org",be=Yt,Jt=`${be}/v3`,Xt=[ir,Yt],Zt="echo",Qt="https://echo.walletconnect.com",Y={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},X={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},rr={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},nr={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},or={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ar={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},ei=.1,ti="event-client",ii=86400,si="https://pulse.walletconnect.org/batch";function cr(at,zs){if(at.length>=255)throw new TypeError("Alphabet too long");for(var Ws=new Uint8Array(256),qs=0;qs<Ws.length;qs++)Ws[qs]=255;for(var Ys=0;Ys<at.length;Ys++){var Xs=at.charAt(Ys),Zs=Xs.charCodeAt(0);if(Ws[Zs]!==255)throw new TypeError(Xs+" is ambiguous");Ws[Zs]=Ys}var yl=at.length,Js=at.charAt(0),$l=Math.log(yl)/Math.log(256),El=Math.log(256)/Math.log(yl);function wl(Tl){if(Tl instanceof Uint8Array||(ArrayBuffer.isView(Tl)?Tl=new Uint8Array(Tl.buffer,Tl.byteOffset,Tl.byteLength):Array.isArray(Tl)&&(Tl=Uint8Array.from(Tl))),!(Tl instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Tl.length===0)return"";for(var Il=0,Al=0,xl=0,Pl=Tl.length;xl!==Pl&&Tl[xl]===0;)xl++,Il++;for(var Cl=(Pl-xl)*El+1>>>0,Rl=new Uint8Array(Cl);xl!==Pl;){for(var Ol=Tl[xl],Ml=0,Ll=Cl-1;(Ol!==0||Ml<Al)&&Ll!==-1;Ll--,Ml++)Ol+=256*Rl[Ll]>>>0,Rl[Ll]=Ol%yl>>>0,Ol=Ol/yl>>>0;if(Ol!==0)throw new Error("Non-zero carry");Al=Ml,xl++}for(var Bl=Cl-Al;Bl!==Cl&&Rl[Bl]===0;)Bl++;for(var Wl=Js.repeat(Il);Bl<Cl;++Bl)Wl+=at.charAt(Rl[Bl]);return Wl}function _l(Tl){if(typeof Tl!="string")throw new TypeError("Expected String");if(Tl.length===0)return new Uint8Array;var Il=0;if(Tl[Il]!==" "){for(var Al=0,xl=0;Tl[Il]===Js;)Al++,Il++;for(var Pl=(Tl.length-Il)*$l+1>>>0,Cl=new Uint8Array(Pl);Tl[Il];){var Rl=Ws[Tl.charCodeAt(Il)];if(Rl===255)return;for(var Ol=0,Ml=Pl-1;(Rl!==0||Ol<xl)&&Ml!==-1;Ml--,Ol++)Rl+=yl*Cl[Ml]>>>0,Cl[Ml]=Rl%256>>>0,Rl=Rl/256>>>0;if(Rl!==0)throw new Error("Non-zero carry");xl=Ol,Il++}if(Tl[Il]!==" "){for(var Ll=Pl-xl;Ll!==Pl&&Cl[Ll]===0;)Ll++;for(var Bl=new Uint8Array(Al+(Pl-Ll)),Wl=Al;Ll!==Pl;)Bl[Wl++]=Cl[Ll++];return Bl}}}function Sl(Tl){var Il=_l(Tl);if(Il)return Il;throw new Error(`Non-${zs} character`)}return{encode:wl,decodeUnsafe:_l,decode:Sl}}var hr=cr,lr=hr;const ri=at=>{if(at instanceof Uint8Array&&at.constructor.name==="Uint8Array")return at;if(at instanceof ArrayBuffer)return new Uint8Array(at);if(ArrayBuffer.isView(at))return new Uint8Array(at.buffer,at.byteOffset,at.byteLength);throw new Error("Unknown type, must be binary type")},ur=at=>new TextEncoder().encode(at),dr=at=>new TextDecoder().decode(at);class pr{constructor(zs,Ws,qs){this.name=zs,this.prefix=Ws,this.baseEncode=qs}encode(zs){if(zs instanceof Uint8Array)return`${this.prefix}${this.baseEncode(zs)}`;throw Error("Unknown type, must be binary type")}}class gr{constructor(zs,Ws,qs){if(this.name=zs,this.prefix=Ws,Ws.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=Ws.codePointAt(0),this.baseDecode=qs}decode(zs){if(typeof zs=="string"){if(zs.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(zs)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(zs.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(zs){return ni(this,zs)}}class yr{constructor(zs){this.decoders=zs}or(zs){return ni(this,zs)}decode(zs){const Ws=zs[0],qs=this.decoders[Ws];if(qs)return qs.decode(zs);throw RangeError(`Unable to decode multibase string ${JSON.stringify(zs)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ni=(at,zs)=>new yr({...at.decoders||{[at.prefix]:at},...zs.decoders||{[zs.prefix]:zs}});class br{constructor(zs,Ws,qs,Ys){this.name=zs,this.prefix=Ws,this.baseEncode=qs,this.baseDecode=Ys,this.encoder=new pr(zs,Ws,qs),this.decoder=new gr(zs,Ws,Ys)}encode(zs){return this.encoder.encode(zs)}decode(zs){return this.decoder.decode(zs)}}const Se=({name:at,prefix:zs,encode:Ws,decode:qs})=>new br(at,zs,Ws,qs),me=({prefix:at,name:zs,alphabet:Ws})=>{const{encode:qs,decode:Ys}=lr(Ws,zs);return Se({prefix:at,name:zs,encode:qs,decode:Xs=>ri(Ys(Xs))})},mr=(at,zs,Ws,qs)=>{const Ys={};for(let El=0;El<zs.length;++El)Ys[zs[El]]=El;let Xs=at.length;for(;at[Xs-1]==="=";)--Xs;const Zs=new Uint8Array(Xs*Ws/8|0);let yl=0,Js=0,$l=0;for(let El=0;El<Xs;++El){const wl=Ys[at[El]];if(wl===void 0)throw new SyntaxError(`Non-${qs} character`);Js=Js<<Ws|wl,yl+=Ws,yl>=8&&(yl-=8,Zs[$l++]=255&Js>>yl)}if(yl>=Ws||255&Js<<8-yl)throw new SyntaxError("Unexpected end of data");return Zs},fr=(at,zs,Ws)=>{const qs=zs[zs.length-1]==="=",Ys=(1<<Ws)-1;let Xs="",Zs=0,yl=0;for(let Js=0;Js<at.length;++Js)for(yl=yl<<8|at[Js],Zs+=8;Zs>Ws;)Zs-=Ws,Xs+=zs[Ys&yl>>Zs];if(Zs&&(Xs+=zs[Ys&yl<<Ws-Zs]),qs)for(;Xs.length*Ws&7;)Xs+="=";return Xs},x=({name:at,prefix:zs,bitsPerChar:Ws,alphabet:qs})=>Se({prefix:zs,name:at,encode(Ys){return fr(Ys,qs,Ws)},decode(Ys){return mr(Ys,qs,Ws,at)}}),Dr=Se({prefix:"\0",name:"identity",encode:at=>dr(at),decode:at=>ur(at)});var vr=Object.freeze({__proto__:null,identity:Dr});const _r=x({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var wr=Object.freeze({__proto__:null,base2:_r});const Er=x({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ir=Object.freeze({__proto__:null,base8:Er});const Tr=me({prefix:"9",name:"base10",alphabet:"0123456789"});var Cr=Object.freeze({__proto__:null,base10:Tr});const Pr=x({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Sr=x({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Or=Object.freeze({__proto__:null,base16:Pr,base16upper:Sr});const Rr=x({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ar=x({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xr=x({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nr=x({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$r=x({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zr=x({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lr=x({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kr=x({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jr=x({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ur=Object.freeze({__proto__:null,base32:Rr,base32upper:Ar,base32pad:xr,base32padupper:Nr,base32hex:$r,base32hexupper:zr,base32hexpad:Lr,base32hexpadupper:kr,base32z:jr});const Fr=me({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mr=me({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Kr=Object.freeze({__proto__:null,base36:Fr,base36upper:Mr});const Br=me({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vr=me({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qr=Object.freeze({__proto__:null,base58btc:Br,base58flickr:Vr});const Gr=x({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Wr=x({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hr=x({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Yr=x({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Jr=Object.freeze({__proto__:null,base64:Gr,base64pad:Wr,base64url:Hr,base64urlpad:Yr});const oi=Array.from(""),Xr=oi.reduce((at,zs,Ws)=>(at[Ws]=zs,at),[]),Zr=oi.reduce((at,zs,Ws)=>(at[zs.codePointAt(0)]=Ws,at),[]);function Qr(at){return at.reduce((zs,Ws)=>(zs+=Xr[Ws],zs),"")}function en(at){const zs=[];for(const Ws of at){const qs=Zr[Ws.codePointAt(0)];if(qs===void 0)throw new Error(`Non-base256emoji character: ${Ws}`);zs.push(qs)}return new Uint8Array(zs)}const tn=Se({prefix:"",name:"base256emoji",encode:Qr,decode:en});var sn=Object.freeze({__proto__:null,base256emoji:tn}),rn=ci,ai=128,on$1=-128,an=Math.pow(2,31);function ci(at,zs,Ws){zs=zs||[],Ws=Ws||0;for(var qs=Ws;at>=an;)zs[Ws++]=at&255|ai,at/=128;for(;at&on$1;)zs[Ws++]=at&255|ai,at>>>=7;return zs[Ws]=at|0,ci.bytes=Ws-qs+1,zs}var cn=Ve,hn=128,hi=127;function Ve(at,qs){var Ws=0,qs=qs||0,Ys=0,Xs=qs,Zs,yl=at.length;do{if(Xs>=yl)throw Ve.bytes=0,new RangeError("Could not decode varint");Zs=at[Xs++],Ws+=Ys<28?(Zs&hi)<<Ys:(Zs&hi)*Math.pow(2,Ys),Ys+=7}while(Zs>=hn);return Ve.bytes=Xs-qs,Ws}var ln=Math.pow(2,7),un=Math.pow(2,14),dn=Math.pow(2,21),pn=Math.pow(2,28),gn=Math.pow(2,35),yn=Math.pow(2,42),bn=Math.pow(2,49),mn=Math.pow(2,56),fn=Math.pow(2,63),Dn=function(at){return at<ln?1:at<un?2:at<dn?3:at<pn?4:at<gn?5:at<yn?6:at<bn?7:at<mn?8:at<fn?9:10},vn={encode:rn,decode:cn,encodingLength:Dn},li=vn;const ui=(at,zs,Ws=0)=>(li.encode(at,zs,Ws),zs),di=at=>li.encodingLength(at),qe$1=(at,zs)=>{const Ws=zs.byteLength,qs=di(at),Ys=qs+di(Ws),Xs=new Uint8Array(Ys+Ws);return ui(at,Xs,0),ui(Ws,Xs,qs),Xs.set(zs,Ys),new _n(at,Ws,zs,Xs)};class _n{constructor(zs,Ws,qs,Ys){this.code=zs,this.size=Ws,this.digest=qs,this.bytes=Ys}}const pi=({name:at,code:zs,encode:Ws})=>new wn(at,zs,Ws);class wn{constructor(zs,Ws,qs){this.name=zs,this.code=Ws,this.encode=qs}digest(zs){if(zs instanceof Uint8Array){const Ws=this.encode(zs);return Ws instanceof Uint8Array?qe$1(this.code,Ws):Ws.then(qs=>qe$1(this.code,qs))}else throw Error("Unknown type, must be binary type")}}const gi=at=>async zs=>new Uint8Array(await crypto.subtle.digest(at,zs)),En=pi({name:"sha2-256",code:18,encode:gi("SHA-256")}),In=pi({name:"sha2-512",code:19,encode:gi("SHA-512")});var Tn=Object.freeze({__proto__:null,sha256:En,sha512:In});const yi=0,Cn="identity",bi=ri,Pn=at=>qe$1(yi,bi(at)),Sn={code:yi,name:Cn,encode:bi,digest:Pn};var On=Object.freeze({__proto__:null,identity:Sn});new TextEncoder,new TextDecoder;const mi={...vr,...wr,...Ir,...Cr,...Or,...Ur,...Kr,...qr,...Jr,...sn};({...Tn,...On});function fi(at){return globalThis.Buffer!=null?new Uint8Array(at.buffer,at.byteOffset,at.byteLength):at}function Rn(at=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?fi(globalThis.Buffer.allocUnsafe(at)):new Uint8Array(at)}function Di(at,zs,Ws,qs){return{name:at,prefix:zs,encoder:{name:at,prefix:zs,encode:Ws},decoder:{decode:qs}}}const vi=Di("utf8","u",at=>"u"+new TextDecoder("utf8").decode(at),at=>new TextEncoder().encode(at.substring(1))),Ge$1=Di("ascii","a",at=>{let zs="a";for(let Ws=0;Ws<at.length;Ws++)zs+=String.fromCharCode(at[Ws]);return zs},at=>{at=at.substring(1);const zs=Rn(at.length);for(let Ws=0;Ws<at.length;Ws++)zs[Ws]=at.charCodeAt(Ws);return zs}),An={utf8:vi,"utf-8":vi,hex:mi.base16,latin1:Ge$1,ascii:Ge$1,binary:Ge$1,...mi};function xn(at,zs="utf8"){const Ws=An[zs];if(!Ws)throw new Error(`Unsupported encoding "${zs}"`);return(zs==="utf8"||zs==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?fi(globalThis.Buffer.from(at,"utf-8")):Ws.decoder.decode(`${Ws.prefix}${at}`)}var Nn=Object.defineProperty,$n=(at,zs,Ws)=>zs in at?Nn(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,J=(at,zs,Ws)=>$n(at,typeof zs!="symbol"?zs+"":zs,Ws);class _i{constructor(zs,Ws){this.core=zs,this.logger=Ws,J(this,"keychain",new Map),J(this,"name",Pt),J(this,"version",St$1),J(this,"initialized",!1),J(this,"storagePrefix",W),J(this,"init",async()=>{if(!this.initialized){const qs=await this.getKeyChain();typeof qs<"u"&&(this.keychain=qs),this.initialized=!0}}),J(this,"has",qs=>(this.isInitialized(),this.keychain.has(qs))),J(this,"set",async(qs,Ys)=>{this.isInitialized(),this.keychain.set(qs,Ys),await this.persist()}),J(this,"get",qs=>{this.isInitialized();const Ys=this.keychain.get(qs);if(typeof Ys>"u"){const{message:Xs}=Bt$1("NO_MATCHING_KEY",`${this.name}: ${qs}`);throw new Error(Xs)}return Ys}),J(this,"del",async qs=>{this.isInitialized(),this.keychain.delete(qs),await this.persist()}),this.core=zs,this.logger=Re$3(Ws,this.name)}get context(){return ee$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(zs){await this.core.storage.setItem(this.storageKey,vi$1(zs))}async getKeyChain(){const zs=await this.core.storage.getItem(this.storageKey);return typeof zs<"u"?xi$1(zs):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}}var zn=Object.defineProperty,Ln=(at,zs,Ws)=>zs in at?zn(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,R=(at,zs,Ws)=>Ln(at,typeof zs!="symbol"?zs+"":zs,Ws);class wi{constructor(zs,Ws,qs){this.core=zs,this.logger=Ws,R(this,"name",Tt),R(this,"keychain"),R(this,"randomSessionIdentifier",pa()),R(this,"initialized",!1),R(this,"clientId"),R(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),R(this,"hasKeys",Ys=>(this.isInitialized(),this.keychain.has(Ys))),R(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const Ys=await this.getClientSeed(),Xs=Po$2(Ys),Zs=Qe$1(Xs.publicKey);return this.clientId=Zs,Zs}),R(this,"generateKeyPair",()=>{this.isInitialized();const Ys=ha();return this.setPrivateKey(Ys.publicKey,Ys.privateKey)}),R(this,"signJWT",async Ys=>{this.isInitialized();const Xs=await this.getClientSeed(),Zs=Po$2(Xs),yl=this.randomSessionIdentifier;return await Qo$2(yl,Ys,Ct,Zs)}),R(this,"generateSharedKey",(Ys,Xs,Zs)=>{this.isInitialized();const yl=this.getPrivateKey(Ys),Js=ga(yl,Xs);return this.setSymKey(Js,Zs)}),R(this,"setSymKey",async(Ys,Xs)=>{this.isInitialized();const Zs=Xs||ba(Ys);return await this.keychain.set(Zs,Ys),Zs}),R(this,"deleteKeyPair",async Ys=>{this.isInitialized(),await this.keychain.del(Ys)}),R(this,"deleteSymKey",async Ys=>{this.isInitialized(),await this.keychain.del(Ys)}),R(this,"encode",async(Ys,Xs,Zs)=>{this.isInitialized();const yl=ss(Zs),Js=safeJsonStringify(Xs);if(Ia(yl))return va(Js,Zs==null?void 0:Zs.encoding);if(Ba(yl)){const _l=yl.senderPublicKey,Sl=yl.receiverPublicKey;Ys=await this.generateSharedKey(_l,Sl)}const $l=this.getSymKey(Ys),{type:El,senderPublicKey:wl}=yl;return ma({type:El,symKey:$l,message:Js,senderPublicKey:wl,encoding:Zs==null?void 0:Zs.encoding})}),R(this,"decode",async(Ys,Xs,Zs)=>{this.isInitialized();const yl=Ea(Xs,Zs);if(Ia(yl)){const Js=xa(Xs,Zs==null?void 0:Zs.encoding);return safeJsonParse(Js)}if(Ba(yl)){const Js=yl.receiverPublicKey,$l=yl.senderPublicKey;Ys=await this.generateSharedKey(Js,$l)}try{const Js=this.getSymKey(Ys),$l=wa({symKey:Js,encoded:Xs,encoding:Zs==null?void 0:Zs.encoding});return safeJsonParse($l)}catch(Js){this.logger.error(`Failed to decode message from topic: '${Ys}', clientId: '${await this.getClientId()}'`),this.logger.error(Js)}}),R(this,"getPayloadType",(Ys,Xs=oe$1)=>{const Zs=ze({encoded:Ys,encoding:Xs});return Zt$1(Zs.type)}),R(this,"getPayloadSenderPublicKey",(Ys,Xs=oe$1)=>{const Zs=ze({encoded:Ys,encoding:Xs});return Zs.senderPublicKey?toString(Zs.senderPublicKey,rt):void 0}),this.core=zs,this.logger=Re$3(Ws,this.name),this.keychain=qs||new _i(this.core,this.logger)}get context(){return ee$2(this.logger)}async setPrivateKey(zs,Ws){return await this.keychain.set(zs,Ws),zs}getPrivateKey(zs){return this.keychain.get(zs)}async getClientSeed(){let zs="";try{zs=this.keychain.get(Me$1)}catch{zs=pa(),await this.keychain.set(Me$1,zs)}return xn(zs,"base16")}getSymKey(zs){return this.keychain.get(zs)}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}}var kn=Object.defineProperty,jn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,We=(at,zs,Ws)=>zs in at?kn(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Kn=(at,zs)=>{for(var Ws in zs||(zs={}))Fn.call(zs,Ws)&&We(at,Ws,zs[Ws]);if(Ei)for(var Ws of Ei(zs))Mn.call(zs,Ws)&&We(at,Ws,zs[Ws]);return at},Bn=(at,zs)=>jn(at,Un(zs)),K$1=(at,zs,Ws)=>We(at,typeof zs!="symbol"?zs+"":zs,Ws);class Ii extends y{constructor(zs,Ws){super(zs,Ws),this.logger=zs,this.core=Ws,K$1(this,"messages",new Map),K$1(this,"messagesWithoutClientAck",new Map),K$1(this,"name",Ot),K$1(this,"version",Rt$1),K$1(this,"initialized",!1),K$1(this,"storagePrefix",W),K$1(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const qs=await this.getRelayerMessages();typeof qs<"u"&&(this.messages=qs);const Ys=await this.getRelayerMessagesWithoutClientAck();typeof Ys<"u"&&(this.messagesWithoutClientAck=Ys),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(qs){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(qs)}finally{this.initialized=!0}}}),K$1(this,"set",async(qs,Ys,Xs)=>{this.isInitialized();const Zs=ya(Ys);let yl=this.messages.get(qs);if(typeof yl>"u"&&(yl={}),typeof yl[Zs]<"u")return Zs;if(yl[Zs]=Ys,this.messages.set(qs,yl),Xs===ye.inbound){const Js=this.messagesWithoutClientAck.get(qs)||{};this.messagesWithoutClientAck.set(qs,Bn(Kn({},Js),{[Zs]:Ys}))}return await this.persist(),Zs}),K$1(this,"get",qs=>{this.isInitialized();let Ys=this.messages.get(qs);return typeof Ys>"u"&&(Ys={}),Ys}),K$1(this,"getWithoutAck",qs=>{this.isInitialized();const Ys={};for(const Xs of qs){const Zs=this.messagesWithoutClientAck.get(Xs)||{};Ys[Xs]=Object.values(Zs)}return Ys}),K$1(this,"has",(qs,Ys)=>{this.isInitialized();const Xs=this.get(qs),Zs=ya(Ys);return typeof Xs[Zs]<"u"}),K$1(this,"ack",async(qs,Ys)=>{this.isInitialized();const Xs=this.messagesWithoutClientAck.get(qs);if(typeof Xs>"u")return;const Zs=ya(Ys);delete Xs[Zs],Object.keys(Xs).length===0?this.messagesWithoutClientAck.delete(qs):this.messagesWithoutClientAck.set(qs,Xs),await this.persist()}),K$1(this,"del",async qs=>{this.isInitialized(),this.messages.delete(qs),this.messagesWithoutClientAck.delete(qs),await this.persist()}),this.logger=Re$3(zs,this.name),this.core=Ws}get context(){return ee$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(zs){await this.core.storage.setItem(this.storageKey,vi$1(zs))}async setRelayerMessagesWithoutClientAck(zs){await this.core.storage.setItem(this.storageKeyWithoutClientAck,vi$1(zs))}async getRelayerMessages(){const zs=await this.core.storage.getItem(this.storageKey);return typeof zs<"u"?xi$1(zs):void 0}async getRelayerMessagesWithoutClientAck(){const zs=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof zs<"u"?xi$1(zs):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}}var Vn=Object.defineProperty,qn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,He=(at,zs,Ws)=>zs in at?Vn(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,ce=(at,zs)=>{for(var Ws in zs||(zs={}))Wn.call(zs,Ws)&&He(at,Ws,zs[Ws]);if(Ti)for(var Ws of Ti(zs))Hn.call(zs,Ws)&&He(at,Ws,zs[Ws]);return at},Ci=(at,zs)=>qn(at,Gn(zs)),G=(at,zs,Ws)=>He(at,typeof zs!="symbol"?zs+"":zs,Ws);class Yn extends m$2{constructor(zs,Ws){super(zs,Ws),this.relayer=zs,this.logger=Ws,G(this,"events",new eventsExports.EventEmitter),G(this,"name",xt),G(this,"queue",new Map),G(this,"publishTimeout",cjs$3.toMiliseconds(cjs$3.ONE_MINUTE)),G(this,"initialPublishTimeout",cjs$3.toMiliseconds(cjs$3.ONE_SECOND*15)),G(this,"needsTransportRestart",!1),G(this,"publish",async(qs,Ys,Xs)=>{var Zs,yl,Js,$l,El;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:qs,message:Ys,opts:Xs}});const wl=(Xs==null?void 0:Xs.ttl)||At,_l=(Xs==null?void 0:Xs.prompt)||!1,Sl=(Xs==null?void 0:Xs.tag)||0,Tl=(Xs==null?void 0:Xs.id)||getBigIntRpcId().toString(),Il=Oa(Sa().protocol),Al={id:Tl,method:(Xs==null?void 0:Xs.publishMethod)||Il.publish,params:ce({topic:qs,message:Ys,ttl:wl,prompt:_l,tag:Sl,attestation:Xs==null?void 0:Xs.attestation},Xs==null?void 0:Xs.tvf)},xl=`Failed to publish payload, please try again. id:${Tl} tag:${Sl}`;try{Dt((Zs=Al.params)==null?void 0:Zs.prompt)&&((yl=Al.params)==null||delete yl.prompt),Dt((Js=Al.params)==null?void 0:Js.tag)&&(($l=Al.params)==null||delete $l.tag);const Pl=new Promise(async Cl=>{const Rl=({id:Ml})=>{var Ll;((Ll=Al.id)==null?void 0:Ll.toString())===Ml.toString()&&(this.removeRequestFromQueue(Ml),this.relayer.events.removeListener(C.publish,Rl),Cl())};this.relayer.events.on(C.publish,Rl);const Ol=Si$1(new Promise((Ml,Ll)=>{this.rpcPublish(Al,Xs).then(Ml).catch(Bl=>{this.logger.warn(Bl,Bl==null?void 0:Bl.message),Ll(Bl)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${Tl} tag:${Sl}`);try{await Ol,this.events.removeListener(C.publish,Rl)}catch(Ml){this.queue.set(Tl,{request:Al,opts:Xs,attempt:1}),this.logger.warn(Ml,Ml==null?void 0:Ml.message)}});this.logger.trace({type:"method",method:"publish",params:{id:Tl,topic:qs,message:Ys,opts:Xs}}),await Si$1(Pl,this.publishTimeout,xl)}catch(Pl){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Pl),(El=Xs==null?void 0:Xs.internal)!=null&&El.throwOnFailedPublish)throw Pl}finally{this.queue.delete(Tl)}}),G(this,"publishCustom",async qs=>{var Ys,Xs,Zs,yl,Js;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:qs});const{payload:$l,opts:El={}}=qs,{attestation:wl,tvf:_l,publishMethod:Sl,prompt:Tl,tag:Il,ttl:Al=cjs$3.FIVE_MINUTES}=El,xl=El.id||getBigIntRpcId().toString(),Pl=Oa(Sa().protocol),Cl=Sl||Pl.publish,Rl={id:xl,method:Cl,params:ce(Ci(ce({},$l),{ttl:Al,prompt:Tl,tag:Il,attestation:wl}),_l)},Ol=`Failed to publish custom payload, please try again. id:${xl} tag:${Il}`;try{Dt((Ys=Rl.params)==null?void 0:Ys.prompt)&&((Xs=Rl.params)==null||delete Xs.prompt),Dt((Zs=Rl.params)==null?void 0:Zs.tag)&&((yl=Rl.params)==null||delete yl.tag);const Ml=new Promise(async Ll=>{const Bl=({id:Yl})=>{var Kl;((Kl=Rl.id)==null?void 0:Kl.toString())===Yl.toString()&&(this.removeRequestFromQueue(Yl),this.relayer.events.removeListener(C.publish,Bl),Ll())};this.relayer.events.on(C.publish,Bl);const Wl=Si$1(new Promise((Yl,Kl)=>{this.rpcPublish(Rl,El).then(Yl).catch(Xl=>{this.logger.warn(Xl,Xl==null?void 0:Xl.message),Kl(Xl)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${Cl} id:${xl} tag:${Il}`);try{await Wl,this.events.removeListener(C.publish,Bl)}catch(Yl){this.queue.set(xl,{request:Rl,opts:El,attempt:1}),this.logger.warn(Yl,Yl==null?void 0:Yl.message)}});this.logger.trace({type:"method",method:"publish",params:{id:xl,payload:$l,opts:El}}),await Si$1(Ml,this.publishTimeout,Ol)}catch(Ml){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Ml),(Js=El==null?void 0:El.internal)!=null&&Js.throwOnFailedPublish)throw Ml}finally{this.queue.delete(xl)}}),G(this,"on",(qs,Ys)=>{this.events.on(qs,Ys)}),G(this,"once",(qs,Ys)=>{this.events.once(qs,Ys)}),G(this,"off",(qs,Ys)=>{this.events.off(qs,Ys)}),G(this,"removeListener",(qs,Ys)=>{this.events.removeListener(qs,Ys)}),this.relayer=zs,this.logger=Re$3(Ws,this.name),this.registerEventListeners()}get context(){return ee$2(this.logger)}async rpcPublish(zs,Ws){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:zs});const qs=await this.relayer.request(zs);return this.relayer.events.emit(C.publish,ce(ce({},zs),Ws)),this.logger.debug("Successfully Published Payload"),qs}removeRequestFromQueue(zs){this.queue.delete(zs)}checkQueue(){this.queue.forEach(async(zs,Ws)=>{var qs;const Ys=zs.attempt+1;this.queue.set(Ws,Ci(ce({},zs),{attempt:Ys})),this.logger.warn({},`Publisher: queue->publishing: ${zs.request.id}, tag: ${(qs=zs.request.params)==null?void 0:qs.tag}, attempt: ${Ys}`),await this.rpcPublish(zs.request,zs.opts),this.logger.warn({},`Publisher: queue->published: ${zs.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$1.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,zs=>{this.removeRequestFromQueue(zs.id.toString())})}}var Jn=Object.defineProperty,Xn=(at,zs,Ws)=>zs in at?Jn(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,he=(at,zs,Ws)=>Xn(at,typeof zs!="symbol"?zs+"":zs,Ws);class Zn{constructor(){he(this,"map",new Map),he(this,"set",(zs,Ws)=>{const qs=this.get(zs);this.exists(zs,Ws)||this.map.set(zs,[...qs,Ws])}),he(this,"get",zs=>this.map.get(zs)||[]),he(this,"exists",(zs,Ws)=>this.get(zs).includes(Ws)),he(this,"delete",(zs,Ws)=>{if(typeof Ws>"u"){this.map.delete(zs);return}if(!this.map.has(zs))return;const qs=this.get(zs);if(!this.exists(zs,Ws))return;const Ys=qs.filter(Xs=>Xs!==Ws);if(!Ys.length){this.map.delete(zs);return}this.map.set(zs,Ys)}),he(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qn=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Pi=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(at,zs,Ws)=>zs in at?Qn(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,fe=(at,zs)=>{for(var Ws in zs||(zs={}))io.call(zs,Ws)&&Ye(at,Ws,zs[Ws]);if(Pi)for(var Ws of Pi(zs))so.call(zs,Ws)&&Ye(at,Ws,zs[Ws]);return at},Je=(at,zs)=>eo(at,to(zs)),f=(at,zs,Ws)=>Ye(at,typeof zs!="symbol"?zs+"":zs,Ws);class Si extends P$2{constructor(zs,Ws){super(zs,Ws),this.relayer=zs,this.logger=Ws,f(this,"subscriptions",new Map),f(this,"topicMap",new Zn),f(this,"events",new eventsExports.EventEmitter),f(this,"name",Ft),f(this,"version",Mt),f(this,"pending",new Map),f(this,"cached",[]),f(this,"initialized",!1),f(this,"storagePrefix",W),f(this,"subscribeTimeout",cjs$3.toMiliseconds(cjs$3.ONE_MINUTE)),f(this,"initialSubscribeTimeout",cjs$3.toMiliseconds(cjs$3.ONE_SECOND*15)),f(this,"clientId"),f(this,"batchSubscribeTopicsLimit",500),f(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,"subscribe",async(qs,Ys)=>{var Xs;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:qs,opts:Ys}});try{const Zs=Sa(Ys),yl={topic:qs,relay:Zs,transportType:Ys==null?void 0:Ys.transportType};(Xs=Ys==null?void 0:Ys.internal)!=null&&Xs.skipSubscribe||this.pending.set(qs,yl);const Js=await this.rpcSubscribe(qs,Zs,Ys);return typeof Js=="string"&&(this.onSubscribe(Js,yl),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:qs,opts:Ys}})),Js}catch(Zs){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(Zs),Zs}}),f(this,"unsubscribe",async(qs,Ys)=>{this.isInitialized(),typeof(Ys==null?void 0:Ys.id)<"u"?await this.unsubscribeById(qs,Ys.id,Ys):await this.unsubscribeByTopic(qs,Ys)}),f(this,"isSubscribed",qs=>new Promise(Ys=>{Ys(this.topicMap.topics.includes(qs))})),f(this,"isKnownTopic",qs=>new Promise(Ys=>{Ys(this.topicMap.topics.includes(qs)||this.pending.has(qs)||this.cached.some(Xs=>Xs.topic===qs))})),f(this,"on",(qs,Ys)=>{this.events.on(qs,Ys)}),f(this,"once",(qs,Ys)=>{this.events.once(qs,Ys)}),f(this,"off",(qs,Ys)=>{this.events.off(qs,Ys)}),f(this,"removeListener",(qs,Ys)=>{this.events.removeListener(qs,Ys)}),f(this,"start",async()=>{await this.onConnect()}),f(this,"stop",async()=>{await this.onDisconnect()}),f(this,"restart",async()=>{await this.restore(),await this.onRestart()}),f(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const qs=[];this.pending.forEach(Ys=>{qs.push(Ys)}),await this.batchSubscribe(qs)}),f(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r$1.pulse,async()=>{await this.checkPending()}),this.events.on(j.created,async qs=>{const Ys=j.created;this.logger.info(`Emitting ${Ys}`),this.logger.debug({type:"event",event:Ys,data:qs}),await this.persist()}),this.events.on(j.deleted,async qs=>{const Ys=j.deleted;this.logger.info(`Emitting ${Ys}`),this.logger.debug({type:"event",event:Ys,data:qs}),await this.persist()})}),this.relayer=zs,this.logger=Re$3(Ws,this.name),this.clientId=""}get context(){return ee$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(zs,Ws){let qs=!1;try{qs=this.getSubscription(zs).topic===Ws}catch{}return qs}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(zs,Ws){const qs=this.topicMap.get(zs);await Promise.all(qs.map(async Ys=>await this.unsubscribeById(zs,Ys,Ws)))}async unsubscribeById(zs,Ws,qs){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:zs,id:Ws,opts:qs}});try{const Ys=Sa(qs);await this.restartToComplete({topic:zs,id:Ws,relay:Ys}),await this.rpcUnsubscribe(zs,Ws,Ys);const Xs=zt$1("USER_DISCONNECTED",`${this.name}, ${zs}`);await this.onUnsubscribe(zs,Ws,Xs),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:zs,id:Ws,opts:qs}})}catch(Ys){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Ys),Ys}}async rpcSubscribe(zs,Ws,qs){var Ys,Xs;const Zs=await this.getSubscriptionId(zs);if((Ys=qs==null?void 0:qs.internal)!=null&&Ys.skipSubscribe)return Zs;(!qs||(qs==null?void 0:qs.transportType)===ee.relay)&&await this.restartToComplete({topic:zs,id:zs,relay:Ws});const yl={method:Oa(Ws.protocol).subscribe,params:{topic:zs}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:yl});const Js=(Xs=qs==null?void 0:qs.internal)==null?void 0:Xs.throwOnFailedPublish;try{if((qs==null?void 0:qs.transportType)===ee.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(yl).catch(wl=>this.logger.warn(wl))},cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),Zs;const $l=new Promise(async wl=>{const _l=Sl=>{Sl.topic===zs&&(this.events.removeListener(j.created,_l),wl(Sl.id))};this.events.on(j.created,_l);try{const Sl=await Si$1(new Promise((Tl,Il)=>{this.relayer.request(yl).catch(Al=>{this.logger.warn(Al,Al==null?void 0:Al.message),Il(Al)}).then(Tl)}),this.initialSubscribeTimeout,`Subscribing to ${zs} failed, please try again`);this.events.removeListener(j.created,_l),wl(Sl)}catch{}}),El=await Si$1($l,this.subscribeTimeout,`Subscribing to ${zs} failed, please try again`);if(!El&&Js)throw new Error(`Subscribing to ${zs} failed, please try again`);return El?Zs:null}catch($l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(C.connection_stalled),Js)throw $l}return null}async rpcBatchSubscribe(zs){if(!zs.length)return;const Ws=zs[0].relay,qs={method:Oa(Ws.protocol).batchSubscribe,params:{topics:zs.map(Ys=>Ys.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:qs});try{await await Si$1(new Promise(Ys=>{this.relayer.request(qs).catch(Xs=>this.logger.warn(Xs)).then(Ys)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(zs){if(!zs.length)return;const Ws=zs[0].relay,qs={method:Oa(Ws.protocol).batchFetchMessages,params:{topics:zs.map(Xs=>Xs.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:qs});let Ys;try{Ys=await await Si$1(new Promise((Xs,Zs)=>{this.relayer.request(qs).catch(yl=>{this.logger.warn(yl),Zs(yl)}).then(Xs)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(C.connection_stalled)}return Ys}rpcUnsubscribe(zs,Ws,qs){const Ys={method:Oa(qs.protocol).unsubscribe,params:{topic:zs,id:Ws}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Ys}),this.relayer.request(Ys)}onSubscribe(zs,Ws){this.setSubscription(zs,Je(fe({},Ws),{id:zs})),this.pending.delete(Ws.topic)}onBatchSubscribe(zs){zs.length&&zs.forEach(Ws=>{this.setSubscription(Ws.id,fe({},Ws)),this.pending.delete(Ws.topic)})}async onUnsubscribe(zs,Ws,qs){this.events.removeAllListeners(Ws),this.hasSubscription(Ws,zs)&&this.deleteSubscription(Ws,qs),await this.relayer.messages.del(zs)}async setRelayerSubscriptions(zs){await this.relayer.core.storage.setItem(this.storageKey,zs)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(zs,Ws){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:zs,subscription:Ws}),this.addSubscription(zs,Ws)}addSubscription(zs,Ws){this.subscriptions.set(zs,fe({},Ws)),this.topicMap.set(Ws.topic,zs),this.events.emit(j.created,Ws)}getSubscription(zs){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:zs});const Ws=this.subscriptions.get(zs);if(!Ws){const{message:qs}=Bt$1("NO_MATCHING_KEY",`${this.name}: ${zs}`);throw new Error(qs)}return Ws}deleteSubscription(zs,Ws){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:zs,reason:Ws});const qs=this.getSubscription(zs);this.subscriptions.delete(zs),this.topicMap.delete(qs.topic,zs),this.events.emit(j.deleted,Je(fe({},qs),{reason:Ws}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(j.sync)}async onRestart(){if(this.cached.length){const zs=[...this.cached],Ws=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let qs=0;qs<Ws;qs++){const Ys=zs.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(Ys)}}this.events.emit(j.resubscribed)}async restore(){try{const zs=await this.getRelayerSubscriptions();if(typeof zs>"u"||!zs.length)return;if(this.subscriptions.size&&!zs.every(Ws=>{var qs;return Ws.topic===((qs=this.subscriptions.get(Ws.id))==null?void 0:qs.topic)})){const{message:Ws}=Bt$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(Ws),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(Ws)}this.cached=zs,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(zs){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(zs)}}async batchSubscribe(zs){zs.length&&(await this.rpcBatchSubscribe(zs),this.onBatchSubscribe(await Promise.all(zs.map(async Ws=>Je(fe({},Ws),{id:await this.getSubscriptionId(Ws.topic)})))))}async batchFetchMessages(zs){if(!zs.length)return;this.logger.trace(`Fetching batch messages for ${zs.length} subscriptions`);const Ws=await this.rpcBatchFetchMessages(zs);Ws&&Ws.messages&&(await Pi$1(cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(Ws.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}async restartToComplete(zs){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(zs),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(zs){return ya(zs+await this.getClientId())}}var ro=Object.defineProperty,Oi=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,Xe=(at,zs,Ws)=>zs in at?ro(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Ri=(at,zs)=>{for(var Ws in zs||(zs={}))no.call(zs,Ws)&&Xe(at,Ws,zs[Ws]);if(Oi)for(var Ws of Oi(zs))oo.call(zs,Ws)&&Xe(at,Ws,zs[Ws]);return at},p=(at,zs,Ws)=>Xe(at,typeof zs!="symbol"?zs+"":zs,Ws);class Ai extends d$2{constructor(zs){var Ws;super(zs),p(this,"protocol","wc"),p(this,"version",2),p(this,"core"),p(this,"logger"),p(this,"events",new eventsExports.EventEmitter),p(this,"provider"),p(this,"messages"),p(this,"subscriber"),p(this,"publisher"),p(this,"name",zt),p(this,"transportExplicitlyClosed",!1),p(this,"initialized",!1),p(this,"connectionAttemptInProgress",!1),p(this,"relayUrl"),p(this,"projectId"),p(this,"packageName"),p(this,"bundleId"),p(this,"hasExperiencedNetworkDisruption",!1),p(this,"pingTimeout"),p(this,"heartBeatTimeout",cjs$3.toMiliseconds(cjs$3.THIRTY_SECONDS+cjs$3.FIVE_SECONDS)),p(this,"reconnectTimeout"),p(this,"connectPromise"),p(this,"reconnectInProgress",!1),p(this,"requestsInFlight",[]),p(this,"connectTimeout",cjs$3.toMiliseconds(cjs$3.ONE_SECOND*15)),p(this,"request",async qs=>{var Ys,Xs;this.logger.debug("Publishing Request Payload");const Zs=qs.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:Zs,method:qs.method,topic:(Ys=qs.params)==null?void 0:Ys.topic},"relayer.request - publishing...");const yl=`${Zs}:${((Xs=qs.params)==null?void 0:Xs.tag)||""}`;this.requestsInFlight.push(yl);const Js=await this.provider.request(qs);return this.requestsInFlight=this.requestsInFlight.filter($l=>$l!==yl),Js}catch(yl){throw this.logger.debug(`Failed to Publish Request: ${Zs}`),yl}}),p(this,"resetPingTimeout",()=>{rn$1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var qs,Ys,Xs,Zs;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(Zs=(Xs=(Ys=(qs=this.provider)==null?void 0:qs.connection)==null?void 0:Ys.socket)==null?void 0:Xs.terminate)==null||Zs.call(Xs)}catch(yl){this.logger.warn(yl,yl==null?void 0:yl.message)}},this.heartBeatTimeout))}),p(this,"onPayloadHandler",qs=>{this.onProviderPayload(qs),this.resetPingTimeout()}),p(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(C.connect)}),p(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),p(this,"onProviderErrorHandler",qs=>{this.logger.fatal(`Fatal socket error: ${qs.message}`),this.events.emit(C.error,qs),this.logger.fatal("Fatal socket error received, closing transport"),this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,this.transportClose().catch(Ys=>this.logger.warn(Ys))}),p(this,"registerProviderListeners",()=>{this.provider.on(M.payload,this.onPayloadHandler),this.provider.on(M.connect,this.onConnectHandler),this.provider.on(M.disconnect,this.onDisconnectHandler),this.provider.on(M.error,this.onProviderErrorHandler)}),this.core=zs.core,this.logger=Iu({logger:(Ws=zs.logger)!=null?Ws:$t,name:this.name}),this.messages=new Ii(this.logger,zs.core),this.subscriber=new Si(this,this.logger),this.publisher=new Yn(this,this.logger),this.projectId=zs==null?void 0:zs.projectId,this.relayUrl=(zs==null?void 0:zs.relayUrl)||Ke$1,li$1()?this.packageName=hi$1():di$1()&&(this.bundleId=hi$1()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(zs=>this.logger.warn(zs,zs==null?void 0:zs.message))}get context(){return ee$2(this.logger)}get connected(){var zs,Ws,qs;return((qs=(Ws=(zs=this.provider)==null?void 0:zs.connection)==null?void 0:Ws.socket)==null?void 0:qs.readyState)===1||!1}get connecting(){var zs,Ws,qs;return((qs=(Ws=(zs=this.provider)==null?void 0:zs.connection)==null?void 0:Ws.socket)==null?void 0:qs.readyState)===0||this.connectPromise!==void 0||!1}async publish(zs,Ws,qs){this.isInitialized(),await this.publisher.publish(zs,Ws,qs),await this.recordMessageEvent({topic:zs,message:Ws,publishedAt:Date.now(),transportType:ee.relay},ye.outbound)}async publishCustom(zs){this.isInitialized(),await this.publisher.publishCustom(zs)}async subscribe(zs,Ws){var qs,Ys,Xs;this.isInitialized(),(!(Ws!=null&&Ws.transportType)||(Ws==null?void 0:Ws.transportType)==="relay")&&await this.toEstablishConnection();const Zs=typeof((qs=Ws==null?void 0:Ws.internal)==null?void 0:qs.throwOnFailedPublish)>"u"?!0:(Ys=Ws==null?void 0:Ws.internal)==null?void 0:Ys.throwOnFailedPublish;let yl=((Xs=this.subscriber.topicMap.get(zs))==null?void 0:Xs[0])||"",Js;const $l=El=>{El.topic===zs&&(this.subscriber.off(j.created,$l),Js())};return await Promise.all([new Promise(El=>{Js=El,this.subscriber.on(j.created,$l)}),new Promise(async(El,wl)=>{yl=await this.subscriber.subscribe(zs,Ri({internal:{throwOnFailedPublish:Zs}},Ws)).catch(_l=>{Zs&&wl(_l)})||yl,El()})]),yl}async unsubscribe(zs,Ws){this.isInitialized(),await this.subscriber.unsubscribe(zs,Ws)}on(zs,Ws){this.events.on(zs,Ws)}once(zs,Ws){this.events.once(zs,Ws)}off(zs,Ws){this.events.off(zs,Ws)}removeListener(zs,Ws){this.events.removeListener(zs,Ws)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Si$1(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,await this.transportDisconnect()}async transportOpen(zs){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(Ws,qs)=>{await this.connect(zs).then(Ws).catch(qs).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(zs){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=zs||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await gu())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(zs){if((zs==null?void 0:zs.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const Ws=zs.sort((qs,Ys)=>qs.publishedAt-Ys.publishedAt);this.logger.debug(`Batch of ${Ws.length} message events sorted`);for(const qs of Ws)try{await this.onMessageEvent(qs)}catch(Ys){this.logger.warn(Ys,"Error while processing batch message event: "+(Ys==null?void 0:Ys.message))}this.logger.trace(`Batch of ${Ws.length} message events processed`)}async onLinkMessageEvent(zs,Ws){const{topic:qs}=zs;if(!Ws.sessionExists){const Ys=_i$1(cjs$3.FIVE_MINUTES),Xs={topic:qs,expiry:Ys,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(qs,Xs)}this.events.emit(C.message,zs),await this.recordMessageEvent(zs,ye.inbound)}async connect(zs){await this.confirmOnlineStateOrThrow(),zs&&zs!==this.relayUrl&&(this.relayUrl=zs,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let Ws=1;for(;Ws<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${Ws}...`),await this.createProvider(),await new Promise(async(qs,Ys)=>{const Xs=()=>{Ys(new Error("Connection interrupted while trying to connect"))};this.provider.once(M.disconnect,Xs),await Si$1(new Promise((Zs,yl)=>{this.provider.connect().then(Zs).catch(yl)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(Zs=>{Ys(Zs)}).finally(()=>{this.provider.off(M.disconnect,Xs),clearTimeout(this.reconnectTimeout)}),await new Promise(async(Zs,yl)=>{const Js=()=>{Ys(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(M.disconnect,Js),await this.subscriber.start().then(Zs).catch(yl).finally(()=>{this.provider.off(M.disconnect,Js)})}),this.hasExperiencedNetworkDisruption=!1,qs()})}catch(qs){await this.subscriber.stop();const Ys=qs;this.logger.warn({},Ys.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${Ws}`);break}await new Promise(qs=>setTimeout(qs,cjs$3.toMiliseconds(Ws*1))),Ws++}}startPingTimeout(){var zs,Ws,qs,Ys,Xs;if(rn$1())try{(Ws=(zs=this.provider)==null?void 0:zs.connection)!=null&&Ws.socket&&((Xs=(Ys=(qs=this.provider)==null?void 0:qs.connection)==null?void 0:Ys.socket)==null||Xs.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(Zs){this.logger.warn(Zs,Zs==null?void 0:Zs.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const zs=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o(new f$1(bi$1({sdkVersion:Pe,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:zs,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(zs,Ws){const{topic:qs,message:Ys}=zs;await this.messages.set(qs,Ys,Ws)}async shouldIgnoreMessageEvent(zs){const{topic:Ws,message:qs}=zs;if(!qs||qs.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${qs}`),!0;if(!await this.subscriber.isKnownTopic(Ws))return this.logger.warn(`Ignoring message for unknown topic ${Ws}`),!0;const Ys=this.messages.has(Ws,qs);return Ys&&this.logger.warn(`Ignoring duplicate message: ${qs}`),Ys}async onProviderPayload(zs){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:zs}),isJsonRpcRequest(zs)){if(!zs.method.endsWith(Lt))return;const Ws=zs.params,{topic:qs,message:Ys,publishedAt:Xs,attestation:Zs}=Ws.data,yl={topic:qs,message:Ys,publishedAt:Xs,transportType:ee.relay,attestation:Zs};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ri({type:"event",event:Ws.id},yl)),this.events.emit(Ws.id,yl),await this.acknowledgePayload(zs),await this.onMessageEvent(yl)}else isJsonRpcResponse(zs)&&this.events.emit(C.message_ack,zs)}async onMessageEvent(zs){await this.shouldIgnoreMessageEvent(zs)||(await this.recordMessageEvent(zs,ye.inbound),this.events.emit(C.message,zs))}async acknowledgePayload(zs){const Ws=formatJsonRpcResult(zs.id,!0);await this.provider.connection.send(Ws)}unregisterProviderListeners(){this.provider.off(M.payload,this.onPayloadHandler),this.provider.off(M.connect,this.onConnectHandler),this.provider.off(M.disconnect,this.onDisconnectHandler),this.provider.off(M.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let zs=await gu();bu(async Ws=>{zs!==Ws&&(zs=Ws,Ws?await this.transportOpen().catch(qs=>this.logger.error(qs,qs==null?void 0:qs.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(r$1.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&yu())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(Ws){this.logger.warn(Ws,Ws==null?void 0:Ws.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(zs=>this.logger.error(zs,zs==null?void 0:zs.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},cjs$3.toMiliseconds(kt)))))}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ao(at,zs){return at===zs||Number.isNaN(at)&&Number.isNaN(zs)}function xi(at){return Object.getOwnPropertySymbols(at).filter(zs=>Object.prototype.propertyIsEnumerable.call(at,zs))}function Ni(at){return at==null?at===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(at)}const co="[object RegExp]",ho="[object String]",lo="[object Number]",uo="[object Boolean]",$i="[object Arguments]",po="[object Symbol]",go="[object Date]",yo="[object Map]",bo="[object Set]",mo="[object Array]",fo="[object Function]",Do="[object ArrayBuffer]",Ze="[object Object]",vo="[object Error]",_o="[object DataView]",wo="[object Uint8Array]",Eo="[object Uint8ClampedArray]",Io="[object Uint16Array]",To="[object Uint32Array]",Co="[object BigUint64Array]",Po="[object Int8Array]",So="[object Int16Array]",Oo="[object Int32Array]",Ro="[object BigInt64Array]",Ao="[object Float32Array]",xo="[object Float64Array]";function No(){}function zi(at){if(!at||typeof at!="object")return!1;const zs=Object.getPrototypeOf(at);return zs===null||zs===Object.prototype||Object.getPrototypeOf(zs)===null?Object.prototype.toString.call(at)==="[object Object]":!1}function $o(at,zs,Ws){return De$1(at,zs,void 0,void 0,void 0,void 0,Ws)}function De$1(at,zs,Ws,qs,Ys,Xs,Zs){const yl=Zs(at,zs,Ws,qs,Ys,Xs);if(yl!==void 0)return yl;if(typeof at==typeof zs)switch(typeof at){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return at===zs;case"number":return at===zs||Object.is(at,zs);case"function":return at===zs;case"object":return ve(at,zs,Xs,Zs)}return ve(at,zs,Xs,Zs)}function ve(at,zs,Ws,qs){if(Object.is(at,zs))return!0;let Ys=Ni(at),Xs=Ni(zs);if(Ys===$i&&(Ys=Ze),Xs===$i&&(Xs=Ze),Ys!==Xs)return!1;switch(Ys){case ho:return at.toString()===zs.toString();case lo:{const Js=at.valueOf(),$l=zs.valueOf();return ao(Js,$l)}case uo:case go:case po:return Object.is(at.valueOf(),zs.valueOf());case co:return at.source===zs.source&&at.flags===zs.flags;case fo:return at===zs}Ws=Ws??new Map;const Zs=Ws.get(at),yl=Ws.get(zs);if(Zs!=null&&yl!=null)return Zs===zs;Ws.set(at,zs),Ws.set(zs,at);try{switch(Ys){case yo:{if(at.size!==zs.size)return!1;for(const[Js,$l]of at.entries())if(!zs.has(Js)||!De$1($l,zs.get(Js),Js,at,zs,Ws,qs))return!1;return!0}case bo:{if(at.size!==zs.size)return!1;const Js=Array.from(at.values()),$l=Array.from(zs.values());for(let El=0;El<Js.length;El++){const wl=Js[El],_l=$l.findIndex(Sl=>De$1(wl,Sl,void 0,at,zs,Ws,qs));if(_l===-1)return!1;$l.splice(_l,1)}return!0}case mo:case wo:case Eo:case Io:case To:case Co:case Po:case So:case Oo:case Ro:case Ao:case xo:{if(typeof Buffer<"u"&&Buffer.isBuffer(at)!==Buffer.isBuffer(zs)||at.length!==zs.length)return!1;for(let Js=0;Js<at.length;Js++)if(!De$1(at[Js],zs[Js],Js,at,zs,Ws,qs))return!1;return!0}case Do:return at.byteLength!==zs.byteLength?!1:ve(new Uint8Array(at),new Uint8Array(zs),Ws,qs);case _o:return at.byteLength!==zs.byteLength||at.byteOffset!==zs.byteOffset?!1:ve(new Uint8Array(at),new Uint8Array(zs),Ws,qs);case vo:return at.name===zs.name&&at.message===zs.message;case Ze:{if(!(ve(at.constructor,zs.constructor,Ws,qs)||zi(at)&&zi(zs)))return!1;const Js=[...Object.keys(at),...xi(at)],$l=[...Object.keys(zs),...xi(zs)];if(Js.length!==$l.length)return!1;for(let El=0;El<Js.length;El++){const wl=Js[El],_l=at[wl];if(!Object.hasOwn(zs,wl))return!1;const Sl=zs[wl];if(!De$1(_l,Sl,wl,at,zs,Ws,qs))return!1}return!0}default:return!1}}finally{Ws.delete(at),Ws.delete(zs)}}function zo(at,zs){return $o(at,zs,No)}var Lo=Object.defineProperty,Li=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Qe=(at,zs,Ws)=>zs in at?Lo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,ki=(at,zs)=>{for(var Ws in zs||(zs={}))ko.call(zs,Ws)&&Qe(at,Ws,zs[Ws]);if(Li)for(var Ws of Li(zs))jo.call(zs,Ws)&&Qe(at,Ws,zs[Ws]);return at},U=(at,zs,Ws)=>Qe(at,typeof zs!="symbol"?zs+"":zs,Ws);class ji extends f$2{constructor(zs,Ws,qs,Ys=W,Xs=void 0){super(zs,Ws,qs,Ys),this.core=zs,this.logger=Ws,this.name=qs,U(this,"map",new Map),U(this,"version",jt),U(this,"cached",[]),U(this,"initialized",!1),U(this,"getKey"),U(this,"storagePrefix",W),U(this,"recentlyDeleted",[]),U(this,"recentlyDeletedLimit",200),U(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Zs=>{this.getKey&&Zs!==null&&!Dt(Zs)?this.map.set(this.getKey(Zs),Zs):Ja(Zs)?this.map.set(Zs.id,Zs):Qa(Zs)&&this.map.set(Zs.topic,Zs)}),this.cached=[],this.initialized=!0)}),U(this,"set",async(Zs,yl)=>{this.isInitialized(),this.map.has(Zs)?await this.update(Zs,yl):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:Zs,value:yl}),this.map.set(Zs,yl),await this.persist())}),U(this,"get",Zs=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:Zs}),this.getData(Zs))),U(this,"getAll",Zs=>(this.isInitialized(),Zs?this.values.filter(yl=>Object.keys(Zs).every(Js=>zo(yl[Js],Zs[Js]))):this.values)),U(this,"update",async(Zs,yl)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:Zs,update:yl});const Js=ki(ki({},this.getData(Zs)),yl);this.map.set(Zs,Js),await this.persist()}),U(this,"delete",async(Zs,yl)=>{this.isInitialized(),this.map.has(Zs)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:Zs,reason:yl}),this.map.delete(Zs),this.addToRecentlyDeleted(Zs),await this.persist())}),this.logger=Re$3(Ws,this.name),this.storagePrefix=Ys,this.getKey=Xs}get context(){return ee$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(zs){this.recentlyDeleted.push(zs),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(zs){await this.core.storage.setItem(this.storageKey,zs)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(zs){const Ws=this.map.get(zs);if(!Ws){if(this.recentlyDeleted.includes(zs)){const{message:Ys}=Bt$1("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${zs}`);throw this.logger.error(Ys),new Error(Ys)}const{message:qs}=Bt$1("NO_MATCHING_KEY",`${this.name}: ${zs}`);throw this.logger.error(qs),new Error(qs)}return Ws}async persist(){await this.setDataStore(this.values)}async restore(){try{const zs=await this.getDataStore();if(typeof zs>"u"||!zs.length)return;if(this.map.size){const{message:Ws}=Bt$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(Ws),new Error(Ws)}this.cached=zs,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(zs){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(zs)}}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}}var Uo=Object.defineProperty,Fo=(at,zs,Ws)=>zs in at?Uo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,d=(at,zs,Ws)=>Fo(at,typeof zs!="symbol"?zs+"":zs,Ws);class Ui{constructor(zs,Ws){this.core=zs,this.logger=Ws,d(this,"name",Kt),d(this,"version",Bt),d(this,"events",new Pt$3),d(this,"pairings"),d(this,"initialized",!1),d(this,"storagePrefix",W),d(this,"ignoredPayloadTypes",[ie]),d(this,"registeredMethods",[]),d(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),d(this,"register",({methods:qs})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...qs])]}),d(this,"create",async qs=>{this.isInitialized();const Ys=pa(),Xs=await this.core.crypto.setSymKey(Ys),Zs=_i$1(cjs$3.FIVE_MINUTES),yl={protocol:Nt},Js={topic:Xs,expiry:Zs,relay:yl,active:!1,methods:qs==null?void 0:qs.methods},$l=ja({protocol:this.core.protocol,version:this.core.version,topic:Xs,symKey:Ys,relay:yl,expiryTimestamp:Zs,methods:qs==null?void 0:qs.methods});return this.events.emit(ae.create,Js),this.core.expirer.set(Xs,Zs),await this.pairings.set(Xs,Js),await this.core.relayer.subscribe(Xs,{transportType:qs==null?void 0:qs.transportType,internal:qs==null?void 0:qs.internal}),{topic:Xs,uri:$l}}),d(this,"pair",async qs=>{this.isInitialized();const Ys=this.core.eventClient.createEvent({properties:{topic:qs==null?void 0:qs.uri,trace:[Y.pairing_started]}});this.isValidPair(qs,Ys);const{topic:Xs,symKey:Zs,relay:yl,expiryTimestamp:Js,methods:$l}=Ca(qs.uri);Ys.props.properties.topic=Xs,Ys.addTrace(Y.pairing_uri_validation_success),Ys.addTrace(Y.pairing_uri_not_expired);let El;if(this.pairings.keys.includes(Xs)){if(El=this.pairings.get(Xs),Ys.addTrace(Y.existing_pairing),El.active)throw Ys.setError(X.active_pairing_already_exists),new Error(`Pairing already exists: ${Xs}. Please try again with a new connection URI.`);Ys.addTrace(Y.pairing_not_expired)}const wl=Js||_i$1(cjs$3.FIVE_MINUTES),_l={topic:Xs,relay:yl,expiry:wl,active:!1,methods:$l};this.core.expirer.set(Xs,wl),await this.pairings.set(Xs,_l),Ys.addTrace(Y.store_new_pairing),qs.activatePairing&&await this.activate({topic:Xs}),this.events.emit(ae.create,_l),Ys.addTrace(Y.emit_inactive_pairing),this.core.crypto.keychain.has(Xs)||await this.core.crypto.setSymKey(Zs,Xs),Ys.addTrace(Y.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{Ys.setError(X.no_internet_connection)}try{await this.core.relayer.subscribe(Xs,{relay:yl})}catch(Sl){throw Ys.setError(X.subscribe_pairing_topic_failure),Sl}return Ys.addTrace(Y.subscribe_pairing_topic_success),_l}),d(this,"activate",async({topic:qs})=>{this.isInitialized();const Ys=_i$1(cjs$3.FIVE_MINUTES);this.core.expirer.set(qs,Ys),await this.pairings.update(qs,{active:!0,expiry:Ys})}),d(this,"ping",async qs=>{this.isInitialized(),await this.isValidPing(qs),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:Ys}=qs;if(this.pairings.keys.includes(Ys)){const Xs=await this.sendRequest(Ys,"wc_pairingPing",{}),{done:Zs,resolve:yl,reject:Js}=Ai$1();this.events.once($i$1("pairing_ping",Xs),({error:$l})=>{$l?Js($l):yl()}),await Zs()}}),d(this,"updateExpiry",async({topic:qs,expiry:Ys})=>{this.isInitialized(),await this.pairings.update(qs,{expiry:Ys})}),d(this,"updateMetadata",async({topic:qs,metadata:Ys})=>{this.isInitialized(),await this.pairings.update(qs,{peerMetadata:Ys})}),d(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),d(this,"disconnect",async qs=>{this.isInitialized(),await this.isValidDisconnect(qs);const{topic:Ys}=qs;this.pairings.keys.includes(Ys)&&(await this.sendRequest(Ys,"wc_pairingDelete",zt$1("USER_DISCONNECTED")),await this.deletePairing(Ys))}),d(this,"formatUriFromPairing",qs=>{this.isInitialized();const{topic:Ys,relay:Xs,expiry:Zs,methods:yl}=qs,Js=this.core.crypto.keychain.get(Ys);return ja({protocol:this.core.protocol,version:this.core.version,topic:Ys,symKey:Js,relay:Xs,expiryTimestamp:Zs,methods:yl})}),d(this,"sendRequest",async(qs,Ys,Xs)=>{const Zs=formatJsonRpcRequest(Ys,Xs),yl=await this.core.crypto.encode(qs,Zs),Js=oe[Ys].req;return this.core.history.set(qs,Zs),this.core.relayer.publish(qs,yl,Js),Zs.id}),d(this,"sendResult",async(qs,Ys,Xs)=>{const Zs=formatJsonRpcResult(qs,Xs),yl=await this.core.crypto.encode(Ys,Zs),Js=(await this.core.history.get(Ys,qs)).request.method,$l=oe[Js].res;await this.core.relayer.publish(Ys,yl,$l),await this.core.history.resolve(Zs)}),d(this,"sendError",async(qs,Ys,Xs)=>{const Zs=formatJsonRpcError(qs,Xs),yl=await this.core.crypto.encode(Ys,Zs),Js=(await this.core.history.get(Ys,qs)).request.method,$l=oe[Js]?oe[Js].res:oe.unregistered_method.res;await this.core.relayer.publish(Ys,yl,$l),await this.core.history.resolve(Zs)}),d(this,"deletePairing",async(qs,Ys)=>{await this.core.relayer.unsubscribe(qs),await Promise.all([this.pairings.delete(qs,zt$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(qs),Ys?Promise.resolve():this.core.expirer.del(qs)])}),d(this,"cleanup",async()=>{const qs=this.pairings.getAll().filter(Ys=>Ri$1(Ys.expiry));await Promise.all(qs.map(Ys=>this.deletePairing(Ys.topic)))}),d(this,"onRelayEventRequest",async qs=>{const{topic:Ys,payload:Xs}=qs;switch(Xs.method){case"wc_pairingPing":return await this.onPairingPingRequest(Ys,Xs);case"wc_pairingDelete":return await this.onPairingDeleteRequest(Ys,Xs);default:return await this.onUnknownRpcMethodRequest(Ys,Xs)}}),d(this,"onRelayEventResponse",async qs=>{const{topic:Ys,payload:Xs}=qs,Zs=(await this.core.history.get(Ys,Xs.id)).request.method;switch(Zs){case"wc_pairingPing":return this.onPairingPingResponse(Ys,Xs);default:return this.onUnknownRpcMethodResponse(Zs)}}),d(this,"onPairingPingRequest",async(qs,Ys)=>{const{id:Xs}=Ys;try{this.isValidPing({topic:qs}),await this.sendResult(Xs,qs,!0),this.events.emit(ae.ping,{id:Xs,topic:qs})}catch(Zs){await this.sendError(Xs,qs,Zs),this.logger.error(Zs)}}),d(this,"onPairingPingResponse",(qs,Ys)=>{const{id:Xs}=Ys;setTimeout(()=>{isJsonRpcResult(Ys)?this.events.emit($i$1("pairing_ping",Xs),{}):isJsonRpcError(Ys)&&this.events.emit($i$1("pairing_ping",Xs),{error:Ys.error})},500)}),d(this,"onPairingDeleteRequest",async(qs,Ys)=>{const{id:Xs}=Ys;try{this.isValidDisconnect({topic:qs}),await this.deletePairing(qs),this.events.emit(ae.delete,{id:Xs,topic:qs})}catch(Zs){await this.sendError(Xs,qs,Zs),this.logger.error(Zs)}}),d(this,"onUnknownRpcMethodRequest",async(qs,Ys)=>{const{id:Xs,method:Zs}=Ys;try{if(this.registeredMethods.includes(Zs))return;const yl=zt$1("WC_METHOD_UNSUPPORTED",Zs);await this.sendError(Xs,qs,yl),this.logger.error(yl)}catch(yl){await this.sendError(Xs,qs,yl),this.logger.error(yl)}}),d(this,"onUnknownRpcMethodResponse",qs=>{this.registeredMethods.includes(qs)||this.logger.error(zt$1("WC_METHOD_UNSUPPORTED",qs))}),d(this,"isValidPair",(qs,Ys)=>{var Xs;if(!ou(qs)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`pair() params: ${qs}`);throw Ys.setError(X.malformed_pairing_uri),new Error(yl)}if(!Xa(qs.uri)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`pair() uri: ${qs.uri}`);throw Ys.setError(X.malformed_pairing_uri),new Error(yl)}const Zs=Ca(qs==null?void 0:qs.uri);if(!((Xs=Zs==null?void 0:Zs.relay)!=null&&Xs.protocol)){const{message:yl}=Bt$1("MISSING_OR_INVALID","pair() uri#relay-protocol");throw Ys.setError(X.malformed_pairing_uri),new Error(yl)}if(!(Zs!=null&&Zs.symKey)){const{message:yl}=Bt$1("MISSING_OR_INVALID","pair() uri#symKey");throw Ys.setError(X.malformed_pairing_uri),new Error(yl)}if(Zs!=null&&Zs.expiryTimestamp&&cjs$3.toMiliseconds(Zs==null?void 0:Zs.expiryTimestamp)<Date.now()){Ys.setError(X.pairing_expired);const{message:yl}=Bt$1("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(yl)}}),d(this,"isValidPing",async qs=>{if(!ou(qs)){const{message:Xs}=Bt$1("MISSING_OR_INVALID",`ping() params: ${qs}`);throw new Error(Xs)}const{topic:Ys}=qs;await this.isValidPairingTopic(Ys)}),d(this,"isValidDisconnect",async qs=>{if(!ou(qs)){const{message:Xs}=Bt$1("MISSING_OR_INVALID",`disconnect() params: ${qs}`);throw new Error(Xs)}const{topic:Ys}=qs;await this.isValidPairingTopic(Ys)}),d(this,"isValidPairingTopic",async qs=>{if(!ft$1(qs,!1)){const{message:Ys}=Bt$1("MISSING_OR_INVALID",`pairing topic should be a string: ${qs}`);throw new Error(Ys)}if(!this.pairings.keys.includes(qs)){const{message:Ys}=Bt$1("NO_MATCHING_KEY",`pairing topic doesn't exist: ${qs}`);throw new Error(Ys)}if(Ri$1(this.pairings.get(qs).expiry)){await this.deletePairing(qs);const{message:Ys}=Bt$1("EXPIRED",`pairing topic: ${qs}`);throw new Error(Ys)}}),this.core=zs,this.logger=Re$3(Ws,this.name),this.pairings=new ji(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ee$2(this.logger)}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}registerRelayerEvents(){this.core.relayer.on(C.message,async zs=>{const{topic:Ws,message:qs,transportType:Ys}=zs;if(this.pairings.keys.includes(Ws)&&Ys!==ee.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(qs)))try{const Xs=await this.core.crypto.decode(Ws,qs);isJsonRpcRequest(Xs)?(this.core.history.set(Ws,Xs),await this.onRelayEventRequest({topic:Ws,payload:Xs})):isJsonRpcResponse(Xs)&&(await this.core.history.resolve(Xs),await this.onRelayEventResponse({topic:Ws,payload:Xs}),this.core.history.delete(Ws,Xs.id)),await this.core.relayer.messages.ack(Ws,qs)}catch(Xs){this.logger.error(Xs)}})}registerExpirerEvents(){this.core.expirer.on(q.expired,async zs=>{const{topic:Ws}=Ui$1(zs.target);Ws&&this.pairings.keys.includes(Ws)&&(await this.deletePairing(Ws,!0),this.events.emit(ae.expire,{topic:Ws}))})}}var Mo=Object.defineProperty,Ko=(at,zs,Ws)=>zs in at?Mo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,N$1=(at,zs,Ws)=>Ko(at,typeof zs!="symbol"?zs+"":zs,Ws);class Fi extends I{constructor(zs,Ws){super(zs,Ws),this.core=zs,this.logger=Ws,N$1(this,"records",new Map),N$1(this,"events",new eventsExports.EventEmitter),N$1(this,"name",Vt),N$1(this,"version",qt),N$1(this,"cached",[]),N$1(this,"initialized",!1),N$1(this,"storagePrefix",W),N$1(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(qs=>this.records.set(qs.id,qs)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),N$1(this,"set",(qs,Ys,Xs)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:qs,request:Ys,chainId:Xs}),this.records.has(Ys.id))return;const Zs={id:Ys.id,topic:qs,request:{method:Ys.method,params:Ys.params||null},chainId:Xs,expiry:_i$1(cjs$3.THIRTY_DAYS)};this.records.set(Zs.id,Zs),this.persist(),this.events.emit(V.created,Zs)}),N$1(this,"resolve",async qs=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:qs}),!this.records.has(qs.id))return;const Ys=await this.getRecord(qs.id);typeof Ys.response>"u"&&(Ys.response=isJsonRpcError(qs)?{error:qs.error}:{result:qs.result},this.records.set(Ys.id,Ys),this.persist(),this.events.emit(V.updated,Ys))}),N$1(this,"get",async(qs,Ys)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:qs,id:Ys}),await this.getRecord(Ys))),N$1(this,"delete",(qs,Ys)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:Ys}),this.values.forEach(Xs=>{if(Xs.topic===qs){if(typeof Ys<"u"&&Xs.id!==Ys)return;this.records.delete(Xs.id),this.events.emit(V.deleted,Xs)}}),this.persist()}),N$1(this,"exists",async(qs,Ys)=>(this.isInitialized(),this.records.has(Ys)?(await this.getRecord(Ys)).topic===qs:!1)),N$1(this,"on",(qs,Ys)=>{this.events.on(qs,Ys)}),N$1(this,"once",(qs,Ys)=>{this.events.once(qs,Ys)}),N$1(this,"off",(qs,Ys)=>{this.events.off(qs,Ys)}),N$1(this,"removeListener",(qs,Ys)=>{this.events.removeListener(qs,Ys)}),this.logger=Re$3(Ws,this.name)}get context(){return ee$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const zs=[];return this.values.forEach(Ws=>{if(typeof Ws.response<"u")return;const qs={topic:Ws.topic,request:formatJsonRpcRequest(Ws.request.method,Ws.request.params,Ws.id),chainId:Ws.chainId};return zs.push(qs)}),zs}async setJsonRpcRecords(zs){await this.core.storage.setItem(this.storageKey,zs)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(zs){this.isInitialized();const Ws=this.records.get(zs);if(!Ws){const{message:qs}=Bt$1("NO_MATCHING_KEY",`${this.name}: ${zs}`);throw new Error(qs)}return Ws}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(V.sync)}async restore(){try{const zs=await this.getJsonRpcRecords();if(typeof zs>"u"||!zs.length)return;if(this.records.size){const{message:Ws}=Bt$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(Ws),new Error(Ws)}this.cached=zs,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(zs){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(zs)}}registerEventListeners(){this.events.on(V.created,zs=>{const Ws=V.created;this.logger.info(`Emitting ${Ws}`),this.logger.debug({type:"event",event:Ws,record:zs})}),this.events.on(V.updated,zs=>{const Ws=V.updated;this.logger.info(`Emitting ${Ws}`),this.logger.debug({type:"event",event:Ws,record:zs})}),this.events.on(V.deleted,zs=>{const Ws=V.deleted;this.logger.info(`Emitting ${Ws}`),this.logger.debug({type:"event",event:Ws,record:zs})}),this.core.heartbeat.on(r$1.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let zs=!1;this.records.forEach(Ws=>{cjs$3.toMiliseconds(Ws.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${Ws.id}`),this.records.delete(Ws.id),this.events.emit(V.deleted,Ws,!1),zs=!0)}),zs&&this.persist()}catch(zs){this.logger.warn(zs)}}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}}var Bo=Object.defineProperty,Vo=(at,zs,Ws)=>zs in at?Bo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,z=(at,zs,Ws)=>Vo(at,typeof zs!="symbol"?zs+"":zs,Ws);class Mi extends S$1{constructor(zs,Ws){super(zs,Ws),this.core=zs,this.logger=Ws,z(this,"expirations",new Map),z(this,"events",new eventsExports.EventEmitter),z(this,"name",Gt),z(this,"version",Wt),z(this,"cached",[]),z(this,"initialized",!1),z(this,"storagePrefix",W),z(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(qs=>this.expirations.set(qs.target,qs)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),z(this,"has",qs=>{try{const Ys=this.formatTarget(qs);return typeof this.getExpiration(Ys)<"u"}catch{return!1}}),z(this,"set",(qs,Ys)=>{this.isInitialized();const Xs=this.formatTarget(qs),Zs={target:Xs,expiry:Ys};this.expirations.set(Xs,Zs),this.checkExpiry(Xs,Zs),this.events.emit(q.created,{target:Xs,expiration:Zs})}),z(this,"get",qs=>{this.isInitialized();const Ys=this.formatTarget(qs);return this.getExpiration(Ys)}),z(this,"del",qs=>{if(this.isInitialized(),this.has(qs)){const Ys=this.formatTarget(qs),Xs=this.getExpiration(Ys);this.expirations.delete(Ys),this.events.emit(q.deleted,{target:Ys,expiration:Xs})}}),z(this,"on",(qs,Ys)=>{this.events.on(qs,Ys)}),z(this,"once",(qs,Ys)=>{this.events.once(qs,Ys)}),z(this,"off",(qs,Ys)=>{this.events.off(qs,Ys)}),z(this,"removeListener",(qs,Ys)=>{this.events.removeListener(qs,Ys)}),this.logger=Re$3(Ws,this.name)}get context(){return ee$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(zs){if(typeof zs=="string")return Oi$1(zs);if(typeof zs=="number")return Ni$1(zs);const{message:Ws}=Bt$1("UNKNOWN_TYPE",`Target type: ${typeof zs}`);throw new Error(Ws)}async setExpirations(zs){await this.core.storage.setItem(this.storageKey,zs)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(q.sync)}async restore(){try{const zs=await this.getExpirations();if(typeof zs>"u"||!zs.length)return;if(this.expirations.size){const{message:Ws}=Bt$1("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(Ws),new Error(Ws)}this.cached=zs,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(zs){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(zs)}}getExpiration(zs){const Ws=this.expirations.get(zs);if(!Ws){const{message:qs}=Bt$1("NO_MATCHING_KEY",`${this.name}: ${zs}`);throw this.logger.warn(qs),new Error(qs)}return Ws}checkExpiry(zs,Ws){const{expiry:qs}=Ws;cjs$3.toMiliseconds(qs)-Date.now()<=0&&this.expire(zs,Ws)}expire(zs,Ws){this.expirations.delete(zs),this.events.emit(q.expired,{target:zs,expiration:Ws})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((zs,Ws)=>this.checkExpiry(Ws,zs))}registerEventListeners(){this.core.heartbeat.on(r$1.pulse,()=>this.checkExpirations()),this.events.on(q.created,zs=>{const Ws=q.created;this.logger.info(`Emitting ${Ws}`),this.logger.debug({type:"event",event:Ws,data:zs}),this.persist()}),this.events.on(q.expired,zs=>{const Ws=q.expired;this.logger.info(`Emitting ${Ws}`),this.logger.debug({type:"event",event:Ws,data:zs}),this.persist()}),this.events.on(q.deleted,zs=>{const Ws=q.deleted;this.logger.info(`Emitting ${Ws}`),this.logger.debug({type:"event",event:Ws,data:zs}),this.persist()})}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}}var qo=Object.defineProperty,Go=(at,zs,Ws)=>zs in at?qo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,P=(at,zs,Ws)=>Go(at,typeof zs!="symbol"?zs+"":zs,Ws);class Ki extends M$2{constructor(zs,Ws,qs){super(zs,Ws,qs),this.core=zs,this.logger=Ws,this.store=qs,P(this,"name",Ht),P(this,"abortController"),P(this,"isDevEnv"),P(this,"verifyUrlV3",Jt),P(this,"storagePrefix",W),P(this,"version",Fe),P(this,"publicKey"),P(this,"fetchPromise"),P(this,"init",async()=>{var Ys;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjs$3.toMiliseconds((Ys=this.publicKey)==null?void 0:Ys.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),P(this,"register",async Ys=>{if(!Wt$1()||this.isDevEnv)return;const Xs=window.location.origin,{id:Zs,decryptedId:yl}=Ys,Js=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${Xs}&id=${Zs}&decryptedId=${yl}`;try{const $l=getDocument_1(),El=this.startAbortTimer(cjs$3.ONE_SECOND*5),wl=await new Promise((_l,Sl)=>{const Tl=()=>{window.removeEventListener("message",Al),$l.body.removeChild(Il),Sl("attestation aborted")};this.abortController.signal.addEventListener("abort",Tl);const Il=$l.createElement("iframe");Il.src=Js,Il.style.display="none",Il.addEventListener("error",Tl,{signal:this.abortController.signal});const Al=xl=>{if(xl.data&&typeof xl.data=="string")try{const Pl=JSON.parse(xl.data);if(Pl.type==="verify_attestation"){if(sn$1(Pl.attestation).payload.id!==Zs)return;clearInterval(El),$l.body.removeChild(Il),this.abortController.signal.removeEventListener("abort",Tl),window.removeEventListener("message",Al),_l(Pl.attestation===null?"":Pl.attestation)}}catch(Pl){this.logger.warn(Pl)}};$l.body.appendChild(Il),window.addEventListener("message",Al,{signal:this.abortController.signal})});return this.logger.debug(wl,"jwt attestation"),wl}catch($l){this.logger.warn($l)}return""}),P(this,"resolve",async Ys=>{if(this.isDevEnv)return"";const{attestationId:Xs,hash:Zs,encryptedId:yl}=Ys;if(Xs===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(Xs){if(sn$1(Xs).payload.id!==yl)return;const $l=await this.isValidJwtAttestation(Xs);if($l){if(!$l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return $l}}if(!Zs)return;const Js=this.getVerifyUrl(Ys==null?void 0:Ys.verifyUrl);return this.fetchAttestation(Zs,Js)}),P(this,"fetchAttestation",async(Ys,Xs)=>{this.logger.debug(`resolving attestation: ${Ys} from url: ${Xs}`);const Zs=this.startAbortTimer(cjs$3.ONE_SECOND*5),yl=await fetch(`${Xs}/attestation/${Ys}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(Zs),yl.status===200?await yl.json():void 0}),P(this,"getVerifyUrl",Ys=>{let Xs=Ys||be;return Xt.includes(Xs)||(this.logger.info(`verify url: ${Xs}, not included in trusted list, assigning default: ${be}`),Xs=be),Xs}),P(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const Ys=this.startAbortTimer(cjs$3.FIVE_SECONDS),Xs=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(Ys),await Xs.json()}catch(Ys){this.logger.warn(Ys)}}),P(this,"persistPublicKey",async Ys=>{this.logger.debug(Ys,"persisting public key to local storage"),await this.store.setItem(this.storeKey,Ys),this.publicKey=Ys}),P(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P(this,"isValidJwtAttestation",async Ys=>{const Xs=await this.getPublicKey();try{if(Xs)return this.validateAttestation(Ys,Xs)}catch(yl){this.logger.error(yl),this.logger.warn("error validating attestation")}const Zs=await this.fetchAndPersistPublicKey();try{if(Zs)return this.validateAttestation(Ys,Zs)}catch(yl){this.logger.error(yl),this.logger.warn("error validating attestation")}}),P(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async Xs=>{const Zs=await this.fetchPublicKey();Zs&&(await this.persistPublicKey(Zs),Xs(Zs))});const Ys=await this.fetchPromise;return this.fetchPromise=void 0,Ys}),P(this,"validateAttestation",(Ys,Xs)=>{const Zs=Aa(Ys,Xs.publicKey),yl={hasExpired:cjs$3.toMiliseconds(Zs.exp)<Date.now(),payload:Zs};if(yl.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:yl.payload.origin,isScam:yl.payload.isScam,isVerified:yl.payload.isVerified}}),this.logger=Re$3(Ws,this.name),this.abortController=new AbortController,this.isDevEnv=ki$1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ee$2(this.logger)}startAbortTimer(zs){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$3.toMiliseconds(zs))}}var Wo=Object.defineProperty,Ho=(at,zs,Ws)=>zs in at?Wo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Bi=(at,zs,Ws)=>Ho(at,typeof zs!="symbol"?zs+"":zs,Ws);class Vi extends O{constructor(zs,Ws){super(zs,Ws),this.projectId=zs,this.logger=Ws,Bi(this,"context",Zt),Bi(this,"registerDeviceToken",async qs=>{const{clientId:Ys,token:Xs,notificationType:Zs,enableEncrypted:yl=!1}=qs,Js=`${Qt}/${this.projectId}/clients`;await fetch(Js,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:Ys,type:Zs,token:Xs,always_raw:yl})})}),this.logger=Re$3(Ws,this.context)}}var Yo=Object.defineProperty,qi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,et=(at,zs,Ws)=>zs in at?Yo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,_e$1=(at,zs)=>{for(var Ws in zs||(zs={}))Jo.call(zs,Ws)&&et(at,Ws,zs[Ws]);if(qi)for(var Ws of qi(zs))Xo.call(zs,Ws)&&et(at,Ws,zs[Ws]);return at},A=(at,zs,Ws)=>et(at,typeof zs!="symbol"?zs+"":zs,Ws);class Gi extends R$1{constructor(zs,Ws,qs=!0){super(zs,Ws,qs),this.core=zs,this.logger=Ws,A(this,"context",ti),A(this,"storagePrefix",W),A(this,"storageVersion",ei),A(this,"events",new Map),A(this,"shouldPersist",!1),A(this,"init",async()=>{if(!ki$1())try{const Ys={eventId:Li$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:wr$1(this.core.relayer.protocol,this.core.relayer.version,Pe)}}};await this.sendEvent([Ys])}catch(Ys){this.logger.warn(Ys)}}),A(this,"createEvent",Ys=>{const{event:Xs="ERROR",type:Zs="",properties:{topic:yl,trace:Js}}=Ys,$l=Li$1(),El=this.core.projectId||"",wl=Date.now(),_l=_e$1({eventId:$l,timestamp:wl,props:{event:Xs,type:Zs,properties:{topic:yl,trace:Js}},bundleId:El,domain:this.getAppDomain()},this.setMethods($l));return this.telemetryEnabled&&(this.events.set($l,_l),this.shouldPersist=!0),_l}),A(this,"getEvent",Ys=>{const{eventId:Xs,topic:Zs}=Ys;if(Xs)return this.events.get(Xs);const yl=Array.from(this.events.values()).find(Js=>Js.props.properties.topic===Zs);if(yl)return _e$1(_e$1({},yl),this.setMethods(yl.eventId))}),A(this,"deleteEvent",Ys=>{const{eventId:Xs}=Ys;this.events.delete(Xs),this.shouldPersist=!0}),A(this,"setEventListeners",()=>{this.core.heartbeat.on(r$1.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(Ys=>{cjs$3.fromMiliseconds(Date.now())-cjs$3.fromMiliseconds(Ys.timestamp)>ii&&(this.events.delete(Ys.eventId),this.shouldPersist=!0)})})}),A(this,"setMethods",Ys=>({addTrace:Xs=>this.addTrace(Ys,Xs),setError:Xs=>this.setError(Ys,Xs)})),A(this,"addTrace",(Ys,Xs)=>{const Zs=this.events.get(Ys);Zs&&(Zs.props.properties.trace.push(Xs),this.events.set(Ys,Zs),this.shouldPersist=!0)}),A(this,"setError",(Ys,Xs)=>{const Zs=this.events.get(Ys);Zs&&(Zs.props.type=Xs,Zs.timestamp=Date.now(),this.events.set(Ys,Zs),this.shouldPersist=!0)}),A(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),A(this,"restore",async()=>{try{const Ys=await this.core.storage.getItem(this.storageKey)||[];if(!Ys.length)return;Ys.forEach(Xs=>{this.events.set(Xs.eventId,_e$1(_e$1({},Xs),this.setMethods(Xs.eventId)))})}catch(Ys){this.logger.warn(Ys)}}),A(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const Ys=[];for(const[Xs,Zs]of this.events)Zs.props.type&&Ys.push(Zs);if(Ys.length!==0)try{if((await this.sendEvent(Ys)).ok)for(const Xs of Ys)this.events.delete(Xs.eventId),this.shouldPersist=!0}catch(Xs){this.logger.warn(Xs)}}),A(this,"sendEvent",async Ys=>{const Xs=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${si}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Pe}${Xs}`,{method:"POST",body:JSON.stringify(Ys)})}),A(this,"getAppDomain",()=>br$1().url),this.logger=Re$3(Ws,this.context),this.telemetryEnabled=qs,qs?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Zo=Object.defineProperty,Wi=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,tt=(at,zs,Ws)=>zs in at?Zo(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Hi=(at,zs)=>{for(var Ws in zs||(zs={}))Qo.call(zs,Ws)&&tt(at,Ws,zs[Ws]);if(Wi)for(var Ws of Wi(zs))ea.call(zs,Ws)&&tt(at,Ws,zs[Ws]);return at},v=(at,zs,Ws)=>tt(at,typeof zs!="symbol"?zs+"":zs,Ws);class Oe extends h$1{constructor(zs){var Ws;super(zs),v(this,"protocol",Ue$1),v(this,"version",Fe),v(this,"name",ge),v(this,"relayUrl"),v(this,"projectId"),v(this,"customStoragePrefix"),v(this,"events",new eventsExports.EventEmitter),v(this,"logger"),v(this,"heartbeat"),v(this,"relayer"),v(this,"crypto"),v(this,"storage"),v(this,"history"),v(this,"expirer"),v(this,"pairing"),v(this,"verify"),v(this,"echoClient"),v(this,"linkModeSupportedApps"),v(this,"eventClient"),v(this,"initialized",!1),v(this,"logChunkController"),v(this,"on",(yl,Js)=>this.events.on(yl,Js)),v(this,"once",(yl,Js)=>this.events.once(yl,Js)),v(this,"off",(yl,Js)=>this.events.off(yl,Js)),v(this,"removeListener",(yl,Js)=>this.events.removeListener(yl,Js)),v(this,"dispatchEnvelope",({topic:yl,message:Js,sessionExists:$l})=>{if(!yl||!Js)return;const El={topic:yl,message:Js,publishedAt:Date.now(),transportType:ee.link_mode};this.relayer.onLinkMessageEvent(El,{sessionExists:$l})});const qs=this.getGlobalCore(zs==null?void 0:zs.customStoragePrefix);if(qs)try{return this.customStoragePrefix=qs.customStoragePrefix,this.logger=qs.logger,this.heartbeat=qs.heartbeat,this.crypto=qs.crypto,this.history=qs.history,this.expirer=qs.expirer,this.storage=qs.storage,this.relayer=qs.relayer,this.pairing=qs.pairing,this.verify=qs.verify,this.echoClient=qs.echoClient,this.linkModeSupportedApps=qs.linkModeSupportedApps,this.eventClient=qs.eventClient,this.initialized=qs.initialized,this.logChunkController=qs.logChunkController,qs}catch(yl){console.warn("Failed to copy global core",yl)}this.projectId=zs==null?void 0:zs.projectId,this.relayUrl=(zs==null?void 0:zs.relayUrl)||Ke$1,this.customStoragePrefix=zs!=null&&zs.customStoragePrefix?`:${zs.customStoragePrefix}`:"";const Ys=Ge$4({level:typeof(zs==null?void 0:zs.logger)=="string"&&zs.logger?zs.logger:Et$1.logger,name:ge}),{logger:Xs,chunkLoggerController:Zs}=Ue$4({opts:Ys,maxSizeInBytes:zs==null?void 0:zs.maxLogBlobSizeInBytes,loggerOverride:zs==null?void 0:zs.logger});this.logChunkController=Zs,(Ws=this.logChunkController)!=null&&Ws.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var yl,Js;(yl=this.logChunkController)!=null&&yl.downloadLogsBlobInBrowser&&((Js=this.logChunkController)==null||Js.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Re$3(Xs,this.name),this.heartbeat=new i$1,this.crypto=new wi(this,this.logger,zs==null?void 0:zs.keychain),this.history=new Fi(this,this.logger),this.expirer=new Mi(this,this.logger),this.storage=zs!=null&&zs.storage?zs.storage:new h$2(Hi(Hi({},It$1),zs==null?void 0:zs.storageOptions)),this.relayer=new Ai({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ui(this,this.logger),this.verify=new Ki(this,this.logger,this.storage),this.echoClient=new Vi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Gi(this,this.logger,zs==null?void 0:zs.telemetryEnabled),this.setGlobalCore(this)}static async init(zs){const Ws=new Oe(zs);await Ws.initialize();const qs=await Ws.crypto.getClientId();return await Ws.storage.setItem(Ut,qs),Ws}get context(){return ee$2(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var zs;return(zs=this.logChunkController)==null?void 0:zs.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(zs){this.linkModeSupportedApps.includes(zs)||(this.linkModeSupportedApps.push(zs),await this.storage.setItem(Be,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Be)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(zs){throw this.logger.warn(zs,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(zs.message),zs}}getGlobalCore(zs=""){try{if(this.isGlobalCoreDisabled())return;const Ws=`_walletConnectCore_${zs}`,qs=`${Ws}_count`;return globalThis[qs]=(globalThis[qs]||0)+1,globalThis[qs]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[qs]} times.`),globalThis[Ws]}catch(Ws){console.warn("Failed to get global WalletConnect core",Ws);return}}setGlobalCore(zs){var Ws;try{if(this.isGlobalCoreDisabled())return;const qs=`_walletConnectCore_${((Ws=zs.opts)==null?void 0:Ws.customStoragePrefix)||""}`;globalThis[qs]=zs}catch(qs){console.warn("Failed to set global WalletConnect core",qs)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&define_process_env_default.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const ta=Oe,De="wc",Le=2,Me="client",Re=`${De}@${Le}:${Me}:`,Ie={name:Me,logger:"error"},$e="WALLETCONNECT_DEEPLINK_CHOICE",dt="proposal",Ke="Proposal expired",ut="session",se=cjs$3.SEVEN_DAYS,gt="engine",N={wc_sessionPropose:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$3.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$3.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1119}}},Te={min:cjs$3.FIVE_MINUTES,max:cjs$3.SEVEN_DAYS},K={idle:"IDLE",active:"ACTIVE"},yt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},mt="request",wt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_t="wc",vt="auth",St="authKeys",Et="pairingTopics",ft="requests",we=`${_t}@${1.5}:${vt}:`,_e=`${we}:PUB_KEY`;var As=Object.defineProperty,xs=Object.defineProperties,Cs=Object.getOwnPropertyDescriptors,Rt=Object.getOwnPropertySymbols,Vs=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable,Ue=(at,zs,Ws)=>zs in at?As(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,E=(at,zs)=>{for(var Ws in zs||(zs={}))Vs.call(zs,Ws)&&Ue(at,Ws,zs[Ws]);if(Rt)for(var Ws of Rt(zs))ks.call(zs,Ws)&&Ue(at,Ws,zs[Ws]);return at},b=(at,zs)=>xs(at,Cs(zs)),c=(at,zs,Ws)=>Ue(at,typeof zs!="symbol"?zs+"":zs,Ws);class Ds extends V$1{constructor(zs){super(zs),c(this,"name",gt),c(this,"events",new Pt$3),c(this,"initialized",!1),c(this,"requestQueue",{state:K.idle,queue:[]}),c(this,"sessionRequestQueue",{state:K.idle,queue:[]}),c(this,"emittedSessionRequests",new Hi$1({limit:500})),c(this,"requestQueueDelay",cjs$3.ONE_SECOND),c(this,"expectedPairingMethodMap",new Map),c(this,"recentlyDeletedMap",new Map),c(this,"recentlyDeletedLimit",200),c(this,"relayMessageCache",[]),c(this,"pendingSessions",new Map),c(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(N)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay)))}),c(this,"connect",async Ws=>{var qs;this.isInitialized(),await this.confirmOnlineStateOrThrow();const Ys=b(E({},Ws),{requiredNamespaces:Ws.requiredNamespaces||{},optionalNamespaces:Ws.optionalNamespaces||{}});await this.isValidConnect(Ys),Ys.optionalNamespaces=Ya(Ys.requiredNamespaces,Ys.optionalNamespaces),Ys.requiredNamespaces={};const{pairingTopic:Xs,requiredNamespaces:Zs,optionalNamespaces:yl,sessionProperties:Js,scopedProperties:$l,relays:El,authentication:wl,walletPay:_l}=Ys,Sl=((qs=wl==null?void 0:wl[0])==null?void 0:qs.ttl)||N.wc_sessionPropose.req.ttl||cjs$3.FIVE_MINUTES;this.validateRequestExpiry(Sl);let Tl=Xs,Il,Al=!1;try{if(Tl){const Wl=this.client.core.pairing.pairings.get(Tl);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),Al=Wl.active}}catch(Wl){throw this.client.logger.error(`connect() -> pairing.get(${Tl}) failed`),Wl}if(!Tl||!Al){const{topic:Wl,uri:Yl}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});Tl=Wl,Il=Yl}if(!Tl){const{message:Wl}=Bt$1("NO_MATCHING_KEY",`connect() pairing topic: ${Tl}`);throw new Error(Wl)}const xl=await this.client.core.crypto.generateKeyPair(),Pl=_i$1(Sl),Cl=E(b(E(E({requiredNamespaces:Zs,optionalNamespaces:yl,relays:El??[{protocol:Nt}],proposer:{publicKey:xl,metadata:this.client.metadata},expiryTimestamp:Pl,pairingTopic:Tl},Js&&{sessionProperties:Js}),$l&&{scopedProperties:$l}),{id:payloadId()}),(wl||_l)&&{requests:{authentication:wl==null?void 0:wl.map(Wl=>{const{domain:Yl,chains:Kl,nonce:Xl,uri:Ul,exp:Vl,nbf:Nl,type:Dl,statement:Gl,requestId:Fl,resources:Hl,signatureTypes:Zl}=Wl;return{domain:Yl,chains:Kl,nonce:Xl,type:Dl??"caip122",aud:Ul,version:"1",iat:new Date().toISOString(),exp:Vl,nbf:Nl,statement:Gl,requestId:Fl,resources:Hl,signatureTypes:Zl}}),walletPay:_l}}),Rl=$i$1("session_connect",Cl.id),{reject:Ol,resolve:Ml,done:Ll}=Ai$1(Sl,Ke),Bl=({id:Wl})=>{Wl===Cl.id&&(this.client.events.off("proposal_expire",Bl),this.pendingSessions.delete(Cl.id),this.events.emit(Rl,{error:{message:Ke,code:0}}))};return this.client.events.on("proposal_expire",Bl),this.events.once(Rl,({error:Wl,session:Yl})=>{this.client.events.off("proposal_expire",Bl),Wl?Ol(Wl):Yl&&Ml(Yl)}),await this.setProposal(Cl.id,Cl),await this.sendProposeSession({proposal:Cl,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:Cl.id}}}).catch(Wl=>{throw this.deleteProposal(Cl.id),Wl}),{uri:Il,approval:Ll}}),c(this,"pair",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(Ws)}catch(qs){throw this.client.logger.error("pair() failed"),qs}}),c(this,"approve",async Ws=>{var qs,Ys,Xs;const Zs=this.client.core.eventClient.createEvent({properties:{topic:(qs=Ws==null?void 0:Ws.id)==null?void 0:qs.toString(),trace:[rr.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(Yl){throw Zs.setError(nr.no_internet_connection),Yl}try{await this.isValidProposalId(Ws==null?void 0:Ws.id)}catch(Yl){throw this.client.logger.error(`approve() -> proposal.get(${Ws==null?void 0:Ws.id}) failed`),Zs.setError(nr.proposal_not_found),Yl}try{await this.isValidApprove(Ws)}catch(Yl){throw this.client.logger.error("approve() -> isValidApprove() failed"),Zs.setError(nr.session_approve_namespace_validation_failure),Yl}const{id:yl,relayProtocol:Js,namespaces:$l,sessionProperties:El,scopedProperties:wl,sessionConfig:_l,proposalRequestsResponses:Sl}=Ws,Tl=this.client.proposal.get(yl);this.client.core.eventClient.deleteEvent({eventId:Zs.eventId});const{pairingTopic:Il,proposer:Al,requiredNamespaces:xl,optionalNamespaces:Pl}=Tl;let Cl=(Ys=this.client.core.eventClient)==null?void 0:Ys.getEvent({topic:Il});Cl||(Cl=(Xs=this.client.core.eventClient)==null?void 0:Xs.createEvent({type:rr.session_approve_started,properties:{topic:Il,trace:[rr.session_approve_started,rr.session_namespaces_validation_success]}}));const Rl=await this.client.core.crypto.generateKeyPair(),Ol=Al.publicKey,Ml=await this.client.core.crypto.generateSharedKey(Rl,Ol),Ll=b(E(E(E({relay:{protocol:Js??"irn"},namespaces:$l,controller:{publicKey:Rl,metadata:this.client.metadata},expiry:_i$1(se)},El&&{sessionProperties:El}),wl&&{scopedProperties:wl}),_l&&{sessionConfig:_l}),{proposalRequestsResponses:Sl}),Bl=ee.relay;Cl.addTrace(rr.subscribing_session_topic);try{await this.client.core.relayer.subscribe(Ml,{transportType:Bl,internal:{skipSubscribe:!0}})}catch(Yl){throw Cl.setError(nr.subscribe_session_topic_failure),Yl}Cl.addTrace(rr.subscribe_session_topic_success);const Wl=b(E({},Ll),{topic:Ml,requiredNamespaces:xl,optionalNamespaces:Pl,pairingTopic:Il,acknowledged:!1,self:Ll.controller,peer:{publicKey:Al.publicKey,metadata:Al.metadata},controller:Rl,transportType:ee.relay,authentication:Sl==null?void 0:Sl.authentication,walletPayResult:Sl==null?void 0:Sl.walletPay});await this.client.session.set(Ml,Wl),Cl.addTrace(rr.store_session);try{await this.sendApproveSession({sessionTopic:Ml,proposal:Tl,pairingProposalResponse:{relay:{protocol:Js??"irn"},responderPublicKey:Rl},sessionSettleRequest:Ll,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:E({correlationId:yl},this.getTVFApproveParams(Wl))}}),Cl.addTrace(rr.session_approve_publish_success)}catch(Yl){throw this.client.logger.error(Yl),this.client.session.delete(Ml,zt$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(Ml),Yl}return this.client.core.eventClient.deleteEvent({eventId:Cl.eventId}),await this.client.core.pairing.updateMetadata({topic:Il,metadata:Al.metadata}),await this.deleteProposal(yl),await this.client.core.pairing.activate({topic:Il}),await this.setExpiry(Ml,_i$1(se)),{topic:Ml,acknowledged:()=>Promise.resolve(this.client.session.get(Ml))}}),c(this,"reject",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(Ws)}catch(Zs){throw this.client.logger.error("reject() -> isValidReject() failed"),Zs}const{id:qs,reason:Ys}=Ws;let Xs;try{Xs=this.client.proposal.get(qs).pairingTopic}catch(Zs){throw this.client.logger.error(`reject() -> proposal.get(${qs}) failed`),Zs}Xs&&await this.sendError({id:qs,topic:Xs,error:Ys,rpcOpts:N.wc_sessionPropose.reject}),await this.deleteProposal(qs)}),c(this,"update",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(Ws)}catch(wl){throw this.client.logger.error("update() -> isValidUpdate() failed"),wl}const{topic:qs,namespaces:Ys}=Ws,{done:Xs,resolve:Zs,reject:yl}=Ai$1(cjs$3.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),Js=payloadId(),$l=getBigIntRpcId().toString(),El=this.client.session.get(qs).namespaces;return this.events.once($i$1("session_update",Js),({error:wl})=>{wl?yl(wl):Zs()}),await this.client.session.update(qs,{namespaces:Ys}),await this.sendRequest({topic:qs,method:"wc_sessionUpdate",params:{namespaces:Ys},throwOnFailedPublish:!0,clientRpcId:Js,relayRpcId:$l}).catch(wl=>{this.client.logger.error(wl),this.client.session.update(qs,{namespaces:El}),yl(wl)}),{acknowledged:Xs}}),c(this,"extend",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(Ws)}catch(Js){throw this.client.logger.error("extend() -> isValidExtend() failed"),Js}const{topic:qs}=Ws,Ys=payloadId(),{done:Xs,resolve:Zs,reject:yl}=Ai$1(cjs$3.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once($i$1("session_extend",Ys),({error:Js})=>{Js?yl(Js):Zs()}),await this.setExpiry(qs,_i$1(se)),this.sendRequest({topic:qs,method:"wc_sessionExtend",params:{},clientRpcId:Ys,throwOnFailedPublish:!0}).catch(Js=>{yl(Js)}),{acknowledged:Xs}}),c(this,"request",async Ws=>{this.isInitialized();try{await this.isValidRequest(Ws)}catch(Al){throw this.client.logger.error("request() -> isValidRequest() failed"),Al}const{chainId:qs,request:Ys,topic:Xs,expiry:Zs=N.wc_sessionRequest.req.ttl}=Ws,yl=this.client.session.get(Xs);(yl==null?void 0:yl.transportType)===ee.relay&&await this.confirmOnlineStateOrThrow();const Js=payloadId(),$l=getBigIntRpcId().toString(),{done:El,resolve:wl,reject:_l}=Ai$1(Zs,"Request expired. Please try again.");this.events.once($i$1("session_request",Js),({error:Al,result:xl})=>{Al?_l(Al):wl(xl)});const Sl="wc_sessionRequest",Tl=this.getAppLinkIfEnabled(yl.peer.metadata,yl.transportType);if(Tl)return await this.sendRequest({clientRpcId:Js,relayRpcId:$l,topic:Xs,method:Sl,params:{request:b(E({},Ys),{expiryTimestamp:_i$1(Zs)}),chainId:qs},expiry:Zs,throwOnFailedPublish:!0,appLink:Tl}).catch(Al=>_l(Al)),this.client.events.emit("session_request_sent",{topic:Xs,request:Ys,chainId:qs,id:Js}),await El();const Il={request:b(E({},Ys),{expiryTimestamp:_i$1(Zs)}),chainId:qs};return await Promise.all([new Promise(async Al=>{await this.sendRequest({clientRpcId:Js,relayRpcId:$l,topic:Xs,method:Sl,params:Il,expiry:Zs,throwOnFailedPublish:!0,tvf:this.getTVFParams(Js,Il)}).catch(xl=>_l(xl)),this.client.events.emit("session_request_sent",{topic:Xs,request:Ys,chainId:qs,id:Js}),Al()}),new Promise(async Al=>{var xl;if(!((xl=yl.sessionConfig)!=null&&xl.disableDeepLink)){const Pl=await Ci$1(this.client.core.storage,$e);await Ti$1({id:Js,topic:Xs,wcDeepLink:Pl})}Al()}),El()]).then(Al=>Al[2])}),c(this,"respond",async Ws=>{var qs,Ys;this.isInitialized();const Xs=this.client.core.eventClient.createEvent({properties:{topic:(Ws==null?void 0:Ws.topic)||((Ys=(qs=Ws==null?void 0:Ws.response)==null?void 0:qs.id)==null?void 0:Ys.toString()),trace:[rr.session_request_response_started]}});try{await this.isValidRespond(Ws)}catch(wl){throw Xs.addTrace(wl==null?void 0:wl.message),Xs.setError(nr.session_request_response_validation_failure),wl}Xs.addTrace(rr.session_request_response_validation_success);const{topic:Zs,response:yl}=Ws,{id:Js}=yl,$l=this.client.session.get(Zs);$l.transportType===ee.relay&&await this.confirmOnlineStateOrThrow();const El=this.getAppLinkIfEnabled($l.peer.metadata,$l.transportType);try{Xs.addTrace(rr.session_request_response_publish_started),isJsonRpcResult(yl)?await this.sendResult({id:Js,topic:Zs,result:yl.result,throwOnFailedPublish:!0,appLink:El}):isJsonRpcError(yl)&&await this.sendError({id:Js,topic:Zs,error:yl.error,appLink:El}),this.cleanupAfterResponse(Ws)}catch(wl){throw Xs.addTrace(wl==null?void 0:wl.message),Xs.setError(nr.session_request_response_publish_failure),wl}}),c(this,"ping",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(Ws)}catch(Ys){throw this.client.logger.error("ping() -> isValidPing() failed"),Ys}const{topic:qs}=Ws;if(this.client.session.keys.includes(qs)){const Ys=payloadId(),Xs=getBigIntRpcId().toString(),{done:Zs,resolve:yl,reject:Js}=Ai$1(cjs$3.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once($i$1("session_ping",Ys),({error:$l})=>{$l?Js($l):yl()}),await Promise.all([this.sendRequest({topic:qs,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:Ys,relayRpcId:Xs}),Zs()])}else this.client.core.pairing.pairings.keys.includes(qs)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:qs}))}),c(this,"emit",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(Ws);const{topic:qs,event:Ys,chainId:Xs}=Ws,Zs=getBigIntRpcId().toString(),yl=payloadId();await this.sendRequest({topic:qs,method:"wc_sessionEvent",params:{event:Ys,chainId:Xs},throwOnFailedPublish:!0,relayRpcId:Zs,clientRpcId:yl})}),c(this,"disconnect",async Ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(Ws);const{topic:qs}=Ws;if(this.client.session.keys.includes(qs))await this.sendRequest({topic:qs,method:"wc_sessionDelete",params:zt$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:qs,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(qs))await this.client.core.pairing.disconnect({topic:qs});else{const{message:Ys}=Bt$1("MISMATCHED_TOPIC",`Session or pairing topic not found: ${qs}`);throw new Error(Ys)}}),c(this,"find",Ws=>(this.isInitialized(),this.client.session.getAll().filter(qs=>Wa(qs,Ws)))),c(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),c(this,"authenticate",async(Ws,qs)=>{var Ys;this.isInitialized(),this.isValidAuthenticate(Ws);const Xs=qs&&this.client.core.linkModeSupportedApps.includes(qs)&&((Ys=this.client.metadata.redirect)==null?void 0:Ys.linkMode),Zs=Xs?ee.link_mode:ee.relay;Zs===ee.relay&&await this.confirmOnlineStateOrThrow();const{chains:yl,statement:Js="",uri:$l,domain:El,nonce:wl,type:_l,exp:Sl,nbf:Tl,methods:Il=[],expiry:Al}=Ws,xl=[...Ws.resources||[]],{topic:Pl,uri:Cl}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:Zs});this.client.logger.info({message:"Generated new pairing",pairing:{topic:Pl,uri:Cl}});const Rl=await this.client.core.crypto.generateKeyPair(),Ol=ba(Rl);if(await Promise.all([this.client.auth.authKeys.set(_e,{responseTopic:Ol,publicKey:Rl}),this.client.auth.pairingTopics.set(Ol,{topic:Ol,pairingTopic:Pl})]),await this.client.core.relayer.subscribe(Ol,{transportType:Zs}),this.client.logger.info(`sending request to new pairing topic: ${Pl}`),Il.length>0){const{namespace:Hl}=Je$1(yl[0]);let Zl=Zc(Hl,"request",Il);je(xl)&&(Zl=Gc(Zl,xl.pop())),xl.push(Zl)}const Ml=Al&&Al>N.wc_sessionAuthenticate.req.ttl?Al:N.wc_sessionAuthenticate.req.ttl,Ll={authPayload:{type:_l??"caip122",chains:yl,statement:Js,aud:$l,domain:El,version:"1",nonce:wl,iat:new Date().toISOString(),exp:Sl,nbf:Tl,resources:xl},requester:{publicKey:Rl,metadata:this.client.metadata},expiryTimestamp:_i$1(Ml)},Bl={eip155:{chains:yl,methods:[...new Set(["personal_sign",...Il])],events:["chainChanged","accountsChanged"]}},Wl={requiredNamespaces:{},optionalNamespaces:Bl,relays:[{protocol:"irn"}],pairingTopic:Pl,proposer:{publicKey:Rl,metadata:this.client.metadata},expiryTimestamp:_i$1(N.wc_sessionPropose.req.ttl),id:payloadId()},{done:Yl,resolve:Kl,reject:Xl}=Ai$1(Ml,"Request expired"),Ul=payloadId(),Vl=$i$1("session_connect",Wl.id),Nl=$i$1("session_request",Ul),Dl=async({error:Hl,session:Zl})=>{this.events.off(Nl,Gl),Hl?Xl(Hl):Zl&&Kl({session:Zl})},Gl=async Hl=>{var Zl,Su,$u;if(await this.deletePendingAuthRequest(Ul,{message:"fulfilled",code:0}),Hl.error){const Ku=zt$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Hl.error.code===Ku.code?void 0:(this.events.off(Vl,Dl),Xl(Hl.error.message))}await this.deleteProposal(Wl.id),this.events.off(Vl,Dl);const{cacaos:Pu,responder:ku}=Hl.result,Tu=[],Ru=[];for(const Ku of Pu){await Vc({cacao:Ku,projectId:this.client.core.projectId})||(this.client.logger.error(Ku,"Signature verification failed"),Xl(zt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Fu}=Ku,ju=je(Fu.resources),qu=[no$1(Fu.iss)],Zu=bn$1(Fu.iss);if(ju){const _d=zc(ju),vp=Yc(ju);Tu.push(..._d),qu.push(...vp)}for(const _d of qu)Ru.push(`${_d}:${Zu}`)}const Mu=await this.client.core.crypto.generateSharedKey(Rl,ku.publicKey);let Hu;Tu.length>0&&(Hu={topic:Mu,acknowledged:!0,self:{publicKey:Rl,metadata:this.client.metadata},peer:ku,controller:ku.publicKey,expiry:_i$1(se),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Pl,namespaces:za([...new Set(Tu)],[...new Set(Ru)]),transportType:Zs},await this.client.core.relayer.subscribe(Mu,{transportType:Zs}),await this.client.session.set(Mu,Hu),Pl&&await this.client.core.pairing.updateMetadata({topic:Pl,metadata:ku.metadata}),Hu=this.client.session.get(Mu)),(Zl=this.client.metadata.redirect)!=null&&Zl.linkMode&&(Su=ku.metadata.redirect)!=null&&Su.linkMode&&($u=ku.metadata.redirect)!=null&&$u.universal&&qs&&(this.client.core.addLinkModeSupportedApp(ku.metadata.redirect.universal),this.client.session.update(Mu,{transportType:ee.link_mode})),Kl({auths:Pu,session:Hu})};this.events.once(Vl,Dl),this.events.once(Nl,Gl);let Fl;try{if(Xs){const Hl=formatJsonRpcRequest("wc_sessionAuthenticate",Ll,Ul);this.client.core.history.set(Pl,Hl);const Zl=await this.client.core.crypto.encode("",Hl,{type:ve$1,encoding:Ge$2});Fl=La(qs,Pl,Zl)}else await Promise.all([this.sendRequest({topic:Pl,method:"wc_sessionAuthenticate",params:Ll,expiry:Ws.expiry,throwOnFailedPublish:!0,clientRpcId:Ul}),this.sendRequest({topic:Pl,method:"wc_sessionPropose",params:Wl,expiry:N.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:Wl.id})])}catch(Hl){throw this.events.off(Vl,Dl),this.events.off(Nl,Gl),Hl}return await this.setProposal(Wl.id,Wl),await this.setAuthRequest(Ul,{request:b(E({},Ll),{verifyContext:{}}),pairingTopic:Pl,transportType:Zs}),{uri:Fl??Cl,response:Yl}}),c(this,"approveSessionAuthenticate",async Ws=>{const{id:qs,auths:Ys}=Ws,Xs=this.client.core.eventClient.createEvent({properties:{topic:qs.toString(),trace:[or.authenticated_session_approve_started]}});try{this.isInitialized()}catch(Al){throw Xs.setError(ar.no_internet_connection),Al}const Zs=this.getPendingAuthRequest(qs);if(!Zs)throw Xs.setError(ar.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${qs}`);const yl=Zs.transportType||ee.relay;yl===ee.relay&&await this.confirmOnlineStateOrThrow();const Js=Zs.requester.publicKey,$l=await this.client.core.crypto.generateKeyPair(),El=ba(Js),wl={type:ie,receiverPublicKey:Js,senderPublicKey:$l},_l=[],Sl=[];for(const Al of Ys){if(!await Vc({cacao:Al,projectId:this.client.core.projectId})){Xs.setError(ar.invalid_cacao);const Ol=zt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:qs,topic:El,error:Ol,encodeOpts:wl}),new Error(Ol.message)}Xs.addTrace(or.cacaos_verified);const{p:xl}=Al,Pl=je(xl.resources),Cl=[no$1(xl.iss)],Rl=bn$1(xl.iss);if(Pl){const Ol=zc(Pl),Ml=Yc(Pl);_l.push(...Ol),Cl.push(...Ml)}for(const Ol of Cl)Sl.push(`${Ol}:${Rl}`)}const Tl=await this.client.core.crypto.generateSharedKey($l,Js);Xs.addTrace(or.create_authenticated_session_topic);let Il;if((_l==null?void 0:_l.length)>0){Il={topic:Tl,acknowledged:!0,self:{publicKey:$l,metadata:this.client.metadata},peer:{publicKey:Js,metadata:Zs.requester.metadata},controller:Js,expiry:_i$1(se),authentication:Ys,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Zs.pairingTopic,namespaces:za([...new Set(_l)],[...new Set(Sl)]),transportType:yl},Xs.addTrace(or.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(Tl,{transportType:yl})}catch(Al){throw Xs.setError(ar.subscribe_authenticated_session_topic_failure),Al}Xs.addTrace(or.subscribe_authenticated_session_topic_success),await this.client.session.set(Tl,Il),Xs.addTrace(or.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:Zs.pairingTopic,metadata:Zs.requester.metadata})}Xs.addTrace(or.publishing_authenticated_session_approve);try{await this.sendResult({topic:El,id:qs,result:{cacaos:Ys,responder:{publicKey:$l,metadata:this.client.metadata}},encodeOpts:wl,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(Zs.requester.metadata,yl)})}catch(Al){throw Xs.setError(ar.authenticated_session_approve_publish_failure),Al}return await this.client.auth.requests.delete(qs,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:Zs.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:Xs.eventId}),{session:Il}}),c(this,"rejectSessionAuthenticate",async Ws=>{this.isInitialized();const{id:qs,reason:Ys}=Ws,Xs=this.getPendingAuthRequest(qs);if(!Xs)throw new Error(`Could not find pending auth request with id ${qs}`);Xs.transportType===ee.relay&&await this.confirmOnlineStateOrThrow();const Zs=Xs.requester.publicKey,yl=await this.client.core.crypto.generateKeyPair(),Js=ba(Zs),$l={type:ie,receiverPublicKey:Zs,senderPublicKey:yl};await this.sendError({id:qs,topic:Js,error:Ys,encodeOpts:$l,rpcOpts:N.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(Xs.requester.metadata,Xs.transportType)}),await this.client.auth.requests.delete(qs,{message:"rejected",code:0}),await this.deleteProposal(qs)}),c(this,"formatAuthMessage",Ws=>{this.isInitialized();const{request:qs,iss:Ys}=Ws;return ro$1(qs,Ys)}),c(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const Ws=this.relayMessageCache.shift();Ws&&await this.onRelayMessage(Ws)}catch(Ws){this.client.logger.error(Ws)}},50)}),c(this,"cleanupDuplicatePairings",async Ws=>{if(Ws.pairingTopic)try{const qs=this.client.core.pairing.pairings.get(Ws.pairingTopic),Ys=this.client.core.pairing.pairings.getAll().filter(Xs=>{var Zs,yl;return((Zs=Xs.peerMetadata)==null?void 0:Zs.url)&&((yl=Xs.peerMetadata)==null?void 0:yl.url)===Ws.peer.metadata.url&&Xs.topic&&Xs.topic!==qs.topic});if(Ys.length===0)return;this.client.logger.info(`Cleaning up ${Ys.length} duplicate pairing(s)`),await Promise.all(Ys.map(Xs=>this.client.core.pairing.disconnect({topic:Xs.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(qs){this.client.logger.error(qs)}}),c(this,"deleteSession",async Ws=>{var qs;const{topic:Ys,expirerHasDeleted:Xs=!1,emitEvent:Zs=!0,id:yl=0}=Ws,{self:Js}=this.client.session.get(Ys);await this.client.core.relayer.unsubscribe(Ys),await this.client.session.delete(Ys,zt$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(Ys,"session"),this.client.core.crypto.keychain.has(Js.publicKey)&&await this.client.core.crypto.deleteKeyPair(Js.publicKey),this.client.core.crypto.keychain.has(Ys)&&await this.client.core.crypto.deleteSymKey(Ys),Xs||this.client.core.expirer.del(Ys),this.client.core.storage.removeItem($e).catch($l=>this.client.logger.warn($l)),Ys===((qs=this.sessionRequestQueue.queue[0])==null?void 0:qs.topic)&&(this.sessionRequestQueue.state=K.idle),await Promise.all(this.getPendingSessionRequests().filter($l=>$l.topic===Ys).map($l=>this.deletePendingSessionRequest($l.id,zt$1("USER_DISCONNECTED")))),Zs&&this.client.events.emit("session_delete",{id:yl,topic:Ys})}),c(this,"deleteProposal",async(Ws,qs)=>{if(qs)try{const Ys=this.client.proposal.get(Ws),Xs=this.client.core.eventClient.getEvent({topic:Ys.pairingTopic});Xs==null||Xs.setError(nr.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(Ws,zt$1("USER_DISCONNECTED")),qs?Promise.resolve():this.client.core.expirer.del(Ws)]),this.addToRecentlyDeleted(Ws,"proposal")}),c(this,"deletePendingSessionRequest",async(Ws,qs,Ys=!1)=>{await Promise.all([this.client.pendingRequest.delete(Ws,qs),Ys?Promise.resolve():this.client.core.expirer.del(Ws)]),this.addToRecentlyDeleted(Ws,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(Xs=>Xs.id!==Ws),Ys&&(this.sessionRequestQueue.state=K.idle,this.client.events.emit("session_request_expire",{id:Ws}))}),c(this,"deletePendingAuthRequest",async(Ws,qs,Ys=!1)=>{await Promise.all([this.client.auth.requests.delete(Ws,qs),Ys?Promise.resolve():this.client.core.expirer.del(Ws)])}),c(this,"setExpiry",async(Ws,qs)=>{this.client.session.keys.includes(Ws)&&(this.client.core.expirer.set(Ws,qs),await this.client.session.update(Ws,{expiry:qs}))}),c(this,"setProposal",async(Ws,qs)=>{this.client.core.expirer.set(Ws,_i$1(N.wc_sessionPropose.req.ttl)),await this.client.proposal.set(Ws,qs)}),c(this,"setAuthRequest",async(Ws,qs)=>{const{request:Ys,pairingTopic:Xs,transportType:Zs=ee.relay}=qs;this.client.core.expirer.set(Ws,Ys.expiryTimestamp),await this.client.auth.requests.set(Ws,{authPayload:Ys.authPayload,requester:Ys.requester,expiryTimestamp:Ys.expiryTimestamp,id:Ws,pairingTopic:Xs,verifyContext:Ys.verifyContext,transportType:Zs})}),c(this,"setPendingSessionRequest",async Ws=>{const{id:qs,topic:Ys,params:Xs,verifyContext:Zs}=Ws,yl=Xs.request.expiryTimestamp||_i$1(N.wc_sessionRequest.req.ttl);this.client.core.expirer.set(qs,yl),await this.client.pendingRequest.set(qs,{id:qs,topic:Ys,params:Xs,verifyContext:Zs})}),c(this,"sendRequest",async Ws=>{const{topic:qs,method:Ys,params:Xs,expiry:Zs,relayRpcId:yl,clientRpcId:Js,throwOnFailedPublish:$l,appLink:El,tvf:wl,publishOpts:_l={}}=Ws,Sl=formatJsonRpcRequest(Ys,Xs,Js);let Tl;const Il=!!El;try{const Pl=Il?Ge$2:oe$1;Tl=await this.client.core.crypto.encode(qs,Sl,{encoding:Pl})}catch(Pl){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${qs} failed`),Pl}let Al;if(wt.includes(Ys)){const Pl=ya(JSON.stringify(Sl)),Cl=ya(Tl);Al=await this.client.core.verify.register({id:Cl,decryptedId:Pl})}const xl=E(E({},N[Ys].req),_l);if(xl.attestation=Al,Zs&&(xl.ttl=Zs),yl&&(xl.id=yl),this.client.core.history.set(qs,Sl),Il){const Pl=La(El,qs,Tl);await global.Linking.openURL(Pl,this.client.name)}else xl.tvf=b(E({},wl),{correlationId:Sl.id}),$l?(xl.internal=b(E({},xl.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(qs,Tl,xl)):this.client.core.relayer.publish(qs,Tl,xl).catch(Pl=>this.client.logger.error(Pl));return Sl.id}),c(this,"sendProposeSession",async Ws=>{const{proposal:qs,publishOpts:Ys}=Ws,Xs=formatJsonRpcRequest("wc_sessionPropose",qs,qs.id);this.client.core.history.set(qs.pairingTopic,Xs);const Zs=await this.client.core.crypto.encode(qs.pairingTopic,Xs,{encoding:oe$1}),yl=ya(JSON.stringify(Xs)),Js=ya(Zs),$l=await this.client.core.verify.register({id:Js,decryptedId:yl});await this.client.core.relayer.publishCustom({payload:{pairingTopic:qs.pairingTopic,sessionProposal:Zs},opts:b(E({},Ys),{publishMethod:"wc_proposeSession",attestation:$l})})}),c(this,"sendApproveSession",async Ws=>{const{sessionTopic:qs,pairingProposalResponse:Ys,proposal:Xs,sessionSettleRequest:Zs,publishOpts:yl}=Ws,Js=formatJsonRpcResult(Xs.id,Ys),$l=await this.client.core.crypto.encode(Xs.pairingTopic,Js,{encoding:oe$1}),El=formatJsonRpcRequest("wc_sessionSettle",Zs,yl==null?void 0:yl.id),wl=await this.client.core.crypto.encode(qs,El,{encoding:oe$1});this.client.core.history.set(qs,El),await this.client.core.relayer.publishCustom({payload:{sessionTopic:qs,pairingTopic:Xs.pairingTopic,sessionProposalResponse:$l,sessionSettlementRequest:wl},opts:b(E({},yl),{publishMethod:"wc_approveSession"})})}),c(this,"sendResult",async Ws=>{const{id:qs,topic:Ys,result:Xs,throwOnFailedPublish:Zs,encodeOpts:yl,appLink:Js}=Ws,$l=formatJsonRpcResult(qs,Xs);let El;const wl=Js&&typeof(global==null?void 0:global.Linking)<"u";try{const Tl=wl?Ge$2:oe$1;El=await this.client.core.crypto.encode(Ys,$l,b(E({},yl||{}),{encoding:Tl}))}catch(Tl){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${Ys} failed`),Tl}let _l,Sl;try{_l=await this.client.core.history.get(Ys,qs);const Tl=_l.request;try{Sl=this.getTVFParams(qs,Tl.params,Xs)}catch(Il){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${Il==null?void 0:Il.message}`)}}catch(Tl){throw this.client.logger.error(`sendResult() -> history.get(${Ys}, ${qs}) failed`),Tl}if(wl){const Tl=La(Js,Ys,El);await global.Linking.openURL(Tl,this.client.name)}else{const Tl=_l.request.method,Il=N[Tl].res;Il.tvf=b(E({},Sl),{correlationId:qs}),Zs?(Il.internal=b(E({},Il.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(Ys,El,Il)):this.client.core.relayer.publish(Ys,El,Il).catch(Al=>this.client.logger.error(Al))}await this.client.core.history.resolve($l)}),c(this,"sendError",async Ws=>{const{id:qs,topic:Ys,error:Xs,encodeOpts:Zs,rpcOpts:yl,appLink:Js}=Ws,$l=formatJsonRpcError(qs,Xs);let El;const wl=Js&&typeof(global==null?void 0:global.Linking)<"u";try{const Sl=wl?Ge$2:oe$1;El=await this.client.core.crypto.encode(Ys,$l,b(E({},Zs||{}),{encoding:Sl}))}catch(Sl){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${Ys} failed`),Sl}let _l;try{_l=await this.client.core.history.get(Ys,qs)}catch(Sl){throw this.client.logger.error(`sendError() -> history.get(${Ys}, ${qs}) failed`),Sl}if(wl){const Sl=La(Js,Ys,El);await global.Linking.openURL(Sl,this.client.name)}else{const Sl=_l.request.method,Tl=yl||N[Sl].res;this.client.core.relayer.publish(Ys,El,Tl)}await this.client.core.history.resolve($l)}),c(this,"cleanup",async()=>{const Ws=[],qs=[];this.client.session.getAll().forEach(Ys=>{let Xs=!1;Ri$1(Ys.expiry)&&(Xs=!0),this.client.core.crypto.keychain.has(Ys.topic)||(Xs=!0),Xs&&Ws.push(Ys.topic)}),this.client.proposal.getAll().forEach(Ys=>{Ri$1(Ys.expiryTimestamp)&&qs.push(Ys.id)}),await Promise.all([...Ws.map(Ys=>this.deleteSession({topic:Ys})),...qs.map(Ys=>this.deleteProposal(Ys))])}),c(this,"onProviderMessageEvent",async Ws=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(Ws):await this.onRelayMessage(Ws)}),c(this,"onRelayEventRequest",async Ws=>{this.requestQueue.queue.push(Ws),await this.processRequestsQueue()}),c(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===K.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=K.active;const Ws=this.requestQueue.queue.shift();if(Ws)try{await this.processRequest(Ws)}catch(qs){this.client.logger.warn(qs)}}this.requestQueue.state=K.idle}),c(this,"processRequest",async Ws=>{const{topic:qs,payload:Ys,attestation:Xs,transportType:Zs,encryptedId:yl}=Ws,Js=Ys.method;if(!this.shouldIgnorePairingRequest({topic:qs,requestMethod:Js}))switch(Js){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:qs,payload:Ys,attestation:Xs,encryptedId:yl});case"wc_sessionSettle":return await this.onSessionSettleRequest(qs,Ys);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(qs,Ys);case"wc_sessionExtend":return await this.onSessionExtendRequest(qs,Ys);case"wc_sessionPing":return await this.onSessionPingRequest(qs,Ys);case"wc_sessionDelete":return await this.onSessionDeleteRequest(qs,Ys);case"wc_sessionRequest":return await this.onSessionRequest({topic:qs,payload:Ys,attestation:Xs,encryptedId:yl,transportType:Zs});case"wc_sessionEvent":return await this.onSessionEventRequest(qs,Ys);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:qs,payload:Ys,attestation:Xs,encryptedId:yl,transportType:Zs});default:return this.client.logger.info(`Unsupported request method ${Js}`)}}),c(this,"onRelayEventResponse",async Ws=>{const{topic:qs,payload:Ys,transportType:Xs}=Ws,Zs=(await this.client.core.history.get(qs,Ys.id)).request.method;switch(Zs){case"wc_sessionPropose":return this.onSessionProposeResponse(qs,Ys,Xs);case"wc_sessionSettle":return this.onSessionSettleResponse(qs,Ys);case"wc_sessionUpdate":return this.onSessionUpdateResponse(qs,Ys);case"wc_sessionExtend":return this.onSessionExtendResponse(qs,Ys);case"wc_sessionPing":return this.onSessionPingResponse(qs,Ys);case"wc_sessionRequest":return this.onSessionRequestResponse(qs,Ys);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(qs,Ys);default:return this.client.logger.info(`Unsupported response method ${Zs}`)}}),c(this,"onRelayEventUnknownPayload",Ws=>{const{topic:qs}=Ws,{message:Ys}=Bt$1("MISSING_OR_INVALID",`Decoded payload on topic ${qs} is not identifiable as a JSON-RPC request or a response.`);throw new Error(Ys)}),c(this,"shouldIgnorePairingRequest",Ws=>{const{topic:qs,requestMethod:Ys}=Ws,Xs=this.expectedPairingMethodMap.get(qs);return!Xs||Xs.includes(Ys)?!1:!!(Xs.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),c(this,"onSessionProposeRequest",async Ws=>{const{topic:qs,payload:Ys,attestation:Xs,encryptedId:Zs}=Ws,{params:yl,id:Js}=Ys;try{const $l=this.client.core.eventClient.getEvent({topic:qs});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),$l==null||$l.setError(X.proposal_listener_not_found)),this.isValidConnect(E({},Ys.params));const El=yl.expiryTimestamp||_i$1(N.wc_sessionPropose.req.ttl),wl=E({id:Js,pairingTopic:qs,expiryTimestamp:El,attestation:Xs,encryptedId:Zs},yl);await this.setProposal(Js,wl);const _l=await this.getVerifyContext({attestationId:Xs,hash:ya(JSON.stringify(Ys)),encryptedId:Zs,metadata:wl.proposer.metadata});$l==null||$l.addTrace(Y.emit_session_proposal),this.client.events.emit("session_proposal",{id:Js,params:wl,verifyContext:_l})}catch($l){await this.sendError({id:Js,topic:qs,error:$l,rpcOpts:N.wc_sessionPropose.autoReject}),this.client.logger.error($l)}}),c(this,"onSessionProposeResponse",async(Ws,qs,Ys)=>{const{id:Xs}=qs;if(isJsonRpcResult(qs)){const{result:Zs}=qs;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:Zs});const yl=this.client.proposal.get(Xs);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:yl});const Js=yl.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Js});const $l=Zs.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:$l});const El=await this.client.core.crypto.generateSharedKey(Js,$l);this.pendingSessions.set(Xs,{sessionTopic:El,pairingTopic:Ws,proposalId:Xs,publicKey:Js});const wl=await this.client.core.relayer.subscribe(El,{transportType:Ys});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:wl}),await this.client.core.pairing.activate({topic:Ws})}else if(isJsonRpcError(qs)){await this.deleteProposal(Xs);const Zs=$i$1("session_connect",Xs);if(this.events.listenerCount(Zs)===0)throw new Error(`emitting ${Zs} without any listeners, 954`);this.events.emit(Zs,{error:qs.error})}}),c(this,"onSessionSettleRequest",async(Ws,qs)=>{const{id:Ys,params:Xs}=qs;try{this.isValidSessionSettleRequest(Xs);const{relay:Zs,controller:yl,expiry:Js,namespaces:$l,sessionProperties:El,scopedProperties:wl,sessionConfig:_l,proposalRequestsResponses:Sl}=qs.params,Tl=[...this.pendingSessions.values()].find(xl=>xl.sessionTopic===Ws);if(!Tl)return this.client.logger.error(`Pending session not found for topic ${Ws}`);const Il=this.client.proposal.get(Tl.proposalId),Al=b(E(E(E({topic:Ws,relay:Zs,expiry:Js,namespaces:$l,acknowledged:!0,pairingTopic:Tl.pairingTopic,requiredNamespaces:Il.requiredNamespaces,optionalNamespaces:Il.optionalNamespaces,controller:yl.publicKey,self:{publicKey:Tl.publicKey,metadata:this.client.metadata},peer:{publicKey:yl.publicKey,metadata:yl.metadata}},El&&{sessionProperties:El}),wl&&{scopedProperties:wl}),_l&&{sessionConfig:_l}),{transportType:ee.relay,authentication:Sl==null?void 0:Sl.authentication,walletPayResult:Sl==null?void 0:Sl.walletPay});await this.client.session.set(Al.topic,Al),await this.setExpiry(Al.topic,Al.expiry),await this.client.core.pairing.updateMetadata({topic:Tl.pairingTopic,metadata:Al.peer.metadata}),this.pendingSessions.delete(Tl.proposalId),this.deleteProposal(Tl.proposalId,!1),this.cleanupDuplicatePairings(Al),await this.sendResult({id:qs.id,topic:Ws,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:Al}),this.events.emit($i$1("session_connect",Tl.proposalId),{session:Al})}catch(Zs){await this.sendError({id:Ys,topic:Ws,error:Zs}),this.client.logger.error(Zs)}}),c(this,"onSessionSettleResponse",async(Ws,qs)=>{const{id:Ys}=qs;isJsonRpcResult(qs)?(await this.client.session.update(Ws,{acknowledged:!0}),this.events.emit($i$1("session_approve",Ys),{})):isJsonRpcError(qs)&&(await this.client.session.delete(Ws,zt$1("USER_DISCONNECTED")),this.events.emit($i$1("session_approve",Ys),{error:qs.error}))}),c(this,"onSessionUpdateRequest",async(Ws,qs)=>{const{params:Ys,id:Xs}=qs;try{const Zs=`${Ws}_session_update`,yl=mu.get(Zs);if(yl&&this.isRequestOutOfSync(yl,Xs)){this.client.logger.warn(`Discarding out of sync request - ${Xs}`),this.sendError({id:Xs,topic:Ws,error:zt$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(E({topic:Ws},Ys));try{mu.set(Zs,Xs),await this.client.session.update(Ws,{namespaces:Ys.namespaces}),await this.sendResult({id:Xs,topic:Ws,result:!0})}catch(Js){throw mu.delete(Zs),Js}this.client.events.emit("session_update",{id:Xs,topic:Ws,params:Ys})}catch(Zs){await this.sendError({id:Xs,topic:Ws,error:Zs}),this.client.logger.error(Zs)}}),c(this,"isRequestOutOfSync",(Ws,qs)=>qs.toString().slice(0,-3)<Ws.toString().slice(0,-3)),c(this,"onSessionUpdateResponse",(Ws,qs)=>{const{id:Ys}=qs,Xs=$i$1("session_update",Ys);if(this.events.listenerCount(Xs)===0)throw new Error(`emitting ${Xs} without any listeners`);isJsonRpcResult(qs)?this.events.emit($i$1("session_update",Ys),{}):isJsonRpcError(qs)&&this.events.emit($i$1("session_update",Ys),{error:qs.error})}),c(this,"onSessionExtendRequest",async(Ws,qs)=>{const{id:Ys}=qs;try{this.isValidExtend({topic:Ws}),await this.setExpiry(Ws,_i$1(se)),await this.sendResult({id:Ys,topic:Ws,result:!0}),this.client.events.emit("session_extend",{id:Ys,topic:Ws})}catch(Xs){await this.sendError({id:Ys,topic:Ws,error:Xs}),this.client.logger.error(Xs)}}),c(this,"onSessionExtendResponse",(Ws,qs)=>{const{id:Ys}=qs,Xs=$i$1("session_extend",Ys);if(this.events.listenerCount(Xs)===0)throw new Error(`emitting ${Xs} without any listeners`);isJsonRpcResult(qs)?this.events.emit($i$1("session_extend",Ys),{}):isJsonRpcError(qs)&&this.events.emit($i$1("session_extend",Ys),{error:qs.error})}),c(this,"onSessionPingRequest",async(Ws,qs)=>{const{id:Ys}=qs;try{this.isValidPing({topic:Ws}),await this.sendResult({id:Ys,topic:Ws,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:Ys,topic:Ws})}catch(Xs){await this.sendError({id:Ys,topic:Ws,error:Xs}),this.client.logger.error(Xs)}}),c(this,"onSessionPingResponse",(Ws,qs)=>{const{id:Ys}=qs,Xs=$i$1("session_ping",Ys);setTimeout(()=>{if(this.events.listenerCount(Xs)===0)throw new Error(`emitting ${Xs} without any listeners 2176`);isJsonRpcResult(qs)?this.events.emit($i$1("session_ping",Ys),{}):isJsonRpcError(qs)&&this.events.emit($i$1("session_ping",Ys),{error:qs.error})},500)}),c(this,"onSessionDeleteRequest",async(Ws,qs)=>{const{id:Ys}=qs;try{await this.isValidDisconnect({topic:Ws,reason:qs.params}),this.cleanupPendingSentRequestsForTopic({topic:Ws,error:zt$1("USER_DISCONNECTED")}),await this.deleteSession({topic:Ws,id:Ys})}catch(Xs){this.client.logger.error(Xs)}}),c(this,"onSessionRequest",async Ws=>{var qs,Ys,Xs;const{topic:Zs,payload:yl,attestation:Js,encryptedId:$l,transportType:El}=Ws,{id:wl,params:_l}=yl;try{await this.isValidRequest(E({topic:Zs},_l));const Sl=this.client.session.get(Zs),Tl=await this.getVerifyContext({attestationId:Js,hash:ya(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",_l,wl))),encryptedId:$l,metadata:Sl.peer.metadata,transportType:El}),Il={id:wl,topic:Zs,params:_l,verifyContext:Tl};await this.setPendingSessionRequest(Il),El===ee.link_mode&&(qs=Sl.peer.metadata.redirect)!=null&&qs.universal&&this.client.core.addLinkModeSupportedApp((Ys=Sl.peer.metadata.redirect)==null?void 0:Ys.universal),(Xs=this.client.signConfig)!=null&&Xs.disableRequestQueue?this.emitSessionRequest(Il):(this.addSessionRequestToSessionRequestQueue(Il),this.processSessionRequestQueue())}catch(Sl){await this.sendError({id:wl,topic:Zs,error:Sl}),this.client.logger.error(Sl)}}),c(this,"onSessionRequestResponse",(Ws,qs)=>{const{id:Ys}=qs,Xs=$i$1("session_request",Ys);if(this.events.listenerCount(Xs)===0)throw new Error(`emitting ${Xs} without any listeners`);isJsonRpcResult(qs)?this.events.emit($i$1("session_request",Ys),{result:qs.result}):isJsonRpcError(qs)&&this.events.emit($i$1("session_request",Ys),{error:qs.error})}),c(this,"onSessionEventRequest",async(Ws,qs)=>{const{id:Ys,params:Xs}=qs;try{const Zs=`${Ws}_session_event_${Xs.event.name}`,yl=mu.get(Zs);if(yl&&this.isRequestOutOfSync(yl,Ys)){this.client.logger.info(`Discarding out of sync request - ${Ys}`);return}this.isValidEmit(E({topic:Ws},Xs)),this.client.events.emit("session_event",{id:Ys,topic:Ws,params:Xs}),mu.set(Zs,Ys)}catch(Zs){await this.sendError({id:Ys,topic:Ws,error:Zs}),this.client.logger.error(Zs)}}),c(this,"onSessionAuthenticateResponse",(Ws,qs)=>{const{id:Ys}=qs;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:Ws,payload:qs}),isJsonRpcResult(qs)?this.events.emit($i$1("session_request",Ys),{result:qs.result}):isJsonRpcError(qs)&&this.events.emit($i$1("session_request",Ys),{error:qs.error})}),c(this,"onSessionAuthenticateRequest",async Ws=>{var qs;const{topic:Ys,payload:Xs,attestation:Zs,encryptedId:yl,transportType:Js}=Ws;try{const{requester:$l,authPayload:El,expiryTimestamp:wl}=Xs.params,_l=await this.getVerifyContext({attestationId:Zs,hash:ya(JSON.stringify(Xs)),encryptedId:yl,metadata:$l.metadata,transportType:Js}),Sl={requester:$l,pairingTopic:Ys,id:Xs.id,authPayload:El,verifyContext:_l,expiryTimestamp:wl};await this.setAuthRequest(Xs.id,{request:Sl,pairingTopic:Ys,transportType:Js}),Js===ee.link_mode&&(qs=$l.metadata.redirect)!=null&&qs.universal&&this.client.core.addLinkModeSupportedApp($l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:Ys,params:Xs.params,id:Xs.id,verifyContext:_l})}catch($l){this.client.logger.error($l);const El=Xs.params.requester.publicKey,wl=await this.client.core.crypto.generateKeyPair(),_l=this.getAppLinkIfEnabled(Xs.params.requester.metadata,Js),Sl={type:ie,receiverPublicKey:El,senderPublicKey:wl};await this.sendError({id:Xs.id,topic:Ys,error:$l,encodeOpts:Sl,rpcOpts:N.wc_sessionAuthenticate.autoReject,appLink:_l})}}),c(this,"addSessionRequestToSessionRequestQueue",Ws=>{this.sessionRequestQueue.queue.push(Ws)}),c(this,"cleanupAfterResponse",Ws=>{this.deletePendingSessionRequest(Ws.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=K.idle,this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay))}),c(this,"cleanupPendingSentRequestsForTopic",({topic:Ws,error:qs})=>{const Ys=this.client.core.history.pending;Ys.length>0&&Ys.filter(Xs=>Xs.topic===Ws&&Xs.request.method==="wc_sessionRequest").forEach(Xs=>{this.events.emit($i$1("session_request",Xs.request.id),{error:qs})})}),c(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===K.active){this.client.logger.info("session request queue is already active.");return}const Ws=this.sessionRequestQueue.queue[0];if(!Ws){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(Ws)}catch(qs){this.client.logger.error(qs)}}),c(this,"emitSessionRequest",Ws=>{if(this.emittedSessionRequests.has(Ws.id)){this.client.logger.warn({id:Ws.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${Ws.id}`);return}this.sessionRequestQueue.state=K.active,this.emittedSessionRequests.add(Ws.id),this.client.events.emit("session_request",Ws)}),c(this,"onPairingCreated",Ws=>{if(Ws.methods&&this.expectedPairingMethodMap.set(Ws.topic,Ws.methods),Ws.active)return;const qs=this.client.proposal.getAll().find(Ys=>Ys.pairingTopic===Ws.topic);qs&&this.onSessionProposeRequest({topic:Ws.topic,payload:formatJsonRpcRequest("wc_sessionPropose",b(E({},qs),{requiredNamespaces:qs.requiredNamespaces,optionalNamespaces:qs.optionalNamespaces,relays:qs.relays,proposer:qs.proposer,sessionProperties:qs.sessionProperties,scopedProperties:qs.scopedProperties}),qs.id),attestation:qs.attestation,encryptedId:qs.encryptedId})}),c(this,"isValidConnect",async Ws=>{if(!ou(Ws)){const{message:$l}=Bt$1("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(Ws)}`);throw new Error($l)}const{pairingTopic:qs,requiredNamespaces:Ys,optionalNamespaces:Xs,sessionProperties:Zs,scopedProperties:yl,relays:Js}=Ws;if(Dt(qs)||await this.isValidPairingTopic(qs),!nu(Js)){const{message:$l}=Bt$1("MISSING_OR_INVALID",`connect() relays: ${Js}`);throw new Error($l)}if(Ys&&!Dt(Ys)&&Ye$1(Ys)!==0){const $l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn($l):this.client.logger.warn($l),this.validateNamespaces(Ys,"requiredNamespaces")}if(Xs&&!Dt(Xs)&&Ye$1(Xs)!==0&&this.validateNamespaces(Xs,"optionalNamespaces"),Zs&&!Dt(Zs)&&this.validateSessionProps(Zs,"sessionProperties"),yl&&!Dt(yl)){this.validateSessionProps(yl,"scopedProperties");const $l=Object.keys(Ys||{}).concat(Object.keys(Xs||{}));if(!Object.keys(yl).every(El=>$l.includes(El.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(yl)}, required/optional namespaces: ${JSON.stringify($l)}`)}}),c(this,"validateNamespaces",(Ws,qs)=>{const Ys=eu(Ws,"connect()",qs);if(Ys)throw new Error(Ys.message)}),c(this,"isValidApprove",async Ws=>{if(!ou(Ws))throw new Error(Bt$1("MISSING_OR_INVALID",`approve() params: ${Ws}`).message);const{id:qs,namespaces:Ys,relayProtocol:Xs,sessionProperties:Zs,scopedProperties:yl}=Ws;this.checkRecentlyDeleted(qs),await this.isValidProposalId(qs);const Js=this.client.proposal.get(qs),$l=Ns(Ys,"approve()");if($l)throw new Error($l.message);const El=_s(Js.requiredNamespaces,Ys,"approve()");if(El)throw new Error(El.message);if(!ft$1(Xs,!0)){const{message:wl}=Bt$1("MISSING_OR_INVALID",`approve() relayProtocol: ${Xs}`);throw new Error(wl)}if(Zs&&!Dt(Zs)&&this.validateSessionProps(Zs,"sessionProperties"),yl&&!Dt(yl)){this.validateSessionProps(yl,"scopedProperties");const wl=new Set(Object.keys(Ys));if(!Object.keys(yl).every(_l=>wl.has(_l.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(yl)}, approved namespaces: ${Array.from(wl).join(", ")}`)}}),c(this,"isValidReject",async Ws=>{if(!ou(Ws)){const{message:Xs}=Bt$1("MISSING_OR_INVALID",`reject() params: ${Ws}`);throw new Error(Xs)}const{id:qs,reason:Ys}=Ws;if(this.checkRecentlyDeleted(qs),await this.isValidProposalId(qs),!su(Ys)){const{message:Xs}=Bt$1("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(Ys)}`);throw new Error(Xs)}}),c(this,"isValidSessionSettleRequest",Ws=>{if(!ou(Ws)){const{message:$l}=Bt$1("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${Ws}`);throw new Error($l)}const{relay:qs,controller:Ys,namespaces:Xs,expiry:Zs}=Ws;if(!Us$1(qs)){const{message:$l}=Bt$1("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error($l)}const yl=tu(Ys,"onSessionSettleRequest()");if(yl)throw new Error(yl.message);const Js=Ns(Xs,"onSessionSettleRequest()");if(Js)throw new Error(Js.message);if(Ri$1(Zs)){const{message:$l}=Bt$1("EXPIRED","onSessionSettleRequest()");throw new Error($l)}}),c(this,"isValidUpdate",async Ws=>{if(!ou(Ws)){const{message:Js}=Bt$1("MISSING_OR_INVALID",`update() params: ${Ws}`);throw new Error(Js)}const{topic:qs,namespaces:Ys}=Ws;this.checkRecentlyDeleted(qs),await this.isValidSessionTopic(qs);const Xs=this.client.session.get(qs),Zs=Ns(Ys,"update()");if(Zs)throw new Error(Zs.message);const yl=_s(Xs.requiredNamespaces,Ys,"update()");if(yl)throw new Error(yl.message)}),c(this,"isValidExtend",async Ws=>{if(!ou(Ws)){const{message:Ys}=Bt$1("MISSING_OR_INVALID",`extend() params: ${Ws}`);throw new Error(Ys)}const{topic:qs}=Ws;this.checkRecentlyDeleted(qs),await this.isValidSessionTopic(qs)}),c(this,"isValidRequest",async Ws=>{if(!ou(Ws)){const{message:Js}=Bt$1("MISSING_OR_INVALID",`request() params: ${Ws}`);throw new Error(Js)}const{topic:qs,request:Ys,chainId:Xs,expiry:Zs}=Ws;this.checkRecentlyDeleted(qs),await this.isValidSessionTopic(qs);const{namespaces:yl}=this.client.session.get(qs);if(!au(yl,Xs)){const{message:Js}=Bt$1("MISSING_OR_INVALID",`request() chainId: ${Xs}`);throw new Error(Js)}if(!iu(Ys)){const{message:Js}=Bt$1("MISSING_OR_INVALID",`request() ${JSON.stringify(Ys)}`);throw new Error(Js)}if(!uu(yl,Xs,Ys.method)){const{message:Js}=Bt$1("MISSING_OR_INVALID",`request() method: ${Ys.method}`);throw new Error(Js)}this.validateRequestExpiry(Zs)}),c(this,"isValidRespond",async Ws=>{var qs;if(!ou(Ws)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`respond() params: ${Ws}`);throw new Error(yl)}const{topic:Ys,response:Xs}=Ws;try{await this.isValidSessionTopic(Ys)}catch(yl){throw(qs=Ws==null?void 0:Ws.response)!=null&&qs.id&&this.cleanupAfterResponse(Ws),yl}if(!cu(Xs)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(Xs)}`);throw new Error(yl)}const Zs=this.client.pendingRequest.get(Xs.id);if(Zs.topic!==Ys){const{message:yl}=Bt$1("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${Xs.id}, expected topic: ${Zs.topic}, received topic: ${Ys}`);throw new Error(yl)}}),c(this,"isValidPing",async Ws=>{if(!ou(Ws)){const{message:Ys}=Bt$1("MISSING_OR_INVALID",`ping() params: ${Ws}`);throw new Error(Ys)}const{topic:qs}=Ws;await this.isValidSessionOrPairingTopic(qs)}),c(this,"isValidEmit",async Ws=>{if(!ou(Ws)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`emit() params: ${Ws}`);throw new Error(yl)}const{topic:qs,event:Ys,chainId:Xs}=Ws;await this.isValidSessionTopic(qs);const{namespaces:Zs}=this.client.session.get(qs);if(!au(Zs,Xs)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`emit() chainId: ${Xs}`);throw new Error(yl)}if(!fu(Ys)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(Ys)}`);throw new Error(yl)}if(!lu(Zs,Xs,Ys.name)){const{message:yl}=Bt$1("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(Ys)}`);throw new Error(yl)}}),c(this,"isValidDisconnect",async Ws=>{if(!ou(Ws)){const{message:Ys}=Bt$1("MISSING_OR_INVALID",`disconnect() params: ${Ws}`);throw new Error(Ys)}const{topic:qs}=Ws;await this.isValidSessionOrPairingTopic(qs)}),c(this,"isValidAuthenticate",Ws=>{const{chains:qs,uri:Ys,domain:Xs,nonce:Zs}=Ws;if(!Array.isArray(qs)||qs.length===0)throw new Error("chains is required and must be a non-empty array");if(!ft$1(Ys,!1))throw new Error("uri is required parameter");if(!ft$1(Xs,!1))throw new Error("domain is required parameter");if(!ft$1(Zs,!1))throw new Error("nonce is required parameter");if([...new Set(qs.map(Js=>Je$1(Js).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:yl}=Je$1(qs[0]);if(yl!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),c(this,"getVerifyContext",async Ws=>{const{attestationId:qs,hash:Ys,encryptedId:Xs,metadata:Zs,transportType:yl}=Ws,Js={verified:{verifyUrl:Zs.verifyUrl||be,validation:"UNKNOWN",origin:Zs.url||""}};try{if(yl===ee.link_mode){const El=this.getAppLinkIfEnabled(Zs,yl);return Js.verified.validation=El&&new URL(El).origin===new URL(Zs.url).origin?"VALID":"INVALID",Js}const $l=await this.client.core.verify.resolve({attestationId:qs,hash:Ys,encryptedId:Xs,verifyUrl:Zs.verifyUrl});$l&&(Js.verified.origin=$l.origin,Js.verified.isScam=$l.isScam,Js.verified.validation=$l.origin===new URL(Zs.url).origin?"VALID":"INVALID")}catch($l){this.client.logger.warn($l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(Js)}`),Js}),c(this,"validateSessionProps",(Ws,qs)=>{Object.values(Ws).forEach((Ys,Xs)=>{if(Ys==null){const{message:Zs}=Bt$1("MISSING_OR_INVALID",`${qs} must contain an existing value for each key. Received: ${Ys} for key ${Object.keys(Ws)[Xs]}`);throw new Error(Zs)}})}),c(this,"getPendingAuthRequest",Ws=>{const qs=this.client.auth.requests.get(Ws);return typeof qs=="object"?qs:void 0}),c(this,"addToRecentlyDeleted",(Ws,qs)=>{if(this.recentlyDeletedMap.set(Ws,qs),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let Ys=0;const Xs=this.recentlyDeletedLimit/2;for(const Zs of this.recentlyDeletedMap.keys()){if(Ys++>=Xs)break;this.recentlyDeletedMap.delete(Zs)}}}),c(this,"checkRecentlyDeleted",Ws=>{const qs=this.recentlyDeletedMap.get(Ws);if(qs){const{message:Ys}=Bt$1("MISSING_OR_INVALID",`Record was recently deleted - ${qs}: ${Ws}`);throw new Error(Ys)}}),c(this,"isLinkModeEnabled",(Ws,qs)=>{var Ys,Xs,Zs,yl,Js,$l,El,wl,_l;return!Ws||qs!==ee.link_mode?!1:((Xs=(Ys=this.client.metadata)==null?void 0:Ys.redirect)==null?void 0:Xs.linkMode)===!0&&((yl=(Zs=this.client.metadata)==null?void 0:Zs.redirect)==null?void 0:yl.universal)!==void 0&&(($l=(Js=this.client.metadata)==null?void 0:Js.redirect)==null?void 0:$l.universal)!==""&&((El=Ws==null?void 0:Ws.redirect)==null?void 0:El.universal)!==void 0&&((wl=Ws==null?void 0:Ws.redirect)==null?void 0:wl.universal)!==""&&((_l=Ws==null?void 0:Ws.redirect)==null?void 0:_l.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(Ws.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),c(this,"getAppLinkIfEnabled",(Ws,qs)=>{var Ys;return this.isLinkModeEnabled(Ws,qs)?(Ys=Ws==null?void 0:Ws.redirect)==null?void 0:Ys.universal:void 0}),c(this,"handleLinkModeMessage",({url:Ws})=>{if(!Ws||!Ws.includes("wc_ev")||!Ws.includes("topic"))return;const qs=ji$1(Ws,"topic")||"",Ys=decodeURIComponent(ji$1(Ws,"wc_ev")||""),Xs=this.client.session.keys.includes(qs);Xs&&this.client.session.update(qs,{transportType:ee.link_mode}),this.client.core.dispatchEnvelope({topic:qs,message:Ys,sessionExists:Xs})}),c(this,"registerLinkModeListeners",async()=>{var Ws;if(ki$1()||It$2()&&(Ws=this.client.metadata.redirect)!=null&&Ws.linkMode){const qs=global==null?void 0:global.Linking;if(typeof qs<"u"){qs.addEventListener("url",this.handleLinkModeMessage,this.client.name);const Ys=await qs.getInitialURL();Ys&&setTimeout(()=>{this.handleLinkModeMessage({url:Ys})},50)}}}),c(this,"getTVFApproveParams",Ws=>{try{const qs=gs(Ws.namespaces),Ys=qa(Ws.namespaces),Xs=Fa(Ws.namespaces),Zs=Ws.sessionProperties,yl=Ws.scopedProperties;return{approvedChains:qs,approvedMethods:Ys,approvedEvents:Xs,sessionProperties:Zs,scopedProperties:yl}}catch(qs){return this.client.logger.warn(qs,"Error getting TVF approve params"),{}}}),c(this,"getTVFParams",(Ws,qs,Ys)=>{var Xs,Zs,yl;if(!((Xs=qs.request)!=null&&Xs.method))return{};const Js={correlationId:Ws,rpcMethods:[qs.request.method],chainId:qs.chainId};try{const $l=this.extractTxHashesFromResult(qs.request,Ys);Js.txHashes=$l,Js.contractAddresses=this.isValidContractData(qs.request.params)?[(yl=(Zs=qs.request.params)==null?void 0:Zs[0])==null?void 0:yl.to]:[]}catch($l){this.client.logger.warn($l,"Error getting TVF params")}return Js}),c(this,"isValidContractData",Ws=>{var qs;if(!Ws)return!1;try{const Ys=(Ws==null?void 0:Ws.data)||((qs=Ws==null?void 0:Ws[0])==null?void 0:qs.data);if(!Ys.startsWith("0x"))return!1;const Xs=Ys.slice(2);return/^[0-9a-fA-F]*$/.test(Xs)?Xs.length%2===0:!1}catch{}return!1}),c(this,"extractTxHashesFromResult",(Ws,qs)=>{var Ys;try{if(!qs)return[];const Xs=Ws.method,Zs=yt[Xs];if(Xs==="sui_signTransaction")return[Uc(qs.transactionBytes)];if(Xs==="near_signTransaction")return[_c(qs)];if(Xs==="near_signTransactions")return qs.map(Js=>_c(Js));if(Xs==="xrpl_signTransactionFor"||Xs==="xrpl_signTransaction")return[(Ys=qs.tx_json)==null?void 0:Ys.hash];if(Xs==="polkadot_signTransaction")return[Bu({transaction:Ws.params.transactionPayload,signature:qs.signature})];if(Xs==="algo_signTxn")return Be$1(qs)?qs.map(Js=>Rc(Js)):[Rc(qs)];if(Xs==="cosmos_signDirect")return[$c(qs)];if(Xs==="wallet_sendCalls")return Tc(qs);if(typeof qs=="string")return[qs];const yl=qs[Zs.key];if(Be$1(yl))return Xs==="solana_signAllTransactions"?yl.map(Js=>Nc(Js)):yl;if(typeof yl=="string")return[yl]}catch(Xs){this.client.logger.warn(Xs,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const zs=this.client.session.keys,Ws=this.client.core.relayer.messages.getWithoutAck(zs);for(const[qs,Ys]of Object.entries(Ws))for(const Xs of Ys)try{await this.onProviderMessageEvent({topic:qs,message:Xs,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${qs}, message: ${Xs}`)}}catch(zs){this.client.logger.warn(zs,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:zs}=Bt$1("NOT_INITIALIZED",this.name);throw new Error(zs)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(C.message,zs=>{this.onProviderMessageEvent(zs)})}async onRelayMessage(zs){const{topic:Ws,message:qs,attestation:Ys,transportType:Xs}=zs,{publicKey:Zs}=this.client.auth.authKeys.keys.includes(_e)?this.client.auth.authKeys.get(_e):{publicKey:void 0};try{const yl=await this.client.core.crypto.decode(Ws,qs,{receiverPublicKey:Zs,encoding:Xs===ee.link_mode?Ge$2:oe$1});isJsonRpcRequest(yl)?(this.client.core.history.set(Ws,yl),await this.onRelayEventRequest({topic:Ws,payload:yl,attestation:Ys,transportType:Xs,encryptedId:ya(qs)})):isJsonRpcResponse(yl)?(await this.client.core.history.resolve(yl),await this.onRelayEventResponse({topic:Ws,payload:yl,transportType:Xs}),this.client.core.history.delete(Ws,yl.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(yl)}`),await this.onRelayEventUnknownPayload({topic:Ws,payload:yl,transportType:Xs})),await this.client.core.relayer.messages.ack(Ws,qs)}catch(yl){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${qs}`),this.client.logger.error(yl)}}registerExpirerEvents(){this.client.core.expirer.on(q.expired,async zs=>{const{topic:Ws,id:qs}=Ui$1(zs.target);if(qs&&this.client.pendingRequest.keys.includes(qs))return await this.deletePendingSessionRequest(qs,Bt$1("EXPIRED"),!0);if(qs&&this.client.auth.requests.keys.includes(qs))return await this.deletePendingAuthRequest(qs,Bt$1("EXPIRED"),!0);Ws?this.client.session.keys.includes(Ws)&&(await this.deleteSession({topic:Ws,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:Ws})):qs&&(await this.deleteProposal(qs,!0),this.client.events.emit("proposal_expire",{id:qs}))})}registerPairingEvents(){this.client.core.pairing.events.on(ae.create,zs=>this.onPairingCreated(zs)),this.client.core.pairing.events.on(ae.delete,zs=>{this.addToRecentlyDeleted(zs.topic,"pairing")})}isValidPairingTopic(zs){if(!ft$1(zs,!1)){const{message:Ws}=Bt$1("MISSING_OR_INVALID",`pairing topic should be a string: ${zs}`);throw new Error(Ws)}if(!this.client.core.pairing.pairings.keys.includes(zs)){const{message:Ws}=Bt$1("NO_MATCHING_KEY",`pairing topic doesn't exist: ${zs}`);throw new Error(Ws)}if(Ri$1(this.client.core.pairing.pairings.get(zs).expiry)){const{message:Ws}=Bt$1("EXPIRED",`pairing topic: ${zs}`);throw new Error(Ws)}}async isValidSessionTopic(zs){if(!ft$1(zs,!1)){const{message:Ws}=Bt$1("MISSING_OR_INVALID",`session topic should be a string: ${zs}`);throw new Error(Ws)}if(this.checkRecentlyDeleted(zs),!this.client.session.keys.includes(zs)){const{message:Ws}=Bt$1("NO_MATCHING_KEY",`session topic doesn't exist: ${zs}`);throw new Error(Ws)}if(Ri$1(this.client.session.get(zs).expiry)){await this.deleteSession({topic:zs});const{message:Ws}=Bt$1("EXPIRED",`session topic: ${zs}`);throw new Error(Ws)}if(!this.client.core.crypto.keychain.has(zs)){const{message:Ws}=Bt$1("MISSING_OR_INVALID",`session topic does not exist in keychain: ${zs}`);throw await this.deleteSession({topic:zs}),new Error(Ws)}}async isValidSessionOrPairingTopic(zs){if(this.checkRecentlyDeleted(zs),this.client.session.keys.includes(zs))await this.isValidSessionTopic(zs);else if(this.client.core.pairing.pairings.keys.includes(zs))this.isValidPairingTopic(zs);else if(ft$1(zs,!1)){const{message:Ws}=Bt$1("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${zs}`);throw new Error(Ws)}else{const{message:Ws}=Bt$1("MISSING_OR_INVALID",`session or pairing topic should be a string: ${zs}`);throw new Error(Ws)}}async isValidProposalId(zs){if(!ru(zs)){const{message:Ws}=Bt$1("MISSING_OR_INVALID",`proposal id should be a number: ${zs}`);throw new Error(Ws)}if(!this.client.proposal.keys.includes(zs)){const{message:Ws}=Bt$1("NO_MATCHING_KEY",`proposal id doesn't exist: ${zs}`);throw new Error(Ws)}if(Ri$1(this.client.proposal.get(zs).expiryTimestamp)){await this.deleteProposal(zs);const{message:Ws}=Bt$1("EXPIRED",`proposal id: ${zs}`);throw new Error(Ws)}}validateRequestExpiry(zs){if(zs&&!pu(zs,Te)){const{message:Ws}=Bt$1("MISSING_OR_INVALID",`request() expiry: ${zs}. Expiry must be a number (in seconds) between ${Te.min} and ${Te.max}`);throw new Error(Ws)}}}class Ls extends ji{constructor(zs,Ws){super(zs,Ws,dt,Re),this.core=zs,this.logger=Ws}}class It extends ji{constructor(zs,Ws){super(zs,Ws,ut,Re),this.core=zs,this.logger=Ws}}class Ms extends ji{constructor(zs,Ws){super(zs,Ws,mt,Re,qs=>qs.id),this.core=zs,this.logger=Ws}}class $s extends ji{constructor(zs,Ws){super(zs,Ws,St,we,()=>_e),this.core=zs,this.logger=Ws}}class Ks extends ji{constructor(zs,Ws){super(zs,Ws,Et,we),this.core=zs,this.logger=Ws}}class Us extends ji{constructor(zs,Ws){super(zs,Ws,ft,we,qs=>qs.id),this.core=zs,this.logger=Ws}}var Gs=Object.defineProperty,js=(at,zs,Ws)=>zs in at?Gs(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,Ge=(at,zs,Ws)=>js(at,typeof zs!="symbol"?zs+"":zs,Ws);class Fs{constructor(zs,Ws){this.core=zs,this.logger=Ws,Ge(this,"authKeys"),Ge(this,"pairingTopics"),Ge(this,"requests"),this.authKeys=new $s(this.core,this.logger),this.pairingTopics=new Ks(this.core,this.logger),this.requests=new Us(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Hs=Object.defineProperty,Qs=(at,zs,Ws)=>zs in at?Hs(at,zs,{enumerable:!0,configurable:!0,writable:!0,value:Ws}):at[zs]=Ws,_=(at,zs,Ws)=>Qs(at,typeof zs!="symbol"?zs+"":zs,Ws);class qe extends J$3{constructor(zs){super(zs),_(this,"protocol",De),_(this,"version",Le),_(this,"name",Ie.name),_(this,"metadata"),_(this,"core"),_(this,"logger"),_(this,"events",new eventsExports.EventEmitter),_(this,"engine"),_(this,"session"),_(this,"proposal"),_(this,"pendingRequest"),_(this,"auth"),_(this,"signConfig"),_(this,"on",(qs,Ys)=>this.events.on(qs,Ys)),_(this,"once",(qs,Ys)=>this.events.once(qs,Ys)),_(this,"off",(qs,Ys)=>this.events.off(qs,Ys)),_(this,"removeListener",(qs,Ys)=>this.events.removeListener(qs,Ys)),_(this,"removeAllListeners",qs=>this.events.removeAllListeners(qs)),_(this,"connect",async qs=>{try{return await this.engine.connect(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"pair",async qs=>{try{return await this.engine.pair(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"approve",async qs=>{try{return await this.engine.approve(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"reject",async qs=>{try{return await this.engine.reject(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"update",async qs=>{try{return await this.engine.update(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"extend",async qs=>{try{return await this.engine.extend(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"request",async qs=>{try{return await this.engine.request(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"respond",async qs=>{try{return await this.engine.respond(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"ping",async qs=>{try{return await this.engine.ping(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"emit",async qs=>{try{return await this.engine.emit(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"disconnect",async qs=>{try{return await this.engine.disconnect(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"find",qs=>{try{return this.engine.find(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(qs){throw this.logger.error(qs.message),qs}}),_(this,"authenticate",async(qs,Ys)=>{try{return await this.engine.authenticate(qs,Ys)}catch(Xs){throw this.logger.error(Xs.message),Xs}}),_(this,"formatAuthMessage",qs=>{try{return this.engine.formatAuthMessage(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"approveSessionAuthenticate",async qs=>{try{return await this.engine.approveSessionAuthenticate(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),_(this,"rejectSessionAuthenticate",async qs=>{try{return await this.engine.rejectSessionAuthenticate(qs)}catch(Ys){throw this.logger.error(Ys.message),Ys}}),this.name=(zs==null?void 0:zs.name)||Ie.name,this.metadata=pi$1(zs==null?void 0:zs.metadata),this.signConfig=zs==null?void 0:zs.signConfig;const Ws=Iu({logger:(zs==null?void 0:zs.logger)||Ie.logger,name:this.name});this.logger=Ws,this.core=(zs==null?void 0:zs.core)||new ta(zs),this.session=new It(this.core,this.logger),this.proposal=new Ls(this.core,this.logger),this.pendingRequest=new Ms(this.core,this.logger),this.engine=new Ds(this),this.auth=new Fs(this.core,this.logger)}static async init(zs){const Ws=new qe(zs);return await Ws.initialize(),Ws}get context(){return ee$2(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(zs){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(zs.message),zs}}}class WalletConnectClient{constructor(){this.pendingApproval=null,this.sessionUpdateHandlers=[],this.sessionEventHandlers=[],this.sessionDeleteHandlers=[],this.pairingExpireHandlers=[]}onSessionUpdate(zs){return this.sessionUpdateHandlers.push(zs),()=>{this.sessionUpdateHandlers=this.sessionUpdateHandlers.filter(Ws=>Ws!==zs)}}onSessionEvent(zs){return this.sessionEventHandlers.push(zs),()=>{this.sessionEventHandlers=this.sessionEventHandlers.filter(Ws=>Ws!==zs)}}onSessionDelete(zs){this.sessionDeleteHandlers.push(zs)}onPairingExpire(zs){this.pairingExpireHandlers.push(zs)}async init(zs){this.client=await qe.init({projectId:zs.projectId,metadata:zs.appMetadata,...zs.relayUrl?{relayUrl:zs.relayUrl}:{}}),this.client.on("session_delete",()=>{this.sessionDeleteHandlers.forEach(Ws=>Ws())}),this.client.on("session_update",()=>{this.sessionUpdateHandlers.forEach(Ws=>Ws())}),this.client.on("session_event",Ws=>{this.sessionEventHandlers.forEach(qs=>qs(Ws))}),this.client.core.pairing.events.on("pairing_expire",()=>{this.pairingExpireHandlers.forEach(Ws=>Ws())})}async pair(zs){if(this.pendingApproval)throw new Error("WalletConnect: Pairing already in progress");const{uri:Ws,approval:qs}=await this.client.connect({optionalNamespaces:zs});if(!Ws)throw new Error("WalletConnect: no URI returned");return this.pendingApproval=qs,Ws}async approve(){var zs,Ws;if(!this.pendingApproval)throw new Error("WalletConnect: call pair() before approve()");try{return await this.pendingApproval()}catch(qs){throw(zs=qs.message)!=null&&zs.includes("Proposal expired")?new Error("WalletConnect: The connection request has expired. Please scan the QR code again."):(Ws=qs.message)!=null&&Ws.includes("User rejected")?new Error("WalletConnect: The connection request was rejected by the user."):new Error(`WalletConnect: Approval failed: ${qs.message}`)}finally{this.pendingApproval=null}}getSession(){var Ws;if(!((Ws=this.client)!=null&&Ws.session))return null;const zs=this.client.session.getAll();return zs.length?zs[zs.length-1]:null}async request(zs,Ws,qs){const Ys=this.getSession();if(!Ys)throw new Error("WalletConnect: no active session");return this.client.request({topic:Ys.topic,chainId:zs,request:{method:Ws,params:qs}})}async disconnect(){const zs=this.getSession();zs&&await this.client.disconnect({topic:zs.topic,reason:{code:6e3,message:"User disconnected"}})}async cancelPairing(){try{const Ws=this.client.core.pairing.getPairings().map(async qs=>{var Ys,Xs,Zs;try{await this.client.core.pairing.disconnect({topic:qs.topic})}catch(yl){if((Ys=yl.message)!=null&&Ys.includes("Expired")||(Xs=yl.message)!=null&&Xs.includes("Not found")||(Zs=yl.message)!=null&&Zs.includes("No matching key"))return;console.warn("failed to disconnect pairing:",yl)}});await Promise.allSettled(Ws)}finally{this.pendingApproval=null}}}function isHex(at,{strict:zs=!0}={}){return!at||typeof at!="string"?!1:zs?/^0x[0-9a-fA-F]*$/.test(at):at.startsWith("0x")}function size(at){return isHex(at,{strict:!1})?Math.ceil((at.length-2)/2):at.length}const version="2.44.2";let errorConfig={getDocsUrl:({docsBaseUrl:at,docsPath:zs="",docsSlug:Ws})=>zs?`${at??"https://viem.sh"}${zs}${Ws?`#${Ws}`:""}`:void 0,version:`viem@${version}`};class BaseError extends Error{constructor(zs,Ws={}){var yl;const qs=(()=>{var Js;return Ws.cause instanceof BaseError?Ws.cause.details:(Js=Ws.cause)!=null&&Js.message?Ws.cause.message:Ws.details})(),Ys=Ws.cause instanceof BaseError&&Ws.cause.docsPath||Ws.docsPath,Xs=(yl=errorConfig.getDocsUrl)==null?void 0:yl.call(errorConfig,{...Ws,docsPath:Ys}),Zs=[zs||"An error occurred.","",...Ws.metaMessages?[...Ws.metaMessages,""]:[],...Xs?[`Docs: ${Xs}`]:[],...qs?[`Details: ${qs}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join(`
`);super(Zs,Ws.cause?{cause:Ws.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=qs,this.docsPath=Ys,this.metaMessages=Ws.metaMessages,this.name=Ws.name??this.name,this.shortMessage=zs,this.version=version}walk(zs){return walk(this,zs)}}function walk(at,zs){return zs!=null&&zs(at)?at:at&&typeof at=="object"&&"cause"in at&&at.cause!==void 0?walk(at.cause,zs):zs?null:at}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:zs,targetSize:Ws,type:qs}){super(`${qs.charAt(0).toUpperCase()}${qs.slice(1).toLowerCase()} size (${zs}) exceeds padding size (${Ws}).`,{name:"SizeExceedsPaddingSizeError"})}}function pad(at,{dir:zs,size:Ws=32}={}){return typeof at=="string"?padHex(at,{dir:zs,size:Ws}):padBytes(at,{dir:zs,size:Ws})}function padHex(at,{dir:zs,size:Ws=32}={}){if(Ws===null)return at;const qs=at.replace("0x","");if(qs.length>Ws*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(qs.length/2),targetSize:Ws,type:"hex"});return`0x${qs[zs==="right"?"padEnd":"padStart"](Ws*2,"0")}`}function padBytes(at,{dir:zs,size:Ws=32}={}){if(Ws===null)return at;if(at.length>Ws)throw new SizeExceedsPaddingSizeError({size:at.length,targetSize:Ws,type:"bytes"});const qs=new Uint8Array(Ws);for(let Ys=0;Ys<Ws;Ys++){const Xs=zs==="right";qs[Xs?Ys:Ws-Ys-1]=at[Xs?Ys:at.length-Ys-1]}return qs}class IntegerOutOfRangeError extends BaseError{constructor({max:zs,min:Ws,signed:qs,size:Ys,value:Xs}){super(`Number "${Xs}" is not in safe ${Ys?`${Ys*8}-bit ${qs?"signed":"unsigned"} `:""}integer range ${zs?`(${Ws} to ${zs})`:`(above ${Ws})`}`,{name:"IntegerOutOfRangeError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:zs,maxSize:Ws}){super(`Size cannot exceed ${Ws} bytes. Given size: ${zs} bytes.`,{name:"SizeOverflowError"})}}function assertSize(at,{size:zs}){if(size(at)>zs)throw new SizeOverflowError({givenSize:size(at),maxSize:zs})}function hexToBigInt(at,zs={}){const{signed:Ws}=zs;zs.size&&assertSize(at,{size:zs.size});const qs=BigInt(at);if(!Ws)return qs;const Ys=(at.length-2)/2,Xs=(1n<<BigInt(Ys)*8n-1n)-1n;return qs<=Xs?qs:qs-BigInt(`0x${"f".padStart(Ys*2,"f")}`)-1n}function hexToNumber$1(at,zs={}){const Ws=hexToBigInt(at,zs),qs=Number(Ws);if(!Number.isSafeInteger(qs))throw new IntegerOutOfRangeError({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:zs.signed,size:zs.size,value:`${Ws}n`});return qs}const hexes$1=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function toHex(at,zs={}){return typeof at=="number"||typeof at=="bigint"?numberToHex(at,zs):typeof at=="string"?stringToHex(at,zs):typeof at=="boolean"?boolToHex(at,zs):bytesToHex$1(at,zs)}function boolToHex(at,zs={}){const Ws=`0x${Number(at)}`;return typeof zs.size=="number"?(assertSize(Ws,{size:zs.size}),pad(Ws,{size:zs.size})):Ws}function bytesToHex$1(at,zs={}){let Ws="";for(let Ys=0;Ys<at.length;Ys++)Ws+=hexes$1[at[Ys]];const qs=`0x${Ws}`;return typeof zs.size=="number"?(assertSize(qs,{size:zs.size}),pad(qs,{dir:"right",size:zs.size})):qs}function numberToHex(at,zs={}){const{signed:Ws,size:qs}=zs,Ys=BigInt(at);let Xs;qs?Ws?Xs=(1n<<BigInt(qs)*8n-1n)-1n:Xs=2n**(BigInt(qs)*8n)-1n:typeof at=="number"&&(Xs=BigInt(Number.MAX_SAFE_INTEGER));const Zs=typeof Xs=="bigint"&&Ws?-Xs-1n:0;if(Xs&&Ys>Xs||Ys<Zs){const Js=typeof at=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:Xs?`${Xs}${Js}`:void 0,min:`${Zs}${Js}`,signed:Ws,size:qs,value:`${at}${Js}`})}const yl=`0x${(Ws&&Ys<0?(1n<<BigInt(qs*8))+BigInt(Ys):Ys).toString(16)}`;return qs?pad(yl,{size:qs}):yl}const encoder$1=new TextEncoder;function stringToHex(at,zs={}){const Ws=encoder$1.encode(at);return bytesToHex$1(Ws,zs)}const encoder=new TextEncoder;function toBytes(at,zs={}){return typeof at=="number"||typeof at=="bigint"?numberToBytes(at,zs):typeof at=="boolean"?boolToBytes(at,zs):isHex(at)?hexToBytes$1(at,zs):stringToBytes(at,zs)}function boolToBytes(at,zs={}){const Ws=new Uint8Array(1);return Ws[0]=Number(at),typeof zs.size=="number"?(assertSize(Ws,{size:zs.size}),pad(Ws,{size:zs.size})):Ws}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(at){if(at>=charCodeMap.zero&&at<=charCodeMap.nine)return at-charCodeMap.zero;if(at>=charCodeMap.A&&at<=charCodeMap.F)return at-(charCodeMap.A-10);if(at>=charCodeMap.a&&at<=charCodeMap.f)return at-(charCodeMap.a-10)}function hexToBytes$1(at,zs={}){let Ws=at;zs.size&&(assertSize(Ws,{size:zs.size}),Ws=pad(Ws,{dir:"right",size:zs.size}));let qs=Ws.slice(2);qs.length%2&&(qs=`0${qs}`);const Ys=qs.length/2,Xs=new Uint8Array(Ys);for(let Zs=0,yl=0;Zs<Ys;Zs++){const Js=charCodeToBase16(qs.charCodeAt(yl++)),$l=charCodeToBase16(qs.charCodeAt(yl++));if(Js===void 0||$l===void 0)throw new BaseError(`Invalid byte sequence ("${qs[yl-2]}${qs[yl-1]}" in "${qs}").`);Xs[Zs]=Js*16+$l}return Xs}function numberToBytes(at,zs){const Ws=numberToHex(at,zs);return hexToBytes$1(Ws)}function stringToBytes(at,zs={}){const Ws=encoder.encode(at);return typeof zs.size=="number"?(assertSize(Ws,{size:zs.size}),pad(Ws,{dir:"right",size:zs.size})):Ws}function keccak256(at,zs){const Ws=zs||"hex",qs=keccak_256(isHex(at,{strict:!1})?toBytes(at):at);return Ws==="bytes"?qs:toHex(qs)}function concat(at){return typeof at[0]=="string"?concatHex(at):concatBytes$1(at)}function concatBytes$1(at){let zs=0;for(const Ys of at)zs+=Ys.length;const Ws=new Uint8Array(zs);let qs=0;for(const Ys of at)Ws.set(Ys,qs),qs+=Ys.length;return Ws}function concatHex(at){return`0x${at.reduce((zs,Ws)=>zs+Ws.replace("0x",""),"")}`}async function recoverPublicKey({hash:at,signature:zs}){const Ws=isHex(at)?at:toHex(at),{secp256k1:qs}=await __vitePreload(async()=>{const{secp256k1:Zs}=await Promise.resolve().then(()=>secp256k1$1);return{secp256k1:Zs}},void 0);return`0x${(()=>{if(typeof zs=="object"&&"r"in zs&&"s"in zs){const{r:$l,s:El,v:wl,yParity:_l}=zs,Sl=Number(_l??wl),Tl=toRecoveryBit(Sl);return new qs.Signature(hexToBigInt($l),hexToBigInt(El)).addRecoveryBit(Tl)}const Zs=isHex(zs)?zs:toHex(zs);if(size(Zs)!==65)throw new Error("invalid signature length");const yl=hexToNumber$1(`0x${Zs.slice(130)}`),Js=toRecoveryBit(yl);return qs.Signature.fromCompact(Zs.substring(2,130)).addRecoveryBit(Js)})().recoverPublicKey(Ws.substring(2)).toHex(!1)}`}function toRecoveryBit(at){if(at===0||at===1)return at;if(at===27)return 0;if(at===28)return 1;throw new Error("Invalid yParityOrV value")}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1);function isBytes(at){return at instanceof Uint8Array||ArrayBuffer.isView(at)&&at.constructor.name==="Uint8Array"}function abytes(at){if(!isBytes(at))throw new Error("Uint8Array expected")}function abool(at,zs){if(typeof zs!="boolean")throw new Error(at+" boolean expected, got "+zs)}function numberToHexUnpadded(at){const zs=at.toString(16);return zs.length&1?"0"+zs:zs}function hexToNumber(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);return at===""?_0n$4:BigInt("0x"+at)}const hasHexBuiltin=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes=Array.from({length:256},(at,zs)=>zs.toString(16).padStart(2,"0"));function bytesToHex(at){if(abytes(at),hasHexBuiltin)return at.toHex();let zs="";for(let Ws=0;Ws<at.length;Ws++)zs+=hexes[at[Ws]];return zs}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(at){if(at>=asciis._0&&at<=asciis._9)return at-asciis._0;if(at>=asciis.A&&at<=asciis.F)return at-(asciis.A-10);if(at>=asciis.a&&at<=asciis.f)return at-(asciis.a-10)}function hexToBytes(at){if(typeof at!="string")throw new Error("hex string expected, got "+typeof at);if(hasHexBuiltin)return Uint8Array.fromHex(at);const zs=at.length,Ws=zs/2;if(zs%2)throw new Error("hex string expected, got unpadded hex of length "+zs);const qs=new Uint8Array(Ws);for(let Ys=0,Xs=0;Ys<Ws;Ys++,Xs+=2){const Zs=asciiToBase16(at.charCodeAt(Xs)),yl=asciiToBase16(at.charCodeAt(Xs+1));if(Zs===void 0||yl===void 0){const Js=at[Xs]+at[Xs+1];throw new Error('hex string expected, got non-hex character "'+Js+'" at index '+Xs)}qs[Ys]=Zs*16+yl}return qs}function bytesToNumberBE(at){return hexToNumber(bytesToHex(at))}function bytesToNumberLE(at){return abytes(at),hexToNumber(bytesToHex(Uint8Array.from(at).reverse()))}function numberToBytesBE(at,zs){return hexToBytes(at.toString(16).padStart(zs*2,"0"))}function numberToBytesLE(at,zs){return numberToBytesBE(at,zs).reverse()}function ensureBytes(at,zs,Ws){let qs;if(typeof zs=="string")try{qs=hexToBytes(zs)}catch(Xs){throw new Error(at+" must be hex string or Uint8Array, cause: "+Xs)}else if(isBytes(zs))qs=Uint8Array.from(zs);else throw new Error(at+" must be hex string or Uint8Array");const Ys=qs.length;if(typeof Ws=="number"&&Ys!==Ws)throw new Error(at+" of length "+Ws+" expected, got "+Ys);return qs}function concatBytes(...at){let zs=0;for(let qs=0;qs<at.length;qs++){const Ys=at[qs];abytes(Ys),zs+=Ys.length}const Ws=new Uint8Array(zs);for(let qs=0,Ys=0;qs<at.length;qs++){const Xs=at[qs];Ws.set(Xs,Ys),Ys+=Xs.length}return Ws}const isPosBig=at=>typeof at=="bigint"&&_0n$4<=at;function inRange(at,zs,Ws){return isPosBig(at)&&isPosBig(zs)&&isPosBig(Ws)&&zs<=at&&at<Ws}function aInRange(at,zs,Ws,qs){if(!inRange(zs,Ws,qs))throw new Error("expected valid "+at+": "+Ws+" <= n < "+qs+", got "+zs)}function bitLen(at){let zs;for(zs=0;at>_0n$4;at>>=_1n$4,zs+=1);return zs}const bitMask=at=>(_1n$4<<BigInt(at))-_1n$4,u8n=at=>new Uint8Array(at),u8fr=at=>Uint8Array.from(at);function createHmacDrbg(at,zs,Ws){if(typeof at!="number"||at<2)throw new Error("hashLen must be a number");if(typeof zs!="number"||zs<2)throw new Error("qByteLen must be a number");if(typeof Ws!="function")throw new Error("hmacFn must be a function");let qs=u8n(at),Ys=u8n(at),Xs=0;const Zs=()=>{qs.fill(1),Ys.fill(0),Xs=0},yl=(...wl)=>Ws(Ys,qs,...wl),Js=(wl=u8n(0))=>{Ys=yl(u8fr([0]),wl),qs=yl(),wl.length!==0&&(Ys=yl(u8fr([1]),wl),qs=yl())},$l=()=>{if(Xs++>=1e3)throw new Error("drbg: tried 1000 values");let wl=0;const _l=[];for(;wl<zs;){qs=yl();const Sl=qs.slice();_l.push(Sl),wl+=qs.length}return concatBytes(..._l)};return(wl,_l)=>{Zs(),Js(wl);let Sl;for(;!(Sl=_l($l()));)Js();return Zs(),Sl}}const validatorFns={bigint:at=>typeof at=="bigint",function:at=>typeof at=="function",boolean:at=>typeof at=="boolean",string:at=>typeof at=="string",stringOrUint8Array:at=>typeof at=="string"||isBytes(at),isSafeInteger:at=>Number.isSafeInteger(at),array:at=>Array.isArray(at),field:(at,zs)=>zs.Fp.isValid(at),hash:at=>typeof at=="function"&&Number.isSafeInteger(at.outputLen)};function validateObject(at,zs,Ws={}){const qs=(Ys,Xs,Zs)=>{const yl=validatorFns[Xs];if(typeof yl!="function")throw new Error("invalid validator function");const Js=at[Ys];if(!(Zs&&Js===void 0)&&!yl(Js,at))throw new Error("param "+String(Ys)+" is invalid. Expected "+Xs+", got "+Js)};for(const[Ys,Xs]of Object.entries(zs))qs(Ys,Xs,!1);for(const[Ys,Xs]of Object.entries(Ws))qs(Ys,Xs,!0);return at}function memoized(at){const zs=new WeakMap;return(Ws,...qs)=>{const Ys=zs.get(Ws);if(Ys!==void 0)return Ys;const Xs=at(Ws,...qs);return zs.set(Ws,Xs),Xs}}const presignMessagePrefix=`Ethereum Signed Message:
`;function toPrefixedMessage(at){const zs=typeof at=="string"?stringToHex(at):typeof at.raw=="string"?at.raw:bytesToHex$1(at.raw),Ws=stringToHex(`${presignMessagePrefix}${size(zs)}`);return concat([Ws,zs])}function hashMessage(at,zs){return keccak256(toPrefixedMessage(at),zs)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n$1=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);function mod(at,zs){const Ws=at%zs;return Ws>=_0n$3?Ws:zs+Ws}function pow2(at,zs,Ws){let qs=at;for(;zs-- >_0n$3;)qs*=qs,qs%=Ws;return qs}function invert(at,zs){if(at===_0n$3)throw new Error("invert: expected non-zero number");if(zs<=_0n$3)throw new Error("invert: expected positive modulus, got "+zs);let Ws=mod(at,zs),qs=zs,Ys=_0n$3,Xs=_1n$3;for(;Ws!==_0n$3;){const yl=qs/Ws,Js=qs%Ws,$l=Ys-Xs*yl;qs=Ws,Ws=Js,Ys=Xs,Xs=$l}if(qs!==_1n$3)throw new Error("invert: does not exist");return mod(Ys,zs)}function sqrt3mod4(at,zs){const Ws=(at.ORDER+_1n$3)/_4n$1,qs=at.pow(zs,Ws);if(!at.eql(at.sqr(qs),zs))throw new Error("Cannot find square root");return qs}function sqrt5mod8(at,zs){const Ws=(at.ORDER-_5n)/_8n,qs=at.mul(zs,_2n$1),Ys=at.pow(qs,Ws),Xs=at.mul(zs,Ys),Zs=at.mul(at.mul(Xs,_2n$1),Ys),yl=at.mul(Xs,at.sub(Zs,at.ONE));if(!at.eql(at.sqr(yl),zs))throw new Error("Cannot find square root");return yl}function tonelliShanks(at){if(at<BigInt(3))throw new Error("sqrt is not defined for small field");let zs=at-_1n$3,Ws=0;for(;zs%_2n$1===_0n$3;)zs/=_2n$1,Ws++;let qs=_2n$1;const Ys=Field(at);for(;FpLegendre(Ys,qs)===1;)if(qs++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(Ws===1)return sqrt3mod4;let Xs=Ys.pow(qs,zs);const Zs=(zs+_1n$3)/_2n$1;return function(Js,$l){if(Js.is0($l))return $l;if(FpLegendre(Js,$l)!==1)throw new Error("Cannot find square root");let El=Ws,wl=Js.mul(Js.ONE,Xs),_l=Js.pow($l,zs),Sl=Js.pow($l,Zs);for(;!Js.eql(_l,Js.ONE);){if(Js.is0(_l))return Js.ZERO;let Tl=1,Il=Js.sqr(_l);for(;!Js.eql(Il,Js.ONE);)if(Tl++,Il=Js.sqr(Il),Tl===El)throw new Error("Cannot find square root");const Al=_1n$3<<BigInt(El-Tl-1),xl=Js.pow(wl,Al);El=Tl,wl=Js.sqr(xl),_l=Js.mul(_l,wl),Sl=Js.mul(Sl,xl)}return Sl}}function FpSqrt(at){return at%_4n$1===_3n$1?sqrt3mod4:at%_8n===_5n?sqrt5mod8:tonelliShanks(at)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(at){const zs={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Ws=FIELD_FIELDS.reduce((qs,Ys)=>(qs[Ys]="function",qs),zs);return validateObject(at,Ws)}function FpPow(at,zs,Ws){if(Ws<_0n$3)throw new Error("invalid exponent, negatives unsupported");if(Ws===_0n$3)return at.ONE;if(Ws===_1n$3)return zs;let qs=at.ONE,Ys=zs;for(;Ws>_0n$3;)Ws&_1n$3&&(qs=at.mul(qs,Ys)),Ys=at.sqr(Ys),Ws>>=_1n$3;return qs}function FpInvertBatch(at,zs,Ws=!1){const qs=new Array(zs.length).fill(Ws?at.ZERO:void 0),Ys=zs.reduce((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=Zs,at.mul(Zs,yl)),at.ONE),Xs=at.inv(Ys);return zs.reduceRight((Zs,yl,Js)=>at.is0(yl)?Zs:(qs[Js]=at.mul(Zs,qs[Js]),at.mul(Zs,yl)),Xs),qs}function FpLegendre(at,zs){const Ws=(at.ORDER-_1n$3)/_2n$1,qs=at.pow(zs,Ws),Ys=at.eql(qs,at.ONE),Xs=at.eql(qs,at.ZERO),Zs=at.eql(qs,at.neg(at.ONE));if(!Ys&&!Xs&&!Zs)throw new Error("invalid Legendre symbol result");return Ys?1:Xs?0:-1}function nLength(at,zs){zs!==void 0&&anumber$1(zs);const Ws=zs!==void 0?zs:at.toString(2).length,qs=Math.ceil(Ws/8);return{nBitLength:Ws,nByteLength:qs}}function Field(at,zs,Ws=!1,qs={}){if(at<=_0n$3)throw new Error("invalid field: expected ORDER > 0, got "+at);const{nBitLength:Ys,nByteLength:Xs}=nLength(at,zs);if(Xs>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Zs;const yl=Object.freeze({ORDER:at,isLE:Ws,BITS:Ys,BYTES:Xs,MASK:bitMask(Ys),ZERO:_0n$3,ONE:_1n$3,create:Js=>mod(Js,at),isValid:Js=>{if(typeof Js!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Js);return _0n$3<=Js&&Js<at},is0:Js=>Js===_0n$3,isOdd:Js=>(Js&_1n$3)===_1n$3,neg:Js=>mod(-Js,at),eql:(Js,$l)=>Js===$l,sqr:Js=>mod(Js*Js,at),add:(Js,$l)=>mod(Js+$l,at),sub:(Js,$l)=>mod(Js-$l,at),mul:(Js,$l)=>mod(Js*$l,at),pow:(Js,$l)=>FpPow(yl,Js,$l),div:(Js,$l)=>mod(Js*invert($l,at),at),sqrN:Js=>Js*Js,addN:(Js,$l)=>Js+$l,subN:(Js,$l)=>Js-$l,mulN:(Js,$l)=>Js*$l,inv:Js=>invert(Js,at),sqrt:qs.sqrt||(Js=>(Zs||(Zs=FpSqrt(at)),Zs(yl,Js))),toBytes:Js=>Ws?numberToBytesLE(Js,Xs):numberToBytesBE(Js,Xs),fromBytes:Js=>{if(Js.length!==Xs)throw new Error("Field.fromBytes: expected "+Xs+" bytes, got "+Js.length);return Ws?bytesToNumberLE(Js):bytesToNumberBE(Js)},invertBatch:Js=>FpInvertBatch(yl,Js),cmov:(Js,$l,El)=>El?$l:Js});return Object.freeze(yl)}function getFieldBytesLength(at){if(typeof at!="bigint")throw new Error("field order must be bigint");const zs=at.toString(2).length;return Math.ceil(zs/8)}function getMinHashLength(at){const zs=getFieldBytesLength(at);return zs+Math.ceil(zs/2)}function mapHashToField(at,zs,Ws=!1){const qs=at.length,Ys=getFieldBytesLength(zs),Xs=getMinHashLength(zs);if(qs<16||qs<Xs||qs>1024)throw new Error("expected "+Xs+"-1024 bytes of input, got "+qs);const Zs=Ws?bytesToNumberLE(at):bytesToNumberBE(at),yl=mod(Zs,zs-_1n$3)+_1n$3;return Ws?numberToBytesLE(yl,Ys):numberToBytesBE(yl,Ys)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1);function constTimeNegate(at,zs){const Ws=zs.negate();return at?Ws:zs}function validateW(at,zs){if(!Number.isSafeInteger(at)||at<=0||at>zs)throw new Error("invalid window size, expected [1.."+zs+"], got W="+at)}function calcWOpts(at,zs){validateW(at,zs);const Ws=Math.ceil(zs/at)+1,qs=2**(at-1),Ys=2**at,Xs=bitMask(at),Zs=BigInt(at);return{windows:Ws,windowSize:qs,mask:Xs,maxNumber:Ys,shiftBy:Zs}}function calcOffsets(at,zs,Ws){const{windowSize:qs,mask:Ys,maxNumber:Xs,shiftBy:Zs}=Ws;let yl=Number(at&Ys),Js=at>>Zs;yl>qs&&(yl-=Xs,Js+=_1n$2);const $l=zs*qs,El=$l+Math.abs(yl)-1,wl=yl===0,_l=yl<0,Sl=zs%2!==0;return{nextN:Js,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:$l}}function validateMSMPoints(at,zs){if(!Array.isArray(at))throw new Error("array expected");at.forEach((Ws,qs)=>{if(!(Ws instanceof zs))throw new Error("invalid point at index "+qs)})}function validateMSMScalars(at,zs){if(!Array.isArray(at))throw new Error("array of scalars expected");at.forEach((Ws,qs)=>{if(!zs.isValid(Ws))throw new Error("invalid scalar at index "+qs)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(at){return pointWindowSizes.get(at)||1}function wNAF(at,zs){return{constTimeNegate,hasPrecomputes(Ws){return getW(Ws)!==1},unsafeLadder(Ws,qs,Ys=at.ZERO){let Xs=Ws;for(;qs>_0n$2;)qs&_1n$2&&(Ys=Ys.add(Xs)),Xs=Xs.double(),qs>>=_1n$2;return Ys},precomputeWindow(Ws,qs){const{windows:Ys,windowSize:Xs}=calcWOpts(qs,zs),Zs=[];let yl=Ws,Js=yl;for(let $l=0;$l<Ys;$l++){Js=yl,Zs.push(Js);for(let El=1;El<Xs;El++)Js=Js.add(yl),Zs.push(Js);yl=Js.double()}return Zs},wNAF(Ws,qs,Ys){let Xs=at.ZERO,Zs=at.BASE;const yl=calcWOpts(Ws,zs);for(let Js=0;Js<yl.windows;Js++){const{nextN:$l,offset:El,isZero:wl,isNeg:_l,isNegF:Sl,offsetF:Tl}=calcOffsets(Ys,Js,yl);Ys=$l,wl?Zs=Zs.add(constTimeNegate(Sl,qs[Tl])):Xs=Xs.add(constTimeNegate(_l,qs[El]))}return{p:Xs,f:Zs}},wNAFUnsafe(Ws,qs,Ys,Xs=at.ZERO){const Zs=calcWOpts(Ws,zs);for(let yl=0;yl<Zs.windows&&Ys!==_0n$2;yl++){const{nextN:Js,offset:$l,isZero:El,isNeg:wl}=calcOffsets(Ys,yl,Zs);if(Ys=Js,!El){const _l=qs[$l];Xs=Xs.add(wl?_l.negate():_l)}}return Xs},getPrecomputes(Ws,qs,Ys){let Xs=pointPrecomputes.get(qs);return Xs||(Xs=this.precomputeWindow(qs,Ws),Ws!==1&&pointPrecomputes.set(qs,Ys(Xs))),Xs},wNAFCached(Ws,qs,Ys){const Xs=getW(Ws);return this.wNAF(Xs,this.getPrecomputes(Xs,Ws,Ys),qs)},wNAFCachedUnsafe(Ws,qs,Ys,Xs){const Zs=getW(Ws);return Zs===1?this.unsafeLadder(Ws,qs,Xs):this.wNAFUnsafe(Zs,this.getPrecomputes(Zs,Ws,Ys),qs,Xs)},setWindowSize(Ws,qs){validateW(qs,zs),pointWindowSizes.set(Ws,qs),pointPrecomputes.delete(Ws)}}}function pippenger(at,zs,Ws,qs){validateMSMPoints(Ws,at),validateMSMScalars(qs,zs);const Ys=Ws.length,Xs=qs.length;if(Ys!==Xs)throw new Error("arrays of points and scalars must have equal length");const Zs=at.ZERO,yl=bitLen(BigInt(Ys));let Js=1;yl>12?Js=yl-3:yl>4?Js=yl-2:yl>0&&(Js=2);const $l=bitMask(Js),El=new Array(Number($l)+1).fill(Zs),wl=Math.floor((zs.BITS-1)/Js)*Js;let _l=Zs;for(let Sl=wl;Sl>=0;Sl-=Js){El.fill(Zs);for(let Il=0;Il<Xs;Il++){const Al=qs[Il],xl=Number(Al>>BigInt(Sl)&$l);El[xl]=El[xl].add(Ws[Il])}let Tl=Zs;for(let Il=El.length-1,Al=Zs;Il>0;Il--)Al=Al.add(El[Il]),Tl=Tl.add(Al);if(_l=_l.add(Tl),Sl!==0)for(let Il=0;Il<Js;Il++)_l=_l.double()}return _l}function validateBasic(at){return validateField(at.Fp),validateObject(at,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(at.n,at.nBitLength),...at,p:at.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(at){at.lowS!==void 0&&abool("lowS",at.lowS),at.prehash!==void 0&&abool("prehash",at.prehash)}function validatePointOpts(at){const zs=validateBasic(at);validateObject(zs,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:Ws,Fp:qs,a:Ys}=zs;if(Ws){if(!qs.eql(Ys,qs.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof Ws!="object"||typeof Ws.beta!="bigint"||typeof Ws.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...zs})}class DERErr extends Error{constructor(zs=""){super(zs)}}const DER={Err:DERErr,_tlv:{encode:(at,zs)=>{const{Err:Ws}=DER;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length&1)throw new Ws("tlv.encode: unpadded data");const qs=zs.length/2,Ys=numberToHexUnpadded(qs);if(Ys.length/2&128)throw new Ws("tlv.encode: long form length too big");const Xs=qs>127?numberToHexUnpadded(Ys.length/2|128):"";return numberToHexUnpadded(at)+Xs+Ys+zs},decode(at,zs){const{Err:Ws}=DER;let qs=0;if(at<0||at>256)throw new Ws("tlv.encode: wrong tag");if(zs.length<2||zs[qs++]!==at)throw new Ws("tlv.decode: wrong tlv");const Ys=zs[qs++],Xs=!!(Ys&128);let Zs=0;if(!Xs)Zs=Ys;else{const Js=Ys&127;if(!Js)throw new Ws("tlv.decode(long): indefinite length not supported");if(Js>4)throw new Ws("tlv.decode(long): byte length is too big");const $l=zs.subarray(qs,qs+Js);if($l.length!==Js)throw new Ws("tlv.decode: length bytes not complete");if($l[0]===0)throw new Ws("tlv.decode(long): zero leftmost byte");for(const El of $l)Zs=Zs<<8|El;if(qs+=Js,Zs<128)throw new Ws("tlv.decode(long): not minimal encoding")}const yl=zs.subarray(qs,qs+Zs);if(yl.length!==Zs)throw new Ws("tlv.decode: wrong value length");return{v:yl,l:zs.subarray(qs+Zs)}}},_int:{encode(at){const{Err:zs}=DER;if(at<_0n$1)throw new zs("integer: negative integers are not allowed");let Ws=numberToHexUnpadded(at);if(Number.parseInt(Ws[0],16)&8&&(Ws="00"+Ws),Ws.length&1)throw new zs("unexpected DER parsing assertion: unpadded hex");return Ws},decode(at){const{Err:zs}=DER;if(at[0]&128)throw new zs("invalid signature integer: negative");if(at[0]===0&&!(at[1]&128))throw new zs("invalid signature integer: unnecessary leading zero");return bytesToNumberBE(at)}},toSig(at){const{Err:zs,_int:Ws,_tlv:qs}=DER,Ys=ensureBytes("signature",at),{v:Xs,l:Zs}=qs.decode(48,Ys);if(Zs.length)throw new zs("invalid signature: left bytes after parsing");const{v:yl,l:Js}=qs.decode(2,Xs),{v:$l,l:El}=qs.decode(2,Js);if(El.length)throw new zs("invalid signature: left bytes after parsing");return{r:Ws.decode(yl),s:Ws.decode($l)}},hexFromSig(at){const{_tlv:zs,_int:Ws}=DER,qs=zs.encode(2,Ws.encode(at.r)),Ys=zs.encode(2,Ws.encode(at.s)),Xs=qs+Ys;return zs.encode(48,Xs)}};function numToSizedHex(at,zs){return bytesToHex(numberToBytesBE(at,zs))}const _0n$1=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3),_4n=BigInt(4);function weierstrassPoints(at){const zs=validatePointOpts(at),{Fp:Ws}=zs,qs=Field(zs.n,zs.nBitLength),Ys=zs.toBytes||((Cl,Rl,Ol)=>{const Ml=Rl.toAffine();return concatBytes(Uint8Array.from([4]),Ws.toBytes(Ml.x),Ws.toBytes(Ml.y))}),Xs=zs.fromBytes||(Cl=>{const Rl=Cl.subarray(1),Ol=Ws.fromBytes(Rl.subarray(0,Ws.BYTES)),Ml=Ws.fromBytes(Rl.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Ol,y:Ml}});function Zs(Cl){const{a:Rl,b:Ol}=zs,Ml=Ws.sqr(Cl),Ll=Ws.mul(Ml,Cl);return Ws.add(Ws.add(Ll,Ws.mul(Cl,Rl)),Ol)}function yl(Cl,Rl){const Ol=Ws.sqr(Rl),Ml=Zs(Cl);return Ws.eql(Ol,Ml)}if(!yl(zs.Gx,zs.Gy))throw new Error("bad curve params: generator point");const Js=Ws.mul(Ws.pow(zs.a,_3n),_4n),$l=Ws.mul(Ws.sqr(zs.b),BigInt(27));if(Ws.is0(Ws.add(Js,$l)))throw new Error("bad curve params: a or b");function El(Cl){return inRange(Cl,_1n$1,zs.n)}function wl(Cl){const{allowedPrivateKeyLengths:Rl,nByteLength:Ol,wrapPrivateKey:Ml,n:Ll}=zs;if(Rl&&typeof Cl!="bigint"){if(isBytes(Cl)&&(Cl=bytesToHex(Cl)),typeof Cl!="string"||!Rl.includes(Cl.length))throw new Error("invalid private key");Cl=Cl.padStart(Ol*2,"0")}let Bl;try{Bl=typeof Cl=="bigint"?Cl:bytesToNumberBE(ensureBytes("private key",Cl,Ol))}catch{throw new Error("invalid private key, expected hex or "+Ol+" bytes, got "+typeof Cl)}return Ml&&(Bl=mod(Bl,Ll)),aInRange("private key",Bl,_1n$1,Ll),Bl}function _l(Cl){if(!(Cl instanceof Il))throw new Error("ProjectivePoint expected")}const Sl=memoized((Cl,Rl)=>{const{px:Ol,py:Ml,pz:Ll}=Cl;if(Ws.eql(Ll,Ws.ONE))return{x:Ol,y:Ml};const Bl=Cl.is0();Rl==null&&(Rl=Bl?Ws.ONE:Ws.inv(Ll));const Wl=Ws.mul(Ol,Rl),Yl=Ws.mul(Ml,Rl),Kl=Ws.mul(Ll,Rl);if(Bl)return{x:Ws.ZERO,y:Ws.ZERO};if(!Ws.eql(Kl,Ws.ONE))throw new Error("invZ was invalid");return{x:Wl,y:Yl}}),Tl=memoized(Cl=>{if(Cl.is0()){if(zs.allowInfinityPoint&&!Ws.is0(Cl.py))return;throw new Error("bad point: ZERO")}const{x:Rl,y:Ol}=Cl.toAffine();if(!Ws.isValid(Rl)||!Ws.isValid(Ol))throw new Error("bad point: x or y not FE");if(!yl(Rl,Ol))throw new Error("bad point: equation left != right");if(!Cl.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class Il{constructor(Rl,Ol,Ml){if(Rl==null||!Ws.isValid(Rl))throw new Error("x required");if(Ol==null||!Ws.isValid(Ol)||Ws.is0(Ol))throw new Error("y required");if(Ml==null||!Ws.isValid(Ml))throw new Error("z required");this.px=Rl,this.py=Ol,this.pz=Ml,Object.freeze(this)}static fromAffine(Rl){const{x:Ol,y:Ml}=Rl||{};if(!Rl||!Ws.isValid(Ol)||!Ws.isValid(Ml))throw new Error("invalid affine point");if(Rl instanceof Il)throw new Error("projective point not allowed");const Ll=Bl=>Ws.eql(Bl,Ws.ZERO);return Ll(Ol)&&Ll(Ml)?Il.ZERO:new Il(Ol,Ml,Ws.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Rl){const Ol=FpInvertBatch(Ws,Rl.map(Ml=>Ml.pz));return Rl.map((Ml,Ll)=>Ml.toAffine(Ol[Ll])).map(Il.fromAffine)}static fromHex(Rl){const Ol=Il.fromAffine(Xs(ensureBytes("pointHex",Rl)));return Ol.assertValidity(),Ol}static fromPrivateKey(Rl){return Il.BASE.multiply(wl(Rl))}static msm(Rl,Ol){return pippenger(Il,qs,Rl,Ol)}_setWindowSize(Rl){Pl.setWindowSize(this,Rl)}assertValidity(){Tl(this)}hasEvenY(){const{y:Rl}=this.toAffine();if(Ws.isOdd)return!Ws.isOdd(Rl);throw new Error("Field doesn't support isOdd")}equals(Rl){_l(Rl);const{px:Ol,py:Ml,pz:Ll}=this,{px:Bl,py:Wl,pz:Yl}=Rl,Kl=Ws.eql(Ws.mul(Ol,Yl),Ws.mul(Bl,Ll)),Xl=Ws.eql(Ws.mul(Ml,Yl),Ws.mul(Wl,Ll));return Kl&&Xl}negate(){return new Il(this.px,Ws.neg(this.py),this.pz)}double(){const{a:Rl,b:Ol}=zs,Ml=Ws.mul(Ol,_3n),{px:Ll,py:Bl,pz:Wl}=this;let Yl=Ws.ZERO,Kl=Ws.ZERO,Xl=Ws.ZERO,Ul=Ws.mul(Ll,Ll),Vl=Ws.mul(Bl,Bl),Nl=Ws.mul(Wl,Wl),Dl=Ws.mul(Ll,Bl);return Dl=Ws.add(Dl,Dl),Xl=Ws.mul(Ll,Wl),Xl=Ws.add(Xl,Xl),Yl=Ws.mul(Rl,Xl),Kl=Ws.mul(Ml,Nl),Kl=Ws.add(Yl,Kl),Yl=Ws.sub(Vl,Kl),Kl=Ws.add(Vl,Kl),Kl=Ws.mul(Yl,Kl),Yl=Ws.mul(Dl,Yl),Xl=Ws.mul(Ml,Xl),Nl=Ws.mul(Rl,Nl),Dl=Ws.sub(Ul,Nl),Dl=Ws.mul(Rl,Dl),Dl=Ws.add(Dl,Xl),Xl=Ws.add(Ul,Ul),Ul=Ws.add(Xl,Ul),Ul=Ws.add(Ul,Nl),Ul=Ws.mul(Ul,Dl),Kl=Ws.add(Kl,Ul),Nl=Ws.mul(Bl,Wl),Nl=Ws.add(Nl,Nl),Ul=Ws.mul(Nl,Dl),Yl=Ws.sub(Yl,Ul),Xl=Ws.mul(Nl,Vl),Xl=Ws.add(Xl,Xl),Xl=Ws.add(Xl,Xl),new Il(Yl,Kl,Xl)}add(Rl){_l(Rl);const{px:Ol,py:Ml,pz:Ll}=this,{px:Bl,py:Wl,pz:Yl}=Rl;let Kl=Ws.ZERO,Xl=Ws.ZERO,Ul=Ws.ZERO;const Vl=zs.a,Nl=Ws.mul(zs.b,_3n);let Dl=Ws.mul(Ol,Bl),Gl=Ws.mul(Ml,Wl),Fl=Ws.mul(Ll,Yl),Hl=Ws.add(Ol,Ml),Zl=Ws.add(Bl,Wl);Hl=Ws.mul(Hl,Zl),Zl=Ws.add(Dl,Gl),Hl=Ws.sub(Hl,Zl),Zl=Ws.add(Ol,Ll);let Su=Ws.add(Bl,Yl);return Zl=Ws.mul(Zl,Su),Su=Ws.add(Dl,Fl),Zl=Ws.sub(Zl,Su),Su=Ws.add(Ml,Ll),Kl=Ws.add(Wl,Yl),Su=Ws.mul(Su,Kl),Kl=Ws.add(Gl,Fl),Su=Ws.sub(Su,Kl),Ul=Ws.mul(Vl,Zl),Kl=Ws.mul(Nl,Fl),Ul=Ws.add(Kl,Ul),Kl=Ws.sub(Gl,Ul),Ul=Ws.add(Gl,Ul),Xl=Ws.mul(Kl,Ul),Gl=Ws.add(Dl,Dl),Gl=Ws.add(Gl,Dl),Fl=Ws.mul(Vl,Fl),Zl=Ws.mul(Nl,Zl),Gl=Ws.add(Gl,Fl),Fl=Ws.sub(Dl,Fl),Fl=Ws.mul(Vl,Fl),Zl=Ws.add(Zl,Fl),Dl=Ws.mul(Gl,Zl),Xl=Ws.add(Xl,Dl),Dl=Ws.mul(Su,Zl),Kl=Ws.mul(Hl,Kl),Kl=Ws.sub(Kl,Dl),Dl=Ws.mul(Hl,Gl),Ul=Ws.mul(Su,Ul),Ul=Ws.add(Ul,Dl),new Il(Kl,Xl,Ul)}subtract(Rl){return this.add(Rl.negate())}is0(){return this.equals(Il.ZERO)}wNAF(Rl){return Pl.wNAFCached(this,Rl,Il.normalizeZ)}multiplyUnsafe(Rl){const{endo:Ol,n:Ml}=zs;aInRange("scalar",Rl,_0n$1,Ml);const Ll=Il.ZERO;if(Rl===_0n$1)return Ll;if(this.is0()||Rl===_1n$1)return this;if(!Ol||Pl.hasPrecomputes(this))return Pl.wNAFCachedUnsafe(this,Rl,Il.normalizeZ);let{k1neg:Bl,k1:Wl,k2neg:Yl,k2:Kl}=Ol.splitScalar(Rl),Xl=Ll,Ul=Ll,Vl=this;for(;Wl>_0n$1||Kl>_0n$1;)Wl&_1n$1&&(Xl=Xl.add(Vl)),Kl&_1n$1&&(Ul=Ul.add(Vl)),Vl=Vl.double(),Wl>>=_1n$1,Kl>>=_1n$1;return Bl&&(Xl=Xl.negate()),Yl&&(Ul=Ul.negate()),Ul=new Il(Ws.mul(Ul.px,Ol.beta),Ul.py,Ul.pz),Xl.add(Ul)}multiply(Rl){const{endo:Ol,n:Ml}=zs;aInRange("scalar",Rl,_1n$1,Ml);let Ll,Bl;if(Ol){const{k1neg:Wl,k1:Yl,k2neg:Kl,k2:Xl}=Ol.splitScalar(Rl);let{p:Ul,f:Vl}=this.wNAF(Yl),{p:Nl,f:Dl}=this.wNAF(Xl);Ul=Pl.constTimeNegate(Wl,Ul),Nl=Pl.constTimeNegate(Kl,Nl),Nl=new Il(Ws.mul(Nl.px,Ol.beta),Nl.py,Nl.pz),Ll=Ul.add(Nl),Bl=Vl.add(Dl)}else{const{p:Wl,f:Yl}=this.wNAF(Rl);Ll=Wl,Bl=Yl}return Il.normalizeZ([Ll,Bl])[0]}multiplyAndAddUnsafe(Rl,Ol,Ml){const Ll=Il.BASE,Bl=(Yl,Kl)=>Kl===_0n$1||Kl===_1n$1||!Yl.equals(Ll)?Yl.multiplyUnsafe(Kl):Yl.multiply(Kl),Wl=Bl(this,Ol).add(Bl(Rl,Ml));return Wl.is0()?void 0:Wl}toAffine(Rl){return Sl(this,Rl)}isTorsionFree(){const{h:Rl,isTorsionFree:Ol}=zs;if(Rl===_1n$1)return!0;if(Ol)return Ol(Il,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Rl,clearCofactor:Ol}=zs;return Rl===_1n$1?this:Ol?Ol(Il,this):this.multiplyUnsafe(zs.h)}toRawBytes(Rl=!0){return abool("isCompressed",Rl),this.assertValidity(),Ys(Il,this,Rl)}toHex(Rl=!0){return abool("isCompressed",Rl),bytesToHex(this.toRawBytes(Rl))}}Il.BASE=new Il(zs.Gx,zs.Gy,Ws.ONE),Il.ZERO=new Il(Ws.ZERO,Ws.ONE,Ws.ZERO);const{endo:Al,nBitLength:xl}=zs,Pl=wNAF(Il,Al?Math.ceil(xl/2):xl);return{CURVE:zs,ProjectivePoint:Il,normPrivateKeyToScalar:wl,weierstrassEquation:Zs,isWithinCurveOrder:El}}function validateOpts(at){const zs=validateBasic(at);return validateObject(zs,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...zs})}function weierstrass(at){const zs=validateOpts(at),{Fp:Ws,n:qs,nByteLength:Ys,nBitLength:Xs}=zs,Zs=Ws.BYTES+1,yl=2*Ws.BYTES+1;function Js(Nl){return mod(Nl,qs)}function $l(Nl){return invert(Nl,qs)}const{ProjectivePoint:El,normPrivateKeyToScalar:wl,weierstrassEquation:_l,isWithinCurveOrder:Sl}=weierstrassPoints({...zs,toBytes(Nl,Dl,Gl){const Fl=Dl.toAffine(),Hl=Ws.toBytes(Fl.x),Zl=concatBytes;return abool("isCompressed",Gl),Gl?Zl(Uint8Array.from([Dl.hasEvenY()?2:3]),Hl):Zl(Uint8Array.from([4]),Hl,Ws.toBytes(Fl.y))},fromBytes(Nl){const Dl=Nl.length,Gl=Nl[0],Fl=Nl.subarray(1);if(Dl===Zs&&(Gl===2||Gl===3)){const Hl=bytesToNumberBE(Fl);if(!inRange(Hl,_1n$1,Ws.ORDER))throw new Error("Point is not on curve");const Zl=_l(Hl);let Su;try{Su=Ws.sqrt(Zl)}catch(ku){const Tu=ku instanceof Error?": "+ku.message:"";throw new Error("Point is not on curve"+Tu)}const $u=(Su&_1n$1)===_1n$1;return(Gl&1)===1!==$u&&(Su=Ws.neg(Su)),{x:Hl,y:Su}}else if(Dl===yl&&Gl===4){const Hl=Ws.fromBytes(Fl.subarray(0,Ws.BYTES)),Zl=Ws.fromBytes(Fl.subarray(Ws.BYTES,2*Ws.BYTES));return{x:Hl,y:Zl}}else{const Hl=Zs,Zl=yl;throw new Error("invalid Point, expected length of "+Hl+", or uncompressed "+Zl+", got "+Dl)}}});function Tl(Nl){const Dl=qs>>_1n$1;return Nl>Dl}function Il(Nl){return Tl(Nl)?Js(-Nl):Nl}const Al=(Nl,Dl,Gl)=>bytesToNumberBE(Nl.slice(Dl,Gl));class xl{constructor(Dl,Gl,Fl){aInRange("r",Dl,_1n$1,qs),aInRange("s",Gl,_1n$1,qs),this.r=Dl,this.s=Gl,Fl!=null&&(this.recovery=Fl),Object.freeze(this)}static fromCompact(Dl){const Gl=Ys;return Dl=ensureBytes("compactSignature",Dl,Gl*2),new xl(Al(Dl,0,Gl),Al(Dl,Gl,2*Gl))}static fromDER(Dl){const{r:Gl,s:Fl}=DER.toSig(ensureBytes("DER",Dl));return new xl(Gl,Fl)}assertValidity(){}addRecoveryBit(Dl){return new xl(this.r,this.s,Dl)}recoverPublicKey(Dl){const{r:Gl,s:Fl,recovery:Hl}=this,Zl=Ll(ensureBytes("msgHash",Dl));if(Hl==null||![0,1,2,3].includes(Hl))throw new Error("recovery id invalid");const Su=Hl===2||Hl===3?Gl+zs.n:Gl;if(Su>=Ws.ORDER)throw new Error("recovery id 2 or 3 invalid");const $u=Hl&1?"03":"02",Pu=El.fromHex($u+numToSizedHex(Su,Ws.BYTES)),ku=$l(Su),Tu=Js(-Zl*ku),Ru=Js(Fl*ku),Mu=El.BASE.multiplyAndAddUnsafe(Pu,Tu,Ru);if(!Mu)throw new Error("point at infinify");return Mu.assertValidity(),Mu}hasHighS(){return Tl(this.s)}normalizeS(){return this.hasHighS()?new xl(this.r,Js(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig(this)}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){const Dl=Ys;return numToSizedHex(this.r,Dl)+numToSizedHex(this.s,Dl)}}const Pl={isValidPrivateKey(Nl){try{return wl(Nl),!0}catch{return!1}},normPrivateKeyToScalar:wl,randomPrivateKey:()=>{const Nl=getMinHashLength(zs.n);return mapHashToField(zs.randomBytes(Nl),zs.n)},precompute(Nl=8,Dl=El.BASE){return Dl._setWindowSize(Nl),Dl.multiply(BigInt(3)),Dl}};function Cl(Nl,Dl=!0){return El.fromPrivateKey(Nl).toRawBytes(Dl)}function Rl(Nl){if(typeof Nl=="bigint")return!1;if(Nl instanceof El)return!0;const Gl=ensureBytes("key",Nl).length,Fl=Ws.BYTES,Hl=Fl+1,Zl=2*Fl+1;if(!(zs.allowedPrivateKeyLengths||Ys===Hl))return Gl===Hl||Gl===Zl}function Ol(Nl,Dl,Gl=!0){if(Rl(Nl)===!0)throw new Error("first arg must be private key");if(Rl(Dl)===!1)throw new Error("second arg must be public key");return El.fromHex(Dl).multiply(wl(Nl)).toRawBytes(Gl)}const Ml=zs.bits2int||function(Nl){if(Nl.length>8192)throw new Error("input is too large");const Dl=bytesToNumberBE(Nl),Gl=Nl.length*8-Xs;return Gl>0?Dl>>BigInt(Gl):Dl},Ll=zs.bits2int_modN||function(Nl){return Js(Ml(Nl))},Bl=bitMask(Xs);function Wl(Nl){return aInRange("num < 2^"+Xs,Nl,_0n$1,Bl),numberToBytesBE(Nl,Ys)}function Yl(Nl,Dl,Gl=Kl){if(["recovered","canonical"].some(Ku=>Ku in Gl))throw new Error("sign() legacy options not supported");const{hash:Fl,randomBytes:Hl}=zs;let{lowS:Zl,prehash:Su,extraEntropy:$u}=Gl;Zl==null&&(Zl=!0),Nl=ensureBytes("msgHash",Nl),validateSigVerOpts(Gl),Su&&(Nl=ensureBytes("prehashed msgHash",Fl(Nl)));const Pu=Ll(Nl),ku=wl(Dl),Tu=[Wl(ku),Wl(Pu)];if($u!=null&&$u!==!1){const Ku=$u===!0?Hl(Ws.BYTES):$u;Tu.push(ensureBytes("extraEntropy",Ku))}const Ru=concatBytes(...Tu),Mu=Pu;function Hu(Ku){const Fu=Ml(Ku);if(!Sl(Fu))return;const ju=$l(Fu),qu=El.BASE.multiply(Fu).toAffine(),Zu=Js(qu.x);if(Zu===_0n$1)return;const _d=Js(ju*Js(Mu+Zu*ku));if(_d===_0n$1)return;let vp=(qu.x===Zu?0:2)|Number(qu.y&_1n$1),Ap=_d;return Zl&&Tl(_d)&&(Ap=Il(_d),vp^=1),new xl(Zu,Ap,vp)}return{seed:Ru,k2sig:Hu}}const Kl={lowS:zs.lowS,prehash:!1},Xl={lowS:zs.lowS,prehash:!1};function Ul(Nl,Dl,Gl=Kl){const{seed:Fl,k2sig:Hl}=Yl(Nl,Dl,Gl),Zl=zs;return createHmacDrbg(Zl.hash.outputLen,Zl.nByteLength,Zl.hmac)(Fl,Hl)}El.BASE._setWindowSize(8);function Vl(Nl,Dl,Gl,Fl=Xl){var vp;const Hl=Nl;Dl=ensureBytes("msgHash",Dl),Gl=ensureBytes("publicKey",Gl);const{lowS:Zl,prehash:Su,format:$u}=Fl;if(validateSigVerOpts(Fl),"strict"in Fl)throw new Error("options.strict was renamed to lowS");if($u!==void 0&&$u!=="compact"&&$u!=="der")throw new Error("format must be compact or der");const Pu=typeof Hl=="string"||isBytes(Hl),ku=!Pu&&!$u&&typeof Hl=="object"&&Hl!==null&&typeof Hl.r=="bigint"&&typeof Hl.s=="bigint";if(!Pu&&!ku)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Tu,Ru;try{if(ku&&(Tu=new xl(Hl.r,Hl.s)),Pu){try{$u!=="compact"&&(Tu=xl.fromDER(Hl))}catch(Ap){if(!(Ap instanceof DER.Err))throw Ap}!Tu&&$u!=="der"&&(Tu=xl.fromCompact(Hl))}Ru=El.fromHex(Gl)}catch{return!1}if(!Tu||Zl&&Tu.hasHighS())return!1;Su&&(Dl=zs.hash(Dl));const{r:Mu,s:Hu}=Tu,Ku=Ll(Dl),Fu=$l(Hu),ju=Js(Ku*Fu),qu=Js(Mu*Fu),Zu=(vp=El.BASE.multiplyAndAddUnsafe(Ru,ju,qu))==null?void 0:vp.toAffine();return Zu?Js(Zu.x)===Mu:!1}return{CURVE:zs,getPublicKey:Cl,getSharedSecret:Ol,sign:Ul,verify:Vl,ProjectivePoint:El,Signature:xl,utils:Pl}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(at){return{hash:at,hmac:(zs,...Ws)=>hmac$1(at,zs,concatBytes$6(...Ws)),randomBytes:randomBytes$1}}function createCurve(at,zs){const Ws=qs=>weierstrass({...at,...getHash(qs)});return{...Ws(zs),create:Ws}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),divNearest=(at,zs)=>(at+zs/_2n)/zs;function sqrtMod(at){const zs=secp256k1P,Ws=BigInt(3),qs=BigInt(6),Ys=BigInt(11),Xs=BigInt(22),Zs=BigInt(23),yl=BigInt(44),Js=BigInt(88),$l=at*at*at%zs,El=$l*$l*at%zs,wl=pow2(El,Ws,zs)*El%zs,_l=pow2(wl,Ws,zs)*El%zs,Sl=pow2(_l,_2n,zs)*$l%zs,Tl=pow2(Sl,Ys,zs)*Sl%zs,Il=pow2(Tl,Xs,zs)*Tl%zs,Al=pow2(Il,yl,zs)*Il%zs,xl=pow2(Al,Js,zs)*Al%zs,Pl=pow2(xl,yl,zs)*Il%zs,Cl=pow2(Pl,Ws,zs)*El%zs,Rl=pow2(Cl,Zs,zs)*Tl%zs,Ol=pow2(Rl,qs,zs)*$l%zs,Ml=pow2(Ol,_2n,zs);if(!Fpk1.eql(Fpk1.sqr(Ml),at))throw new Error("Cannot find square root");return Ml}const Fpk1=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:_0n,b:BigInt(7),Fp:Fpk1,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:at=>{const zs=secp256k1N,Ws=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),qs=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Ys=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Xs=Ws,Zs=BigInt("0x100000000000000000000000000000000"),yl=divNearest(Xs*at,zs),Js=divNearest(-qs*at,zs);let $l=mod(at-yl*Ws-Js*Ys,zs),El=mod(-yl*qs-Js*Xs,zs);const wl=$l>Zs,_l=El>Zs;if(wl&&($l=zs-$l),_l&&(El=zs-El),$l>Zs||El>Zs)throw new Error("splitScalar: Endomorphism failed, k="+at);return{k1neg:wl,k1:$l,k2neg:_l,k2:El}}}},sha256$3),secp256k1$1=Object.freeze(Object.defineProperty({__proto__:null,secp256k1},Symbol.toStringTag,{value:"Module"})),index=Object.freeze(Object.defineProperty({__proto__:null,BaseError,IntegerOutOfRangeError,SizeExceedsPaddingSizeError,SizeOverflowError,boolToBytes,boolToHex,bytesToHex:bytesToHex$1,concat,concatBytes:concatBytes$1,concatHex,hashMessage,hexToBigInt,hexToBytes:hexToBytes$1,hexToNumber:hexToNumber$1,isHex,keccak256,numberToBytes,numberToHex,pad,padBytes,padHex,presignMessagePrefix,recoverPublicKey,size,stringToBytes,stringToHex,toBytes,toHex,toPrefixedMessage},Symbol.toStringTag,{value:"Module"}));class WalletConnectWallet{addChangeListener(zs){return this.changeListeners.add(zs),()=>this.changeListeners.delete(zs)}notifyChange(zs){this.changeListeners.forEach(Ws=>Ws(zs))}constructor(zs,Ws,qs){this.client=zs,this.ensureReady=Ws,this.interfaceType=WalletInterfaceType.WalletConnect,this.ethereumNamespaces=[],this.solanaNamespaces=[],this.isRegeneratingUri=!1,this.isInitialized=!1,this.changeListeners=new Set,qs&&(this.ethereumNamespaces=qs.ethereumNamespaces,this.ethereumNamespaces.length>0&&(this.ethChain=this.ethereumNamespaces[0]),this.solanaNamespaces=qs.solanaNamespaces,this.solanaNamespaces.length>0&&(this.solChain=this.solanaNamespaces[0])),this.client.onSessionUpdate(()=>{this.notifyChange({type:"update"})}),this.client.onSessionEvent(({event:Ys})=>{var Xs;if((Ys==null?void 0:Ys.name)==="chainChanged"||(Ys==null?void 0:Ys.name)==="accountsChanged"){const Zs=typeof((Xs=Ys.data)==null?void 0:Xs.chainId)=="string"?Ys.data.chainId:void 0;this.notifyChange({type:"chainChanged",chainId:Zs})}}),this.client.onSessionDelete(()=>{this.notifyChange({type:"disconnect"})}),this.client.onPairingExpire(async()=>{if(!this.isRegeneratingUri){this.isRegeneratingUri=!0;try{await this.client.cancelPairing();const Ys=this.buildNamespaces(),Xs=await this.client.pair(Ys);this.uri=Xs,this.notifyChange({type:"proposalExpired"})}catch(Ys){console.error("failed to regenerate URI:",Ys)}finally{this.isRegeneratingUri=!1}}})}async init(){this.initAbortController=new AbortController;try{if(this.ethereumNamespaces.length===0&&this.solanaNamespaces.length===0)throw new Error("At least one namespace must be enabled for WalletConnect");const zs=this.client.getSession();if(hasConnectedAccounts(zs)){this.isInitialized=!0,this.notifyChange({type:"initialized"});return}const Ws=this.buildNamespaces();await this.client.pair(Ws).then(qs=>{this.uri=qs,this.isInitialized=!0,this.notifyChange({type:"initialized"})})}catch(zs){throw this.notifyChange({type:"failed",error:zs}),zs}finally{this.initAbortController=void 0}}abortInit(zs){this.initAbortController&&(this.initAbortController.abort(),this.notifyChange({type:"failed",error:zs||new Error("WalletConnect initialization was aborted")}))}async getProviders(){const zs=this.client.getSession(),Ws={name:"WalletConnect",icon:"https://raw.githubusercontent.com/WalletConnect/walletconnect-assets/refs/heads/master/Icon/Blue%20(Default)/Icon.svg"},qs=[];return this.ethereumNamespaces.length>0&&qs.push(await this.buildEthProvider(zs,Ws)),this.solanaNamespaces.length>0&&qs.push(this.buildSolProvider(zs,Ws)),qs}async connectWalletAccount(zs){this.ensureReady&&await this.ensureReady();const Ws=await this.client.approve();let qs;switch(zs.chainInfo.namespace){case Chain.Ethereum:qs=getConnectedEthereum(Ws);break;case Chain.Solana:qs=getConnectedSolana(Ws);break;default:throw new Error(`Unsupported namespace: ${zs.chainInfo}`)}if(!qs)throw new Error("No connected account found");return qs}async switchChain(zs,Ws){if(this.ensureReady&&await this.ensureReady(),zs.chainInfo.namespace!==Chain.Ethereum)throw new Error("Only EVM wallets support chain switching");if(!this.client.getSession())throw new Error("No active WalletConnect session");const Ys=typeof Ws=="string"?Ws:Ws.id,Xs=`eip155:${Number.parseInt(Ys,16)}`;if(!this.ethereumNamespaces.includes(Xs))throw new Error(`Unsupported chain ${Xs}. Supported chains: ${this.ethereumNamespaces.join(", ")}. If youd like to support ${Xs}, add it to the \`ethereumNamespaces\` in your WalletConnect config.`);try{await this.client.request(this.ethChain,"wallet_switchEthereumChain",[{chainId:Ys}]),this.ethChain=Xs}catch(Zs){throw new Error(`Failed to switch chain: ${Zs.message||Zs.toString()}`)}}async sign(zs,Ws,qs){var Xs,Zs;const Ys=await this.ensureSession();if(hasConnectedAccounts(Ys)||await this.connectWalletAccount(Ws),Ws.chainInfo.namespace===Chain.Ethereum){const yl=getConnectedEthereum(Ys);if(!yl)throw new Error("no Ethereum account to sign with");switch(qs){case SignIntent.SignMessage:return await this.client.request(this.ethChain,"personal_sign",[zs,yl]);case SignIntent.SignAndSendTransaction:const Js=Ws.connectedAddresses[0];if(!Js)throw new Error("no connected address");const $l=Transaction.from(zs),El={from:Js,to:(Xs=$l.to)==null?void 0:Xs.toString(),value:toHex($l.value),gas:toHex($l.gasLimit),nonce:toHex($l.nonce),chainId:toHex($l.chainId),data:((Zs=$l.data)==null?void 0:Zs.toString())??"0x"},wl=$l.type??0;let _l;if(wl===void 0||wl===0||wl===1){if($l.gasPrice==null)throw new Error("Legacy or EIP-2930 transaction missing gasPrice");_l={...El,gasPrice:toHex($l.gasPrice)}}else{if($l.maxFeePerGas==null||$l.maxPriorityFeePerGas==null)throw new Error("EIP-1559-style transaction missing maxFeePerGas or maxPriorityFeePerGas");_l={...El,maxFeePerGas:toHex($l.maxFeePerGas),maxPriorityFeePerGas:toHex($l.maxPriorityFeePerGas)}}return await this.client.request(this.ethChain,"eth_sendTransaction",[_l]);default:throw new Error(`Unsupported Ethereum intent: ${qs}`)}}if(Ws.chainInfo.namespace===Chain.Solana){const yl=getConnectedSolana(Ys);if(!yl)throw new Error("no Solana account to sign with");switch(qs){case SignIntent.SignMessage:{const Js=new TextEncoder().encode(zs),$l=bs58.encode(Js),{signature:El}=await this.client.request(this.solChain,"solana_signMessage",{pubkey:yl,message:$l});return uint8ArrayToHexString(bs58.decode(El))}case SignIntent.SignTransaction:{const Js=uint8ArrayFromHexString(zs),$l=stringToBase64urlString(String.fromCharCode(...Js)),{signature:El}=await this.client.request(this.solChain,"solana_signTransaction",{feePayer:yl,transaction:$l});return uint8ArrayToHexString(bs58.decode(El))}case SignIntent.SignAndSendTransaction:{const Js=uint8ArrayFromHexString(zs),$l=stringToBase64urlString(String.fromCharCode(...Js)),El=await this.client.request(this.solChain,"solana_sendTransaction",{feePayer:yl,transaction:$l,options:{skipPreflight:!1}});return uint8ArrayToHexString(bs58.decode(El))}default:throw new Error(`Unsupported Solana intent: ${qs}`)}}throw new Error("No supported namespace available for signing")}async getPublicKey(zs){this.ensureReady&&await this.ensureReady();const Ws=this.client.getSession();if(zs.chainInfo.namespace===Chain.Ethereum){const qs=getConnectedEthereum(Ws);if(!qs)throw new Error("No Ethereum account to retrieve public key");const Ys=await this.client.request(this.ethChain,"personal_sign",["GET_PUBLIC_KEY",qs]),Xs=await recoverPublicKey({hash:hashMessage("GET_PUBLIC_KEY"),signature:Ys}),Zs=Xs.startsWith("0x")?Xs.slice(2):Xs,yl=uint8ArrayFromHexString(Zs),Js=compressRawPublicKey(yl);return uint8ArrayToHexString(Js)}if(zs.chainInfo.namespace===Chain.Solana){const qs=getConnectedSolana(Ws);if(!qs)throw new Error("No Solana account to retrieve public key");const Ys=bs58.decode(qs);return uint8ArrayToHexString(Ys)}throw new Error("No supported namespace for public key retrieval")}async disconnectWalletAccount(zs){await this.client.disconnect();const Ws=this.buildNamespaces();await this.client.pair(Ws).then(qs=>{this.uri=qs}),this.notifyChange({type:"disconnect"})}makeProvider(zs){return{request:({method:Ws,params:qs})=>this.client.request(zs,Ws,qs),features:{"standard:events":{on:(Ws,qs)=>Ws!=="change"?()=>{}:this.addChangeListener(qs)}}}}async ensureSession(){let zs=this.client.getSession();if(!zs&&(await this.client.approve(),zs=this.client.getSession(),!zs))throw new Error("WalletConnect: approval failed");return zs}async buildEthProvider(zs,Ws){const qs=getConnectedEthereum(zs),Ys=this.ethChain.split(":")[1]??"1",Zs=`0x${Number(Ys).toString(16)}`;return{interfaceType:WalletInterfaceType.WalletConnect,chainInfo:{namespace:Chain.Ethereum,chainId:Zs},info:Ws,provider:this.makeProvider(this.ethChain),connectedAddresses:qs?[qs]:[],...this.uri&&{uri:this.uri},isLoading:!this.isInitialized}}buildSolProvider(zs,Ws){var Xs,Zs;const Ys=(((Zs=(Xs=zs==null?void 0:zs.namespaces.solana)==null?void 0:Xs.accounts)==null?void 0:Zs[0])??"").split(":")[2];return{interfaceType:WalletInterfaceType.WalletConnect,chainInfo:{namespace:Chain.Solana},info:Ws,provider:this.makeProvider(this.solChain),connectedAddresses:Ys?[Ys]:[],...this.uri&&{uri:this.uri},isLoading:!this.isInitialized}}buildNamespaces(){const zs={};return this.ethereumNamespaces.length>0&&(zs.eip155={methods:["personal_sign","eth_sendTransaction","eth_chainId","wallet_switchEthereumChain","wallet_addEthereumChain"],chains:this.ethereumNamespaces,events:["accountsChanged","chainChanged"]}),this.solanaNamespaces.length>0&&(zs.solana={methods:["solana_signMessage","solana_signTransaction","solana_sendTransaction"],chains:this.solanaNamespaces,events:["accountsChanged","chainChanged"]}),zs}}function hasConnectedAccounts(at){return!!at&&Object.values(at.namespaces).some(zs=>{var Ws;return((Ws=zs.accounts)==null?void 0:Ws.length)>0})}function getConnectedEthereum(at){var Ws,qs;const zs=(qs=(Ws=at==null?void 0:at.namespaces.eip155)==null?void 0:Ws.accounts)==null?void 0:qs[0];return zs?zs.split(":")[2]:void 0}function getConnectedSolana(at){var Ws,qs;const zs=(qs=(Ws=at==null?void 0:at.namespaces.solana)==null?void 0:Ws.accounts)==null?void 0:qs[0];return zs?zs.split(":")[2]:void 0}class MobileWalletManager{constructor(zs){var yl,Js,$l,El;this.initializers=[],this.wallets={},this.chainToInterfaces={},this.addChainInterface=(wl,_l)=>{this.chainToInterfaces[wl]||(this.chainToInterfaces[wl]=[]),this.chainToInterfaces[wl].push(_l)};const Ws=((yl=zs.chains.ethereum)==null?void 0:yl.walletConnectNamespaces)??[],qs=((Js=zs.chains.solana)==null?void 0:Js.walletConnectNamespaces)??[],Ys=Ws.length>0,Xs=qs.length>0,Zs=Ys||Xs;if(zs.walletConnect&&Zs){this.wcClient=new WalletConnectClient;const wl=new WalletConnectWallet(this.wcClient,void 0,{ethereumNamespaces:Ws,solanaNamespaces:qs});this.wallets[WalletInterfaceType.WalletConnect]=wl,this.initializers.push(()=>wl.init()),Ys&&this.addChainInterface(Chain.Ethereum,WalletInterfaceType.WalletConnect),Xs&&this.addChainInterface(Chain.Solana,WalletInterfaceType.WalletConnect)}($l=zs.features)!=null&&$l.auth&&(this.stamper=new CrossPlatformWalletStamper(this.wallets)),(El=zs.features)!=null&&El.connecting&&(this.connector=new CrossPlatformWalletConnector(this.wallets))}async init(zs){this.wcClient&&await this.wcClient.init(zs.walletConnect),await Promise.all(this.initializers.map(Ws=>Ws()))}async getProviders(zs){if(zs){const qs=this.chainToInterfaces[zs];if(!qs||qs.length===0)throw new Error(`No wallet supports chain: ${zs}`);const Ys=qs.map(Zs=>this.wallets[Zs]).filter(Boolean);return(await Promise.all(Ys.map(Zs=>Zs.getProviders()))).flat().filter(Zs=>Zs.chainInfo.namespace===zs)}return(await Promise.all(Object.values(this.wallets).map(qs=>qs.getProviders()))).flat()}}const manager$1=Object.freeze(Object.defineProperty({__proto__:null,MobileWalletManager},Symbol.toStringTag,{value:"Module"}));class BaseEthereumWallet{constructor(){this.interfaceType=WalletInterfaceType.Ethereum,this.getPublicKey=async zs=>{const Ws="GET_PUBLIC_KEY",qs=await this.sign(Ws,zs,SignIntent.SignMessage);return getCompressedPublicKey(qs,Ws)},this.getProviders=async()=>{const zs=[],Ws=new Set,qs=[],Ys=Xs=>{const{provider:Zs,info:yl}=Xs.detail;if(yl.rdns&&Ws.has(yl.rdns))return;yl.rdns&&Ws.add(yl.rdns);const Js=(async()=>{var wl;let $l=[],El="0x1";try{const _l=await((wl=Zs.request)==null?void 0:wl.call(Zs,{method:"eth_accounts"}));Array.isArray(_l)&&($l=_l),$l.length>0&&(El=await Zs.request({method:"eth_chainId"}))}catch{}zs.push({interfaceType:WalletInterfaceType.Ethereum,chainInfo:{namespace:Chain.Ethereum,chainId:El},info:yl,provider:Zs,connectedAddresses:$l})})();qs.push(Js)};return window.addEventListener("eip6963:announceProvider",Ys),window.dispatchEvent(new Event("eip6963:requestProvider")),window.removeEventListener("eip6963:announceProvider",Ys),await Promise.all(qs),zs},this.connectWalletAccount=async zs=>{const Ws=asEip1193(zs);return await getAccount(Ws)},this.disconnectWalletAccount=async zs=>{await asEip1193(zs).request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}}async switchChain(zs,Ws){if(zs.chainInfo.namespace!==Chain.Ethereum)throw new Error("Only EVM wallets can switch chains");const qs=asEip1193(zs),Ys=typeof Ws=="string"?Ws:Ws.id;try{await qs.request({method:"wallet_switchEthereumChain",params:[{chainId:Ys}]})}catch(Xs){if(Xs.code!==4902)throw Xs;if(typeof Ws=="string")throw new Error(`Chain ${Ys} not recognized. If you want to add it, call switchChain with a SwitchableChain object.`);const{name:Zs,rpcUrls:yl,blockExplorerUrls:Js,iconUrls:$l,nativeCurrency:El}=Ws;await qs.request({method:"wallet_addEthereumChain",params:[{chainId:Ys,chainName:Zs,rpcUrls:yl,blockExplorerUrls:Js,iconUrls:$l,nativeCurrency:El}]}),await qs.request({method:"wallet_switchEthereumChain",params:[{chainId:Ys}]})}}}class EthereumWallet extends BaseEthereumWallet{constructor(){super(...arguments),this.sign=async(zs,Ws,qs)=>{var Zs,yl;const Ys=asEip1193(Ws),Xs=await getAccount(Ys);switch(qs){case SignIntent.SignMessage:return await Ys.request({method:"personal_sign",params:[zs,Xs]});case SignIntent.SignAndSendTransaction:{const Js=Transaction.from(zs),$l={from:Xs,to:(Zs=Js.to)==null?void 0:Zs.toString(),value:toHex(Js.value),gas:toHex(Js.gasLimit),nonce:toHex(Js.nonce),chainId:toHex(Js.chainId),data:((yl=Js.data)==null?void 0:yl.toString())??"0x"},El=Js.type??0;let wl;if(El===void 0||El===0||El===1){if(Js.gasPrice==null)throw new Error("Legacy or EIP-2930 transaction missing gasPrice");wl={...$l,gasPrice:toHex(Js.gasPrice)}}else{if(Js.maxFeePerGas==null||Js.maxPriorityFeePerGas==null)throw new Error("EIP-1559-style transaction missing maxFeePerGas or maxPriorityFeePerGas");wl={...$l,maxFeePerGas:toHex(Js.maxFeePerGas),maxPriorityFeePerGas:toHex(Js.maxPriorityFeePerGas)}}return await Ys.request({method:"eth_sendTransaction",params:[wl]})}default:throw new Error(`Unsupported sign intent: ${qs}`)}}}}const getAccount=async at=>{const[zs]=await at.request({method:"eth_requestAccounts"});if(!zs)throw new Error("No connected account found");return zs},getCompressedPublicKey=async(at,zs)=>{const Ws=await recoverPublicKey({hash:hashMessage(zs),signature:at}),qs=Ws.startsWith("0x")?Ws.slice(2):Ws,Ys=uint8ArrayFromHexString(qs),Xs=compressRawPublicKey(Ys);return uint8ArrayToHexString(Xs)},asEip1193=at=>{if(at.provider&&typeof at.provider.request=="function")return at.provider;throw new Error("Expected an EIP-1193 provider (Ethereum wallet)")};var __classPrivateFieldGet=function(at,zs,Ws,qs){if(Ws==="a"&&!qs)throw new TypeError("Private accessor was defined without a getter");if(typeof zs=="function"?at!==zs||!qs:!zs.has(at))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Ws==="m"?qs:Ws==="a"?qs.call(at):qs?qs.value:zs.get(at)},__classPrivateFieldSet=function(at,zs,Ws,qs,Ys){if(qs==="m")throw new TypeError("Private method is not writable");if(qs==="a"&&!Ys)throw new TypeError("Private accessor was defined without a setter");if(typeof zs=="function"?at!==zs||!Ys:!zs.has(at))throw new TypeError("Cannot write private member to an object whose class did not declare it");return qs==="a"?Ys.call(at,Ws):Ys?Ys.value=Ws:zs.set(at,Ws),Ws},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(at){cachedWalletsArray=void 0,registeredWalletsSet.add(at)}function removeRegisteredWallet(at){cachedWalletsArray=void 0,registeredWalletsSet.delete(at)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get,on}),typeof window>"u"))return wallets;const at=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:zs})=>zs(at))}catch(zs){console.error(`wallet-standard:register-wallet event listener could not be added
`,zs)}try{window.dispatchEvent(new AppReadyEvent(at))}catch(zs){console.error(`wallet-standard:app-ready event could not be dispatched
`,zs)}return wallets}function register(...at){var zs;return at=at.filter(Ws=>!registeredWalletsSet.has(Ws)),at.length?(at.forEach(Ws=>addRegisteredWallet(Ws)),(zs=listeners.register)==null||zs.forEach(Ws=>guard(()=>Ws(...at))),function(){var qs;at.forEach(Ys=>removeRegisteredWallet(Ys)),(qs=listeners.unregister)==null||qs.forEach(Ys=>guard(()=>Ys(...at)))}):()=>{}}let cachedWalletsArray;function get(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on(at,zs){var Ws;return(Ws=listeners[at])!=null&&Ws.push(zs)||(listeners[at]=[zs]),function(){var Ys;listeners[at]=(Ys=listeners[at])==null?void 0:Ys.filter(Xs=>zs!==Xs)}}function guard(at){try{at()}catch(zs){console.error(zs)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(zs){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet(this,_AppReadyEvent_detail,zs,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;class BaseSolanaWallet{constructor(){this.interfaceType=WalletInterfaceType.Solana,this.getPublicKey=async zs=>{const Ws=asSolana(zs);await connectAccount(Ws);const qs=Ws.accounts[0];if(!qs)throw new Error("No account in wallet");const Ys=bs58.decode(qs.address);return uint8ArrayToHexString(Ys)},this.getProviders=async()=>{const zs=[],qs=getWallets().get().filter(Ys=>Ys.chains.some(Xs=>Xs.startsWith("solana:")));return await Promise.all(qs.map(async Ys=>{var Zs;let Xs=[];try{Xs=((Zs=Ys.accounts)==null?void 0:Zs.map(yl=>yl.address))??[]}catch{Xs=[]}zs.push({interfaceType:WalletInterfaceType.Solana,chainInfo:{namespace:Chain.Solana},info:{name:Ys.name,icon:Ys.icon},provider:Ys,connectedAddresses:Xs})})),zs},this.connectWalletAccount=async zs=>{const Ws=asSolana(zs);return await connectAccount(Ws)},this.disconnectWalletAccount=async zs=>{const qs=asSolana(zs).features["standard:disconnect"];if(qs)await qs.disconnect();else throw new Error("Wallet does not support standard:disconnect")}}}class SolanaWallet extends BaseSolanaWallet{constructor(){super(...arguments),this.sign=async(zs,Ws,qs)=>{var Zs,yl;const Ys=asSolana(Ws);await connectAccount(Ys);const Xs=Ys.accounts[0];if(!Xs)throw new Error("No account available");switch(qs){case SignIntent.SignMessage:{const Js=Ys.features["solana:signMessage"];if(!Js)throw new Error("Provider does not support solana:signMessage");const $l=new TextEncoder().encode(zs),El=await Js.signMessage({account:Xs,message:$l});if(!(El!=null&&El.length)||!((Zs=El[0])!=null&&Zs.signature))throw new Error("No signature returned from signMessage");return uint8ArrayToHexString(El[0].signature)}case SignIntent.SignTransaction:{const Js=Ys.features["solana:signTransaction"];if(!Js)throw new Error("Provider does not support solana:signTransaction");const $l=uint8ArrayFromHexString(zs),El=await Js.signTransaction({account:Xs,transaction:$l});if(!(El!=null&&El.length)||!((yl=El[0])!=null&&yl.signedTransaction))throw new Error("No signature returned from signTransaction");return uint8ArrayToHexString(El[0].signedTransaction)}default:throw new Error(`Unsupported sign intent: ${qs}`)}}}}const asSolana=at=>{if(at.provider&&"features"in at.provider&&"solana:signMessage"in at.provider.features)return at.provider;throw new Error("Expected a Wallet-Standard provider (Solana wallet)")},connectAccount=async at=>{if(at.accounts.length)return at.accounts[0].address;const zs=at.features["standard:connect"];if(zs)return await zs.connect(),at.accounts[0].address;throw new Error("Wallet is not connected and does not implement standard:connect")};class WebWalletManager{constructor(zs){var $l,El,wl,_l,Sl,Tl;this.initializers=[],this.wallets={},this.chainToInterfaces={},this.addChainInterface=(Il,Al)=>{this.chainToInterfaces[Il]||(this.chainToInterfaces[Il]=[]),this.chainToInterfaces[Il].push(Al)};const Ws=(($l=zs.chains.ethereum)==null?void 0:$l.native)??!1,qs=((El=zs.chains.solana)==null?void 0:El.native)??!1,Ys=((wl=zs.chains.ethereum)==null?void 0:wl.walletConnectNamespaces)??[],Xs=((_l=zs.chains.solana)==null?void 0:_l.walletConnectNamespaces)??[],Zs=Ys.length>0,yl=Xs.length>0,Js=Zs||yl;if(Ws&&(this.wallets[WalletInterfaceType.Ethereum]=new EthereumWallet,this.addChainInterface(Chain.Ethereum,WalletInterfaceType.Ethereum)),qs&&(this.wallets[WalletInterfaceType.Solana]=new SolanaWallet,this.addChainInterface(Chain.Solana,WalletInterfaceType.Solana)),zs.walletConnect&&Js){this.wcClient=new WalletConnectClient;const Il=new WalletConnectWallet(this.wcClient,()=>this.ensureWalletConnectReady(),{ethereumNamespaces:Ys,solanaNamespaces:Xs});this.wallets[WalletInterfaceType.WalletConnect]=Il,this.initializers.push(()=>withTimeout(Il.init(),15e3,"WalletConnect wallet").catch(Al=>{Il.abortInit(Al),this.removeWalletInterface(WalletInterfaceType.WalletConnect)})),Zs&&this.addChainInterface(Chain.Ethereum,WalletInterfaceType.WalletConnect),yl&&this.addChainInterface(Chain.Solana,WalletInterfaceType.WalletConnect)}(Sl=zs.features)!=null&&Sl.auth&&(this.stamper=new CrossPlatformWalletStamper(this.wallets)),(Tl=zs.features)!=null&&Tl.connecting&&(this.connector=new CrossPlatformWalletConnector(this.wallets))}async init(zs){this.wcClient&&(this.wcInitPromise=(async()=>{try{await this.wcClient.init(zs.walletConnect),await Promise.all(this.initializers.map(Ws=>Ws()))}catch(Ws){console.error("Failed to initialize WalletConnect",Ws),this.removeWalletInterface(WalletInterfaceType.WalletConnect)}})())}async ensureWalletConnectReady(){this.wcInitPromise&&await this.wcInitPromise}async getProviders(zs){if(zs){const qs=this.chainToInterfaces[zs];if(!qs||qs.length===0)throw new Error(`No wallet supports chain: ${zs}`);const Ys=qs.map(Zs=>this.wallets[Zs]).filter(Boolean);return(await Promise.all(Ys.map(Zs=>Zs.getProviders()))).flat().filter(Zs=>Zs.chainInfo.namespace===zs)}return(await Promise.all(Object.values(this.wallets).map(qs=>qs.getProviders()))).flat()}removeWalletInterface(zs){delete this.wallets[zs];for(const Ws of Object.keys(this.chainToInterfaces)){const qs=(this.chainToInterfaces[Ws]??[]).filter(Ys=>Ys!==zs);qs.length>0?this.chainToInterfaces[Ws]=qs:delete this.chainToInterfaces[Ws]}}}const manager=Object.freeze(Object.defineProperty({__proto__:null,WebWalletManager},Symbol.toStringTag,{value:"Module"}));function getLottiePlayer(){return _getLottiePlayer.apply(this,arguments)}function _getLottiePlayer(){return _getLottiePlayer=_asyncToGenerator(_regenerator().m(function at(){var zs;return _regenerator().w(function(Ws){for(;;)switch(Ws.n){case 0:return Ws.n=1,__vitePreload(()=>Promise.resolve().then(()=>lottieReact_esm),void 0);case 1:return zs=Ws.v,Ws.a(2,zs.Player)}},at)})),_getLottiePlayer.apply(this,arguments)}const Dynamic=Object.freeze(Object.defineProperty({__proto__:null,getLottiePlayer},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics=function(at,zs){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ws,qs){Ws.__proto__=qs}||function(Ws,qs){for(var Ys in qs)Object.prototype.hasOwnProperty.call(qs,Ys)&&(Ws[Ys]=qs[Ys])})(at,zs)};function __extends(at,zs){if(typeof zs!="function"&&zs!==null)throw new TypeError("Class extends value "+String(zs)+" is not a constructor or null");function Ws(){this.constructor=at}extendStatics(at,zs),at.prototype=zs===null?Object.create(zs):(Ws.prototype=zs.prototype,new Ws)}var __assign=function(){return(__assign=Object.assign||function(at){for(var zs,Ws=1,qs=arguments.length;Ws<qs;Ws++)for(var Ys in zs=arguments[Ws])Object.prototype.hasOwnProperty.call(zs,Ys)&&(at[Ys]=zs[Ys]);return at}).apply(this,arguments)};function __awaiter(at,zs,Ws,qs){return new(Ws||(Ws=Promise))(function(Ys,Xs){function Zs($l){try{Js(qs.next($l))}catch(El){Xs(El)}}function yl($l){try{Js(qs.throw($l))}catch(El){Xs(El)}}function Js($l){var El;$l.done?Ys($l.value):(El=$l.value,El instanceof Ws?El:new Ws(function(wl){wl(El)})).then(Zs,yl)}Js((qs=qs.apply(at,[])).next())})}function __generator(at,zs){var Ws,qs,Ys,Xs,Zs={label:0,sent:function(){if(1&Ys[0])throw Ys[1];return Ys[1]},trys:[],ops:[]};return Xs={next:yl(0),throw:yl(1),return:yl(2)},typeof Symbol=="function"&&(Xs[Symbol.iterator]=function(){return this}),Xs;function yl(Js){return function($l){return function(El){if(Ws)throw new TypeError("Generator is already executing.");for(;Zs;)try{if(Ws=1,qs&&(Ys=2&El[0]?qs.return:El[0]?qs.throw||((Ys=qs.return)&&Ys.call(qs),0):qs.next)&&!(Ys=Ys.call(qs,El[1])).done)return Ys;switch(qs=0,Ys&&(El=[2&El[0],Ys.value]),El[0]){case 0:case 1:Ys=El;break;case 4:return Zs.label++,{value:El[1],done:!1};case 5:Zs.label++,qs=El[1],El=[0];continue;case 7:El=Zs.ops.pop(),Zs.trys.pop();continue;default:if(Ys=Zs.trys,!((Ys=Ys.length>0&&Ys[Ys.length-1])||El[0]!==6&&El[0]!==2)){Zs=0;continue}if(El[0]===3&&(!Ys||El[1]>Ys[0]&&El[1]<Ys[3])){Zs.label=El[1];break}if(El[0]===6&&Zs.label<Ys[1]){Zs.label=Ys[1],Ys=El;break}if(Ys&&Zs.label<Ys[2]){Zs.label=Ys[2],Zs.ops.push(El);break}Ys[2]&&Zs.ops.pop(),Zs.trys.pop();continue}El=zs.call(at,Zs)}catch(wl){El=[6,wl],qs=0}finally{Ws=Ys=0}if(5&El[0])throw El[1];return{value:El[0]?El[1]:void 0,done:!0}}([Js,$l])}}}function createCommonjsModule(at,zs){return at(zs={exports:{}},zs.exports),zs.exports}var lottie=createCommonjsModule(function(module,exports$1){typeof navigator<"u"&&function(at,zs){module.exports=zs()}(0,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(at){_useWebWorker=!!at},getWebWorker=function(){return _useWebWorker},setLocationHref=function(at){locationHref=at},getLocationHref=function(){return locationHref};function createTag(at){return document.createElement(at)}function extendPrototype(at,zs){var Ws,qs,Ys=at.length;for(Ws=0;Ws<Ys;Ws+=1)for(var Xs in qs=at[Ws].prototype)Object.prototype.hasOwnProperty.call(qs,Xs)&&(zs.prototype[Xs]=qs[Xs])}function getDescriptor(at,zs){return Object.getOwnPropertyDescriptor(at,zs)}function createProxyFunction(at){function zs(){}return zs.prototype=at,zs}var audioControllerFactory=function(){function at(zs){this.audios=[],this.audioFactory=zs,this._volume=1,this._isMuted=!1}return at.prototype={addAudio:function(zs){this.audios.push(zs)},pause:function(){var zs,Ws=this.audios.length;for(zs=0;zs<Ws;zs+=1)this.audios[zs].pause()},resume:function(){var zs,Ws=this.audios.length;for(zs=0;zs<Ws;zs+=1)this.audios[zs].resume()},setRate:function(zs){var Ws,qs=this.audios.length;for(Ws=0;Ws<qs;Ws+=1)this.audios[Ws].setRate(zs)},createAudio:function(zs){return this.audioFactory?this.audioFactory(zs):window.Howl?new window.Howl({src:[zs]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(zs){this.audioFactory=zs},setVolume:function(zs){this._volume=zs,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var zs,Ws=this.audios.length;for(zs=0;zs<Ws;zs+=1)this.audios[zs].volume(this._volume*(this._isMuted?0:1))}},function(){return new at}}(),createTypedArray=function(){function at(zs,Ws){var qs,Ys=0,Xs=[];switch(zs){case"int16":case"uint8c":qs=1;break;default:qs=1.1}for(Ys=0;Ys<Ws;Ys+=1)Xs.push(qs);return Xs}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(zs,Ws){return zs==="float32"?new Float32Array(Ws):zs==="int16"?new Int16Array(Ws):zs==="uint8c"?new Uint8ClampedArray(Ws):at(zs,Ws)}:at}();function createSizedArray(at){return Array.apply(null,{length:at})}function _typeof$6(at){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var at,zs=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Ws=zs.length;for(at=0;at<Ws;at+=1)BMMath[zs[at]]=Math[zs[at]]})(),BMMath.random=Math.random,BMMath.abs=function(at){if(_typeof$6(at)==="object"&&at.length){var zs,Ws=createSizedArray(at.length),qs=at.length;for(zs=0;zs<qs;zs+=1)Ws[zs]=Math.abs(at[zs]);return Ws}return Math.abs(at)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(at){at.style.position="absolute",at.style.top=0,at.style.left=0,at.style.display="block",at.style.transformOrigin="0 0",at.style.webkitTransformOrigin="0 0",at.style.backfaceVisibility="visible",at.style.webkitBackfaceVisibility="visible",at.style.transformStyle="preserve-3d",at.style.webkitTransformStyle="preserve-3d",at.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(at,zs,Ws,qs){this.type=at,this.currentTime=zs,this.totalTime=Ws,this.direction=qs<0?-1:1}function BMCompleteEvent(at,zs){this.type=at,this.direction=zs<0?-1:1}function BMCompleteLoopEvent(at,zs,Ws,qs){this.type=at,this.currentLoop=Ws,this.totalLoops=zs,this.direction=qs<0?-1:1}function BMSegmentStartEvent(at,zs,Ws){this.type=at,this.firstFrame=zs,this.totalFrames=Ws}function BMDestroyEvent(at,zs){this.type=at,this.target=zs}function BMRenderFrameErrorEvent(at,zs){this.type="renderFrameError",this.nativeError=at,this.currentTime=zs}function BMConfigErrorEvent(at){this.type="configError",this.nativeError=at}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(at,zs,Ws){var qs,Ys,Xs,Zs,yl,Js,$l,El;switch(Js=Ws*(1-zs),$l=Ws*(1-(yl=6*at-(Zs=Math.floor(6*at)))*zs),El=Ws*(1-(1-yl)*zs),Zs%6){case 0:qs=Ws,Ys=El,Xs=Js;break;case 1:qs=$l,Ys=Ws,Xs=Js;break;case 2:qs=Js,Ys=Ws,Xs=El;break;case 3:qs=Js,Ys=$l,Xs=Ws;break;case 4:qs=El,Ys=Js,Xs=Ws;break;case 5:qs=Ws,Ys=Js,Xs=$l}return[qs,Ys,Xs]}function RGBtoHSV(at,zs,Ws){var qs,Ys=Math.max(at,zs,Ws),Xs=Math.min(at,zs,Ws),Zs=Ys-Xs,yl=Ys===0?0:Zs/Ys,Js=Ys/255;switch(Ys){case Xs:qs=0;break;case at:qs=zs-Ws+Zs*(zs<Ws?6:0),qs/=6*Zs;break;case zs:qs=Ws-at+2*Zs,qs/=6*Zs;break;case Ws:qs=at-zs+4*Zs,qs/=6*Zs}return[qs,yl,Js]}function addSaturationToRGB(at,zs){var Ws=RGBtoHSV(255*at[0],255*at[1],255*at[2]);return Ws[1]+=zs,Ws[1]>1?Ws[1]=1:Ws[1]<=0&&(Ws[1]=0),HSVtoRGB(Ws[0],Ws[1],Ws[2])}function addBrightnessToRGB(at,zs){var Ws=RGBtoHSV(255*at[0],255*at[1],255*at[2]);return Ws[2]+=zs,Ws[2]>1?Ws[2]=1:Ws[2]<0&&(Ws[2]=0),HSVtoRGB(Ws[0],Ws[1],Ws[2])}function addHueToRGB(at,zs){var Ws=RGBtoHSV(255*at[0],255*at[1],255*at[2]);return Ws[0]+=zs/360,Ws[0]>1?Ws[0]-=1:Ws[0]<0&&(Ws[0]+=1),HSVtoRGB(Ws[0],Ws[1],Ws[2])}var rgbToHex=function(){var at,zs,Ws=[];for(at=0;at<256;at+=1)zs=at.toString(16),Ws[at]=zs.length===1?"0"+zs:zs;return function(qs,Ys,Xs){return qs<0&&(qs=0),Ys<0&&(Ys=0),Xs<0&&(Xs=0),"#"+Ws[qs]+Ws[Ys]+Ws[Xs]}}(),setSubframeEnabled=function(at){subframeEnabled=!!at},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(at){expressionsPlugin=at},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(at){expressionsInterfaces=at},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(at){defaultCurveSegments=at},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(at){idPrefix$1=at};function createNS(at){return document.createElementNS(svgNS,at)}function _typeof$5(at){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}var dataManager=function(){var at,zs,Ws=1,qs=[],Ys={onmessage:function(){},postMessage:function(Js){at({data:Js})}},Xs={postMessage:function(Js){Ys.onmessage({data:Js})}};function Zs(){zs||((zs=function(Js){if(window.Worker&&window.Blob&&getWebWorker()){var $l=new Blob(["var _workerSelf = self; self.onmessage = ",Js.toString()],{type:"text/javascript"}),El=URL.createObjectURL($l);return new Worker(El)}return at=Js,Ys}(function(Js){if(Xs.dataManager||(Xs.dataManager=function(){function El(Ll,Bl){var Wl,Yl,Kl,Xl,Ul,Vl,Nl=Ll.length;for(Yl=0;Yl<Nl;Yl+=1)if("ks"in(Wl=Ll[Yl])&&!Wl.completed){if(Wl.completed=!0,Wl.hasMask){var Dl=Wl.masksProperties;for(Xl=Dl.length,Kl=0;Kl<Xl;Kl+=1)if(Dl[Kl].pt.k.i)Sl(Dl[Kl].pt.k);else for(Vl=Dl[Kl].pt.k.length,Ul=0;Ul<Vl;Ul+=1)Dl[Kl].pt.k[Ul].s&&Sl(Dl[Kl].pt.k[Ul].s[0]),Dl[Kl].pt.k[Ul].e&&Sl(Dl[Kl].pt.k[Ul].e[0])}Wl.ty===0?(Wl.layers=wl(Wl.refId,Bl),El(Wl.layers,Bl)):Wl.ty===4?_l(Wl.shapes):Wl.ty===5&&Ol(Wl)}}function wl(Ll,Bl){var Wl=function(Yl,Kl){for(var Xl=0,Ul=Kl.length;Xl<Ul;){if(Kl[Xl].id===Yl)return Kl[Xl];Xl+=1}return null}(Ll,Bl);return Wl?Wl.layers.__used?JSON.parse(JSON.stringify(Wl.layers)):(Wl.layers.__used=!0,Wl.layers):null}function _l(Ll){var Bl,Wl,Yl;for(Bl=Ll.length-1;Bl>=0;Bl-=1)if(Ll[Bl].ty==="sh")if(Ll[Bl].ks.k.i)Sl(Ll[Bl].ks.k);else for(Yl=Ll[Bl].ks.k.length,Wl=0;Wl<Yl;Wl+=1)Ll[Bl].ks.k[Wl].s&&Sl(Ll[Bl].ks.k[Wl].s[0]),Ll[Bl].ks.k[Wl].e&&Sl(Ll[Bl].ks.k[Wl].e[0]);else Ll[Bl].ty==="gr"&&_l(Ll[Bl].it)}function Sl(Ll){var Bl,Wl=Ll.i.length;for(Bl=0;Bl<Wl;Bl+=1)Ll.i[Bl][0]+=Ll.v[Bl][0],Ll.i[Bl][1]+=Ll.v[Bl][1],Ll.o[Bl][0]+=Ll.v[Bl][0],Ll.o[Bl][1]+=Ll.v[Bl][1]}function Tl(Ll,Bl){var Wl=Bl?Bl.split("."):[100,100,100];return Ll[0]>Wl[0]||!(Wl[0]>Ll[0])&&(Ll[1]>Wl[1]||!(Wl[1]>Ll[1])&&(Ll[2]>Wl[2]||!(Wl[2]>Ll[2])&&null))}var Il,Al=function(){var Ll=[4,4,14];function Bl(Wl){var Yl,Kl,Xl,Ul=Wl.length;for(Yl=0;Yl<Ul;Yl+=1)Wl[Yl].ty===5&&(Kl=Wl[Yl],Xl=void 0,Xl=Kl.t.d,Kl.t.d={k:[{s:Xl,t:0}]})}return function(Wl){if(Tl(Ll,Wl.v)&&(Bl(Wl.layers),Wl.assets)){var Yl,Kl=Wl.assets.length;for(Yl=0;Yl<Kl;Yl+=1)Wl.assets[Yl].layers&&Bl(Wl.assets[Yl].layers)}}}(),xl=(Il=[4,7,99],function(Ll){if(Ll.chars&&!Tl(Il,Ll.v)){var Bl,Wl=Ll.chars.length;for(Bl=0;Bl<Wl;Bl+=1){var Yl=Ll.chars[Bl];Yl.data&&Yl.data.shapes&&(_l(Yl.data.shapes),Yl.data.ip=0,Yl.data.op=99999,Yl.data.st=0,Yl.data.sr=1,Yl.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ll.chars[Bl].t||(Yl.data.shapes.push({ty:"no"}),Yl.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),Pl=function(){var Ll=[5,7,15];function Bl(Wl){var Yl,Kl,Xl,Ul=Wl.length;for(Yl=0;Yl<Ul;Yl+=1)Wl[Yl].ty===5&&(Kl=Wl[Yl],Xl=void 0,typeof(Xl=Kl.t.p).a=="number"&&(Xl.a={a:0,k:Xl.a}),typeof Xl.p=="number"&&(Xl.p={a:0,k:Xl.p}),typeof Xl.r=="number"&&(Xl.r={a:0,k:Xl.r}))}return function(Wl){if(Tl(Ll,Wl.v)&&(Bl(Wl.layers),Wl.assets)){var Yl,Kl=Wl.assets.length;for(Yl=0;Yl<Kl;Yl+=1)Wl.assets[Yl].layers&&Bl(Wl.assets[Yl].layers)}}}(),Cl=function(){var Ll=[4,1,9];function Bl(Yl){var Kl,Xl,Ul,Vl=Yl.length;for(Kl=0;Kl<Vl;Kl+=1)if(Yl[Kl].ty==="gr")Bl(Yl[Kl].it);else if(Yl[Kl].ty==="fl"||Yl[Kl].ty==="st")if(Yl[Kl].c.k&&Yl[Kl].c.k[0].i)for(Ul=Yl[Kl].c.k.length,Xl=0;Xl<Ul;Xl+=1)Yl[Kl].c.k[Xl].s&&(Yl[Kl].c.k[Xl].s[0]/=255,Yl[Kl].c.k[Xl].s[1]/=255,Yl[Kl].c.k[Xl].s[2]/=255,Yl[Kl].c.k[Xl].s[3]/=255),Yl[Kl].c.k[Xl].e&&(Yl[Kl].c.k[Xl].e[0]/=255,Yl[Kl].c.k[Xl].e[1]/=255,Yl[Kl].c.k[Xl].e[2]/=255,Yl[Kl].c.k[Xl].e[3]/=255);else Yl[Kl].c.k[0]/=255,Yl[Kl].c.k[1]/=255,Yl[Kl].c.k[2]/=255,Yl[Kl].c.k[3]/=255}function Wl(Yl){var Kl,Xl=Yl.length;for(Kl=0;Kl<Xl;Kl+=1)Yl[Kl].ty===4&&Bl(Yl[Kl].shapes)}return function(Yl){if(Tl(Ll,Yl.v)&&(Wl(Yl.layers),Yl.assets)){var Kl,Xl=Yl.assets.length;for(Kl=0;Kl<Xl;Kl+=1)Yl.assets[Kl].layers&&Wl(Yl.assets[Kl].layers)}}}(),Rl=function(){var Ll=[4,4,18];function Bl(Yl){var Kl,Xl,Ul;for(Kl=Yl.length-1;Kl>=0;Kl-=1)if(Yl[Kl].ty==="sh")if(Yl[Kl].ks.k.i)Yl[Kl].ks.k.c=Yl[Kl].closed;else for(Ul=Yl[Kl].ks.k.length,Xl=0;Xl<Ul;Xl+=1)Yl[Kl].ks.k[Xl].s&&(Yl[Kl].ks.k[Xl].s[0].c=Yl[Kl].closed),Yl[Kl].ks.k[Xl].e&&(Yl[Kl].ks.k[Xl].e[0].c=Yl[Kl].closed);else Yl[Kl].ty==="gr"&&Bl(Yl[Kl].it)}function Wl(Yl){var Kl,Xl,Ul,Vl,Nl,Dl,Gl=Yl.length;for(Xl=0;Xl<Gl;Xl+=1){if((Kl=Yl[Xl]).hasMask){var Fl=Kl.masksProperties;for(Vl=Fl.length,Ul=0;Ul<Vl;Ul+=1)if(Fl[Ul].pt.k.i)Fl[Ul].pt.k.c=Fl[Ul].cl;else for(Dl=Fl[Ul].pt.k.length,Nl=0;Nl<Dl;Nl+=1)Fl[Ul].pt.k[Nl].s&&(Fl[Ul].pt.k[Nl].s[0].c=Fl[Ul].cl),Fl[Ul].pt.k[Nl].e&&(Fl[Ul].pt.k[Nl].e[0].c=Fl[Ul].cl)}Kl.ty===4&&Bl(Kl.shapes)}}return function(Yl){if(Tl(Ll,Yl.v)&&(Wl(Yl.layers),Yl.assets)){var Kl,Xl=Yl.assets.length;for(Kl=0;Kl<Xl;Kl+=1)Yl.assets[Kl].layers&&Wl(Yl.assets[Kl].layers)}}}();function Ol(Ll){Ll.t.a.length===0&&Ll.t.p}var Ml={completeData:function(Ll){Ll.__complete||(Cl(Ll),Al(Ll),xl(Ll),Pl(Ll),Rl(Ll),El(Ll.layers,Ll.assets),function(Bl,Wl){if(Bl){var Yl=0,Kl=Bl.length;for(Yl=0;Yl<Kl;Yl+=1)Bl[Yl].t===1&&(Bl[Yl].data.layers=wl(Bl[Yl].data.refId,Wl),El(Bl[Yl].data.layers,Wl))}}(Ll.chars,Ll.assets),Ll.__complete=!0)}};return Ml.checkColors=Cl,Ml.checkChars=xl,Ml.checkPathProperties=Pl,Ml.checkShapes=Rl,Ml.completeLayers=El,Ml}()),Xs.assetLoader||(Xs.assetLoader=function(){function El(wl){var _l=wl.getResponseHeader("content-type");return _l&&wl.responseType==="json"&&_l.indexOf("json")!==-1||wl.response&&_typeof$5(wl.response)==="object"?wl.response:wl.response&&typeof wl.response=="string"?JSON.parse(wl.response):wl.responseText?JSON.parse(wl.responseText):null}return{load:function(wl,_l,Sl,Tl){var Il,Al=new XMLHttpRequest;try{Al.responseType="json"}catch{}Al.onreadystatechange=function(){if(Al.readyState===4)if(Al.status===200)Il=El(Al),Sl(Il);else try{Il=El(Al),Sl(Il)}catch(xl){Tl&&Tl(xl)}};try{Al.open(["G","E","T"].join(""),wl,!0)}catch{Al.open(["G","E","T"].join(""),_l+"/"+wl,!0)}Al.send()}}}()),Js.data.type==="loadAnimation")Xs.assetLoader.load(Js.data.path,Js.data.fullPath,function(El){Xs.dataManager.completeData(El),Xs.postMessage({id:Js.data.id,payload:El,status:"success"})},function(){Xs.postMessage({id:Js.data.id,status:"error"})});else if(Js.data.type==="complete"){var $l=Js.data.animation;Xs.dataManager.completeData($l),Xs.postMessage({id:Js.data.id,payload:$l,status:"success"})}else Js.data.type==="loadData"&&Xs.assetLoader.load(Js.data.path,Js.data.fullPath,function(El){Xs.postMessage({id:Js.data.id,payload:El,status:"success"})},function(){Xs.postMessage({id:Js.data.id,status:"error"})})})).onmessage=function(Js){var $l=Js.data,El=$l.id,wl=qs[El];qs[El]=null,$l.status==="success"?wl.onComplete($l.payload):wl.onError&&wl.onError()})}function yl(Js,$l){var El="processId_"+(Ws+=1);return qs[El]={onComplete:Js,onError:$l},El}return{loadAnimation:function(Js,$l,El){Zs();var wl=yl($l,El);zs.postMessage({type:"loadAnimation",path:Js,fullPath:window.location.origin+window.location.pathname,id:wl})},loadData:function(Js,$l,El){Zs();var wl=yl($l,El);zs.postMessage({type:"loadData",path:Js,fullPath:window.location.origin+window.location.pathname,id:wl})},completeAnimation:function(Js,$l,El){Zs();var wl=yl($l,El);zs.postMessage({type:"complete",animation:Js,id:wl})}}}(),ImagePreloader=function(){var at=function(){var yl=createTag("canvas");yl.width=1,yl.height=1;var Js=yl.getContext("2d");return Js.fillStyle="rgba(0,0,0,0)",Js.fillRect(0,0,1,1),yl}();function zs(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ws(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function qs(yl,Js,$l){var El="";if(yl.e)El=yl.p;else if(Js){var wl=yl.p;wl.indexOf("images/")!==-1&&(wl=wl.split("/")[1]),El=Js+wl}else El=$l,El+=yl.u?yl.u:"",El+=yl.p;return El}function Ys(yl){var Js=0,$l=setInterval((function(){(yl.getBBox().width||Js>500)&&(this._imageLoaded(),clearInterval($l)),Js+=1}).bind(this),50)}function Xs(yl){var Js={assetData:yl},$l=qs(yl,this.assetsPath,this.path);return dataManager.loadData($l,(function(El){Js.img=El,this._footageLoaded()}).bind(this),(function(){Js.img={},this._footageLoaded()}).bind(this)),Js}function Zs(){this._imageLoaded=zs.bind(this),this._footageLoaded=Ws.bind(this),this.testImageLoaded=Ys.bind(this),this.createFootageData=Xs.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Zs.prototype={loadAssets:function(yl,Js){var $l;this.imagesLoadedCb=Js;var El=yl.length;for($l=0;$l<El;$l+=1)yl[$l].layers||(yl[$l].t&&yl[$l].t!=="seq"?yl[$l].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(yl[$l]))):(this.totalImages+=1,this.images.push(this._createImageData(yl[$l]))))},setAssetsPath:function(yl){this.assetsPath=yl||""},setPath:function(yl){this.path=yl||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(yl){for(var Js=0,$l=this.images.length;Js<$l;){if(this.images[Js].assetData===yl)return this.images[Js].img;Js+=1}return null},createImgData:function(yl){var Js=qs(yl,this.assetsPath,this.path),$l=createTag("img");$l.crossOrigin="anonymous",$l.addEventListener("load",this._imageLoaded,!1),$l.addEventListener("error",(function(){El.img=at,this._imageLoaded()}).bind(this),!1),$l.src=Js;var El={img:$l,assetData:yl};return El},createImageData:function(yl){var Js=qs(yl,this.assetsPath,this.path),$l=createNS("image");isSafari?this.testImageLoaded($l):$l.addEventListener("load",this._imageLoaded,!1),$l.addEventListener("error",(function(){El.img=at,this._imageLoaded()}).bind(this),!1),$l.setAttributeNS("http://www.w3.org/1999/xlink","href",Js),this._elementHelper.append?this._elementHelper.append($l):this._elementHelper.appendChild($l);var El={img:$l,assetData:yl};return El},imageLoaded:zs,footageLoaded:Ws,setCacheType:function(yl,Js){yl==="svg"?(this._elementHelper=Js,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},Zs}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(at,zs){if(this._cbs[at])for(var Ws=this._cbs[at],qs=0;qs<Ws.length;qs+=1)Ws[qs](zs)},addEventListener:function(at,zs){return this._cbs[at]||(this._cbs[at]=[]),this._cbs[at].push(zs),(function(){this.removeEventListener(at,zs)}).bind(this)},removeEventListener:function(at,zs){if(zs){if(this._cbs[at]){for(var Ws=0,qs=this._cbs[at].length;Ws<qs;)this._cbs[at][Ws]===zs&&(this._cbs[at].splice(Ws,1),Ws-=1,qs-=1),Ws+=1;this._cbs[at].length||(this._cbs[at]=null)}}else this._cbs[at]=null}};var markerParser=function(){function at(zs){for(var Ws,qs=zs.split(`\r
`),Ys={},Xs=0,Zs=0;Zs<qs.length;Zs+=1)(Ws=qs[Zs].split(":")).length===2&&(Ys[Ws[0]]=Ws[1].trim(),Xs+=1);if(Xs===0)throw new Error;return Ys}return function(zs){for(var Ws=[],qs=0;qs<zs.length;qs+=1){var Ys=zs[qs],Xs={time:Ys.tm,duration:Ys.dr};try{Xs.payload=JSON.parse(zs[qs].cm)}catch{try{Xs.payload=at(zs[qs].cm)}catch{Xs.payload={name:zs[qs].cm}}}Ws.push(Xs)}return Ws}}(),ProjectInterface=function(){function at(zs){this.compositions.push(zs)}return function(){function zs(Ws){for(var qs=0,Ys=this.compositions.length;qs<Ys;){if(this.compositions[qs].data&&this.compositions[qs].data.nm===Ws)return this.compositions[qs].prepareFrame&&this.compositions[qs].data.xt&&this.compositions[qs].prepareFrame(this.currentFrame),this.compositions[qs].compInterface;qs+=1}return null}return zs.compositions=[],zs.currentFrame=0,zs.registerComposition=at,zs}}(),renderers={},registerRenderer=function(at,zs){renderers[at]=zs};function getRenderer(at){return renderers[at]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var at in renderers)if(renderers[at])return at;return""}function _typeof$4(at){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(at){(at.wrapper||at.container)&&(this.wrapper=at.wrapper||at.container);var zs="svg";at.animType?zs=at.animType:at.renderer&&(zs=at.renderer);var Ws=getRenderer(zs);this.renderer=new Ws(this,at.rendererSettings),this.imagePreloader.setCacheType(zs,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=zs,at.loop===""||at.loop===null||at.loop===void 0||at.loop===!0?this.loop=!0:at.loop===!1?this.loop=!1:this.loop=parseInt(at.loop,10),this.autoplay=!("autoplay"in at)||at.autoplay,this.name=at.name?at.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(at,"autoloadSegments")||at.autoloadSegments,this.assetsPath=at.assetsPath,this.initialSegment=at.initialSegment,at.audioFactory&&this.audioController.setAudioFactory(at.audioFactory),at.animationData?this.setupAnimation(at.animationData):at.path&&(at.path.lastIndexOf("\\")!==-1?this.path=at.path.substr(0,at.path.lastIndexOf("\\")+1):this.path=at.path.substr(0,at.path.lastIndexOf("/")+1),this.fileName=at.path.substr(at.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(at.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(at){dataManager.completeAnimation(at,this.configAnimation)},AnimationItem.prototype.setData=function(at,zs){zs&&_typeof$4(zs)!=="object"&&(zs=JSON.parse(zs));var Ws={wrapper:at,animationData:zs},qs=at.attributes;Ws.path=qs.getNamedItem("data-animation-path")?qs.getNamedItem("data-animation-path").value:qs.getNamedItem("data-bm-path")?qs.getNamedItem("data-bm-path").value:qs.getNamedItem("bm-path")?qs.getNamedItem("bm-path").value:"",Ws.animType=qs.getNamedItem("data-anim-type")?qs.getNamedItem("data-anim-type").value:qs.getNamedItem("data-bm-type")?qs.getNamedItem("data-bm-type").value:qs.getNamedItem("bm-type")?qs.getNamedItem("bm-type").value:qs.getNamedItem("data-bm-renderer")?qs.getNamedItem("data-bm-renderer").value:qs.getNamedItem("bm-renderer")?qs.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Ys=qs.getNamedItem("data-anim-loop")?qs.getNamedItem("data-anim-loop").value:qs.getNamedItem("data-bm-loop")?qs.getNamedItem("data-bm-loop").value:qs.getNamedItem("bm-loop")?qs.getNamedItem("bm-loop").value:"";Ys==="false"?Ws.loop=!1:Ys==="true"?Ws.loop=!0:Ys!==""&&(Ws.loop=parseInt(Ys,10));var Xs=qs.getNamedItem("data-anim-autoplay")?qs.getNamedItem("data-anim-autoplay").value:qs.getNamedItem("data-bm-autoplay")?qs.getNamedItem("data-bm-autoplay").value:!qs.getNamedItem("bm-autoplay")||qs.getNamedItem("bm-autoplay").value;Ws.autoplay=Xs!=="false",Ws.name=qs.getNamedItem("data-name")?qs.getNamedItem("data-name").value:qs.getNamedItem("data-bm-name")?qs.getNamedItem("data-bm-name").value:qs.getNamedItem("bm-name")?qs.getNamedItem("bm-name").value:"",(qs.getNamedItem("data-anim-prerender")?qs.getNamedItem("data-anim-prerender").value:qs.getNamedItem("data-bm-prerender")?qs.getNamedItem("data-bm-prerender").value:qs.getNamedItem("bm-prerender")?qs.getNamedItem("bm-prerender").value:"")==="false"&&(Ws.prerender=!1),Ws.path?this.setParams(Ws):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(at){at.op>this.animationData.op&&(this.animationData.op=at.op,this.totalFrames=Math.floor(at.op-this.animationData.ip));var zs,Ws,qs=this.animationData.layers,Ys=qs.length,Xs=at.layers,Zs=Xs.length;for(Ws=0;Ws<Zs;Ws+=1)for(zs=0;zs<Ys;){if(qs[zs].id===Xs[Ws].id){qs[zs]=Xs[Ws];break}zs+=1}if((at.chars||at.fonts)&&(this.renderer.globalData.fontManager.addChars(at.chars),this.renderer.globalData.fontManager.addFonts(at.fonts,this.renderer.globalData.defs)),at.assets)for(Ys=at.assets.length,zs=0;zs<Ys;zs+=1)this.animationData.assets.push(at.assets[zs]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(at){this.animationData=at;var zs=getExpressionsPlugin();zs&&zs.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var at=this.animationData.segments;if(!at||at.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var zs=at.shift();this.timeCompleted=zs.time*this.frameRate;var Ws=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(Ws,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(at){if(this.renderer)try{this.animationData=at,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(at),at.assets||(at.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(at.assets),this.markers=markerParser(at.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(zs){this.triggerConfigError(zs)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var at=getExpressionsPlugin();at&&at.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(at,zs){var Ws=typeof at=="number"?at:void 0,qs=typeof zs=="number"?zs:void 0;this.renderer.updateContainerSize(Ws,qs)},AnimationItem.prototype.setSubframe=function(at){this.isSubframeEnabled=!!at},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(at){this.triggerRenderFrameError(at)}},AnimationItem.prototype.play=function(at){at&&this.name!==at||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(at){at&&this.name!==at||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(at){at&&this.name!==at||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(at){at&&this.name!==at||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(at){for(var zs,Ws=0;Ws<this.markers.length;Ws+=1)if((zs=this.markers[Ws]).payload&&zs.payload.name===at)return zs;return null},AnimationItem.prototype.goToAndStop=function(at,zs,Ws){if(!Ws||this.name===Ws){var qs=Number(at);if(isNaN(qs)){var Ys=this.getMarkerData(at);Ys&&this.goToAndStop(Ys.time,!0)}else zs?this.setCurrentRawFrameValue(at):this.setCurrentRawFrameValue(at*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(at,zs,Ws){if(!Ws||this.name===Ws){var qs=Number(at);if(isNaN(qs)){var Ys=this.getMarkerData(at);Ys&&(Ys.duration?this.playSegments([Ys.time,Ys.time+Ys.duration],!0):this.goToAndStop(Ys.time,!0))}else this.goToAndStop(qs,zs,Ws);this.play()}},AnimationItem.prototype.advanceTime=function(at){if(this.isPaused!==!0&&this.isLoaded!==!1){var zs=this.currentRawFrame+at*this.frameModifier,Ws=!1;zs>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?zs>=this.totalFrames?(this.playCount+=1,this.checkSegments(zs%this.totalFrames)||(this.setCurrentRawFrameValue(zs%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(zs):this.checkSegments(zs>this.totalFrames?zs%this.totalFrames:0)||(Ws=!0,zs=this.totalFrames-1):zs<0?this.checkSegments(zs%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(Ws=!0,zs=0):(this.setCurrentRawFrameValue(this.totalFrames+zs%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(zs),Ws&&(this.setCurrentRawFrameValue(zs),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(at,zs){this.playCount=0,at[1]<at[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=at[0]-at[1],this.timeCompleted=this.totalFrames,this.firstFrame=at[1],this.setCurrentRawFrameValue(this.totalFrames-.001-zs)):at[1]>at[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=at[1]-at[0],this.timeCompleted=this.totalFrames,this.firstFrame=at[0],this.setCurrentRawFrameValue(.001+zs)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(at,zs){var Ws=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<at?Ws=at:this.currentRawFrame+this.firstFrame>zs&&(Ws=zs-at)),this.firstFrame=at,this.totalFrames=zs-at,this.timeCompleted=this.totalFrames,Ws!==-1&&this.goToAndStop(Ws,!0)},AnimationItem.prototype.playSegments=function(at,zs){if(zs&&(this.segments.length=0),_typeof$4(at[0])==="object"){var Ws,qs=at.length;for(Ws=0;Ws<qs;Ws+=1)this.segments.push(at[Ws])}else this.segments.push(at);this.segments.length&&zs&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(at){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),at&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(at){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),at),!0)},AnimationItem.prototype.destroy=function(at){at&&this.name!==at||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(at){this.currentRawFrame=at,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(at){this.playSpeed=at,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(at){this.playDirection=at<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(at){this.loop=at},AnimationItem.prototype.setVolume=function(at,zs){zs&&this.name!==zs||this.audioController.setVolume(at)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(at){at&&this.name!==at||this.audioController.mute()},AnimationItem.prototype.unmute=function(at){at&&this.name!==at||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(at){var zs="";if(at.e)zs=at.p;else if(this.assetsPath){var Ws=at.p;Ws.indexOf("images/")!==-1&&(Ws=Ws.split("/")[1]),zs=this.assetsPath+Ws}else zs=this.path,zs+=at.u?at.u:"",zs+=at.p;return zs},AnimationItem.prototype.getAssetData=function(at){for(var zs=0,Ws=this.assets.length;zs<Ws;){if(at===this.assets[zs].id)return this.assets[zs];zs+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(at){return at?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(at,zs,Ws){try{this.renderer.getElementByPath(at).updateDocumentData(zs,Ws)}catch{}},AnimationItem.prototype.trigger=function(at){if(this._cbs&&this._cbs[at])switch(at){case"enterFrame":this.triggerEvent(at,new BMEnterFrameEvent(at,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(at,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(at,new BMCompleteLoopEvent(at,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(at,new BMCompleteEvent(at,this.frameMult));break;case"segmentStart":this.triggerEvent(at,new BMSegmentStartEvent(at,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(at,new BMDestroyEvent(at,this));break;default:this.triggerEvent(at)}at==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(at,this.currentFrame,this.totalFrames,this.frameMult)),at==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(at,this.loop,this.playCount,this.frameMult)),at==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(at,this.frameMult)),at==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(at,this.firstFrame,this.totalFrames)),at==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(at,this))},AnimationItem.prototype.triggerRenderFrameError=function(at){var zs=new BMRenderFrameErrorEvent(at,this.currentFrame);this.triggerEvent("error",zs),this.onError&&this.onError.call(this,zs)},AnimationItem.prototype.triggerConfigError=function(at){var zs=new BMConfigErrorEvent(at,this.currentFrame);this.triggerEvent("error",zs),this.onError&&this.onError.call(this,zs)};var animationManager=function(){var at={},zs=[],Ws=0,qs=0,Ys=0,Xs=!0,Zs=!1;function yl(Il){for(var Al=0,xl=Il.target;Al<qs;)zs[Al].animation===xl&&(zs.splice(Al,1),Al-=1,qs-=1,xl.isPaused||El()),Al+=1}function Js(Il,Al){if(!Il)return null;for(var xl=0;xl<qs;){if(zs[xl].elem===Il&&zs[xl].elem!==null)return zs[xl].animation;xl+=1}var Pl=new AnimationItem;return wl(Pl,Il),Pl.setData(Il,Al),Pl}function $l(){Ys+=1,Tl()}function El(){Ys-=1}function wl(Il,Al){Il.addEventListener("destroy",yl),Il.addEventListener("_active",$l),Il.addEventListener("_idle",El),zs.push({elem:Al,animation:Il}),qs+=1}function _l(Il){var Al,xl=Il-Ws;for(Al=0;Al<qs;Al+=1)zs[Al].animation.advanceTime(xl);Ws=Il,Ys&&!Zs?window.requestAnimationFrame(_l):Xs=!0}function Sl(Il){Ws=Il,window.requestAnimationFrame(_l)}function Tl(){!Zs&&Ys&&Xs&&(window.requestAnimationFrame(Sl),Xs=!1)}return at.registerAnimation=Js,at.loadAnimation=function(Il){var Al=new AnimationItem;return wl(Al,null),Al.setParams(Il),Al},at.setSpeed=function(Il,Al){var xl;for(xl=0;xl<qs;xl+=1)zs[xl].animation.setSpeed(Il,Al)},at.setDirection=function(Il,Al){var xl;for(xl=0;xl<qs;xl+=1)zs[xl].animation.setDirection(Il,Al)},at.play=function(Il){var Al;for(Al=0;Al<qs;Al+=1)zs[Al].animation.play(Il)},at.pause=function(Il){var Al;for(Al=0;Al<qs;Al+=1)zs[Al].animation.pause(Il)},at.stop=function(Il){var Al;for(Al=0;Al<qs;Al+=1)zs[Al].animation.stop(Il)},at.togglePause=function(Il){var Al;for(Al=0;Al<qs;Al+=1)zs[Al].animation.togglePause(Il)},at.searchAnimations=function(Il,Al,xl){var Pl,Cl=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Rl=Cl.length;for(Pl=0;Pl<Rl;Pl+=1)xl&&Cl[Pl].setAttribute("data-bm-type",xl),Js(Cl[Pl],Il);if(Al&&Rl===0){xl||(xl="svg");var Ol=document.getElementsByTagName("body")[0];Ol.innerText="";var Ml=createTag("div");Ml.style.width="100%",Ml.style.height="100%",Ml.setAttribute("data-bm-type",xl),Ol.appendChild(Ml),Js(Ml,Il)}},at.resize=function(){var Il;for(Il=0;Il<qs;Il+=1)zs[Il].animation.resize()},at.goToAndStop=function(Il,Al,xl){var Pl;for(Pl=0;Pl<qs;Pl+=1)zs[Pl].animation.goToAndStop(Il,Al,xl)},at.destroy=function(Il){var Al;for(Al=qs-1;Al>=0;Al-=1)zs[Al].animation.destroy(Il)},at.freeze=function(){Zs=!0},at.unfreeze=function(){Zs=!1,Tl()},at.setVolume=function(Il,Al){var xl;for(xl=0;xl<qs;xl+=1)zs[xl].animation.setVolume(Il,Al)},at.mute=function(Il){var Al;for(Al=0;Al<qs;Al+=1)zs[Al].animation.mute(Il)},at.unmute=function(Il){var Al;for(Al=0;Al<qs;Al+=1)zs[Al].animation.unmute(Il)},at.getRegisteredAnimations=function(){var Il,Al=zs.length,xl=[];for(Il=0;Il<Al;Il+=1)xl.push(zs[Il].animation);return xl},at}(),BezierFactory=function(){var at={getBezierEasing:function($l,El,wl,_l,Sl){var Tl=Sl||("bez_"+$l+"_"+El+"_"+wl+"_"+_l).replace(/\./g,"p");if(zs[Tl])return zs[Tl];var Il=new Js([$l,El,wl,_l]);return zs[Tl]=Il,Il}},zs={},Ws=typeof Float32Array=="function";function qs($l,El){return 1-3*El+3*$l}function Ys($l,El){return 3*El-6*$l}function Xs($l){return 3*$l}function Zs($l,El,wl){return((qs(El,wl)*$l+Ys(El,wl))*$l+Xs(El))*$l}function yl($l,El,wl){return 3*qs(El,wl)*$l*$l+2*Ys(El,wl)*$l+Xs(El)}function Js($l){this._p=$l,this._mSampleValues=Ws?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return Js.prototype={get:function($l){var El=this._p[0],wl=this._p[1],_l=this._p[2],Sl=this._p[3];return this._precomputed||this._precompute(),El===wl&&_l===Sl?$l:$l===0?0:$l===1?1:Zs(this._getTForX($l),wl,Sl)},_precompute:function(){var $l=this._p[0],El=this._p[1],wl=this._p[2],_l=this._p[3];this._precomputed=!0,$l===El&&wl===_l||this._calcSampleValues()},_calcSampleValues:function(){for(var $l=this._p[0],El=this._p[2],wl=0;wl<11;++wl)this._mSampleValues[wl]=Zs(.1*wl,$l,El)},_getTForX:function($l){for(var El=this._p[0],wl=this._p[2],_l=this._mSampleValues,Sl=0,Tl=1;Tl!==10&&_l[Tl]<=$l;++Tl)Sl+=.1;var Il=Sl+.1*(($l-_l[--Tl])/(_l[Tl+1]-_l[Tl])),Al=yl(Il,El,wl);return Al>=.001?function(xl,Pl,Cl,Rl){for(var Ol=0;Ol<4;++Ol){var Ml=yl(Pl,Cl,Rl);if(Ml===0)return Pl;Pl-=(Zs(Pl,Cl,Rl)-xl)/Ml}return Pl}($l,Il,El,wl):Al===0?Il:function(xl,Pl,Cl,Rl,Ol){var Ml,Ll,Bl=0;do(Ml=Zs(Ll=Pl+(Cl-Pl)/2,Rl,Ol)-xl)>0?Cl=Ll:Pl=Ll;while(Math.abs(Ml)>1e-7&&++Bl<10);return Ll}($l,Sl,Sl+.1,El,wl)}},at}(),pooling={double:function(at){return at.concat(createSizedArray(at.length))}},poolFactory=function(at,zs,Ws){var qs=0,Ys=at,Xs=createSizedArray(Ys);return{newElement:function(){return qs?Xs[qs-=1]:zs()},release:function(Zs){qs===Ys&&(Xs=pooling.double(Xs),Ys*=2),Ws&&Ws(Zs),Xs[qs]=Zs,qs+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(at){var zs,Ws=at.lengths.length;for(zs=0;zs<Ws;zs+=1)bezierLengthPool.release(at.lengths[zs]);at.lengths.length=0});function bezFunction(){var at=Math;function zs($l,El,wl,_l,Sl,Tl){var Il=$l*_l+El*Sl+wl*Tl-Sl*_l-Tl*$l-wl*El;return Il>-.001&&Il<.001}var Ws=function($l,El,wl,_l){var Sl,Tl,Il,Al,xl,Pl,Cl=getDefaultCurveSegments(),Rl=0,Ol=[],Ml=[],Ll=bezierLengthPool.newElement();for(Il=wl.length,Sl=0;Sl<Cl;Sl+=1){for(xl=Sl/(Cl-1),Pl=0,Tl=0;Tl<Il;Tl+=1)Al=bmPow(1-xl,3)*$l[Tl]+3*bmPow(1-xl,2)*xl*wl[Tl]+3*(1-xl)*bmPow(xl,2)*_l[Tl]+bmPow(xl,3)*El[Tl],Ol[Tl]=Al,Ml[Tl]!==null&&(Pl+=bmPow(Ol[Tl]-Ml[Tl],2)),Ml[Tl]=Ol[Tl];Pl&&(Rl+=Pl=bmSqrt(Pl)),Ll.percents[Sl]=xl,Ll.lengths[Sl]=Rl}return Ll.addedLength=Rl,Ll};function qs($l){this.segmentLength=0,this.points=new Array($l)}function Ys($l,El){this.partialLength=$l,this.point=El}var Xs,Zs=(Xs={},function($l,El,wl,_l){var Sl=($l[0]+"_"+$l[1]+"_"+El[0]+"_"+El[1]+"_"+wl[0]+"_"+wl[1]+"_"+_l[0]+"_"+_l[1]).replace(/\./g,"p");if(!Xs[Sl]){var Tl,Il,Al,xl,Pl,Cl,Rl,Ol=getDefaultCurveSegments(),Ml=0,Ll=null;$l.length===2&&($l[0]!==El[0]||$l[1]!==El[1])&&zs($l[0],$l[1],El[0],El[1],$l[0]+wl[0],$l[1]+wl[1])&&zs($l[0],$l[1],El[0],El[1],El[0]+_l[0],El[1]+_l[1])&&(Ol=2);var Bl=new qs(Ol);for(Al=wl.length,Tl=0;Tl<Ol;Tl+=1){for(Rl=createSizedArray(Al),Pl=Tl/(Ol-1),Cl=0,Il=0;Il<Al;Il+=1)xl=bmPow(1-Pl,3)*$l[Il]+3*bmPow(1-Pl,2)*Pl*($l[Il]+wl[Il])+3*(1-Pl)*bmPow(Pl,2)*(El[Il]+_l[Il])+bmPow(Pl,3)*El[Il],Rl[Il]=xl,Ll!==null&&(Cl+=bmPow(Rl[Il]-Ll[Il],2));Ml+=Cl=bmSqrt(Cl),Bl.points[Tl]=new Ys(Cl,Rl),Ll=Rl}Bl.segmentLength=Ml,Xs[Sl]=Bl}return Xs[Sl]});function yl($l,El){var wl=El.percents,_l=El.lengths,Sl=wl.length,Tl=bmFloor((Sl-1)*$l),Il=$l*El.addedLength,Al=0;if(Tl===Sl-1||Tl===0||Il===_l[Tl])return wl[Tl];for(var xl=_l[Tl]>Il?-1:1,Pl=!0;Pl;)if(_l[Tl]<=Il&&_l[Tl+1]>Il?(Al=(Il-_l[Tl])/(_l[Tl+1]-_l[Tl]),Pl=!1):Tl+=xl,Tl<0||Tl>=Sl-1){if(Tl===Sl-1)return wl[Tl];Pl=!1}return wl[Tl]+(wl[Tl+1]-wl[Tl])*Al}var Js=createTypedArray("float32",8);return{getSegmentsLength:function($l){var El,wl=segmentsLengthPool.newElement(),_l=$l.c,Sl=$l.v,Tl=$l.o,Il=$l.i,Al=$l._length,xl=wl.lengths,Pl=0;for(El=0;El<Al-1;El+=1)xl[El]=Ws(Sl[El],Sl[El+1],Tl[El],Il[El+1]),Pl+=xl[El].addedLength;return _l&&Al&&(xl[El]=Ws(Sl[El],Sl[0],Tl[El],Il[0]),Pl+=xl[El].addedLength),wl.totalLength=Pl,wl},getNewSegment:function($l,El,wl,_l,Sl,Tl,Il){Sl<0?Sl=0:Sl>1&&(Sl=1);var Al,xl=yl(Sl,Il),Pl=yl(Tl=Tl>1?1:Tl,Il),Cl=$l.length,Rl=1-xl,Ol=1-Pl,Ml=Rl*Rl*Rl,Ll=xl*Rl*Rl*3,Bl=xl*xl*Rl*3,Wl=xl*xl*xl,Yl=Rl*Rl*Ol,Kl=xl*Rl*Ol+Rl*xl*Ol+Rl*Rl*Pl,Xl=xl*xl*Ol+Rl*xl*Pl+xl*Rl*Pl,Ul=xl*xl*Pl,Vl=Rl*Ol*Ol,Nl=xl*Ol*Ol+Rl*Pl*Ol+Rl*Ol*Pl,Dl=xl*Pl*Ol+Rl*Pl*Pl+xl*Ol*Pl,Gl=xl*Pl*Pl,Fl=Ol*Ol*Ol,Hl=Pl*Ol*Ol+Ol*Pl*Ol+Ol*Ol*Pl,Zl=Pl*Pl*Ol+Ol*Pl*Pl+Pl*Ol*Pl,Su=Pl*Pl*Pl;for(Al=0;Al<Cl;Al+=1)Js[4*Al]=at.round(1e3*(Ml*$l[Al]+Ll*wl[Al]+Bl*_l[Al]+Wl*El[Al]))/1e3,Js[4*Al+1]=at.round(1e3*(Yl*$l[Al]+Kl*wl[Al]+Xl*_l[Al]+Ul*El[Al]))/1e3,Js[4*Al+2]=at.round(1e3*(Vl*$l[Al]+Nl*wl[Al]+Dl*_l[Al]+Gl*El[Al]))/1e3,Js[4*Al+3]=at.round(1e3*(Fl*$l[Al]+Hl*wl[Al]+Zl*_l[Al]+Su*El[Al]))/1e3;return Js},getPointInSegment:function($l,El,wl,_l,Sl,Tl){var Il=yl(Sl,Tl),Al=1-Il;return[at.round(1e3*(Al*Al*Al*$l[0]+(Il*Al*Al+Al*Il*Al+Al*Al*Il)*wl[0]+(Il*Il*Al+Al*Il*Il+Il*Al*Il)*_l[0]+Il*Il*Il*El[0]))/1e3,at.round(1e3*(Al*Al*Al*$l[1]+(Il*Al*Al+Al*Il*Al+Al*Al*Il)*wl[1]+(Il*Il*Al+Al*Il*Il+Il*Al*Il)*_l[1]+Il*Il*Il*El[1]))/1e3]},buildBezierData:Zs,pointOnLine2D:zs,pointOnLine3D:function($l,El,wl,_l,Sl,Tl,Il,Al,xl){if(wl===0&&Tl===0&&xl===0)return zs($l,El,_l,Sl,Il,Al);var Pl,Cl=at.sqrt(at.pow(_l-$l,2)+at.pow(Sl-El,2)+at.pow(Tl-wl,2)),Rl=at.sqrt(at.pow(Il-$l,2)+at.pow(Al-El,2)+at.pow(xl-wl,2)),Ol=at.sqrt(at.pow(Il-_l,2)+at.pow(Al-Sl,2)+at.pow(xl-Tl,2));return(Pl=Cl>Rl?Cl>Ol?Cl-Rl-Ol:Ol-Rl-Cl:Ol>Rl?Ol-Rl-Cl:Rl-Cl-Ol)>-1e-4&&Pl<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(at,zs){var Ws,qs=this.offsetTime;this.propType==="multidimensional"&&(Ws=createTypedArray("float32",this.pv.length));for(var Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl=zs.lastIndex,Tl=Sl,Il=this.keyframes.length-1,Al=!0;Al;){if(Ys=this.keyframes[Tl],Xs=this.keyframes[Tl+1],Tl===Il-1&&at>=Xs.t-qs){Ys.h&&(Ys=Xs),Sl=0;break}if(Xs.t-qs>at){Sl=Tl;break}Tl<Il-1?Tl+=1:(Sl=0,Al=!1)}Zs=this.keyframesMetadata[Tl]||{};var xl,Pl=Xs.t-qs,Cl=Ys.t-qs;if(Ys.to){Zs.bezierData||(Zs.bezierData=bez.buildBezierData(Ys.s,Xs.s||Ys.e,Ys.to,Ys.ti));var Rl=Zs.bezierData;if(at>=Pl||at<Cl){var Ol=at>=Pl?Rl.points.length-1:0;for(Js=Rl.points[Ol].point.length,yl=0;yl<Js;yl+=1)Ws[yl]=Rl.points[Ol].point[yl]}else{Zs.__fnct?_l=Zs.__fnct:(_l=BezierFactory.getBezierEasing(Ys.o.x,Ys.o.y,Ys.i.x,Ys.i.y,Ys.n).get,Zs.__fnct=_l),$l=_l((at-Cl)/(Pl-Cl));var Ml,Ll=Rl.segmentLength*$l,Bl=zs.lastFrame<at&&zs._lastKeyframeIndex===Tl?zs._lastAddedLength:0;for(wl=zs.lastFrame<at&&zs._lastKeyframeIndex===Tl?zs._lastPoint:0,Al=!0,El=Rl.points.length;Al;){if(Bl+=Rl.points[wl].partialLength,Ll===0||$l===0||wl===Rl.points.length-1){for(Js=Rl.points[wl].point.length,yl=0;yl<Js;yl+=1)Ws[yl]=Rl.points[wl].point[yl];break}if(Ll>=Bl&&Ll<Bl+Rl.points[wl+1].partialLength){for(Ml=(Ll-Bl)/Rl.points[wl+1].partialLength,Js=Rl.points[wl].point.length,yl=0;yl<Js;yl+=1)Ws[yl]=Rl.points[wl].point[yl]+(Rl.points[wl+1].point[yl]-Rl.points[wl].point[yl])*Ml;break}wl<El-1?wl+=1:Al=!1}zs._lastPoint=wl,zs._lastAddedLength=Bl-Rl.points[wl].partialLength,zs._lastKeyframeIndex=Tl}}else{var Wl,Yl,Kl,Xl,Ul;if(Il=Ys.s.length,xl=Xs.s||Ys.e,this.sh&&Ys.h!==1)at>=Pl?(Ws[0]=xl[0],Ws[1]=xl[1],Ws[2]=xl[2]):at<=Cl?(Ws[0]=Ys.s[0],Ws[1]=Ys.s[1],Ws[2]=Ys.s[2]):quaternionToEuler(Ws,slerp(createQuaternion(Ys.s),createQuaternion(xl),(at-Cl)/(Pl-Cl)));else for(Tl=0;Tl<Il;Tl+=1)Ys.h!==1&&(at>=Pl?$l=1:at<Cl?$l=0:(Ys.o.x.constructor===Array?(Zs.__fnct||(Zs.__fnct=[]),Zs.__fnct[Tl]?_l=Zs.__fnct[Tl]:(Wl=Ys.o.x[Tl]===void 0?Ys.o.x[0]:Ys.o.x[Tl],Yl=Ys.o.y[Tl]===void 0?Ys.o.y[0]:Ys.o.y[Tl],Kl=Ys.i.x[Tl]===void 0?Ys.i.x[0]:Ys.i.x[Tl],Xl=Ys.i.y[Tl]===void 0?Ys.i.y[0]:Ys.i.y[Tl],_l=BezierFactory.getBezierEasing(Wl,Yl,Kl,Xl).get,Zs.__fnct[Tl]=_l)):Zs.__fnct?_l=Zs.__fnct:(Wl=Ys.o.x,Yl=Ys.o.y,Kl=Ys.i.x,Xl=Ys.i.y,_l=BezierFactory.getBezierEasing(Wl,Yl,Kl,Xl).get,Ys.keyframeMetadata=_l),$l=_l((at-Cl)/(Pl-Cl)))),xl=Xs.s||Ys.e,Ul=Ys.h===1?Ys.s[Tl]:Ys.s[Tl]+(xl[Tl]-Ys.s[Tl])*$l,this.propType==="multidimensional"?Ws[Tl]=Ul:Ws=Ul}return zs.lastIndex=Sl,Ws}function slerp(at,zs,Ws){var qs,Ys,Xs,Zs,yl,Js=[],$l=at[0],El=at[1],wl=at[2],_l=at[3],Sl=zs[0],Tl=zs[1],Il=zs[2],Al=zs[3];return(Ys=$l*Sl+El*Tl+wl*Il+_l*Al)<0&&(Ys=-Ys,Sl=-Sl,Tl=-Tl,Il=-Il,Al=-Al),1-Ys>1e-6?(qs=Math.acos(Ys),Xs=Math.sin(qs),Zs=Math.sin((1-Ws)*qs)/Xs,yl=Math.sin(Ws*qs)/Xs):(Zs=1-Ws,yl=Ws),Js[0]=Zs*$l+yl*Sl,Js[1]=Zs*El+yl*Tl,Js[2]=Zs*wl+yl*Il,Js[3]=Zs*_l+yl*Al,Js}function quaternionToEuler(at,zs){var Ws=zs[0],qs=zs[1],Ys=zs[2],Xs=zs[3],Zs=Math.atan2(2*qs*Xs-2*Ws*Ys,1-2*qs*qs-2*Ys*Ys),yl=Math.asin(2*Ws*qs+2*Ys*Xs),Js=Math.atan2(2*Ws*Xs-2*qs*Ys,1-2*Ws*Ws-2*Ys*Ys);at[0]=Zs/degToRads,at[1]=yl/degToRads,at[2]=Js/degToRads}function createQuaternion(at){var zs=at[0]*degToRads,Ws=at[1]*degToRads,qs=at[2]*degToRads,Ys=Math.cos(zs/2),Xs=Math.cos(Ws/2),Zs=Math.cos(qs/2),yl=Math.sin(zs/2),Js=Math.sin(Ws/2),$l=Math.sin(qs/2);return[yl*Js*Zs+Ys*Xs*$l,yl*Xs*Zs+Ys*Js*$l,Ys*Js*Zs-yl*Xs*$l,Ys*Xs*Zs-yl*Js*$l]}function getValueAtCurrentTime(){var at=this.comp.renderedFrame-this.offsetTime,zs=this.keyframes[0].t-this.offsetTime,Ws=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(at===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=Ws&&at>=Ws||this._caching.lastFrame<zs&&at<zs))){this._caching.lastFrame>=at&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var qs=this.interpolateValue(at,this._caching);this.pv=qs}return this._caching.lastFrame=at,this.pv}function setVValue(at){var zs;if(this.propType==="unidimensional")zs=at*this.mult,mathAbs(this.v-zs)>1e-5&&(this.v=zs,this._mdf=!0);else for(var Ws=0,qs=this.v.length;Ws<qs;)zs=at[Ws]*this.mult,mathAbs(this.v[Ws]-zs)>1e-5&&(this.v[Ws]=zs,this._mdf=!0),Ws+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var at;this.lock=!0,this._mdf=this._isFirstFrame;var zs=this.effectsSequence.length,Ws=this.kf?this.pv:this.data.k;for(at=0;at<zs;at+=1)Ws=this.effectsSequence[at](Ws);this.setVValue(Ws),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(at){this.effectsSequence.push(at),this.container.addDynamicProperty(this)}function ValueProperty(at,zs,Ws,qs){this.propType="unidimensional",this.mult=Ws||1,this.data=zs,this.v=Ws?zs.k*Ws:zs.k,this.pv=zs.k,this._mdf=!1,this.elem=at,this.container=qs,this.comp=at.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(at,zs,Ws,qs){var Ys;this.propType="multidimensional",this.mult=Ws||1,this.data=zs,this._mdf=!1,this.elem=at,this.container=qs,this.comp=at.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Xs=zs.k.length;for(this.v=createTypedArray("float32",Xs),this.pv=createTypedArray("float32",Xs),this.vel=createTypedArray("float32",Xs),Ys=0;Ys<Xs;Ys+=1)this.v[Ys]=zs.k[Ys]*this.mult,this.pv[Ys]=zs.k[Ys];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(at,zs,Ws,qs){this.propType="unidimensional",this.keyframes=zs.k,this.keyframesMetadata=[],this.offsetTime=at.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=zs,this.mult=Ws||1,this.elem=at,this.container=qs,this.comp=at.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(at,zs,Ws,qs){var Ys;this.propType="multidimensional";var Xs,Zs,yl,Js,$l=zs.k.length;for(Ys=0;Ys<$l-1;Ys+=1)zs.k[Ys].to&&zs.k[Ys].s&&zs.k[Ys+1]&&zs.k[Ys+1].s&&(Xs=zs.k[Ys].s,Zs=zs.k[Ys+1].s,yl=zs.k[Ys].to,Js=zs.k[Ys].ti,(Xs.length===2&&(Xs[0]!==Zs[0]||Xs[1]!==Zs[1])&&bez.pointOnLine2D(Xs[0],Xs[1],Zs[0],Zs[1],Xs[0]+yl[0],Xs[1]+yl[1])&&bez.pointOnLine2D(Xs[0],Xs[1],Zs[0],Zs[1],Zs[0]+Js[0],Zs[1]+Js[1])||Xs.length===3&&(Xs[0]!==Zs[0]||Xs[1]!==Zs[1]||Xs[2]!==Zs[2])&&bez.pointOnLine3D(Xs[0],Xs[1],Xs[2],Zs[0],Zs[1],Zs[2],Xs[0]+yl[0],Xs[1]+yl[1],Xs[2]+yl[2])&&bez.pointOnLine3D(Xs[0],Xs[1],Xs[2],Zs[0],Zs[1],Zs[2],Zs[0]+Js[0],Zs[1]+Js[1],Zs[2]+Js[2]))&&(zs.k[Ys].to=null,zs.k[Ys].ti=null),Xs[0]===Zs[0]&&Xs[1]===Zs[1]&&yl[0]===0&&yl[1]===0&&Js[0]===0&&Js[1]===0&&(Xs.length===2||Xs[2]===Zs[2]&&yl[2]===0&&Js[2]===0)&&(zs.k[Ys].to=null,zs.k[Ys].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=zs,this.keyframes=zs.k,this.keyframesMetadata=[],this.offsetTime=at.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Ws||1,this.elem=at,this.container=qs,this.comp=at.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var El=zs.k[0].s.length;for(this.v=createTypedArray("float32",El),this.pv=createTypedArray("float32",El),Ys=0;Ys<El;Ys+=1)this.v[Ys]=initFrame,this.pv[Ys]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",El)},this.addEffect=addEffect}var PropertyFactory={getProp:function(at,zs,Ws,qs,Ys){var Xs;if(zs.sid&&(zs=at.globalData.slotManager.getProp(zs)),zs.k.length)if(typeof zs.k[0]=="number")Xs=new MultiDimensionalProperty(at,zs,qs,Ys);else switch(Ws){case 0:Xs=new KeyframedValueProperty(at,zs,qs,Ys);break;case 1:Xs=new KeyframedMultidimensionalProperty(at,zs,qs,Ys)}else Xs=new ValueProperty(at,zs,qs,Ys);return Xs.effectsSequence.length&&Ys.addDynamicProperty(Xs),Xs}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(at){this.dynamicProperties.indexOf(at)===-1&&(this.dynamicProperties.push(at),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var at;this._mdf=!1;var zs=this.dynamicProperties.length;for(at=0;at<zs;at+=1)this.dynamicProperties[at].getValue(),this.dynamicProperties[at]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(at){this.container=at,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(at,zs){this.c=at,this.setLength(zs);for(var Ws=0;Ws<zs;)this.v[Ws]=pointPool.newElement(),this.o[Ws]=pointPool.newElement(),this.i[Ws]=pointPool.newElement(),Ws+=1},ShapePath.prototype.setLength=function(at){for(;this._maxLength<at;)this.doubleArrayLength();this._length=at},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(at,zs,Ws,qs,Ys){var Xs;switch(this._length=Math.max(this._length,qs+1),this._length>=this._maxLength&&this.doubleArrayLength(),Ws){case"v":Xs=this.v;break;case"i":Xs=this.i;break;case"o":Xs=this.o;break;default:Xs=[]}(!Xs[qs]||Xs[qs]&&!Ys)&&(Xs[qs]=pointPool.newElement()),Xs[qs][0]=at,Xs[qs][1]=zs},ShapePath.prototype.setTripleAt=function(at,zs,Ws,qs,Ys,Xs,Zs,yl){this.setXYAt(at,zs,"v",Zs,yl),this.setXYAt(Ws,qs,"o",Zs,yl),this.setXYAt(Ys,Xs,"i",Zs,yl)},ShapePath.prototype.reverse=function(){var at=new ShapePath;at.setPathData(this.c,this._length);var zs=this.v,Ws=this.o,qs=this.i,Ys=0;this.c&&(at.setTripleAt(zs[0][0],zs[0][1],qs[0][0],qs[0][1],Ws[0][0],Ws[0][1],0,!1),Ys=1);var Xs,Zs=this._length-1,yl=this._length;for(Xs=Ys;Xs<yl;Xs+=1)at.setTripleAt(zs[Zs][0],zs[Zs][1],qs[Zs][0],qs[Zs][1],Ws[Zs][0],Ws[Zs][1],Xs,!1),Zs-=1;return at},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(at){var zs,Ws=at._length;for(zs=0;zs<Ws;zs+=1)pointPool.release(at.v[zs]),pointPool.release(at.i[zs]),pointPool.release(at.o[zs]),at.v[zs]=null,at.i[zs]=null,at.o[zs]=null;at._length=0,at.c=!1}),factory.clone=function(at){var zs,Ws=factory.newElement(),qs=at._length===void 0?at.v.length:at._length;for(Ws.setLength(qs),Ws.c=at.c,zs=0;zs<qs;zs+=1)Ws.setTripleAt(at.v[zs][0],at.v[zs][1],at.o[zs][0],at.o[zs][1],at.i[zs][0],at.i[zs][1],zs);return Ws},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(at){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=at,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var at;for(at=0;at<this._length;at+=1)shapePool.release(this.shapes[at]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(at){var zs,Ws=at._length;for(zs=0;zs<Ws;zs+=1)shapePool.release(at.shapes[zs]);at._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=at,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){function at(_l,Sl,Tl){var Il,Al,xl,Pl,Cl,Rl,Ol,Ml,Ll,Bl=Tl.lastIndex,Wl=this.keyframes;if(_l<Wl[0].t-this.offsetTime)Il=Wl[0].s[0],xl=!0,Bl=0;else if(_l>=Wl[Wl.length-1].t-this.offsetTime)Il=Wl[Wl.length-1].s?Wl[Wl.length-1].s[0]:Wl[Wl.length-2].e[0],xl=!0;else{for(var Yl,Kl,Xl,Ul=Bl,Vl=Wl.length-1,Nl=!0;Nl&&(Yl=Wl[Ul],!((Kl=Wl[Ul+1]).t-this.offsetTime>_l));)Ul<Vl-1?Ul+=1:Nl=!1;if(Xl=this.keyframesMetadata[Ul]||{},Bl=Ul,!(xl=Yl.h===1)){if(_l>=Kl.t-this.offsetTime)Ml=1;else if(_l<Yl.t-this.offsetTime)Ml=0;else{var Dl;Xl.__fnct?Dl=Xl.__fnct:(Dl=BezierFactory.getBezierEasing(Yl.o.x,Yl.o.y,Yl.i.x,Yl.i.y).get,Xl.__fnct=Dl),Ml=Dl((_l-(Yl.t-this.offsetTime))/(Kl.t-this.offsetTime-(Yl.t-this.offsetTime)))}Al=Kl.s?Kl.s[0]:Yl.e[0]}Il=Yl.s[0]}for(Rl=Sl._length,Ol=Il.i[0].length,Tl.lastIndex=Bl,Pl=0;Pl<Rl;Pl+=1)for(Cl=0;Cl<Ol;Cl+=1)Ll=xl?Il.i[Pl][Cl]:Il.i[Pl][Cl]+(Al.i[Pl][Cl]-Il.i[Pl][Cl])*Ml,Sl.i[Pl][Cl]=Ll,Ll=xl?Il.o[Pl][Cl]:Il.o[Pl][Cl]+(Al.o[Pl][Cl]-Il.o[Pl][Cl])*Ml,Sl.o[Pl][Cl]=Ll,Ll=xl?Il.v[Pl][Cl]:Il.v[Pl][Cl]+(Al.v[Pl][Cl]-Il.v[Pl][Cl])*Ml,Sl.v[Pl][Cl]=Ll}function zs(){var _l=this.comp.renderedFrame-this.offsetTime,Sl=this.keyframes[0].t-this.offsetTime,Tl=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Il=this._caching.lastFrame;return Il!==-999999&&(Il<Sl&&_l<Sl||Il>Tl&&_l>Tl)||(this._caching.lastIndex=Il<_l?this._caching.lastIndex:0,this.interpolateShape(_l,this.pv,this._caching)),this._caching.lastFrame=_l,this.pv}function Ws(){this.paths=this.localShapeCollection}function qs(_l){(function(Sl,Tl){if(Sl._length!==Tl._length||Sl.c!==Tl.c)return!1;var Il,Al=Sl._length;for(Il=0;Il<Al;Il+=1)if(Sl.v[Il][0]!==Tl.v[Il][0]||Sl.v[Il][1]!==Tl.v[Il][1]||Sl.o[Il][0]!==Tl.o[Il][0]||Sl.o[Il][1]!==Tl.o[Il][1]||Sl.i[Il][0]!==Tl.i[Il][0]||Sl.i[Il][1]!==Tl.i[Il][1])return!1;return!0})(this.v,_l)||(this.v=shapePool.clone(_l),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Ys(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var _l,Sl;this.lock=!0,this._mdf=!1,_l=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var Tl=this.effectsSequence.length;for(Sl=0;Sl<Tl;Sl+=1)_l=this.effectsSequence[Sl](_l);this.setVValue(_l),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function Xs(_l,Sl,Tl){this.propType="shape",this.comp=_l.comp,this.container=_l,this.elem=_l,this.data=Sl,this.k=!1,this.kf=!1,this._mdf=!1;var Il=Tl===3?Sl.pt.k:Sl.ks.k;this.v=shapePool.clone(Il),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Ws,this.effectsSequence=[]}function Zs(_l){this.effectsSequence.push(_l),this.container.addDynamicProperty(this)}function yl(_l,Sl,Tl){this.propType="shape",this.comp=_l.comp,this.elem=_l,this.container=_l,this.offsetTime=_l.data.st,this.keyframes=Tl===3?Sl.pt.k:Sl.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Il=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Il),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=Ws,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[zs.bind(this)]}Xs.prototype.interpolateShape=at,Xs.prototype.getValue=Ys,Xs.prototype.setVValue=qs,Xs.prototype.addEffect=Zs,yl.prototype.getValue=Ys,yl.prototype.interpolateShape=at,yl.prototype.setVValue=qs,yl.prototype.addEffect=Zs;var Js=function(){var _l=roundCorner;function Sl(Tl,Il){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Il.d,this.elem=Tl,this.comp=Tl.comp,this.frameId=-1,this.initDynamicPropertyContainer(Tl),this.p=PropertyFactory.getProp(Tl,Il.p,1,0,this),this.s=PropertyFactory.getProp(Tl,Il.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Sl.prototype={reset:Ws,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Tl=this.p.v[0],Il=this.p.v[1],Al=this.s.v[0]/2,xl=this.s.v[1]/2,Pl=this.d!==3,Cl=this.v;Cl.v[0][0]=Tl,Cl.v[0][1]=Il-xl,Cl.v[1][0]=Pl?Tl+Al:Tl-Al,Cl.v[1][1]=Il,Cl.v[2][0]=Tl,Cl.v[2][1]=Il+xl,Cl.v[3][0]=Pl?Tl-Al:Tl+Al,Cl.v[3][1]=Il,Cl.i[0][0]=Pl?Tl-Al*_l:Tl+Al*_l,Cl.i[0][1]=Il-xl,Cl.i[1][0]=Pl?Tl+Al:Tl-Al,Cl.i[1][1]=Il-xl*_l,Cl.i[2][0]=Pl?Tl+Al*_l:Tl-Al*_l,Cl.i[2][1]=Il+xl,Cl.i[3][0]=Pl?Tl-Al:Tl+Al,Cl.i[3][1]=Il+xl*_l,Cl.o[0][0]=Pl?Tl+Al*_l:Tl-Al*_l,Cl.o[0][1]=Il-xl,Cl.o[1][0]=Pl?Tl+Al:Tl-Al,Cl.o[1][1]=Il+xl*_l,Cl.o[2][0]=Pl?Tl-Al*_l:Tl+Al*_l,Cl.o[2][1]=Il+xl,Cl.o[3][0]=Pl?Tl-Al:Tl+Al,Cl.o[3][1]=Il-xl*_l}},extendPrototype([DynamicPropertyContainer],Sl),Sl}(),$l=function(){function _l(Sl,Tl){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Sl,this.comp=Sl.comp,this.data=Tl,this.frameId=-1,this.d=Tl.d,this.initDynamicPropertyContainer(Sl),Tl.sy===1?(this.ir=PropertyFactory.getProp(Sl,Tl.ir,0,0,this),this.is=PropertyFactory.getProp(Sl,Tl.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Sl,Tl.pt,0,0,this),this.p=PropertyFactory.getProp(Sl,Tl.p,1,0,this),this.r=PropertyFactory.getProp(Sl,Tl.r,0,degToRads,this),this.or=PropertyFactory.getProp(Sl,Tl.or,0,0,this),this.os=PropertyFactory.getProp(Sl,Tl.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _l.prototype={reset:Ws,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Sl,Tl,Il,Al,xl=2*Math.floor(this.pt.v),Pl=2*Math.PI/xl,Cl=!0,Rl=this.or.v,Ol=this.ir.v,Ml=this.os.v,Ll=this.is.v,Bl=2*Math.PI*Rl/(2*xl),Wl=2*Math.PI*Ol/(2*xl),Yl=-Math.PI/2;Yl+=this.r.v;var Kl=this.data.d===3?-1:1;for(this.v._length=0,Sl=0;Sl<xl;Sl+=1){Il=Cl?Ml:Ll,Al=Cl?Bl:Wl;var Xl=(Tl=Cl?Rl:Ol)*Math.cos(Yl),Ul=Tl*Math.sin(Yl),Vl=Xl===0&&Ul===0?0:Ul/Math.sqrt(Xl*Xl+Ul*Ul),Nl=Xl===0&&Ul===0?0:-Xl/Math.sqrt(Xl*Xl+Ul*Ul);Xl+=+this.p.v[0],Ul+=+this.p.v[1],this.v.setTripleAt(Xl,Ul,Xl-Vl*Al*Il*Kl,Ul-Nl*Al*Il*Kl,Xl+Vl*Al*Il*Kl,Ul+Nl*Al*Il*Kl,Sl,!0),Cl=!Cl,Yl+=Pl*Kl}},convertPolygonToPath:function(){var Sl,Tl=Math.floor(this.pt.v),Il=2*Math.PI/Tl,Al=this.or.v,xl=this.os.v,Pl=2*Math.PI*Al/(4*Tl),Cl=.5*-Math.PI,Rl=this.data.d===3?-1:1;for(Cl+=this.r.v,this.v._length=0,Sl=0;Sl<Tl;Sl+=1){var Ol=Al*Math.cos(Cl),Ml=Al*Math.sin(Cl),Ll=Ol===0&&Ml===0?0:Ml/Math.sqrt(Ol*Ol+Ml*Ml),Bl=Ol===0&&Ml===0?0:-Ol/Math.sqrt(Ol*Ol+Ml*Ml);Ol+=+this.p.v[0],Ml+=+this.p.v[1],this.v.setTripleAt(Ol,Ml,Ol-Ll*Pl*xl*Rl,Ml-Bl*Pl*xl*Rl,Ol+Ll*Pl*xl*Rl,Ml+Bl*Pl*xl*Rl,Sl,!0),Cl+=Il*Rl}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_l),_l}(),El=function(){function _l(Sl,Tl){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Sl,this.comp=Sl.comp,this.frameId=-1,this.d=Tl.d,this.initDynamicPropertyContainer(Sl),this.p=PropertyFactory.getProp(Sl,Tl.p,1,0,this),this.s=PropertyFactory.getProp(Sl,Tl.s,1,0,this),this.r=PropertyFactory.getProp(Sl,Tl.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _l.prototype={convertRectToPath:function(){var Sl=this.p.v[0],Tl=this.p.v[1],Il=this.s.v[0]/2,Al=this.s.v[1]/2,xl=bmMin(Il,Al,this.r.v),Pl=xl*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Sl+Il,Tl-Al+xl,Sl+Il,Tl-Al+xl,Sl+Il,Tl-Al+Pl,0,!0),this.v.setTripleAt(Sl+Il,Tl+Al-xl,Sl+Il,Tl+Al-Pl,Sl+Il,Tl+Al-xl,1,!0),xl!==0?(this.v.setTripleAt(Sl+Il-xl,Tl+Al,Sl+Il-xl,Tl+Al,Sl+Il-Pl,Tl+Al,2,!0),this.v.setTripleAt(Sl-Il+xl,Tl+Al,Sl-Il+Pl,Tl+Al,Sl-Il+xl,Tl+Al,3,!0),this.v.setTripleAt(Sl-Il,Tl+Al-xl,Sl-Il,Tl+Al-xl,Sl-Il,Tl+Al-Pl,4,!0),this.v.setTripleAt(Sl-Il,Tl-Al+xl,Sl-Il,Tl-Al+Pl,Sl-Il,Tl-Al+xl,5,!0),this.v.setTripleAt(Sl-Il+xl,Tl-Al,Sl-Il+xl,Tl-Al,Sl-Il+Pl,Tl-Al,6,!0),this.v.setTripleAt(Sl+Il-xl,Tl-Al,Sl+Il-Pl,Tl-Al,Sl+Il-xl,Tl-Al,7,!0)):(this.v.setTripleAt(Sl-Il,Tl+Al,Sl-Il+Pl,Tl+Al,Sl-Il,Tl+Al,2),this.v.setTripleAt(Sl-Il,Tl-Al,Sl-Il,Tl-Al+Pl,Sl-Il,Tl-Al,3))):(this.v.setTripleAt(Sl+Il,Tl-Al+xl,Sl+Il,Tl-Al+Pl,Sl+Il,Tl-Al+xl,0,!0),xl!==0?(this.v.setTripleAt(Sl+Il-xl,Tl-Al,Sl+Il-xl,Tl-Al,Sl+Il-Pl,Tl-Al,1,!0),this.v.setTripleAt(Sl-Il+xl,Tl-Al,Sl-Il+Pl,Tl-Al,Sl-Il+xl,Tl-Al,2,!0),this.v.setTripleAt(Sl-Il,Tl-Al+xl,Sl-Il,Tl-Al+xl,Sl-Il,Tl-Al+Pl,3,!0),this.v.setTripleAt(Sl-Il,Tl+Al-xl,Sl-Il,Tl+Al-Pl,Sl-Il,Tl+Al-xl,4,!0),this.v.setTripleAt(Sl-Il+xl,Tl+Al,Sl-Il+xl,Tl+Al,Sl-Il+Pl,Tl+Al,5,!0),this.v.setTripleAt(Sl+Il-xl,Tl+Al,Sl+Il-Pl,Tl+Al,Sl+Il-xl,Tl+Al,6,!0),this.v.setTripleAt(Sl+Il,Tl+Al-xl,Sl+Il,Tl+Al-xl,Sl+Il,Tl+Al-Pl,7,!0)):(this.v.setTripleAt(Sl-Il,Tl-Al,Sl-Il+Pl,Tl-Al,Sl-Il,Tl-Al,1,!0),this.v.setTripleAt(Sl-Il,Tl+Al,Sl-Il,Tl+Al-Pl,Sl-Il,Tl+Al,2,!0),this.v.setTripleAt(Sl+Il,Tl+Al,Sl+Il-Pl,Tl+Al,Sl+Il,Tl+Al,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Ws},extendPrototype([DynamicPropertyContainer],_l),_l}(),wl={getShapeProp:function(_l,Sl,Tl){var Il;return Tl===3||Tl===4?Il=(Tl===3?Sl.pt:Sl.ks).k.length?new yl(_l,Sl,Tl):new Xs(_l,Sl,Tl):Tl===5?Il=new El(_l,Sl):Tl===6?Il=new Js(_l,Sl):Tl===7&&(Il=new $l(_l,Sl)),Il.k&&_l.addDynamicProperty(Il),Il},getConstructorFunction:function(){return Xs},getKeyframedConstructorFunction:function(){return yl}};return wl}(),Matrix=function(){var at=Math.cos,zs=Math.sin,Ws=Math.tan,qs=Math.round;function Ys(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Xs(Fl){if(Fl===0)return this;var Hl=at(Fl),Zl=zs(Fl);return this._t(Hl,-Zl,0,0,Zl,Hl,0,0,0,0,1,0,0,0,0,1)}function Zs(Fl){if(Fl===0)return this;var Hl=at(Fl),Zl=zs(Fl);return this._t(1,0,0,0,0,Hl,-Zl,0,0,Zl,Hl,0,0,0,0,1)}function yl(Fl){if(Fl===0)return this;var Hl=at(Fl),Zl=zs(Fl);return this._t(Hl,0,Zl,0,0,1,0,0,-Zl,0,Hl,0,0,0,0,1)}function Js(Fl){if(Fl===0)return this;var Hl=at(Fl),Zl=zs(Fl);return this._t(Hl,-Zl,0,0,Zl,Hl,0,0,0,0,1,0,0,0,0,1)}function $l(Fl,Hl){return this._t(1,Hl,Fl,1,0,0)}function El(Fl,Hl){return this.shear(Ws(Fl),Ws(Hl))}function wl(Fl,Hl){var Zl=at(Hl),Su=zs(Hl);return this._t(Zl,Su,0,0,-Su,Zl,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Ws(Fl),1,0,0,0,0,1,0,0,0,0,1)._t(Zl,-Su,0,0,Su,Zl,0,0,0,0,1,0,0,0,0,1)}function _l(Fl,Hl,Zl){return Zl||Zl===0||(Zl=1),Fl===1&&Hl===1&&Zl===1?this:this._t(Fl,0,0,0,0,Hl,0,0,0,0,Zl,0,0,0,0,1)}function Sl(Fl,Hl,Zl,Su,$u,Pu,ku,Tu,Ru,Mu,Hu,Ku,Fu,ju,qu,Zu){return this.props[0]=Fl,this.props[1]=Hl,this.props[2]=Zl,this.props[3]=Su,this.props[4]=$u,this.props[5]=Pu,this.props[6]=ku,this.props[7]=Tu,this.props[8]=Ru,this.props[9]=Mu,this.props[10]=Hu,this.props[11]=Ku,this.props[12]=Fu,this.props[13]=ju,this.props[14]=qu,this.props[15]=Zu,this}function Tl(Fl,Hl,Zl){return Zl=Zl||0,Fl!==0||Hl!==0||Zl!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Fl,Hl,Zl,1):this}function Il(Fl,Hl,Zl,Su,$u,Pu,ku,Tu,Ru,Mu,Hu,Ku,Fu,ju,qu,Zu){var _d=this.props;if(Fl===1&&Hl===0&&Zl===0&&Su===0&&$u===0&&Pu===1&&ku===0&&Tu===0&&Ru===0&&Mu===0&&Hu===1&&Ku===0)return _d[12]=_d[12]*Fl+_d[15]*Fu,_d[13]=_d[13]*Pu+_d[15]*ju,_d[14]=_d[14]*Hu+_d[15]*qu,_d[15]*=Zu,this._identityCalculated=!1,this;var vp=_d[0],Ap=_d[1],Rp=_d[2],xp=_d[3],Gp=_d[4],Cp=_d[5],em=_d[6],dm=_d[7],Dp=_d[8],Qu=_d[9],yp=_d[10],tm=_d[11],Am=_d[12],ym=_d[13],vm=_d[14],am=_d[15];return _d[0]=vp*Fl+Ap*$u+Rp*Ru+xp*Fu,_d[1]=vp*Hl+Ap*Pu+Rp*Mu+xp*ju,_d[2]=vp*Zl+Ap*ku+Rp*Hu+xp*qu,_d[3]=vp*Su+Ap*Tu+Rp*Ku+xp*Zu,_d[4]=Gp*Fl+Cp*$u+em*Ru+dm*Fu,_d[5]=Gp*Hl+Cp*Pu+em*Mu+dm*ju,_d[6]=Gp*Zl+Cp*ku+em*Hu+dm*qu,_d[7]=Gp*Su+Cp*Tu+em*Ku+dm*Zu,_d[8]=Dp*Fl+Qu*$u+yp*Ru+tm*Fu,_d[9]=Dp*Hl+Qu*Pu+yp*Mu+tm*ju,_d[10]=Dp*Zl+Qu*ku+yp*Hu+tm*qu,_d[11]=Dp*Su+Qu*Tu+yp*Ku+tm*Zu,_d[12]=Am*Fl+ym*$u+vm*Ru+am*Fu,_d[13]=Am*Hl+ym*Pu+vm*Mu+am*ju,_d[14]=Am*Zl+ym*ku+vm*Hu+am*qu,_d[15]=Am*Su+ym*Tu+vm*Ku+am*Zu,this._identityCalculated=!1,this}function Al(Fl){var Hl=Fl.props;return this.transform(Hl[0],Hl[1],Hl[2],Hl[3],Hl[4],Hl[5],Hl[6],Hl[7],Hl[8],Hl[9],Hl[10],Hl[11],Hl[12],Hl[13],Hl[14],Hl[15])}function xl(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Pl(Fl){for(var Hl=0;Hl<16;){if(Fl.props[Hl]!==this.props[Hl])return!1;Hl+=1}return!0}function Cl(Fl){var Hl;for(Hl=0;Hl<16;Hl+=1)Fl.props[Hl]=this.props[Hl];return Fl}function Rl(Fl){var Hl;for(Hl=0;Hl<16;Hl+=1)this.props[Hl]=Fl[Hl]}function Ol(Fl,Hl,Zl){return{x:Fl*this.props[0]+Hl*this.props[4]+Zl*this.props[8]+this.props[12],y:Fl*this.props[1]+Hl*this.props[5]+Zl*this.props[9]+this.props[13],z:Fl*this.props[2]+Hl*this.props[6]+Zl*this.props[10]+this.props[14]}}function Ml(Fl,Hl,Zl){return Fl*this.props[0]+Hl*this.props[4]+Zl*this.props[8]+this.props[12]}function Ll(Fl,Hl,Zl){return Fl*this.props[1]+Hl*this.props[5]+Zl*this.props[9]+this.props[13]}function Bl(Fl,Hl,Zl){return Fl*this.props[2]+Hl*this.props[6]+Zl*this.props[10]+this.props[14]}function Wl(){var Fl=this.props[0]*this.props[5]-this.props[1]*this.props[4],Hl=this.props[5]/Fl,Zl=-this.props[1]/Fl,Su=-this.props[4]/Fl,$u=this.props[0]/Fl,Pu=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Fl,ku=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Fl,Tu=new Matrix;return Tu.props[0]=Hl,Tu.props[1]=Zl,Tu.props[4]=Su,Tu.props[5]=$u,Tu.props[12]=Pu,Tu.props[13]=ku,Tu}function Yl(Fl){return this.getInverseMatrix().applyToPointArray(Fl[0],Fl[1],Fl[2]||0)}function Kl(Fl){var Hl,Zl=Fl.length,Su=[];for(Hl=0;Hl<Zl;Hl+=1)Su[Hl]=Yl(Fl[Hl]);return Su}function Xl(Fl,Hl,Zl){var Su=createTypedArray("float32",6);if(this.isIdentity())Su[0]=Fl[0],Su[1]=Fl[1],Su[2]=Hl[0],Su[3]=Hl[1],Su[4]=Zl[0],Su[5]=Zl[1];else{var $u=this.props[0],Pu=this.props[1],ku=this.props[4],Tu=this.props[5],Ru=this.props[12],Mu=this.props[13];Su[0]=Fl[0]*$u+Fl[1]*ku+Ru,Su[1]=Fl[0]*Pu+Fl[1]*Tu+Mu,Su[2]=Hl[0]*$u+Hl[1]*ku+Ru,Su[3]=Hl[0]*Pu+Hl[1]*Tu+Mu,Su[4]=Zl[0]*$u+Zl[1]*ku+Ru,Su[5]=Zl[0]*Pu+Zl[1]*Tu+Mu}return Su}function Ul(Fl,Hl,Zl){return this.isIdentity()?[Fl,Hl,Zl]:[Fl*this.props[0]+Hl*this.props[4]+Zl*this.props[8]+this.props[12],Fl*this.props[1]+Hl*this.props[5]+Zl*this.props[9]+this.props[13],Fl*this.props[2]+Hl*this.props[6]+Zl*this.props[10]+this.props[14]]}function Vl(Fl,Hl){if(this.isIdentity())return Fl+","+Hl;var Zl=this.props;return Math.round(100*(Fl*Zl[0]+Hl*Zl[4]+Zl[12]))/100+","+Math.round(100*(Fl*Zl[1]+Hl*Zl[5]+Zl[13]))/100}function Nl(){for(var Fl=0,Hl=this.props,Zl="matrix3d(";Fl<16;)Zl+=qs(1e4*Hl[Fl])/1e4,Zl+=Fl===15?")":",",Fl+=1;return Zl}function Dl(Fl){return Fl<1e-6&&Fl>0||Fl>-1e-6&&Fl<0?qs(1e4*Fl)/1e4:Fl}function Gl(){var Fl=this.props;return"matrix("+Dl(Fl[0])+","+Dl(Fl[1])+","+Dl(Fl[4])+","+Dl(Fl[5])+","+Dl(Fl[12])+","+Dl(Fl[13])+")"}return function(){this.reset=Ys,this.rotate=Xs,this.rotateX=Zs,this.rotateY=yl,this.rotateZ=Js,this.skew=El,this.skewFromAxis=wl,this.shear=$l,this.scale=_l,this.setTransform=Sl,this.translate=Tl,this.transform=Il,this.multiply=Al,this.applyToPoint=Ol,this.applyToX=Ml,this.applyToY=Ll,this.applyToZ=Bl,this.applyToPointArray=Ul,this.applyToTriplePoints=Xl,this.applyToPointStringified=Vl,this.toCSS=Nl,this.to2dCSS=Gl,this.clone=Cl,this.cloneFromProps=Rl,this.equals=Pl,this.inversePoints=Kl,this.inversePoint=Yl,this.getInverseMatrix=Wl,this._t=this.transform,this.isIdentity=xl,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(at){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}var lottie={};function setLocation(at){setLocationHref(at)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(at){setSubframeEnabled(at)}function setPrefix(at){setIdPrefix(at)}function loadAnimation(at){return animationManager.loadAnimation(at)}function setQuality(at){if(typeof at=="string")switch(at){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(at)&&at>1&&setDefaultCurveSegments(at)}function inBrowser(){return typeof navigator<"u"}function installPlugin(at,zs){at==="expressions"&&setExpressionsPlugin(zs)}function getFactory(at){switch(at){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(at){for(var zs=queryString.split("&"),Ws=0;Ws<zs.length;Ws+=1){var qs=zs[Ws].split("=");if(decodeURIComponent(qs[0])==at)return decodeURIComponent(qs[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(at){}var ShapeModifiers=function(){var at={},zs={};return at.registerModifier=function(Ws,qs){zs[Ws]||(zs[Ws]=qs)},at.getModifier=function(Ws,qs,Ys){return new zs[Ws](qs,Ys)},at}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(at){if(!this.closed){at.sh.container.addDynamicProperty(at.sh);var zs={shape:at.sh,data:at,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(zs),this.addShapeToModifier(zs),this._isAnimated&&at.setAsAnimated()}},ShapeModifier.prototype.init=function(at,zs){this.shapes=[],this.elem=at,this.initDynamicPropertyContainer(at),this.initModifierProperties(at,zs),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(at,zs){this.s=PropertyFactory.getProp(at,zs.s,0,.01,this),this.e=PropertyFactory.getProp(at,zs.e,0,.01,this),this.o=PropertyFactory.getProp(at,zs.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=zs.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(at){at.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(at,zs,Ws,qs,Ys){var Xs=[];zs<=1?Xs.push({s:at,e:zs}):at>=1?Xs.push({s:at-1,e:zs-1}):(Xs.push({s:at,e:1}),Xs.push({s:0,e:zs-1}));var Zs,yl,Js=[],$l=Xs.length;for(Zs=0;Zs<$l;Zs+=1){var El,wl;(yl=Xs[Zs]).e*Ys<qs||yl.s*Ys>qs+Ws||(El=yl.s*Ys<=qs?0:(yl.s*Ys-qs)/Ws,wl=yl.e*Ys>=qs+Ws?1:(yl.e*Ys-qs)/Ws,Js.push([El,wl]))}return Js.length||Js.push([0,0]),Js},TrimModifier.prototype.releasePathsData=function(at){var zs,Ws=at.length;for(zs=0;zs<Ws;zs+=1)segmentsLengthPool.release(at[zs]);return at.length=0,at},TrimModifier.prototype.processShapes=function(at){var zs,Ws,qs,Ys;if(this._mdf||at){var Xs=this.o.v%360/360;if(Xs<0&&(Xs+=1),(zs=this.s.v>1?1+Xs:this.s.v<0?0+Xs:this.s.v+Xs)>(Ws=this.e.v>1?1+Xs:this.e.v<0?0+Xs:this.e.v+Xs)){var Zs=zs;zs=Ws,Ws=Zs}zs=1e-4*Math.round(1e4*zs),Ws=1e-4*Math.round(1e4*Ws),this.sValue=zs,this.eValue=Ws}else zs=this.sValue,Ws=this.eValue;var yl,Js,$l,El,wl,_l=this.shapes.length,Sl=0;if(Ws===zs)for(Ys=0;Ys<_l;Ys+=1)this.shapes[Ys].localShapeCollection.releaseShapes(),this.shapes[Ys].shape._mdf=!0,this.shapes[Ys].shape.paths=this.shapes[Ys].localShapeCollection,this._mdf&&(this.shapes[Ys].pathsData.length=0);else if(Ws===1&&zs===0||Ws===0&&zs===1){if(this._mdf)for(Ys=0;Ys<_l;Ys+=1)this.shapes[Ys].pathsData.length=0,this.shapes[Ys].shape._mdf=!0}else{var Tl,Il,Al=[];for(Ys=0;Ys<_l;Ys+=1)if((Tl=this.shapes[Ys]).shape._mdf||this._mdf||at||this.m===2){if(Js=(qs=Tl.shape.paths)._length,wl=0,!Tl.shape._mdf&&Tl.pathsData.length)wl=Tl.totalShapeLength;else{for($l=this.releasePathsData(Tl.pathsData),yl=0;yl<Js;yl+=1)El=bez.getSegmentsLength(qs.shapes[yl]),$l.push(El),wl+=El.totalLength;Tl.totalShapeLength=wl,Tl.pathsData=$l}Sl+=wl,Tl.shape._mdf=!0}else Tl.shape.paths=Tl.localShapeCollection;var xl,Pl=zs,Cl=Ws,Rl=0;for(Ys=_l-1;Ys>=0;Ys-=1)if((Tl=this.shapes[Ys]).shape._mdf){for((Il=Tl.localShapeCollection).releaseShapes(),this.m===2&&_l>1?(xl=this.calculateShapeEdges(zs,Ws,Tl.totalShapeLength,Rl,Sl),Rl+=Tl.totalShapeLength):xl=[[Pl,Cl]],Js=xl.length,yl=0;yl<Js;yl+=1){Pl=xl[yl][0],Cl=xl[yl][1],Al.length=0,Cl<=1?Al.push({s:Tl.totalShapeLength*Pl,e:Tl.totalShapeLength*Cl}):Pl>=1?Al.push({s:Tl.totalShapeLength*(Pl-1),e:Tl.totalShapeLength*(Cl-1)}):(Al.push({s:Tl.totalShapeLength*Pl,e:Tl.totalShapeLength}),Al.push({s:0,e:Tl.totalShapeLength*(Cl-1)}));var Ol=this.addShapes(Tl,Al[0]);if(Al[0].s!==Al[0].e){if(Al.length>1)if(Tl.shape.paths.shapes[Tl.shape.paths._length-1].c){var Ml=Ol.pop();this.addPaths(Ol,Il),Ol=this.addShapes(Tl,Al[1],Ml)}else this.addPaths(Ol,Il),Ol=this.addShapes(Tl,Al[1]);this.addPaths(Ol,Il)}}Tl.shape.paths=Il}}},TrimModifier.prototype.addPaths=function(at,zs){var Ws,qs=at.length;for(Ws=0;Ws<qs;Ws+=1)zs.addShape(at[Ws])},TrimModifier.prototype.addSegment=function(at,zs,Ws,qs,Ys,Xs,Zs){Ys.setXYAt(zs[0],zs[1],"o",Xs),Ys.setXYAt(Ws[0],Ws[1],"i",Xs+1),Zs&&Ys.setXYAt(at[0],at[1],"v",Xs),Ys.setXYAt(qs[0],qs[1],"v",Xs+1)},TrimModifier.prototype.addSegmentFromArray=function(at,zs,Ws,qs){zs.setXYAt(at[1],at[5],"o",Ws),zs.setXYAt(at[2],at[6],"i",Ws+1),qs&&zs.setXYAt(at[0],at[4],"v",Ws),zs.setXYAt(at[3],at[7],"v",Ws+1)},TrimModifier.prototype.addShapes=function(at,zs,Ws){var qs,Ys,Xs,Zs,yl,Js,$l,El,wl=at.pathsData,_l=at.shape.paths.shapes,Sl=at.shape.paths._length,Tl=0,Il=[],Al=!0;for(Ws?(yl=Ws._length,El=Ws._length):(Ws=shapePool.newElement(),yl=0,El=0),Il.push(Ws),qs=0;qs<Sl;qs+=1){for(Js=wl[qs].lengths,Ws.c=_l[qs].c,Xs=_l[qs].c?Js.length:Js.length+1,Ys=1;Ys<Xs;Ys+=1)if(Tl+(Zs=Js[Ys-1]).addedLength<zs.s)Tl+=Zs.addedLength,Ws.c=!1;else{if(Tl>zs.e){Ws.c=!1;break}zs.s<=Tl&&zs.e>=Tl+Zs.addedLength?(this.addSegment(_l[qs].v[Ys-1],_l[qs].o[Ys-1],_l[qs].i[Ys],_l[qs].v[Ys],Ws,yl,Al),Al=!1):($l=bez.getNewSegment(_l[qs].v[Ys-1],_l[qs].v[Ys],_l[qs].o[Ys-1],_l[qs].i[Ys],(zs.s-Tl)/Zs.addedLength,(zs.e-Tl)/Zs.addedLength,Js[Ys-1]),this.addSegmentFromArray($l,Ws,yl,Al),Al=!1,Ws.c=!1),Tl+=Zs.addedLength,yl+=1}if(_l[qs].c&&Js.length){if(Zs=Js[Ys-1],Tl<=zs.e){var xl=Js[Ys-1].addedLength;zs.s<=Tl&&zs.e>=Tl+xl?(this.addSegment(_l[qs].v[Ys-1],_l[qs].o[Ys-1],_l[qs].i[0],_l[qs].v[0],Ws,yl,Al),Al=!1):($l=bez.getNewSegment(_l[qs].v[Ys-1],_l[qs].v[0],_l[qs].o[Ys-1],_l[qs].i[0],(zs.s-Tl)/xl,(zs.e-Tl)/xl,Js[Ys-1]),this.addSegmentFromArray($l,Ws,yl,Al),Al=!1,Ws.c=!1)}else Ws.c=!1;Tl+=Zs.addedLength,yl+=1}if(Ws._length&&(Ws.setXYAt(Ws.v[El][0],Ws.v[El][1],"i",El),Ws.setXYAt(Ws.v[Ws._length-1][0],Ws.v[Ws._length-1][1],"o",Ws._length-1)),Tl>zs.e)break;qs<Sl-1&&(Ws=shapePool.newElement(),Al=!0,Il.push(Ws),yl=0)}return Il},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(at,zs){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(at,zs.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(at,zs){var Ws=zs/100,qs=[0,0],Ys=at._length,Xs=0;for(Xs=0;Xs<Ys;Xs+=1)qs[0]+=at.v[Xs][0],qs[1]+=at.v[Xs][1];qs[0]/=Ys,qs[1]/=Ys;var Zs,yl,Js,$l,El,wl,_l=shapePool.newElement();for(_l.c=at.c,Xs=0;Xs<Ys;Xs+=1)Zs=at.v[Xs][0]+(qs[0]-at.v[Xs][0])*Ws,yl=at.v[Xs][1]+(qs[1]-at.v[Xs][1])*Ws,Js=at.o[Xs][0]+(qs[0]-at.o[Xs][0])*-Ws,$l=at.o[Xs][1]+(qs[1]-at.o[Xs][1])*-Ws,El=at.i[Xs][0]+(qs[0]-at.i[Xs][0])*-Ws,wl=at.i[Xs][1]+(qs[1]-at.i[Xs][1])*-Ws,_l.setTripleAt(Zs,yl,Js,$l,El,wl,Xs);return _l},PuckerAndBloatModifier.prototype.processShapes=function(at){var zs,Ws,qs,Ys,Xs,Zs,yl=this.shapes.length,Js=this.amount.v;if(Js!==0)for(Ws=0;Ws<yl;Ws+=1){if(Zs=(Xs=this.shapes[Ws]).localShapeCollection,Xs.shape._mdf||this._mdf||at)for(Zs.releaseShapes(),Xs.shape._mdf=!0,zs=Xs.shape.paths.shapes,Ys=Xs.shape.paths._length,qs=0;qs<Ys;qs+=1)Zs.addShape(this.processPath(zs[qs],Js));Xs.shape.paths=Xs.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var at=[0,0];function zs(Ws,qs,Ys){if(this.elem=Ws,this.frameId=-1,this.propType="transform",this.data=qs,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Ys||Ws),qs.p&&qs.p.s?(this.px=PropertyFactory.getProp(Ws,qs.p.x,0,0,this),this.py=PropertyFactory.getProp(Ws,qs.p.y,0,0,this),qs.p.z&&(this.pz=PropertyFactory.getProp(Ws,qs.p.z,0,0,this))):this.p=PropertyFactory.getProp(Ws,qs.p||{k:[0,0,0]},1,0,this),qs.rx){if(this.rx=PropertyFactory.getProp(Ws,qs.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Ws,qs.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Ws,qs.rz,0,degToRads,this),qs.or.k[0].ti){var Xs,Zs=qs.or.k.length;for(Xs=0;Xs<Zs;Xs+=1)qs.or.k[Xs].to=null,qs.or.k[Xs].ti=null}this.or=PropertyFactory.getProp(Ws,qs.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Ws,qs.r||{k:0},0,degToRads,this);qs.sk&&(this.sk=PropertyFactory.getProp(Ws,qs.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Ws,qs.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Ws,qs.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Ws,qs.s||{k:[100,100,100]},1,.01,this),qs.o?this.o=PropertyFactory.getProp(Ws,qs.o,0,.01,Ws):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return zs.prototype={applyToMatrix:function(Ws){var qs=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||qs,this.a&&Ws.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Ws.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Ws.skewFromAxis(-this.sk.v,this.sa.v),this.r?Ws.rotate(-this.r.v):Ws.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Ws.translate(this.px.v,this.py.v,-this.pz.v):Ws.translate(this.px.v,this.py.v,0):Ws.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(Ws){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Ws){var qs;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Ys,Xs;if(qs=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Ys=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/qs,0),Xs=this.p.getValueAtTime(this.p.keyframes[0].t/qs,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Ys=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/qs,0),Xs=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/qs,0)):(Ys=this.p.pv,Xs=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/qs,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Ys=[],Xs=[];var Zs=this.px,yl=this.py;Zs._caching.lastFrame+Zs.offsetTime<=Zs.keyframes[0].t?(Ys[0]=Zs.getValueAtTime((Zs.keyframes[0].t+.01)/qs,0),Ys[1]=yl.getValueAtTime((yl.keyframes[0].t+.01)/qs,0),Xs[0]=Zs.getValueAtTime(Zs.keyframes[0].t/qs,0),Xs[1]=yl.getValueAtTime(yl.keyframes[0].t/qs,0)):Zs._caching.lastFrame+Zs.offsetTime>=Zs.keyframes[Zs.keyframes.length-1].t?(Ys[0]=Zs.getValueAtTime(Zs.keyframes[Zs.keyframes.length-1].t/qs,0),Ys[1]=yl.getValueAtTime(yl.keyframes[yl.keyframes.length-1].t/qs,0),Xs[0]=Zs.getValueAtTime((Zs.keyframes[Zs.keyframes.length-1].t-.01)/qs,0),Xs[1]=yl.getValueAtTime((yl.keyframes[yl.keyframes.length-1].t-.01)/qs,0)):(Ys=[Zs.pv,yl.pv],Xs[0]=Zs.getValueAtTime((Zs._caching.lastFrame+Zs.offsetTime-.01)/qs,Zs.offsetTime),Xs[1]=yl.getValueAtTime((yl._caching.lastFrame+yl.offsetTime-.01)/qs,yl.offsetTime))}else Ys=Xs=at;this.v.rotate(-Math.atan2(Ys[1]-Xs[1],Ys[0]-Xs[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],zs),zs.prototype.addDynamicProperty=function(Ws){this._addDynamicProperty(Ws),this.elem.addDynamicProperty(Ws),this._isDirty=!0},zs.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(Ws,qs,Ys){return new zs(Ws,qs,Ys)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(at,zs){return 1e5*Math.abs(at-zs)<=Math.min(Math.abs(at),Math.abs(zs))}function floatZero(at){return Math.abs(at)<=1e-5}function lerp(at,zs,Ws){return at*(1-Ws)+zs*Ws}function lerpPoint(at,zs,Ws){return[lerp(at[0],zs[0],Ws),lerp(at[1],zs[1],Ws)]}function quadRoots(at,zs,Ws){if(at===0)return[];var qs=zs*zs-4*at*Ws;if(qs<0)return[];var Ys=-zs/(2*at);if(qs===0)return[Ys];var Xs=Math.sqrt(qs)/(2*at);return[Ys-Xs,Ys+Xs]}function polynomialCoefficients(at,zs,Ws,qs){return[3*zs-at-3*Ws+qs,3*at-6*zs+3*Ws,-3*at+3*zs,at]}function singlePoint(at){return new PolynomialBezier(at,at,at,at,!1)}function PolynomialBezier(at,zs,Ws,qs,Ys){Ys&&pointEqual(at,zs)&&(zs=lerpPoint(at,qs,1/3)),Ys&&pointEqual(Ws,qs)&&(Ws=lerpPoint(at,qs,2/3));var Xs=polynomialCoefficients(at[0],zs[0],Ws[0],qs[0]),Zs=polynomialCoefficients(at[1],zs[1],Ws[1],qs[1]);this.a=[Xs[0],Zs[0]],this.b=[Xs[1],Zs[1]],this.c=[Xs[2],Zs[2]],this.d=[Xs[3],Zs[3]],this.points=[at,zs,Ws,qs]}function extrema(at,zs){var Ws=at.points[0][zs],qs=at.points[at.points.length-1][zs];if(Ws>qs){var Ys=qs;qs=Ws,Ws=Ys}for(var Xs=quadRoots(3*at.a[zs],2*at.b[zs],at.c[zs]),Zs=0;Zs<Xs.length;Zs+=1)if(Xs[Zs]>0&&Xs[Zs]<1){var yl=at.point(Xs[Zs])[zs];yl<Ws?Ws=yl:yl>qs&&(qs=yl)}return{min:Ws,max:qs}}function intersectData(at,zs,Ws){var qs=at.boundingBox();return{cx:qs.cx,cy:qs.cy,width:qs.width,height:qs.height,bez:at,t:(zs+Ws)/2,t1:zs,t2:Ws}}function splitData(at){var zs=at.bez.split(.5);return[intersectData(zs[0],at.t1,at.t),intersectData(zs[1],at.t,at.t2)]}function boxIntersect(at,zs){return 2*Math.abs(at.cx-zs.cx)<at.width+zs.width&&2*Math.abs(at.cy-zs.cy)<at.height+zs.height}function intersectsImpl(at,zs,Ws,qs,Ys,Xs){if(boxIntersect(at,zs))if(Ws>=Xs||at.width<=qs&&at.height<=qs&&zs.width<=qs&&zs.height<=qs)Ys.push([at.t,zs.t]);else{var Zs=splitData(at),yl=splitData(zs);intersectsImpl(Zs[0],yl[0],Ws+1,qs,Ys,Xs),intersectsImpl(Zs[0],yl[1],Ws+1,qs,Ys,Xs),intersectsImpl(Zs[1],yl[0],Ws+1,qs,Ys,Xs),intersectsImpl(Zs[1],yl[1],Ws+1,qs,Ys,Xs)}}function crossProduct(at,zs){return[at[1]*zs[2]-at[2]*zs[1],at[2]*zs[0]-at[0]*zs[2],at[0]*zs[1]-at[1]*zs[0]]}function lineIntersection(at,zs,Ws,qs){var Ys=[at[0],at[1],1],Xs=[zs[0],zs[1],1],Zs=[Ws[0],Ws[1],1],yl=[qs[0],qs[1],1],Js=crossProduct(crossProduct(Ys,Xs),crossProduct(Zs,yl));return floatZero(Js[2])?null:[Js[0]/Js[2],Js[1]/Js[2]]}function polarOffset(at,zs,Ws){return[at[0]+Math.cos(zs)*Ws,at[1]-Math.sin(zs)*Ws]}function pointDistance(at,zs){return Math.hypot(at[0]-zs[0],at[1]-zs[1])}function pointEqual(at,zs){return floatEqual(at[0],zs[0])&&floatEqual(at[1],zs[1])}function ZigZagModifier(){}function setPoint(at,zs,Ws,qs,Ys,Xs,Zs){var yl=Ws-Math.PI/2,Js=Ws+Math.PI/2,$l=zs[0]+Math.cos(Ws)*qs*Ys,El=zs[1]-Math.sin(Ws)*qs*Ys;at.setTripleAt($l,El,$l+Math.cos(yl)*Xs,El-Math.sin(yl)*Xs,$l+Math.cos(Js)*Zs,El-Math.sin(Js)*Zs,at.length())}function getPerpendicularVector(at,zs){var Ws=[zs[0]-at[0],zs[1]-at[1]],qs=.5*-Math.PI;return[Math.cos(qs)*Ws[0]-Math.sin(qs)*Ws[1],Math.sin(qs)*Ws[0]+Math.cos(qs)*Ws[1]]}function getProjectingAngle(at,zs){var Ws=zs===0?at.length()-1:zs-1,qs=(zs+1)%at.length(),Ys=getPerpendicularVector(at.v[Ws],at.v[qs]);return Math.atan2(0,1)-Math.atan2(Ys[1],Ys[0])}function zigZagCorner(at,zs,Ws,qs,Ys,Xs,Zs){var yl=getProjectingAngle(zs,Ws),Js=zs.v[Ws%zs._length],$l=zs.v[Ws===0?zs._length-1:Ws-1],El=zs.v[(Ws+1)%zs._length],wl=Xs===2?Math.sqrt(Math.pow(Js[0]-$l[0],2)+Math.pow(Js[1]-$l[1],2)):0,_l=Xs===2?Math.sqrt(Math.pow(Js[0]-El[0],2)+Math.pow(Js[1]-El[1],2)):0;setPoint(at,zs.v[Ws%zs._length],yl,Zs,qs,_l/(2*(Ys+1)),wl/(2*(Ys+1)))}function zigZagSegment(at,zs,Ws,qs,Ys,Xs){for(var Zs=0;Zs<qs;Zs+=1){var yl=(Zs+1)/(qs+1),Js=Ys===2?Math.sqrt(Math.pow(zs.points[3][0]-zs.points[0][0],2)+Math.pow(zs.points[3][1]-zs.points[0][1],2)):0,$l=zs.normalAngle(yl);setPoint(at,zs.point(yl),$l,Xs,Ws,Js/(2*(qs+1)),Js/(2*(qs+1))),Xs=-Xs}return Xs}function linearOffset(at,zs,Ws){var qs=Math.atan2(zs[0]-at[0],zs[1]-at[1]);return[polarOffset(at,qs,Ws),polarOffset(zs,qs,Ws)]}function offsetSegment(at,zs){var Ws,qs,Ys,Xs,Zs,yl,Js;Ws=(Js=linearOffset(at.points[0],at.points[1],zs))[0],qs=Js[1],Ys=(Js=linearOffset(at.points[1],at.points[2],zs))[0],Xs=Js[1],Zs=(Js=linearOffset(at.points[2],at.points[3],zs))[0],yl=Js[1];var $l=lineIntersection(Ws,qs,Ys,Xs);$l===null&&($l=qs);var El=lineIntersection(Zs,yl,Ys,Xs);return El===null&&(El=Zs),new PolynomialBezier(Ws,$l,El,yl)}function joinLines(at,zs,Ws,qs,Ys){var Xs=zs.points[3],Zs=Ws.points[0];if(qs===3||pointEqual(Xs,Zs))return Xs;if(qs===2){var yl=-zs.tangentAngle(1),Js=-Ws.tangentAngle(0)+Math.PI,$l=lineIntersection(Xs,polarOffset(Xs,yl+Math.PI/2,100),Zs,polarOffset(Zs,yl+Math.PI/2,100)),El=$l?pointDistance($l,Xs):pointDistance(Xs,Zs)/2,wl=polarOffset(Xs,yl,2*El*roundCorner);return at.setXYAt(wl[0],wl[1],"o",at.length()-1),wl=polarOffset(Zs,Js,2*El*roundCorner),at.setTripleAt(Zs[0],Zs[1],Zs[0],Zs[1],wl[0],wl[1],at.length()),Zs}var _l=lineIntersection(pointEqual(Xs,zs.points[2])?zs.points[0]:zs.points[2],Xs,Zs,pointEqual(Zs,Ws.points[1])?Ws.points[3]:Ws.points[1]);return _l&&pointDistance(_l,Xs)<Ys?(at.setTripleAt(_l[0],_l[1],_l[0],_l[1],_l[0],_l[1],at.length()),_l):Xs}function getIntersection(at,zs){var Ws=at.intersections(zs);return Ws.length&&floatEqual(Ws[0][0],1)&&Ws.shift(),Ws.length?Ws[0]:null}function pruneSegmentIntersection(at,zs){var Ws=at.slice(),qs=zs.slice(),Ys=getIntersection(at[at.length-1],zs[0]);return Ys&&(Ws[at.length-1]=at[at.length-1].split(Ys[0])[0],qs[0]=zs[0].split(Ys[1])[1]),at.length>1&&zs.length>1&&(Ys=getIntersection(at[0],zs[zs.length-1]))?[[at[0].split(Ys[0])[0]],[zs[zs.length-1].split(Ys[1])[1]]]:[Ws,qs]}function pruneIntersections(at){for(var zs,Ws=1;Ws<at.length;Ws+=1)zs=pruneSegmentIntersection(at[Ws-1],at[Ws]),at[Ws-1]=zs[0],at[Ws]=zs[1];return at.length>1&&(zs=pruneSegmentIntersection(at[at.length-1],at[0]),at[at.length-1]=zs[0],at[0]=zs[1]),at}function offsetSegmentSplit(at,zs){var Ws,qs,Ys,Xs,Zs=at.inflectionPoints();if(Zs.length===0)return[offsetSegment(at,zs)];if(Zs.length===1||floatEqual(Zs[1],1))return Ws=(Ys=at.split(Zs[0]))[0],qs=Ys[1],[offsetSegment(Ws,zs),offsetSegment(qs,zs)];Ws=(Ys=at.split(Zs[0]))[0];var yl=(Zs[1]-Zs[0])/(1-Zs[0]);return Xs=(Ys=Ys[1].split(yl))[0],qs=Ys[1],[offsetSegment(Ws,zs),offsetSegment(Xs,zs),offsetSegment(qs,zs)]}function OffsetPathModifier(){}function getFontProperties(at){for(var zs=at.fStyle?at.fStyle.split(" "):[],Ws="normal",qs="normal",Ys=zs.length,Xs=0;Xs<Ys;Xs+=1)switch(zs[Xs].toLowerCase()){case"italic":qs="italic";break;case"bold":Ws="700";break;case"black":Ws="900";break;case"medium":Ws="500";break;case"regular":case"normal":Ws="400";break;case"light":case"thin":Ws="200"}return{style:qs,weight:at.fWeight||Ws}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(at,zs){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(at,zs.c,0,null,this),this.o=PropertyFactory.getProp(at,zs.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(at,zs.tr,this),this.so=PropertyFactory.getProp(at,zs.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(at,zs.tr.eo,0,.01,this),this.data=zs,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(at,zs,Ws,qs,Ys,Xs){var Zs=Xs?-1:1,yl=qs.s.v[0]+(1-qs.s.v[0])*(1-Ys),Js=qs.s.v[1]+(1-qs.s.v[1])*(1-Ys);at.translate(qs.p.v[0]*Zs*Ys,qs.p.v[1]*Zs*Ys,qs.p.v[2]),zs.translate(-qs.a.v[0],-qs.a.v[1],qs.a.v[2]),zs.rotate(-qs.r.v*Zs*Ys),zs.translate(qs.a.v[0],qs.a.v[1],qs.a.v[2]),Ws.translate(-qs.a.v[0],-qs.a.v[1],qs.a.v[2]),Ws.scale(Xs?1/yl:yl,Xs?1/Js:Js),Ws.translate(qs.a.v[0],qs.a.v[1],qs.a.v[2])},RepeaterModifier.prototype.init=function(at,zs,Ws,qs){for(this.elem=at,this.arr=zs,this.pos=Ws,this.elemsData=qs,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(at),this.initModifierProperties(at,zs[Ws]);Ws>0;)Ws-=1,this._elements.unshift(zs[Ws]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(at){var zs,Ws=at.length;for(zs=0;zs<Ws;zs+=1)at[zs]._processed=!1,at[zs].ty==="gr"&&this.resetElements(at[zs].it)},RepeaterModifier.prototype.cloneElements=function(at){var zs=JSON.parse(JSON.stringify(at));return this.resetElements(zs),zs},RepeaterModifier.prototype.changeGroupRender=function(at,zs){var Ws,qs=at.length;for(Ws=0;Ws<qs;Ws+=1)at[Ws]._render=zs,at[Ws].ty==="gr"&&this.changeGroupRender(at[Ws].it,zs)},RepeaterModifier.prototype.processShapes=function(at){var zs,Ws,qs,Ys,Xs,Zs=!1;if(this._mdf||at){var yl,Js=Math.ceil(this.c.v);if(this._groups.length<Js){for(;this._groups.length<Js;){var $l={it:this.cloneElements(this._elements),ty:"gr"};$l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,$l),this._groups.splice(0,0,$l),this._currentCopies+=1}this.elem.reloadShapes(),Zs=!0}for(Xs=0,qs=0;qs<=this._groups.length-1;qs+=1){if(yl=Xs<Js,this._groups[qs]._render=yl,this.changeGroupRender(this._groups[qs].it,yl),!yl){var El=this.elemsData[qs].it,wl=El[El.length-1];wl.transform.op.v!==0?(wl.transform.op._mdf=!0,wl.transform.op.v=0):wl.transform.op._mdf=!1}Xs+=1}this._currentCopies=Js;var _l=this.o.v,Sl=_l%1,Tl=_l>0?Math.floor(_l):Math.ceil(_l),Il=this.pMatrix.props,Al=this.rMatrix.props,xl=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Pl,Cl,Rl=0;if(_l>0){for(;Rl<Tl;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Rl+=1;Sl&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Sl,!1),Rl+=Sl)}else if(_l<0){for(;Rl>Tl;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Rl-=1;Sl&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Sl,!0),Rl-=Sl)}for(qs=this.data.m===1?0:this._currentCopies-1,Ys=this.data.m===1?1:-1,Xs=this._currentCopies;Xs;){if(Cl=(Ws=(zs=this.elemsData[qs].it)[zs.length-1].transform.mProps.v.props).length,zs[zs.length-1].transform.mProps._mdf=!0,zs[zs.length-1].transform.op._mdf=!0,zs[zs.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(qs/(this._currentCopies-1)),Rl!==0){for((qs!==0&&Ys===1||qs!==this._currentCopies-1&&Ys===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Al[0],Al[1],Al[2],Al[3],Al[4],Al[5],Al[6],Al[7],Al[8],Al[9],Al[10],Al[11],Al[12],Al[13],Al[14],Al[15]),this.matrix.transform(xl[0],xl[1],xl[2],xl[3],xl[4],xl[5],xl[6],xl[7],xl[8],xl[9],xl[10],xl[11],xl[12],xl[13],xl[14],xl[15]),this.matrix.transform(Il[0],Il[1],Il[2],Il[3],Il[4],Il[5],Il[6],Il[7],Il[8],Il[9],Il[10],Il[11],Il[12],Il[13],Il[14],Il[15]),Pl=0;Pl<Cl;Pl+=1)Ws[Pl]=this.matrix.props[Pl];this.matrix.reset()}else for(this.matrix.reset(),Pl=0;Pl<Cl;Pl+=1)Ws[Pl]=this.matrix.props[Pl];Rl+=1,Xs-=1,qs+=Ys}}else for(Xs=this._currentCopies,qs=0,Ys=1;Xs;)Ws=(zs=this.elemsData[qs].it)[zs.length-1].transform.mProps.v.props,zs[zs.length-1].transform.mProps._mdf=!1,zs[zs.length-1].transform.op._mdf=!1,Xs-=1,qs+=Ys;return Zs},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(at,zs){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(at,zs.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(at,zs){var Ws,qs=shapePool.newElement();qs.c=at.c;var Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al=at._length,xl=0;for(Ws=0;Ws<Al;Ws+=1)Ys=at.v[Ws],Zs=at.o[Ws],Xs=at.i[Ws],Ys[0]===Zs[0]&&Ys[1]===Zs[1]&&Ys[0]===Xs[0]&&Ys[1]===Xs[1]?Ws!==0&&Ws!==Al-1||at.c?(yl=Ws===0?at.v[Al-1]:at.v[Ws-1],$l=(Js=Math.sqrt(Math.pow(Ys[0]-yl[0],2)+Math.pow(Ys[1]-yl[1],2)))?Math.min(Js/2,zs)/Js:0,El=Tl=Ys[0]+(yl[0]-Ys[0])*$l,wl=Il=Ys[1]-(Ys[1]-yl[1])*$l,_l=El-(El-Ys[0])*roundCorner,Sl=wl-(wl-Ys[1])*roundCorner,qs.setTripleAt(El,wl,_l,Sl,Tl,Il,xl),xl+=1,yl=Ws===Al-1?at.v[0]:at.v[Ws+1],$l=(Js=Math.sqrt(Math.pow(Ys[0]-yl[0],2)+Math.pow(Ys[1]-yl[1],2)))?Math.min(Js/2,zs)/Js:0,El=_l=Ys[0]+(yl[0]-Ys[0])*$l,wl=Sl=Ys[1]+(yl[1]-Ys[1])*$l,Tl=El-(El-Ys[0])*roundCorner,Il=wl-(wl-Ys[1])*roundCorner,qs.setTripleAt(El,wl,_l,Sl,Tl,Il,xl),xl+=1):(qs.setTripleAt(Ys[0],Ys[1],Zs[0],Zs[1],Xs[0],Xs[1],xl),xl+=1):(qs.setTripleAt(at.v[Ws][0],at.v[Ws][1],at.o[Ws][0],at.o[Ws][1],at.i[Ws][0],at.i[Ws][1],xl),xl+=1);return qs},RoundCornersModifier.prototype.processShapes=function(at){var zs,Ws,qs,Ys,Xs,Zs,yl=this.shapes.length,Js=this.rd.v;if(Js!==0)for(Ws=0;Ws<yl;Ws+=1){if(Zs=(Xs=this.shapes[Ws]).localShapeCollection,Xs.shape._mdf||this._mdf||at)for(Zs.releaseShapes(),Xs.shape._mdf=!0,zs=Xs.shape.paths.shapes,Ys=Xs.shape.paths._length,qs=0;qs<Ys;qs+=1)Zs.addShape(this.processPath(zs[qs],Js));Xs.shape.paths=Xs.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(at){return[((this.a[0]*at+this.b[0])*at+this.c[0])*at+this.d[0],((this.a[1]*at+this.b[1])*at+this.c[1])*at+this.d[1]]},PolynomialBezier.prototype.derivative=function(at){return[(3*at*this.a[0]+2*this.b[0])*at+this.c[0],(3*at*this.a[1]+2*this.b[1])*at+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(at){var zs=this.derivative(at);return Math.atan2(zs[1],zs[0])},PolynomialBezier.prototype.normalAngle=function(at){var zs=this.derivative(at);return Math.atan2(zs[0],zs[1])},PolynomialBezier.prototype.inflectionPoints=function(){var at=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(at))return[];var zs=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/at,Ws=zs*zs-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/at;if(Ws<0)return[];var qs=Math.sqrt(Ws);return floatZero(qs)?qs>0&&qs<1?[zs]:[]:[zs-qs,zs+qs].filter(function(Ys){return Ys>0&&Ys<1})},PolynomialBezier.prototype.split=function(at){if(at<=0)return[singlePoint(this.points[0]),this];if(at>=1)return[this,singlePoint(this.points[this.points.length-1])];var zs=lerpPoint(this.points[0],this.points[1],at),Ws=lerpPoint(this.points[1],this.points[2],at),qs=lerpPoint(this.points[2],this.points[3],at),Ys=lerpPoint(zs,Ws,at),Xs=lerpPoint(Ws,qs,at),Zs=lerpPoint(Ys,Xs,at);return[new PolynomialBezier(this.points[0],zs,Ys,Zs,!0),new PolynomialBezier(Zs,Xs,qs,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var at=this.bounds();return{left:at.x.min,right:at.x.max,top:at.y.min,bottom:at.y.max,width:at.x.max-at.x.min,height:at.y.max-at.y.min,cx:(at.x.max+at.x.min)/2,cy:(at.y.max+at.y.min)/2}},PolynomialBezier.prototype.intersections=function(at,zs,Ws){zs===void 0&&(zs=2),Ws===void 0&&(Ws=7);var qs=[];return intersectsImpl(intersectData(this,0,1),intersectData(at,0,1),0,zs,qs,Ws),qs},PolynomialBezier.shapeSegment=function(at,zs){var Ws=(zs+1)%at.length();return new PolynomialBezier(at.v[zs],at.o[zs],at.i[Ws],at.v[Ws],!0)},PolynomialBezier.shapeSegmentInverted=function(at,zs){var Ws=(zs+1)%at.length();return new PolynomialBezier(at.v[Ws],at.i[Ws],at.o[zs],at.v[zs],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(at,zs){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(at,zs.s,0,null,this),this.frequency=PropertyFactory.getProp(at,zs.r,0,null,this),this.pointsType=PropertyFactory.getProp(at,zs.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(at,zs,Ws,qs){var Ys=at._length,Xs=shapePool.newElement();if(Xs.c=at.c,at.c||(Ys-=1),Ys===0)return Xs;var Zs=-1,yl=PolynomialBezier.shapeSegment(at,0);zigZagCorner(Xs,at,0,zs,Ws,qs,Zs);for(var Js=0;Js<Ys;Js+=1)Zs=zigZagSegment(Xs,yl,zs,Ws,qs,-Zs),yl=Js!==Ys-1||at.c?PolynomialBezier.shapeSegment(at,(Js+1)%Ys):null,zigZagCorner(Xs,at,Js+1,zs,Ws,qs,Zs);return Xs},ZigZagModifier.prototype.processShapes=function(at){var zs,Ws,qs,Ys,Xs,Zs,yl=this.shapes.length,Js=this.amplitude.v,$l=Math.max(0,Math.round(this.frequency.v)),El=this.pointsType.v;if(Js!==0)for(Ws=0;Ws<yl;Ws+=1){if(Zs=(Xs=this.shapes[Ws]).localShapeCollection,Xs.shape._mdf||this._mdf||at)for(Zs.releaseShapes(),Xs.shape._mdf=!0,zs=Xs.shape.paths.shapes,Ys=Xs.shape.paths._length,qs=0;qs<Ys;qs+=1)Zs.addShape(this.processPath(zs[qs],Js,$l,El));Xs.shape.paths=Xs.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(at,zs){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(at,zs.a,0,null,this),this.miterLimit=PropertyFactory.getProp(at,zs.ml,0,null,this),this.lineJoin=zs.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(at,zs,Ws,qs){var Ys=shapePool.newElement();Ys.c=at.c;var Xs,Zs,yl,Js=at.length();at.c||(Js-=1);var $l=[];for(Xs=0;Xs<Js;Xs+=1)yl=PolynomialBezier.shapeSegment(at,Xs),$l.push(offsetSegmentSplit(yl,zs));if(!at.c)for(Xs=Js-1;Xs>=0;Xs-=1)yl=PolynomialBezier.shapeSegmentInverted(at,Xs),$l.push(offsetSegmentSplit(yl,zs));$l=pruneIntersections($l);var El=null,wl=null;for(Xs=0;Xs<$l.length;Xs+=1){var _l=$l[Xs];for(wl&&(El=joinLines(Ys,wl,_l[0],Ws,qs)),wl=_l[_l.length-1],Zs=0;Zs<_l.length;Zs+=1)yl=_l[Zs],El&&pointEqual(yl.points[0],El)?Ys.setXYAt(yl.points[1][0],yl.points[1][1],"o",Ys.length()-1):Ys.setTripleAt(yl.points[0][0],yl.points[0][1],yl.points[1][0],yl.points[1][1],yl.points[0][0],yl.points[0][1],Ys.length()),Ys.setTripleAt(yl.points[3][0],yl.points[3][1],yl.points[3][0],yl.points[3][1],yl.points[2][0],yl.points[2][1],Ys.length()),El=yl.points[3]}return $l.length&&joinLines(Ys,wl,$l[0][0],Ws,qs),Ys},OffsetPathModifier.prototype.processShapes=function(at){var zs,Ws,qs,Ys,Xs,Zs,yl=this.shapes.length,Js=this.amount.v,$l=this.miterLimit.v,El=this.lineJoin;if(Js!==0)for(Ws=0;Ws<yl;Ws+=1){if(Zs=(Xs=this.shapes[Ws]).localShapeCollection,Xs.shape._mdf||this._mdf||at)for(Zs.releaseShapes(),Xs.shape._mdf=!0,zs=Xs.shape.paths.shapes,Ys=Xs.shape.paths._length,qs=0;qs<Ys;qs+=1)Zs.addShape(this.processPath(zs[qs],Js,El,$l));Xs.shape.paths=Xs.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var at={w:0,size:0,shapes:[],data:{shapes:[]}},zs=[];zs=zs.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Ws=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function qs(Js,$l){var El=createTag("span");El.setAttribute("aria-hidden",!0),El.style.fontFamily=$l;var wl=createTag("span");wl.innerText="giItT1WQy@!-/#",El.style.position="absolute",El.style.left="-10000px",El.style.top="-10000px",El.style.fontSize="300px",El.style.fontVariant="normal",El.style.fontStyle="normal",El.style.fontWeight="normal",El.style.letterSpacing="0",El.appendChild(wl),document.body.appendChild(El);var _l=wl.offsetWidth;return wl.style.fontFamily=function(Sl){var Tl,Il=Sl.split(","),Al=Il.length,xl=[];for(Tl=0;Tl<Al;Tl+=1)Il[Tl]!=="sans-serif"&&Il[Tl]!=="monospace"&&xl.push(Il[Tl]);return xl.join(",")}(Js)+", "+$l,{node:wl,w:_l,parent:El}}function Ys(Js,$l){var El,wl=document.body&&$l?"svg":"canvas",_l=getFontProperties(Js);if(wl==="svg"){var Sl=createNS("text");Sl.style.fontSize="100px",Sl.setAttribute("font-family",Js.fFamily),Sl.setAttribute("font-style",_l.style),Sl.setAttribute("font-weight",_l.weight),Sl.textContent="1",Js.fClass?(Sl.style.fontFamily="inherit",Sl.setAttribute("class",Js.fClass)):Sl.style.fontFamily=Js.fFamily,$l.appendChild(Sl),El=Sl}else{var Tl=new OffscreenCanvas(500,500).getContext("2d");Tl.font=_l.style+" "+_l.weight+" 100px "+Js.fFamily,El=Tl}return{measureText:function(Il){return wl==="svg"?(El.textContent=Il,El.getComputedTextLength()):El.measureText(Il).width}}}function Xs(Js){var $l=0,El=Js.charCodeAt(0);if(El>=55296&&El<=56319){var wl=Js.charCodeAt(1);wl>=56320&&wl<=57343&&($l=1024*(El-55296)+wl-56320+65536)}return $l}function Zs(Js){var $l=Xs(Js);return $l>=127462&&$l<=127487}var yl=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return yl.isModifier=function(Js,$l){var El=Js.toString(16)+$l.toString(16);return Ws.indexOf(El)!==-1},yl.isZeroWidthJoiner=function(Js){return Js===8205},yl.isFlagEmoji=function(Js){return Zs(Js.substr(0,2))&&Zs(Js.substr(2,2))},yl.isRegionalCode=Zs,yl.isCombinedCharacter=function(Js){return zs.indexOf(Js)!==-1},yl.isRegionalFlag=function(Js,$l){var El=Xs(Js.substr($l,2));if(El!==127988)return!1;var wl=0;for($l+=2;wl<5;){if((El=Xs(Js.substr($l,2)))<917601||El>917626)return!1;wl+=1,$l+=2}return Xs(Js.substr($l,2))===917631},yl.isVariationSelector=function(Js){return Js===65039},yl.BLACK_FLAG_CODE_POINT=127988,yl.prototype={addChars:function(Js){if(Js){var $l;this.chars||(this.chars=[]);var El,wl,_l=Js.length,Sl=this.chars.length;for($l=0;$l<_l;$l+=1){for(El=0,wl=!1;El<Sl;)this.chars[El].style===Js[$l].style&&this.chars[El].fFamily===Js[$l].fFamily&&this.chars[El].ch===Js[$l].ch&&(wl=!0),El+=1;wl||(this.chars.push(Js[$l]),Sl+=1)}}},addFonts:function(Js,$l){if(Js){if(this.chars)return this.isLoaded=!0,void(this.fonts=Js.list);if(!document.body)return this.isLoaded=!0,Js.list.forEach(function(Rl){Rl.helper=Ys(Rl),Rl.cache={}}),void(this.fonts=Js.list);var El,wl=Js.list,_l=wl.length,Sl=_l;for(El=0;El<_l;El+=1){var Tl,Il,Al=!0;if(wl[El].loaded=!1,wl[El].monoCase=qs(wl[El].fFamily,"monospace"),wl[El].sansCase=qs(wl[El].fFamily,"sans-serif"),wl[El].fPath){if(wl[El].fOrigin==="p"||wl[El].origin===3){if((Tl=document.querySelectorAll('style[f-forigin="p"][f-family="'+wl[El].fFamily+'"], style[f-origin="3"][f-family="'+wl[El].fFamily+'"]')).length>0&&(Al=!1),Al){var xl=createTag("style");xl.setAttribute("f-forigin",wl[El].fOrigin),xl.setAttribute("f-origin",wl[El].origin),xl.setAttribute("f-family",wl[El].fFamily),xl.type="text/css",xl.innerText="@font-face {font-family: "+wl[El].fFamily+"; font-style: normal; src: url('"+wl[El].fPath+"');}",$l.appendChild(xl)}}else if(wl[El].fOrigin==="g"||wl[El].origin===1){for(Tl=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Il=0;Il<Tl.length;Il+=1)Tl[Il].href.indexOf(wl[El].fPath)!==-1&&(Al=!1);if(Al){var Pl=createTag("link");Pl.setAttribute("f-forigin",wl[El].fOrigin),Pl.setAttribute("f-origin",wl[El].origin),Pl.type="text/css",Pl.rel="stylesheet",Pl.href=wl[El].fPath,document.body.appendChild(Pl)}}else if(wl[El].fOrigin==="t"||wl[El].origin===2){for(Tl=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Il=0;Il<Tl.length;Il+=1)wl[El].fPath===Tl[Il].src&&(Al=!1);if(Al){var Cl=createTag("link");Cl.setAttribute("f-forigin",wl[El].fOrigin),Cl.setAttribute("f-origin",wl[El].origin),Cl.setAttribute("rel","stylesheet"),Cl.setAttribute("href",wl[El].fPath),$l.appendChild(Cl)}}}else wl[El].loaded=!0,Sl-=1;wl[El].helper=Ys(wl[El],$l),wl[El].cache={},this.fonts.push(wl[El])}Sl===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(Js,$l,El){for(var wl=0,_l=this.chars.length;wl<_l;){if(this.chars[wl].ch===Js&&this.chars[wl].style===$l&&this.chars[wl].fFamily===El)return this.chars[wl];wl+=1}return(typeof Js=="string"&&Js.charCodeAt(0)!==13||!Js)&&console&&console.warn&&!this._warned&&(this._warned=!0),at},getFontByName:function(Js){for(var $l=0,El=this.fonts.length;$l<El;){if(this.fonts[$l].fName===Js)return this.fonts[$l];$l+=1}return this.fonts[0]},measureText:function(Js,$l,El){var wl=this.getFontByName($l),_l=Js;if(!wl.cache[_l]){var Sl=wl.helper;if(Js===" "){var Tl=Sl.measureText("|"+Js+"|"),Il=Sl.measureText("||");wl.cache[_l]=(Tl-Il)/100}else wl.cache[_l]=Sl.measureText(Js)/100}return wl.cache[_l]*El},checkLoadedFonts:function(){var Js,$l,El,wl=this.fonts.length,_l=wl;for(Js=0;Js<wl;Js+=1)this.fonts[Js].loaded?_l-=1:this.fonts[Js].fOrigin==="n"||this.fonts[Js].origin===0?this.fonts[Js].loaded=!0:($l=this.fonts[Js].monoCase.node,El=this.fonts[Js].monoCase.w,$l.offsetWidth!==El?(_l-=1,this.fonts[Js].loaded=!0):($l=this.fonts[Js].sansCase.node,El=this.fonts[Js].sansCase.w,$l.offsetWidth!==El&&(_l-=1,this.fonts[Js].loaded=!0)),this.fonts[Js].loaded&&(this.fonts[Js].sansCase.parent.parentNode.removeChild(this.fonts[Js].sansCase.parent),this.fonts[Js].monoCase.parent.parentNode.removeChild(this.fonts[Js].monoCase.parent)));_l!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},yl}();function SlotManager(at){this.animationData=at}function slotFactory(at){return new SlotManager(at)}function RenderableElement(){}SlotManager.prototype.getProp=function(at){return this.animationData.slots&&this.animationData.slots[at.sid]?Object.assign(at,this.animationData.slots[at.sid].p):at},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(at){this.renderableComponents.indexOf(at)===-1&&this.renderableComponents.push(at)},removeRenderableComponent:function(at){this.renderableComponents.indexOf(at)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(at),1)},prepareRenderableFrame:function(at){this.checkLayerLimits(at)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(at){this.data.ip-this.data.st<=at&&this.data.op-this.data.st>at?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var at,zs=this.renderableComponents.length;for(at=0;at<zs;at+=1)this.renderableComponents[at].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(at){return blendModeEnums[at]||""}),blendModeEnums;function SliderEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,0,0,Ws)}function AngleEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,0,0,Ws)}function ColorEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,1,0,Ws)}function PointEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,1,0,Ws)}function LayerIndexEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,0,0,Ws)}function MaskIndexEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,0,0,Ws)}function CheckboxEffect(at,zs,Ws){this.p=PropertyFactory.getProp(zs,at.v,0,0,Ws)}function NoValueEffect(){this.p={}}function EffectsManager(at,zs){var Ws,qs=at.ef||[];this.effectElements=[];var Ys,Xs=qs.length;for(Ws=0;Ws<Xs;Ws+=1)Ys=new GroupEffect(qs[Ws],zs),this.effectElements.push(Ys)}function GroupEffect(at,zs){this.init(at,zs)}function BaseElement(){}function FrameElement(){}function FootageElement(at,zs,Ws){this.initFrame(),this.initRenderable(),this.assetData=zs.getAssetData(at.refId),this.footageData=zs.imageLoader.getAsset(this.assetData),this.initBaseData(at,zs,Ws)}function AudioElement(at,zs,Ws){this.initFrame(),this.initRenderable(),this.assetData=zs.getAssetData(at.refId),this.initBaseData(at,zs,Ws),this._isPlaying=!1,this._canPlay=!1;var qs=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(qs),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=at.tm?PropertyFactory.getProp(this,at.tm,0,zs.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,at.au&&at.au.lv?at.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(at,zs){var Ws;this.data=at,this.effectElements=[],this.initDynamicPropertyContainer(zs);var qs,Ys=this.data.ef.length,Xs=this.data.ef;for(Ws=0;Ws<Ys;Ws+=1){switch(qs=null,Xs[Ws].ty){case 0:qs=new SliderEffect(Xs[Ws],zs,this);break;case 1:qs=new AngleEffect(Xs[Ws],zs,this);break;case 2:qs=new ColorEffect(Xs[Ws],zs,this);break;case 3:qs=new PointEffect(Xs[Ws],zs,this);break;case 4:case 7:qs=new CheckboxEffect(Xs[Ws],zs,this);break;case 10:qs=new LayerIndexEffect(Xs[Ws],zs,this);break;case 11:qs=new MaskIndexEffect(Xs[Ws],zs,this);break;case 5:qs=new EffectsManager(Xs[Ws],zs);break;default:qs=new NoValueEffect(Xs[Ws])}qs&&this.effectElements.push(qs)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var at=0,zs=this.data.masksProperties.length;at<zs;){if(this.data.masksProperties[at].mode!=="n"&&this.data.masksProperties[at].cl!==!1)return!0;at+=1}return!1},initExpressions:function(){var at=getExpressionInterfaces();if(at){var zs=at("layer"),Ws=at("effects"),qs=at("shape"),Ys=at("text"),Xs=at("comp");this.layerInterface=zs(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Zs=Ws.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Zs),this.data.ty===0||this.data.xt?this.compInterface=Xs(this):this.data.ty===4?(this.layerInterface.shapeInterface=qs(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Ys(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var at=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=at},initBaseData:function(at,zs,Ws){this.globalData=zs,this.comp=Ws,this.data=at,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(at,zs){var Ws,qs=this.dynamicProperties.length;for(Ws=0;Ws<qs;Ws+=1)(zs||this._isParent&&this.dynamicProperties[Ws].propType==="transform")&&(this.dynamicProperties[Ws].getValue(),this.dynamicProperties[Ws]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(at){this.dynamicProperties.indexOf(at)===-1&&this.dynamicProperties.push(at)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var at=getExpressionInterfaces();if(at){var zs=at("footage");this.layerInterface=zs(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(at){if(this.prepareRenderableFrame(at,!0),this.prepareProperties(at,!0),this.tm._placeholder)this._currentTime=at/this.data.sr;else{var zs=this.tm.v;this._currentTime=zs}this._volume=this.lv.v[0];var Ws=this._volume*this._volumeMultiplier;this._previousVolume!==Ws&&(this._previousVolume=Ws,this.audio.volume(Ws))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(at){this.audio.rate(at)},AudioElement.prototype.volume=function(at){this._volumeMultiplier=at,this._previousVolume=at*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(at){var zs,Ws,qs=this.layers.length;for(this.completeLayers=!0,zs=qs-1;zs>=0;zs-=1)this.elements[zs]||(Ws=this.layers[zs]).ip-Ws.st<=at-this.layers[zs].st&&Ws.op-Ws.st>at-this.layers[zs].st&&this.buildItem(zs),this.completeLayers=!!this.elements[zs]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(at){switch(at.ty){case 2:return this.createImage(at);case 0:return this.createComp(at);case 1:return this.createSolid(at);case 3:return this.createNull(at);case 4:return this.createShape(at);case 5:return this.createText(at);case 6:return this.createAudio(at);case 13:return this.createCamera(at);case 15:return this.createFootage(at);default:return this.createNull(at)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(at){return new AudioElement(at,this.globalData,this)},BaseRenderer.prototype.createFootage=function(at){return new FootageElement(at,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var at,zs=this.layers.length;for(at=0;at<zs;at+=1)this.buildItem(at);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(at){var zs;this.completeLayers=!1;var Ws,qs=at.length,Ys=this.layers.length;for(zs=0;zs<qs;zs+=1)for(Ws=0;Ws<Ys;){if(this.layers[Ws].id===at[zs].id){this.layers[Ws]=at[zs];break}Ws+=1}},BaseRenderer.prototype.setProjectInterface=function(at){this.globalData.projectInterface=at},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(at,zs,Ws){for(var qs=this.elements,Ys=this.layers,Xs=0,Zs=Ys.length;Xs<Zs;)Ys[Xs].ind==zs&&(qs[Xs]&&qs[Xs]!==!0?(Ws.push(qs[Xs]),qs[Xs].setAsParent(),Ys[Xs].parent!==void 0?this.buildElementParenting(at,Ys[Xs].parent,Ws):at.setHierarchy(Ws)):(this.buildItem(Xs),this.addPendingElement(at))),Xs+=1},BaseRenderer.prototype.addPendingElement=function(at){this.pendingElements.push(at)},BaseRenderer.prototype.searchExtraCompositions=function(at){var zs,Ws=at.length;for(zs=0;zs<Ws;zs+=1)if(at[zs].xt){var qs=this.createComp(at[zs]);qs.initExpressions(),this.globalData.projectInterface.registerComposition(qs)}},BaseRenderer.prototype.getElementById=function(at){var zs,Ws=this.elements.length;for(zs=0;zs<Ws;zs+=1)if(this.elements[zs].data.ind===at)return this.elements[zs];return null},BaseRenderer.prototype.getElementByPath=function(at){var zs,Ws=at.shift();if(typeof Ws=="number")zs=this.elements[Ws];else{var qs,Ys=this.elements.length;for(qs=0;qs<Ys;qs+=1)if(this.elements[qs].data.nm===Ws){zs=this.elements[qs];break}}return at.length===0?zs:zs.getElementByPath(at)},BaseRenderer.prototype.setupGlobalData=function(at,zs){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(at),this.globalData.fontManager.addChars(at.chars),this.globalData.fontManager.addFonts(at.fonts,zs),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=at.fr,this.globalData.nm=at.nm,this.globalData.compSize={w:at.w,h:at.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(at,zs,Ws){this.data=at,this.element=zs,this.globalData=Ws,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var qs,Ys,Xs=this.globalData.defs,Zs=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Zs),this.solidPath="";var yl,Js,$l,El,wl,_l,Sl=this.masksProperties,Tl=0,Il=[],Al=createElementID(),xl="clipPath",Pl="clip-path";for(qs=0;qs<Zs;qs+=1)if((Sl[qs].mode!=="a"&&Sl[qs].mode!=="n"||Sl[qs].inv||Sl[qs].o.k!==100||Sl[qs].o.x)&&(xl="mask",Pl="mask"),Sl[qs].mode!=="s"&&Sl[qs].mode!=="i"||Tl!==0?$l=null:(($l=createNS("rect")).setAttribute("fill","#ffffff"),$l.setAttribute("width",this.element.comp.data.w||0),$l.setAttribute("height",this.element.comp.data.h||0),Il.push($l)),Ys=createNS("path"),Sl[qs].mode==="n")this.viewData[qs]={op:PropertyFactory.getProp(this.element,Sl[qs].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Sl[qs],3),elem:Ys,lastPath:""},Xs.appendChild(Ys);else{var Cl;if(Tl+=1,Ys.setAttribute("fill",Sl[qs].mode==="s"?"#000000":"#ffffff"),Ys.setAttribute("clip-rule","nonzero"),Sl[qs].x.k!==0?(xl="mask",Pl="mask",_l=PropertyFactory.getProp(this.element,Sl[qs].x,0,null,this.element),Cl=createElementID(),(El=createNS("filter")).setAttribute("id",Cl),(wl=createNS("feMorphology")).setAttribute("operator","erode"),wl.setAttribute("in","SourceGraphic"),wl.setAttribute("radius","0"),El.appendChild(wl),Xs.appendChild(El),Ys.setAttribute("stroke",Sl[qs].mode==="s"?"#000000":"#ffffff")):(wl=null,_l=null),this.storedData[qs]={elem:Ys,x:_l,expan:wl,lastPath:"",lastOperator:"",filterId:Cl,lastRadius:0},Sl[qs].mode==="i"){Js=Il.length;var Rl=createNS("g");for(yl=0;yl<Js;yl+=1)Rl.appendChild(Il[yl]);var Ol=createNS("mask");Ol.setAttribute("mask-type","alpha"),Ol.setAttribute("id",Al+"_"+Tl),Ol.appendChild(Ys),Xs.appendChild(Ol),Rl.setAttribute("mask","url("+getLocationHref()+"#"+Al+"_"+Tl+")"),Il.length=0,Il.push(Rl)}else Il.push(Ys);Sl[qs].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[qs]={elem:Ys,lastPath:"",op:PropertyFactory.getProp(this.element,Sl[qs].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Sl[qs],3),invRect:$l},this.viewData[qs].prop.k||this.drawPath(Sl[qs],this.viewData[qs].prop.v,this.viewData[qs])}for(this.maskElement=createNS(xl),Zs=Il.length,qs=0;qs<Zs;qs+=1)this.maskElement.appendChild(Il[qs]);Tl>0&&(this.maskElement.setAttribute("id",Al),this.element.maskedElement.setAttribute(Pl,"url("+getLocationHref()+"#"+Al+")"),Xs.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var at=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:at,localMat:at,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var at,zs=this.finalTransform.mat,Ws=0,qs=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Ws<qs;){if(this.hierarchy[Ws].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Ws+=1}if(this.finalTransform._matMdf)for(at=this.finalTransform.mProp.v.props,zs.cloneFromProps(at),Ws=0;Ws<qs;Ws+=1)zs.multiply(this.hierarchy[Ws].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var at=0,zs=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;at<zs;)this.localTransforms[at]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[at]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),at+=1;if(this.finalTransform._localMatMdf){var Ws=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Ws),at=1;at<zs;at+=1){var qs=this.localTransforms[at].matrix;Ws.multiply(qs)}Ws.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Ys=this.finalTransform.localOpacity;for(at=0;at<zs;at+=1)Ys*=.01*this.localTransforms[at].opacity;this.finalTransform.localOpacity=Ys}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var at=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(at.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var zs=0,Ws=at.length;for(zs=0;zs<Ws;zs+=1)this.localTransforms.push(at[zs])}}},globalToLocal:function(at){var zs=[];zs.push(this.finalTransform);for(var Ws,qs=!0,Ys=this.comp;qs;)Ys.finalTransform?(Ys.data.hasMask&&zs.splice(0,0,Ys.finalTransform),Ys=Ys.comp):qs=!1;var Xs,Zs=zs.length;for(Ws=0;Ws<Zs;Ws+=1)Xs=zs[Ws].mat.applyToPointArray(0,0,0),at=[at[0]-Xs[0],at[1]-Xs[1],0];return at},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(at){return this.viewData[at].prop},MaskElement.prototype.renderFrame=function(at){var zs,Ws=this.element.finalTransform.mat,qs=this.masksProperties.length;for(zs=0;zs<qs;zs+=1)if((this.viewData[zs].prop._mdf||at)&&this.drawPath(this.masksProperties[zs],this.viewData[zs].prop.v,this.viewData[zs]),(this.viewData[zs].op._mdf||at)&&this.viewData[zs].elem.setAttribute("fill-opacity",this.viewData[zs].op.v),this.masksProperties[zs].mode!=="n"&&(this.viewData[zs].invRect&&(this.element.finalTransform.mProp._mdf||at)&&this.viewData[zs].invRect.setAttribute("transform",Ws.getInverseMatrix().to2dCSS()),this.storedData[zs].x&&(this.storedData[zs].x._mdf||at))){var Ys=this.storedData[zs].expan;this.storedData[zs].x.v<0?(this.storedData[zs].lastOperator!=="erode"&&(this.storedData[zs].lastOperator="erode",this.storedData[zs].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[zs].filterId+")")),Ys.setAttribute("radius",-this.storedData[zs].x.v)):(this.storedData[zs].lastOperator!=="dilate"&&(this.storedData[zs].lastOperator="dilate",this.storedData[zs].elem.setAttribute("filter",null)),this.storedData[zs].elem.setAttribute("stroke-width",2*this.storedData[zs].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var at="M0,0 ";return at+=" h"+this.globalData.compSize.w,at+=" v"+this.globalData.compSize.h,at+=" h-"+this.globalData.compSize.w,at+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(at,zs,Ws){var qs,Ys,Xs=" M"+zs.v[0][0]+","+zs.v[0][1];for(Ys=zs._length,qs=1;qs<Ys;qs+=1)Xs+=" C"+zs.o[qs-1][0]+","+zs.o[qs-1][1]+" "+zs.i[qs][0]+","+zs.i[qs][1]+" "+zs.v[qs][0]+","+zs.v[qs][1];if(zs.c&&Ys>1&&(Xs+=" C"+zs.o[qs-1][0]+","+zs.o[qs-1][1]+" "+zs.i[0][0]+","+zs.i[0][1]+" "+zs.v[0][0]+","+zs.v[0][1]),Ws.lastPath!==Xs){var Zs="";Ws.elem&&(zs.c&&(Zs=at.inv?this.solidPath+Xs:Xs),Ws.elem.setAttribute("d",Zs)),Ws.lastPath=Xs}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var at={};return at.createFilter=function(zs,Ws){var qs=createNS("filter");return qs.setAttribute("id",zs),Ws!==!0&&(qs.setAttribute("filterUnits","objectBoundingBox"),qs.setAttribute("x","0%"),qs.setAttribute("y","0%"),qs.setAttribute("width","100%"),qs.setAttribute("height","100%")),qs},at.createAlphaToLuminanceFilter=function(){var zs=createNS("feColorMatrix");return zs.setAttribute("type","matrix"),zs.setAttribute("color-interpolation-filters","sRGB"),zs.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),zs},at}(),featureSupport=function(){var at={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(at.maskType=!1),/firefox/i.test(navigator.userAgent)&&(at.svgLumaHidden=!1),at}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(at){var zs,Ws,qs="SourceGraphic",Ys=at.data.ef?at.data.ef.length:0,Xs=createElementID(),Zs=filtersFactory.createFilter(Xs,!0),yl=0;for(this.filters=[],zs=0;zs<Ys;zs+=1){Ws=null;var Js=at.data.ef[zs].ty;registeredEffects$1[Js]&&(Ws=new registeredEffects$1[Js].effect(Zs,at.effectsManager.effectElements[zs],at,idPrefix+yl,qs),qs=idPrefix+yl,registeredEffects$1[Js].countsAsEffect&&(yl+=1)),Ws&&this.filters.push(Ws)}yl&&(at.globalData.defs.appendChild(Zs),at.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Xs+")")),this.filters.length&&at.addRenderableComponent(this)}function registerEffect$1(at,zs,Ws){registeredEffects$1[at]={effect:zs,countsAsEffect:Ws}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(at,zs,Ws){this.assetData=zs.getAssetData(at.refId),this.assetData&&this.assetData.sid&&(this.assetData=zs.slotManager.getProp(this.assetData)),this.initElement(at,zs,Ws),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(at,zs){this.elem=at,this.pos=zs}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(at){var zs,Ws=this.filters.length;for(zs=0;zs<Ws;zs+=1)this.filters[zs].renderFrame(at)},SVGEffects.prototype.getEffects=function(at){var zs,Ws=this.filters.length,qs=[];for(zs=0;zs<Ws;zs+=1)this.filters[zs].type===at&&qs.push(this.filters[zs]);return qs},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var at=null;if(this.data.td){this.matteMasks={};var zs=createNS("g");zs.setAttribute("id",this.layerId),zs.appendChild(this.layerElement),at=zs,this.globalData.defs.appendChild(zs)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),at=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ws=createNS("clipPath"),qs=createNS("path");qs.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Ys=createElementID();if(Ws.setAttribute("id",Ys),Ws.appendChild(qs),this.globalData.defs.appendChild(Ws),this.checkMasks()){var Xs=createNS("g");Xs.setAttribute("clip-path","url("+getLocationHref()+"#"+Ys+")"),Xs.appendChild(this.layerElement),this.transformedElement=Xs,at?at.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Ys+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(at){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[at]){var zs,Ws,qs,Ys,Xs=this.layerId+"_"+at;if(at===1||at===3){var Zs=createNS("mask");Zs.setAttribute("id",Xs),Zs.setAttribute("mask-type",at===3?"luminance":"alpha"),(qs=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Zs.appendChild(qs),this.globalData.defs.appendChild(Zs),featureSupport.maskType||at!==1||(Zs.setAttribute("mask-type","luminance"),zs=createElementID(),Ws=filtersFactory.createFilter(zs),this.globalData.defs.appendChild(Ws),Ws.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(Ys=createNS("g")).appendChild(qs),Zs.appendChild(Ys),Ys.setAttribute("filter","url("+getLocationHref()+"#"+zs+")"))}else if(at===2){var yl=createNS("mask");yl.setAttribute("id",Xs),yl.setAttribute("mask-type","alpha");var Js=createNS("g");yl.appendChild(Js),zs=createElementID(),Ws=filtersFactory.createFilter(zs);var $l=createNS("feComponentTransfer");$l.setAttribute("in","SourceGraphic"),Ws.appendChild($l);var El=createNS("feFuncA");El.setAttribute("type","table"),El.setAttribute("tableValues","1.0 0.0"),$l.appendChild(El),this.globalData.defs.appendChild(Ws);var wl=createNS("rect");wl.setAttribute("width",this.comp.data.w),wl.setAttribute("height",this.comp.data.h),wl.setAttribute("x","0"),wl.setAttribute("y","0"),wl.setAttribute("fill","#ffffff"),wl.setAttribute("opacity","0"),Js.setAttribute("filter","url("+getLocationHref()+"#"+zs+")"),Js.appendChild(wl),(qs=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Js.appendChild(qs),featureSupport.maskType||(yl.setAttribute("mask-type","luminance"),Ws.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Ys=createNS("g"),Js.appendChild(wl),Ys.appendChild(this.layerElement),Js.appendChild(Ys)),this.globalData.defs.appendChild(yl)}this.matteMasks[at]=Xs}return this.matteMasks[at]},setMatte:function(at){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+at+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(at){this.hierarchy=at},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(at,zs,Ws){this.initFrame(),this.initBaseData(at,zs,Ws),this.initTransform(at,zs,Ws),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(at){this._mdf=!1,this.prepareRenderableFrame(at),this.prepareProperties(at,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var at=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",at),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(at){var zs,Ws=this.shapeModifiers.length;for(zs=0;zs<Ws;zs+=1)this.shapeModifiers[zs].addShape(at)},isShapeInAnimatedModifiers:function(at){for(var zs=this.shapeModifiers.length;0<zs;)if(this.shapeModifiers[0].isAnimatedWithShape(at))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var at,zs=this.shapes.length;for(at=0;at<zs;at+=1)this.shapes[at].sh.reset();for(at=(zs=this.shapeModifiers.length)-1;at>=0&&!this.shapeModifiers[at].processShapes(this._isFirstFrame);at-=1);}},searchProcessedElement:function(at){for(var zs=this.processedElements,Ws=0,qs=zs.length;Ws<qs;){if(zs[Ws].elem===at)return zs[Ws].pos;Ws+=1}return 0},addProcessedElement:function(at,zs){for(var Ws=this.processedElements,qs=Ws.length;qs;)if(Ws[qs-=1].elem===at)return void(Ws[qs].pos=zs);Ws.push(new ProcessedElement(at,zs))},prepareFrame:function(at){this.prepareRenderableFrame(at),this.prepareProperties(at,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(at,zs,Ws){this.caches=[],this.styles=[],this.transformers=at,this.lStr="",this.sh=Ws,this.lvl=zs,this._isAnimated=!!Ws.k;for(var qs=0,Ys=at.length;qs<Ys;){if(at[qs].mProps.dynamicProperties.length){this._isAnimated=!0;break}qs+=1}}function SVGStyleData(at,zs){this.data=at,this.type=at.ty,this.d="",this.lvl=zs,this._mdf=!1,this.closed=at.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(at,zs,Ws,qs){var Ys;this.elem=at,this.frameId=-1,this.dataProps=createSizedArray(zs.length),this.renderer=Ws,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",zs.length?zs.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(qs);var Xs,Zs=zs.length||0;for(Ys=0;Ys<Zs;Ys+=1)Xs=PropertyFactory.getProp(at,zs[Ys].v,0,0,this),this.k=Xs.k||this.k,this.dataProps[Ys]={n:zs[Ys].n,p:Xs};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(at,zs,Ws){this.initDynamicPropertyContainer(at),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(at,zs.o,0,.01,this),this.w=PropertyFactory.getProp(at,zs.w,0,null,this),this.d=new DashProperty(at,zs.d||{},"svg",this),this.c=PropertyFactory.getProp(at,zs.c,1,255,this),this.style=Ws,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(at,zs,Ws){this.initDynamicPropertyContainer(at),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(at,zs.o,0,.01,this),this.c=PropertyFactory.getProp(at,zs.c,1,255,this),this.style=Ws}function SVGNoStyleData(at,zs,Ws){this.initDynamicPropertyContainer(at),this.getValue=this.iterateDynamicProperties,this.style=Ws}function GradientProperty(at,zs,Ws){this.data=zs,this.c=createTypedArray("uint8c",4*zs.p);var qs=zs.k.k[0].s?zs.k.k[0].s.length-4*zs.p:zs.k.k.length-4*zs.p;this.o=createTypedArray("float32",qs),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=qs,this.initDynamicPropertyContainer(Ws),this.prop=PropertyFactory.getProp(at,zs.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(at,zs,Ws){this.initDynamicPropertyContainer(at),this.getValue=this.iterateDynamicProperties,this.initGradientData(at,zs,Ws)}function SVGGradientStrokeStyleData(at,zs,Ws){this.initDynamicPropertyContainer(at),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(at,zs.w,0,null,this),this.d=new DashProperty(at,zs.d||{},"svg",this),this.initGradientData(at,zs,Ws),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(at,zs,Ws){this.transform={mProps:at,op:zs,container:Ws},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(at){if((this.elem.globalData.frameId!==this.frameId||at)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||at,this._mdf)){var zs=0,Ws=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),zs=0;zs<Ws;zs+=1)this.dataProps[zs].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[zs].p.v:this.dashArray[zs]=this.dataProps[zs].p.v:this.dashoffset[0]=this.dataProps[zs].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(at,zs){for(var Ws=0,qs=this.o.length/2;Ws<qs;){if(Math.abs(at[4*Ws]-at[4*zs+2*Ws])>.01)return!1;Ws+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var at=0,zs=this.data.k.k.length;at<zs;){if(!this.comparePoints(this.data.k.k[at].s,this.data.p))return!1;at+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(at){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||at){var zs,Ws,qs,Ys=4*this.data.p;for(zs=0;zs<Ys;zs+=1)Ws=zs%4==0?100:255,qs=Math.round(this.prop.v[zs]*Ws),this.c[zs]!==qs&&(this.c[zs]=qs,this._cmdf=!at);if(this.o.length)for(Ys=this.prop.v.length,zs=4*this.data.p;zs<Ys;zs+=1)Ws=zs%2==0?100:1,qs=zs%2==0?Math.round(100*this.prop.v[zs]):this.prop.v[zs],this.o[zs-4*this.data.p]!==qs&&(this.o[zs-4*this.data.p]=qs,this._omdf=!at);this._mdf=!at}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(at,zs,Ws){this.o=PropertyFactory.getProp(at,zs.o,0,.01,this),this.s=PropertyFactory.getProp(at,zs.s,1,null,this),this.e=PropertyFactory.getProp(at,zs.e,1,null,this),this.h=PropertyFactory.getProp(at,zs.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(at,zs.a||{k:0},0,degToRads,this),this.g=new GradientProperty(at,zs.g,this),this.style=Ws,this.stops=[],this.setGradientData(Ws.pElem,zs),this.setGradientOpacity(zs,Ws),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(at,zs){var Ws=createElementID(),qs=createNS(zs.t===1?"linearGradient":"radialGradient");qs.setAttribute("id",Ws),qs.setAttribute("spreadMethod","pad"),qs.setAttribute("gradientUnits","userSpaceOnUse");var Ys,Xs,Zs,yl=[];for(Zs=4*zs.g.p,Xs=0;Xs<Zs;Xs+=4)Ys=createNS("stop"),qs.appendChild(Ys),yl.push(Ys);at.setAttribute(zs.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ws+")"),this.gf=qs,this.cst=yl},SVGGradientFillStyleData.prototype.setGradientOpacity=function(at,zs){if(this.g._hasOpacity&&!this.g._collapsable){var Ws,qs,Ys,Xs=createNS("mask"),Zs=createNS("path");Xs.appendChild(Zs);var yl=createElementID(),Js=createElementID();Xs.setAttribute("id",Js);var $l=createNS(at.t===1?"linearGradient":"radialGradient");$l.setAttribute("id",yl),$l.setAttribute("spreadMethod","pad"),$l.setAttribute("gradientUnits","userSpaceOnUse"),Ys=at.g.k.k[0].s?at.g.k.k[0].s.length:at.g.k.k.length;var El=this.stops;for(qs=4*at.g.p;qs<Ys;qs+=2)(Ws=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),$l.appendChild(Ws),El.push(Ws);Zs.setAttribute(at.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+yl+")"),at.ty==="gs"&&(Zs.setAttribute("stroke-linecap",lineCapEnum[at.lc||2]),Zs.setAttribute("stroke-linejoin",lineJoinEnum[at.lj||2]),at.lj===1&&Zs.setAttribute("stroke-miterlimit",at.ml)),this.of=$l,this.ms=Xs,this.ost=El,this.maskId=Js,zs.msElem=Zs}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(at,zs,Ws,qs){if(zs===0)return"";var Ys,Xs=at.o,Zs=at.i,yl=at.v,Js=" M"+qs.applyToPointStringified(yl[0][0],yl[0][1]);for(Ys=1;Ys<zs;Ys+=1)Js+=" C"+qs.applyToPointStringified(Xs[Ys-1][0],Xs[Ys-1][1])+" "+qs.applyToPointStringified(Zs[Ys][0],Zs[Ys][1])+" "+qs.applyToPointStringified(yl[Ys][0],yl[Ys][1]);return Ws&&zs&&(Js+=" C"+qs.applyToPointStringified(Xs[Ys-1][0],Xs[Ys-1][1])+" "+qs.applyToPointStringified(Zs[0][0],Zs[0][1])+" "+qs.applyToPointStringified(yl[0][0],yl[0][1]),Js+="z"),Js},SVGElementsRenderer=function(){var at=new Matrix,zs=new Matrix;function Ws($l,El,wl){(wl||El.transform.op._mdf)&&El.transform.container.setAttribute("opacity",El.transform.op.v),(wl||El.transform.mProps._mdf)&&El.transform.container.setAttribute("transform",El.transform.mProps.v.to2dCSS())}function qs(){}function Ys($l,El,wl){var _l,Sl,Tl,Il,Al,xl,Pl,Cl,Rl,Ol,Ml=El.styles.length,Ll=El.lvl;for(xl=0;xl<Ml;xl+=1){if(Il=El.sh._mdf||wl,El.styles[xl].lvl<Ll){for(Cl=zs.reset(),Rl=Ll-El.styles[xl].lvl,Ol=El.transformers.length-1;!Il&&Rl>0;)Il=El.transformers[Ol].mProps._mdf||Il,Rl-=1,Ol-=1;if(Il)for(Rl=Ll-El.styles[xl].lvl,Ol=El.transformers.length-1;Rl>0;)Cl.multiply(El.transformers[Ol].mProps.v),Rl-=1,Ol-=1}else Cl=at;if(Sl=(Pl=El.sh.paths)._length,Il){for(Tl="",_l=0;_l<Sl;_l+=1)(Al=Pl.shapes[_l])&&Al._length&&(Tl+=buildShapeString(Al,Al._length,Al.c,Cl));El.caches[xl]=Tl}else Tl=El.caches[xl];El.styles[xl].d+=$l.hd===!0?"":Tl,El.styles[xl]._mdf=Il||El.styles[xl]._mdf}}function Xs($l,El,wl){var _l=El.style;(El.c._mdf||wl)&&_l.pElem.setAttribute("fill","rgb("+bmFloor(El.c.v[0])+","+bmFloor(El.c.v[1])+","+bmFloor(El.c.v[2])+")"),(El.o._mdf||wl)&&_l.pElem.setAttribute("fill-opacity",El.o.v)}function Zs($l,El,wl){yl($l,El,wl),Js($l,El,wl)}function yl($l,El,wl){var _l,Sl,Tl,Il,Al,xl=El.gf,Pl=El.g._hasOpacity,Cl=El.s.v,Rl=El.e.v;if(El.o._mdf||wl){var Ol=$l.ty==="gf"?"fill-opacity":"stroke-opacity";El.style.pElem.setAttribute(Ol,El.o.v)}if(El.s._mdf||wl){var Ml=$l.t===1?"x1":"cx",Ll=Ml==="x1"?"y1":"cy";xl.setAttribute(Ml,Cl[0]),xl.setAttribute(Ll,Cl[1]),Pl&&!El.g._collapsable&&(El.of.setAttribute(Ml,Cl[0]),El.of.setAttribute(Ll,Cl[1]))}if(El.g._cmdf||wl){_l=El.cst;var Bl=El.g.c;for(Tl=_l.length,Sl=0;Sl<Tl;Sl+=1)(Il=_l[Sl]).setAttribute("offset",Bl[4*Sl]+"%"),Il.setAttribute("stop-color","rgb("+Bl[4*Sl+1]+","+Bl[4*Sl+2]+","+Bl[4*Sl+3]+")")}if(Pl&&(El.g._omdf||wl)){var Wl=El.g.o;for(Tl=(_l=El.g._collapsable?El.cst:El.ost).length,Sl=0;Sl<Tl;Sl+=1)Il=_l[Sl],El.g._collapsable||Il.setAttribute("offset",Wl[2*Sl]+"%"),Il.setAttribute("stop-opacity",Wl[2*Sl+1])}if($l.t===1)(El.e._mdf||wl)&&(xl.setAttribute("x2",Rl[0]),xl.setAttribute("y2",Rl[1]),Pl&&!El.g._collapsable&&(El.of.setAttribute("x2",Rl[0]),El.of.setAttribute("y2",Rl[1])));else if((El.s._mdf||El.e._mdf||wl)&&(Al=Math.sqrt(Math.pow(Cl[0]-Rl[0],2)+Math.pow(Cl[1]-Rl[1],2)),xl.setAttribute("r",Al),Pl&&!El.g._collapsable&&El.of.setAttribute("r",Al)),El.e._mdf||El.h._mdf||El.a._mdf||wl){Al||(Al=Math.sqrt(Math.pow(Cl[0]-Rl[0],2)+Math.pow(Cl[1]-Rl[1],2)));var Yl=Math.atan2(Rl[1]-Cl[1],Rl[0]-Cl[0]),Kl=El.h.v;Kl>=1?Kl=.99:Kl<=-1&&(Kl=-.99);var Xl=Al*Kl,Ul=Math.cos(Yl+El.a.v)*Xl+Cl[0],Vl=Math.sin(Yl+El.a.v)*Xl+Cl[1];xl.setAttribute("fx",Ul),xl.setAttribute("fy",Vl),Pl&&!El.g._collapsable&&(El.of.setAttribute("fx",Ul),El.of.setAttribute("fy",Vl))}}function Js($l,El,wl){var _l=El.style,Sl=El.d;Sl&&(Sl._mdf||wl)&&Sl.dashStr&&(_l.pElem.setAttribute("stroke-dasharray",Sl.dashStr),_l.pElem.setAttribute("stroke-dashoffset",Sl.dashoffset[0])),El.c&&(El.c._mdf||wl)&&_l.pElem.setAttribute("stroke","rgb("+bmFloor(El.c.v[0])+","+bmFloor(El.c.v[1])+","+bmFloor(El.c.v[2])+")"),(El.o._mdf||wl)&&_l.pElem.setAttribute("stroke-opacity",El.o.v),(El.w._mdf||wl)&&(_l.pElem.setAttribute("stroke-width",El.w.v),_l.msElem&&_l.msElem.setAttribute("stroke-width",El.w.v))}return{createRenderFunction:function($l){switch($l.ty){case"fl":return Xs;case"gf":return yl;case"gs":return Zs;case"st":return Js;case"sh":case"el":case"rc":case"sr":return Ys;case"tr":return Ws;case"no":return qs;default:return null}}}}();function SVGShapeElement(at,zs,Ws){this.shapes=[],this.shapesData=at.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(at,zs,Ws),this.prevViewData=[]}function LetterProps(at,zs,Ws,qs,Ys,Xs){this.o=at,this.sw=zs,this.sc=Ws,this.fc=qs,this.m=Ys,this.p=Xs,this._mdf={o:!0,sw:!!zs,sc:!!Ws,fc:!!qs,m:!0,p:!0}}function TextProperty(at,zs){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,zs.d&&zs.d.sid&&(zs.d=at.globalData.slotManager.getProp(zs.d)),this.data=zs,this.elem=at,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var at,zs,Ws,qs,Ys=this.shapes.length,Xs=this.stylesList.length,Zs=[],yl=!1;for(Ws=0;Ws<Xs;Ws+=1){for(qs=this.stylesList[Ws],yl=!1,Zs.length=0,at=0;at<Ys;at+=1)(zs=this.shapes[at]).styles.indexOf(qs)!==-1&&(Zs.push(zs),yl=zs._isAnimated||yl);Zs.length>1&&yl&&this.setShapesAsAnimated(Zs)}},SVGShapeElement.prototype.setShapesAsAnimated=function(at){var zs,Ws=at.length;for(zs=0;zs<Ws;zs+=1)at[zs].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(at,zs){var Ws,qs=new SVGStyleData(at,zs),Ys=qs.pElem;return at.ty==="st"?Ws=new SVGStrokeStyleData(this,at,qs):at.ty==="fl"?Ws=new SVGFillStyleData(this,at,qs):at.ty==="gf"||at.ty==="gs"?(Ws=new(at.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,at,qs),this.globalData.defs.appendChild(Ws.gf),Ws.maskId&&(this.globalData.defs.appendChild(Ws.ms),this.globalData.defs.appendChild(Ws.of),Ys.setAttribute("mask","url("+getLocationHref()+"#"+Ws.maskId+")"))):at.ty==="no"&&(Ws=new SVGNoStyleData(this,at,qs)),at.ty!=="st"&&at.ty!=="gs"||(Ys.setAttribute("stroke-linecap",lineCapEnum[at.lc||2]),Ys.setAttribute("stroke-linejoin",lineJoinEnum[at.lj||2]),Ys.setAttribute("fill-opacity","0"),at.lj===1&&Ys.setAttribute("stroke-miterlimit",at.ml)),at.r===2&&Ys.setAttribute("fill-rule","evenodd"),at.ln&&Ys.setAttribute("id",at.ln),at.cl&&Ys.setAttribute("class",at.cl),at.bm&&(Ys.style["mix-blend-mode"]=getBlendMode(at.bm)),this.stylesList.push(qs),this.addToAnimatedContents(at,Ws),Ws},SVGShapeElement.prototype.createGroupElement=function(at){var zs=new ShapeGroupData;return at.ln&&zs.gr.setAttribute("id",at.ln),at.cl&&zs.gr.setAttribute("class",at.cl),at.bm&&(zs.gr.style["mix-blend-mode"]=getBlendMode(at.bm)),zs},SVGShapeElement.prototype.createTransformElement=function(at,zs){var Ws=TransformPropertyFactory.getTransformProperty(this,at,this),qs=new SVGTransformData(Ws,Ws.o,zs);return this.addToAnimatedContents(at,qs),qs},SVGShapeElement.prototype.createShapeElement=function(at,zs,Ws){var qs=4;at.ty==="rc"?qs=5:at.ty==="el"?qs=6:at.ty==="sr"&&(qs=7);var Ys=new SVGShapeData(zs,Ws,ShapePropertyFactory.getShapeProp(this,at,qs,this));return this.shapes.push(Ys),this.addShapeToModifiers(Ys),this.addToAnimatedContents(at,Ys),Ys},SVGShapeElement.prototype.addToAnimatedContents=function(at,zs){for(var Ws=0,qs=this.animatedContents.length;Ws<qs;){if(this.animatedContents[Ws].element===zs)return;Ws+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(at),element:zs,data:at})},SVGShapeElement.prototype.setElementStyles=function(at){var zs,Ws=at.styles,qs=this.stylesList.length;for(zs=0;zs<qs;zs+=1)this.stylesList[zs].closed||Ws.push(this.stylesList[zs])},SVGShapeElement.prototype.reloadShapes=function(){var at;this._isFirstFrame=!0;var zs=this.itemsData.length;for(at=0;at<zs;at+=1)this.prevViewData[at]=this.itemsData[at];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),zs=this.dynamicProperties.length,at=0;at<zs;at+=1)this.dynamicProperties[at].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(at,zs,Ws,qs,Ys,Xs,Zs){var yl,Js,$l,El,wl,_l,Sl=[].concat(Xs),Tl=at.length-1,Il=[],Al=[];for(yl=Tl;yl>=0;yl-=1){if((_l=this.searchProcessedElement(at[yl]))?zs[yl]=Ws[_l-1]:at[yl]._render=Zs,at[yl].ty==="fl"||at[yl].ty==="st"||at[yl].ty==="gf"||at[yl].ty==="gs"||at[yl].ty==="no")_l?zs[yl].style.closed=!1:zs[yl]=this.createStyleElement(at[yl],Ys),at[yl]._render&&zs[yl].style.pElem.parentNode!==qs&&qs.appendChild(zs[yl].style.pElem),Il.push(zs[yl].style);else if(at[yl].ty==="gr"){if(_l)for($l=zs[yl].it.length,Js=0;Js<$l;Js+=1)zs[yl].prevViewData[Js]=zs[yl].it[Js];else zs[yl]=this.createGroupElement(at[yl]);this.searchShapes(at[yl].it,zs[yl].it,zs[yl].prevViewData,zs[yl].gr,Ys+1,Sl,Zs),at[yl]._render&&zs[yl].gr.parentNode!==qs&&qs.appendChild(zs[yl].gr)}else at[yl].ty==="tr"?(_l||(zs[yl]=this.createTransformElement(at[yl],qs)),El=zs[yl].transform,Sl.push(El)):at[yl].ty==="sh"||at[yl].ty==="rc"||at[yl].ty==="el"||at[yl].ty==="sr"?(_l||(zs[yl]=this.createShapeElement(at[yl],Sl,Ys)),this.setElementStyles(zs[yl])):at[yl].ty==="tm"||at[yl].ty==="rd"||at[yl].ty==="ms"||at[yl].ty==="pb"||at[yl].ty==="zz"||at[yl].ty==="op"?(_l?(wl=zs[yl]).closed=!1:((wl=ShapeModifiers.getModifier(at[yl].ty)).init(this,at[yl]),zs[yl]=wl,this.shapeModifiers.push(wl)),Al.push(wl)):at[yl].ty==="rp"&&(_l?(wl=zs[yl]).closed=!0:(wl=ShapeModifiers.getModifier(at[yl].ty),zs[yl]=wl,wl.init(this,at,yl,zs),this.shapeModifiers.push(wl),Zs=!1),Al.push(wl));this.addProcessedElement(at[yl],yl+1)}for(Tl=Il.length,yl=0;yl<Tl;yl+=1)Il[yl].closed=!0;for(Tl=Al.length,yl=0;yl<Tl;yl+=1)Al[yl].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var at;this.renderModifiers();var zs=this.stylesList.length;for(at=0;at<zs;at+=1)this.stylesList[at].reset();for(this.renderShape(),at=0;at<zs;at+=1)(this.stylesList[at]._mdf||this._isFirstFrame)&&(this.stylesList[at].msElem&&(this.stylesList[at].msElem.setAttribute("d",this.stylesList[at].d),this.stylesList[at].d="M0 0"+this.stylesList[at].d),this.stylesList[at].pElem.setAttribute("d",this.stylesList[at].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var at,zs,Ws=this.animatedContents.length;for(at=0;at<Ws;at+=1)zs=this.animatedContents[at],(this._isFirstFrame||zs.element._isAnimated)&&zs.data!==!0&&zs.fn(zs.data,zs.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(at,zs,Ws,qs,Ys,Xs){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Zs=!1;return this.o!==at&&(this.o=at,this._mdf.o=!0,Zs=!0),this.sw!==zs&&(this.sw=zs,this._mdf.sw=!0,Zs=!0),this.sc!==Ws&&(this.sc=Ws,this._mdf.sc=!0,Zs=!0),this.fc!==qs&&(this.fc=qs,this._mdf.fc=!0,Zs=!0),this.m!==Ys&&(this.m=Ys,this._mdf.m=!0,Zs=!0),!Xs.length||this.p[0]===Xs[0]&&this.p[1]===Xs[1]&&this.p[4]===Xs[4]&&this.p[5]===Xs[5]&&this.p[12]===Xs[12]&&this.p[13]===Xs[13]||(this.p=Xs,this._mdf.p=!0,Zs=!0),Zs},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(at,zs){for(var Ws in zs)Object.prototype.hasOwnProperty.call(zs,Ws)&&(at[Ws]=zs[Ws]);return at},TextProperty.prototype.setCurrentData=function(at){at.__complete||this.completeTextData(at),this.currentData=at,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(at){this.effectsSequence.push(at),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(at){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||at){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var zs=this.currentData,Ws=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var qs;this.lock=!0,this._mdf=!1;var Ys=this.effectsSequence.length,Xs=at||this.data.d.k[this.keysIndex].s;for(qs=0;qs<Ys;qs+=1)Xs=Ws!==this.keysIndex?this.effectsSequence[qs](Xs,Xs.t):this.effectsSequence[qs](this.currentData,Xs.t);zs!==Xs&&this.setCurrentData(Xs),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var at=this.data.d.k,zs=this.elem.comp.renderedFrame,Ws=0,qs=at.length;Ws<=qs-1&&!(Ws===qs-1||at[Ws+1].t>zs);)Ws+=1;return this.keysIndex!==Ws&&(this.keysIndex=Ws),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(at){for(var zs,Ws,qs=[],Ys=0,Xs=at.length,Zs=!1,yl=!1,Js="";Ys<Xs;)Zs=yl,yl=!1,zs=at.charCodeAt(Ys),Js=at.charAt(Ys),FontManager.isCombinedCharacter(zs)?Zs=!0:zs>=55296&&zs<=56319?FontManager.isRegionalFlag(at,Ys)?Js=at.substr(Ys,14):(Ws=at.charCodeAt(Ys+1))>=56320&&Ws<=57343&&(FontManager.isModifier(zs,Ws)?(Js=at.substr(Ys,2),Zs=!0):Js=FontManager.isFlagEmoji(at.substr(Ys,4))?at.substr(Ys,4):at.substr(Ys,2)):zs>56319?(Ws=at.charCodeAt(Ys+1),FontManager.isVariationSelector(zs)&&(Zs=!0)):FontManager.isZeroWidthJoiner(zs)&&(Zs=!0,yl=!0),Zs?(qs[qs.length-1]+=Js,Zs=!1):qs.push(Js),Ys+=Js.length;return qs},TextProperty.prototype.completeTextData=function(at){at.__complete=!0;var zs,Ws,qs,Ys,Xs,Zs,yl,Js=this.elem.globalData.fontManager,$l=this.data,El=[],wl=0,_l=$l.m.g,Sl=0,Tl=0,Il=0,Al=[],xl=0,Pl=0,Cl=Js.getFontByName(at.f),Rl=0,Ol=getFontProperties(Cl);at.fWeight=Ol.weight,at.fStyle=Ol.style,at.finalSize=at.s,at.finalText=this.buildFinalText(at.t),Ws=at.finalText.length,at.finalLineHeight=at.lh;var Ml,Ll=at.tr/1e3*at.finalSize;if(at.sz)for(var Bl,Wl,Yl=!0,Kl=at.sz[0],Xl=at.sz[1];Yl;){Bl=0,xl=0,Ws=(Wl=this.buildFinalText(at.t)).length,Ll=at.tr/1e3*at.finalSize;var Ul=-1;for(zs=0;zs<Ws;zs+=1)Ml=Wl[zs].charCodeAt(0),qs=!1,Wl[zs]===" "?Ul=zs:Ml!==13&&Ml!==3||(xl=0,qs=!0,Bl+=at.finalLineHeight||1.2*at.finalSize),Js.chars?(yl=Js.getCharData(Wl[zs],Cl.fStyle,Cl.fFamily),Rl=qs?0:yl.w*at.finalSize/100):Rl=Js.measureText(Wl[zs],at.f,at.finalSize),xl+Rl>Kl&&Wl[zs]!==" "?(Ul===-1?Ws+=1:zs=Ul,Bl+=at.finalLineHeight||1.2*at.finalSize,Wl.splice(zs,Ul===zs?1:0,"\r"),Ul=-1,xl=0):(xl+=Rl,xl+=Ll);Bl+=Cl.ascent*at.finalSize/100,this.canResize&&at.finalSize>this.minimumFontSize&&Xl<Bl?(at.finalSize-=1,at.finalLineHeight=at.finalSize*at.lh/at.s):(at.finalText=Wl,Ws=at.finalText.length,Yl=!1)}xl=-Ll,Rl=0;var Vl,Nl=0;for(zs=0;zs<Ws;zs+=1)if(qs=!1,(Ml=(Vl=at.finalText[zs]).charCodeAt(0))===13||Ml===3?(Nl=0,Al.push(xl),Pl=xl>Pl?xl:Pl,xl=-2*Ll,Ys="",qs=!0,Il+=1):Ys=Vl,Js.chars?(yl=Js.getCharData(Vl,Cl.fStyle,Js.getFontByName(at.f).fFamily),Rl=qs?0:yl.w*at.finalSize/100):Rl=Js.measureText(Ys,at.f,at.finalSize),Vl===" "?Nl+=Rl+Ll:(xl+=Rl+Ll+Nl,Nl=0),El.push({l:Rl,an:Rl,add:Sl,n:qs,anIndexes:[],val:Ys,line:Il,animatorJustifyOffset:0}),_l==2){if(Sl+=Rl,Ys===""||Ys===" "||zs===Ws-1){for(Ys!==""&&Ys!==" "||(Sl-=Rl);Tl<=zs;)El[Tl].an=Sl,El[Tl].ind=wl,El[Tl].extra=Rl,Tl+=1;wl+=1,Sl=0}}else if(_l==3){if(Sl+=Rl,Ys===""||zs===Ws-1){for(Ys===""&&(Sl-=Rl);Tl<=zs;)El[Tl].an=Sl,El[Tl].ind=wl,El[Tl].extra=Rl,Tl+=1;Sl=0,wl+=1}}else El[wl].ind=wl,El[wl].extra=0,wl+=1;if(at.l=El,Pl=xl>Pl?xl:Pl,Al.push(xl),at.sz)at.boxWidth=at.sz[0],at.justifyOffset=0;else switch(at.boxWidth=Pl,at.j){case 1:at.justifyOffset=-at.boxWidth;break;case 2:at.justifyOffset=-at.boxWidth/2;break;default:at.justifyOffset=0}at.lineWidths=Al;var Dl,Gl,Fl,Hl,Zl=$l.a;Zs=Zl.length;var Su=[];for(Xs=0;Xs<Zs;Xs+=1){for((Dl=Zl[Xs]).a.sc&&(at.strokeColorAnim=!0),Dl.a.sw&&(at.strokeWidthAnim=!0),(Dl.a.fc||Dl.a.fh||Dl.a.fs||Dl.a.fb)&&(at.fillColorAnim=!0),Hl=0,Fl=Dl.s.b,zs=0;zs<Ws;zs+=1)(Gl=El[zs]).anIndexes[Xs]=Hl,(Fl==1&&Gl.val!==""||Fl==2&&Gl.val!==""&&Gl.val!==" "||Fl==3&&(Gl.n||Gl.val==" "||zs==Ws-1)||Fl==4&&(Gl.n||zs==Ws-1))&&(Dl.s.rn===1&&Su.push(Hl),Hl+=1);$l.a[Xs].s.totalChars=Hl;var $u,Pu=-1;if(Dl.s.rn===1)for(zs=0;zs<Ws;zs+=1)Pu!=(Gl=El[zs]).anIndexes[Xs]&&(Pu=Gl.anIndexes[Xs],$u=Su.splice(Math.floor(Math.random()*Su.length),1)[0]),Gl.anIndexes[Xs]=$u}at.yOffset=at.finalLineHeight||1.2*at.finalSize,at.ls=at.ls||0,at.ascent=Cl.ascent*at.finalSize/100},TextProperty.prototype.updateDocumentData=function(at,zs){zs=zs===void 0?this.keysIndex:zs;var Ws=this.copyData({},this.data.d.k[zs].s);Ws=this.copyData(Ws,at),this.data.d.k[zs].s=Ws,this.recalculate(zs),this.setCurrentData(Ws),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(at){var zs=this.data.d.k[at].s;zs.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(zs)},TextProperty.prototype.canResizeFont=function(at){this.canResize=at,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(at){this.minimumFontSize=Math.floor(at)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var at=Math.max,zs=Math.min,Ws=Math.floor;function qs(Ys,Xs){this._currentTextLength=-1,this.k=!1,this.data=Xs,this.elem=Ys,this.comp=Ys.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Ys),this.s=PropertyFactory.getProp(Ys,Xs.s||{k:0},0,0,this),this.e="e"in Xs?PropertyFactory.getProp(Ys,Xs.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(Ys,Xs.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Ys,Xs.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Ys,Xs.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Ys,Xs.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Ys,Xs.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return qs.prototype={getMult:function(Ys){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Xs=0,Zs=0,yl=1,Js=1;this.ne.v>0?Xs=this.ne.v/100:Zs=-this.ne.v/100,this.xe.v>0?yl=1-this.xe.v/100:Js=1+this.xe.v/100;var $l=BezierFactory.getBezierEasing(Xs,Zs,yl,Js).get,El=0,wl=this.finalS,_l=this.finalE,Sl=this.data.sh;if(Sl===2)El=$l(El=_l===wl?Ys>=_l?1:0:at(0,zs(.5/(_l-wl)+(Ys-wl)/(_l-wl),1)));else if(Sl===3)El=$l(El=_l===wl?Ys>=_l?0:1:1-at(0,zs(.5/(_l-wl)+(Ys-wl)/(_l-wl),1)));else if(Sl===4)_l===wl?El=0:(El=at(0,zs(.5/(_l-wl)+(Ys-wl)/(_l-wl),1)))<.5?El*=2:El=1-2*(El-.5),El=$l(El);else if(Sl===5){if(_l===wl)El=0;else{var Tl=_l-wl,Il=-Tl/2+(Ys=zs(at(0,Ys+.5-wl),_l-wl)),Al=Tl/2;El=Math.sqrt(1-Il*Il/(Al*Al))}El=$l(El)}else Sl===6?(_l===wl?El=0:(Ys=zs(at(0,Ys+.5-wl),_l-wl),El=(1+Math.cos(Math.PI+2*Math.PI*Ys/(_l-wl)))/2),El=$l(El)):(Ys>=Ws(wl)&&(El=at(0,zs(Ys-wl<0?zs(_l,1)-(wl-Ys):_l-Ys,1))),El=$l(El));if(this.sm.v!==100){var xl=.01*this.sm.v;xl===0&&(xl=1e-8);var Pl=.5-.5*xl;El<Pl?El=0:(El=(El-Pl)/xl)>1&&(El=1)}return El*this.a.v},getValue:function(Ys){this.iterateDynamicProperties(),this._mdf=Ys||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Ys&&this.data.r===2&&(this.e.v=this._currentTextLength);var Xs=this.data.r===2?1:100/this.data.totalChars,Zs=this.o.v/Xs,yl=this.s.v/Xs+Zs,Js=this.e.v/Xs+Zs;if(yl>Js){var $l=yl;yl=Js,Js=$l}this.finalS=yl,this.finalE=Js}},extendPrototype([DynamicPropertyContainer],qs),{getTextSelectorProp:function(Ys,Xs,Zs){return new qs(Ys,Xs)}}}();function TextAnimatorDataProperty(at,zs,Ws){var qs={propType:!1},Ys=PropertyFactory.getProp,Xs=zs.a;this.a={r:Xs.r?Ys(at,Xs.r,0,degToRads,Ws):qs,rx:Xs.rx?Ys(at,Xs.rx,0,degToRads,Ws):qs,ry:Xs.ry?Ys(at,Xs.ry,0,degToRads,Ws):qs,sk:Xs.sk?Ys(at,Xs.sk,0,degToRads,Ws):qs,sa:Xs.sa?Ys(at,Xs.sa,0,degToRads,Ws):qs,s:Xs.s?Ys(at,Xs.s,1,.01,Ws):qs,a:Xs.a?Ys(at,Xs.a,1,0,Ws):qs,o:Xs.o?Ys(at,Xs.o,0,.01,Ws):qs,p:Xs.p?Ys(at,Xs.p,1,0,Ws):qs,sw:Xs.sw?Ys(at,Xs.sw,0,0,Ws):qs,sc:Xs.sc?Ys(at,Xs.sc,1,0,Ws):qs,fc:Xs.fc?Ys(at,Xs.fc,1,0,Ws):qs,fh:Xs.fh?Ys(at,Xs.fh,0,0,Ws):qs,fs:Xs.fs?Ys(at,Xs.fs,0,.01,Ws):qs,fb:Xs.fb?Ys(at,Xs.fb,0,.01,Ws):qs,t:Xs.t?Ys(at,Xs.t,0,0,Ws):qs},this.s=TextSelectorProp.getTextSelectorProp(at,zs.s,Ws),this.s.t=zs.s.t}function TextAnimatorProperty(at,zs,Ws){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=at,this._renderType=zs,this._elem=Ws,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Ws)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var at,zs,Ws=this._textData.a.length,qs=PropertyFactory.getProp;for(at=0;at<Ws;at+=1)zs=this._textData.a[at],this._animatorsData[at]=new TextAnimatorDataProperty(this._elem,zs,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:qs(this._elem,this._textData.p.a,0,0,this),f:qs(this._elem,this._textData.p.f,0,0,this),l:qs(this._elem,this._textData.p.l,0,0,this),r:qs(this._elem,this._textData.p.r,0,0,this),p:qs(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=qs(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(at,zs){if(this.lettersChangedFlag=zs,this._mdf||this._isFirstFrame||zs||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al,xl,Pl,Cl,Rl,Ol=this._moreOptions.alignment.v,Ml=this._animatorsData,Ll=this._textData,Bl=this.mHelper,Wl=this._renderType,Yl=this.renderedLetters.length,Kl=at.l;if(this._hasMaskedPath){if(Rl=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Xl,Ul=Rl.v;for(this._pathData.r.v&&(Ul=Ul.reverse()),Zs={tLength:0,segments:[]},Xs=Ul._length-1,xl=0,Ys=0;Ys<Xs;Ys+=1)Xl=bez.buildBezierData(Ul.v[Ys],Ul.v[Ys+1],[Ul.o[Ys][0]-Ul.v[Ys][0],Ul.o[Ys][1]-Ul.v[Ys][1]],[Ul.i[Ys+1][0]-Ul.v[Ys+1][0],Ul.i[Ys+1][1]-Ul.v[Ys+1][1]]),Zs.tLength+=Xl.segmentLength,Zs.segments.push(Xl),xl+=Xl.segmentLength;Ys=Xs,Rl.v.c&&(Xl=bez.buildBezierData(Ul.v[Ys],Ul.v[0],[Ul.o[Ys][0]-Ul.v[Ys][0],Ul.o[Ys][1]-Ul.v[Ys][1]],[Ul.i[0][0]-Ul.v[0][0],Ul.i[0][1]-Ul.v[0][1]]),Zs.tLength+=Xl.segmentLength,Zs.segments.push(Xl),xl+=Xl.segmentLength),this._pathData.pi=Zs}if(Zs=this._pathData.pi,yl=this._pathData.f.v,_l=0,wl=1,$l=0,El=!0,Il=Zs.segments,yl<0&&Rl.v.c)for(Zs.tLength<Math.abs(yl)&&(yl=-Math.abs(yl)%Zs.tLength),wl=(Tl=Il[_l=Il.length-1].points).length-1;yl<0;)yl+=Tl[wl].partialLength,(wl-=1)<0&&(wl=(Tl=Il[_l-=1].points).length-1);Sl=(Tl=Il[_l].points)[wl-1],Al=(Js=Tl[wl]).partialLength}Xs=Kl.length,Ws=0,qs=0;var Vl,Nl,Dl,Gl,Fl,Hl=1.2*at.finalSize*.714,Zl=!0;Dl=Ml.length;var Su,$u,Pu,ku,Tu,Ru,Mu,Hu,Ku,Fu,ju,qu,Zu=-1,_d=yl,vp=_l,Ap=wl,Rp=-1,xp="",Gp=this.defaultPropsArray;if(at.j===2||at.j===1){var Cp=0,em=0,dm=at.j===2?-.5:-1,Dp=0,Qu=!0;for(Ys=0;Ys<Xs;Ys+=1)if(Kl[Ys].n){for(Cp&&(Cp+=em);Dp<Ys;)Kl[Dp].animatorJustifyOffset=Cp,Dp+=1;Cp=0,Qu=!0}else{for(Nl=0;Nl<Dl;Nl+=1)(Vl=Ml[Nl].a).t.propType&&(Qu&&at.j===2&&(em+=Vl.t.v*dm),(Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars)).length?Cp+=Vl.t.v*Fl[0]*dm:Cp+=Vl.t.v*Fl*dm);Qu=!1}for(Cp&&(Cp+=em);Dp<Ys;)Kl[Dp].animatorJustifyOffset=Cp,Dp+=1}for(Ys=0;Ys<Xs;Ys+=1){if(Bl.reset(),ku=1,Kl[Ys].n)Ws=0,qs+=at.yOffset,qs+=Zl?1:0,yl=_d,Zl=!1,this._hasMaskedPath&&(wl=Ap,Sl=(Tl=Il[_l=vp].points)[wl-1],Al=(Js=Tl[wl]).partialLength,$l=0),xp="",ju="",Ku="",qu="",Gp=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Rp!==Kl[Ys].line){switch(at.j){case 1:yl+=xl-at.lineWidths[Kl[Ys].line];break;case 2:yl+=(xl-at.lineWidths[Kl[Ys].line])/2}Rp=Kl[Ys].line}Zu!==Kl[Ys].ind&&(Kl[Zu]&&(yl+=Kl[Zu].extra),yl+=Kl[Ys].an/2,Zu=Kl[Ys].ind),yl+=Ol[0]*Kl[Ys].an*.005;var yp=0;for(Nl=0;Nl<Dl;Nl+=1)(Vl=Ml[Nl].a).p.propType&&((Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars)).length?yp+=Vl.p.v[0]*Fl[0]:yp+=Vl.p.v[0]*Fl),Vl.a.propType&&((Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars)).length?yp+=Vl.a.v[0]*Fl[0]:yp+=Vl.a.v[0]*Fl);for(El=!0,this._pathData.a.v&&(yl=.5*Kl[0].an+(xl-this._pathData.f.v-.5*Kl[0].an-.5*Kl[Kl.length-1].an)*Zu/(Xs-1),yl+=this._pathData.f.v);El;)$l+Al>=yl+yp||!Tl?(Pl=(yl+yp-$l)/Js.partialLength,$u=Sl.point[0]+(Js.point[0]-Sl.point[0])*Pl,Pu=Sl.point[1]+(Js.point[1]-Sl.point[1])*Pl,Bl.translate(-Ol[0]*Kl[Ys].an*.005,-Ol[1]*Hl*.01),El=!1):Tl&&($l+=Js.partialLength,(wl+=1)>=Tl.length&&(wl=0,Il[_l+=1]?Tl=Il[_l].points:Rl.v.c?(wl=0,Tl=Il[_l=0].points):($l-=Js.partialLength,Tl=null)),Tl&&(Sl=Js,Al=(Js=Tl[wl]).partialLength));Su=Kl[Ys].an/2-Kl[Ys].add,Bl.translate(-Su,0,0)}else Su=Kl[Ys].an/2-Kl[Ys].add,Bl.translate(-Su,0,0),Bl.translate(-Ol[0]*Kl[Ys].an*.005,-Ol[1]*Hl*.01,0);for(Nl=0;Nl<Dl;Nl+=1)(Vl=Ml[Nl].a).t.propType&&(Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars),Ws===0&&at.j===0||(this._hasMaskedPath?Fl.length?yl+=Vl.t.v*Fl[0]:yl+=Vl.t.v*Fl:Fl.length?Ws+=Vl.t.v*Fl[0]:Ws+=Vl.t.v*Fl));for(at.strokeWidthAnim&&(Ru=at.sw||0),at.strokeColorAnim&&(Tu=at.sc?[at.sc[0],at.sc[1],at.sc[2]]:[0,0,0]),at.fillColorAnim&&at.fc&&(Mu=[at.fc[0],at.fc[1],at.fc[2]]),Nl=0;Nl<Dl;Nl+=1)(Vl=Ml[Nl].a).a.propType&&((Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars)).length?Bl.translate(-Vl.a.v[0]*Fl[0],-Vl.a.v[1]*Fl[1],Vl.a.v[2]*Fl[2]):Bl.translate(-Vl.a.v[0]*Fl,-Vl.a.v[1]*Fl,Vl.a.v[2]*Fl));for(Nl=0;Nl<Dl;Nl+=1)(Vl=Ml[Nl].a).s.propType&&((Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars)).length?Bl.scale(1+(Vl.s.v[0]-1)*Fl[0],1+(Vl.s.v[1]-1)*Fl[1],1):Bl.scale(1+(Vl.s.v[0]-1)*Fl,1+(Vl.s.v[1]-1)*Fl,1));for(Nl=0;Nl<Dl;Nl+=1){if(Vl=Ml[Nl].a,Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars),Vl.sk.propType&&(Fl.length?Bl.skewFromAxis(-Vl.sk.v*Fl[0],Vl.sa.v*Fl[1]):Bl.skewFromAxis(-Vl.sk.v*Fl,Vl.sa.v*Fl)),Vl.r.propType&&(Fl.length?Bl.rotateZ(-Vl.r.v*Fl[2]):Bl.rotateZ(-Vl.r.v*Fl)),Vl.ry.propType&&(Fl.length?Bl.rotateY(Vl.ry.v*Fl[1]):Bl.rotateY(Vl.ry.v*Fl)),Vl.rx.propType&&(Fl.length?Bl.rotateX(Vl.rx.v*Fl[0]):Bl.rotateX(Vl.rx.v*Fl)),Vl.o.propType&&(Fl.length?ku+=(Vl.o.v*Fl[0]-ku)*Fl[0]:ku+=(Vl.o.v*Fl-ku)*Fl),at.strokeWidthAnim&&Vl.sw.propType&&(Fl.length?Ru+=Vl.sw.v*Fl[0]:Ru+=Vl.sw.v*Fl),at.strokeColorAnim&&Vl.sc.propType)for(Hu=0;Hu<3;Hu+=1)Fl.length?Tu[Hu]+=(Vl.sc.v[Hu]-Tu[Hu])*Fl[0]:Tu[Hu]+=(Vl.sc.v[Hu]-Tu[Hu])*Fl;if(at.fillColorAnim&&at.fc){if(Vl.fc.propType)for(Hu=0;Hu<3;Hu+=1)Fl.length?Mu[Hu]+=(Vl.fc.v[Hu]-Mu[Hu])*Fl[0]:Mu[Hu]+=(Vl.fc.v[Hu]-Mu[Hu])*Fl;Vl.fh.propType&&(Mu=Fl.length?addHueToRGB(Mu,Vl.fh.v*Fl[0]):addHueToRGB(Mu,Vl.fh.v*Fl)),Vl.fs.propType&&(Mu=Fl.length?addSaturationToRGB(Mu,Vl.fs.v*Fl[0]):addSaturationToRGB(Mu,Vl.fs.v*Fl)),Vl.fb.propType&&(Mu=Fl.length?addBrightnessToRGB(Mu,Vl.fb.v*Fl[0]):addBrightnessToRGB(Mu,Vl.fb.v*Fl))}}for(Nl=0;Nl<Dl;Nl+=1)(Vl=Ml[Nl].a).p.propType&&(Fl=Ml[Nl].s.getMult(Kl[Ys].anIndexes[Nl],Ll.a[Nl].s.totalChars),this._hasMaskedPath?Fl.length?Bl.translate(0,Vl.p.v[1]*Fl[0],-Vl.p.v[2]*Fl[1]):Bl.translate(0,Vl.p.v[1]*Fl,-Vl.p.v[2]*Fl):Fl.length?Bl.translate(Vl.p.v[0]*Fl[0],Vl.p.v[1]*Fl[1],-Vl.p.v[2]*Fl[2]):Bl.translate(Vl.p.v[0]*Fl,Vl.p.v[1]*Fl,-Vl.p.v[2]*Fl));if(at.strokeWidthAnim&&(Ku=Ru<0?0:Ru),at.strokeColorAnim&&(Fu="rgb("+Math.round(255*Tu[0])+","+Math.round(255*Tu[1])+","+Math.round(255*Tu[2])+")"),at.fillColorAnim&&at.fc&&(ju="rgb("+Math.round(255*Mu[0])+","+Math.round(255*Mu[1])+","+Math.round(255*Mu[2])+")"),this._hasMaskedPath){if(Bl.translate(0,-at.ls),Bl.translate(0,Ol[1]*Hl*.01+qs,0),this._pathData.p.v){Cl=(Js.point[1]-Sl.point[1])/(Js.point[0]-Sl.point[0]);var tm=180*Math.atan(Cl)/Math.PI;Js.point[0]<Sl.point[0]&&(tm+=180),Bl.rotate(-tm*Math.PI/180)}Bl.translate($u,Pu,0),yl-=Ol[0]*Kl[Ys].an*.005,Kl[Ys+1]&&Zu!==Kl[Ys+1].ind&&(yl+=Kl[Ys].an/2,yl+=.001*at.tr*at.finalSize)}else{switch(Bl.translate(Ws,qs,0),at.ps&&Bl.translate(at.ps[0],at.ps[1]+at.ascent,0),at.j){case 1:Bl.translate(Kl[Ys].animatorJustifyOffset+at.justifyOffset+(at.boxWidth-at.lineWidths[Kl[Ys].line]),0,0);break;case 2:Bl.translate(Kl[Ys].animatorJustifyOffset+at.justifyOffset+(at.boxWidth-at.lineWidths[Kl[Ys].line])/2,0,0)}Bl.translate(0,-at.ls),Bl.translate(Su,0,0),Bl.translate(Ol[0]*Kl[Ys].an*.005,Ol[1]*Hl*.01,0),Ws+=Kl[Ys].l+.001*at.tr*at.finalSize}Wl==="html"?xp=Bl.toCSS():Wl==="svg"?xp=Bl.to2dCSS():Gp=[Bl.props[0],Bl.props[1],Bl.props[2],Bl.props[3],Bl.props[4],Bl.props[5],Bl.props[6],Bl.props[7],Bl.props[8],Bl.props[9],Bl.props[10],Bl.props[11],Bl.props[12],Bl.props[13],Bl.props[14],Bl.props[15]],qu=ku}Yl<=Ys?(Gl=new LetterProps(qu,Ku,Fu,ju,xp,Gp),this.renderedLetters.push(Gl),Yl+=1,this.lettersChangedFlag=!0):(Gl=this.renderedLetters[Ys],this.lettersChangedFlag=Gl.update(qu,Ku,Fu,ju,xp,Gp)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(at,zs,Ws){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(at,zs,Ws),this.textProperty=new TextProperty(this,at.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(at.t,this.renderType,this),this.initTransform(at,zs,Ws),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(at){this._mdf=!1,this.prepareRenderableFrame(at),this.prepareProperties(at,this.isInRange)},ITextElement.prototype.createPathShape=function(at,zs){var Ws,qs,Ys=zs.length,Xs="";for(Ws=0;Ws<Ys;Ws+=1)zs[Ws].ty==="sh"&&(qs=zs[Ws].ks.k,Xs+=buildShapeString(qs,qs.i.length,!0,at));return Xs},ITextElement.prototype.updateDocumentData=function(at,zs){this.textProperty.updateDocumentData(at,zs)},ITextElement.prototype.canResizeFont=function(at){this.textProperty.canResizeFont(at)},ITextElement.prototype.setMinimumFontSize=function(at){this.textProperty.setMinimumFontSize(at)},ITextElement.prototype.applyTextPropertiesToMatrix=function(at,zs,Ws,qs,Ys){switch(at.ps&&zs.translate(at.ps[0],at.ps[1]+at.ascent,0),zs.translate(0,-at.ls,0),at.j){case 1:zs.translate(at.justifyOffset+(at.boxWidth-at.lineWidths[Ws]),0,0);break;case 2:zs.translate(at.justifyOffset+(at.boxWidth-at.lineWidths[Ws])/2,0,0)}zs.translate(qs,Ys,0)},ITextElement.prototype.buildColor=function(at){return"rgb("+Math.round(255*at[0])+","+Math.round(255*at[1])+","+Math.round(255*at[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(at,zs,Ws){this.textSpans=[],this.renderType="svg",this.initElement(at,zs,Ws)}function ISolidElement(at,zs,Ws){this.initElement(at,zs,Ws)}function NullElement(at,zs,Ws){this.initFrame(),this.initBaseData(at,zs,Ws),this.initFrame(),this.initTransform(at,zs,Ws),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(at,zs,Ws){this.layers=at.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(at,zs,Ws),this.tm=at.tm?PropertyFactory.getProp(this,at.tm,0,zs.frameRate,this):{_placeholder:!0}}function SVGRenderer(at,zs){this.animationItem=at,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var Ws="";if(zs&&zs.title){var qs=createNS("title"),Ys=createElementID();qs.setAttribute("id",Ys),qs.textContent=zs.title,this.svgElement.appendChild(qs),Ws+=Ys}if(zs&&zs.description){var Xs=createNS("desc"),Zs=createElementID();Xs.setAttribute("id",Zs),Xs.textContent=zs.description,this.svgElement.appendChild(Xs),Ws+=" "+Zs}Ws&&this.svgElement.setAttribute("aria-labelledby",Ws);var yl=createNS("defs");this.svgElement.appendChild(yl);var Js=createNS("g");this.svgElement.appendChild(Js),this.layerElement=Js,this.renderConfig={preserveAspectRatio:zs&&zs.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:zs&&zs.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:zs&&zs.contentVisibility||"visible",progressiveLoad:zs&&zs.progressiveLoad||!1,hideOnTransparent:!(zs&&zs.hideOnTransparent===!1),viewBoxOnly:zs&&zs.viewBoxOnly||!1,viewBoxSize:zs&&zs.viewBoxSize||!1,className:zs&&zs.className||"",id:zs&&zs.id||"",focusable:zs&&zs.focusable,filterSize:{width:zs&&zs.filterSize&&zs.filterSize.width||"100%",height:zs&&zs.filterSize&&zs.filterSize.height||"100%",x:zs&&zs.filterSize&&zs.filterSize.x||"0%",y:zs&&zs.filterSize&&zs.filterSize.y||"0%"},width:zs&&zs.width,height:zs&&zs.height,runExpressions:!zs||zs.runExpressions===void 0||zs.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:yl,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(at){for(var zs=0,Ws=at.length,qs=[],Ys="";zs<Ws;)at[zs]==="\r"||at[zs]===""?(qs.push(Ys),Ys=""):Ys+=at[zs],zs+=1;return qs.push(Ys),qs},SVGTextLottieElement.prototype.buildShapeData=function(at,zs){if(at.shapes&&at.shapes.length){var Ws=at.shapes[0];if(Ws.it){var qs=Ws.it[Ws.it.length-1];qs.s&&(qs.s.k[0]=zs,qs.s.k[1]=zs)}}return at},SVGTextLottieElement.prototype.buildNewText=function(){var at,zs;this.addDynamicProperty(this);var Ws=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ws?Ws.l.length:0),Ws.fc?this.layerElement.setAttribute("fill",this.buildColor(Ws.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Ws.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Ws.sc)),this.layerElement.setAttribute("stroke-width",Ws.sw)),this.layerElement.setAttribute("font-size",Ws.finalSize);var qs=this.globalData.fontManager.getFontByName(Ws.f);if(qs.fClass)this.layerElement.setAttribute("class",qs.fClass);else{this.layerElement.setAttribute("font-family",qs.fFamily);var Ys=Ws.fWeight,Xs=Ws.fStyle;this.layerElement.setAttribute("font-style",Xs),this.layerElement.setAttribute("font-weight",Ys)}this.layerElement.setAttribute("aria-label",Ws.t);var Zs,yl=Ws.l||[],Js=!!this.globalData.fontManager.chars;zs=yl.length;var $l=this.mHelper,El=this.data.singleShape,wl=0,_l=0,Sl=!0,Tl=.001*Ws.tr*Ws.finalSize;if(!El||Js||Ws.sz){var Il,Al=this.textSpans.length;for(at=0;at<zs;at+=1){if(this.textSpans[at]||(this.textSpans[at]={span:null,childSpan:null,glyph:null}),!Js||!El||at===0){if(Zs=Al>at?this.textSpans[at].span:createNS(Js?"g":"text"),Al<=at){if(Zs.setAttribute("stroke-linecap","butt"),Zs.setAttribute("stroke-linejoin","round"),Zs.setAttribute("stroke-miterlimit","4"),this.textSpans[at].span=Zs,Js){var xl=createNS("g");Zs.appendChild(xl),this.textSpans[at].childSpan=xl}this.textSpans[at].span=Zs,this.layerElement.appendChild(Zs)}Zs.style.display="inherit"}if($l.reset(),El&&(yl[at].n&&(wl=-Tl,_l+=Ws.yOffset,_l+=Sl?1:0,Sl=!1),this.applyTextPropertiesToMatrix(Ws,$l,yl[at].line,wl,_l),wl+=yl[at].l||0,wl+=Tl),Js){var Pl;if((Il=this.globalData.fontManager.getCharData(Ws.finalText[at],qs.fStyle,this.globalData.fontManager.getFontByName(Ws.f).fFamily)).t===1)Pl=new SVGCompElement(Il.data,this.globalData,this);else{var Cl=emptyShapeData;Il.data&&Il.data.shapes&&(Cl=this.buildShapeData(Il.data,Ws.finalSize)),Pl=new SVGShapeElement(Cl,this.globalData,this)}if(this.textSpans[at].glyph){var Rl=this.textSpans[at].glyph;this.textSpans[at].childSpan.removeChild(Rl.layerElement),Rl.destroy()}this.textSpans[at].glyph=Pl,Pl._debug=!0,Pl.prepareFrame(0),Pl.renderFrame(),this.textSpans[at].childSpan.appendChild(Pl.layerElement),Il.t===1&&this.textSpans[at].childSpan.setAttribute("transform","scale("+Ws.finalSize/100+","+Ws.finalSize/100+")")}else El&&Zs.setAttribute("transform","translate("+$l.props[12]+","+$l.props[13]+")"),Zs.textContent=yl[at].val,Zs.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}El&&Zs&&Zs.setAttribute("d","")}else{var Ol=this.textContainer,Ml="start";switch(Ws.j){case 1:Ml="end";break;case 2:Ml="middle";break;default:Ml="start"}Ol.setAttribute("text-anchor",Ml),Ol.setAttribute("letter-spacing",Tl);var Ll=this.buildTextContents(Ws.finalText);for(zs=Ll.length,_l=Ws.ps?Ws.ps[1]+Ws.ascent:0,at=0;at<zs;at+=1)(Zs=this.textSpans[at].span||createNS("tspan")).textContent=Ll[at],Zs.setAttribute("x",0),Zs.setAttribute("y",_l),Zs.style.display="inherit",Ol.appendChild(Zs),this.textSpans[at]||(this.textSpans[at]={span:null,glyph:null}),this.textSpans[at].span=Zs,_l+=Ws.finalLineHeight;this.layerElement.appendChild(Ol)}for(;at<this.textSpans.length;)this.textSpans[at].span.style.display="none",at+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var at=this.layerElement.getBBox();this.bbox={top:at.y,left:at.x,width:at.width,height:at.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var at,zs,Ws=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,at=0;at<Ws;at+=1)(zs=this.textSpans[at].glyph)&&(zs.prepareFrame(this.comp.renderedFrame-this.data.st),zs._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var at,zs;this._sizeChanged=!0;var Ws,qs,Ys,Xs=this.textAnimator.renderedLetters,Zs=this.textProperty.currentData.l;for(zs=Zs.length,at=0;at<zs;at+=1)Zs[at].n||(Ws=Xs[at],qs=this.textSpans[at].span,(Ys=this.textSpans[at].glyph)&&Ys.renderFrame(),Ws._mdf.m&&qs.setAttribute("transform",Ws.m),Ws._mdf.o&&qs.setAttribute("opacity",Ws.o),Ws._mdf.sw&&qs.setAttribute("stroke-width",Ws.sw),Ws._mdf.sc&&qs.setAttribute("stroke",Ws.sc),Ws._mdf.fc&&qs.setAttribute("fill",Ws.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var at=createNS("rect");at.setAttribute("width",this.data.sw),at.setAttribute("height",this.data.sh),at.setAttribute("fill",this.data.sc),this.layerElement.appendChild(at)},NullElement.prototype.prepareFrame=function(at){this.prepareProperties(at,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(at){return new NullElement(at,this.globalData,this)},SVGRendererBase.prototype.createShape=function(at){return new SVGShapeElement(at,this.globalData,this)},SVGRendererBase.prototype.createText=function(at){return new SVGTextLottieElement(at,this.globalData,this)},SVGRendererBase.prototype.createImage=function(at){return new IImageElement(at,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(at){return new ISolidElement(at,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(at){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+at.w+" "+at.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",at.w),this.svgElement.setAttribute("height",at.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var zs=this.globalData.defs;this.setupGlobalData(at,zs),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=at;var Ws=createNS("clipPath"),qs=createNS("rect");qs.setAttribute("width",at.w),qs.setAttribute("height",at.h),qs.setAttribute("x",0),qs.setAttribute("y",0);var Ys=createElementID();Ws.setAttribute("id",Ys),Ws.appendChild(qs),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Ys+")"),zs.appendChild(Ws),this.layers=at.layers,this.elements=createSizedArray(at.layers.length)},SVGRendererBase.prototype.destroy=function(){var at;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var zs=this.layers?this.layers.length:0;for(at=0;at<zs;at+=1)this.elements[at]&&this.elements[at].destroy&&this.elements[at].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(at){var zs=0,Ws=this.layers.length;for(zs=0;zs<Ws;zs+=1)if(this.layers[zs].ind===at)return zs;return-1},SVGRendererBase.prototype.buildItem=function(at){var zs=this.elements;if(!zs[at]&&this.layers[at].ty!==99){zs[at]=!0;var Ws=this.createItem(this.layers[at]);if(zs[at]=Ws,getExpressionsPlugin()&&(this.layers[at].ty===0&&this.globalData.projectInterface.registerComposition(Ws),Ws.initExpressions()),this.appendElementInPos(Ws,at),this.layers[at].tt){var qs="tp"in this.layers[at]?this.findIndexByInd(this.layers[at].tp):at-1;if(qs===-1)return;if(this.elements[qs]&&this.elements[qs]!==!0){var Ys=zs[qs].getMatte(this.layers[at].tt);Ws.setMatte(Ys)}else this.buildItem(qs),this.addPendingElement(Ws)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var at=this.pendingElements.pop();if(at.checkParenting(),at.data.tt)for(var zs=0,Ws=this.elements.length;zs<Ws;){if(this.elements[zs]===at){var qs="tp"in at.data?this.findIndexByInd(at.data.tp):zs-1,Ys=this.elements[qs].getMatte(this.layers[zs].tt);at.setMatte(Ys);break}zs+=1}}},SVGRendererBase.prototype.renderFrame=function(at){if(this.renderedFrame!==at&&!this.destroyed){var zs;at===null?at=this.renderedFrame:this.renderedFrame=at,this.globalData.frameNum=at,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=at,this.globalData._mdf=!1;var Ws=this.layers.length;for(this.completeLayers||this.checkLayers(at),zs=Ws-1;zs>=0;zs-=1)(this.completeLayers||this.elements[zs])&&this.elements[zs].prepareFrame(at-this.layers[zs].st);if(this.globalData._mdf)for(zs=0;zs<Ws;zs+=1)(this.completeLayers||this.elements[zs])&&this.elements[zs].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(at,zs){var Ws=at.getBaseElement();if(Ws){for(var qs,Ys=0;Ys<zs;)this.elements[Ys]&&this.elements[Ys]!==!0&&this.elements[Ys].getBaseElement()&&(qs=this.elements[Ys].getBaseElement()),Ys+=1;qs?this.layerElement.insertBefore(Ws,qs):this.layerElement.appendChild(Ws)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(at,zs,Ws){this.initFrame(),this.initBaseData(at,zs,Ws),this.initTransform(at,zs,Ws),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&zs.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(at){if(this._mdf=!1,this.prepareRenderableFrame(at),this.prepareProperties(at,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=at/this.data.sr;else{var zs=this.tm.v;zs===this.data.op&&(zs=this.data.op-1),this.renderedFrame=zs}var Ws,qs=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Ws=qs-1;Ws>=0;Ws-=1)(this.completeLayers||this.elements[Ws])&&(this.elements[Ws].prepareFrame(this.renderedFrame-this.layers[Ws].st),this.elements[Ws]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var at,zs=this.layers.length;for(at=0;at<zs;at+=1)(this.completeLayers||this.elements[at])&&this.elements[at].renderFrame()},ICompElement.prototype.setElements=function(at){this.elements=at},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var at,zs=this.layers.length;for(at=0;at<zs;at+=1)this.elements[at]&&this.elements[at].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(at){return new SVGCompElement(at,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(at){return new SVGCompElement(at,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(at){var zs,Ws=at.length,qs="_";for(zs=0;zs<Ws;zs+=1)qs+=at[zs].transform.key+"_";var Ys=this.sequences[qs];return Ys||(Ys={transforms:[].concat(at),finalTransform:new Matrix,_mdf:!1},this.sequences[qs]=Ys,this.sequenceList.push(Ys)),Ys},processSequence:function(at,zs){for(var Ws=0,qs=at.transforms.length,Ys=zs;Ws<qs&&!zs;){if(at.transforms[Ws].transform.mProps._mdf){Ys=!0;break}Ws+=1}if(Ys)for(at.finalTransform.reset(),Ws=qs-1;Ws>=0;Ws-=1)at.finalTransform.multiply(at.transforms[Ws].transform.mProps.v);at._mdf=Ys},processSequences:function(at){var zs,Ws=this.sequenceList.length;for(zs=0;zs<Ws;zs+=1)this.processSequence(this.sequenceList[zs],at)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var at="__lottie_element_luma_buffer",zs=null,Ws=null,qs=null;function Ys(){var Xs,Zs,yl;zs||(Xs=createNS("svg"),Zs=createNS("filter"),yl=createNS("feColorMatrix"),Zs.setAttribute("id",at),yl.setAttribute("type","matrix"),yl.setAttribute("color-interpolation-filters","sRGB"),yl.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Zs.appendChild(yl),Xs.appendChild(Zs),Xs.setAttribute("id",at+"_svg"),featureSupport.svgLumaHidden&&(Xs.style.display="none"),qs=Xs,document.body.appendChild(qs),zs=createTag("canvas"),(Ws=zs.getContext("2d")).filter="url(#"+at+")",Ws.fillStyle="rgba(0,0,0,0)",Ws.fillRect(0,0,1,1))}return{load:Ys,get:function(Xs){return zs||Ys(),zs.width=Xs.width,zs.height=Xs.height,Ws.filter="url(#"+at+")",zs}}};function createCanvas(at,zs){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(at,zs);var Ws=createTag("canvas");return Ws.width=at,Ws.height=zs,Ws}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(at){var zs,Ws,qs=at.data.ef?at.data.ef.length:0;for(this.filters=[],zs=0;zs<qs;zs+=1){Ws=null;var Ys=at.data.ef[zs].ty;registeredEffects[Ys]&&(Ws=new registeredEffects[Ys].effect(at.effectsManager.effectElements[zs],at)),Ws&&this.filters.push(Ws)}this.filters.length&&at.addRenderableComponent(this)}function registerEffect(at,zs){registeredEffects[at]={effect:zs}}function CVMaskElement(at,zs){var Ws;this.data=at,this.element=zs,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var qs=this.masksProperties.length,Ys=!1;for(Ws=0;Ws<qs;Ws+=1)this.masksProperties[Ws].mode!=="n"&&(Ys=!0),this.viewData[Ws]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[Ws],3);this.hasMasks=Ys,Ys&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(at){var zs,Ws=this.filters.length;for(zs=0;zs<Ws;zs+=1)this.filters[zs].renderFrame(at)},CVEffects.prototype.getEffects=function(at){var zs,Ws=this.filters.length,qs=[];for(zs=0;zs<Ws;zs+=1)this.filters[zs].type===at&&qs.push(this.filters[zs]);return qs},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var at,zs,Ws,qs,Ys=this.element.finalTransform.mat,Xs=this.element.canvasContext,Zs=this.masksProperties.length;for(Xs.beginPath(),at=0;at<Zs;at+=1)if(this.masksProperties[at].mode!=="n"){var yl;this.masksProperties[at].inv&&(Xs.moveTo(0,0),Xs.lineTo(this.element.globalData.compSize.w,0),Xs.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),Xs.lineTo(0,this.element.globalData.compSize.h),Xs.lineTo(0,0)),qs=this.viewData[at].v,zs=Ys.applyToPointArray(qs.v[0][0],qs.v[0][1],0),Xs.moveTo(zs[0],zs[1]);var Js=qs._length;for(yl=1;yl<Js;yl+=1)Ws=Ys.applyToTriplePoints(qs.o[yl-1],qs.i[yl],qs.v[yl]),Xs.bezierCurveTo(Ws[0],Ws[1],Ws[2],Ws[3],Ws[4],Ws[5]);Ws=Ys.applyToTriplePoints(qs.o[yl-1],qs.i[0],qs.v[0]),Xs.bezierCurveTo(Ws[0],Ws[1],Ws[2],Ws[3],Ws[4],Ws[5])}this.element.globalData.renderer.save(!0),Xs.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(at,zs,Ws,qs){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Ys,Xs=4;zs.ty==="rc"?Xs=5:zs.ty==="el"?Xs=6:zs.ty==="sr"&&(Xs=7),this.sh=ShapePropertyFactory.getShapeProp(at,zs,Xs,at);var Zs,yl=Ws.length;for(Ys=0;Ys<yl;Ys+=1)Ws[Ys].closed||(Zs={transforms:qs.addTransformSequence(Ws[Ys].transforms),trNodes:[]},this.styledShapes.push(Zs),Ws[Ys].elements.push(Zs))}function CVShapeElement(at,zs,Ws){this.shapes=[],this.shapesData=at.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(at,zs,Ws)}function CVTextElement(at,zs,Ws){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(at,zs,Ws)}function CVImageElement(at,zs,Ws){this.assetData=zs.getAssetData(at.refId),this.img=zs.imageLoader.getAsset(this.assetData),this.initElement(at,zs,Ws)}function CVSolidElement(at,zs,Ws){this.initElement(at,zs,Ws)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var at;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,at=0;at<15;at+=1){var zs=new CanvasContext;this.stack[at]=zs}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(at,zs,Ws){this.completeLayers=!1,this.layers=at.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(at,zs,Ws),this.tm=at.tm?PropertyFactory.getProp(this,at.tm,0,zs.frameRate,this):{_placeholder:!0}}function CanvasRenderer(at,zs){this.animationItem=at,this.renderConfig={clearCanvas:!zs||zs.clearCanvas===void 0||zs.clearCanvas,context:zs&&zs.context||null,progressiveLoad:zs&&zs.progressiveLoad||!1,preserveAspectRatio:zs&&zs.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:zs&&zs.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:zs&&zs.contentVisibility||"visible",className:zs&&zs.className||"",id:zs&&zs.id||"",runExpressions:!zs||zs.runExpressions===void 0||zs.runExpressions},this.renderConfig.dpr=zs&&zs.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=zs&&zs.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(at,zs,Ws){this.initElement(at,zs,Ws)}function HShapeElement(at,zs,Ws){this.shapes=[],this.shapesData=at.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(at,zs,Ws),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(at,zs,Ws){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(at,zs,Ws)}function HCameraElement(at,zs,Ws){this.initFrame(),this.initBaseData(at,zs,Ws),this.initHierarchy();var qs=PropertyFactory.getProp;if(this.pe=qs(this,at.pe,0,0,this),at.ks.p.s?(this.px=qs(this,at.ks.p.x,1,0,this),this.py=qs(this,at.ks.p.y,1,0,this),this.pz=qs(this,at.ks.p.z,1,0,this)):this.p=qs(this,at.ks.p,1,0,this),at.ks.a&&(this.a=qs(this,at.ks.a,1,0,this)),at.ks.or.k.length&&at.ks.or.k[0].to){var Ys,Xs=at.ks.or.k.length;for(Ys=0;Ys<Xs;Ys+=1)at.ks.or.k[Ys].to=null,at.ks.or.k[Ys].ti=null}this.or=qs(this,at.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=qs(this,at.ks.rx,0,degToRads,this),this.ry=qs(this,at.ks.ry,0,degToRads,this),this.rz=qs(this,at.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(at,zs,Ws){this.assetData=zs.getAssetData(at.refId),this.initElement(at,zs,Ws)}function HybridRendererBase(at,zs){this.animationItem=at,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:zs&&zs.className||"",imagePreserveAspectRatio:zs&&zs.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(zs&&zs.hideOnTransparent===!1),filterSize:{width:zs&&zs.filterSize&&zs.filterSize.width||"400%",height:zs&&zs.filterSize&&zs.filterSize.height||"400%",x:zs&&zs.filterSize&&zs.filterSize.x||"-100%",y:zs&&zs.filterSize&&zs.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(at,zs,Ws){this.layers=at.layers,this.supports3d=!at.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(at,zs,Ws),this.tm=at.tm?PropertyFactory.getProp(this,at.tm,0,zs.frameRate,this):{_placeholder:!0}}function HybridRenderer(at,zs){this.animationItem=at,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:zs&&zs.className||"",imagePreserveAspectRatio:zs&&zs.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(zs&&zs.hideOnTransparent===!1),filterSize:{width:zs&&zs.filterSize&&zs.filterSize.width||"400%",height:zs&&zs.filterSize&&zs.filterSize.height||"400%",x:zs&&zs.filterSize&&zs.filterSize.x||"-100%",y:zs&&zs.filterSize&&zs.filterSize.y||"-100%"},runExpressions:!zs||zs.runExpressions===void 0||zs.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var at=this.globalData.canvasContext,zs=assetLoader.createCanvas(at.canvas.width,at.canvas.height);this.buffers.push(zs);var Ws=assetLoader.createCanvas(at.canvas.width,at.canvas.height);this.buffers.push(Ws),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var at=this.globalData;if(at.blendMode!==this.data.bm){at.blendMode=this.data.bm;var zs=getBlendMode(this.data.bm);at.canvasContext.globalCompositeOperation=zs}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(at){at.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var at=this.buffers[0].getContext("2d");this.clearCanvas(at),at.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var at=this.buffers[1],zs=at.getContext("2d");if(this.clearCanvas(zs),zs.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Ws=assetLoader.getLumaCanvas(this.canvasContext.canvas);Ws.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Ws,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(at,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(at){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||at)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var zs=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(zs),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(zs),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(at,zs){var Ws={data:at,type:at.ty,preTransforms:this.transformsManager.addTransformSequence(zs),transforms:[],elements:[],closed:at.hd===!0},qs={};if(at.ty==="fl"||at.ty==="st"?(qs.c=PropertyFactory.getProp(this,at.c,1,255,this),qs.c.k||(Ws.co="rgb("+bmFloor(qs.c.v[0])+","+bmFloor(qs.c.v[1])+","+bmFloor(qs.c.v[2])+")")):at.ty!=="gf"&&at.ty!=="gs"||(qs.s=PropertyFactory.getProp(this,at.s,1,null,this),qs.e=PropertyFactory.getProp(this,at.e,1,null,this),qs.h=PropertyFactory.getProp(this,at.h||{k:0},0,.01,this),qs.a=PropertyFactory.getProp(this,at.a||{k:0},0,degToRads,this),qs.g=new GradientProperty(this,at.g,this)),qs.o=PropertyFactory.getProp(this,at.o,0,.01,this),at.ty==="st"||at.ty==="gs"){if(Ws.lc=lineCapEnum[at.lc||2],Ws.lj=lineJoinEnum[at.lj||2],at.lj==1&&(Ws.ml=at.ml),qs.w=PropertyFactory.getProp(this,at.w,0,null,this),qs.w.k||(Ws.wi=qs.w.v),at.d){var Ys=new DashProperty(this,at.d,"canvas",this);qs.d=Ys,qs.d.k||(Ws.da=qs.d.dashArray,Ws.do=qs.d.dashoffset[0])}}else Ws.r=at.r===2?"evenodd":"nonzero";return this.stylesList.push(Ws),qs.style=Ws,qs},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(at){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,at.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,at,this)}}},CVShapeElement.prototype.createShapeElement=function(at){var zs=new CVShapeData(this,at,this.stylesList,this.transformsManager);return this.shapes.push(zs),this.addShapeToModifiers(zs),zs},CVShapeElement.prototype.reloadShapes=function(){var at;this._isFirstFrame=!0;var zs=this.itemsData.length;for(at=0;at<zs;at+=1)this.prevViewData[at]=this.itemsData[at];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),zs=this.dynamicProperties.length,at=0;at<zs;at+=1)this.dynamicProperties[at].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(at){var zs,Ws=this.stylesList.length;for(zs=0;zs<Ws;zs+=1)this.stylesList[zs].closed||this.stylesList[zs].transforms.push(at)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var at,zs=this.stylesList.length;for(at=0;at<zs;at+=1)this.stylesList[at].closed||this.stylesList[at].transforms.pop()},CVShapeElement.prototype.closeStyles=function(at){var zs,Ws=at.length;for(zs=0;zs<Ws;zs+=1)at[zs].closed=!0},CVShapeElement.prototype.searchShapes=function(at,zs,Ws,qs,Ys){var Xs,Zs,yl,Js,$l,El,wl=at.length-1,_l=[],Sl=[],Tl=[].concat(Ys);for(Xs=wl;Xs>=0;Xs-=1){if((Js=this.searchProcessedElement(at[Xs]))?zs[Xs]=Ws[Js-1]:at[Xs]._shouldRender=qs,at[Xs].ty==="fl"||at[Xs].ty==="st"||at[Xs].ty==="gf"||at[Xs].ty==="gs")Js?zs[Xs].style.closed=!1:zs[Xs]=this.createStyleElement(at[Xs],Tl),_l.push(zs[Xs].style);else if(at[Xs].ty==="gr"){if(Js)for(yl=zs[Xs].it.length,Zs=0;Zs<yl;Zs+=1)zs[Xs].prevViewData[Zs]=zs[Xs].it[Zs];else zs[Xs]=this.createGroupElement(at[Xs]);this.searchShapes(at[Xs].it,zs[Xs].it,zs[Xs].prevViewData,qs,Tl)}else at[Xs].ty==="tr"?(Js||(El=this.createTransformElement(at[Xs]),zs[Xs]=El),Tl.push(zs[Xs]),this.addTransformToStyleList(zs[Xs])):at[Xs].ty==="sh"||at[Xs].ty==="rc"||at[Xs].ty==="el"||at[Xs].ty==="sr"?Js||(zs[Xs]=this.createShapeElement(at[Xs])):at[Xs].ty==="tm"||at[Xs].ty==="rd"||at[Xs].ty==="pb"||at[Xs].ty==="zz"||at[Xs].ty==="op"?(Js?($l=zs[Xs]).closed=!1:(($l=ShapeModifiers.getModifier(at[Xs].ty)).init(this,at[Xs]),zs[Xs]=$l,this.shapeModifiers.push($l)),Sl.push($l)):at[Xs].ty==="rp"&&(Js?($l=zs[Xs]).closed=!0:($l=ShapeModifiers.getModifier(at[Xs].ty),zs[Xs]=$l,$l.init(this,at,Xs,zs),this.shapeModifiers.push($l),qs=!1),Sl.push($l));this.addProcessedElement(at[Xs],Xs+1)}for(this.removeTransformFromStyleList(),this.closeStyles(_l),wl=Sl.length,Xs=0;Xs<wl;Xs+=1)Sl[Xs].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(at,zs){(at._opMdf||zs.op._mdf||this._isFirstFrame)&&(zs.opacity=at.opacity,zs.opacity*=zs.op.v,zs._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var at,zs,Ws,qs,Ys,Xs,Zs,yl,Js,$l=this.stylesList.length,El=this.globalData.renderer,wl=this.globalData.canvasContext;for(at=0;at<$l;at+=1)if(((yl=(Js=this.stylesList[at]).type)!=="st"&&yl!=="gs"||Js.wi!==0)&&Js.data._shouldRender&&Js.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(El.save(),Xs=Js.elements,yl==="st"||yl==="gs"?(El.ctxStrokeStyle(yl==="st"?Js.co:Js.grd),El.ctxLineWidth(Js.wi),El.ctxLineCap(Js.lc),El.ctxLineJoin(Js.lj),El.ctxMiterLimit(Js.ml||0)):El.ctxFillStyle(yl==="fl"?Js.co:Js.grd),El.ctxOpacity(Js.coOp),yl!=="st"&&yl!=="gs"&&wl.beginPath(),El.ctxTransform(Js.preTransforms.finalTransform.props),Ws=Xs.length,zs=0;zs<Ws;zs+=1){for(yl!=="st"&&yl!=="gs"||(wl.beginPath(),Js.da&&(wl.setLineDash(Js.da),wl.lineDashOffset=Js.do)),Ys=(Zs=Xs[zs].trNodes).length,qs=0;qs<Ys;qs+=1)Zs[qs].t==="m"?wl.moveTo(Zs[qs].p[0],Zs[qs].p[1]):Zs[qs].t==="c"?wl.bezierCurveTo(Zs[qs].pts[0],Zs[qs].pts[1],Zs[qs].pts[2],Zs[qs].pts[3],Zs[qs].pts[4],Zs[qs].pts[5]):wl.closePath();yl!=="st"&&yl!=="gs"||(El.ctxStroke(),Js.da&&wl.setLineDash(this.dashResetter))}yl!=="st"&&yl!=="gs"&&this.globalData.renderer.ctxFill(Js.r),El.restore()}},CVShapeElement.prototype.renderShape=function(at,zs,Ws,qs){var Ys,Xs;for(Xs=at,Ys=zs.length-1;Ys>=0;Ys-=1)zs[Ys].ty==="tr"?(Xs=Ws[Ys].transform,this.renderShapeTransform(at,Xs)):zs[Ys].ty==="sh"||zs[Ys].ty==="el"||zs[Ys].ty==="rc"||zs[Ys].ty==="sr"?this.renderPath(zs[Ys],Ws[Ys]):zs[Ys].ty==="fl"?this.renderFill(zs[Ys],Ws[Ys],Xs):zs[Ys].ty==="st"?this.renderStroke(zs[Ys],Ws[Ys],Xs):zs[Ys].ty==="gf"||zs[Ys].ty==="gs"?this.renderGradientFill(zs[Ys],Ws[Ys],Xs):zs[Ys].ty==="gr"?this.renderShape(Xs,zs[Ys].it,Ws[Ys].it):zs[Ys].ty;qs&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(at,zs){if(this._isFirstFrame||zs._mdf||at.transforms._mdf){var Ws,qs,Ys,Xs=at.trNodes,Zs=zs.paths,yl=Zs._length;Xs.length=0;var Js=at.transforms.finalTransform;for(Ys=0;Ys<yl;Ys+=1){var $l=Zs.shapes[Ys];if($l&&$l.v){for(qs=$l._length,Ws=1;Ws<qs;Ws+=1)Ws===1&&Xs.push({t:"m",p:Js.applyToPointArray($l.v[0][0],$l.v[0][1],0)}),Xs.push({t:"c",pts:Js.applyToTriplePoints($l.o[Ws-1],$l.i[Ws],$l.v[Ws])});qs===1&&Xs.push({t:"m",p:Js.applyToPointArray($l.v[0][0],$l.v[0][1],0)}),$l.c&&qs&&(Xs.push({t:"c",pts:Js.applyToTriplePoints($l.o[Ws-1],$l.i[0],$l.v[0])}),Xs.push({t:"z"}))}}at.trNodes=Xs}},CVShapeElement.prototype.renderPath=function(at,zs){if(at.hd!==!0&&at._shouldRender){var Ws,qs=zs.styledShapes.length;for(Ws=0;Ws<qs;Ws+=1)this.renderStyledShape(zs.styledShapes[Ws],zs.sh)}},CVShapeElement.prototype.renderFill=function(at,zs,Ws){var qs=zs.style;(zs.c._mdf||this._isFirstFrame)&&(qs.co="rgb("+bmFloor(zs.c.v[0])+","+bmFloor(zs.c.v[1])+","+bmFloor(zs.c.v[2])+")"),(zs.o._mdf||Ws._opMdf||this._isFirstFrame)&&(qs.coOp=zs.o.v*Ws.opacity)},CVShapeElement.prototype.renderGradientFill=function(at,zs,Ws){var qs,Ys=zs.style;if(!Ys.grd||zs.g._mdf||zs.s._mdf||zs.e._mdf||at.t!==1&&(zs.h._mdf||zs.a._mdf)){var Xs,Zs=this.globalData.canvasContext,yl=zs.s.v,Js=zs.e.v;if(at.t===1)qs=Zs.createLinearGradient(yl[0],yl[1],Js[0],Js[1]);else{var $l=Math.sqrt(Math.pow(yl[0]-Js[0],2)+Math.pow(yl[1]-Js[1],2)),El=Math.atan2(Js[1]-yl[1],Js[0]-yl[0]),wl=zs.h.v;wl>=1?wl=.99:wl<=-1&&(wl=-.99);var _l=$l*wl,Sl=Math.cos(El+zs.a.v)*_l+yl[0],Tl=Math.sin(El+zs.a.v)*_l+yl[1];qs=Zs.createRadialGradient(Sl,Tl,0,yl[0],yl[1],$l)}var Il=at.g.p,Al=zs.g.c,xl=1;for(Xs=0;Xs<Il;Xs+=1)zs.g._hasOpacity&&zs.g._collapsable&&(xl=zs.g.o[2*Xs+1]),qs.addColorStop(Al[4*Xs]/100,"rgba("+Al[4*Xs+1]+","+Al[4*Xs+2]+","+Al[4*Xs+3]+","+xl+")");Ys.grd=qs}Ys.coOp=zs.o.v*Ws.opacity},CVShapeElement.prototype.renderStroke=function(at,zs,Ws){var qs=zs.style,Ys=zs.d;Ys&&(Ys._mdf||this._isFirstFrame)&&(qs.da=Ys.dashArray,qs.do=Ys.dashoffset[0]),(zs.c._mdf||this._isFirstFrame)&&(qs.co="rgb("+bmFloor(zs.c.v[0])+","+bmFloor(zs.c.v[1])+","+bmFloor(zs.c.v[2])+")"),(zs.o._mdf||Ws._opMdf||this._isFirstFrame)&&(qs.coOp=zs.o.v*Ws.opacity),(zs.w._mdf||this._isFirstFrame)&&(qs.wi=zs.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var at=this.textProperty.currentData;this.renderedLetters=createSizedArray(at.l?at.l.length:0);var zs=!1;at.fc?(zs=!0,this.values.fill=this.buildColor(at.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=zs;var Ws=!1;at.sc&&(Ws=!0,this.values.stroke=this.buildColor(at.sc),this.values.sWidth=at.sw);var qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il=this.globalData.fontManager.getFontByName(at.f),Al=at.l,xl=this.mHelper;this.stroke=Ws,this.values.fValue=at.finalSize+"px "+this.globalData.fontManager.getFontByName(at.f).fFamily,Ys=at.finalText.length;var Pl=this.data.singleShape,Cl=.001*at.tr*at.finalSize,Rl=0,Ol=0,Ml=!0,Ll=0;for(qs=0;qs<Ys;qs+=1){Zs=(Xs=this.globalData.fontManager.getCharData(at.finalText[qs],Il.fStyle,this.globalData.fontManager.getFontByName(at.f).fFamily))&&Xs.data||{},xl.reset(),Pl&&Al[qs].n&&(Rl=-Cl,Ol+=at.yOffset,Ol+=Ml?1:0,Ml=!1),wl=($l=Zs.shapes?Zs.shapes[0].it:[]).length,xl.scale(at.finalSize/100,at.finalSize/100),Pl&&this.applyTextPropertiesToMatrix(at,xl,Al[qs].line,Rl,Ol),Sl=createSizedArray(wl-1);var Bl=0;for(El=0;El<wl;El+=1)if($l[El].ty==="sh"){for(Js=$l[El].ks.k.i.length,_l=$l[El].ks.k,Tl=[],yl=1;yl<Js;yl+=1)yl===1&&Tl.push(xl.applyToX(_l.v[0][0],_l.v[0][1],0),xl.applyToY(_l.v[0][0],_l.v[0][1],0)),Tl.push(xl.applyToX(_l.o[yl-1][0],_l.o[yl-1][1],0),xl.applyToY(_l.o[yl-1][0],_l.o[yl-1][1],0),xl.applyToX(_l.i[yl][0],_l.i[yl][1],0),xl.applyToY(_l.i[yl][0],_l.i[yl][1],0),xl.applyToX(_l.v[yl][0],_l.v[yl][1],0),xl.applyToY(_l.v[yl][0],_l.v[yl][1],0));Tl.push(xl.applyToX(_l.o[yl-1][0],_l.o[yl-1][1],0),xl.applyToY(_l.o[yl-1][0],_l.o[yl-1][1],0),xl.applyToX(_l.i[0][0],_l.i[0][1],0),xl.applyToY(_l.i[0][0],_l.i[0][1],0),xl.applyToX(_l.v[0][0],_l.v[0][1],0),xl.applyToY(_l.v[0][0],_l.v[0][1],0)),Sl[Bl]=Tl,Bl+=1}Pl&&(Rl+=Al[qs].l,Rl+=Cl),this.textSpans[Ll]?this.textSpans[Ll].elem=Sl:this.textSpans[Ll]={elem:Sl},Ll+=1}},CVTextElement.prototype.renderInnerContent=function(){var at,zs,Ws,qs,Ys,Xs;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var Zs,yl=this.textAnimator.renderedLetters,Js=this.textProperty.currentData.l;zs=Js.length;var $l,El,wl=null,_l=null,Sl=null,Tl=this.globalData.renderer;for(at=0;at<zs;at+=1)if(!Js[at].n){if((Zs=yl[at])&&(Tl.save(),Tl.ctxTransform(Zs.p),Tl.ctxOpacity(Zs.o)),this.fill){for(Zs&&Zs.fc?wl!==Zs.fc&&(Tl.ctxFillStyle(Zs.fc),wl=Zs.fc):wl!==this.values.fill&&(wl=this.values.fill,Tl.ctxFillStyle(this.values.fill)),qs=($l=this.textSpans[at].elem).length,this.globalData.canvasContext.beginPath(),Ws=0;Ws<qs;Ws+=1)for(Xs=(El=$l[Ws]).length,this.globalData.canvasContext.moveTo(El[0],El[1]),Ys=2;Ys<Xs;Ys+=6)this.globalData.canvasContext.bezierCurveTo(El[Ys],El[Ys+1],El[Ys+2],El[Ys+3],El[Ys+4],El[Ys+5]);this.globalData.canvasContext.closePath(),Tl.ctxFill()}if(this.stroke){for(Zs&&Zs.sw?Sl!==Zs.sw&&(Sl=Zs.sw,Tl.ctxLineWidth(Zs.sw)):Sl!==this.values.sWidth&&(Sl=this.values.sWidth,Tl.ctxLineWidth(this.values.sWidth)),Zs&&Zs.sc?_l!==Zs.sc&&(_l=Zs.sc,Tl.ctxStrokeStyle(Zs.sc)):_l!==this.values.stroke&&(_l=this.values.stroke,Tl.ctxStrokeStyle(this.values.stroke)),qs=($l=this.textSpans[at].elem).length,this.globalData.canvasContext.beginPath(),Ws=0;Ws<qs;Ws+=1)for(Xs=(El=$l[Ws]).length,this.globalData.canvasContext.moveTo(El[0],El[1]),Ys=2;Ys<Xs;Ys+=6)this.globalData.canvasContext.bezierCurveTo(El[Ys],El[Ys+1],El[Ys+2],El[Ys+3],El[Ys+4],El[Ys+5]);this.globalData.canvasContext.closePath(),Tl.ctxStroke()}Zs&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var at=createTag("canvas");at.width=this.assetData.w,at.height=this.assetData.h;var zs,Ws,qs=at.getContext("2d"),Ys=this.img.width,Xs=this.img.height,Zs=Ys/Xs,yl=this.assetData.w/this.assetData.h,Js=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Zs>yl&&Js==="xMidYMid slice"||Zs<yl&&Js!=="xMidYMid slice"?zs=(Ws=Xs)*yl:Ws=(zs=Ys)/yl,qs.drawImage(this.img,(Ys-zs)/2,(Xs-Ws)/2,zs,Ws,0,0,this.assetData.w,this.assetData.h),this.img=at}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(at){return new CVShapeElement(at,this.globalData,this)},CanvasRendererBase.prototype.createText=function(at){return new CVTextElement(at,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(at){return new CVImageElement(at,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(at){return new CVSolidElement(at,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(at){at[0]===1&&at[1]===0&&at[4]===0&&at[5]===1&&at[12]===0&&at[13]===0||this.canvasContext.transform(at[0],at[1],at[4],at[5],at[12],at[13])},CanvasRendererBase.prototype.ctxOpacity=function(at){this.canvasContext.globalAlpha*=at<0?0:at},CanvasRendererBase.prototype.ctxFillStyle=function(at){this.canvasContext.fillStyle=at},CanvasRendererBase.prototype.ctxStrokeStyle=function(at){this.canvasContext.strokeStyle=at},CanvasRendererBase.prototype.ctxLineWidth=function(at){this.canvasContext.lineWidth=at},CanvasRendererBase.prototype.ctxLineCap=function(at){this.canvasContext.lineCap=at},CanvasRendererBase.prototype.ctxLineJoin=function(at){this.canvasContext.lineJoin=at},CanvasRendererBase.prototype.ctxMiterLimit=function(at){this.canvasContext.miterLimit=at},CanvasRendererBase.prototype.ctxFill=function(at){this.canvasContext.fill(at)},CanvasRendererBase.prototype.ctxFillRect=function(at,zs,Ws,qs){this.canvasContext.fillRect(at,zs,Ws,qs)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(at){this.renderConfig.clearCanvas?(at&&(this.globalData.blendMode="source-over"),this.contextData.restore(at)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(at){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var zs=this.animationItem.container.style;zs.width="100%",zs.height="100%";var Ws="0px 0px 0px";zs.transformOrigin=Ws,zs.mozTransformOrigin=Ws,zs.webkitTransformOrigin=Ws,zs["-webkit-transform"]=Ws,zs.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=at,this.layers=at.layers,this.transformCanvas={w:at.w,h:at.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(at,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(at.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(at,zs){var Ws,qs,Ys,Xs;if(this.reset(),at?(Ws=at,qs=zs,this.canvasContext.canvas.width=Ws,this.canvasContext.canvas.height=qs):(this.animationItem.wrapper&&this.animationItem.container?(Ws=this.animationItem.wrapper.offsetWidth,qs=this.animationItem.wrapper.offsetHeight):(Ws=this.canvasContext.canvas.width,qs=this.canvasContext.canvas.height),this.canvasContext.canvas.width=Ws*this.renderConfig.dpr,this.canvasContext.canvas.height=qs*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Zs=this.renderConfig.preserveAspectRatio.split(" "),yl=Zs[1]||"meet",Js=Zs[0]||"xMidYMid",$l=Js.substr(0,4),El=Js.substr(4);Ys=Ws/qs,(Xs=this.transformCanvas.w/this.transformCanvas.h)>Ys&&yl==="meet"||Xs<Ys&&yl==="slice"?(this.transformCanvas.sx=Ws/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ws/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=qs/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=qs/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=$l==="xMid"&&(Xs<Ys&&yl==="meet"||Xs>Ys&&yl==="slice")?(Ws-this.transformCanvas.w*(qs/this.transformCanvas.h))/2*this.renderConfig.dpr:$l==="xMax"&&(Xs<Ys&&yl==="meet"||Xs>Ys&&yl==="slice")?(Ws-this.transformCanvas.w*(qs/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=El==="YMid"&&(Xs>Ys&&yl==="meet"||Xs<Ys&&yl==="slice")?(qs-this.transformCanvas.h*(Ws/this.transformCanvas.w))/2*this.renderConfig.dpr:El==="YMax"&&(Xs>Ys&&yl==="meet"||Xs<Ys&&yl==="slice")?(qs-this.transformCanvas.h*(Ws/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=Ws/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=qs/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var at;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),at=(this.layers?this.layers.length:0)-1;at>=0;at-=1)this.elements[at]&&this.elements[at].destroy&&this.elements[at].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(at,zs){if((this.renderedFrame!==at||this.renderConfig.clearCanvas!==!0||zs)&&!this.destroyed&&at!==-1){var Ws;this.renderedFrame=at,this.globalData.frameNum=at-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||zs,this.globalData.projectInterface.currentFrame=at;var qs=this.layers.length;for(this.completeLayers||this.checkLayers(at),Ws=qs-1;Ws>=0;Ws-=1)(this.completeLayers||this.elements[Ws])&&this.elements[Ws].prepareFrame(at-this.layers[Ws].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),Ws=qs-1;Ws>=0;Ws-=1)(this.completeLayers||this.elements[Ws])&&this.elements[Ws].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(at){var zs=this.elements;if(!zs[at]&&this.layers[at].ty!==99){var Ws=this.createItem(this.layers[at],this,this.globalData);zs[at]=Ws,Ws.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var at=2*this._length,zs=0;for(zs=this._length;zs<at;zs+=1)this.stack[zs]=new CanvasContext;this._length=at},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(at){this.cArrPos-=1;var zs,Ws=this.stack[this.cArrPos],qs=Ws.transform,Ys=this.cTr.props;for(zs=0;zs<16;zs+=1)Ys[zs]=qs[zs];if(at){this.nativeContext.restore();var Xs=this.stack[this.cArrPos+1];this.appliedFillStyle=Xs.fillStyle,this.appliedStrokeStyle=Xs.strokeStyle,this.appliedLineWidth=Xs.lineWidth,this.appliedLineCap=Xs.lineCap,this.appliedLineJoin=Xs.lineJoin,this.appliedMiterLimit=Xs.miterLimit}this.nativeContext.setTransform(qs[0],qs[1],qs[4],qs[5],qs[12],qs[13]),(at||Ws.opacity!==-1&&this.currentOpacity!==Ws.opacity)&&(this.nativeContext.globalAlpha=Ws.opacity,this.currentOpacity=Ws.opacity),this.currentFillStyle=Ws.fillStyle,this.currentStrokeStyle=Ws.strokeStyle,this.currentLineWidth=Ws.lineWidth,this.currentLineCap=Ws.lineCap,this.currentLineJoin=Ws.lineJoin,this.currentMiterLimit=Ws.miterLimit},CVContextData.prototype.save=function(at){at&&this.nativeContext.save();var zs=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var Ws,qs=this.stack[this.cArrPos];for(Ws=0;Ws<16;Ws+=1)qs.transform[Ws]=zs[Ws];this.cArrPos+=1;var Ys=this.stack[this.cArrPos];Ys.opacity=qs.opacity,Ys.fillStyle=qs.fillStyle,Ys.strokeStyle=qs.strokeStyle,Ys.lineWidth=qs.lineWidth,Ys.lineCap=qs.lineCap,Ys.lineJoin=qs.lineJoin,Ys.miterLimit=qs.miterLimit},CVContextData.prototype.setOpacity=function(at){this.stack[this.cArrPos].opacity=at},CVContextData.prototype.setContext=function(at){this.nativeContext=at},CVContextData.prototype.fillStyle=function(at){this.stack[this.cArrPos].fillStyle!==at&&(this.currentFillStyle=at,this.stack[this.cArrPos].fillStyle=at)},CVContextData.prototype.strokeStyle=function(at){this.stack[this.cArrPos].strokeStyle!==at&&(this.currentStrokeStyle=at,this.stack[this.cArrPos].strokeStyle=at)},CVContextData.prototype.lineWidth=function(at){this.stack[this.cArrPos].lineWidth!==at&&(this.currentLineWidth=at,this.stack[this.cArrPos].lineWidth=at)},CVContextData.prototype.lineCap=function(at){this.stack[this.cArrPos].lineCap!==at&&(this.currentLineCap=at,this.stack[this.cArrPos].lineCap=at)},CVContextData.prototype.lineJoin=function(at){this.stack[this.cArrPos].lineJoin!==at&&(this.currentLineJoin=at,this.stack[this.cArrPos].lineJoin=at)},CVContextData.prototype.miterLimit=function(at){this.stack[this.cArrPos].miterLimit!==at&&(this.currentMiterLimit=at,this.stack[this.cArrPos].miterLimit=at)},CVContextData.prototype.transform=function(at){this.transformMat.cloneFromProps(at);var zs=this.cTr;this.transformMat.multiply(zs),zs.cloneFromProps(this.transformMat.props);var Ws=zs.props;this.nativeContext.setTransform(Ws[0],Ws[1],Ws[4],Ws[5],Ws[12],Ws[13])},CVContextData.prototype.opacity=function(at){var zs=this.stack[this.cArrPos].opacity;zs*=at<0?0:at,this.stack[this.cArrPos].opacity!==zs&&(this.currentOpacity!==at&&(this.nativeContext.globalAlpha=at,this.currentOpacity=at),this.stack[this.cArrPos].opacity=zs)},CVContextData.prototype.fill=function(at){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(at)},CVContextData.prototype.fillRect=function(at,zs,Ws,qs){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(at,zs,Ws,qs)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var at,zs=this.canvasContext;for(zs.beginPath(),zs.moveTo(0,0),zs.lineTo(this.data.w,0),zs.lineTo(this.data.w,this.data.h),zs.lineTo(0,this.data.h),zs.lineTo(0,0),zs.clip(),at=this.layers.length-1;at>=0;at-=1)(this.completeLayers||this.elements[at])&&this.elements[at].renderFrame()},CVCompElement.prototype.destroy=function(){var at;for(at=this.layers.length-1;at>=0;at-=1)this.elements[at]&&this.elements[at].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(at){return new CVCompElement(at,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(at){return new CVCompElement(at,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var at=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var zs=this.finalTransform.mat.toCSS();at.transform=zs,at.webkitTransform=zs}this.finalTransform._opMdf&&(at.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var at;this.data.hasMask?((at=createNS("rect")).setAttribute("width",this.data.sw),at.setAttribute("height",this.data.sh),at.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((at=createTag("div")).style.width=this.data.sw+"px",at.style.height=this.data.sh+"px",at.style.backgroundColor=this.data.sc),this.layerElement.appendChild(at)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var at;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),at=this.svgElement;else{at=createNS("svg");var zs=this.comp.data?this.comp.data:this.globalData.compSize;at.setAttribute("width",zs.w),at.setAttribute("height",zs.h),at.appendChild(this.shapesContainer),this.layerElement.appendChild(at)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=at},HShapeElement.prototype.getTransformedPoint=function(at,zs){var Ws,qs=at.length;for(Ws=0;Ws<qs;Ws+=1)zs=at[Ws].mProps.v.applyToPointArray(zs[0],zs[1],0);return zs},HShapeElement.prototype.calculateShapeBoundingBox=function(at,zs){var Ws,qs,Ys,Xs,Zs,yl=at.sh.v,Js=at.transformers,$l=yl._length;if(!($l<=1)){for(Ws=0;Ws<$l-1;Ws+=1)qs=this.getTransformedPoint(Js,yl.v[Ws]),Ys=this.getTransformedPoint(Js,yl.o[Ws]),Xs=this.getTransformedPoint(Js,yl.i[Ws+1]),Zs=this.getTransformedPoint(Js,yl.v[Ws+1]),this.checkBounds(qs,Ys,Xs,Zs,zs);yl.c&&(qs=this.getTransformedPoint(Js,yl.v[Ws]),Ys=this.getTransformedPoint(Js,yl.o[Ws]),Xs=this.getTransformedPoint(Js,yl.i[0]),Zs=this.getTransformedPoint(Js,yl.v[0]),this.checkBounds(qs,Ys,Xs,Zs,zs))}},HShapeElement.prototype.checkBounds=function(at,zs,Ws,qs,Ys){this.getBoundsOfCurve(at,zs,Ws,qs);var Xs=this.shapeBoundingBox;Ys.x=bmMin(Xs.left,Ys.x),Ys.xMax=bmMax(Xs.right,Ys.xMax),Ys.y=bmMin(Xs.top,Ys.y),Ys.yMax=bmMax(Xs.bottom,Ys.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(at,zs,Ws,qs){for(var Ys,Xs,Zs,yl,Js,$l,El,wl=[[at[0],qs[0]],[at[1],qs[1]]],_l=0;_l<2;++_l)Xs=6*at[_l]-12*zs[_l]+6*Ws[_l],Ys=-3*at[_l]+9*zs[_l]-9*Ws[_l]+3*qs[_l],Zs=3*zs[_l]-3*at[_l],Xs|=0,Zs|=0,(Ys|=0)===0&&Xs===0||(Ys===0?(yl=-Zs/Xs)>0&&yl<1&&wl[_l].push(this.calculateF(yl,at,zs,Ws,qs,_l)):(Js=Xs*Xs-4*Zs*Ys)>=0&&(($l=(-Xs+bmSqrt(Js))/(2*Ys))>0&&$l<1&&wl[_l].push(this.calculateF($l,at,zs,Ws,qs,_l)),(El=(-Xs-bmSqrt(Js))/(2*Ys))>0&&El<1&&wl[_l].push(this.calculateF(El,at,zs,Ws,qs,_l))));this.shapeBoundingBox.left=bmMin.apply(null,wl[0]),this.shapeBoundingBox.top=bmMin.apply(null,wl[1]),this.shapeBoundingBox.right=bmMax.apply(null,wl[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,wl[1])},HShapeElement.prototype.calculateF=function(at,zs,Ws,qs,Ys,Xs){return bmPow(1-at,3)*zs[Xs]+3*bmPow(1-at,2)*at*Ws[Xs]+3*(1-at)*bmPow(at,2)*qs[Xs]+bmPow(at,3)*Ys[Xs]},HShapeElement.prototype.calculateBoundingBox=function(at,zs){var Ws,qs=at.length;for(Ws=0;Ws<qs;Ws+=1)at[Ws]&&at[Ws].sh?this.calculateShapeBoundingBox(at[Ws],zs):at[Ws]&&at[Ws].it?this.calculateBoundingBox(at[Ws].it,zs):at[Ws]&&at[Ws].style&&at[Ws].w&&this.expandStrokeBoundingBox(at[Ws].w,zs)},HShapeElement.prototype.expandStrokeBoundingBox=function(at,zs){var Ws=0;if(at.keyframes){for(var qs=0;qs<at.keyframes.length;qs+=1){var Ys=at.keyframes[qs].s;Ys>Ws&&(Ws=Ys)}Ws*=at.mult}else Ws=at.v*at.mult;zs.x-=Ws,zs.xMax+=Ws,zs.y-=Ws,zs.yMax+=Ws},HShapeElement.prototype.currentBoxContains=function(at){return this.currentBBox.x<=at.x&&this.currentBBox.y<=at.y&&this.currentBBox.width+this.currentBBox.x>=at.x+at.width&&this.currentBBox.height+this.currentBBox.y>=at.y+at.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var at=this.tempBoundingBox,zs=999999;if(at.x=zs,at.xMax=-zs,at.y=zs,at.yMax=-zs,this.calculateBoundingBox(this.itemsData,at),at.width=at.xMax<at.x?0:at.xMax-at.x,at.height=at.yMax<at.y?0:at.yMax-at.y,this.currentBoxContains(at))return;var Ws=!1;if(this.currentBBox.w!==at.width&&(this.currentBBox.w=at.width,this.shapeCont.setAttribute("width",at.width),Ws=!0),this.currentBBox.h!==at.height&&(this.currentBBox.h=at.height,this.shapeCont.setAttribute("height",at.height),Ws=!0),Ws||this.currentBBox.x!==at.x||this.currentBBox.y!==at.y){this.currentBBox.w=at.width,this.currentBBox.h=at.height,this.currentBBox.x=at.x,this.currentBBox.y=at.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var qs=this.shapeCont.style,Ys="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";qs.transform=Ys,qs.webkitTransform=Ys}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var at=createNS("g");this.maskedElement.appendChild(at),this.innerElem=at}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var at=this.textProperty.currentData;this.renderedLetters=createSizedArray(at.l?at.l.length:0);var zs=this.innerElem.style,Ws=at.fc?this.buildColor(at.fc):"rgba(0,0,0,0)";zs.fill=Ws,zs.color=Ws,at.sc&&(zs.stroke=this.buildColor(at.sc),zs.strokeWidth=at.sw+"px");var qs,Ys,Xs=this.globalData.fontManager.getFontByName(at.f);if(!this.globalData.fontManager.chars)if(zs.fontSize=at.finalSize+"px",zs.lineHeight=at.finalSize+"px",Xs.fClass)this.innerElem.className=Xs.fClass;else{zs.fontFamily=Xs.fFamily;var Zs=at.fWeight,yl=at.fStyle;zs.fontStyle=yl,zs.fontWeight=Zs}var Js,$l,El,wl=at.l;Ys=wl.length;var _l,Sl=this.mHelper,Tl="",Il=0;for(qs=0;qs<Ys;qs+=1){if(this.globalData.fontManager.chars?(this.textPaths[Il]?Js=this.textPaths[Il]:((Js=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),Js.setAttribute("stroke-linejoin",lineJoinEnum[2]),Js.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Il]?El=($l=this.textSpans[Il]).children[0]:(($l=createTag("div")).style.lineHeight=0,(El=createNS("svg")).appendChild(Js),styleDiv($l)))):this.isMasked?Js=this.textPaths[Il]?this.textPaths[Il]:createNS("text"):this.textSpans[Il]?($l=this.textSpans[Il],Js=this.textPaths[Il]):(styleDiv($l=createTag("span")),styleDiv(Js=createTag("span")),$l.appendChild(Js)),this.globalData.fontManager.chars){var Al,xl=this.globalData.fontManager.getCharData(at.finalText[qs],Xs.fStyle,this.globalData.fontManager.getFontByName(at.f).fFamily);if(Al=xl?xl.data:null,Sl.reset(),Al&&Al.shapes&&Al.shapes.length&&(_l=Al.shapes[0].it,Sl.scale(at.finalSize/100,at.finalSize/100),Tl=this.createPathShape(Sl,_l),Js.setAttribute("d",Tl)),this.isMasked)this.innerElem.appendChild(Js);else{if(this.innerElem.appendChild($l),Al&&Al.shapes){document.body.appendChild(El);var Pl=El.getBBox();El.setAttribute("width",Pl.width+2),El.setAttribute("height",Pl.height+2),El.setAttribute("viewBox",Pl.x-1+" "+(Pl.y-1)+" "+(Pl.width+2)+" "+(Pl.height+2));var Cl=El.style,Rl="translate("+(Pl.x-1)+"px,"+(Pl.y-1)+"px)";Cl.transform=Rl,Cl.webkitTransform=Rl,wl[qs].yOffset=Pl.y-1}else El.setAttribute("width",1),El.setAttribute("height",1);$l.appendChild(El)}}else if(Js.textContent=wl[qs].val,Js.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Js);else{this.innerElem.appendChild($l);var Ol=Js.style,Ml="translate3d(0,"+-at.finalSize/1.2+"px,0)";Ol.transform=Ml,Ol.webkitTransform=Ml}this.isMasked?this.textSpans[Il]=Js:this.textSpans[Il]=$l,this.textSpans[Il].style.display="block",this.textPaths[Il]=Js,Il+=1}for(;Il<this.textSpans.length;)this.textSpans[Il].style.display="none",Il+=1},HTextElement.prototype.renderInnerContent=function(){var at;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),at=this.svgElement.style;var zs="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";at.transform=zs,at.webkitTransform=zs}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var Ws,qs,Ys,Xs,Zs,yl=0,Js=this.textAnimator.renderedLetters,$l=this.textProperty.currentData.l;for(qs=$l.length,Ws=0;Ws<qs;Ws+=1)$l[Ws].n?yl+=1:(Xs=this.textSpans[Ws],Zs=this.textPaths[Ws],Ys=Js[yl],yl+=1,Ys._mdf.m&&(this.isMasked?Xs.setAttribute("transform",Ys.m):(Xs.style.webkitTransform=Ys.m,Xs.style.transform=Ys.m)),Xs.style.opacity=Ys.o,Ys.sw&&Ys._mdf.sw&&Zs.setAttribute("stroke-width",Ys.sw),Ys.sc&&Ys._mdf.sc&&Zs.setAttribute("stroke",Ys.sc),Ys.fc&&Ys._mdf.fc&&(Zs.setAttribute("fill",Ys.fc),Zs.style.color=Ys.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var El=this.innerElem.getBBox();if(this.currentBBox.w!==El.width&&(this.currentBBox.w=El.width,this.svgElement.setAttribute("width",El.width)),this.currentBBox.h!==El.height&&(this.currentBBox.h=El.height,this.svgElement.setAttribute("height",El.height)),this.currentBBox.w!==El.width+2||this.currentBBox.h!==El.height+2||this.currentBBox.x!==El.x-1||this.currentBBox.y!==El.y-1){this.currentBBox.w=El.width+2,this.currentBBox.h=El.height+2,this.currentBBox.x=El.x-1,this.currentBBox.y=El.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),at=this.svgElement.style;var wl="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";at.transform=wl,at.webkitTransform=wl}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var at,zs,Ws,qs,Ys=this.comp.threeDElements.length;for(at=0;at<Ys;at+=1)if((zs=this.comp.threeDElements[at]).type==="3d"){Ws=zs.perspectiveElem.style,qs=zs.container.style;var Xs=this.pe.v+"px",Zs="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ws.perspective=Xs,Ws.webkitPerspective=Xs,qs.transformOrigin="0px 0px 0px",qs.mozTransformOrigin="0px 0px 0px",qs.webkitTransformOrigin="0px 0px 0px",Ws.transform=Zs,Ws.webkitTransform=Zs}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var at,zs,Ws=this._isFirstFrame;if(this.hierarchy)for(zs=this.hierarchy.length,at=0;at<zs;at+=1)Ws=this.hierarchy[at].finalTransform.mProp._mdf||Ws;if(Ws||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(at=zs=this.hierarchy.length-1;at>=0;at-=1){var qs=this.hierarchy[at].finalTransform.mProp;this.mat.translate(-qs.p.v[0],-qs.p.v[1],qs.p.v[2]),this.mat.rotateX(-qs.or.v[0]).rotateY(-qs.or.v[1]).rotateZ(qs.or.v[2]),this.mat.rotateX(-qs.rx.v).rotateY(-qs.ry.v).rotateZ(qs.rz.v),this.mat.scale(1/qs.s.v[0],1/qs.s.v[1],1/qs.s.v[2]),this.mat.translate(qs.a.v[0],qs.a.v[1],qs.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Ys;Ys=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Xs=Math.sqrt(Math.pow(Ys[0],2)+Math.pow(Ys[1],2)+Math.pow(Ys[2],2)),Zs=[Ys[0]/Xs,Ys[1]/Xs,Ys[2]/Xs],yl=Math.sqrt(Zs[2]*Zs[2]+Zs[0]*Zs[0]),Js=Math.atan2(Zs[1],yl),$l=Math.atan2(Zs[0],-Zs[2]);this.mat.rotateY($l).rotateX(-Js)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var El=!this._prevMat.equals(this.mat);if((El||this.pe._mdf)&&this.comp.threeDElements){var wl,_l,Sl;for(zs=this.comp.threeDElements.length,at=0;at<zs;at+=1)if((wl=this.comp.threeDElements[at]).type==="3d"){if(El){var Tl=this.mat.toCSS();(Sl=wl.container.style).transform=Tl,Sl.webkitTransform=Tl}this.pe._mdf&&((_l=wl.perspectiveElem.style).perspective=this.pe.v+"px",_l.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(at){this.prepareProperties(at,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var at=this.globalData.getAssetsPath(this.assetData),zs=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",at),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(zs),zs.crossOrigin="anonymous",zs.src=at,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(at,zs){var Ws=at.getBaseElement();if(Ws){var qs=this.layers[zs];if(qs.ddd&&this.supports3d)this.addTo3dContainer(Ws,zs);else if(this.threeDElements)this.addTo3dContainer(Ws,zs);else{for(var Ys,Xs,Zs=0;Zs<zs;)this.elements[Zs]&&this.elements[Zs]!==!0&&this.elements[Zs].getBaseElement&&(Xs=this.elements[Zs],Ys=(this.layers[Zs].ddd?this.getThreeDContainerByPos(Zs):Xs.getBaseElement())||Ys),Zs+=1;Ys?qs.ddd&&this.supports3d||this.layerElement.insertBefore(Ws,Ys):qs.ddd&&this.supports3d||this.layerElement.appendChild(Ws)}}},HybridRendererBase.prototype.createShape=function(at){return this.supports3d?new HShapeElement(at,this.globalData,this):new SVGShapeElement(at,this.globalData,this)},HybridRendererBase.prototype.createText=function(at){return this.supports3d?new HTextElement(at,this.globalData,this):new SVGTextLottieElement(at,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(at){return this.camera=new HCameraElement(at,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(at){return this.supports3d?new HImageElement(at,this.globalData,this):new IImageElement(at,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(at){return this.supports3d?new HSolidElement(at,this.globalData,this):new ISolidElement(at,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(at){for(var zs=0,Ws=this.threeDElements.length;zs<Ws;){if(this.threeDElements[zs].startPos<=at&&this.threeDElements[zs].endPos>=at)return this.threeDElements[zs].perspectiveElem;zs+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(at,zs){var Ws,qs,Ys=createTag("div");styleDiv(Ys);var Xs=createTag("div");if(styleDiv(Xs),zs==="3d"){(Ws=Ys.style).width=this.globalData.compSize.w+"px",Ws.height=this.globalData.compSize.h+"px",Ws.webkitTransformOrigin="50% 50%",Ws.mozTransformOrigin="50% 50%",Ws.transformOrigin="50% 50%";var Zs="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(qs=Xs.style).transform=Zs,qs.webkitTransform=Zs}Ys.appendChild(Xs);var yl={container:Xs,perspectiveElem:Ys,startPos:at,endPos:at,type:zs};return this.threeDElements.push(yl),yl},HybridRendererBase.prototype.build3dContainers=function(){var at,zs,Ws=this.layers.length,qs="";for(at=0;at<Ws;at+=1)this.layers[at].ddd&&this.layers[at].ty!==3?(qs!=="3d"&&(qs="3d",zs=this.createThreeDContainer(at,"3d")),zs.endPos=Math.max(zs.endPos,at)):(qs!=="2d"&&(qs="2d",zs=this.createThreeDContainer(at,"2d")),zs.endPos=Math.max(zs.endPos,at));for(at=(Ws=this.threeDElements.length)-1;at>=0;at-=1)this.resizerElem.appendChild(this.threeDElements[at].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(at,zs){for(var Ws=0,qs=this.threeDElements.length;Ws<qs;){if(zs<=this.threeDElements[Ws].endPos){for(var Ys,Xs=this.threeDElements[Ws].startPos;Xs<zs;)this.elements[Xs]&&this.elements[Xs].getBaseElement&&(Ys=this.elements[Xs].getBaseElement()),Xs+=1;Ys?this.threeDElements[Ws].container.insertBefore(at,Ys):this.threeDElements[Ws].container.appendChild(at);break}Ws+=1}},HybridRendererBase.prototype.configAnimation=function(at){var zs=createTag("div"),Ws=this.animationItem.wrapper,qs=zs.style;qs.width=at.w+"px",qs.height=at.h+"px",this.resizerElem=zs,styleDiv(zs),qs.transformStyle="flat",qs.mozTransformStyle="flat",qs.webkitTransformStyle="flat",this.renderConfig.className&&zs.setAttribute("class",this.renderConfig.className),Ws.appendChild(zs),qs.overflow="hidden";var Ys=createNS("svg");Ys.setAttribute("width","1"),Ys.setAttribute("height","1"),styleDiv(Ys),this.resizerElem.appendChild(Ys);var Xs=createNS("defs");Ys.appendChild(Xs),this.data=at,this.setupGlobalData(at,Ys),this.globalData.defs=Xs,this.layers=at.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var at;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var zs=this.layers?this.layers.length:0;for(at=0;at<zs;at+=1)this.elements[at]&&this.elements[at].destroy&&this.elements[at].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var at,zs,Ws,qs,Ys=this.animationItem.wrapper.offsetWidth,Xs=this.animationItem.wrapper.offsetHeight,Zs=Ys/Xs;this.globalData.compSize.w/this.globalData.compSize.h>Zs?(at=Ys/this.globalData.compSize.w,zs=Ys/this.globalData.compSize.w,Ws=0,qs=(Xs-this.globalData.compSize.h*(Ys/this.globalData.compSize.w))/2):(at=Xs/this.globalData.compSize.h,zs=Xs/this.globalData.compSize.h,Ws=(Ys-this.globalData.compSize.w*(Xs/this.globalData.compSize.h))/2,qs=0);var yl=this.resizerElem.style;yl.webkitTransform="matrix3d("+at+",0,0,0,0,"+zs+",0,0,0,0,1,0,"+Ws+","+qs+",0,1)",yl.transform=yl.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var at,zs=this.globalData.compSize.w,Ws=this.globalData.compSize.h,qs=this.threeDElements.length;for(at=0;at<qs;at+=1){var Ys=this.threeDElements[at].perspectiveElem.style;Ys.webkitPerspective=Math.sqrt(Math.pow(zs,2)+Math.pow(Ws,2))+"px",Ys.perspective=Ys.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(at){var zs,Ws=at.length,qs=createTag("div");for(zs=0;zs<Ws;zs+=1)if(at[zs].xt){var Ys=this.createComp(at[zs],qs,this.globalData.comp,null);Ys.initExpressions(),this.globalData.projectInterface.registerComposition(Ys)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(at,zs){for(var Ws,qs=0;qs<zs;)this.elements[qs]&&this.elements[qs].getBaseElement&&(Ws=this.elements[qs].getBaseElement()),qs+=1;Ws?this.layerElement.insertBefore(at,Ws):this.layerElement.appendChild(at)},HCompElement.prototype.createComp=function(at){return this.supports3d?new HCompElement(at,this.globalData,this):new SVGCompElement(at,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(at){return this.supports3d?new HCompElement(at,this.globalData,this):new SVGCompElement(at,this.globalData,this)};var CompExpressionInterface=function(at){function zs(Ws){for(var qs=0,Ys=at.layers.length;qs<Ys;){if(at.layers[qs].nm===Ws||at.layers[qs].ind===Ws)return at.elements[qs].layerInterface;qs+=1}return null}return Object.defineProperty(zs,"_name",{value:at.data.nm}),zs.layer=zs,zs.pixelAspect=1,zs.height=at.data.h||at.globalData.compSize.h,zs.width=at.data.w||at.globalData.compSize.w,zs.pixelAspect=1,zs.frameDuration=1/at.globalData.frameRate,zs.displayStartTime=0,zs.numLayers=at.layers.length,zs};function _typeof$2(at){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}function seedRandom(at,zs){var Ws=this,qs=zs.pow(256,6),Ys=zs.pow(2,52),Xs=2*Ys;function Zs(El){var wl,_l=El.length,Sl=this,Tl=0,Il=Sl.i=Sl.j=0,Al=Sl.S=[];for(_l||(El=[_l++]);Tl<256;)Al[Tl]=Tl++;for(Tl=0;Tl<256;Tl++)Al[Tl]=Al[Il=255&Il+El[Tl%_l]+(wl=Al[Tl])],Al[Il]=wl;Sl.g=function(xl){for(var Pl,Cl=0,Rl=Sl.i,Ol=Sl.j,Ml=Sl.S;xl--;)Pl=Ml[Rl=255&Rl+1],Cl=256*Cl+Ml[255&(Ml[Rl]=Ml[Ol=255&Ol+Pl])+(Ml[Ol]=Pl)];return Sl.i=Rl,Sl.j=Ol,Cl}}function yl(El,wl){return wl.i=El.i,wl.j=El.j,wl.S=El.S.slice(),wl}function Js(El,wl){for(var _l,Sl=El+"",Tl=0;Tl<Sl.length;)wl[255&Tl]=255&(_l^=19*wl[255&Tl])+Sl.charCodeAt(Tl++);return $l(wl)}function $l(El){return String.fromCharCode.apply(0,El)}zs.seedrandom=function(El,wl,_l){var Sl=[],Tl=Js(function xl(Pl,Cl){var Rl,Ol=[],Ml=_typeof$2(Pl);if(Cl&&Ml=="object")for(Rl in Pl)try{Ol.push(xl(Pl[Rl],Cl-1))}catch{}return Ol.length?Ol:Ml=="string"?Pl:Pl+"\0"}((wl=wl===!0?{entropy:!0}:wl||{}).entropy?[El,$l(at)]:El===null?function(){try{var xl=new Uint8Array(256);return(Ws.crypto||Ws.msCrypto).getRandomValues(xl),$l(xl)}catch{var Pl=Ws.navigator,Cl=Pl&&Pl.plugins;return[+new Date,Ws,Cl,Ws.screen,$l(at)]}}():El,3),Sl),Il=new Zs(Sl),Al=function(){for(var xl=Il.g(6),Pl=qs,Cl=0;xl<Ys;)xl=256*(xl+Cl),Pl*=256,Cl=Il.g(1);for(;xl>=Xs;)xl/=2,Pl/=2,Cl>>>=1;return(xl+Cl)/Pl};return Al.int32=function(){return 0|Il.g(4)},Al.quick=function(){return Il.g(4)/4294967296},Al.double=Al,Js($l(Il.S),at),(wl.pass||_l||function(xl,Pl,Cl,Rl){return Rl&&(Rl.S&&yl(Rl,Il),xl.state=function(){return yl(Il,{})}),Cl?(zs.random=xl,Pl):xl})(Al,Tl,"global"in wl?wl.global:this==zs,wl.state)},Js(zs.random(),at)}function initialize$2(at){seedRandom([],at)}var propTypes={SHAPE:"shape"};function _typeof$1(at){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(at){return at.constructor===Array||at.constructor===Float32Array}function isNumerable(at,zs){return at==="number"||zs instanceof Number||at==="boolean"||at==="string"}function $bm_neg(at){var zs=_typeof$1(at);if(zs==="number"||at instanceof Number||zs==="boolean")return-at;if($bm_isInstanceOfArray(at)){var Ws,qs=at.length,Ys=[];for(Ws=0;Ws<qs;Ws+=1)Ys[Ws]=-at[Ws];return Ys}return at.propType?at.v:-at}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(at,zs){var Ws=_typeof$1(at),qs=_typeof$1(zs);if(isNumerable(Ws,at)&&isNumerable(qs,zs)||Ws==="string"||qs==="string")return at+zs;if($bm_isInstanceOfArray(at)&&isNumerable(qs,zs))return(at=at.slice(0))[0]+=zs,at;if(isNumerable(Ws,at)&&$bm_isInstanceOfArray(zs))return(zs=zs.slice(0))[0]=at+zs[0],zs;if($bm_isInstanceOfArray(at)&&$bm_isInstanceOfArray(zs)){for(var Ys=0,Xs=at.length,Zs=zs.length,yl=[];Ys<Xs||Ys<Zs;)(typeof at[Ys]=="number"||at[Ys]instanceof Number)&&(typeof zs[Ys]=="number"||zs[Ys]instanceof Number)?yl[Ys]=at[Ys]+zs[Ys]:yl[Ys]=zs[Ys]===void 0?at[Ys]:at[Ys]||zs[Ys],Ys+=1;return yl}return 0}var add=sum;function sub(at,zs){var Ws=_typeof$1(at),qs=_typeof$1(zs);if(isNumerable(Ws,at)&&isNumerable(qs,zs))return Ws==="string"&&(at=parseInt(at,10)),qs==="string"&&(zs=parseInt(zs,10)),at-zs;if($bm_isInstanceOfArray(at)&&isNumerable(qs,zs))return(at=at.slice(0))[0]-=zs,at;if(isNumerable(Ws,at)&&$bm_isInstanceOfArray(zs))return(zs=zs.slice(0))[0]=at-zs[0],zs;if($bm_isInstanceOfArray(at)&&$bm_isInstanceOfArray(zs)){for(var Ys=0,Xs=at.length,Zs=zs.length,yl=[];Ys<Xs||Ys<Zs;)(typeof at[Ys]=="number"||at[Ys]instanceof Number)&&(typeof zs[Ys]=="number"||zs[Ys]instanceof Number)?yl[Ys]=at[Ys]-zs[Ys]:yl[Ys]=zs[Ys]===void 0?at[Ys]:at[Ys]||zs[Ys],Ys+=1;return yl}return 0}function mul(at,zs){var Ws,qs,Ys,Xs=_typeof$1(at),Zs=_typeof$1(zs);if(isNumerable(Xs,at)&&isNumerable(Zs,zs))return at*zs;if($bm_isInstanceOfArray(at)&&isNumerable(Zs,zs)){for(Ys=at.length,Ws=createTypedArray("float32",Ys),qs=0;qs<Ys;qs+=1)Ws[qs]=at[qs]*zs;return Ws}if(isNumerable(Xs,at)&&$bm_isInstanceOfArray(zs)){for(Ys=zs.length,Ws=createTypedArray("float32",Ys),qs=0;qs<Ys;qs+=1)Ws[qs]=at*zs[qs];return Ws}return 0}function div(at,zs){var Ws,qs,Ys,Xs=_typeof$1(at),Zs=_typeof$1(zs);if(isNumerable(Xs,at)&&isNumerable(Zs,zs))return at/zs;if($bm_isInstanceOfArray(at)&&isNumerable(Zs,zs)){for(Ys=at.length,Ws=createTypedArray("float32",Ys),qs=0;qs<Ys;qs+=1)Ws[qs]=at[qs]/zs;return Ws}if(isNumerable(Xs,at)&&$bm_isInstanceOfArray(zs)){for(Ys=zs.length,Ws=createTypedArray("float32",Ys),qs=0;qs<Ys;qs+=1)Ws[qs]=at/zs[qs];return Ws}return 0}function mod(at,zs){return typeof at=="string"&&(at=parseInt(at,10)),typeof zs=="string"&&(zs=parseInt(zs,10)),at%zs}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(at,zs,Ws){if(zs>Ws){var qs=Ws;Ws=zs,zs=qs}return Math.min(Math.max(at,zs),Ws)}function radiansToDegrees(at){return at/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(at){return at*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(at,zs){if(typeof at=="number"||at instanceof Number)return zs=zs||0,Math.abs(at-zs);var Ws;zs||(zs=helperLengthArray);var qs=Math.min(at.length,zs.length),Ys=0;for(Ws=0;Ws<qs;Ws+=1)Ys+=Math.pow(zs[Ws]-at[Ws],2);return Math.sqrt(Ys)}function normalize(at){return div(at,length(at))}function rgbToHsl(at){var zs,Ws,qs=at[0],Ys=at[1],Xs=at[2],Zs=Math.max(qs,Ys,Xs),yl=Math.min(qs,Ys,Xs),Js=(Zs+yl)/2;if(Zs===yl)zs=0,Ws=0;else{var $l=Zs-yl;switch(Ws=Js>.5?$l/(2-Zs-yl):$l/(Zs+yl),Zs){case qs:zs=(Ys-Xs)/$l+(Ys<Xs?6:0);break;case Ys:zs=(Xs-qs)/$l+2;break;case Xs:zs=(qs-Ys)/$l+4}zs/=6}return[zs,Ws,Js,at[3]]}function hue2rgb(at,zs,Ws){return Ws<0&&(Ws+=1),Ws>1&&(Ws-=1),Ws<1/6?at+6*(zs-at)*Ws:Ws<.5?zs:Ws<2/3?at+(zs-at)*(2/3-Ws)*6:at}function hslToRgb(at){var zs,Ws,qs,Ys=at[0],Xs=at[1],Zs=at[2];if(Xs===0)zs=Zs,qs=Zs,Ws=Zs;else{var yl=Zs<.5?Zs*(1+Xs):Zs+Xs-Zs*Xs,Js=2*Zs-yl;zs=hue2rgb(Js,yl,Ys+1/3),Ws=hue2rgb(Js,yl,Ys),qs=hue2rgb(Js,yl,Ys-1/3)}return[zs,Ws,qs,at[3]]}function linear(at,zs,Ws,qs,Ys){if(qs!==void 0&&Ys!==void 0||(qs=zs,Ys=Ws,zs=0,Ws=1),Ws<zs){var Xs=Ws;Ws=zs,zs=Xs}if(at<=zs)return qs;if(at>=Ws)return Ys;var Zs,yl=Ws===zs?0:(at-zs)/(Ws-zs);if(!qs.length)return qs+(Ys-qs)*yl;var Js=qs.length,$l=createTypedArray("float32",Js);for(Zs=0;Zs<Js;Zs+=1)$l[Zs]=qs[Zs]+(Ys[Zs]-qs[Zs])*yl;return $l}function random(at,zs){if(zs===void 0&&(at===void 0?(at=0,zs=1):(zs=at,at=void 0)),zs.length){var Ws,qs=zs.length;at||(at=createTypedArray("float32",qs));var Ys=createTypedArray("float32",qs),Xs=BMMath.random();for(Ws=0;Ws<qs;Ws+=1)Ys[Ws]=at[Ws]+Xs*(zs[Ws]-at[Ws]);return Ys}return at===void 0&&(at=0),at+BMMath.random()*(zs-at)}function createPath(at,zs,Ws,qs){var Ys,Xs=at.length,Zs=shapePool.newElement();Zs.setPathData(!!qs,Xs);var yl,Js,$l=[0,0];for(Ys=0;Ys<Xs;Ys+=1)yl=zs&&zs[Ys]?zs[Ys]:$l,Js=Ws&&Ws[Ys]?Ws[Ys]:$l,Zs.setTripleAt(at[Ys][0],at[Ys][1],Js[0]+at[Ys][0],Js[1]+at[Ys][1],yl[0]+at[Ys][0],yl[1]+at[Ys][1],Ys,!0);return Zs}function initiateExpression(elem,data,property){function noOp(at){return at}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(at,zs){var Ws,qs,Ys=this.pv.length?this.pv.length:1,Xs=createTypedArray("float32",Ys),Zs=Math.floor(5*time);for(Ws=0,qs=0;Ws<Zs;){for(qs=0;qs<Ys;qs+=1)Xs[qs]+=-zs+2*zs*BMMath.random();Ws+=1}var yl=5*time,Js=yl-Math.floor(yl),$l=createTypedArray("float32",Ys);if(Ys>1){for(qs=0;qs<Ys;qs+=1)$l[qs]=this.pv[qs]+Xs[qs]+(-zs+2*zs*BMMath.random())*Js;return $l}return this.pv+Xs[0]+(-zs+2*zs*BMMath.random())*Js}).bind(this);function loopInDuration(at,zs){return loopIn(at,zs,!0)}function loopOutDuration(at,zs){return loopOut(at,zs,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(at,zs){var Ws=[zs[0]-at[0],zs[1]-at[1],zs[2]-at[2]],qs=Math.atan2(Ws[0],Math.sqrt(Ws[1]*Ws[1]+Ws[2]*Ws[2]))/degToRads;return[-Math.atan2(Ws[1],Ws[2])/degToRads,qs,0]}function easeOut(at,zs,Ws,qs,Ys){return applyEase(easeOutBez,at,zs,Ws,qs,Ys)}function easeIn(at,zs,Ws,qs,Ys){return applyEase(easeInBez,at,zs,Ws,qs,Ys)}function ease(at,zs,Ws,qs,Ys){return applyEase(easeInOutBez,at,zs,Ws,qs,Ys)}function applyEase(at,zs,Ws,qs,Ys,Xs){Ys===void 0?(Ys=Ws,Xs=qs):zs=(zs-Ws)/(qs-Ws),zs>1?zs=1:zs<0&&(zs=0);var Zs=at(zs);if($bm_isInstanceOfArray(Ys)){var yl,Js=Ys.length,$l=createTypedArray("float32",Js);for(yl=0;yl<Js;yl+=1)$l[yl]=(Xs[yl]-Ys[yl])*Zs+Ys[yl];return $l}return(Xs-Ys)*Zs+Ys}function nearestKey(at){var zs,Ws,qs,Ys=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(Ws=-1,(at*=elem.comp.globalData.frameRate)<data.k[0].t)Ws=1,qs=data.k[0].t;else{for(zs=0;zs<Ys-1;zs+=1){if(at===data.k[zs].t){Ws=zs+1,qs=data.k[zs].t;break}if(at>data.k[zs].t&&at<data.k[zs+1].t){at-data.k[zs].t>data.k[zs+1].t-at?(Ws=zs+2,qs=data.k[zs+1].t):(Ws=zs+1,qs=data.k[zs].t);break}}Ws===-1&&(Ws=zs+1,qs=data.k[zs].t)}else Ws=0,qs=0;var Xs={};return Xs.index=Ws,Xs.time=qs/elem.comp.globalData.frameRate,Xs}function key(at){var zs,Ws,qs;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+at);at-=1,zs={time:data.k[at].t/elem.comp.globalData.frameRate,value:[]};var Ys=Object.prototype.hasOwnProperty.call(data.k[at],"s")?data.k[at].s:data.k[at-1].e;for(qs=Ys.length,Ws=0;Ws<qs;Ws+=1)zs[Ws]=Ys[Ws],zs.value[Ws]=Ys[Ws];return zs}function framesToTime(at,zs){return zs||(zs=elem.comp.globalData.frameRate),at/zs}function timeToFrames(at,zs){return at||at===0||(at=time),zs||(zs=elem.comp.globalData.frameRate),at*zs}function seedRandom(at){BMMath.seedrandom(randSeed+at)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(at,zs){return typeof value=="string"?zs===void 0?value.substring(at):value.substring(at,zs):""}function substr(at,zs){return typeof value=="string"?zs===void 0?value.substr(at):value.substr(at,zs):""}function posterizeTime(at){time=at===0?0:Math.floor(time*at)/at,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(at){return value=at,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var at={};return at.initExpressions=function(zs){var Ws=0,qs=[];zs.renderer.compInterface=CompExpressionInterface(zs.renderer),zs.renderer.globalData.projectInterface.registerComposition(zs.renderer),zs.renderer.globalData.pushExpression=function(){Ws+=1},zs.renderer.globalData.popExpression=function(){(Ws-=1)===0&&function(){var Ys,Xs=qs.length;for(Ys=0;Ys<Xs;Ys+=1)qs[Ys].release();qs.length=0}()},zs.renderer.globalData.registerExpressionProperty=function(Ys){qs.indexOf(Ys)===-1&&qs.push(Ys)}},at.resetFrame=ExpressionManager.resetFrame,at}(),MaskManagerInterface=function(){function at(zs,Ws){this._mask=zs,this._data=Ws}return Object.defineProperty(at.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(at.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(zs){var Ws,qs=createSizedArray(zs.viewData.length),Ys=zs.viewData.length;for(Ws=0;Ws<Ys;Ws+=1)qs[Ws]=new at(zs.viewData[Ws],zs.masksProperties[Ws]);return function(Xs){for(Ws=0;Ws<Ys;){if(zs.masksProperties[Ws].nm===Xs)return qs[Ws];Ws+=1}return null}}}(),ExpressionPropertyInterface=function(){var at={pv:0,v:0,mult:1},zs={pv:[0,0,0],v:[0,0,0],mult:1};function Ws(Ys,Xs,Zs){Object.defineProperty(Ys,"velocity",{get:function(){return Xs.getVelocityAtTime(Xs.comp.currentFrame)}}),Ys.numKeys=Xs.keyframes?Xs.keyframes.length:0,Ys.key=function(yl){if(!Ys.numKeys)return 0;var Js="";Js="s"in Xs.keyframes[yl-1]?Xs.keyframes[yl-1].s:"e"in Xs.keyframes[yl-2]?Xs.keyframes[yl-2].e:Xs.keyframes[yl-2].s;var $l=Zs==="unidimensional"?new Number(Js):Object.assign({},Js);return $l.time=Xs.keyframes[yl-1].t/Xs.elem.comp.globalData.frameRate,$l.value=Zs==="unidimensional"?Js[0]:Js,$l},Ys.valueAtTime=Xs.getValueAtTime,Ys.speedAtTime=Xs.getSpeedAtTime,Ys.velocityAtTime=Xs.getVelocityAtTime,Ys.propertyGroup=Xs.propertyGroup}function qs(){return at}return function(Ys){return Ys?Ys.propType==="unidimensional"?function(Xs){Xs&&"pv"in Xs||(Xs=at);var Zs=1/Xs.mult,yl=Xs.pv*Zs,Js=new Number(yl);return Js.value=yl,Ws(Js,Xs,"unidimensional"),function(){return Xs.k&&Xs.getValue(),yl=Xs.v*Zs,Js.value!==yl&&((Js=new Number(yl)).value=yl,Ws(Js,Xs,"unidimensional")),Js}}(Ys):function(Xs){Xs&&"pv"in Xs||(Xs=zs);var Zs=1/Xs.mult,yl=Xs.data&&Xs.data.l||Xs.pv.length,Js=createTypedArray("float32",yl),$l=createTypedArray("float32",yl);return Js.value=$l,Ws(Js,Xs,"multidimensional"),function(){Xs.k&&Xs.getValue();for(var El=0;El<yl;El+=1)$l[El]=Xs.v[El]*Zs,Js[El]=$l[El];return Js}}(Ys):qs}}(),TransformExpressionInterface=function(at){function zs(Zs){switch(Zs){case"scale":case"Scale":case"ADBE Scale":case 6:return zs.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return zs.rotation;case"ADBE Rotate X":return zs.xRotation;case"ADBE Rotate Y":return zs.yRotation;case"position":case"Position":case"ADBE Position":case 2:return zs.position;case"ADBE Position_0":return zs.xPosition;case"ADBE Position_1":return zs.yPosition;case"ADBE Position_2":return zs.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return zs.anchorPoint;case"opacity":case"Opacity":case 11:return zs.opacity;default:return null}}var Ws,qs,Ys,Xs;return Object.defineProperty(zs,"rotation",{get:ExpressionPropertyInterface(at.r||at.rz)}),Object.defineProperty(zs,"zRotation",{get:ExpressionPropertyInterface(at.rz||at.r)}),Object.defineProperty(zs,"xRotation",{get:ExpressionPropertyInterface(at.rx)}),Object.defineProperty(zs,"yRotation",{get:ExpressionPropertyInterface(at.ry)}),Object.defineProperty(zs,"scale",{get:ExpressionPropertyInterface(at.s)}),at.p?Xs=ExpressionPropertyInterface(at.p):(Ws=ExpressionPropertyInterface(at.px),qs=ExpressionPropertyInterface(at.py),at.pz&&(Ys=ExpressionPropertyInterface(at.pz))),Object.defineProperty(zs,"position",{get:function(){return at.p?Xs():[Ws(),qs(),Ys?Ys():0]}}),Object.defineProperty(zs,"xPosition",{get:ExpressionPropertyInterface(at.px)}),Object.defineProperty(zs,"yPosition",{get:ExpressionPropertyInterface(at.py)}),Object.defineProperty(zs,"zPosition",{get:ExpressionPropertyInterface(at.pz)}),Object.defineProperty(zs,"anchorPoint",{get:ExpressionPropertyInterface(at.a)}),Object.defineProperty(zs,"opacity",{get:ExpressionPropertyInterface(at.o)}),Object.defineProperty(zs,"skew",{get:ExpressionPropertyInterface(at.sk)}),Object.defineProperty(zs,"skewAxis",{get:ExpressionPropertyInterface(at.sa)}),Object.defineProperty(zs,"orientation",{get:ExpressionPropertyInterface(at.or)}),zs},LayerExpressionInterface=function(){function at($l){var El=new Matrix;return $l!==void 0?this._elem.finalTransform.mProp.getValueAtTime($l).clone(El):this._elem.finalTransform.mProp.applyToMatrix(El),El}function zs($l,El){var wl=this.getMatrix(El);return wl.props[12]=0,wl.props[13]=0,wl.props[14]=0,this.applyPoint(wl,$l)}function Ws($l,El){var wl=this.getMatrix(El);return this.applyPoint(wl,$l)}function qs($l,El){var wl=this.getMatrix(El);return wl.props[12]=0,wl.props[13]=0,wl.props[14]=0,this.invertPoint(wl,$l)}function Ys($l,El){var wl=this.getMatrix(El);return this.invertPoint(wl,$l)}function Xs($l,El){if(this._elem.hierarchy&&this._elem.hierarchy.length){var wl,_l=this._elem.hierarchy.length;for(wl=0;wl<_l;wl+=1)this._elem.hierarchy[wl].finalTransform.mProp.applyToMatrix($l)}return $l.applyToPointArray(El[0],El[1],El[2]||0)}function Zs($l,El){if(this._elem.hierarchy&&this._elem.hierarchy.length){var wl,_l=this._elem.hierarchy.length;for(wl=0;wl<_l;wl+=1)this._elem.hierarchy[wl].finalTransform.mProp.applyToMatrix($l)}return $l.inversePoint(El)}function yl($l){var El=new Matrix;if(El.reset(),this._elem.finalTransform.mProp.applyToMatrix(El),this._elem.hierarchy&&this._elem.hierarchy.length){var wl,_l=this._elem.hierarchy.length;for(wl=0;wl<_l;wl+=1)this._elem.hierarchy[wl].finalTransform.mProp.applyToMatrix(El);return El.inversePoint($l)}return El.inversePoint($l)}function Js(){return[1,1,1,1]}return function($l){var El;function wl(Sl){switch(Sl){case"ADBE Root Vectors Group":case"Contents":case 2:return wl.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return El;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return wl.effect;case"ADBE Text Properties":return wl.textInterface;default:return null}}wl.getMatrix=at,wl.invertPoint=Zs,wl.applyPoint=Xs,wl.toWorld=Ws,wl.toWorldVec=zs,wl.fromWorld=Ys,wl.fromWorldVec=qs,wl.toComp=Ws,wl.fromComp=yl,wl.sampleImage=Js,wl.sourceRectAtTime=$l.sourceRectAtTime.bind($l),wl._elem=$l;var _l=getDescriptor(El=TransformExpressionInterface($l.finalTransform.mProp),"anchorPoint");return Object.defineProperties(wl,{hasParent:{get:function(){return $l.hierarchy.length}},parent:{get:function(){return $l.hierarchy[0].layerInterface}},rotation:getDescriptor(El,"rotation"),scale:getDescriptor(El,"scale"),position:getDescriptor(El,"position"),opacity:getDescriptor(El,"opacity"),anchorPoint:_l,anchor_point:_l,transform:{get:function(){return El}},active:{get:function(){return $l.isInRange}}}),wl.startTime=$l.data.st,wl.index=$l.data.ind,wl.source=$l.data.refId,wl.height=$l.data.ty===0?$l.data.h:100,wl.width=$l.data.ty===0?$l.data.w:100,wl.inPoint=$l.data.ip/$l.comp.globalData.frameRate,wl.outPoint=$l.data.op/$l.comp.globalData.frameRate,wl._name=$l.data.nm,wl.registerMaskInterface=function(Sl){wl.mask=new MaskManagerInterface(Sl,$l)},wl.registerEffectsInterface=function(Sl){wl.effect=Sl},wl}}(),propertyGroupFactory=function(at,zs){return function(Ws){return(Ws=Ws===void 0?1:Ws)<=0?at:zs(Ws-1)}},PropertyInterface=function(at,zs){var Ws={_name:at};return function(qs){return(qs=qs===void 0?1:qs)<=0?Ws:zs(qs-1)}},EffectsExpressionInterface=function(){function at(Ws,qs,Ys,Xs){function Zs(wl){for(var _l=Ws.ef,Sl=0,Tl=_l.length;Sl<Tl;){if(wl===_l[Sl].nm||wl===_l[Sl].mn||wl===_l[Sl].ix)return _l[Sl].ty===5?$l[Sl]:$l[Sl]();Sl+=1}throw new Error}var yl,Js=propertyGroupFactory(Zs,Ys),$l=[],El=Ws.ef.length;for(yl=0;yl<El;yl+=1)Ws.ef[yl].ty===5?$l.push(at(Ws.ef[yl],qs.effectElements[yl],qs.effectElements[yl].propertyGroup,Xs)):$l.push(zs(qs.effectElements[yl],Ws.ef[yl].ty,Xs,Js));return Ws.mn==="ADBE Color Control"&&Object.defineProperty(Zs,"color",{get:function(){return $l[0]()}}),Object.defineProperties(Zs,{numProperties:{get:function(){return Ws.np}},_name:{value:Ws.nm},propertyGroup:{value:Js}}),Zs.enabled=Ws.en!==0,Zs.active=Zs.enabled,Zs}function zs(Ws,qs,Ys,Xs){var Zs=ExpressionPropertyInterface(Ws.p);return Ws.p.setGroupProperty&&Ws.p.setGroupProperty(PropertyInterface("",Xs)),function(){return qs===10?Ys.comp.compInterface(Ws.p.v):Zs()}}return{createEffectsInterface:function(Ws,qs){if(Ws.effectsManager){var Ys,Xs=[],Zs=Ws.data.ef,yl=Ws.effectsManager.effectElements.length;for(Ys=0;Ys<yl;Ys+=1)Xs.push(at(Zs[Ys],Ws.effectsManager.effectElements[Ys],qs,Ws));var Js=Ws.data.ef||[],$l=function(El){for(Ys=0,yl=Js.length;Ys<yl;){if(El===Js[Ys].nm||El===Js[Ys].mn||El===Js[Ys].ix)return Xs[Ys];Ys+=1}return null};return Object.defineProperty($l,"numProperties",{get:function(){return Js.length}}),$l}return null}}}(),ShapePathInterface=function(at,zs,Ws){var qs=zs.sh;function Ys(Zs){return Zs==="Shape"||Zs==="shape"||Zs==="Path"||Zs==="path"||Zs==="ADBE Vector Shape"||Zs===2?Ys.path:null}var Xs=propertyGroupFactory(Ys,Ws);return qs.setGroupProperty(PropertyInterface("Path",Xs)),Object.defineProperties(Ys,{path:{get:function(){return qs.k&&qs.getValue(),qs}},shape:{get:function(){return qs.k&&qs.getValue(),qs}},_name:{value:at.nm},ix:{value:at.ix},propertyIndex:{value:at.ix},mn:{value:at.mn},propertyGroup:{value:Ws}}),Ys},ShapeExpressionInterface=function(){function at(Sl,Tl,Il){var Al,xl=[],Pl=Sl?Sl.length:0;for(Al=0;Al<Pl;Al+=1)Sl[Al].ty==="gr"?xl.push(zs(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="fl"?xl.push(Ws(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="st"?xl.push(Xs(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="tm"?xl.push(Zs(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="tr"||(Sl[Al].ty==="el"?xl.push(Js(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="sr"?xl.push($l(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="sh"?xl.push(ShapePathInterface(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="rc"?xl.push(El(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="rd"?xl.push(wl(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="rp"?xl.push(_l(Sl[Al],Tl[Al],Il)):Sl[Al].ty==="gf"?xl.push(qs(Sl[Al],Tl[Al],Il)):xl.push(Ys(Sl[Al],Tl[Al])));return xl}function zs(Sl,Tl,Il){var Al=function(Cl){switch(Cl){case"ADBE Vectors Group":case"Contents":case 2:return Al.content;default:return Al.transform}};Al.propertyGroup=propertyGroupFactory(Al,Il);var xl=function(Cl,Rl,Ol){var Ml,Ll=function(Wl){for(var Yl=0,Kl=Ml.length;Yl<Kl;){if(Ml[Yl]._name===Wl||Ml[Yl].mn===Wl||Ml[Yl].propertyIndex===Wl||Ml[Yl].ix===Wl||Ml[Yl].ind===Wl)return Ml[Yl];Yl+=1}return typeof Wl=="number"?Ml[Wl-1]:null};Ll.propertyGroup=propertyGroupFactory(Ll,Ol),Ml=at(Cl.it,Rl.it,Ll.propertyGroup),Ll.numProperties=Ml.length;var Bl=yl(Cl.it[Cl.it.length-1],Rl.it[Rl.it.length-1],Ll.propertyGroup);return Ll.transform=Bl,Ll.propertyIndex=Cl.cix,Ll._name=Cl.nm,Ll}(Sl,Tl,Al.propertyGroup),Pl=yl(Sl.it[Sl.it.length-1],Tl.it[Tl.it.length-1],Al.propertyGroup);return Al.content=xl,Al.transform=Pl,Object.defineProperty(Al,"_name",{get:function(){return Sl.nm}}),Al.numProperties=Sl.np,Al.propertyIndex=Sl.ix,Al.nm=Sl.nm,Al.mn=Sl.mn,Al}function Ws(Sl,Tl,Il){function Al(xl){return xl==="Color"||xl==="color"?Al.color:xl==="Opacity"||xl==="opacity"?Al.opacity:null}return Object.defineProperties(Al,{color:{get:ExpressionPropertyInterface(Tl.c)},opacity:{get:ExpressionPropertyInterface(Tl.o)},_name:{value:Sl.nm},mn:{value:Sl.mn}}),Tl.c.setGroupProperty(PropertyInterface("Color",Il)),Tl.o.setGroupProperty(PropertyInterface("Opacity",Il)),Al}function qs(Sl,Tl,Il){function Al(xl){return xl==="Start Point"||xl==="start point"?Al.startPoint:xl==="End Point"||xl==="end point"?Al.endPoint:xl==="Opacity"||xl==="opacity"?Al.opacity:null}return Object.defineProperties(Al,{startPoint:{get:ExpressionPropertyInterface(Tl.s)},endPoint:{get:ExpressionPropertyInterface(Tl.e)},opacity:{get:ExpressionPropertyInterface(Tl.o)},type:{get:function(){return"a"}},_name:{value:Sl.nm},mn:{value:Sl.mn}}),Tl.s.setGroupProperty(PropertyInterface("Start Point",Il)),Tl.e.setGroupProperty(PropertyInterface("End Point",Il)),Tl.o.setGroupProperty(PropertyInterface("Opacity",Il)),Al}function Ys(){return function(){return null}}function Xs(Sl,Tl,Il){var Al,xl=propertyGroupFactory(Ml,Il),Pl=propertyGroupFactory(Ol,xl);function Cl(Ll){Object.defineProperty(Ol,Sl.d[Ll].nm,{get:ExpressionPropertyInterface(Tl.d.dataProps[Ll].p)})}var Rl=Sl.d?Sl.d.length:0,Ol={};for(Al=0;Al<Rl;Al+=1)Cl(Al),Tl.d.dataProps[Al].p.setGroupProperty(Pl);function Ml(Ll){return Ll==="Color"||Ll==="color"?Ml.color:Ll==="Opacity"||Ll==="opacity"?Ml.opacity:Ll==="Stroke Width"||Ll==="stroke width"?Ml.strokeWidth:null}return Object.defineProperties(Ml,{color:{get:ExpressionPropertyInterface(Tl.c)},opacity:{get:ExpressionPropertyInterface(Tl.o)},strokeWidth:{get:ExpressionPropertyInterface(Tl.w)},dash:{get:function(){return Ol}},_name:{value:Sl.nm},mn:{value:Sl.mn}}),Tl.c.setGroupProperty(PropertyInterface("Color",xl)),Tl.o.setGroupProperty(PropertyInterface("Opacity",xl)),Tl.w.setGroupProperty(PropertyInterface("Stroke Width",xl)),Ml}function Zs(Sl,Tl,Il){function Al(Pl){return Pl===Sl.e.ix||Pl==="End"||Pl==="end"?Al.end:Pl===Sl.s.ix?Al.start:Pl===Sl.o.ix?Al.offset:null}var xl=propertyGroupFactory(Al,Il);return Al.propertyIndex=Sl.ix,Tl.s.setGroupProperty(PropertyInterface("Start",xl)),Tl.e.setGroupProperty(PropertyInterface("End",xl)),Tl.o.setGroupProperty(PropertyInterface("Offset",xl)),Al.propertyIndex=Sl.ix,Al.propertyGroup=Il,Object.defineProperties(Al,{start:{get:ExpressionPropertyInterface(Tl.s)},end:{get:ExpressionPropertyInterface(Tl.e)},offset:{get:ExpressionPropertyInterface(Tl.o)},_name:{value:Sl.nm}}),Al.mn=Sl.mn,Al}function yl(Sl,Tl,Il){function Al(Pl){return Sl.a.ix===Pl||Pl==="Anchor Point"?Al.anchorPoint:Sl.o.ix===Pl||Pl==="Opacity"?Al.opacity:Sl.p.ix===Pl||Pl==="Position"?Al.position:Sl.r.ix===Pl||Pl==="Rotation"||Pl==="ADBE Vector Rotation"?Al.rotation:Sl.s.ix===Pl||Pl==="Scale"?Al.scale:Sl.sk&&Sl.sk.ix===Pl||Pl==="Skew"?Al.skew:Sl.sa&&Sl.sa.ix===Pl||Pl==="Skew Axis"?Al.skewAxis:null}var xl=propertyGroupFactory(Al,Il);return Tl.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",xl)),Tl.transform.mProps.p.setGroupProperty(PropertyInterface("Position",xl)),Tl.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",xl)),Tl.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",xl)),Tl.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",xl)),Tl.transform.mProps.sk&&(Tl.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",xl)),Tl.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",xl))),Tl.transform.op.setGroupProperty(PropertyInterface("Opacity",xl)),Object.defineProperties(Al,{opacity:{get:ExpressionPropertyInterface(Tl.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Tl.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Tl.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Tl.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Tl.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Tl.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Tl.transform.mProps.sa)},_name:{value:Sl.nm}}),Al.ty="tr",Al.mn=Sl.mn,Al.propertyGroup=Il,Al}function Js(Sl,Tl,Il){function Al(Cl){return Sl.p.ix===Cl?Al.position:Sl.s.ix===Cl?Al.size:null}var xl=propertyGroupFactory(Al,Il);Al.propertyIndex=Sl.ix;var Pl=Tl.sh.ty==="tm"?Tl.sh.prop:Tl.sh;return Pl.s.setGroupProperty(PropertyInterface("Size",xl)),Pl.p.setGroupProperty(PropertyInterface("Position",xl)),Object.defineProperties(Al,{size:{get:ExpressionPropertyInterface(Pl.s)},position:{get:ExpressionPropertyInterface(Pl.p)},_name:{value:Sl.nm}}),Al.mn=Sl.mn,Al}function $l(Sl,Tl,Il){function Al(Cl){return Sl.p.ix===Cl?Al.position:Sl.r.ix===Cl?Al.rotation:Sl.pt.ix===Cl?Al.points:Sl.or.ix===Cl||Cl==="ADBE Vector Star Outer Radius"?Al.outerRadius:Sl.os.ix===Cl?Al.outerRoundness:!Sl.ir||Sl.ir.ix!==Cl&&Cl!=="ADBE Vector Star Inner Radius"?Sl.is&&Sl.is.ix===Cl?Al.innerRoundness:null:Al.innerRadius}var xl=propertyGroupFactory(Al,Il),Pl=Tl.sh.ty==="tm"?Tl.sh.prop:Tl.sh;return Al.propertyIndex=Sl.ix,Pl.or.setGroupProperty(PropertyInterface("Outer Radius",xl)),Pl.os.setGroupProperty(PropertyInterface("Outer Roundness",xl)),Pl.pt.setGroupProperty(PropertyInterface("Points",xl)),Pl.p.setGroupProperty(PropertyInterface("Position",xl)),Pl.r.setGroupProperty(PropertyInterface("Rotation",xl)),Sl.ir&&(Pl.ir.setGroupProperty(PropertyInterface("Inner Radius",xl)),Pl.is.setGroupProperty(PropertyInterface("Inner Roundness",xl))),Object.defineProperties(Al,{position:{get:ExpressionPropertyInterface(Pl.p)},rotation:{get:ExpressionPropertyInterface(Pl.r)},points:{get:ExpressionPropertyInterface(Pl.pt)},outerRadius:{get:ExpressionPropertyInterface(Pl.or)},outerRoundness:{get:ExpressionPropertyInterface(Pl.os)},innerRadius:{get:ExpressionPropertyInterface(Pl.ir)},innerRoundness:{get:ExpressionPropertyInterface(Pl.is)},_name:{value:Sl.nm}}),Al.mn=Sl.mn,Al}function El(Sl,Tl,Il){function Al(Cl){return Sl.p.ix===Cl?Al.position:Sl.r.ix===Cl?Al.roundness:Sl.s.ix===Cl||Cl==="Size"||Cl==="ADBE Vector Rect Size"?Al.size:null}var xl=propertyGroupFactory(Al,Il),Pl=Tl.sh.ty==="tm"?Tl.sh.prop:Tl.sh;return Al.propertyIndex=Sl.ix,Pl.p.setGroupProperty(PropertyInterface("Position",xl)),Pl.s.setGroupProperty(PropertyInterface("Size",xl)),Pl.r.setGroupProperty(PropertyInterface("Rotation",xl)),Object.defineProperties(Al,{position:{get:ExpressionPropertyInterface(Pl.p)},roundness:{get:ExpressionPropertyInterface(Pl.r)},size:{get:ExpressionPropertyInterface(Pl.s)},_name:{value:Sl.nm}}),Al.mn=Sl.mn,Al}function wl(Sl,Tl,Il){function Al(Cl){return Sl.r.ix===Cl||Cl==="Round Corners 1"?Al.radius:null}var xl=propertyGroupFactory(Al,Il),Pl=Tl;return Al.propertyIndex=Sl.ix,Pl.rd.setGroupProperty(PropertyInterface("Radius",xl)),Object.defineProperties(Al,{radius:{get:ExpressionPropertyInterface(Pl.rd)},_name:{value:Sl.nm}}),Al.mn=Sl.mn,Al}function _l(Sl,Tl,Il){function Al(Cl){return Sl.c.ix===Cl||Cl==="Copies"?Al.copies:Sl.o.ix===Cl||Cl==="Offset"?Al.offset:null}var xl=propertyGroupFactory(Al,Il),Pl=Tl;return Al.propertyIndex=Sl.ix,Pl.c.setGroupProperty(PropertyInterface("Copies",xl)),Pl.o.setGroupProperty(PropertyInterface("Offset",xl)),Object.defineProperties(Al,{copies:{get:ExpressionPropertyInterface(Pl.c)},offset:{get:ExpressionPropertyInterface(Pl.o)},_name:{value:Sl.nm}}),Al.mn=Sl.mn,Al}return function(Sl,Tl,Il){var Al;function xl(Pl){if(typeof Pl=="number")return(Pl=Pl===void 0?1:Pl)===0?Il:Al[Pl-1];for(var Cl=0,Rl=Al.length;Cl<Rl;){if(Al[Cl]._name===Pl)return Al[Cl];Cl+=1}return null}return xl.propertyGroup=propertyGroupFactory(xl,function(){return Il}),Al=at(Sl,Tl,xl.propertyGroup),xl.numProperties=Al.length,xl._name="Contents",xl}}(),TextExpressionInterface=function(at){var zs;function Ws(qs){switch(qs){case"ADBE Text Document":return Ws.sourceText;default:return null}}return Object.defineProperty(Ws,"sourceText",{get:function(){at.textProperty.getValue();var qs=at.textProperty.currentData.t;return zs&&qs===zs.value||((zs=new String(qs)).value=qs||new String(qs),Object.defineProperty(zs,"style",{get:function(){return{fillColor:at.textProperty.currentData.fc}}})),zs}}),Ws};function _typeof(at){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zs){return typeof zs}:function(zs){return zs&&typeof Symbol=="function"&&zs.constructor===Symbol&&zs!==Symbol.prototype?"symbol":typeof zs})(at)}var FootageInterface=(dataInterfaceFactory=function(at){function zs(Ws){return Ws==="Outline"?zs.outlineInterface():null}return zs._name="Outline",zs.outlineInterface=function(Ws){var qs="",Ys=Ws.getFootageData();function Xs(Zs){if(Ys[Zs])return qs=Zs,_typeof(Ys=Ys[Zs])==="object"?Xs:Ys;var yl=Zs.indexOf(qs);if(yl!==-1){var Js=parseInt(Zs.substr(yl+qs.length),10);return _typeof(Ys=Ys[Js])==="object"?Xs:Ys}return""}return function(){return qs="",Ys=Ws.getFootageData(),Xs}}(at),zs},function(at){function zs(Ws){return Ws==="Data"?zs.dataInterface:null}return zs._name="Data",zs.dataInterface=dataInterfaceFactory(at),zs}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(at){return interfaces[at]||null}var expressionHelpers={searchExpressions:function(at,zs,Ws){zs.x&&(Ws.k=!0,Ws.x=!0,Ws.initiateExpression=ExpressionManager.initiateExpression,Ws.effectsSequence.push(Ws.initiateExpression(at,zs,Ws).bind(Ws)))},getSpeedAtTime:function(at){var zs=this.getValueAtTime(at),Ws=this.getValueAtTime(at+-.01),qs=0;if(zs.length){var Ys;for(Ys=0;Ys<zs.length;Ys+=1)qs+=Math.pow(Ws[Ys]-zs[Ys],2);qs=100*Math.sqrt(qs)}else qs=0;return qs},getVelocityAtTime:function(at){if(this.vel!==void 0)return this.vel;var zs,Ws,qs=this.getValueAtTime(at),Ys=this.getValueAtTime(at+-.001);if(qs.length)for(zs=createTypedArray("float32",qs.length),Ws=0;Ws<qs.length;Ws+=1)zs[Ws]=(Ys[Ws]-qs[Ws])/-.001;else zs=(Ys-qs)/-.001;return zs},getValueAtTime:function(at){return at*=this.elem.globalData.frameRate,(at-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<at?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(at,this._cachingAtTime),this._cachingAtTime.lastFrame=at),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(at){this.propertyGroup=at}};function addPropertyDecorator(){function at(wl,_l,Sl){if(!this.k||!this.keyframes)return this.pv;wl=wl?wl.toLowerCase():"";var Tl,Il,Al,xl,Pl,Cl=this.comp.renderedFrame,Rl=this.keyframes,Ol=Rl[Rl.length-1].t;if(Cl<=Ol)return this.pv;if(Sl?Il=Ol-(Tl=_l?Math.abs(Ol-this.elem.comp.globalData.frameRate*_l):Math.max(0,Ol-this.elem.data.ip)):((!_l||_l>Rl.length-1)&&(_l=Rl.length-1),Tl=Ol-(Il=Rl[Rl.length-1-_l].t)),wl==="pingpong"){if(Math.floor((Cl-Il)/Tl)%2!=0)return this.getValueAtTime((Tl-(Cl-Il)%Tl+Il)/this.comp.globalData.frameRate,0)}else{if(wl==="offset"){var Ml=this.getValueAtTime(Il/this.comp.globalData.frameRate,0),Ll=this.getValueAtTime(Ol/this.comp.globalData.frameRate,0),Bl=this.getValueAtTime(((Cl-Il)%Tl+Il)/this.comp.globalData.frameRate,0),Wl=Math.floor((Cl-Il)/Tl);if(this.pv.length){for(xl=(Pl=new Array(Ml.length)).length,Al=0;Al<xl;Al+=1)Pl[Al]=(Ll[Al]-Ml[Al])*Wl+Bl[Al];return Pl}return(Ll-Ml)*Wl+Bl}if(wl==="continue"){var Yl=this.getValueAtTime(Ol/this.comp.globalData.frameRate,0),Kl=this.getValueAtTime((Ol-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(xl=(Pl=new Array(Yl.length)).length,Al=0;Al<xl;Al+=1)Pl[Al]=Yl[Al]+(Yl[Al]-Kl[Al])*((Cl-Ol)/this.comp.globalData.frameRate)/5e-4;return Pl}return Yl+(Cl-Ol)/.001*(Yl-Kl)}}return this.getValueAtTime(((Cl-Il)%Tl+Il)/this.comp.globalData.frameRate,0)}function zs(wl,_l,Sl){if(!this.k)return this.pv;wl=wl?wl.toLowerCase():"";var Tl,Il,Al,xl,Pl,Cl=this.comp.renderedFrame,Rl=this.keyframes,Ol=Rl[0].t;if(Cl>=Ol)return this.pv;if(Sl?Il=Ol+(Tl=_l?Math.abs(this.elem.comp.globalData.frameRate*_l):Math.max(0,this.elem.data.op-Ol)):((!_l||_l>Rl.length-1)&&(_l=Rl.length-1),Tl=(Il=Rl[_l].t)-Ol),wl==="pingpong"){if(Math.floor((Ol-Cl)/Tl)%2==0)return this.getValueAtTime(((Ol-Cl)%Tl+Ol)/this.comp.globalData.frameRate,0)}else{if(wl==="offset"){var Ml=this.getValueAtTime(Ol/this.comp.globalData.frameRate,0),Ll=this.getValueAtTime(Il/this.comp.globalData.frameRate,0),Bl=this.getValueAtTime((Tl-(Ol-Cl)%Tl+Ol)/this.comp.globalData.frameRate,0),Wl=Math.floor((Ol-Cl)/Tl)+1;if(this.pv.length){for(xl=(Pl=new Array(Ml.length)).length,Al=0;Al<xl;Al+=1)Pl[Al]=Bl[Al]-(Ll[Al]-Ml[Al])*Wl;return Pl}return Bl-(Ll-Ml)*Wl}if(wl==="continue"){var Yl=this.getValueAtTime(Ol/this.comp.globalData.frameRate,0),Kl=this.getValueAtTime((Ol+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(xl=(Pl=new Array(Yl.length)).length,Al=0;Al<xl;Al+=1)Pl[Al]=Yl[Al]+(Yl[Al]-Kl[Al])*(Ol-Cl)/.001;return Pl}return Yl+(Yl-Kl)*(Ol-Cl)/.001}}return this.getValueAtTime((Tl-((Ol-Cl)%Tl+Ol))/this.comp.globalData.frameRate,0)}function Ws(wl,_l){if(!this.k)return this.pv;if(wl=.5*(wl||.4),(_l=Math.floor(_l||5))<=1)return this.pv;var Sl,Tl,Il=this.comp.renderedFrame/this.comp.globalData.frameRate,Al=Il-wl,xl=_l>1?(Il+wl-Al)/(_l-1):1,Pl=0,Cl=0;for(Sl=this.pv.length?createTypedArray("float32",this.pv.length):0;Pl<_l;){if(Tl=this.getValueAtTime(Al+Pl*xl),this.pv.length)for(Cl=0;Cl<this.pv.length;Cl+=1)Sl[Cl]+=Tl[Cl];else Sl+=Tl;Pl+=1}if(this.pv.length)for(Cl=0;Cl<this.pv.length;Cl+=1)Sl[Cl]/=_l;else Sl/=_l;return Sl}function qs(wl){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var _l=this._transformCachingAtTime.v;if(_l.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Sl=this.a.getValueAtTime(wl);_l.translate(-Sl[0]*this.a.mult,-Sl[1]*this.a.mult,Sl[2]*this.a.mult)}if(this.appliedTransformations<2){var Tl=this.s.getValueAtTime(wl);_l.scale(Tl[0]*this.s.mult,Tl[1]*this.s.mult,Tl[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Il=this.sk.getValueAtTime(wl),Al=this.sa.getValueAtTime(wl);_l.skewFromAxis(-Il*this.sk.mult,Al*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var xl=this.r.getValueAtTime(wl);_l.rotate(-xl*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Pl=this.rz.getValueAtTime(wl),Cl=this.ry.getValueAtTime(wl),Rl=this.rx.getValueAtTime(wl),Ol=this.or.getValueAtTime(wl);_l.rotateZ(-Pl*this.rz.mult).rotateY(Cl*this.ry.mult).rotateX(Rl*this.rx.mult).rotateZ(-Ol[2]*this.or.mult).rotateY(Ol[1]*this.or.mult).rotateX(Ol[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Ml=this.px.getValueAtTime(wl),Ll=this.py.getValueAtTime(wl);if(this.data.p.z){var Bl=this.pz.getValueAtTime(wl);_l.translate(Ml*this.px.mult,Ll*this.py.mult,-Bl*this.pz.mult)}else _l.translate(Ml*this.px.mult,Ll*this.py.mult,0)}else{var Wl=this.p.getValueAtTime(wl);_l.translate(Wl[0]*this.p.mult,Wl[1]*this.p.mult,-Wl[2]*this.p.mult)}return _l}function Ys(){return this.v.clone(new Matrix)}var Xs=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(wl,_l,Sl){var Tl=Xs(wl,_l,Sl);return Tl.dynamicProperties.length?Tl.getValueAtTime=qs.bind(Tl):Tl.getValueAtTime=Ys.bind(Tl),Tl.setGroupProperty=expressionHelpers.setGroupProperty,Tl};var Zs=PropertyFactory.getProp;PropertyFactory.getProp=function(wl,_l,Sl,Tl,Il){var Al=Zs(wl,_l,Sl,Tl,Il);Al.kf?Al.getValueAtTime=expressionHelpers.getValueAtTime.bind(Al):Al.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Al),Al.setGroupProperty=expressionHelpers.setGroupProperty,Al.loopOut=at,Al.loopIn=zs,Al.smooth=Ws,Al.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Al),Al.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Al),Al.numKeys=_l.a===1?_l.k.length:0,Al.propertyIndex=_l.ix;var xl=0;return Sl!==0&&(xl=createTypedArray("float32",_l.a===1?_l.k[0].s.length:_l.k.length)),Al._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:xl},expressionHelpers.searchExpressions(wl,_l,Al),Al.k&&Il.addDynamicProperty(Al),Al};var yl=ShapePropertyFactory.getConstructorFunction(),Js=ShapePropertyFactory.getKeyframedConstructorFunction();function $l(){}$l.prototype={vertices:function(wl,_l){this.k&&this.getValue();var Sl,Tl=this.v;_l!==void 0&&(Tl=this.getValueAtTime(_l,0));var Il=Tl._length,Al=Tl[wl],xl=Tl.v,Pl=createSizedArray(Il);for(Sl=0;Sl<Il;Sl+=1)Pl[Sl]=wl==="i"||wl==="o"?[Al[Sl][0]-xl[Sl][0],Al[Sl][1]-xl[Sl][1]]:[Al[Sl][0],Al[Sl][1]];return Pl},points:function(wl){return this.vertices("v",wl)},inTangents:function(wl){return this.vertices("i",wl)},outTangents:function(wl){return this.vertices("o",wl)},isClosed:function(){return this.v.c},pointOnPath:function(wl,_l){var Sl=this.v;_l!==void 0&&(Sl=this.getValueAtTime(_l,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Sl));for(var Tl,Il=this._segmentsLength,Al=Il.lengths,xl=Il.totalLength*wl,Pl=0,Cl=Al.length,Rl=0;Pl<Cl;){if(Rl+Al[Pl].addedLength>xl){var Ol=Pl,Ml=Sl.c&&Pl===Cl-1?0:Pl+1,Ll=(xl-Rl)/Al[Pl].addedLength;Tl=bez.getPointInSegment(Sl.v[Ol],Sl.v[Ml],Sl.o[Ol],Sl.i[Ml],Ll,Al[Pl]);break}Rl+=Al[Pl].addedLength,Pl+=1}return Tl||(Tl=Sl.c?[Sl.v[0][0],Sl.v[0][1]]:[Sl.v[Sl._length-1][0],Sl.v[Sl._length-1][1]]),Tl},vectorOnPath:function(wl,_l,Sl){wl==1?wl=this.v.c:wl==0&&(wl=.999);var Tl=this.pointOnPath(wl,_l),Il=this.pointOnPath(wl+.001,_l),Al=Il[0]-Tl[0],xl=Il[1]-Tl[1],Pl=Math.sqrt(Math.pow(Al,2)+Math.pow(xl,2));return Pl===0?[0,0]:Sl==="tangent"?[Al/Pl,xl/Pl]:[-xl/Pl,Al/Pl]},tangentOnPath:function(wl,_l){return this.vectorOnPath(wl,_l,"tangent")},normalOnPath:function(wl,_l){return this.vectorOnPath(wl,_l,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([$l],yl),extendPrototype([$l],Js),Js.prototype.getValueAtTime=function(wl){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),wl*=this.elem.globalData.frameRate,(wl-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<wl?this._caching.lastIndex:0,this._cachingAtTime.lastTime=wl,this.interpolateShape(wl,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},Js.prototype.initiateExpression=ExpressionManager.initiateExpression;var El=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(wl,_l,Sl,Tl,Il){var Al=El(wl,_l,Sl,Tl,Il);return Al.propertyIndex=_l.ix,Al.lock=!1,Sl===3?expressionHelpers.searchExpressions(wl,_l.pt,Al):Sl===4&&expressionHelpers.searchExpressions(wl,_l.ks,Al),Al.k&&wl.addDynamicProperty(Al),Al}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(at,zs){var Ws=this.calculateExpression(zs);if(at.t!==Ws){var qs={};return this.copyData(qs,at),qs.t=Ws.toString(),qs.__complete=!1,qs}return at},TextProperty.prototype.searchProperty=function(){var at=this.searchKeyframes(),zs=this.searchExpressions();return this.kf=at||zs,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(at,zs){var Ws,qs,Ys=createNS("feMerge");for(Ys.setAttribute("result",at),qs=0;qs<zs.length;qs+=1)(Ws=createNS("feMergeNode")).setAttribute("in",zs[qs]),Ys.appendChild(Ws),Ys.appendChild(Ws);return Ys}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(at,zs,Ws,qs,Ys){this.filterManager=zs;var Xs=createNS("feColorMatrix");Xs.setAttribute("type","matrix"),Xs.setAttribute("color-interpolation-filters","linearRGB"),Xs.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Xs,Xs.setAttribute("result",qs+"_tint_1"),at.appendChild(Xs),(Xs=createNS("feColorMatrix")).setAttribute("type","matrix"),Xs.setAttribute("color-interpolation-filters","sRGB"),Xs.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Xs.setAttribute("result",qs+"_tint_2"),at.appendChild(Xs),this.matrixFilter=Xs;var Zs=this.createMergeNode(qs,[Ys,qs+"_tint_1",qs+"_tint_2"]);at.appendChild(Zs)}function SVGFillFilter(at,zs,Ws,qs){this.filterManager=zs;var Ys=createNS("feColorMatrix");Ys.setAttribute("type","matrix"),Ys.setAttribute("color-interpolation-filters","sRGB"),Ys.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Ys.setAttribute("result",qs),at.appendChild(Ys),this.matrixFilter=Ys}function SVGStrokeEffect(at,zs,Ws){this.initialized=!1,this.filterManager=zs,this.elem=Ws,this.paths=[]}function SVGTritoneFilter(at,zs,Ws,qs){this.filterManager=zs;var Ys=createNS("feColorMatrix");Ys.setAttribute("type","matrix"),Ys.setAttribute("color-interpolation-filters","linearRGB"),Ys.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),at.appendChild(Ys);var Xs=createNS("feComponentTransfer");Xs.setAttribute("color-interpolation-filters","sRGB"),Xs.setAttribute("result",qs),this.matrixFilter=Xs;var Zs=createNS("feFuncR");Zs.setAttribute("type","table"),Xs.appendChild(Zs),this.feFuncR=Zs;var yl=createNS("feFuncG");yl.setAttribute("type","table"),Xs.appendChild(yl),this.feFuncG=yl;var Js=createNS("feFuncB");Js.setAttribute("type","table"),Xs.appendChild(Js),this.feFuncB=Js,at.appendChild(Xs)}function SVGProLevelsFilter(at,zs,Ws,qs){this.filterManager=zs;var Ys=this.filterManager.effectElements,Xs=createNS("feComponentTransfer");(Ys[10].p.k||Ys[10].p.v!==0||Ys[11].p.k||Ys[11].p.v!==1||Ys[12].p.k||Ys[12].p.v!==1||Ys[13].p.k||Ys[13].p.v!==0||Ys[14].p.k||Ys[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Xs)),(Ys[17].p.k||Ys[17].p.v!==0||Ys[18].p.k||Ys[18].p.v!==1||Ys[19].p.k||Ys[19].p.v!==1||Ys[20].p.k||Ys[20].p.v!==0||Ys[21].p.k||Ys[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Xs)),(Ys[24].p.k||Ys[24].p.v!==0||Ys[25].p.k||Ys[25].p.v!==1||Ys[26].p.k||Ys[26].p.v!==1||Ys[27].p.k||Ys[27].p.v!==0||Ys[28].p.k||Ys[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Xs)),(Ys[31].p.k||Ys[31].p.v!==0||Ys[32].p.k||Ys[32].p.v!==1||Ys[33].p.k||Ys[33].p.v!==1||Ys[34].p.k||Ys[34].p.v!==0||Ys[35].p.k||Ys[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Xs)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Xs.setAttribute("color-interpolation-filters","sRGB"),at.appendChild(Xs)),(Ys[3].p.k||Ys[3].p.v!==0||Ys[4].p.k||Ys[4].p.v!==1||Ys[5].p.k||Ys[5].p.v!==1||Ys[6].p.k||Ys[6].p.v!==0||Ys[7].p.k||Ys[7].p.v!==1)&&((Xs=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),Xs.setAttribute("result",qs),at.appendChild(Xs),this.feFuncRComposed=this.createFeFunc("feFuncR",Xs),this.feFuncGComposed=this.createFeFunc("feFuncG",Xs),this.feFuncBComposed=this.createFeFunc("feFuncB",Xs))}function SVGDropShadowEffect(at,zs,Ws,qs,Ys){var Xs=zs.container.globalData.renderConfig.filterSize,Zs=zs.data.fs||Xs;at.setAttribute("x",Zs.x||Xs.x),at.setAttribute("y",Zs.y||Xs.y),at.setAttribute("width",Zs.width||Xs.width),at.setAttribute("height",Zs.height||Xs.height),this.filterManager=zs;var yl=createNS("feGaussianBlur");yl.setAttribute("in","SourceAlpha"),yl.setAttribute("result",qs+"_drop_shadow_1"),yl.setAttribute("stdDeviation","0"),this.feGaussianBlur=yl,at.appendChild(yl);var Js=createNS("feOffset");Js.setAttribute("dx","25"),Js.setAttribute("dy","0"),Js.setAttribute("in",qs+"_drop_shadow_1"),Js.setAttribute("result",qs+"_drop_shadow_2"),this.feOffset=Js,at.appendChild(Js);var $l=createNS("feFlood");$l.setAttribute("flood-color","#00ff00"),$l.setAttribute("flood-opacity","1"),$l.setAttribute("result",qs+"_drop_shadow_3"),this.feFlood=$l,at.appendChild($l);var El=createNS("feComposite");El.setAttribute("in",qs+"_drop_shadow_3"),El.setAttribute("in2",qs+"_drop_shadow_2"),El.setAttribute("operator","in"),El.setAttribute("result",qs+"_drop_shadow_4"),at.appendChild(El);var wl=this.createMergeNode(qs,[qs+"_drop_shadow_4",Ys]);at.appendChild(wl)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(at){if(at||this.filterManager._mdf){var zs=this.filterManager.effectElements[0].p.v,Ws=this.filterManager.effectElements[1].p.v,qs=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+qs+" 0"),this.matrixFilter.setAttribute("values",Ws[0]-zs[0]+" 0 0 0 "+zs[0]+" "+(Ws[1]-zs[1])+" 0 0 0 "+zs[1]+" "+(Ws[2]-zs[2])+" 0 0 0 "+zs[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(at){if(at||this.filterManager._mdf){var zs=this.filterManager.effectElements[2].p.v,Ws=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+zs[0]+" 0 0 0 0 "+zs[1]+" 0 0 0 0 "+zs[2]+" 0 0 0 "+Ws+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var at,zs,Ws,qs,Ys=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(qs=this.elem.maskManager.masksProperties.length,Ws=0):qs=(Ws=this.filterManager.effectElements[0].p.v-1)+1,(zs=createNS("g")).setAttribute("fill","none"),zs.setAttribute("stroke-linecap","round"),zs.setAttribute("stroke-dashoffset",1);Ws<qs;Ws+=1)at=createNS("path"),zs.appendChild(at),this.paths.push({p:at,m:Ws});if(this.filterManager.effectElements[10].p.v===3){var Xs=createNS("mask"),Zs=createElementID();Xs.setAttribute("id",Zs),Xs.setAttribute("mask-type","alpha"),Xs.appendChild(zs),this.elem.globalData.defs.appendChild(Xs);var yl=createNS("g");for(yl.setAttribute("mask","url("+getLocationHref()+"#"+Zs+")");Ys[0];)yl.appendChild(Ys[0]);this.elem.layerElement.appendChild(yl),this.masker=Xs,zs.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Ys=this.elem.layerElement.children||this.elem.layerElement.childNodes;Ys.length;)this.elem.layerElement.removeChild(Ys[0]);this.elem.layerElement.appendChild(zs),this.elem.layerElement.removeAttribute("mask"),zs.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=zs},SVGStrokeEffect.prototype.renderFrame=function(at){var zs;this.initialized||this.initialize();var Ws,qs,Ys=this.paths.length;for(zs=0;zs<Ys;zs+=1)if(this.paths[zs].m!==-1&&(Ws=this.elem.maskManager.viewData[this.paths[zs].m],qs=this.paths[zs].p,(at||this.filterManager._mdf||Ws.prop._mdf)&&qs.setAttribute("d",Ws.lastPath),at||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Ws.prop._mdf)){var Xs;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Zs=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),yl=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),Js=qs.getTotalLength();Xs="0 0 0 "+Js*Zs+" ";var $l,El=Js*(yl-Zs),wl=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,_l=Math.floor(El/wl);for($l=0;$l<_l;$l+=1)Xs+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";Xs+="0 "+10*Js+" 0 0"}else Xs="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;qs.setAttribute("stroke-dasharray",Xs)}if((at||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(at||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(at||this.filterManager.effectElements[3].p._mdf)){var Sl=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*Sl[0])+","+bmFloor(255*Sl[1])+","+bmFloor(255*Sl[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(at){if(at||this.filterManager._mdf){var zs=this.filterManager.effectElements[0].p.v,Ws=this.filterManager.effectElements[1].p.v,qs=this.filterManager.effectElements[2].p.v,Ys=qs[0]+" "+Ws[0]+" "+zs[0],Xs=qs[1]+" "+Ws[1]+" "+zs[1],Zs=qs[2]+" "+Ws[2]+" "+zs[2];this.feFuncR.setAttribute("tableValues",Ys),this.feFuncG.setAttribute("tableValues",Xs),this.feFuncB.setAttribute("tableValues",Zs)}},SVGProLevelsFilter.prototype.createFeFunc=function(at,zs){var Ws=createNS(at);return Ws.setAttribute("type","table"),zs.appendChild(Ws),Ws},SVGProLevelsFilter.prototype.getTableValue=function(at,zs,Ws,qs,Ys){for(var Xs,Zs,yl=0,Js=Math.min(at,zs),$l=Math.max(at,zs),El=Array.call(null,{length:256}),wl=0,_l=Ys-qs,Sl=zs-at;yl<=256;)Zs=(Xs=yl/256)<=Js?Sl<0?Ys:qs:Xs>=$l?Sl<0?qs:Ys:qs+_l*Math.pow((Xs-at)/Sl,1/Ws),El[wl]=Zs,wl+=1,yl+=256/255;return El.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(at){if(at||this.filterManager._mdf){var zs,Ws=this.filterManager.effectElements;this.feFuncRComposed&&(at||Ws[3].p._mdf||Ws[4].p._mdf||Ws[5].p._mdf||Ws[6].p._mdf||Ws[7].p._mdf)&&(zs=this.getTableValue(Ws[3].p.v,Ws[4].p.v,Ws[5].p.v,Ws[6].p.v,Ws[7].p.v),this.feFuncRComposed.setAttribute("tableValues",zs),this.feFuncGComposed.setAttribute("tableValues",zs),this.feFuncBComposed.setAttribute("tableValues",zs)),this.feFuncR&&(at||Ws[10].p._mdf||Ws[11].p._mdf||Ws[12].p._mdf||Ws[13].p._mdf||Ws[14].p._mdf)&&(zs=this.getTableValue(Ws[10].p.v,Ws[11].p.v,Ws[12].p.v,Ws[13].p.v,Ws[14].p.v),this.feFuncR.setAttribute("tableValues",zs)),this.feFuncG&&(at||Ws[17].p._mdf||Ws[18].p._mdf||Ws[19].p._mdf||Ws[20].p._mdf||Ws[21].p._mdf)&&(zs=this.getTableValue(Ws[17].p.v,Ws[18].p.v,Ws[19].p.v,Ws[20].p.v,Ws[21].p.v),this.feFuncG.setAttribute("tableValues",zs)),this.feFuncB&&(at||Ws[24].p._mdf||Ws[25].p._mdf||Ws[26].p._mdf||Ws[27].p._mdf||Ws[28].p._mdf)&&(zs=this.getTableValue(Ws[24].p.v,Ws[25].p.v,Ws[26].p.v,Ws[27].p.v,Ws[28].p.v),this.feFuncB.setAttribute("tableValues",zs)),this.feFuncA&&(at||Ws[31].p._mdf||Ws[32].p._mdf||Ws[33].p._mdf||Ws[34].p._mdf||Ws[35].p._mdf)&&(zs=this.getTableValue(Ws[31].p.v,Ws[32].p.v,Ws[33].p.v,Ws[34].p.v,Ws[35].p.v),this.feFuncA.setAttribute("tableValues",zs))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(at){if(at||this.filterManager._mdf){if((at||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),at||this.filterManager.effectElements[0].p._mdf){var zs=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*zs[0]),Math.round(255*zs[1]),Math.round(255*zs[2])))}if((at||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),at||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var Ws=this.filterManager.effectElements[3].p.v,qs=(this.filterManager.effectElements[2].p.v-90)*degToRads,Ys=Ws*Math.cos(qs),Xs=Ws*Math.sin(qs);this.feOffset.setAttribute("dx",Ys),this.feOffset.setAttribute("dy",Xs)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(at,zs,Ws){this.initialized=!1,this.filterManager=zs,this.filterElem=at,this.elem=Ws,Ws.matteElement=createNS("g"),Ws.matteElement.appendChild(Ws.layerElement),Ws.matteElement.appendChild(Ws.transformedElement),Ws.baseElement=Ws.matteElement}function SVGGaussianBlurEffect(at,zs,Ws,qs){at.setAttribute("x","-100%"),at.setAttribute("y","-100%"),at.setAttribute("width","300%"),at.setAttribute("height","300%"),this.filterManager=zs;var Ys=createNS("feGaussianBlur");Ys.setAttribute("result",qs),at.appendChild(Ys),this.feGaussianBlur=Ys}function TransformEffect(){}function SVGTransformEffect(at,zs){this.init(zs)}function CVTransformEffect(at){this.init(at)}return SVGMatte3Effect.prototype.findSymbol=function(at){for(var zs=0,Ws=_svgMatteSymbols.length;zs<Ws;){if(_svgMatteSymbols[zs]===at)return _svgMatteSymbols[zs];zs+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(at,zs){var Ws=at.layerElement.parentNode;if(Ws){for(var qs,Ys=Ws.children,Xs=0,Zs=Ys.length;Xs<Zs&&Ys[Xs]!==at.layerElement;)Xs+=1;Xs<=Zs-2&&(qs=Ys[Xs+1]);var yl=createNS("use");yl.setAttribute("href","#"+zs),qs?Ws.insertBefore(yl,qs):Ws.appendChild(yl)}},SVGMatte3Effect.prototype.setElementAsMask=function(at,zs){if(!this.findSymbol(zs)){var Ws=createElementID(),qs=createNS("mask");qs.setAttribute("id",zs.layerId),qs.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(zs);var Ys=at.globalData.defs;Ys.appendChild(qs);var Xs=createNS("symbol");Xs.setAttribute("id",Ws),this.replaceInParent(zs,Ws),Xs.appendChild(zs.layerElement),Ys.appendChild(Xs);var Zs=createNS("use");Zs.setAttribute("href","#"+Ws),qs.appendChild(Zs),zs.data.hd=!1,zs.show()}at.setMatte(zs.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var at=this.filterManager.effectElements[0].p.v,zs=this.elem.comp.elements,Ws=0,qs=zs.length;Ws<qs;)zs[Ws]&&zs[Ws].data.ind===at&&this.setElementAsMask(this.elem,zs[Ws]),Ws+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(at){if(at||this.filterManager._mdf){var zs=.3*this.filterManager.effectElements[0].p.v,Ws=this.filterManager.effectElements[1].p.v,qs=Ws==3?0:zs,Ys=Ws==2?0:zs;this.feGaussianBlur.setAttribute("stdDeviation",qs+" "+Ys);var Xs=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Xs)}},TransformEffect.prototype.init=function(at){this.effectsManager=at,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(at){if(this._opMdf=!1,this._mdf=!1,at||this.effectsManager._mdf){var zs=this.effectsManager.effectElements,Ws=zs[0].p.v,qs=zs[1].p.v,Ys=zs[2].p.v===1,Xs=zs[3].p.v,Zs=Ys?Xs:zs[4].p.v,yl=zs[5].p.v,Js=zs[6].p.v,$l=zs[7].p.v;this.matrix.reset(),this.matrix.translate(-Ws[0],-Ws[1],Ws[2]),this.matrix.scale(.01*Zs,.01*Xs,1),this.matrix.rotate(-$l*degToRads),this.matrix.skewFromAxis(-yl*degToRads,(Js+90)*degToRads),this.matrix.translate(qs[0],qs[1],0),this._mdf=!0,this.opacity!==zs[8].p.v&&(this.opacity=zs[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}),REACT_LOTTIE_PLAYER_VERSION="3.6.0",LOTTIE_WEB_VERSION="^5.12.2",PlayerState,PlayerEvent;function parseSrc(at){if(typeof at=="object")return at;try{return JSON.parse(at)}catch{}try{return new URL(at).toString()}catch{}return at}(function(at){at.Loading="loading",at.Playing="playing",at.Paused="paused",at.Stopped="stopped",at.Frozen="frozen",at.Error="error"})(PlayerState||(PlayerState={})),function(at){at.Load="load",at.InstanceSaved="instanceSaved",at.Error="error",at.Ready="ready",at.Play="play",at.Pause="pause",at.Stop="stop",at.Freeze="freeze",at.Loop="loop",at.Complete="complete",at.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(at){function zs(Ws){var qs=at.call(this,Ws)||this;return qs.container=null,qs.unmounted=!1,qs.handleBgChange=function(Ys){qs.setState({background:Ys})},qs.triggerDownload=function(Ys,Xs){var Zs=document.createElement("a");Zs.href=Ys,Zs.download=Xs,document.body.appendChild(Zs),Zs.click(),document.body.removeChild(Zs)},qs.snapshot=function(Ys){var Xs;Ys===void 0&&(Ys=!0);var Zs=qs.props.id?qs.props.id:"lottie",yl=document.getElementById(Zs);if(qs.props.renderer==="svg"){if(yl){var Js=yl.querySelector("svg");if(Js){var $l=new XMLSerializer().serializeToString(Js);Xs="data:image/svg+xml;charset=utf-8,"+encodeURIComponent($l)}}Ys&&qs.triggerDownload(Xs,"snapshot.svg")}else if(qs.props.renderer==="canvas"){if(yl){var El=yl.querySelector("canvas");El&&(Xs=El.toDataURL("image/png"))}Ys&&qs.triggerDownload(Xs,"snapshot.png")}return Xs},typeof window<"u"&&(window.lottie=lottie),qs.state={animationData:null,background:"transparent",containerRef:reactExports.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},qs}return __extends(zs,at),zs.getDerivedStateFromProps=function(Ws,qs){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(Ys){return Ws.background!==qs.background?[2,{background:Ws.background}]:[2,null]})})},zs.prototype.getVersions=function(){return{lottieWebVersion:LOTTIE_WEB_VERSION,lottiePlayerVersion:REACT_LOTTIE_PLAYER_VERSION}},zs.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(Ws){switch(Ws.label){case 0:return this.unmounted?[3,2]:[4,this.createLottie()];case 1:Ws.sent(),Ws.label=2;case 2:return[2]}})})},zs.prototype.componentWillUnmount=function(){this.unmounted=!0,this.state.instance&&this.state.instance.destroy()},zs.prototype.componentDidUpdate=function(Ws){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(qs){switch(qs.label){case 0:return this.props.src===Ws.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:qs.sent(),qs.label=2;case 2:return[2]}})})},zs.prototype.render=function(){var Ws=this,qs=this.props,Ys=qs.children,Xs=qs.loop,Zs=qs.style,yl=qs.onBackgroundChange,Js=qs.className,$l=this.state,El=$l.animationData,wl=$l.instance,_l=$l.playerState,Sl=$l.seeker,Tl=$l.debug,Il=$l.background;return reactExports.createElement("div",{className:"lf-player-container"},this.state.playerState===PlayerState.Error?reactExports.createElement("div",{className:"lf-error"},reactExports.createElement("span",{"aria-label":"error-symbol",role:"img"},"")):reactExports.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(Al){return Ws.container=Al},style:__assign({background:Il,margin:"0 auto",outline:"none",overflow:"hidden"},Zs),className:Js}),reactExports.Children.map(Ys,function(Al){return reactExports.isValidElement(Al)?reactExports.cloneElement(Al,{animationData:El,background:Il,debug:Tl,instance:wl,loop:Xs,pause:function(){return Ws.pause()},play:function(){return Ws.play()},playerState:_l,seeker:Sl,setBackground:function(xl){Ws.setState({background:xl}),typeof yl=="function"&&yl(xl)},setSeeker:function(xl,Pl){return Ws.setSeeker(xl,Pl)},stop:function(){return Ws.stop()},toggleDebug:function(){return Ws.toggleDebug()},setLoop:function(xl){return Ws.setLoop(xl)},colorChangedEvent:function(xl){Ws.handleBgChange(xl)},snapshot:function(){Ws.snapshot()}}):null}))},zs.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},zs.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,function(){var Ws,qs,Ys,Xs,Zs,yl,Js,$l,El,wl,_l,Sl,Tl,Il,Al=this;return __generator(this,function(xl){switch(xl.label){case 0:if(Ws=this.props,qs=Ws.autoplay,Ys=Ws.direction,Xs=Ws.loop,Zs=Ws.lottieRef,yl=Ws.renderer,Js=Ws.speed,$l=Ws.src,El=Ws.background,wl=Ws.rendererSettings,_l=Ws.hover,Sl=this.state.instance,!$l||!this.container)return[2];xl.label=1;case 1:return xl.trys.push([1,5,,6]),typeof(Tl=parseSrc($l))!="string"?[3,4]:[4,fetch(Tl).catch(function(){throw Al.setState({playerState:PlayerState.Error}),Al.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 2:return[4,xl.sent().json().catch(function(){throw Al.setState({playerState:PlayerState.Error}),Al.triggerEvent(PlayerEvent.Error),new Error("@LottieFiles/lottie-react: Animation data could not be fetched.")})];case 3:Tl=xl.sent(),xl.label=4;case 4:return Sl&&Sl.destroy(),Il=lottie.loadAnimation({rendererSettings:wl||defaultOptions,animationData:Tl,autoplay:qs||!1,container:this.container,loop:Xs||!1,renderer:yl}),Js&&Il.setSpeed(Js),this.setState({animationData:Tl}),this.setState({instance:Il},function(){Al.triggerEvent(PlayerEvent.InstanceSaved),typeof Zs=="function"&&Zs(Il),qs&&Al.play()}),Il.addEventListener("enterFrame",function(){Al.triggerEvent(PlayerEvent.Frame),Al.setState({seeker:Math.floor(Il.currentFrame)})}),Il.addEventListener("DOMLoaded",function(){Al.triggerEvent(PlayerEvent.Load)}),Il.addEventListener("data_ready",function(){Al.triggerEvent(PlayerEvent.Ready)}),Il.addEventListener("data_failed",function(){Al.setState({playerState:PlayerState.Error}),Al.triggerEvent(PlayerEvent.Error)}),Il.addEventListener("loopComplete",function(){Al.triggerEvent(PlayerEvent.Loop)}),Il.addEventListener("complete",function(){Al.triggerEvent(PlayerEvent.Complete),Al.setState({playerState:PlayerState.Paused}),Al.props.keepLastFrame&&!Al.props.loop||Al.setSeeker(0)}),this.container&&(this.container.addEventListener("mouseenter",function(){_l&&Al.state.playerState!==PlayerState.Playing&&(Al.props.keepLastFrame&&Al.stop(),Al.play())}),this.container.addEventListener("mouseleave",function(){_l&&Al.state.playerState===PlayerState.Playing&&Al.stop()})),Js&&this.setPlayerSpeed(Js),Ys&&this.setPlayerDirection(Ys),El&&this.setState({background:El}),[3,6];case 5:return xl.sent(),this.setState({playerState:PlayerState.Error}),this.triggerEvent(PlayerEvent.Error),[3,6];case 6:return[2]}})})},zs.prototype.play=function(){var Ws=this.state.instance;Ws&&(this.triggerEvent(PlayerEvent.Play),Ws.play(),this.setState({playerState:PlayerState.Playing}))},zs.prototype.pause=function(){var Ws=this.state.instance;Ws&&(this.triggerEvent(PlayerEvent.Pause),Ws.pause(),this.setState({playerState:PlayerState.Paused}))},zs.prototype.stop=function(){var Ws=this.state.instance;Ws&&(this.triggerEvent(PlayerEvent.Stop),Ws.stop(),this.setState({playerState:PlayerState.Stopped}))},zs.prototype.setPlayerSpeed=function(Ws){var qs=this.state.instance;qs&&qs.setSpeed(Ws)},zs.prototype.setPlayerDirection=function(Ws){var qs=this.state.instance;qs&&qs.setDirection(Ws)},zs.prototype.setSeeker=function(Ws,qs){qs===void 0&&(qs=!1);var Ys=this.state,Xs=Ys.instance,Zs=Ys.playerState;Xs&&(qs&&Zs===PlayerState.Playing?Xs.goToAndPlay(Ws,!0):(Xs.goToAndStop(Ws,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},zs.prototype.setLoop=function(Ws){var qs=this.state.instance;qs&&(qs.loop=Ws,this.setState({instance:qs}))},zs.prototype.triggerEvent=function(Ws){var qs=this.props.onEvent;qs&&qs(Ws)},zs.defaultProps={loop:!1},zs}(reactExports.Component);function styleInject(at,zs){zs===void 0&&(zs={});var Ws=zs.insertAt;if(typeof document<"u"){var qs=document.head||document.getElementsByTagName("head")[0],Ys=document.createElement("style");Ys.type="text/css",Ws==="top"&&qs.firstChild?qs.insertBefore(Ys,qs.firstChild):qs.appendChild(Ys),Ys.styleSheet?Ys.styleSheet.cssText=at:Ys.appendChild(document.createTextNode(at))}}var css_248z=`.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
`;styleInject(css_248z);var ColorPicker=function(at){function zs(){var Ws=at!==null&&at.apply(this,arguments)||this;return Ws.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},Ws.handleChange=function(qs,Ys){if(qs==="r"){var Xs="#"+(256|Ys).toString(16).slice(1)+(256|Ws.state.green).toString(16).slice(1)+(256|Ws.state.blue).toString(16).slice(1);Ws.setState({hex:Xs})}else qs==="g"?(Xs="#"+(256|Ws.state.red).toString(16).slice(1)+(256|Ys).toString(16).slice(1)+(256|Ws.state.blue).toString(16).slice(1),Ws.setState({hex:Xs})):qs==="b"&&(Xs="#"+(256|Ws.state.red).toString(16).slice(1)+(256|Ws.state.green).toString(16).slice(1)+(256|Ys).toString(16).slice(1),Ws.setState({hex:Xs}))},Ws.parseColor=function(qs){var Ys;if(typeof qs=="string"){if(qs[0]==="#"){var Xs=qs.length===4?[qs.slice(1,2),qs.slice(2,3),qs.slice(3,4)].map(function(Zs){return parseInt(""+Zs+Zs,16)}):[qs.slice(1,3),qs.slice(3,5),qs.slice(5,7)].map(function(Zs){return parseInt(Zs,16)});Ws.setState({colorComponents:Xs})}else qs.startsWith("rgb")&&(Xs=(Ys=qs.match(/\d+/g))===null||Ys===void 0?void 0:Ys.map(function(Zs){return parseInt(Zs)}))!==void 0&&Ws.setState({colorComponents:Xs});Ws.state.colorComponents.length&&(Ws.setState({red:Ws.state.colorComponents[0]}),Ws.setState({green:Ws.state.colorComponents[1]}),Ws.setState({blue:Ws.state.colorComponents[2]}))}},Ws}return __extends(zs,at),zs.prototype.componentDidUpdate=function(Ws,qs){return this.props.colorChangedEvent&&this.state.hex!==qs.hex&&this.props.colorChangedEvent(this.state.hex),!0},zs.prototype.render=function(){var Ws=this;return reactExports.createElement("div",{className:"lf-color-picker"},reactExports.createElement("div",{className:"lf-color-selectors"},reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Red"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(qs){Ws.setState({red:qs.target.value}),Ws.handleChange("r",qs.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(qs){Ws.setState({red:qs.target.value}),Ws.handleChange("r",qs.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Green"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(qs){Ws.setState({green:qs.target.value}),Ws.handleChange("g",qs.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(qs){Ws.setState({green:qs.target.value}),Ws.handleChange("g",qs.target.value)}})),reactExports.createElement("div",{className:"lf-color-component"},reactExports.createElement("strong",null,"Blue"),reactExports.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(qs){Ws.setState({blue:qs.target.value}),Ws.handleChange("b",qs.target.value)}}),reactExports.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(qs){Ws.setState({blue:qs.target.value}),Ws.handleChange("b",qs.target.value)}}))),reactExports.createElement("div",{className:"lf-color-preview"},reactExports.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),reactExports.createElement("div",null,reactExports.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(qs){Ws.setState({hex:qs.target.value}),Ws.parseColor(qs.target.value)}}))))},zs}(reactExports.Component),Popover=function(at){var zs=at.children,Ws=at.icon,qs=reactExports.useState(null),Ys=qs[0],Xs=qs[1],Zs=reactExports.useState(null),yl=Zs[0],Js=Zs[1],$l=reactExports.useState(null),El=$l[0],wl=$l[1],_l=reactExports.useState(!1),Sl=_l[0],Tl=_l[1];return reactExports.useEffect(function(){if(Ys&&yl){var Il=Ys.getBoundingClientRect(),Al=yl.getBoundingClientRect(),xl=Il.left+Al.width>window.innerWidth?-1:0;wl(xl)}},[El,yl,Ys]),reactExports.createElement("div",{className:"lf-popover",onMouseOver:function(){Tl(!0)},onMouseLeave:function(){Tl(!1)},ref:function(Il){Xs(Il)}},reactExports.createElement("div",{className:" lf-player-btn"},Ws),reactExports.createElement("div",{className:"lf-popover-content",ref:function(Il){Js(Il)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:Sl?"visible":"hidden"}},zs))},Seeker=function(at){function zs(Ws){var qs=at.call(this,Ws)||this;return qs.inputRef=reactExports.createRef(),qs.handleChange=function(){return function(Ys){var Xs=Ys.target.value,Zs=Math.floor(Xs/100*qs.props.max);qs.props.onChange(Zs)}},qs.state={value:0},qs}return __extends(zs,at),zs.prototype.render=function(){var Ws=this.props.value/this.props.max*100,qs={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+Ws+"%, rgba(15, 204, 206, 0.4)), color-stop("+Ws+"%, #DAE1E7))"},Ys={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},Xs={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return reactExports.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},reactExports.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress","aria-label":"progress",type:"range",min:"0",max:"100",step:"0.1",value:Ws,onInput:this.handleChange(),onChange:this.handleChange(),style:qs}),this.props.showLabels&&reactExports.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},reactExports.createElement("div",{style:Ys},this.props.min),reactExports.createElement("div",{style:Xs},this.props.max)))},zs}(reactExports.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"},Controls=function(at){function zs(Ws){var qs=at.call(this,Ws)||this;return qs.state={activeFrame:0,mouseDown:!1},qs}return __extends(zs,at),zs.prototype.render=function(){var Ws=this,qs=this.props,Ys=qs.instance,Xs=qs.playerState,Zs=qs.seeker,yl=qs.setLoop,Js=qs.setSeeker,$l=qs.play,El=qs.pause,wl=qs.stop,_l=qs.visible,Sl=qs.buttons;if(!Ys||!_l)return null;var Tl=!Sl||Sl.includes("play"),Il=!Sl||Sl.includes("stop"),Al=!Sl||Sl.includes("repeat"),xl=!Sl||Sl.includes("frame"),Pl=!Sl||Sl.includes("background"),Cl=!Sl||Sl.includes("snapshot"),Rl={width:14,height:14,viewBox:"0 0 24 24"},Ol=Math.round(Ys.currentFrame);return reactExports.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},Tl&&reactExports.createElement("div",{role:"button","aria-label":Xs===PlayerState.Playing?PlayerEvent.Pause:PlayerEvent.Play,tabIndex:0,onClick:function(){Xs===PlayerState.Playing?typeof El=="function"&&El():typeof $l=="function"&&$l()},onKeyDown:function(){Xs===PlayerState.Playing?typeof El=="function"&&El():typeof $l=="function"&&$l()},className:"lf-player-btn",style:ControlButtonStyle},Xs===PlayerState.Playing?reactExports.createElement("svg",__assign({},Rl),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),reactExports.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):reactExports.createElement("svg",__assign({},Rl),reactExports.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),Il&&reactExports.createElement("div",{tabIndex:0,role:"button","aria-label":PlayerEvent.Stop,onClick:function(){return wl&&wl()},onKeyDown:function(){return wl&&wl()},className:Xs===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},Rl),reactExports.createElement("path",{d:`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`}))),reactExports.createElement(Seeker,{min:0,step:1,max:Ys?Ys.totalFrames:1,value:Zs||0,onChange:function(Ml){Js&&Ws.setState({activeFrame:Ml},function(){Js(Ml,!1)})},onChangeEnd:function(Ml){Js&&Ws.setState({activeFrame:Ml},function(){Js(Ml,!1)})},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),xl&&reactExports.createElement("div",{role:"button",className:"lf-player-btn-container"},reactExports.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:Ol,readOnly:!0})),Al&&reactExports.createElement("div",{role:"button","aria-label":PlayerEvent.Loop,tabIndex:0,onClick:function(){Ys&&yl&&yl(!Ys.loop)},onKeyDown:function(){Ys&&yl&&yl(!Ys.loop)},className:Ys.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},reactExports.createElement("svg",__assign({},Rl),reactExports.createElement("path",{d:`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`,stroke:"#8795A1",strokeWidth:".26"}),reactExports.createElement("path",{d:`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`,fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),Pl&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},Rl),reactExports.createElement("path",{d:`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`}))},reactExports.createElement("div",{slot:"content",className:"lf-popover popover-background"},reactExports.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),Cl&&reactExports.createElement(Popover,{icon:reactExports.createElement("svg",__assign({},Rl),reactExports.createElement("path",{clipRule:"evenodd",d:`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`,fillRule:"evenodd"}),reactExports.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),reactExports.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),reactExports.createElement("path",{d:`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
              01-.803.804H9.562a1.061 1.061 0 100 2.123z`,stroke:"#8795a1",strokeWidth:".215"}))},reactExports.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(Ml){Js&&Js(Ol+(Ml.deltaY>0?-1:1),!1)}},reactExports.createElement("h5",null,"Frame ",Ol),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),reactExports.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),reactExports.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},zs}(reactExports.Component);const lottieReact_esm=Object.freeze(Object.defineProperty({__proto__:null,Controls,Player,get PlayerEvent(){return PlayerEvent},get PlayerState(){return PlayerState},Seeker,parseSrc},Symbol.toStringTag,{value:"Module"}))})();
