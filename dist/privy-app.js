var yen=Object.defineProperty;var wen=(w1,Jn,Hi)=>Jn in w1?yen(w1,Jn,{enumerable:!0,configurable:!0,writable:!0,value:Hi}):w1[Jn]=Hi;var cJ=(w1,Jn,Hi)=>wen(w1,typeof Jn!="symbol"?Jn+"":Jn,Hi);(function(){"use strict";var AAe;function w1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var pJ={exports:{}},$7={},gJ={exports:{}},kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T6=Symbol.for("react.element"),VAe=Symbol.for("react.portal"),KAe=Symbol.for("react.fragment"),GAe=Symbol.for("react.strict_mode"),ZAe=Symbol.for("react.profiler"),YAe=Symbol.for("react.provider"),JAe=Symbol.for("react.context"),QAe=Symbol.for("react.forward_ref"),XAe=Symbol.for("react.suspense"),eSe=Symbol.for("react.memo"),tSe=Symbol.for("react.lazy"),mJ=Symbol.iterator;function nSe(t){return t===null||typeof t!="object"?null:(t=mJ&&t[mJ]||t["@@iterator"],typeof t=="function"?t:null)}var yJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wJ=Object.assign,vJ={};function Ev(t,e,n){this.props=t,this.context=e,this.refs=vJ,this.updater=n||yJ}Ev.prototype.isReactComponent={},Ev.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Ev.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bJ(){}bJ.prototype=Ev.prototype;function NO(t,e,n){this.props=t,this.context=e,this.refs=vJ,this.updater=n||yJ}var OO=NO.prototype=new bJ;OO.constructor=NO,wJ(OO,Ev.prototype),OO.isPureReactComponent=!0;var xJ=Array.isArray,EJ=Object.prototype.hasOwnProperty,RO={current:null},CJ={key:!0,ref:!0,__self:!0,__source:!0};function _J(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)EJ.call(e,r)&&!CJ.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:T6,type:t,key:s,ref:o,props:i,_owner:RO.current}}function rSe(t,e){return{$$typeof:T6,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function MO(t){return typeof t=="object"&&t!==null&&t.$$typeof===T6}function iSe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AJ=/\/+/g;function jO(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iSe(""+t.key):e.toString(36)}function T7(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case T6:case VAe:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jO(o,0):r,xJ(i)?(n="",t!=null&&(n=t.replace(AJ,"$&/")+"/"),T7(i,e,n,"",function(l){return l})):i!=null&&(MO(i)&&(i=rSe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(AJ,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xJ(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+jO(s,a);o+=T7(s,e,n,c,i)}else if(c=nSe(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+jO(s,a++),o+=T7(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function P7(t,e,n){if(t==null)return t;var r=[],i=0;return T7(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sSe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Na={current:null},N7={transition:null},oSe={ReactCurrentDispatcher:Na,ReactCurrentBatchConfig:N7,ReactCurrentOwner:RO};function SJ(){throw Error("act(...) is not supported in production builds of React.")}kn.Children={map:P7,forEach:function(t,e,n){P7(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return P7(t,function(){e++}),e},toArray:function(t){return P7(t,function(e){return e})||[]},only:function(t){if(!MO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},kn.Component=Ev,kn.Fragment=KAe,kn.Profiler=ZAe,kn.PureComponent=NO,kn.StrictMode=GAe,kn.Suspense=XAe,kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oSe,kn.act=SJ,kn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wJ({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=RO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)EJ.call(e,c)&&!CJ.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:T6,type:t.type,key:i,ref:s,props:r,_owner:o}},kn.createContext=function(t){return t={$$typeof:JAe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YAe,_context:t},t.Consumer=t},kn.createElement=_J,kn.createFactory=function(t){var e=_J.bind(null,t);return e.type=t,e},kn.createRef=function(){return{current:null}},kn.forwardRef=function(t){return{$$typeof:QAe,render:t}},kn.isValidElement=MO,kn.lazy=function(t){return{$$typeof:tSe,_payload:{_status:-1,_result:t},_init:sSe}},kn.memo=function(t,e){return{$$typeof:eSe,type:t,compare:e===void 0?null:e}},kn.startTransition=function(t){var e=N7.transition;N7.transition={};try{t()}finally{N7.transition=e}},kn.unstable_act=SJ,kn.useCallback=function(t,e){return Na.current.useCallback(t,e)},kn.useContext=function(t){return Na.current.useContext(t)},kn.useDebugValue=function(){},kn.useDeferredValue=function(t){return Na.current.useDeferredValue(t)},kn.useEffect=function(t,e){return Na.current.useEffect(t,e)},kn.useId=function(){return Na.current.useId()},kn.useImperativeHandle=function(t,e,n){return Na.current.useImperativeHandle(t,e,n)},kn.useInsertionEffect=function(t,e){return Na.current.useInsertionEffect(t,e)},kn.useLayoutEffect=function(t,e){return Na.current.useLayoutEffect(t,e)},kn.useMemo=function(t,e){return Na.current.useMemo(t,e)},kn.useReducer=function(t,e,n){return Na.current.useReducer(t,e,n)},kn.useRef=function(t){return Na.current.useRef(t)},kn.useState=function(t){return Na.current.useState(t)},kn.useSyncExternalStore=function(t,e,n){return Na.current.useSyncExternalStore(t,e,n)},kn.useTransition=function(){return Na.current.useTransition()},kn.version="18.3.1",gJ.exports=kn;var k=gJ.exports;const Ve=Hi(k),BO=w1({__proto__:null,default:Ve},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aSe=k,cSe=Symbol.for("react.element"),lSe=Symbol.for("react.fragment"),uSe=Object.prototype.hasOwnProperty,dSe=aSe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hSe={key:!0,ref:!0,__self:!0,__source:!0};function IJ(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uSe.call(e,r)&&!hSe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cSe,type:t,key:s,ref:o,props:i,_owner:dSe.current}}$7.Fragment=lSe,$7.jsx=IJ,$7.jsxs=IJ,pJ.exports=$7;var g=pJ.exports,DO={},kJ={exports:{}},ml={},$J={exports:{}},TJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,P){var D=O.length;O.push(P);e:for(;0<D;){var L=D-1>>>1,$=O[L];if(0<i($,P))O[L]=P,O[D]=$,D=L;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var P=O[0],D=O.pop();if(D!==P){O[0]=D;e:for(var L=0,$=O.length,q=$>>>1;L<q;){var V=2*(L+1)-1,F=O[V],Z=V+1,X=O[Z];if(0>i(F,D))Z<$&&0>i(X,F)?(O[L]=X,O[Z]=D,L=Z):(O[L]=F,O[V]=D,L=V);else if(Z<$&&0>i(X,D))O[L]=X,O[Z]=D,L=Z;else break e}}return P}function i(O,P){var D=O.sortIndex-P.sortIndex;return D!==0?D:O.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var P=n(l);P!==null;){if(P.callback===null)r(l);else if(P.startTime<=O)r(l),P.sortIndex=P.expirationTime,e(c,P);else break;P=n(l)}}function E(O){if(m=!1,v(O),!p)if(n(c)!==null)p=!0,A(_);else{var P=n(l);P!==null&&N(E,P.startTime-O)}}function _(O,P){p=!1,m&&(m=!1,y(R),R=-1),f=!0;var D=h;try{for(v(P),d=n(c);d!==null&&(!(d.expirationTime>P)||O&&!j());){var L=d.callback;if(typeof L=="function"){d.callback=null,h=d.priorityLevel;var $=L(d.expirationTime<=P);P=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(c)&&r(c),v(P)}else r(c);d=n(c)}if(d!==null)var q=!0;else{var V=n(l);V!==null&&N(E,V.startTime-P),q=!1}return q}finally{d=null,h=D,f=!1}}var T=!1,I=null,R=-1,S=5,B=-1;function j(){return!(t.unstable_now()-B<S)}function U(){if(I!==null){var O=t.unstable_now();B=O;var P=!0;try{P=I(!0,O)}finally{P?M():(T=!1,I=null)}}else T=!1}var M;if(typeof b=="function")M=function(){b(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,x=C.port2;C.port1.onmessage=U,M=function(){x.postMessage(null)}}else M=function(){w(U,0)};function A(O){I=O,T||(T=!0,M())}function N(O,P){R=w(function(){O(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,A(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var D=h;h=P;try{return O()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=h;h=O;try{return P()}finally{h=D}},t.unstable_scheduleCallback=function(O,P,D){var L=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?L+D:L):D=L,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=D+$,O={id:u++,callback:P,priorityLevel:O,startTime:D,expirationTime:$,sortIndex:-1},D>L?(O.sortIndex=D,e(l,O),n(c)===null&&O===n(l)&&(m?(y(R),R=-1):m=!0,N(E,D-L))):(O.sortIndex=$,e(c,O),p||f||(p=!0,A(_))),O},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(O){var P=h;return function(){var D=h;h=P;try{return O.apply(this,arguments)}finally{h=D}}}})(TJ),$J.exports=TJ;var fSe=$J.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pSe=k,yl=fSe;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PJ=new Set,P6={};function v1(t,e){Cv(t,e),Cv(t+"Capture",e)}function Cv(t,e){for(P6[t]=e,t=0;t<e.length;t++)PJ.add(e[t])}var ip=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LO=Object.prototype.hasOwnProperty,gSe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NJ={},OJ={};function mSe(t){return LO.call(OJ,t)?!0:LO.call(NJ,t)?!1:gSe.test(t)?OJ[t]=!0:(NJ[t]=!0,!1)}function ySe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wSe(t,e,n,r){if(e===null||typeof e>"u"||ySe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oa(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fo[t]=new Oa(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fo[e]=new Oa(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){fo[t]=new Oa(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fo[t]=new Oa(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fo[t]=new Oa(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){fo[t]=new Oa(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){fo[t]=new Oa(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){fo[t]=new Oa(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){fo[t]=new Oa(t,5,!1,t.toLowerCase(),null,!1,!1)});var UO=/[\-:]([a-z])/g;function FO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(UO,FO);fo[e]=new Oa(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(UO,FO);fo[e]=new Oa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(UO,FO);fo[e]=new Oa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){fo[t]=new Oa(t,1,!1,t.toLowerCase(),null,!1,!1)}),fo.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){fo[t]=new Oa(t,1,!1,t.toLowerCase(),null,!0,!0)});function zO(t,e,n,r){var i=fo.hasOwnProperty(e)?fo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wSe(e,n,i,r)&&(n=null),r||i===null?mSe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sp=pSe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O7=Symbol.for("react.element"),_v=Symbol.for("react.portal"),Av=Symbol.for("react.fragment"),WO=Symbol.for("react.strict_mode"),qO=Symbol.for("react.profiler"),RJ=Symbol.for("react.provider"),MJ=Symbol.for("react.context"),HO=Symbol.for("react.forward_ref"),VO=Symbol.for("react.suspense"),KO=Symbol.for("react.suspense_list"),GO=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),jJ=Symbol.for("react.offscreen"),BJ=Symbol.iterator;function N6(t){return t===null||typeof t!="object"?null:(t=BJ&&t[BJ]||t["@@iterator"],typeof t=="function"?t:null)}var Ci=Object.assign,ZO;function O6(t){if(ZO===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ZO=e&&e[1]||""}return`
`+ZO+t}var YO=!1;function JO(t,e){if(!t||YO)return"";YO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{YO=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?O6(t):""}function vSe(t){switch(t.tag){case 5:return O6(t.type);case 16:return O6("Lazy");case 13:return O6("Suspense");case 19:return O6("SuspenseList");case 0:case 2:case 15:return t=JO(t.type,!1),t;case 11:return t=JO(t.type.render,!1),t;case 1:return t=JO(t.type,!0),t;default:return""}}function QO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Av:return"Fragment";case _v:return"Portal";case qO:return"Profiler";case WO:return"StrictMode";case VO:return"Suspense";case KO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MJ:return(t.displayName||"Context")+".Consumer";case RJ:return(t._context.displayName||"Context")+".Provider";case HO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GO:return e=t.displayName||null,e!==null?e:QO(t.type)||"Memo";case Y0:e=t._payload,t=t._init;try{return QO(t(e))}catch{}}return null}function bSe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QO(e);case 8:return e===WO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function J0(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DJ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xSe(t){var e=DJ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function R7(t){t._valueTracker||(t._valueTracker=xSe(t))}function LJ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DJ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function M7(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function XO(t,e){var n=e.checked;return Ci({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function UJ(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=J0(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FJ(t,e){e=e.checked,e!=null&&zO(t,"checked",e,!1)}function eR(t,e){FJ(t,e);var n=J0(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tR(t,e.type,n):e.hasOwnProperty("defaultValue")&&tR(t,e.type,J0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zJ(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tR(t,e,n){(e!=="number"||M7(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var R6=Array.isArray;function Sv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+J0(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nR(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return Ci({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function WJ(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ke(92));if(R6(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:J0(n)}}function qJ(t,e){var n=J0(e.value),r=J0(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function HJ(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VJ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rR(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VJ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var j7,KJ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(j7=j7||document.createElement("div"),j7.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=j7.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function M6(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var j6={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ESe=["Webkit","ms","Moz","O"];Object.keys(j6).forEach(function(t){ESe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),j6[e]=j6[t]})});function GJ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||j6.hasOwnProperty(t)&&j6[t]?(""+e).trim():e+"px"}function ZJ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GJ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CSe=Ci({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iR(t,e){if(e){if(CSe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function sR(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oR=null;function aR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cR=null,Iv=null,kv=null;function YJ(t){if(t=i4(t)){if(typeof cR!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=s_(e),cR(t.stateNode,t.type,e))}}function JJ(t){Iv?kv?kv.push(t):kv=[t]:Iv=t}function QJ(){if(Iv){var t=Iv,e=kv;if(kv=Iv=null,YJ(t),e)for(t=0;t<e.length;t++)YJ(e[t])}}function XJ(t,e){return t(e)}function eQ(){}var lR=!1;function tQ(t,e,n){if(lR)return t(e,n);lR=!0;try{return XJ(t,e,n)}finally{lR=!1,(Iv!==null||kv!==null)&&(eQ(),QJ())}}function B6(t,e){var n=t.stateNode;if(n===null)return null;var r=s_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ke(231,e,typeof n));return n}var uR=!1;if(ip)try{var D6={};Object.defineProperty(D6,"passive",{get:function(){uR=!0}}),window.addEventListener("test",D6,D6),window.removeEventListener("test",D6,D6)}catch{uR=!1}function _Se(t,e,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var L6=!1,B7=null,D7=!1,dR=null,ASe={onError:function(t){L6=!0,B7=t}};function SSe(t,e,n,r,i,s,o,a,c){L6=!1,B7=null,_Se.apply(ASe,arguments)}function ISe(t,e,n,r,i,s,o,a,c){if(SSe.apply(this,arguments),L6){if(L6){var l=B7;L6=!1,B7=null}else throw Error(Ke(198));D7||(D7=!0,dR=l)}}function b1(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rQ(t){if(b1(t)!==t)throw Error(Ke(188))}function kSe(t){var e=t.alternate;if(!e){if(e=b1(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rQ(i),t;if(s===r)return rQ(i),e;s=s.sibling}throw Error(Ke(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ke(189))}}if(n.alternate!==r)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?t:e}function iQ(t){return t=kSe(t),t!==null?sQ(t):null}function sQ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sQ(t);if(e!==null)return e;t=t.sibling}return null}var oQ=yl.unstable_scheduleCallback,aQ=yl.unstable_cancelCallback,$Se=yl.unstable_shouldYield,TSe=yl.unstable_requestPaint,Vi=yl.unstable_now,PSe=yl.unstable_getCurrentPriorityLevel,hR=yl.unstable_ImmediatePriority,cQ=yl.unstable_UserBlockingPriority,L7=yl.unstable_NormalPriority,NSe=yl.unstable_LowPriority,lQ=yl.unstable_IdlePriority,U7=null,Nh=null;function OSe(t){if(Nh&&typeof Nh.onCommitFiberRoot=="function")try{Nh.onCommitFiberRoot(U7,t,void 0,(t.current.flags&128)===128)}catch{}}var bd=Math.clz32?Math.clz32:jSe,RSe=Math.log,MSe=Math.LN2;function jSe(t){return t>>>=0,t===0?32:31-(RSe(t)/MSe|0)|0}var F7=64,z7=4194304;function U6(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function W7(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=U6(a):(s&=o,s!==0&&(r=U6(s)))}else o=n&~i,o!==0?r=U6(o):s!==0&&(r=U6(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bd(e),i=1<<n,r|=t[n],e&=~i;return r}function BSe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DSe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bd(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=BSe(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function fR(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uQ(){var t=F7;return F7<<=1,!(F7&4194240)&&(F7=64),t}function pR(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function F6(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bd(e),t[e]=n}function LSe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bd(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bd(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Er=0;function dQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hQ,mR,fQ,pQ,gQ,yR=!1,q7=[],Q0=null,X0=null,eg=null,z6=new Map,W6=new Map,tg=[],USe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mQ(t,e){switch(t){case"focusin":case"focusout":Q0=null;break;case"dragenter":case"dragleave":X0=null;break;case"mouseover":case"mouseout":eg=null;break;case"pointerover":case"pointerout":z6.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":W6.delete(e.pointerId)}}function q6(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=i4(e),e!==null&&mR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FSe(t,e,n,r,i){switch(e){case"focusin":return Q0=q6(Q0,t,e,n,r,i),!0;case"dragenter":return X0=q6(X0,t,e,n,r,i),!0;case"mouseover":return eg=q6(eg,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return z6.set(s,q6(z6.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,W6.set(s,q6(W6.get(s)||null,t,e,n,r,i)),!0}return!1}function yQ(t){var e=x1(t.target);if(e!==null){var n=b1(e);if(n!==null){if(e=n.tag,e===13){if(e=nQ(n),e!==null){t.blockedOn=e,gQ(t.priority,function(){fQ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function H7(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);oR=r,n.target.dispatchEvent(r),oR=null}else return e=i4(n),e!==null&&mR(e),t.blockedOn=n,!1;e.shift()}return!0}function wQ(t,e,n){H7(t)&&n.delete(e)}function zSe(){yR=!1,Q0!==null&&H7(Q0)&&(Q0=null),X0!==null&&H7(X0)&&(X0=null),eg!==null&&H7(eg)&&(eg=null),z6.forEach(wQ),W6.forEach(wQ)}function H6(t,e){t.blockedOn===e&&(t.blockedOn=null,yR||(yR=!0,yl.unstable_scheduleCallback(yl.unstable_NormalPriority,zSe)))}function V6(t){function e(i){return H6(i,t)}if(0<q7.length){H6(q7[0],t);for(var n=1;n<q7.length;n++){var r=q7[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Q0!==null&&H6(Q0,t),X0!==null&&H6(X0,t),eg!==null&&H6(eg,t),z6.forEach(e),W6.forEach(e),n=0;n<tg.length;n++)r=tg[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tg.length&&(n=tg[0],n.blockedOn===null);)yQ(n),n.blockedOn===null&&tg.shift()}var $v=sp.ReactCurrentBatchConfig,V7=!0;function WSe(t,e,n,r){var i=Er,s=$v.transition;$v.transition=null;try{Er=1,wR(t,e,n,r)}finally{Er=i,$v.transition=s}}function qSe(t,e,n,r){var i=Er,s=$v.transition;$v.transition=null;try{Er=4,wR(t,e,n,r)}finally{Er=i,$v.transition=s}}function wR(t,e,n,r){if(V7){var i=vR(t,e,n,r);if(i===null)jR(t,e,r,K7,n),mQ(t,r);else if(FSe(i,t,e,n,r))r.stopPropagation();else if(mQ(t,r),e&4&&-1<USe.indexOf(t)){for(;i!==null;){var s=i4(i);if(s!==null&&hQ(s),s=vR(t,e,n,r),s===null&&jR(t,e,r,K7,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jR(t,e,r,null,n)}}var K7=null;function vR(t,e,n,r){if(K7=null,t=aR(r),t=x1(t),t!==null)if(e=b1(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nQ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return K7=t,null}function vQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PSe()){case hR:return 1;case cQ:return 4;case L7:case NSe:return 16;case lQ:return 536870912;default:return 16}default:return 16}}var ng=null,bR=null,G7=null;function bQ(){if(G7)return G7;var t,e=bR,n=e.length,r,i="value"in ng?ng.value:ng.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return G7=i.slice(t,1<r?1-r:void 0)}function Z7(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Y7(){return!0}function xQ(){return!1}function wl(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Y7:xQ,this.isPropagationStopped=xQ,this}return Ci(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Y7)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Y7)},persist:function(){},isPersistent:Y7}),e}var Tv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xR=wl(Tv),K6=Ci({},Tv,{view:0,detail:0}),HSe=wl(K6),ER,CR,G6,J7=Ci({},K6,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==G6&&(G6&&t.type==="mousemove"?(ER=t.screenX-G6.screenX,CR=t.screenY-G6.screenY):CR=ER=0,G6=t),ER)},movementY:function(t){return"movementY"in t?t.movementY:CR}}),EQ=wl(J7),VSe=Ci({},J7,{dataTransfer:0}),KSe=wl(VSe),GSe=Ci({},K6,{relatedTarget:0}),_R=wl(GSe),ZSe=Ci({},Tv,{animationName:0,elapsedTime:0,pseudoElement:0}),YSe=wl(ZSe),JSe=Ci({},Tv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QSe=wl(JSe),XSe=Ci({},Tv,{data:0}),CQ=wl(XSe),eIe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tIe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nIe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rIe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nIe[t])?!!e[t]:!1}function AR(){return rIe}var iIe=Ci({},K6,{key:function(t){if(t.key){var e=eIe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Z7(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tIe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AR,charCode:function(t){return t.type==="keypress"?Z7(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Z7(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sIe=wl(iIe),oIe=Ci({},J7,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_Q=wl(oIe),aIe=Ci({},K6,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AR}),cIe=wl(aIe),lIe=Ci({},Tv,{propertyName:0,elapsedTime:0,pseudoElement:0}),uIe=wl(lIe),dIe=Ci({},J7,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hIe=wl(dIe),fIe=[9,13,27,32],SR=ip&&"CompositionEvent"in window,Z6=null;ip&&"documentMode"in document&&(Z6=document.documentMode);var pIe=ip&&"TextEvent"in window&&!Z6,AQ=ip&&(!SR||Z6&&8<Z6&&11>=Z6),SQ=" ",IQ=!1;function kQ(t,e){switch(t){case"keyup":return fIe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $Q(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pv=!1;function gIe(t,e){switch(t){case"compositionend":return $Q(e);case"keypress":return e.which!==32?null:(IQ=!0,SQ);case"textInput":return t=e.data,t===SQ&&IQ?null:t;default:return null}}function mIe(t,e){if(Pv)return t==="compositionend"||!SR&&kQ(t,e)?(t=bQ(),G7=bR=ng=null,Pv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AQ&&e.locale!=="ko"?null:e.data;default:return null}}var yIe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TQ(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yIe[t.type]:e==="textarea"}function PQ(t,e,n,r){JJ(r),e=n_(e,"onChange"),0<e.length&&(n=new xR("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Y6=null,J6=null;function wIe(t){ZQ(t,0)}function Q7(t){var e=jv(t);if(LJ(e))return t}function vIe(t,e){if(t==="change")return e}var NQ=!1;if(ip){var IR;if(ip){var kR="oninput"in document;if(!kR){var OQ=document.createElement("div");OQ.setAttribute("oninput","return;"),kR=typeof OQ.oninput=="function"}IR=kR}else IR=!1;NQ=IR&&(!document.documentMode||9<document.documentMode)}function RQ(){Y6&&(Y6.detachEvent("onpropertychange",MQ),J6=Y6=null)}function MQ(t){if(t.propertyName==="value"&&Q7(J6)){var e=[];PQ(e,J6,t,aR(t)),tQ(wIe,e)}}function bIe(t,e,n){t==="focusin"?(RQ(),Y6=e,J6=n,Y6.attachEvent("onpropertychange",MQ)):t==="focusout"&&RQ()}function xIe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Q7(J6)}function EIe(t,e){if(t==="click")return Q7(e)}function CIe(t,e){if(t==="input"||t==="change")return Q7(e)}function _Ie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xd=typeof Object.is=="function"?Object.is:_Ie;function Q6(t,e){if(xd(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!LO.call(e,i)||!xd(t[i],e[i]))return!1}return!0}function jQ(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BQ(t,e){var n=jQ(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jQ(n)}}function DQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LQ(){for(var t=window,e=M7();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=M7(t.document)}return e}function $R(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AIe(t){var e=LQ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DQ(n.ownerDocument.documentElement,n)){if(r!==null&&$R(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=BQ(n,s);var o=BQ(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SIe=ip&&"documentMode"in document&&11>=document.documentMode,Nv=null,TR=null,X6=null,PR=!1;function UQ(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;PR||Nv==null||Nv!==M7(r)||(r=Nv,"selectionStart"in r&&$R(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),X6&&Q6(X6,r)||(X6=r,r=n_(TR,"onSelect"),0<r.length&&(e=new xR("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nv)))}function X7(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ov={animationend:X7("Animation","AnimationEnd"),animationiteration:X7("Animation","AnimationIteration"),animationstart:X7("Animation","AnimationStart"),transitionend:X7("Transition","TransitionEnd")},NR={},FQ={};ip&&(FQ=document.createElement("div").style,"AnimationEvent"in window||(delete Ov.animationend.animation,delete Ov.animationiteration.animation,delete Ov.animationstart.animation),"TransitionEvent"in window||delete Ov.transitionend.transition);function e_(t){if(NR[t])return NR[t];if(!Ov[t])return t;var e=Ov[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FQ)return NR[t]=e[n];return t}var zQ=e_("animationend"),WQ=e_("animationiteration"),qQ=e_("animationstart"),HQ=e_("transitionend"),VQ=new Map,KQ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rg(t,e){VQ.set(t,e),v1(e,[t])}for(var OR=0;OR<KQ.length;OR++){var RR=KQ[OR],IIe=RR.toLowerCase(),kIe=RR[0].toUpperCase()+RR.slice(1);rg(IIe,"on"+kIe)}rg(zQ,"onAnimationEnd"),rg(WQ,"onAnimationIteration"),rg(qQ,"onAnimationStart"),rg("dblclick","onDoubleClick"),rg("focusin","onFocus"),rg("focusout","onBlur"),rg(HQ,"onTransitionEnd"),Cv("onMouseEnter",["mouseout","mouseover"]),Cv("onMouseLeave",["mouseout","mouseover"]),Cv("onPointerEnter",["pointerout","pointerover"]),Cv("onPointerLeave",["pointerout","pointerover"]),v1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),v1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),v1("onBeforeInput",["compositionend","keypress","textInput","paste"]),v1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),v1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),v1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var e4="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$Ie=new Set("cancel close invalid load scroll toggle".split(" ").concat(e4));function GQ(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ISe(r,e,void 0,t),t.currentTarget=null}function ZQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;GQ(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;GQ(i,a,l),s=c}}}if(D7)throw t=dR,D7=!1,dR=null,t}function ii(t,e){var n=e[zR];n===void 0&&(n=e[zR]=new Set);var r=t+"__bubble";n.has(r)||(YQ(e,t,2,!1),n.add(r))}function MR(t,e,n){var r=0;e&&(r|=4),YQ(n,t,r,e)}var t_="_reactListening"+Math.random().toString(36).slice(2);function t4(t){if(!t[t_]){t[t_]=!0,PJ.forEach(function(n){n!=="selectionchange"&&($Ie.has(n)||MR(n,!1,t),MR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[t_]||(e[t_]=!0,MR("selectionchange",!1,e))}}function YQ(t,e,n,r){switch(vQ(e)){case 1:var i=WSe;break;case 4:i=qSe;break;default:i=wR}n=i.bind(null,e,n,t),i=void 0,!uR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jR(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=x1(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tQ(function(){var l=s,u=aR(n),d=[];e:{var h=VQ.get(t);if(h!==void 0){var f=xR,p=t;switch(t){case"keypress":if(Z7(n)===0)break e;case"keydown":case"keyup":f=sIe;break;case"focusin":p="focus",f=_R;break;case"focusout":p="blur",f=_R;break;case"beforeblur":case"afterblur":f=_R;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=EQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KSe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cIe;break;case zQ:case WQ:case qQ:f=YSe;break;case HQ:f=uIe;break;case"scroll":f=HSe;break;case"wheel":f=hIe;break;case"copy":case"cut":case"paste":f=QSe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_Q}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=l,v;b!==null;){v=b;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,y!==null&&(E=B6(b,y),E!=null&&m.push(n4(b,E,v)))),w)break;b=b.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==oR&&(p=n.relatedTarget||n.fromElement)&&(x1(p)||p[op]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=l,p=p?x1(p):null,p!==null&&(w=b1(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=l),f!==p)){if(m=EQ,E="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=_Q,E="onPointerLeave",y="onPointerEnter",b="pointer"),w=f==null?h:jv(f),v=p==null?h:jv(p),h=new m(E,b+"leave",f,n,u),h.target=w,h.relatedTarget=v,E=null,x1(u)===l&&(m=new m(y,b+"enter",p,n,u),m.target=v,m.relatedTarget=w,E=m),w=E,f&&p)t:{for(m=f,y=p,b=0,v=m;v;v=Rv(v))b++;for(v=0,E=y;E;E=Rv(E))v++;for(;0<b-v;)m=Rv(m),b--;for(;0<v-b;)y=Rv(y),v--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Rv(m),y=Rv(y)}m=null}else m=null;f!==null&&JQ(d,h,f,m,!1),p!==null&&w!==null&&JQ(d,w,p,m,!0)}}e:{if(h=l?jv(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=vIe;else if(TQ(h))if(NQ)_=CIe;else{_=xIe;var T=bIe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=EIe);if(_&&(_=_(t,l))){PQ(d,_,n,u);break e}T&&T(t,h,l),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&tR(h,"number",h.value)}switch(T=l?jv(l):window,t){case"focusin":(TQ(T)||T.contentEditable==="true")&&(Nv=T,TR=l,X6=null);break;case"focusout":X6=TR=Nv=null;break;case"mousedown":PR=!0;break;case"contextmenu":case"mouseup":case"dragend":PR=!1,UQ(d,n,u);break;case"selectionchange":if(SIe)break;case"keydown":case"keyup":UQ(d,n,u)}var I;if(SR)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Pv?kQ(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(AQ&&n.locale!=="ko"&&(Pv||R!=="onCompositionStart"?R==="onCompositionEnd"&&Pv&&(I=bQ()):(ng=u,bR="value"in ng?ng.value:ng.textContent,Pv=!0)),T=n_(l,R),0<T.length&&(R=new CQ(R,t,null,n,u),d.push({event:R,listeners:T}),I?R.data=I:(I=$Q(n),I!==null&&(R.data=I)))),(I=pIe?gIe(t,n):mIe(t,n))&&(l=n_(l,"onBeforeInput"),0<l.length&&(u=new CQ("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=I))}ZQ(d,e)})}function n4(t,e,n){return{instance:t,listener:e,currentTarget:n}}function n_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=B6(t,n),s!=null&&r.unshift(n4(t,s,i)),s=B6(t,e),s!=null&&r.push(n4(t,s,i))),t=t.return}return r}function Rv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function JQ(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=B6(n,s),c!=null&&o.unshift(n4(n,c,a))):i||(c=B6(n,s),c!=null&&o.push(n4(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TIe=/\r\n?/g,PIe=/\u0000|\uFFFD/g;function QQ(t){return(typeof t=="string"?t:""+t).replace(TIe,`
`).replace(PIe,"")}function r_(t,e,n){if(e=QQ(e),QQ(t)!==e&&n)throw Error(Ke(425))}function i_(){}var BR=null,DR=null;function LR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UR=typeof setTimeout=="function"?setTimeout:void 0,NIe=typeof clearTimeout=="function"?clearTimeout:void 0,XQ=typeof Promise=="function"?Promise:void 0,OIe=typeof queueMicrotask=="function"?queueMicrotask:typeof XQ<"u"?function(t){return XQ.resolve(null).then(t).catch(RIe)}:UR;function RIe(t){setTimeout(function(){throw t})}function FR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),V6(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);V6(e)}function ig(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eX(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mv=Math.random().toString(36).slice(2),Oh="__reactFiber$"+Mv,r4="__reactProps$"+Mv,op="__reactContainer$"+Mv,zR="__reactEvents$"+Mv,MIe="__reactListeners$"+Mv,jIe="__reactHandles$"+Mv;function x1(t){var e=t[Oh];if(e)return e;for(var n=t.parentNode;n;){if(e=n[op]||n[Oh]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eX(t);t!==null;){if(n=t[Oh])return n;t=eX(t)}return e}t=n,n=t.parentNode}return null}function i4(t){return t=t[Oh]||t[op],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function s_(t){return t[r4]||null}var WR=[],Bv=-1;function sg(t){return{current:t}}function si(t){0>Bv||(t.current=WR[Bv],WR[Bv]=null,Bv--)}function Kr(t,e){Bv++,WR[Bv]=t.current,t.current=e}var og={},Zo=sg(og),dc=sg(!1),E1=og;function Dv(t,e){var n=t.type.contextTypes;if(!n)return og;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hc(t){return t=t.childContextTypes,t!=null}function o_(){si(dc),si(Zo)}function tX(t,e,n){if(Zo.current!==og)throw Error(Ke(168));Kr(Zo,e),Kr(dc,n)}function nX(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ke(108,bSe(t)||"Unknown",i));return Ci({},n,r)}function a_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||og,E1=Zo.current,Kr(Zo,t),Kr(dc,dc.current),!0}function rX(t,e,n){var r=t.stateNode;if(!r)throw Error(Ke(169));n?(t=nX(t,e,E1),r.__reactInternalMemoizedMergedChildContext=t,si(dc),si(Zo),Kr(Zo,t)):si(dc),Kr(dc,n)}var ap=null,c_=!1,qR=!1;function iX(t){ap===null?ap=[t]:ap.push(t)}function BIe(t){c_=!0,iX(t)}function ag(){if(!qR&&ap!==null){qR=!0;var t=0,e=Er;try{var n=ap;for(Er=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ap=null,c_=!1}catch(i){throw ap!==null&&(ap=ap.slice(t+1)),oQ(hR,ag),i}finally{Er=e,qR=!1}}return null}var Lv=[],Uv=0,l_=null,u_=0,pu=[],gu=0,C1=null,cp=1,lp="";function _1(t,e){Lv[Uv++]=u_,Lv[Uv++]=l_,l_=t,u_=e}function sX(t,e,n){pu[gu++]=cp,pu[gu++]=lp,pu[gu++]=C1,C1=t;var r=cp;t=lp;var i=32-bd(r)-1;r&=~(1<<i),n+=1;var s=32-bd(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cp=1<<32-bd(e)+i|n<<i|r,lp=s+t}else cp=1<<s|n<<i|r,lp=t}function HR(t){t.return!==null&&(_1(t,1),sX(t,1,0))}function VR(t){for(;t===l_;)l_=Lv[--Uv],Lv[Uv]=null,u_=Lv[--Uv],Lv[Uv]=null;for(;t===C1;)C1=pu[--gu],pu[gu]=null,lp=pu[--gu],pu[gu]=null,cp=pu[--gu],pu[gu]=null}var vl=null,bl=null,mi=!1,Ed=null;function oX(t,e){var n=vu(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aX(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vl=t,bl=ig(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vl=t,bl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=C1!==null?{id:cp,overflow:lp}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vu(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vl=t,bl=null,!0):!1;default:return!1}}function KR(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GR(t){if(mi){var e=bl;if(e){var n=e;if(!aX(t,e)){if(KR(t))throw Error(Ke(418));e=ig(n.nextSibling);var r=vl;e&&aX(t,e)?oX(r,n):(t.flags=t.flags&-4097|2,mi=!1,vl=t)}}else{if(KR(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,mi=!1,vl=t}}}function cX(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vl=t}function d_(t){if(t!==vl)return!1;if(!mi)return cX(t),mi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LR(t.type,t.memoizedProps)),e&&(e=bl)){if(KR(t))throw lX(),Error(Ke(418));for(;e;)oX(t,e),e=ig(e.nextSibling)}if(cX(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bl=ig(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bl=null}}else bl=vl?ig(t.stateNode.nextSibling):null;return!0}function lX(){for(var t=bl;t;)t=ig(t.nextSibling)}function Fv(){bl=vl=null,mi=!1}function ZR(t){Ed===null?Ed=[t]:Ed.push(t)}var DIe=sp.ReactCurrentBatchConfig;function s4(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var r=n.stateNode}if(!r)throw Error(Ke(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,t))}return t}function h_(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uX(t){var e=t._init;return e(t._payload)}function dX(t){function e(y,b){if(t){var v=y.deletions;v===null?(y.deletions=[b],y.flags|=16):v.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=gg(y,b),y.index=0,y.sibling=null,y}function s(y,b,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<b?(y.flags|=2,b):v):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,v,E){return b===null||b.tag!==6?(b=UM(v,y.mode,E),b.return=y,b):(b=i(b,v),b.return=y,b)}function c(y,b,v,E){var _=v.type;return _===Av?u(y,b,v.props.children,E,v.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Y0&&uX(_)===b.type)?(E=i(b,v.props),E.ref=s4(y,b,v),E.return=y,E):(E=j_(v.type,v.key,v.props,null,y.mode,E),E.ref=s4(y,b,v),E.return=y,E)}function l(y,b,v,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=FM(v,y.mode,E),b.return=y,b):(b=i(b,v.children||[]),b.return=y,b)}function u(y,b,v,E,_){return b===null||b.tag!==7?(b=N1(v,y.mode,E,_),b.return=y,b):(b=i(b,v),b.return=y,b)}function d(y,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=UM(""+b,y.mode,v),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case O7:return v=j_(b.type,b.key,b.props,null,y.mode,v),v.ref=s4(y,null,b),v.return=y,v;case _v:return b=FM(b,y.mode,v),b.return=y,b;case Y0:var E=b._init;return d(y,E(b._payload),v)}if(R6(b)||N6(b))return b=N1(b,y.mode,v,null),b.return=y,b;h_(y,b)}return null}function h(y,b,v,E){var _=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(y,b,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case O7:return v.key===_?c(y,b,v,E):null;case _v:return v.key===_?l(y,b,v,E):null;case Y0:return _=v._init,h(y,b,_(v._payload),E)}if(R6(v)||N6(v))return _!==null?null:u(y,b,v,E,null);h_(y,v)}return null}function f(y,b,v,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(v)||null,a(b,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O7:return y=y.get(E.key===null?v:E.key)||null,c(b,y,E,_);case _v:return y=y.get(E.key===null?v:E.key)||null,l(b,y,E,_);case Y0:var T=E._init;return f(y,b,v,T(E._payload),_)}if(R6(E)||N6(E))return y=y.get(v)||null,u(b,y,E,_,null);h_(b,E)}return null}function p(y,b,v,E){for(var _=null,T=null,I=b,R=b=0,S=null;I!==null&&R<v.length;R++){I.index>R?(S=I,I=null):S=I.sibling;var B=h(y,I,v[R],E);if(B===null){I===null&&(I=S);break}t&&I&&B.alternate===null&&e(y,I),b=s(B,b,R),T===null?_=B:T.sibling=B,T=B,I=S}if(R===v.length)return n(y,I),mi&&_1(y,R),_;if(I===null){for(;R<v.length;R++)I=d(y,v[R],E),I!==null&&(b=s(I,b,R),T===null?_=I:T.sibling=I,T=I);return mi&&_1(y,R),_}for(I=r(y,I);R<v.length;R++)S=f(I,y,R,v[R],E),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?R:S.key),b=s(S,b,R),T===null?_=S:T.sibling=S,T=S);return t&&I.forEach(function(j){return e(y,j)}),mi&&_1(y,R),_}function m(y,b,v,E){var _=N6(v);if(typeof _!="function")throw Error(Ke(150));if(v=_.call(v),v==null)throw Error(Ke(151));for(var T=_=null,I=b,R=b=0,S=null,B=v.next();I!==null&&!B.done;R++,B=v.next()){I.index>R?(S=I,I=null):S=I.sibling;var j=h(y,I,B.value,E);if(j===null){I===null&&(I=S);break}t&&I&&j.alternate===null&&e(y,I),b=s(j,b,R),T===null?_=j:T.sibling=j,T=j,I=S}if(B.done)return n(y,I),mi&&_1(y,R),_;if(I===null){for(;!B.done;R++,B=v.next())B=d(y,B.value,E),B!==null&&(b=s(B,b,R),T===null?_=B:T.sibling=B,T=B);return mi&&_1(y,R),_}for(I=r(y,I);!B.done;R++,B=v.next())B=f(I,y,R,B.value,E),B!==null&&(t&&B.alternate!==null&&I.delete(B.key===null?R:B.key),b=s(B,b,R),T===null?_=B:T.sibling=B,T=B);return t&&I.forEach(function(U){return e(y,U)}),mi&&_1(y,R),_}function w(y,b,v,E){if(typeof v=="object"&&v!==null&&v.type===Av&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case O7:e:{for(var _=v.key,T=b;T!==null;){if(T.key===_){if(_=v.type,_===Av){if(T.tag===7){n(y,T.sibling),b=i(T,v.props.children),b.return=y,y=b;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Y0&&uX(_)===T.type){n(y,T.sibling),b=i(T,v.props),b.ref=s4(y,T,v),b.return=y,y=b;break e}n(y,T);break}else e(y,T);T=T.sibling}v.type===Av?(b=N1(v.props.children,y.mode,E,v.key),b.return=y,y=b):(E=j_(v.type,v.key,v.props,null,y.mode,E),E.ref=s4(y,b,v),E.return=y,y=E)}return o(y);case _v:e:{for(T=v.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(y,b.sibling),b=i(b,v.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=FM(v,y.mode,E),b.return=y,y=b}return o(y);case Y0:return T=v._init,w(y,b,T(v._payload),E)}if(R6(v))return p(y,b,v,E);if(N6(v))return m(y,b,v,E);h_(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,v),b.return=y,y=b):(n(y,b),b=UM(v,y.mode,E),b.return=y,y=b),o(y)):n(y,b)}return w}var zv=dX(!0),hX=dX(!1),f_=sg(null),p_=null,Wv=null,YR=null;function JR(){YR=Wv=p_=null}function QR(t){var e=f_.current;si(f_),t._currentValue=e}function XR(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qv(t,e){p_=t,YR=Wv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fc=!0),t.firstContext=null)}function mu(t){var e=t._currentValue;if(YR!==t)if(t={context:t,memoizedValue:e,next:null},Wv===null){if(p_===null)throw Error(Ke(308));Wv=t,p_.dependencies={lanes:0,firstContext:t}}else Wv=Wv.next=t;return e}var A1=null;function eM(t){A1===null?A1=[t]:A1.push(t)}function fX(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eM(e)):(n.next=i.next,i.next=n),e.interleaved=n,up(t,r)}function up(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cg=!1;function tM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pX(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dp(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lg(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,up(t,n)}return i=r.interleaved,i===null?(e.next=e,eM(r)):(e.next=i.next,i.next=e),r.interleaved=e,up(t,n)}function g_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gR(t,n)}}function gX(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function m_(t,e,n,r){var i=t.updateQueue;cg=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,u=l=c=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ci({},d,h);break e;case 2:cg=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);k1|=o,t.lanes=o,t.memoizedState=d}}function mX(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ke(191,i));i.call(r)}}}var o4={},Rh=sg(o4),a4=sg(o4),c4=sg(o4);function S1(t){if(t===o4)throw Error(Ke(174));return t}function nM(t,e){switch(Kr(c4,e),Kr(a4,t),Kr(Rh,o4),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rR(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rR(e,t)}si(Rh),Kr(Rh,e)}function Hv(){si(Rh),si(a4),si(c4)}function yX(t){S1(c4.current);var e=S1(Rh.current),n=rR(e,t.type);e!==n&&(Kr(a4,t),Kr(Rh,n))}function rM(t){a4.current===t&&(si(Rh),si(a4))}var _i=sg(0);function y_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iM=[];function sM(){for(var t=0;t<iM.length;t++)iM[t]._workInProgressVersionPrimary=null;iM.length=0}var w_=sp.ReactCurrentDispatcher,oM=sp.ReactCurrentBatchConfig,I1=0,Ai=null,_s=null,zs=null,v_=!1,l4=!1,u4=0,LIe=0;function Yo(){throw Error(Ke(321))}function aM(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xd(t[n],e[n]))return!1;return!0}function cM(t,e,n,r,i,s){if(I1=s,Ai=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w_.current=t===null||t.memoizedState===null?WIe:qIe,t=n(r,i),l4){s=0;do{if(l4=!1,u4=0,25<=s)throw Error(Ke(301));s+=1,zs=_s=null,e.updateQueue=null,w_.current=HIe,t=n(r,i)}while(l4)}if(w_.current=E_,e=_s!==null&&_s.next!==null,I1=0,zs=_s=Ai=null,v_=!1,e)throw Error(Ke(300));return t}function lM(){var t=u4!==0;return u4=0,t}function Mh(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zs===null?Ai.memoizedState=zs=t:zs=zs.next=t,zs}function yu(){if(_s===null){var t=Ai.alternate;t=t!==null?t.memoizedState:null}else t=_s.next;var e=zs===null?Ai.memoizedState:zs.next;if(e!==null)zs=e,_s=t;else{if(t===null)throw Error(Ke(310));_s=t,t={memoizedState:_s.memoizedState,baseState:_s.baseState,baseQueue:_s.baseQueue,queue:_s.queue,next:null},zs===null?Ai.memoizedState=zs=t:zs=zs.next=t}return zs}function d4(t,e){return typeof e=="function"?e(t):e}function uM(t){var e=yu(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=_s,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((I1&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Ai.lanes|=u,k1|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,xd(r,e.memoizedState)||(fc=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ai.lanes|=s,k1|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dM(t){var e=yu(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xd(s,e.memoizedState)||(fc=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wX(){}function vX(t,e){var n=Ai,r=yu(),i=e(),s=!xd(r.memoizedState,i);if(s&&(r.memoizedState=i,fc=!0),r=r.queue,hM(EX.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||zs!==null&&zs.memoizedState.tag&1){if(n.flags|=2048,h4(9,xX.bind(null,n,r,i,e),void 0,null),Ws===null)throw Error(Ke(349));I1&30||bX(n,e,i)}return i}function bX(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ai.updateQueue,e===null?(e={lastEffect:null,stores:null},Ai.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xX(t,e,n,r){e.value=n,e.getSnapshot=r,CX(e)&&_X(t)}function EX(t,e,n){return n(function(){CX(e)&&_X(t)})}function CX(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xd(t,n)}catch{return!0}}function _X(t){var e=up(t,1);e!==null&&Sd(e,t,1,-1)}function AX(t){var e=Mh();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d4,lastRenderedState:t},e.queue=t,t=t.dispatch=zIe.bind(null,Ai,t),[e.memoizedState,t]}function h4(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ai.updateQueue,e===null?(e={lastEffect:null,stores:null},Ai.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SX(){return yu().memoizedState}function b_(t,e,n,r){var i=Mh();Ai.flags|=t,i.memoizedState=h4(1|e,n,void 0,r===void 0?null:r)}function x_(t,e,n,r){var i=yu();r=r===void 0?null:r;var s=void 0;if(_s!==null){var o=_s.memoizedState;if(s=o.destroy,r!==null&&aM(r,o.deps)){i.memoizedState=h4(e,n,s,r);return}}Ai.flags|=t,i.memoizedState=h4(1|e,n,s,r)}function IX(t,e){return b_(8390656,8,t,e)}function hM(t,e){return x_(2048,8,t,e)}function kX(t,e){return x_(4,2,t,e)}function $X(t,e){return x_(4,4,t,e)}function TX(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PX(t,e,n){return n=n!=null?n.concat([t]):null,x_(4,4,TX.bind(null,e,t),n)}function fM(){}function NX(t,e){var n=yu();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aM(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OX(t,e){var n=yu();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aM(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RX(t,e,n){return I1&21?(xd(n,e)||(n=uQ(),Ai.lanes|=n,k1|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fc=!0),t.memoizedState=n)}function UIe(t,e){var n=Er;Er=n!==0&&4>n?n:4,t(!0);var r=oM.transition;oM.transition={};try{t(!1),e()}finally{Er=n,oM.transition=r}}function MX(){return yu().memoizedState}function FIe(t,e,n){var r=fg(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jX(t))BX(e,n);else if(n=fX(t,e,n,r),n!==null){var i=Ma();Sd(n,t,r,i),DX(n,e,r)}}function zIe(t,e,n){var r=fg(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jX(t))BX(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xd(a,o)){var c=e.interleaved;c===null?(i.next=i,eM(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=fX(t,e,i,r),n!==null&&(i=Ma(),Sd(n,t,r,i),DX(n,e,r))}}function jX(t){var e=t.alternate;return t===Ai||e!==null&&e===Ai}function BX(t,e){l4=v_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DX(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gR(t,n)}}var E_={readContext:mu,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useInsertionEffect:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useDeferredValue:Yo,useTransition:Yo,useMutableSource:Yo,useSyncExternalStore:Yo,useId:Yo,unstable_isNewReconciler:!1},WIe={readContext:mu,useCallback:function(t,e){return Mh().memoizedState=[t,e===void 0?null:e],t},useContext:mu,useEffect:IX,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,b_(4194308,4,TX.bind(null,e,t),n)},useLayoutEffect:function(t,e){return b_(4194308,4,t,e)},useInsertionEffect:function(t,e){return b_(4,2,t,e)},useMemo:function(t,e){var n=Mh();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mh();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FIe.bind(null,Ai,t),[r.memoizedState,t]},useRef:function(t){var e=Mh();return t={current:t},e.memoizedState=t},useState:AX,useDebugValue:fM,useDeferredValue:function(t){return Mh().memoizedState=t},useTransition:function(){var t=AX(!1),e=t[0];return t=UIe.bind(null,t[1]),Mh().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ai,i=Mh();if(mi){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=e(),Ws===null)throw Error(Ke(349));I1&30||bX(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,IX(EX.bind(null,r,s,t),[t]),r.flags|=2048,h4(9,xX.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mh(),e=Ws.identifierPrefix;if(mi){var n=lp,r=cp;n=(r&~(1<<32-bd(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=u4++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LIe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qIe={readContext:mu,useCallback:NX,useContext:mu,useEffect:hM,useImperativeHandle:PX,useInsertionEffect:kX,useLayoutEffect:$X,useMemo:OX,useReducer:uM,useRef:SX,useState:function(){return uM(d4)},useDebugValue:fM,useDeferredValue:function(t){var e=yu();return RX(e,_s.memoizedState,t)},useTransition:function(){var t=uM(d4)[0],e=yu().memoizedState;return[t,e]},useMutableSource:wX,useSyncExternalStore:vX,useId:MX,unstable_isNewReconciler:!1},HIe={readContext:mu,useCallback:NX,useContext:mu,useEffect:hM,useImperativeHandle:PX,useInsertionEffect:kX,useLayoutEffect:$X,useMemo:OX,useReducer:dM,useRef:SX,useState:function(){return dM(d4)},useDebugValue:fM,useDeferredValue:function(t){var e=yu();return _s===null?e.memoizedState=t:RX(e,_s.memoizedState,t)},useTransition:function(){var t=dM(d4)[0],e=yu().memoizedState;return[t,e]},useMutableSource:wX,useSyncExternalStore:vX,useId:MX,unstable_isNewReconciler:!1};function Cd(t,e){if(t&&t.defaultProps){e=Ci({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ci({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var C_={isMounted:function(t){return(t=t._reactInternals)?b1(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ma(),i=fg(t),s=dp(r,i);s.payload=e,n!=null&&(s.callback=n),e=lg(t,s,i),e!==null&&(Sd(e,t,i,r),g_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ma(),i=fg(t),s=dp(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=lg(t,s,i),e!==null&&(Sd(e,t,i,r),g_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ma(),r=fg(t),i=dp(n,r);i.tag=2,e!=null&&(i.callback=e),e=lg(t,i,r),e!==null&&(Sd(e,t,r,n),g_(e,t,r))}};function LX(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Q6(n,r)||!Q6(i,s):!0}function UX(t,e,n){var r=!1,i=og,s=e.contextType;return typeof s=="object"&&s!==null?s=mu(s):(i=hc(e)?E1:Zo.current,r=e.contextTypes,s=(r=r!=null)?Dv(t,i):og),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=C_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function FX(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&C_.enqueueReplaceState(e,e.state,null)}function gM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},tM(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mu(s):(s=hc(e)?E1:Zo.current,i.context=Dv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pM(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&C_.enqueueReplaceState(i,i.state,null),m_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vv(t,e){try{var n="",r=e;do n+=vSe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mM(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VIe=typeof WeakMap=="function"?WeakMap:Map;function zX(t,e,n){n=dp(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){T_||(T_=!0,NM=r),yM(t,e)},n}function WX(t,e,n){n=dp(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yM(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yM(t,e),typeof r!="function"&&(dg===null?dg=new Set([this]):dg.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qX(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VIe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oke.bind(null,t,e,n),e.then(t,t))}function HX(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VX(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dp(-1,1),e.tag=2,lg(n,e,1))),n.lanes|=1),t)}var KIe=sp.ReactCurrentOwner,fc=!1;function Ra(t,e,n,r){e.child=t===null?hX(e,null,n,r):zv(e,t.child,n,r)}function KX(t,e,n,r,i){n=n.render;var s=e.ref;return qv(e,i),r=cM(t,e,n,r,s,i),n=lM(),t!==null&&!fc?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hp(t,e,i)):(mi&&n&&HR(e),e.flags|=1,Ra(t,e,r,i),e.child)}function GX(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!LM(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZX(t,e,s,r,i)):(t=j_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Q6,n(o,r)&&t.ref===e.ref)return hp(t,e,i)}return e.flags|=1,t=gg(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZX(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Q6(s,r)&&t.ref===e.ref)if(fc=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fc=!0);else return e.lanes=t.lanes,hp(t,e,i)}return wM(t,e,n,r,i)}function YX(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Gv,xl),xl|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kr(Gv,xl),xl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Kr(Gv,xl),xl|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Kr(Gv,xl),xl|=r;return Ra(t,e,i,n),e.child}function JX(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wM(t,e,n,r,i){var s=hc(n)?E1:Zo.current;return s=Dv(e,s),qv(e,i),n=cM(t,e,n,r,s,i),r=lM(),t!==null&&!fc?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hp(t,e,i)):(mi&&r&&HR(e),e.flags|=1,Ra(t,e,n,i),e.child)}function QX(t,e,n,r,i){if(hc(n)){var s=!0;a_(e)}else s=!1;if(qv(e,i),e.stateNode===null)A_(t,e),UX(e,n,r),gM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=mu(l):(l=hc(n)?E1:Zo.current,l=Dv(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&FX(e,o,r,l),cg=!1;var h=e.memoizedState;o.state=h,m_(e,r,o,i),c=e.memoizedState,a!==r||h!==c||dc.current||cg?(typeof u=="function"&&(pM(e,n,u,r),c=e.memoizedState),(a=cg||LX(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pX(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Cd(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=mu(c):(c=hc(n)?E1:Zo.current,c=Dv(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&FX(e,o,r,c),cg=!1,h=e.memoizedState,o.state=h,m_(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||dc.current||cg?(typeof f=="function"&&(pM(e,n,f,r),p=e.memoizedState),(l=cg||LX(e,n,l,r,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return vM(t,e,n,r,s,i)}function vM(t,e,n,r,i,s){JX(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rX(e,n,!1),hp(t,e,s);r=e.stateNode,KIe.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zv(e,t.child,null,s),e.child=zv(e,null,a,s)):Ra(t,e,a,s),e.memoizedState=r.state,i&&rX(e,n,!0),e.child}function XX(t){var e=t.stateNode;e.pendingContext?tX(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tX(t,e.context,!1),nM(t,e.containerInfo)}function eee(t,e,n,r,i){return Fv(),ZR(i),e.flags|=256,Ra(t,e,n,r),e.child}var bM={dehydrated:null,treeContext:null,retryLane:0};function xM(t){return{baseLanes:t,cachePool:null,transitions:null}}function tee(t,e,n){var r=e.pendingProps,i=_i.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kr(_i,i&1),t===null)return GR(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=B_(o,r,0,null),t=N1(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xM(n),e.memoizedState=bM,t):EM(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GIe(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=gg(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=gg(a,s):(s=N1(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=bM,r}return s=t.child,t=s.sibling,r=gg(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function EM(t,e){return e=B_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function __(t,e,n,r){return r!==null&&ZR(r),zv(e,t.child,null,n),t=EM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GIe(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mM(Error(Ke(422))),__(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=B_({mode:"visible",children:r.children},i,0,null),s=N1(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zv(e,t.child,null,o),e.child.memoizedState=xM(o),e.memoizedState=bM,s);if(!(e.mode&1))return __(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ke(419)),r=mM(s,r,void 0),__(t,e,o,r)}if(a=(o&t.childLanes)!==0,fc||a){if(r=Ws,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,up(t,i),Sd(r,t,i,-1))}return DM(),r=mM(Error(Ke(421))),__(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ake.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bl=ig(i.nextSibling),vl=e,mi=!0,Ed=null,t!==null&&(pu[gu++]=cp,pu[gu++]=lp,pu[gu++]=C1,cp=t.id,lp=t.overflow,C1=e),e=EM(e,r.children),e.flags|=4096,e)}function nee(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),XR(t.return,e,n)}function CM(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ree(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ra(t,e,r.children,n),r=_i.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nee(t,n,e);else if(t.tag===19)nee(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Kr(_i,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&y_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),CM(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&y_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}CM(e,!0,n,null,s);break;case"together":CM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function A_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hp(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),k1|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,n=gg(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gg(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZIe(t,e,n){switch(e.tag){case 3:XX(e),Fv();break;case 5:yX(e);break;case 1:hc(e.type)&&a_(e);break;case 4:nM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Kr(f_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Kr(_i,_i.current&1),e.flags|=128,null):n&e.child.childLanes?tee(t,e,n):(Kr(_i,_i.current&1),t=hp(t,e,n),t!==null?t.sibling:null);Kr(_i,_i.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ree(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kr(_i,_i.current),r)break;return null;case 22:case 23:return e.lanes=0,YX(t,e,n)}return hp(t,e,n)}var iee,_M,see,oee;iee=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_M=function(){},see=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,S1(Rh.current);var s=null;switch(n){case"input":i=XO(t,i),r=XO(t,r),s=[];break;case"select":i=Ci({},i,{value:void 0}),r=Ci({},r,{value:void 0}),s=[];break;case"textarea":i=nR(t,i),r=nR(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=i_)}iR(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(P6.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(P6.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&ii("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}},oee=function(t,e,n,r){n!==r&&(e.flags|=4)};function f4(t,e){if(!mi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YIe(t,e,n){var r=e.pendingProps;switch(VR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jo(e),null;case 1:return hc(e.type)&&o_(),Jo(e),null;case 3:return r=e.stateNode,Hv(),si(dc),si(Zo),sM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(d_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ed!==null&&(MM(Ed),Ed=null))),_M(t,e),Jo(e),null;case 5:rM(e);var i=S1(c4.current);if(n=e.type,t!==null&&e.stateNode!=null)see(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ke(166));return Jo(e),null}if(t=S1(Rh.current),d_(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Oh]=e,r[r4]=s,t=(e.mode&1)!==0,n){case"dialog":ii("cancel",r),ii("close",r);break;case"iframe":case"object":case"embed":ii("load",r);break;case"video":case"audio":for(i=0;i<e4.length;i++)ii(e4[i],r);break;case"source":ii("error",r);break;case"img":case"image":case"link":ii("error",r),ii("load",r);break;case"details":ii("toggle",r);break;case"input":UJ(r,s),ii("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ii("invalid",r);break;case"textarea":WJ(r,s),ii("invalid",r)}iR(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&r_(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&r_(r.textContent,a,t),i=["children",""+a]):P6.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ii("scroll",r)}switch(n){case"input":R7(r),zJ(r,s,!0);break;case"textarea":R7(r),HJ(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=i_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VJ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Oh]=e,t[r4]=r,iee(t,e,!1,!1),e.stateNode=t;e:{switch(o=sR(n,r),n){case"dialog":ii("cancel",t),ii("close",t),i=r;break;case"iframe":case"object":case"embed":ii("load",t),i=r;break;case"video":case"audio":for(i=0;i<e4.length;i++)ii(e4[i],t);i=r;break;case"source":ii("error",t),i=r;break;case"img":case"image":case"link":ii("error",t),ii("load",t),i=r;break;case"details":ii("toggle",t),i=r;break;case"input":UJ(t,r),i=XO(t,r),ii("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ci({},r,{value:void 0}),ii("invalid",t);break;case"textarea":WJ(t,r),i=nR(t,r),ii("invalid",t);break;default:i=r}iR(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?ZJ(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&KJ(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&M6(t,c):typeof c=="number"&&M6(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(P6.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ii("scroll",t):c!=null&&zO(t,s,c,o))}switch(n){case"input":R7(t),zJ(t,r,!1);break;case"textarea":R7(t),HJ(t);break;case"option":r.value!=null&&t.setAttribute("value",""+J0(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sv(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=i_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jo(e),null;case 6:if(t&&e.stateNode!=null)oee(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ke(166));if(n=S1(c4.current),S1(Rh.current),d_(e)){if(r=e.stateNode,n=e.memoizedProps,r[Oh]=e,(s=r.nodeValue!==n)&&(t=vl,t!==null))switch(t.tag){case 3:r_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&r_(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oh]=e,e.stateNode=r}return Jo(e),null;case 13:if(si(_i),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mi&&bl!==null&&e.mode&1&&!(e.flags&128))lX(),Fv(),e.flags|=98560,s=!1;else if(s=d_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ke(317));s[Oh]=e}else Fv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jo(e),s=!1}else Ed!==null&&(MM(Ed),Ed=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_i.current&1?As===0&&(As=3):DM())),e.updateQueue!==null&&(e.flags|=4),Jo(e),null);case 4:return Hv(),_M(t,e),t===null&&t4(e.stateNode.containerInfo),Jo(e),null;case 10:return QR(e.type._context),Jo(e),null;case 17:return hc(e.type)&&o_(),Jo(e),null;case 19:if(si(_i),s=e.memoizedState,s===null)return Jo(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)f4(s,!1);else{if(As!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=y_(t),o!==null){for(e.flags|=128,f4(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Kr(_i,_i.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vi()>Zv&&(e.flags|=128,r=!0,f4(s,!1),e.lanes=4194304)}else{if(!r)if(t=y_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),f4(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!mi)return Jo(e),null}else 2*Vi()-s.renderingStartTime>Zv&&n!==1073741824&&(e.flags|=128,r=!0,f4(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vi(),e.sibling=null,n=_i.current,Kr(_i,r?n&1|2:n&1),e):(Jo(e),null);case 22:case 23:return BM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xl&1073741824&&(Jo(e),e.subtreeFlags&6&&(e.flags|=8192)):Jo(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function JIe(t,e){switch(VR(e),e.tag){case 1:return hc(e.type)&&o_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hv(),si(dc),si(Zo),sM(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rM(e),null;case 13:if(si(_i),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Fv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return si(_i),null;case 4:return Hv(),null;case 10:return QR(e.type._context),null;case 22:case 23:return BM(),null;case 24:return null;default:return null}}var S_=!1,Qo=!1,QIe=typeof WeakSet=="function"?WeakSet:Set,At=null;function Kv(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ni(t,e,r)}else n.current=null}function AM(t,e,n){try{n()}catch(r){Ni(t,e,r)}}var aee=!1;function XIe(t,e){if(BR=V7,t=LQ(),$R(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(DR={focusedElem:t,selectionRange:n},V7=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){e=At;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Cd(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(E){Ni(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}return p=aee,aee=!1,p}function p4(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&AM(e,n,s)}i=i.next}while(i!==r)}}function I_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function SM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cee(t){var e=t.alternate;e!==null&&(t.alternate=null,cee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oh],delete e[r4],delete e[zR],delete e[MIe],delete e[jIe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lee(t){return t.tag===5||t.tag===3||t.tag===4}function uee(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function IM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=i_));else if(r!==4&&(t=t.child,t!==null))for(IM(t,e,n),t=t.sibling;t!==null;)IM(t,e,n),t=t.sibling}function kM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kM(t,e,n),t=t.sibling;t!==null;)kM(t,e,n),t=t.sibling}var po=null,_d=!1;function ug(t,e,n){for(n=n.child;n!==null;)dee(t,e,n),n=n.sibling}function dee(t,e,n){if(Nh&&typeof Nh.onCommitFiberUnmount=="function")try{Nh.onCommitFiberUnmount(U7,n)}catch{}switch(n.tag){case 5:Qo||Kv(n,e);case 6:var r=po,i=_d;po=null,ug(t,e,n),po=r,_d=i,po!==null&&(_d?(t=po,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):po.removeChild(n.stateNode));break;case 18:po!==null&&(_d?(t=po,n=n.stateNode,t.nodeType===8?FR(t.parentNode,n):t.nodeType===1&&FR(t,n),V6(t)):FR(po,n.stateNode));break;case 4:r=po,i=_d,po=n.stateNode.containerInfo,_d=!0,ug(t,e,n),po=r,_d=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&AM(n,e,o),i=i.next}while(i!==r)}ug(t,e,n);break;case 1:if(!Qo&&(Kv(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ni(n,e,a)}ug(t,e,n);break;case 21:ug(t,e,n);break;case 22:n.mode&1?(Qo=(r=Qo)||n.memoizedState!==null,ug(t,e,n),Qo=r):ug(t,e,n);break;default:ug(t,e,n)}}function hee(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QIe),e.forEach(function(r){var i=cke.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ad(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:po=a.stateNode,_d=!1;break e;case 3:po=a.stateNode.containerInfo,_d=!0;break e;case 4:po=a.stateNode.containerInfo,_d=!0;break e}a=a.return}if(po===null)throw Error(Ke(160));dee(s,o,i),po=null,_d=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Ni(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fee(e,t),e=e.sibling}function fee(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ad(e,t),jh(t),r&4){try{p4(3,t,t.return),I_(3,t)}catch(m){Ni(t,t.return,m)}try{p4(5,t,t.return)}catch(m){Ni(t,t.return,m)}}break;case 1:Ad(e,t),jh(t),r&512&&n!==null&&Kv(n,n.return);break;case 5:if(Ad(e,t),jh(t),r&512&&n!==null&&Kv(n,n.return),t.flags&32){var i=t.stateNode;try{M6(i,"")}catch(m){Ni(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FJ(i,s),sR(a,o);var l=sR(a,s);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?ZJ(i,d):u==="dangerouslySetInnerHTML"?KJ(i,d):u==="children"?M6(i,d):zO(i,u,d,l)}switch(a){case"input":eR(i,s);break;case"textarea":qJ(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Sv(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Sv(i,!!s.multiple,s.defaultValue,!0):Sv(i,!!s.multiple,s.multiple?[]:"",!1))}i[r4]=s}catch(m){Ni(t,t.return,m)}}break;case 6:if(Ad(e,t),jh(t),r&4){if(t.stateNode===null)throw Error(Ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ni(t,t.return,m)}}break;case 3:if(Ad(e,t),jh(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{V6(e.containerInfo)}catch(m){Ni(t,t.return,m)}break;case 4:Ad(e,t),jh(t);break;case 13:Ad(e,t),jh(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PM=Vi())),r&4&&hee(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qo=(l=Qo)||u,Ad(e,t),Qo=l):Ad(e,t),jh(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(At=t,u=t.child;u!==null;){for(d=At=u;At!==null;){switch(h=At,f=h.child,h.tag){case 0:case 11:case 14:case 15:p4(4,h,h.return);break;case 1:Kv(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ni(r,n,m)}}break;case 5:Kv(h,h.return);break;case 22:if(h.memoizedState!==null){mee(d);continue}}f!==null?(f.return=h,At=f):mee(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=GJ("display",o))}catch(m){Ni(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ni(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ad(e,t),jh(t),r&4&&hee(t);break;case 21:break;default:Ad(e,t),jh(t)}}function jh(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lee(n)){var r=n;break e}n=n.return}throw Error(Ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(M6(i,""),r.flags&=-33);var s=uee(t);kM(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uee(t);IM(t,a,o);break;default:throw Error(Ke(161))}}catch(c){Ni(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eke(t,e,n){At=t,pee(t)}function pee(t,e,n){for(var r=(t.mode&1)!==0;At!==null;){var i=At,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||S_;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Qo;a=S_;var l=Qo;if(S_=o,(Qo=c)&&!l)for(At=i;At!==null;)o=At,c=o.child,o.tag===22&&o.memoizedState!==null?yee(i):c!==null?(c.return=o,At=c):yee(i);for(;s!==null;)At=s,pee(s),s=s.sibling;At=i,S_=a,Qo=l}gee(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,At=s):gee(t)}}function gee(t){for(;At!==null;){var e=At;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qo||I_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cd(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mX(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mX(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&V6(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Qo||e.flags&512&&SM(e)}catch(h){Ni(e,e.return,h)}}if(e===t){At=null;break}if(n=e.sibling,n!==null){n.return=e.return,At=n;break}At=e.return}}function mee(t){for(;At!==null;){var e=At;if(e===t){At=null;break}var n=e.sibling;if(n!==null){n.return=e.return,At=n;break}At=e.return}}function yee(t){for(;At!==null;){var e=At;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{I_(4,e)}catch(c){Ni(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ni(e,i,c)}}var s=e.return;try{SM(e)}catch(c){Ni(e,s,c)}break;case 5:var o=e.return;try{SM(e)}catch(c){Ni(e,o,c)}}}catch(c){Ni(e,e.return,c)}if(e===t){At=null;break}var a=e.sibling;if(a!==null){a.return=e.return,At=a;break}At=e.return}}var tke=Math.ceil,k_=sp.ReactCurrentDispatcher,$M=sp.ReactCurrentOwner,wu=sp.ReactCurrentBatchConfig,Kn=0,Ws=null,cs=null,go=0,xl=0,Gv=sg(0),As=0,g4=null,k1=0,$_=0,TM=0,m4=null,pc=null,PM=0,Zv=1/0,fp=null,T_=!1,NM=null,dg=null,P_=!1,hg=null,N_=0,y4=0,OM=null,O_=-1,R_=0;function Ma(){return Kn&6?Vi():O_!==-1?O_:O_=Vi()}function fg(t){return t.mode&1?Kn&2&&go!==0?go&-go:DIe.transition!==null?(R_===0&&(R_=uQ()),R_):(t=Er,t!==0||(t=window.event,t=t===void 0?16:vQ(t.type)),t):1}function Sd(t,e,n,r){if(50<y4)throw y4=0,OM=null,Error(Ke(185));F6(t,n,r),(!(Kn&2)||t!==Ws)&&(t===Ws&&(!(Kn&2)&&($_|=n),As===4&&pg(t,go)),gc(t,r),n===1&&Kn===0&&!(e.mode&1)&&(Zv=Vi()+500,c_&&ag()))}function gc(t,e){var n=t.callbackNode;DSe(t,e);var r=W7(t,t===Ws?go:0);if(r===0)n!==null&&aQ(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&aQ(n),e===1)t.tag===0?BIe(vee.bind(null,t)):iX(vee.bind(null,t)),OIe(function(){!(Kn&6)&&ag()}),n=null;else{switch(dQ(r)){case 1:n=hR;break;case 4:n=cQ;break;case 16:n=L7;break;case 536870912:n=lQ;break;default:n=L7}n=Iee(n,wee.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wee(t,e){if(O_=-1,R_=0,Kn&6)throw Error(Ke(327));var n=t.callbackNode;if(Yv()&&t.callbackNode!==n)return null;var r=W7(t,t===Ws?go:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=M_(t,r);else{e=r;var i=Kn;Kn|=2;var s=xee();(Ws!==t||go!==e)&&(fp=null,Zv=Vi()+500,T1(t,e));do try{ike();break}catch(a){bee(t,a)}while(!0);JR(),k_.current=s,Kn=i,cs!==null?e=0:(Ws=null,go=0,e=As)}if(e!==0){if(e===2&&(i=fR(t),i!==0&&(r=i,e=RM(t,i))),e===1)throw n=g4,T1(t,0),pg(t,r),gc(t,Vi()),n;if(e===6)pg(t,r);else{if(i=t.current.alternate,!(r&30)&&!nke(i)&&(e=M_(t,r),e===2&&(s=fR(t),s!==0&&(r=s,e=RM(t,s))),e===1))throw n=g4,T1(t,0),pg(t,r),gc(t,Vi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ke(345));case 2:P1(t,pc,fp);break;case 3:if(pg(t,r),(r&130023424)===r&&(e=PM+500-Vi(),10<e)){if(W7(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ma(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=UR(P1.bind(null,t,pc,fp),e);break}P1(t,pc,fp);break;case 4:if(pg(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-bd(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tke(r/1960))-r,10<r){t.timeoutHandle=UR(P1.bind(null,t,pc,fp),r);break}P1(t,pc,fp);break;case 5:P1(t,pc,fp);break;default:throw Error(Ke(329))}}}return gc(t,Vi()),t.callbackNode===n?wee.bind(null,t):null}function RM(t,e){var n=m4;return t.current.memoizedState.isDehydrated&&(T1(t,e).flags|=256),t=M_(t,e),t!==2&&(e=pc,pc=n,e!==null&&MM(e)),t}function MM(t){pc===null?pc=t:pc.push.apply(pc,t)}function nke(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xd(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pg(t,e){for(e&=~TM,e&=~$_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bd(e),r=1<<n;t[n]=-1,e&=~r}}function vee(t){if(Kn&6)throw Error(Ke(327));Yv();var e=W7(t,0);if(!(e&1))return gc(t,Vi()),null;var n=M_(t,e);if(t.tag!==0&&n===2){var r=fR(t);r!==0&&(e=r,n=RM(t,r))}if(n===1)throw n=g4,T1(t,0),pg(t,e),gc(t,Vi()),n;if(n===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,P1(t,pc,fp),gc(t,Vi()),null}function jM(t,e){var n=Kn;Kn|=1;try{return t(e)}finally{Kn=n,Kn===0&&(Zv=Vi()+500,c_&&ag())}}function $1(t){hg!==null&&hg.tag===0&&!(Kn&6)&&Yv();var e=Kn;Kn|=1;var n=wu.transition,r=Er;try{if(wu.transition=null,Er=1,t)return t()}finally{Er=r,wu.transition=n,Kn=e,!(Kn&6)&&ag()}}function BM(){xl=Gv.current,si(Gv)}function T1(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NIe(n)),cs!==null)for(n=cs.return;n!==null;){var r=n;switch(VR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&o_();break;case 3:Hv(),si(dc),si(Zo),sM();break;case 5:rM(r);break;case 4:Hv();break;case 13:si(_i);break;case 19:si(_i);break;case 10:QR(r.type._context);break;case 22:case 23:BM()}n=n.return}if(Ws=t,cs=t=gg(t.current,null),go=xl=e,As=0,g4=null,TM=$_=k1=0,pc=m4=null,A1!==null){for(e=0;e<A1.length;e++)if(n=A1[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}A1=null}return t}function bee(t,e){do{var n=cs;try{if(JR(),w_.current=E_,v_){for(var r=Ai.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}v_=!1}if(I1=0,zs=_s=Ai=null,l4=!1,u4=0,$M.current=null,n===null||n.return===null){As=1,g4=e,cs=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=go,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=HX(o);if(f!==null){f.flags&=-257,VX(f,o,a,s,e),f.mode&1&&qX(s,l,e),e=f,c=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(c),e.updateQueue=m}else p.add(c);break e}else{if(!(e&1)){qX(s,l,e),DM();break e}c=Error(Ke(426))}}else if(mi&&a.mode&1){var w=HX(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),VX(w,o,a,s,e),ZR(Vv(c,a));break e}}s=c=Vv(c,a),As!==4&&(As=2),m4===null?m4=[s]:m4.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=zX(s,c,e);gX(s,y);break e;case 1:a=c;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(dg===null||!dg.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=WX(s,a,e);gX(s,E);break e}}s=s.return}while(s!==null)}Cee(n)}catch(_){e=_,cs===n&&n!==null&&(cs=n=n.return);continue}break}while(!0)}function xee(){var t=k_.current;return k_.current=E_,t===null?E_:t}function DM(){(As===0||As===3||As===2)&&(As=4),Ws===null||!(k1&268435455)&&!($_&268435455)||pg(Ws,go)}function M_(t,e){var n=Kn;Kn|=2;var r=xee();(Ws!==t||go!==e)&&(fp=null,T1(t,e));do try{rke();break}catch(i){bee(t,i)}while(!0);if(JR(),Kn=n,k_.current=r,cs!==null)throw Error(Ke(261));return Ws=null,go=0,As}function rke(){for(;cs!==null;)Eee(cs)}function ike(){for(;cs!==null&&!$Se();)Eee(cs)}function Eee(t){var e=See(t.alternate,t,xl);t.memoizedProps=t.pendingProps,e===null?Cee(t):cs=e,$M.current=null}function Cee(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JIe(n,e),n!==null){n.flags&=32767,cs=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{As=6,cs=null;return}}else if(n=YIe(n,e,xl),n!==null){cs=n;return}if(e=e.sibling,e!==null){cs=e;return}cs=e=t}while(e!==null);As===0&&(As=5)}function P1(t,e,n){var r=Er,i=wu.transition;try{wu.transition=null,Er=1,ske(t,e,n,r)}finally{wu.transition=i,Er=r}return null}function ske(t,e,n,r){do Yv();while(hg!==null);if(Kn&6)throw Error(Ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LSe(t,s),t===Ws&&(cs=Ws=null,go=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||P_||(P_=!0,Iee(L7,function(){return Yv(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wu.transition,wu.transition=null;var o=Er;Er=1;var a=Kn;Kn|=4,$M.current=null,XIe(t,n),fee(n,t),AIe(DR),V7=!!BR,DR=BR=null,t.current=n,eke(n),TSe(),Kn=a,Er=o,wu.transition=s}else t.current=n;if(P_&&(P_=!1,hg=t,N_=i),s=t.pendingLanes,s===0&&(dg=null),OSe(n.stateNode),gc(t,Vi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(T_)throw T_=!1,t=NM,NM=null,t;return N_&1&&t.tag!==0&&Yv(),s=t.pendingLanes,s&1?t===OM?y4++:(y4=0,OM=t):y4=0,ag(),null}function Yv(){if(hg!==null){var t=dQ(N_),e=wu.transition,n=Er;try{if(wu.transition=null,Er=16>t?16:t,hg===null)var r=!1;else{if(t=hg,hg=null,N_=0,Kn&6)throw Error(Ke(331));var i=Kn;for(Kn|=4,At=t.current;At!==null;){var s=At,o=s.child;if(At.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(At=l;At!==null;){var u=At;switch(u.tag){case 0:case 11:case 15:p4(8,u,s)}var d=u.child;if(d!==null)d.return=u,At=d;else for(;At!==null;){u=At;var h=u.sibling,f=u.return;if(cee(u),u===l){At=null;break}if(h!==null){h.return=f,At=h;break}At=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}At=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,At=o;else e:for(;At!==null;){if(s=At,s.flags&2048)switch(s.tag){case 0:case 11:case 15:p4(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,At=y;break e}At=s.return}}var b=t.current;for(At=b;At!==null;){o=At;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,At=v;else e:for(o=b;At!==null;){if(a=At,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:I_(9,a)}}catch(_){Ni(a,a.return,_)}if(a===o){At=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,At=E;break e}At=a.return}}if(Kn=i,ag(),Nh&&typeof Nh.onPostCommitFiberRoot=="function")try{Nh.onPostCommitFiberRoot(U7,t)}catch{}r=!0}return r}finally{Er=n,wu.transition=e}}return!1}function _ee(t,e,n){e=Vv(n,e),e=zX(t,e,1),t=lg(t,e,1),e=Ma(),t!==null&&(F6(t,1,e),gc(t,e))}function Ni(t,e,n){if(t.tag===3)_ee(t,t,n);else for(;e!==null;){if(e.tag===3){_ee(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dg===null||!dg.has(r))){t=Vv(n,t),t=WX(e,t,1),e=lg(e,t,1),t=Ma(),e!==null&&(F6(e,1,t),gc(e,t));break}}e=e.return}}function oke(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ma(),t.pingedLanes|=t.suspendedLanes&n,Ws===t&&(go&n)===n&&(As===4||As===3&&(go&130023424)===go&&500>Vi()-PM?T1(t,0):TM|=n),gc(t,e)}function Aee(t,e){e===0&&(t.mode&1?(e=z7,z7<<=1,!(z7&130023424)&&(z7=4194304)):e=1);var n=Ma();t=up(t,e),t!==null&&(F6(t,e,n),gc(t,n))}function ake(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Aee(t,n)}function cke(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ke(314))}r!==null&&r.delete(e),Aee(t,n)}var See;See=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dc.current)fc=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fc=!1,ZIe(t,e,n);fc=!!(t.flags&131072)}else fc=!1,mi&&e.flags&1048576&&sX(e,u_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;A_(t,e),t=e.pendingProps;var i=Dv(e,Zo.current);qv(e,n),i=cM(null,e,r,t,i,n);var s=lM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hc(r)?(s=!0,a_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tM(e),i.updater=C_,e.stateNode=i,i._reactInternals=e,gM(e,r,t,n),e=vM(null,e,r,!0,s,n)):(e.tag=0,mi&&s&&HR(e),Ra(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(A_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uke(r),t=Cd(r,t),i){case 0:e=wM(null,e,r,t,n);break e;case 1:e=QX(null,e,r,t,n);break e;case 11:e=KX(null,e,r,t,n);break e;case 14:e=GX(null,e,r,Cd(r.type,t),n);break e}throw Error(Ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cd(r,i),wM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cd(r,i),QX(t,e,r,i,n);case 3:e:{if(XX(e),t===null)throw Error(Ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,pX(t,e),m_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vv(Error(Ke(423)),e),e=eee(t,e,r,n,i);break e}else if(r!==i){i=Vv(Error(Ke(424)),e),e=eee(t,e,r,n,i);break e}else for(bl=ig(e.stateNode.containerInfo.firstChild),vl=e,mi=!0,Ed=null,n=hX(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fv(),r===i){e=hp(t,e,n);break e}Ra(t,e,r,n)}e=e.child}return e;case 5:return yX(e),t===null&&GR(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,LR(r,i)?o=null:s!==null&&LR(r,s)&&(e.flags|=32),JX(t,e),Ra(t,e,o,n),e.child;case 6:return t===null&&GR(e),null;case 13:return tee(t,e,n);case 4:return nM(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zv(e,null,r,n):Ra(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cd(r,i),KX(t,e,r,i,n);case 7:return Ra(t,e,e.pendingProps,n),e.child;case 8:return Ra(t,e,e.pendingProps.children,n),e.child;case 12:return Ra(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Kr(f_,r._currentValue),r._currentValue=o,s!==null)if(xd(s.value,o)){if(s.children===i.children&&!dc.current){e=hp(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=dp(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),XR(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ke(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),XR(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ra(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qv(e,n),i=mu(i),r=r(i),e.flags|=1,Ra(t,e,r,n),e.child;case 14:return r=e.type,i=Cd(r,e.pendingProps),i=Cd(r.type,i),GX(t,e,r,i,n);case 15:return ZX(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cd(r,i),A_(t,e),e.tag=1,hc(r)?(t=!0,a_(e)):t=!1,qv(e,n),UX(e,r,i),gM(e,r,i,n),vM(null,e,r,!0,t,n);case 19:return ree(t,e,n);case 22:return YX(t,e,n)}throw Error(Ke(156,e.tag))};function Iee(t,e){return oQ(t,e)}function lke(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vu(t,e,n,r){return new lke(t,e,n,r)}function LM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uke(t){if(typeof t=="function")return LM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HO)return 11;if(t===GO)return 14}return 2}function gg(t,e){var n=t.alternate;return n===null?(n=vu(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function j_(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")LM(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Av:return N1(n.children,i,s,e);case WO:o=8,i|=8;break;case qO:return t=vu(12,n,e,i|2),t.elementType=qO,t.lanes=s,t;case VO:return t=vu(13,n,e,i),t.elementType=VO,t.lanes=s,t;case KO:return t=vu(19,n,e,i),t.elementType=KO,t.lanes=s,t;case jJ:return B_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RJ:o=10;break e;case MJ:o=9;break e;case HO:o=11;break e;case GO:o=14;break e;case Y0:o=16,r=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=vu(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function N1(t,e,n,r){return t=vu(7,t,r,e),t.lanes=n,t}function B_(t,e,n,r){return t=vu(22,t,r,e),t.elementType=jJ,t.lanes=n,t.stateNode={isHidden:!1},t}function UM(t,e,n){return t=vu(6,t,null,e),t.lanes=n,t}function FM(t,e,n){return e=vu(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dke(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pR(0),this.expirationTimes=pR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pR(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zM(t,e,n,r,i,s,o,a,c){return t=new dke(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vu(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tM(s),t}function hke(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_v,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kee(t){if(!t)return og;t=t._reactInternals;e:{if(b1(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var n=t.type;if(hc(n))return nX(t,n,e)}return e}function $ee(t,e,n,r,i,s,o,a,c){return t=zM(n,r,!0,t,i,s,o,a,c),t.context=kee(null),n=t.current,r=Ma(),i=fg(n),s=dp(r,i),s.callback=e??null,lg(n,s,i),t.current.lanes=i,F6(t,i,r),gc(t,r),t}function D_(t,e,n,r){var i=e.current,s=Ma(),o=fg(i);return n=kee(n),e.context===null?e.context=n:e.pendingContext=n,e=dp(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lg(i,e,o),t!==null&&(Sd(t,i,o,s),g_(t,i,o)),o}function L_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tee(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function WM(t,e){Tee(t,e),(t=t.alternate)&&Tee(t,e)}function fke(){return null}var Pee=typeof reportError=="function"?reportError:function(t){console.error(t)};function qM(t){this._internalRoot=t}U_.prototype.render=qM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));D_(t,e,null,null)},U_.prototype.unmount=qM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$1(function(){D_(null,t,null,null)}),e[op]=null}};function U_(t){this._internalRoot=t}U_.prototype.unstable_scheduleHydration=function(t){if(t){var e=pQ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tg.length&&e!==0&&e<tg[n].priority;n++);tg.splice(n,0,t),n===0&&yQ(t)}};function HM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function F_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nee(){}function pke(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=L_(o);s.call(l)}}var o=$ee(e,r,t,0,null,!1,!1,"",Nee);return t._reactRootContainer=o,t[op]=o.current,t4(t.nodeType===8?t.parentNode:t),$1(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=L_(c);a.call(l)}}var c=zM(t,0,!1,null,null,!1,!1,"",Nee);return t._reactRootContainer=c,t[op]=c.current,t4(t.nodeType===8?t.parentNode:t),$1(function(){D_(e,c,n,r)}),c}function z_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=L_(o);a.call(c)}}D_(e,o,t,i)}else o=pke(n,e,t,i,r);return L_(o)}hQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=U6(e.pendingLanes);n!==0&&(gR(e,n|1),gc(e,Vi()),!(Kn&6)&&(Zv=Vi()+500,ag()))}break;case 13:$1(function(){var r=up(t,1);if(r!==null){var i=Ma();Sd(r,t,1,i)}}),WM(t,1)}},mR=function(t){if(t.tag===13){var e=up(t,134217728);if(e!==null){var n=Ma();Sd(e,t,134217728,n)}WM(t,134217728)}},fQ=function(t){if(t.tag===13){var e=fg(t),n=up(t,e);if(n!==null){var r=Ma();Sd(n,t,e,r)}WM(t,e)}},pQ=function(){return Er},gQ=function(t,e){var n=Er;try{return Er=t,e()}finally{Er=n}},cR=function(t,e,n){switch(e){case"input":if(eR(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=s_(r);if(!i)throw Error(Ke(90));LJ(r),eR(r,i)}}}break;case"textarea":qJ(t,n);break;case"select":e=n.value,e!=null&&Sv(t,!!n.multiple,e,!1)}},XJ=jM,eQ=$1;var gke={usingClientEntryPoint:!1,Events:[i4,jv,s_,JJ,QJ,jM]},w4={findFiberByHostInstance:x1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mke={bundleType:w4.bundleType,version:w4.version,rendererPackageName:w4.rendererPackageName,rendererConfig:w4.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sp.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iQ(t),t===null?null:t.stateNode},findFiberByHostInstance:w4.findFiberByHostInstance||fke,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var W_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!W_.isDisabled&&W_.supportsFiber)try{U7=W_.inject(mke),Nh=W_}catch{}}ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gke,ml.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HM(e))throw Error(Ke(200));return hke(t,e,null,n)},ml.createRoot=function(t,e){if(!HM(t))throw Error(Ke(299));var n=!1,r="",i=Pee;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zM(t,1,!1,null,null,n,!1,r,i),t[op]=e.current,t4(t.nodeType===8?t.parentNode:t),new qM(e)},ml.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=iQ(e),t=t===null?null:t.stateNode,t},ml.flushSync=function(t){return $1(t)},ml.hydrate=function(t,e,n){if(!F_(e))throw Error(Ke(200));return z_(null,t,e,!0,n)},ml.hydrateRoot=function(t,e,n){if(!HM(t))throw Error(Ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Pee;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$ee(e,null,t,1,n??null,i,!1,s,o),t[op]=e.current,t4(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new U_(e)},ml.render=function(t,e,n){if(!F_(e))throw Error(Ke(200));return z_(null,t,e,!1,n)},ml.unmountComponentAtNode=function(t){if(!F_(t))throw Error(Ke(40));return t._reactRootContainer?($1(function(){z_(null,null,t,!1,function(){t._reactRootContainer=null,t[op]=null})}),!0):!1},ml.unstable_batchedUpdates=jM,ml.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!F_(n))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return z_(t,e,n,!1,r)},ml.version="18.3.1-next-f1338f8080-20240426";function Oee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oee)}catch(t){console.error(t)}}Oee(),kJ.exports=ml;var Bh=kJ.exports,Ree=Bh;DO.createRoot=Ree.createRoot,DO.hydrateRoot=Ree.hydrateRoot;const ven="modulepreload",ben=function(t){return"/"+t},xen={},Ge=function(e,n,r){let i=Promise.resolve();function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function yke(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function wke(){const t=new Set;let e=[];const n=()=>yke(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var St={},VM={exports:{}};(function(t,e){(function(n,r){var i="1.0.41",s="",o="?",a="function",c="undefined",l="object",u="string",d="major",h="model",f="name",p="type",m="vendor",w="version",y="architecture",b="console",v="mobile",E="tablet",_="smarttv",T="wearable",I="embedded",R=500,S="Amazon",B="Apple",j="ASUS",U="BlackBerry",M="Browser",C="Chrome",x="Edge",A="Firefox",N="Google",O="Honor",P="Huawei",D="Lenovo",L="LG",$="Microsoft",q="Motorola",V="Nvidia",F="OnePlus",Z="Opera",X="OPPO",Y="Samsung",te="Sharp",fe="Sony",he="Xiaomi",pe="Zebra",be="Facebook",ge="Chromium OS",ye="Mac OS",ft=" Browser",we=function(ee,ce){var se={};for(var Re in ee)ce[Re]&&ce[Re].length%2===0?se[Re]=ce[Re].concat(ee[Re]):se[Re]=ee[Re];return se},Me=function(ee){for(var ce={},se=0;se<ee.length;se++)ce[ee[se].toUpperCase()]=ee[se];return ce},Oe=function(ee,ce){return typeof ee===u?Ee(ce).indexOf(Ee(ee))!==-1:!1},Ee=function(ee){return ee.toLowerCase()},$e=function(ee){return typeof ee===u?ee.replace(/[^\d\.]/g,s).split(".")[0]:r},zt=function(ee,ce){if(typeof ee===u)return ee=ee.replace(/^\s\s*/,s),typeof ce===c?ee:ee.substring(0,R)},Se=function(ee,ce){for(var se=0,Re,et,He,nt,Pe,Wt;se<ce.length&&!Pe;){var sn=ce[se],nn=ce[se+1];for(Re=et=0;Re<sn.length&&!Pe&&sn[Re];)if(Pe=sn[Re++].exec(ee),Pe)for(He=0;He<nn.length;He++)Wt=Pe[++et],nt=nn[He],typeof nt===l&&nt.length>0?nt.length===2?typeof nt[1]==a?this[nt[0]]=nt[1].call(this,Wt):this[nt[0]]=nt[1]:nt.length===3?typeof nt[1]===a&&!(nt[1].exec&&nt[1].test)?this[nt[0]]=Wt?nt[1].call(this,Wt,nt[2]):r:this[nt[0]]=Wt?Wt.replace(nt[1],nt[2]):r:nt.length===4&&(this[nt[0]]=Wt?nt[3].call(this,Wt.replace(nt[1],nt[2])):r):this[nt]=Wt||r;se+=2}},qe=function(ee,ce){for(var se in ce)if(typeof ce[se]===l&&ce[se].length>0){for(var Re=0;Re<ce[se].length;Re++)if(Oe(ce[se][Re],ee))return se===o?r:se}else if(Oe(ce[se],ee))return se===o?r:se;return ce.hasOwnProperty("*")?ce["*"]:ee},Ye={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},kt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,w],[/opios[\/ ]+([\w\.]+)/i],[w,[f,Z+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[f,Z+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[f,Z]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[f,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[f,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+M],w],[/\bfocus\/([\w\.]+)/i],[w,[f,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[f,Z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[f,Z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[f,"MIUI"+ft]],[/fxios\/([\w\.-]+)/i],[w,[f,A]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+ft],w],[/samsungbrowser\/([\w\.]+)/i],[w,[f,Y+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,be],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[f,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,C+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[f,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[w,qe,Ye]],[/(webkit|khtml)\/([\w\.]+)/i],[f,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[f,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[w,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[y,/ower/,s,Ee]],[/ sun4\w[;\)]/i],[[y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[y,Ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,Y],[p,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,Y],[p,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,B],[p,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,B],[p,E]],[/(macintosh);/i],[h,[m,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,te],[p,v]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[h,[m,O],[p,E]],[/honor([-\w ]+)[;\)]/i],[h,[m,O],[p,v]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[h,[m,P],[p,E]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,P],[p,v]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[h,/_/g," "],[m,he],[p,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[h,/_/g," "],[m,he],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,X],[p,v]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[h,[m,qe,{OnePlus:["304","403","203"],"*":X}],[p,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[p,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[p,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,q],[p,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,q],[p,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,L],[p,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,L],[p,v]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[h,[m,D],[p,E]],[/(nokia) (t[12][01])/i],[m,h,[p,E]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[h,/_/g," "],[p,v],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[h,[m,N],[p,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,N],[p,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,fe],[p,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,fe],[p,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,F],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,S],[p,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,S],[p,v]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[p,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,U],[p,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,j],[p,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,j],[p,v]],[/(nexus 9)/i],[h,[m,"HTC"],[p,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[p,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[m,"TCL"],[p,E]],[/(itel) ((\w+))/i],[[m,Ee],h,[p,qe,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[p,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[p,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[m,"Ulefone"],[p,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[m,"Energizer"],[p,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[m,"Cat"],[p,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[m,"Smartfren"],[p,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[m,"Nothing"],[p,v]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[h,[m,"Archos"],[p,E]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[h,[m,"Archos"],[p,v]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,h,[p,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[p,v]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[p,E]],[/(surface duo)/i],[h,[m,$],[p,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[p,v]],[/(u304aa)/i],[h,[m,"AT&T"],[p,v]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[p,v]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[p,E]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[p,E]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[p,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[p,E]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[p,E]],[/\b(k88) b/i],[h,[m,"ZTE"],[p,E]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[p,v]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[p,v]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[p,E]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[p,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[p,E]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[p,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[p,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[p,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[p,v]],[/\b(ph-1) /i],[h,[m,"Essential"],[p,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[p,E]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[p,E]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[p,E]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[h,[m,V],[p,E]],[/(sprint) (\w+)/i],[m,h,[p,v]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,$],[p,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,pe],[p,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,pe],[p,v]],[/smart-tv.+(samsung)/i],[m,[p,_]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,Y],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,L],[p,_]],[/(apple) ?tv/i],[m,[h,B+" TV"],[p,_]],[/crkey/i],[[h,C+"cast"],[m,N],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,S],[p,_]],[/(shield \w+ tv)/i],[h,[m,V],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,te],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,fe],[p,_]],[/(mi(tv|box)-?\w+) bui/i],[h,[m,he],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,zt],[h,zt],[p,_]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[h,[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[p,b]],[/droid.+; (shield)( bui|\))/i],[h,[m,V],[p,b]],[/(playstation \w+)/i],[h,[m,fe],[p,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,$],[p,b]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[h,[m,Y],[p,T]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,h,[p,T]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[h,[m,X],[p,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,B],[p,T]],[/(opwwe\d{3})/i],[h,[m,F],[p,T]],[/(moto 360)/i],[h,[m,q],[p,T]],[/(smartwatch 3)/i],[h,[m,fe],[p,T]],[/(g watch r)/i],[h,[m,L],[p,T]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,pe],[p,T]],[/droid.+; (glass) \d/i],[h,[m,N],[p,T]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,h,[p,T]],[/; (quest( \d| pro)?)/i],[h,[m,be],[p,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,I]],[/(aeobc)\b/i],[h,[m,S],[p,I]],[/(homepod).+mac os/i],[h,[m,B],[p,I]],[/windows iot/i],[[p,I]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[p,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,v]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[f,x+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[f,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,w],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[w,qe,kt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,qe,kt],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,ye],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,w],[/\(bb(10);/i],[w,[f,U]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[f,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[f,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,ge],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,w],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,w]]},z=function(ee,ce){if(typeof ee===l&&(ce=ee,ee=r),!(this instanceof z))return new z(ee,ce).getResult();var se=typeof n!==c&&n.navigator?n.navigator:r,Re=ee||(se&&se.userAgent?se.userAgent:s),et=se&&se.userAgentData?se.userAgentData:r,He=ce?we(K,ce):K,nt=se&&se.userAgent==Re;return this.getBrowser=function(){var Pe={};return Pe[f]=r,Pe[w]=r,Se.call(Pe,Re,He.browser),Pe[d]=$e(Pe[w]),nt&&se&&se.brave&&typeof se.brave.isBrave==a&&(Pe[f]="Brave"),Pe},this.getCPU=function(){var Pe={};return Pe[y]=r,Se.call(Pe,Re,He.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[m]=r,Pe[h]=r,Pe[p]=r,Se.call(Pe,Re,He.device),nt&&!Pe[p]&&et&&et.mobile&&(Pe[p]=v),nt&&Pe[h]=="Macintosh"&&se&&typeof se.standalone!==c&&se.maxTouchPoints&&se.maxTouchPoints>2&&(Pe[h]="iPad",Pe[p]=E),Pe},this.getEngine=function(){var Pe={};return Pe[f]=r,Pe[w]=r,Se.call(Pe,Re,He.engine),Pe},this.getOS=function(){var Pe={};return Pe[f]=r,Pe[w]=r,Se.call(Pe,Re,He.os),nt&&!Pe[f]&&et&&et.platform&&et.platform!="Unknown"&&(Pe[f]=et.platform.replace(/chrome os/i,ge).replace(/macos/i,ye)),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Re},this.setUA=function(Pe){return Re=typeof Pe===u&&Pe.length>R?zt(Pe,R):Pe,this},this.setUA(Re),this};z.VERSION=i,z.BROWSER=Me([f,w,d]),z.CPU=Me([y]),z.DEVICE=Me([h,m,p,b,v,_,E,T,I]),z.ENGINE=z.OS=Me([f,w]),t.exports&&(e=t.exports=z),e.UAParser=z;var W=typeof n!==c&&(n.jQuery||n.Zepto);if(W&&!W.ua){var J=new z;W.ua=J.getResult(),W.ua.get=function(){return J.getUA()},W.ua.set=function(ee){J.setUA(ee);var ce=J.getResult();for(var se in ce)W.ua[se]=ce[se]}}})(typeof window=="object"?window:Jn)})(VM,VM.exports);var vke=VM.exports;Object.defineProperty(St,"__esModule",{value:!0});function bke(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Xo=k,Gr=bke(Xo),Mee=vke,mg=new Mee,ea=mg.getBrowser(),xke=mg.getCPU(),El=mg.getDevice(),KM=mg.getEngine(),yg=mg.getOS(),v4=mg.getUA(),jee=function(e){return mg.setUA(e)},b4=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new Mee(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},Bee=Object.freeze({ClientUAInstance:mg,browser:ea,cpu:xke,device:El,engine:KM,os:yg,ua:v4,setUa:jee,parseUserAgent:b4});function Dee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dee(Object(n),!0).forEach(function(r){Ske(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x4(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x4=function(e){return typeof e}:x4=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x4(t)}function Cke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ake(t,e,n){return e&&_ke(t.prototype,e),t}function Ske(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GM(){return GM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GM.apply(this,arguments)}function Ike(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YM(t,e)}function ZM(t){return ZM=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ZM(t)}function YM(t,e){return YM=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},YM(t,e)}function kke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bu(t,e){if(t==null)return{};var n=kke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ke(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q_(t)}function Tke(t,e){return Pke(t)||Nke(t,e)||Oke(t,e)||Rke()}function Pke(t){if(Array.isArray(t))return t}function Nke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Oke(t,e){if(t){if(typeof t=="string")return Lee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lee(t,e)}}function Lee(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ta={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},mc={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Jv={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Mke={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},jke=function(e){switch(e){case ta.Mobile:return{isMobile:!0};case ta.Tablet:return{isTablet:!0};case ta.SmartTv:return{isSmartTV:!0};case ta.Console:return{isConsole:!0};case ta.Wearable:return{isWearable:!0};case ta.Browser:return{isBrowser:!0};case ta.Embedded:return{isEmbedded:!0};default:return Mke}},Bke=function(e){return jee(e)},on=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},JM=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},QM=function(e){var n=JM();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},Dke=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:on(n.major),browserFullVersion:on(n.version),browserName:on(n.name),engineName:on(r.name),engineVersion:on(r.version),osName:on(i.name),osVersion:on(i.version),userAgent:on(s)}},Uee=function(e,n,r,i){return Eke({},e,{vendor:on(n.vendor),model:on(n.model),os:on(r.name),osVersion:on(r.version),ua:on(i)})},Lke=function(e,n,r,i){return{isSmartTV:e,engineName:on(n.name),engineVersion:on(n.version),osName:on(r.name),osVersion:on(r.version),userAgent:on(i)}},Uke=function(e,n,r,i){return{isConsole:e,engineName:on(n.name),engineVersion:on(n.version),osName:on(r.name),osVersion:on(r.version),userAgent:on(i)}},Fke=function(e,n,r,i){return{isWearable:e,engineName:on(n.name),engineVersion:on(n.version),osName:on(r.name),osVersion:on(r.version),userAgent:on(i)}},zke=function(e,n,r,i,s){return{isEmbedded:e,vendor:on(n.vendor),model:on(n.model),engineName:on(r.name),engineVersion:on(r.version),osName:on(i.name),osVersion:on(i.version),userAgent:on(s)}};function Wke(t){var e=t?b4(t):Bee,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=jke(n.type),c=a.isBrowser,l=a.isMobile,u=a.isTablet,d=a.isSmartTV,h=a.isConsole,f=a.isWearable,p=a.isEmbedded;if(c)return Dke(c,r,i,s,o);if(d)return Lke(d,i,s,o);if(h)return Uke(h,i,s,o);if(l||u)return Uee(a,n,s,o);if(f)return Fke(f,i,s,o);if(p)return zke(p,n,i,s,o)}var Fee=function(e){var n=e.type;return n===ta.Mobile},zee=function(e){var n=e.type;return n===ta.Tablet},Wee=function(e){var n=e.type;return n===ta.Mobile||n===ta.Tablet},qee=function(e){var n=e.type;return n===ta.SmartTv},H_=function(e){var n=e.type;return n===ta.Browser},Hee=function(e){var n=e.type;return n===ta.Wearable},Vee=function(e){var n=e.type;return n===ta.Console},Kee=function(e){var n=e.type;return n===ta.Embedded},Gee=function(e){var n=e.vendor;return on(n)},Zee=function(e){var n=e.model;return on(n)},Yee=function(e){var n=e.type;return on(n,"browser")},Jee=function(e){var n=e.name;return n===Jv.Android},Qee=function(e){var n=e.name;return n===Jv.Windows},Xee=function(e){var n=e.name;return n===Jv.MAC_OS},ete=function(e){var n=e.name;return n===Jv.WindowsPhone},tte=function(e){var n=e.name;return n===Jv.IOS},nte=function(e){var n=e.version;return on(n)},rte=function(e){var n=e.name;return on(n)},ite=function(e){var n=e.name;return n===mc.Chrome},ste=function(e){var n=e.name;return n===mc.Firefox},ote=function(e){var n=e.name;return n===mc.Chromium},V_=function(e){var n=e.name;return n===mc.Edge},ate=function(e){var n=e.name;return n===mc.Yandex},cte=function(e){var n=e.name;return n===mc.Safari||n===mc.MobileSafari},lte=function(e){var n=e.name;return n===mc.MobileSafari},ute=function(e){var n=e.name;return n===mc.Opera},dte=function(e){var n=e.name;return n===mc.InternetExplorer||n===mc.Ie},hte=function(e){var n=e.name;return n===mc.MIUI},fte=function(e){var n=e.name;return n===mc.SamsungBrowser},pte=function(e){var n=e.version;return on(n)},gte=function(e){var n=e.major;return on(n)},mte=function(e){var n=e.name;return on(n)},yte=function(e){var n=e.name;return on(n)},wte=function(e){var n=e.version;return on(n)},vte=function(){var e=JM(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},Qv=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},bte=function(){var e=JM();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Dh=function(){return QM("iPad")},xte=function(){return QM("iPhone")},Ete=function(){return QM("iPod")},Cte=function(e){return on(e)};function _te(t){var e=t||Bee,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:qee(n),isConsole:Vee(n),isWearable:Hee(n),isEmbedded:Kee(n),isMobileSafari:lte(r)||Dh(),isChromium:ote(r),isMobile:Wee(n)||Dh(),isMobileOnly:Fee(n),isTablet:zee(n)||Dh(),isBrowser:H_(n),isDesktop:H_(n),isAndroid:Jee(i),isWinPhone:ete(i),isIOS:tte(i)||Dh(),isChrome:ite(r),isFirefox:ste(r),isSafari:cte(r),isOpera:ute(r),isIE:dte(r),osVersion:nte(i),osName:rte(i),fullBrowserVersion:pte(r),browserVersion:gte(r),browserName:mte(r),mobileVendor:Gee(n),mobileModel:Zee(n),engineName:yte(s),engineVersion:wte(s),getUA:Cte(o),isEdge:V_(r)||Qv(o),isYandex:ate(r),deviceType:Yee(n),isIOS13:bte(),isIPad13:Dh(),isIPhone13:xte(),isIPod13:Ete(),isElectron:vte(),isEdgeChromium:Qv(o),isLegacyEdge:V_(r)&&!Qv(o),isWindows:Qee(i),isMacOs:Xee(i),isMIUI:hte(r),isSamsungBrowser:fte(r)}}var Ate=qee(El),Ste=Vee(El),Ite=Hee(El),qke=Kee(El),Hke=lte(ea)||Dh(),Vke=ote(ea),K_=Wee(El)||Dh(),kte=Fee(El),$te=zee(El)||Dh(),Tte=H_(El),Kke=H_(El),Pte=Jee(yg),Nte=ete(yg),Ote=tte(yg)||Dh(),Gke=ite(ea),Zke=ste(ea),Yke=cte(ea),Jke=ute(ea),Rte=dte(ea),Qke=nte(yg),Xke=rte(yg),e$e=pte(ea),t$e=gte(ea),n$e=mte(ea),r$e=Gee(El),i$e=Zee(El),s$e=yte(KM),o$e=wte(KM),a$e=Cte(v4),c$e=V_(ea)||Qv(v4),l$e=ate(ea),u$e=Yee(El),d$e=bte(),h$e=Dh(),f$e=xte(),p$e=Ete(),g$e=vte(),m$e=Qv(v4),y$e=V_(ea)&&!Qv(v4),w$e=Qee(yg),v$e=Xee(yg),b$e=hte(ea),x$e=fte(ea),E$e=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=b4(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return _te({device:r,browser:i,os:s,engine:o,ua:a})},C$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Pte?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},_$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Tte?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},A$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Rte?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},S$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Ote?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},I$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return K_?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},k$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return $te?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},$$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Nte?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},T$e=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=bu(e,["renderWithFragment","children","viewClassName","style"]);return kte?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},P$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Ate?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},N$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Ste?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},O$e=function(e){var n=e.renderWithFragment,r=e.children,i=bu(e,["renderWithFragment","children"]);return Ite?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",i,r):null},R$e=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=bu(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Gr.createElement(Xo.Fragment,null,r):Gr.createElement("div",s,r):null};function M$e(t){return function(e){Ike(n,e);function n(r){var i;return Cke(this,n),i=$ke(this,ZM(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(q_(i)),i.onOrientationChange=i.onOrientationChange.bind(q_(i)),i.onPageLoad=i.onPageLoad.bind(q_(i)),i.state={isLandscape:!1,isPortrait:!1},i}return Ake(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":x4(window))!==void 0&&K_&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Gr.createElement(t,GM({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Gr.Component)}function j$e(){var t=Xo.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=Tke(t,2),n=e[0],r=e[1],i=Xo.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return Xo.useEffect(function(){return(typeof window>"u"?"undefined":x4(window))!==void 0&&K_&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function Mte(t){var e=t||window.navigator.userAgent;return b4(e)}function B$e(t){var e=t||window.navigator.userAgent,n=Mte(e),r=_te(n);return[r,n]}St.AndroidView=C$e,St.BrowserTypes=mc,St.BrowserView=_$e,St.ConsoleView=N$e,St.CustomView=R$e,St.IEView=A$e,St.IOSView=S$e,St.MobileOnlyView=T$e,St.MobileView=I$e,St.OsTypes=Jv,St.SmartTVView=P$e,St.TabletView=k$e,St.WearableView=O$e,St.WinPhoneView=$$e,St.browserName=n$e,St.browserVersion=t$e,St.deviceDetect=Wke,St.deviceType=u$e,St.engineName=s$e,St.engineVersion=o$e,St.fullBrowserVersion=e$e,St.getSelectorsByUserAgent=E$e,St.getUA=a$e;var D$e=St.isAndroid=Pte;St.isBrowser=Tte,St.isChrome=Gke,St.isChromium=Vke,St.isConsole=Ste,St.isDesktop=Kke,St.isEdge=c$e,St.isEdgeChromium=m$e,St.isElectron=g$e,St.isEmbedded=qke;var jte=St.isFirefox=Zke;St.isIE=Rte;var XM=St.isIOS=Ote;St.isIOS13=d$e,St.isIPad13=h$e,St.isIPhone13=f$e,St.isIPod13=p$e,St.isLegacyEdge=y$e,St.isMIUI=b$e,St.isMacOs=v$e;var Zr=St.isMobile=K_;St.isMobileOnly=kte,St.isMobileSafari=Hke,St.isOpera=Jke;var L$e=St.isSafari=Yke;St.isSamsungBrowser=x$e,St.isSmartTV=Ate,St.isTablet=$te,St.isWearable=Ite,St.isWinPhone=Nte,St.isWindows=w$e,St.isYandex=l$e,St.mobileModel=i$e,St.mobileVendor=r$e,St.osName=Xke,St.osVersion=Qke,St.parseUserAgent=b4,St.setUserAgent=Bke,St.useDeviceData=Mte,St.useDeviceSelectors=B$e,St.useMobileOrientation=j$e,St.withOrientationChange=M$e;const U$e="1.2.3";let yc=class lJ extends Error{constructor(e,n={}){var o;const r=n.cause instanceof lJ?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof lJ&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${U$e}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function pp(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Bte=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Dte=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Lte=/^\(.+?\).*?$/,Ute=/^tuple(?<array>(\[(\d*)\])*)$/;function ej(t){let e=t.type;if(Ute.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=ej(s),i<n-1&&(e+=", ")}const r=pp(Ute,t.type);return e+=`)${(r==null?void 0:r.array)||""}`,ej({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Xv(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=ej(i),r!==n-1&&(e+=", ")}return e}function G_(t){var e;return t.type==="function"?`function ${t.name}(${Xv(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Xv(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Xv(t.inputs)})`:t.type==="error"?`error ${t.name}(${Xv(t.inputs)})`:t.type==="constructor"?`constructor(${Xv(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Fte=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function F$e(t){return Fte.test(t)}function z$e(t){return pp(Fte,t)}const zte=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function W$e(t){return zte.test(t)}function q$e(t){return pp(zte,t)}const Wte=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function H$e(t){return Wte.test(t)}function V$e(t){return pp(Wte,t)}const qte=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Z_(t){return qte.test(t)}function K$e(t){return pp(qte,t)}const Hte=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function G$e(t){return Hte.test(t)}function Z$e(t){return pp(Hte,t)}const Vte=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Y$e(t){return Vte.test(t)}function J$e(t){return pp(Vte,t)}const Q$e=/^receive\(\) external payable$/;function X$e(t){return Q$e.test(t)}const Kte=new Set(["memory","indexed","storage","calldata"]),eTe=new Set(["indexed"]),tj=new Set(["calldata","memory","storage"]);class tTe extends yc{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class nTe extends yc{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class rTe extends yc{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class iTe extends yc{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class sTe extends yc{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class oTe extends yc{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class aTe extends yc{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class cTe extends yc{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class lTe extends yc{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class eb extends yc{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class uTe extends yc{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class dTe extends yc{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class hTe extends yc{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class fTe extends yc{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function pTe(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const nj=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function rj(t,e={}){if(H$e(t))return gTe(t,e);if(W$e(t))return mTe(t,e);if(F$e(t))return yTe(t,e);if(G$e(t))return wTe(t,e);if(Y$e(t))return vTe(t);if(X$e(t))return{type:"receive",stateMutability:"payable"};throw new uTe({signature:t})}function gTe(t,e={}){const n=V$e(t);if(!n)throw new eb({signature:t,type:"function"});const r=Cl(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(gp(r[a],{modifiers:tj,structs:e,type:"function"}));const o=[];if(n.returns){const a=Cl(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(gp(a[l],{modifiers:tj,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function mTe(t,e={}){const n=q$e(t);if(!n)throw new eb({signature:t,type:"event"});const r=Cl(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(gp(r[o],{modifiers:eTe,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function yTe(t,e={}){const n=z$e(t);if(!n)throw new eb({signature:t,type:"error"});const r=Cl(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(gp(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function wTe(t,e={}){const n=Z$e(t);if(!n)throw new eb({signature:t,type:"constructor"});const r=Cl(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(gp(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function vTe(t){const e=J$e(t);if(!e)throw new eb({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const bTe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,xTe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ETe=/^u?int$/;function gp(t,e){var d,h;const n=pTe(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(nj.has(n))return nj.get(n);const r=Lte.test(t),i=pp(r?xTe:bTe,t);if(!i)throw new sTe({param:t});if(i.name&&_Te(i.name))throw new oTe({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=Cl(i.type),p=[],m=f.length;for(let w=0;w<m;w++)p.push(gp(f[w],{structs:a}));l={components:p}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(ETe.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,(e==null?void 0:e.type)!=="struct"&&!Gte(c))throw new rTe({type:c});if(i.modifier){if(!((h=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&h.call(d,i.modifier)))throw new aTe({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(tj.has(i.modifier)&&!ATe(c,!!i.array))throw new cTe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return nj.set(n,u),u}function Cl(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return r===0?Cl(a,[...e,n.trim()]):Cl(a,e,`${n}${o}`,r);case"(":return Cl(a,e,`${n}${o}`,r+1);case")":return Cl(a,e,`${n}${o}`,r-1);default:return Cl(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new fTe({current:n,depth:r});return e.push(n.trim()),e}function Gte(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Bte.test(t)||Dte.test(t)}const CTe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function _Te(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Bte.test(t)||Dte.test(t)||CTe.test(t)}function ATe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function ij(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Z_(a))continue;const c=K$e(a);if(!c)throw new eb({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let h=0;h<d;h++){const p=l[h].trim();if(!p)continue;const m=gp(p,{type:"struct"});u.push(m)}if(!u.length)throw new dTe({signature:a});e[c.name]=u}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=Zte(c,e)}return r}const STe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Zte(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Lte.test(o.type))r.push(o);else{const c=pp(STe,o.type);if(!(c!=null&&c.type))throw new lTe({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new hTe({type:u});r.push({...o,type:`tuple${l??""}`,components:Zte(e[u],e,new Set([...n,u]))})}else if(Gte(u))r.push(o);else throw new nTe({type:u})}}return r}function sj(t){const e=ij(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];Z_(s)||n.push(rj(s,e))}return n}function Yte(t){let e;if(typeof t=="string")e=rj(t);else{const n=ij(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!Z_(s)){e=rj(s,n);break}}}if(!e)throw new tTe({signature:t});return e}function Jte(t){const e=[];if(typeof t=="string"){const n=Cl(t),r=n.length;for(let i=0;i<r;i++)e.push(gp(n[i],{modifiers:Kte}))}else{const n=ij(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(Z_(s))continue;const o=Cl(s),a=o.length;for(let c=0;c<a;c++)e.push(gp(o[c],{modifiers:Kte,structs:n}))}}if(e.length===0)throw new iTe({params:t});return e}function Br(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Qte="2.44.2";let E4={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Qte}`},xe=class uJ extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof uJ?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof uJ&&n.cause.docsPath||n.docsPath,s=(a=E4.getDocsUrl)==null?void 0:a.call(E4,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...E4.version?[`Version: ${E4.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Qte}walk(e){return Xte(this,e)}};function Xte(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Xte(t.cause,e):e?null:t}let mp=class extends xe{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Si(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let ene=class extends xe{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},tne=class extends xe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class nne extends xe{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function ls(t,{dir:e,size:n=32}={}){return typeof t=="string"?wg(t,{dir:e,size:n}):ITe(t,{dir:e,size:n})}function wg(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new tne({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function ITe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new tne({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let oj=class extends xe{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},kTe=class extends xe{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class $Te extends xe{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let TTe=class extends xe{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function yi(t){return Si(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Id(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function xu(t,{size:e}){if(yi(t)>e)throw new TTe({givenSize:yi(t),maxSize:e})}function Ki(t,e={}){const{signed:n}=e;e.size&&xu(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function PTe(t,e={}){let n=t;if(e.size&&(xu(n,{size:e.size}),n=Id(n)),Id(n)==="0x00")return!1;if(Id(n)==="0x01")return!0;throw new $Te(n)}function wc(t,e={}){const n=Ki(t,e),r=Number(n);if(!Number.isSafeInteger(r))throw new oj({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${n}n`});return r}function aj(t,e={}){let n=ja(t);return e.size&&(xu(n,{size:e.size}),n=Id(n,{dir:"right"})),new TextDecoder().decode(n)}const NTe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cr(t,e={}){return typeof t=="number"||typeof t=="bigint"?Fe(t,e):typeof t=="string"?vg(t,e):typeof t=="boolean"?cj(t,e):Ss(t,e)}function cj(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(xu(n,{size:e.size}),ls(n,{size:e.size})):n}function Ss(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=NTe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(xu(r,{size:e.size}),ls(r,{dir:"right",size:e.size})):r}function Fe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new oj({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?ls(a,{size:r}):a}const OTe=new TextEncoder;function vg(t,e={}){const n=OTe.encode(t);return Ss(n,e)}const RTe=new TextEncoder;function tb(t,e={}){return typeof t=="number"||typeof t=="bigint"?jTe(t,e):typeof t=="boolean"?MTe(t,e):Si(t)?ja(t,e):wp(t,e)}function MTe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(xu(n,{size:e.size}),ls(n,{size:e.size})):n}const yp={zero:48,nine:57,A:65,F:70,a:97,f:102};function rne(t){if(t>=yp.zero&&t<=yp.nine)return t-yp.zero;if(t>=yp.A&&t<=yp.F)return t-(yp.A-10);if(t>=yp.a&&t<=yp.f)return t-(yp.a-10)}function ja(t,e={}){let n=t;e.size&&(xu(n,{size:e.size}),n=ls(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=rne(r.charCodeAt(a++)),l=rne(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new xe(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function jTe(t,e){const n=Fe(t,e);return ja(n)}function wp(t,e={}){const n=RTe.encode(t);return typeof e.size=="number"?(xu(n,{size:e.size}),ls(n,{dir:"right",size:e.size})):n}const Y_=BigInt(2**32-1),ine=BigInt(32);function BTe(t,e=!1){return e?{h:Number(t&Y_),l:Number(t>>ine&Y_)}:{h:Number(t>>ine&Y_)|0,l:Number(t&Y_)|0}}function sne(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=BTe(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const one=(t,e,n)=>t>>>n,ane=(t,e,n)=>t<<32-n|e>>>n,nb=(t,e,n)=>t>>>n|e<<32-n,rb=(t,e,n)=>t<<32-n|e>>>n,J_=(t,e,n)=>t<<64-n|e>>>n-32,Q_=(t,e,n)=>t>>>n-32|e<<64-n,DTe=(t,e,n)=>t<<n|e>>>32-n,LTe=(t,e,n)=>e<<n|t>>>32-n,UTe=(t,e,n)=>e<<n-32|t>>>64-n,FTe=(t,e,n)=>t<<n-32|e>>>64-n;function vp(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const zTe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),WTe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qTe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),HTe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,VTe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),KTe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ib=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function O1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function bp(t,...e){if(!C4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");O1(t.outputLen),O1(t.blockLen)}function sb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lne(t,e){bp(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function GTe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function bg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function lj(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lh(t,e){return t<<32-e|t>>>e}const ZTe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function YTe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function JTe(t){for(let e=0;e<t.length;e++)t[e]=YTe(t[e]);return t}const une=ZTe?t=>t:JTe,dne=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",QTe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xg(t){if(bp(t),dne)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=QTe[t[n]];return e}const xp={_0:48,_9:57,A:65,F:70,a:97,f:102};function hne(t){if(t>=xp._0&&t<=xp._9)return t-xp._0;if(t>=xp.A&&t<=xp.F)return t-(xp.A-10);if(t>=xp.a&&t<=xp.f)return t-(xp.a-10)}function X_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(dne)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=hne(t.charCodeAt(s)),a=hne(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function XTe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _4(t){return typeof t=="string"&&(t=XTe(t)),bp(t),t}function Eu(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];bp(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let uj=class{};function eA(t){const e=r=>t().update(_4(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ePe(t){const e=(r,i)=>t(i).update(_4(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function A4(t=32){if(ib&&typeof ib.getRandomValues=="function")return ib.getRandomValues(new Uint8Array(t));if(ib&&typeof ib.randomBytes=="function")return Uint8Array.from(ib.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const tPe=BigInt(0),S4=BigInt(1),nPe=BigInt(2),rPe=BigInt(7),iPe=BigInt(256),sPe=BigInt(113),fne=[],pne=[],gne=[];for(let t=0,e=S4,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],fne.push(2*(5*r+n)),pne.push((t+1)*(t+2)/2%64);let i=tPe;for(let s=0;s<7;s++)e=(e<<S4^(e>>rPe)*sPe)%iPe,e&nPe&&(i^=S4<<(S4<<BigInt(s))-S4);gne.push(i)}const mne=sne(gne,!0),oPe=mne[0],aPe=mne[1],yne=(t,e,n)=>n>32?UTe(t,e,n):DTe(t,e,n),wne=(t,e,n)=>n>32?FTe(t,e,n):LTe(t,e,n);function vne(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=yne(l,u,1)^n[a],h=wne(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=pne[o],c=yne(i,s,a),l=wne(i,s,a),u=fne[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=oPe[r],t[1]^=aPe[r]}bg(n)}let dj=class SAe extends uj{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,O1(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=GTe(this.state)}clone(){return this._cloneInto()}keccak(){une(this.state32),vne(this.state32,this.rounds),une(this.state32),this.posOut=0,this.pos=0}update(e){sb(this),e=_4(e),bp(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){sb(this,!1),bp(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return O1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lne(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,bg(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new SAe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Eg=(t,e,n)=>eA(()=>new dj(e,t,n)),cPe=Eg(6,144,224/8),lPe=Eg(6,136,256/8),uPe=Eg(6,104,384/8),dPe=Eg(6,72,512/8),hPe=Eg(1,144,224/8),tA=Eg(1,136,256/8),fPe=Eg(1,104,384/8),pPe=Eg(1,72,512/8),bne=(t,e,n)=>ePe((r={})=>new dj(e,t,r.dkLen===void 0?n:r.dkLen,!0)),gPe=Object.freeze(Object.defineProperty({__proto__:null,Keccak:dj,keccakP:vne,keccak_224:hPe,keccak_256:tA,keccak_384:fPe,keccak_512:pPe,sha3_224:cPe,sha3_256:lPe,sha3_384:uPe,sha3_512:dPe,shake128:bne(31,168,128/8),shake256:bne(31,136,256/8)},Symbol.toStringTag,{value:"Module"}));function Yr(t,e){const n=e||"hex",r=tA(Si(t,{strict:!1})?tb(t):t);return n==="bytes"?r:Cr(r)}let R1=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const mPe=/^0x[a-fA-F0-9]{40}$/,hj=new R1(8192);function us(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(hj.has(r))return hj.get(r);const i=mPe.test(t)?t.toLowerCase()===t?!0:n?I4(t)===t:!0:!1;return hj.set(r,i),i}const fj=new R1(8192);function I4(t,e){if(fj.has(`${t}.${e}`))return fj.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Yr(wp(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return fj.set(`${t}.${e}`,s),s}function Gi(t,e){if(!us(t,{strict:!1}))throw new mp({address:t});return I4(t,e)}function yPe(t){const e=Yr(`0x${t.substring(4)}`).substring(26);return I4(`0x${e}`)}function kd(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new $Pe(t.type);return`${t.name}(${nA(t.inputs,{includeName:e})})`}function nA(t,{includeName:e=!1}={}){return t?t.map(n=>wPe(n,{includeName:e})).join(e?", ":","):""}function wPe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${nA(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class vPe extends xe{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class xne extends xe{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Ene extends xe{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${nA(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class k4 extends xe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class bPe extends xe{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class xPe extends xe{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${yi(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Cne extends xe{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class EPe extends xe{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class _ne extends xe{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ane extends xe{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class CPe extends xe{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class _Pe extends xe{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Sne extends xe{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ob extends xe{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Ine extends xe{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class APe extends xe{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class SPe extends xe{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${kd(e.abiItem)}\`, and`,`\`${n.type}\` in \`${kd(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let kne=class extends xe{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class rA extends xe{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${nA(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class pj extends xe{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${kd(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class IPe extends xe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class kPe extends xe{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let $ne=class extends xe{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class $Pe extends xe{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class TPe extends xe{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let Tne=class extends xe{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Pne=class extends xe{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},PPe=class extends xe{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const NPe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new PPe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Pne({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Tne({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Tne({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function gj(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(NPe);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function M1(t,e,n,{strict:r}={}){return Si(t,{strict:!1})?mj(t,e,n,{strict:r}):Rne(t,e,n,{strict:r})}function Nne(t,e){if(typeof e=="number"&&e>0&&e>yi(t)-1)throw new ene({offset:e,position:"start",size:yi(t)})}function One(t,e,n){if(typeof e=="number"&&typeof n=="number"&&yi(t)!==n-e)throw new ene({offset:n,position:"end",size:yi(t)})}function Rne(t,e,n,{strict:r}={}){Nne(t,e);const i=t.slice(e,n);return r&&One(i,e,n),i}function mj(t,e,n,{strict:r}={}){Nne(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&One(i,e,n),i}function OPe(t,e={}){typeof e.size<"u"&&xu(t,{size:e.size});const n=Ss(t,e);return Ki(n,e)}function RPe(t,e={}){let n=t;if(typeof e.size<"u"&&(xu(n,{size:e.size}),n=Id(n)),n.length>1||n[0]>1)throw new kTe(n);return!!n[0]}function Ep(t,e={}){typeof e.size<"u"&&xu(t,{size:e.size});const n=Ss(t,e);return wc(n,e)}function MPe(t,e={}){let n=t;return typeof e.size<"u"&&(xu(n,{size:e.size}),n=Id(n,{dir:"right"})),new TextDecoder().decode(n)}function Is(t){return typeof t[0]=="string"?Cp(t):jPe(t)}function jPe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Cp(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}const BPe=/^(.*)\[([0-9]*)\]$/,Mne=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yj=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function vc(t,e){if(t.length!==e.length)throw new Cne({expectedLength:t.length,givenLength:e.length});const n=DPe({params:t,values:e}),r=vj(n);return r.length===0?"0x":r}function DPe({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(wj({param:t[r],value:e[r]}));return n}function wj({param:t,value:e}){const n=bj(t.type);if(n){const[r,i]=n;return UPe(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return HPe(e,{param:t});if(t.type==="address")return LPe(e);if(t.type==="bool")return zPe(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=yj.exec(t.type)??[];return WPe(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return FPe(e,{param:t});if(t.type==="string")return qPe(e);throw new IPe(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function vj(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=yi(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Fe(e+i,{size:32})),r.push(a),i+=yi(a)):n.push(a)}return Is([...n,...r])}function LPe(t){if(!us(t))throw new mp({address:t});return{dynamic:!1,encoded:wg(t.toLowerCase())}}function UPe(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new $ne(t);if(!r&&t.length!==e)throw new bPe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=wj({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=vj(s);if(r){const a=Fe(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Is([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Is(s.map(({encoded:o})=>o))}}function FPe(t,{param:e}){const[,n]=e.type.split("bytes"),r=yi(t);if(!n){let i=t;return r%32!==0&&(i=wg(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Is([wg(Fe(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new xPe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:wg(t,{dir:"right"})}}function zPe(t){if(typeof t!="boolean")throw new xe(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:wg(cj(t))}}function WPe(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new oj({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Fe(t,{size:32,signed:e})}}function qPe(t){const e=vg(t),n=Math.ceil(yi(e)/32),r=[];for(let i=0;i<n;i++)r.push(wg(M1(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Is([wg(Fe(yi(e),{size:32})),...r])}}function HPe(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=wj({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?vj(r):Is(r.map(({encoded:i})=>i))}}function bj(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Cg(t,e){const n=typeof e=="string"?ja(e):e,r=gj(n);if(yi(n)===0&&t.length>0)throw new k4;if(yi(e)&&yi(e)<32)throw new Ene({data:typeof e=="string"?e:Ss(e),params:t,size:yi(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,l]=ab(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function ab(t,e,{staticPosition:n}){const r=bj(e.type);if(r){const[i,s]=r;return KPe(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return JPe(t,e,{staticPosition:n});if(e.type==="address")return VPe(t);if(e.type==="bool")return GPe(t);if(e.type.startsWith("bytes"))return ZPe(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return YPe(t,e);if(e.type==="string")return QPe(t,{staticPosition:n});throw new kPe(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const jne=32,xj=32;function VPe(t){const e=t.readBytes(32);return[I4(Ss(Rne(e,-20))),32]}function KPe(t,e,{length:n,staticPosition:r}){if(!n){const o=Ep(t.readBytes(xj)),a=r+o,c=a+jne;t.setPosition(a);const l=Ep(t.readBytes(jne)),u=$4(e);let d=0;const h=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[p,m]=ab(t,e,{staticPosition:c});d+=m,h.push(p)}return t.setPosition(r+32),[h,32]}if($4(e)){const o=Ep(t.readBytes(xj)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=ab(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=ab(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function GPe(t){return[RPe(t.readBytes(32),{size:32}),32]}function ZPe(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Ep(t.readBytes(32));t.setPosition(n+o);const a=Ep(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Ss(c),32]}return[Ss(t.readBytes(Number.parseInt(i,10),32)),32]}function YPe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?OPe(i,{signed:n}):Ep(i,{signed:n}),32]}function JPe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if($4(e)){const o=Ep(t.readBytes(xj)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+s);const[u,d]=ab(t,l,{staticPosition:a});s+=d,i[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=ab(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function QPe(t,{staticPosition:e}){const n=Ep(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ep(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=MPe(Id(s));return t.setPosition(e+32),[o,32]}function $4(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some($4);const n=bj(t.type);return!!(n&&$4({...t,type:n[1]}))}const XPe={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Bne={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},eNe={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},tNe=t=>Yr(tb(t));function nNe(t){return tNe(t)}function rNe(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new xe("Unable to normalize signature.");return i}const iNe=t=>{const e=typeof t=="string"?t:G_(t);return rNe(e)};function Dne(t){return nNe(iNe(t))}const T4=t=>M1(Dne(t),0,4);function Ej(t){const{abi:e,data:n}=t,r=M1(n,0,4);if(r==="0x")throw new k4;const s=[...e||[],Bne,eNe].find(o=>o.type==="error"&&r===T4(kd(o)));if(!s)throw new Ane(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Cg(s.inputs,M1(n,4)):void 0,errorName:s.name}}const iA=Dne,Lne="/docs/contract/decodeEventLog";function P4(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new CPe({docsPath:Lne});const c=e.find(m=>m.type==="event"&&o===iA(kd(m)));if(!(c&&"name"in c)||c.type!=="event")throw new _Pe(o,{docsPath:Lne});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(m=>!("name"in m&&m.name)),h=d?[]:{},f=u.map((m,w)=>[m,w]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<f.length;m++){const[w,y]=f[m],b=a[m];if(!b)throw new pj({abiItem:c,param:w});h[d?y:w.name||y]=sNe({param:w,value:b})}const p=u.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=Cg(p,n);if(m)if(d)for(let w=0;w<u.length;w++)h[w]=h[w]??m.shift();else for(let w=0;w<p.length;w++)h[p[w].name]=m[w]}catch(m){if(s)throw m instanceof Ene||m instanceof Pne?new rA({abiItem:c,data:n,params:p,size:yi(n)}):m}else if(s)throw new rA({abiItem:c,data:"0x",params:p,size:0})}return{eventName:l,args:Object.values(h).length>0?h:void 0}}function sNe({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Cg([t],e)||[])[0]}function sA(t){const{abi:e,data:n}=t,r=M1(n,0,4),i=e.find(s=>s.type==="function"&&r===T4(kd(s)));if(!i)throw new APe(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Cg(i.inputs,M1(n,4)):void 0}}function j1(t){const{abi:e,args:n=[],name:r}=t,i=Si(r,{strict:!1}),s=e.filter(a=>i?a.type==="function"?T4(a)===r:a.type==="event"?iA(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?Cj(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=Une(a.inputs,o.inputs,n);if(l)throw new SPe({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function Cj(t,e){const n=typeof t,r=e.type;switch(r){case"address":return us(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>n==="object"&&Cj(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>Cj(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Une(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Une(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?us(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?us(n[r],{strict:!1}):!1)return o}}const _j="/docs/contract/decodeFunctionResult";function B1(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=j1({abi:e,args:n,name:r});if(!a)throw new ob(r,{docsPath:_j});s=a}if(s.type!=="function")throw new ob(void 0,{docsPath:_j});if(!s.outputs)throw new Ine(s.name,{docsPath:_j});const o=Cg(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Aj="/docs/contract/encodeDeployData";function oA(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new vPe({docsPath:Aj});if(!("inputs"in i))throw new xne({docsPath:Aj});if(!i.inputs||i.inputs.length===0)throw new xne({docsPath:Aj});const s=vc(i.inputs,n);return Cp([r,s])}const Sj="/docs/contract/encodeErrorResult";function Fne(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=j1({abi:e,args:r,name:n});if(!c)throw new _ne(n,{docsPath:Sj});i=c}if(i.type!=="error")throw new _ne(void 0,{docsPath:Sj});const s=kd(i),o=T4(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new EPe(i.name,{docsPath:Sj});a=vc(i.inputs,r)}return Cp([o,a])}class oNe extends xe{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const zne="/docs/contract/encodeEventTopics";function N4(t){var c;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=j1({abi:e,name:n});if(!l)throw new Sne(n,{docsPath:zne});i=l}if(i.type!=="event")throw new Sne(void 0,{docsPath:zne});const s=kd(i),o=iA(s);let a=[];if(r&&"inputs"in i){const l=(c=i.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(d=>r[d.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((d,h)=>Array.isArray(u[h])?u[h].map((f,p)=>Wne({param:d,value:u[h][p]})):typeof u[h]<"u"&&u[h]!==null?Wne({param:d,value:u[h]}):null))??[])}return[o,...a]}function Wne({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Yr(tb(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new oNe(t.type);return vc([t],[e])}const qne="/docs/contract/encodeFunctionData";function aNe(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=j1({abi:e,args:n,name:r});if(!s)throw new ob(r,{docsPath:qne});i=s}if(i.type!=="function")throw new ob(void 0,{docsPath:qne});return{abi:[i],functionName:T4(kd(i))}}function wi(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:aNe(t)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?vc(i.inputs,e??[]):void 0;return Cp([s,o??"0x"])}const Ij="/docs/contract/encodeFunctionResult";function cNe(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=j1({abi:e,name:n});if(!o)throw new ob(n,{docsPath:Ij});i=o}if(i.type!=="function")throw new ob(void 0,{docsPath:Ij});if(!i.outputs)throw new Ine(i.name,{docsPath:Ij});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new $ne(r)})();return vc(i.outputs,s)}function lNe(t,e){if(t.length!==e.length)throw new Cne({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(Hne(i,s))}return Cp(n)}function Hne(t,e,n=!1){if(t==="address"){const o=e;if(!us(o))throw new mp({address:o});return ls(o.toLowerCase(),{size:n?32:null})}if(t==="string")return vg(e);if(t==="bytes")return e;if(t==="bool")return ls(cj(e),{size:n?32:1});const r=t.match(yj);if(r){const[o,a,c="256"]=r,l=Number.parseInt(c,10)/8;return Fe(e,{size:n?32:l,signed:a==="int"})}const i=t.match(Mne);if(i){const[o,a]=i;if(Number.parseInt(a,10)!==(e.length-2)/2)throw new kne({expectedSize:Number.parseInt(a,10),givenSize:(e.length-2)/2});return ls(e,{dir:"right",size:n?32:null})}const s=t.match(BPe);if(s&&Array.isArray(e)){const[o,a]=s,c=[];for(let l=0;l<e.length;l++)c.push(Hne(a,e[l],!0));return c.length===0?"0x":Cp(c)}throw new TPe(t)}const Oi=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function Vne({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Oi(e[s]):e[s]}`).join(", ")})`}function D1(t,e){if(!us(t,{strict:!1}))throw new mp({address:t});if(!us(e,{strict:!1}))throw new mp({address:e});return t.toLowerCase()===e.toLowerCase()}function kj(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var u;const a=e.filter(d=>d.type==="event"&&o.topics[0]===iA(d));if(a.length===0)return null;let c,l;for(const d of a)try{c=P4({...o,abi:[d],strict:!0}),l=d;break}catch{}if(!c&&!i){l=a[0];try{c=P4({...o,abi:[l],strict:!1})}catch{const d=(u=l.inputs)==null?void 0:u.some(h=>!("name"in h&&h.name));return{...o,args:d?[]:{},eventName:l.name}}}return!c||!l||s&&!s.includes(c.eventName)||!uNe({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...o}}).filter(Boolean)}function uNe(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?D1(o,a):s.type==="string"||s.type==="bytes"?Yr(tb(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function dNe(t,e="hex"){const n=Kne(t),r=gj(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ss(r.bytes):r.bytes}function Kne(t){return Array.isArray(t)?hNe(t.map(e=>Kne(e))):fNe(t)}function hNe(t){const e=t.reduce((i,s)=>i+s.length,0),n=Gne(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function fNe(t){const e=typeof t=="string"?ja(t):t,n=Gne(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function Gne(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new xe("Length is too large.")}function pNe(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Yr(Cp(["0x05",dNe([e?Fe(e):"0x",i,n?Fe(n):"0x"])]));return r==="bytes"?ja(s):s}async function gNe({hash:t,signature:e}){const n=Si(t)?t:Cr(t),{secp256k1:r}=await Ge(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>fMe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=Zne(f);return new r.Signature(Ki(l),Ki(u)).addRecoveryBit(p)}const o=Si(e)?e:Cr(e);if(yi(o)!==65)throw new Error("invalid signature length");const a=wc(`0x${o.slice(130)}`),c=Zne(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Zne(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Yne({hash:t,signature:e}){return yPe(await gNe({hash:t,signature:e}))}async function aA(t){const{authorization:e,signature:n}=t;return Yne({hash:pNe(e),signature:n??e})}const Jne={gwei:9,wei:18},mNe={ether:-9,wei:9};function ks(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function L1(t,e="wei"){return ks(t,Jne[e])}function na(t,e="wei"){return ks(t,mNe[e])}function cb(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class yNe extends xe{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",cb(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class wNe extends xe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=cb({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${L1(h)} ${((p=i==null?void 0:i.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${na(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${na(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${na(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Qne extends xe{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Xne extends xe{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class ere extends xe{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class vNe extends xe{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function tre(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>ja(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Ss(s))}function nre(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>ja(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>ja(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>Ss(o))}function bNe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function xNe(t,e,n){return t&e^~t&n}function ENe(t,e,n){return t&e^t&n^e&n}let rre=class extends uj{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=lj(this.buffer)}update(e){sb(this),e=_4(e),bp(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=lj(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sb(this),lne(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,bg(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;bNe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=lj(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const _g=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ra=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ia=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),CNe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ag=new Uint32Array(64);let _Ne=class extends rre{constructor(e=32){super(64,e,8,!1),this.A=_g[0]|0,this.B=_g[1]|0,this.C=_g[2]|0,this.D=_g[3]|0,this.E=_g[4]|0,this.F=_g[5]|0,this.G=_g[6]|0,this.H=_g[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ag[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ag[d-15],f=Ag[d-2],p=Lh(h,7)^Lh(h,18)^h>>>3,m=Lh(f,17)^Lh(f,19)^f>>>10;Ag[d]=m+Ag[d-7]+p+Ag[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Lh(a,6)^Lh(a,11)^Lh(a,25),f=u+h+xNe(a,c,l)+CNe[d]+Ag[d]|0,m=(Lh(r,2)^Lh(r,13)^Lh(r,22))+ENe(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){bg(Ag)}destroy(){this.set(0,0,0,0,0,0,0,0),bg(this.buffer)}};const ire=sne(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ANe=ire[0],SNe=ire[1],Sg=new Uint32Array(80),Ig=new Uint32Array(80);let sre=class extends rre{constructor(e=64){super(128,e,16,!1),this.Ah=ia[0]|0,this.Al=ia[1]|0,this.Bh=ia[2]|0,this.Bl=ia[3]|0,this.Ch=ia[4]|0,this.Cl=ia[5]|0,this.Dh=ia[6]|0,this.Dl=ia[7]|0,this.Eh=ia[8]|0,this.El=ia[9]|0,this.Fh=ia[10]|0,this.Fl=ia[11]|0,this.Gh=ia[12]|0,this.Gl=ia[13]|0,this.Hh=ia[14]|0,this.Hl=ia[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:w}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)Sg[v]=e.getUint32(n),Ig[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=Sg[v-15]|0,_=Ig[v-15]|0,T=nb(E,_,1)^nb(E,_,8)^one(E,_,7),I=rb(E,_,1)^rb(E,_,8)^ane(E,_,7),R=Sg[v-2]|0,S=Ig[v-2]|0,B=nb(R,S,19)^J_(R,S,61)^one(R,S,6),j=rb(R,S,19)^Q_(R,S,61)^ane(R,S,6),U=qTe(I,j,Ig[v-7],Ig[v-16]),M=HTe(U,T,B,Sg[v-7],Sg[v-16]);Sg[v]=M|0,Ig[v]=U|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const E=nb(d,h,14)^nb(d,h,18)^J_(d,h,41),_=rb(d,h,14)^rb(d,h,18)^Q_(d,h,41),T=d&f^~d&m,I=h&p^~h&w,R=VTe(b,_,I,SNe[v],Ig[v]),S=KTe(R,y,E,T,ANe[v],Sg[v]),B=R|0,j=nb(r,i,28)^J_(r,i,34)^J_(r,i,39),U=rb(r,i,28)^Q_(r,i,34)^Q_(r,i,39),M=r&s^r&a^s&a,C=i&o^i&c^o&c;y=m|0,b=w|0,m=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=vp(l|0,u|0,S|0,B|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const x=zTe(B,U,C);r=WTe(x,S,j,M),i=x|0}({h:r,l:i}=vp(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=vp(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=vp(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=vp(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=vp(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=vp(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:w}=vp(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=vp(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,c,l,u,d,h,f,p,m,w,y,b)}roundClean(){bg(Sg,Ig)}destroy(){bg(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},INe=class extends sre{constructor(){super(48),this.Ah=ra[0]|0,this.Al=ra[1]|0,this.Bh=ra[2]|0,this.Bl=ra[3]|0,this.Ch=ra[4]|0,this.Cl=ra[5]|0,this.Dh=ra[6]|0,this.Dl=ra[7]|0,this.Eh=ra[8]|0,this.El=ra[9]|0,this.Fh=ra[10]|0,this.Fl=ra[11]|0,this.Gh=ra[12]|0,this.Gl=ra[13]|0,this.Hh=ra[14]|0,this.Hl=ra[15]|0}};const O4=eA(()=>new _Ne),ore=eA(()=>new sre),kNe=eA(()=>new INe),R4=O4;function $Ne(t,e){return R4(Si(t,{strict:!1})?tb(t):t)}function TNe(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=$Ne(e);return i.set([n],0),r==="bytes"?i:Ss(i)}function PNe(t){const{commitments:e,version:n}=t,r=t.to,i=[];for(const s of e)i.push(TNe({commitment:s,to:r,version:n}));return i}const are=6,cre=32,$j=4096,lre=cre*$j,ure=lre*are-1-1*$j*are;class NNe extends xe{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ONe extends xe{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function RNe(t){const e=typeof t.data=="string"?ja(t.data):t.data,n=yi(e);if(!n)throw new ONe;if(n>ure)throw new NNe({maxSize:ure,size:n});const r=[];let i=!0,s=0;for(;i;){const o=gj(new Uint8Array(lre));let a=0;for(;a<$j;){const c=e.slice(s,s+(cre-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),i=!1;break}a++,s+=31}r.push(o)}return r.map(o=>Ss(o.bytes))}function MNe(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??RNe({data:e}),s=t.commitments??tre({blobs:i,kzg:n,to:r}),o=t.proofs??nre({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}const jNe=2n**256n-1n;class Tj extends xe{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class BNe extends xe{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class DNe extends xe{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class dre extends xe{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}let U1=class extends xe{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}};Object.defineProperty(U1,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(U1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class cA extends xe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${na(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(cA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Pj extends xe{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${na(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Pj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Nj extends xe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Nj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Oj extends xe{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Oj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Rj extends xe{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Rj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Mj extends xe{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Mj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class jj extends xe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(jj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Bj extends xe{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Bj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Dj extends xe{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Dj,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class lA extends xe{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${na(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${na(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(lA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class M4 extends xe{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function LNe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new yNe({transaction:t})}async function UNe({address:t,authorization:e,signature:n}){return D1(Gi(t),await aA({authorization:e,signature:n}))}const FNe=t=>t,j4=t=>t;class F1 extends xe{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${j4(o)}`,e&&`Request body: ${Oi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class Lj extends xe{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${j4(r)}`,`Request body: ${Oi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class hre extends xe{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${j4(n)}`,`Request body: ${Oi(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const zNe=-1;class bc extends xe{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof Lj?e.code:n??zNe}}class _l extends bc{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class B4 extends bc{constructor(e){super(e,{code:B4.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(B4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class D4 extends bc{constructor(e){super(e,{code:D4.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(D4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class L4 extends bc{constructor(e,{method:n}={}){super(e,{code:L4.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(L4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class U4 extends bc{constructor(e){super(e,{code:U4.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(U4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class z1 extends bc{constructor(e){super(e,{code:z1.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(z1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class kg extends bc{constructor(e){super(e,{code:kg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class F4 extends bc{constructor(e){super(e,{code:F4.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(F4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class z4 extends bc{constructor(e){super(e,{code:z4.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(z4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class lb extends bc{constructor(e){super(e,{code:lb.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(lb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class W1 extends bc{constructor(e,{method:n}={}){super(e,{code:W1.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(W1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ub extends bc{constructor(e){super(e,{code:ub.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(ub,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class W4 extends bc{constructor(e){super(e,{code:W4.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(W4,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class q1 extends _l{constructor(e){super(e,{code:q1.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(q1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class q4 extends _l{constructor(e){super(e,{code:q4.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(q4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class H4 extends _l{constructor(e,{method:n}={}){super(e,{code:H4.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(H4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class V4 extends _l{constructor(e){super(e,{code:V4.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(V4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class K4 extends _l{constructor(e){super(e,{code:K4.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(K4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class G4 extends _l{constructor(e){super(e,{code:G4.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(G4,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class db extends _l{constructor(e){super(e,{code:db.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(db,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Z4 extends _l{constructor(e){super(e,{code:Z4.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Z4,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Y4 extends _l{constructor(e){super(e,{code:Y4.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Y4,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class J4 extends _l{constructor(e){super(e,{code:J4.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(J4,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Q4 extends _l{constructor(e){super(e,{code:Q4.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Q4,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class X4 extends _l{constructor(e){super(e,{code:X4.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(X4,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class hb extends _l{constructor(e){super(e,{code:hb.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(hb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class WNe extends bc{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const uA=new R1(8192);function qNe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(uA.get(n))return uA.get(n);const r=t().finally(()=>uA.delete(n));return uA.set(n,r),r}async function dA(t){return new Promise(e=>setTimeout(e,t))}function hA(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await dA(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function HNe(t,e={}){return async(n,r={})=>{var d;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=s==null?void 0:s.exclude)!=null&&d.includes(l))throw new W1(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new W1(new Error("method not supported"),{method:l});const u=i?vg(`${c}.${Oi(n)}`):void 0;return qNe(()=>hA(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case B4.code:throw new B4(f);case D4.code:throw new D4(f);case L4.code:throw new L4(f,{method:n.method});case U4.code:throw new U4(f);case z1.code:throw new z1(f);case kg.code:throw new kg(f);case F4.code:throw new F4(f);case z4.code:throw new z4(f);case lb.code:throw new lb(f);case W1.code:throw new W1(f,{method:n.method});case ub.code:throw new ub(f);case W4.code:throw new W4(f);case q1.code:throw new q1(f);case q4.code:throw new q4(f);case H4.code:throw new H4(f);case V4.code:throw new V4(f);case K4.code:throw new K4(f);case G4.code:throw new G4(f);case db.code:throw new db(f);case Z4.code:throw new Z4(f);case Y4.code:throw new Y4(f);case J4.code:throw new J4(f);case Q4.code:throw new Q4(f);case X4.code:throw new X4(f);case hb.code:throw new hb(f);case 5e3:throw new q1(f);default:throw h instanceof xe?h:new WNe(f)}}},{delay:({count:h,error:f})=>{var p;if(f&&f instanceof F1){const m=(p=f==null?void 0:f.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>VNe(h)}),{enabled:i,id:u})}}function VNe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===ub.code||t.code===z1.code:t instanceof F1&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uj=BigInt(0),Fj=BigInt(1);function e8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zj(t){if(!e8(t))throw new Error("Uint8Array expected")}function t8(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function fA(t){const e=t.toString(16);return e.length&1?"0"+e:e}function fre(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Uj:BigInt("0x"+t)}const pre=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",KNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n8(t){if(zj(t),pre)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=KNe[t[n]];return e}const _p={_0:48,_9:57,A:65,F:70,a:97,f:102};function gre(t){if(t>=_p._0&&t<=_p._9)return t-_p._0;if(t>=_p.A&&t<=_p.F)return t-(_p.A-10);if(t>=_p.a&&t<=_p.f)return t-(_p.a-10)}function pA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(pre)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=gre(t.charCodeAt(s)),a=gre(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function H1(t){return fre(n8(t))}function mre(t){return zj(t),fre(n8(Uint8Array.from(t).reverse()))}function r8(t,e){return pA(t.toString(16).padStart(e*2,"0"))}function yre(t,e){return r8(t,e).reverse()}function Cu(t,e,n){let r;if(typeof e=="string")try{r=pA(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(e8(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function gA(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];zj(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Wj=t=>typeof t=="bigint"&&Uj<=t;function qj(t,e,n){return Wj(t)&&Wj(e)&&Wj(n)&&e<=t&&t<n}function fb(t,e,n,r){if(!qj(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function GNe(t){let e;for(e=0;t>Uj;t>>=Fj,e+=1);return e}const mA=t=>(Fj<<BigInt(t))-Fj,Hj=t=>new Uint8Array(t),wre=t=>Uint8Array.from(t);function ZNe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Hj(t),i=Hj(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=Hj(0))=>{i=a(wre([0]),d),r=a(),d.length!==0&&(i=a(wre([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return gA(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const YNe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||e8(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function yA(t,e,n={}){const r=(i,s,o)=>{const a=YNe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function vre(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const JNe="0.1.1";function QNe(){return JNe}let _n=class Z0 extends Error{static setStaticOptions(e){Z0.prototype.docsOrigin=e.docsOrigin,Z0.prototype.showVersion=e.showVersion,Z0.prototype.version=e.version}constructor(e,n={}){const r=(()=>{var u;if(n.cause instanceof Z0){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),i=n.cause instanceof Z0&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??Z0.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(n.version??Z0.prototype.showVersion),c=n.version??Z0.prototype.version,l=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||a?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=a,this.version=c}walk(e){return bre(this,e)}};Object.defineProperty(_n,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${QNe()}`}}),_n.setStaticOptions(_n.defaultStaticOptions);function bre(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?bre(t.cause,e):e?null:t}function i8(t,e){if(pb(t)>e)throw new gOe({givenSize:pb(t),maxSize:e})}const Ap={zero:48,nine:57,A:65,F:70,a:97,f:102};function xre(t){if(t>=Ap.zero&&t<=Ap.nine)return t-Ap.zero;if(t>=Ap.A&&t<=Ap.F)return t-(Ap.A-10);if(t>=Ap.a&&t<=Ap.f)return t-(Ap.a-10)}function XNe(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new mOe({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function Ere(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function wA(t,e){if(Al(t)>e)throw new EOe({givenSize:Al(t),maxSize:e})}function eOe(t,e){if(typeof e=="number"&&e>0&&e>Al(t)-1)throw new Ore({offset:e,position:"start",size:Al(t)})}function tOe(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Al(t)!==n-e)throw new Ore({offset:n,position:"end",size:Al(t)})}function Cre(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new COe({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const nOe="#__bigint";function _re(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+nOe:i,n)}const rOe=new TextDecoder,iOe=new TextEncoder;function sOe(t){return t instanceof Uint8Array?t:typeof t=="string"?Are(t):oOe(t)}function oOe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Are(t,e={}){const{size:n}=e;let r=t;n&&(wA(t,n),r=K1(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=xre(i.charCodeAt(c++)),u=xre(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new _n(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l<<4|u}return o}function aOe(t,e={}){const{size:n}=e,r=iOe.encode(t);return typeof n=="number"?(i8(r,n),cOe(r,n)):r}function cOe(t,e){return XNe(t,{dir:"right",size:e})}function pb(t){return t.length}function lOe(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function uOe(t,e={}){const{size:n}=e;typeof n<"u"&&i8(t,n);const r=Td(t,e);return kre(r,e)}function dOe(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(i8(r,n),r=Sre(r)),r.length>1||r[0]>1)throw new pOe(r);return!!r[0]}function Sp(t,e={}){const{size:n}=e;typeof n<"u"&&i8(t,n);const r=Td(t,e);return $re(r,e)}function hOe(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(i8(r,n),r=fOe(r)),rOe.decode(r)}function Sre(t){return Ere(t,{dir:"left"})}function fOe(t){return Ere(t,{dir:"right"})}class pOe extends _n{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let gOe=class extends _n{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},mOe=class extends _n{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const yOe=new TextEncoder,wOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vOe(t,e={}){const{strict:n=!1}=e;if(!t)throw new Pre(t);if(typeof t!="string")throw new Pre(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new Nre(t);if(!t.startsWith("0x"))throw new Nre(t)}function $d(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function bOe(t){return t instanceof Uint8Array?Td(t):Array.isArray(t)?Td(new Uint8Array(t)):t}function Ire(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(wA(n,e.size),V1(n,e.size)):n}function Td(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=wOe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(wA(r,e.size),K1(r,e.size)):r}function Ba(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new Tre({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?V1(c,r):c}function Vj(t,e={}){return Td(yOe.encode(t),e)}function V1(t,e){return Cre(t,{dir:"left",size:e})}function K1(t,e){return Cre(t,{dir:"right",size:e})}function Uh(t,e,n,r={}){const{strict:i}=r;eOe(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&tOe(s,e,n),s}function Al(t){return Math.ceil((t.length-2)/2)}function kre(t,e={}){const{signed:n}=e;e.size&&wA(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function $re(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:kre(t,e))}function xOe(t,e={}){const{strict:n=!1}=e;try{return vOe(t,{strict:n}),!0}catch{return!1}}let Tre=class extends _n{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Pre=class extends _n{constructor(e){super(`Value \`${typeof e=="object"?_re(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Nre=class extends _n{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},EOe=class extends _n{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},Ore=class extends _n{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},COe=class extends _n{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function _Oe(t){return{address:t.address,amount:Ba(t.amount),index:Ba(t.index),validatorIndex:Ba(t.validatorIndex)}}function Rre(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ba(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ba(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ba(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ba(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ba(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ba(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(_Oe)}}}const vA=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Kj=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Mre=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],jre=[...Mre,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],AOe=[...Mre,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Bre=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Dre=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Lre=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ure=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],SOe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],IOe="0x82ad56cb",Fre="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",kOe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",$Oe="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Gj="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class TOe extends xe{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class POe extends xe{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function zre(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function NOe(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=zre(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=zre(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}class Wre extends xe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){var w;const p=n?Br(n):void 0;let m=cb({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${L1(h)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${na(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${na(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${na(l)} gwei`,nonce:u});f&&(m+=`
${NOe(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Zj extends xe{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=j1({abi:n,args:r,name:o}),l=c?Vne({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?kd(c,{includeName:!0}):void 0,d=cb({address:i&&FNe(i),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class bA extends xe{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=Ej({abi:e,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[f]=h;c=XPe[f]}else{const f=u?kd(u,{includeName:!0}):void 0,p=u&&h?Vne({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){s=u}else i&&(c=i);let l;s instanceof Ane&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class qre extends xe{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class OOe extends xe{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class xA extends xe{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function gb({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new Tj({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Tj({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function EA(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof xe?t.walk(i=>(i==null?void 0:i.code)===U1.code):t;return r instanceof xe?new U1({cause:t,message:r.details}):U1.nodeMessage.test(n)?new U1({cause:t,message:t.details}):cA.nodeMessage.test(n)?new cA({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Pj.nodeMessage.test(n)?new Pj({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Nj.nodeMessage.test(n)?new Nj({cause:t,nonce:e==null?void 0:e.nonce}):Oj.nodeMessage.test(n)?new Oj({cause:t,nonce:e==null?void 0:e.nonce}):Rj.nodeMessage.test(n)?new Rj({cause:t,nonce:e==null?void 0:e.nonce}):Mj.nodeMessage.test(n)?new Mj({cause:t}):jj.nodeMessage.test(n)?new jj({cause:t,gas:e==null?void 0:e.gas}):Bj.nodeMessage.test(n)?new Bj({cause:t,gas:e==null?void 0:e.gas}):Dj.nodeMessage.test(n)?new Dj({cause:t}):lA.nodeMessage.test(n)?new lA({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new M4({cause:t})}function Hre(t,{docsPath:e,...n}){const r=(()=>{const i=EA(t,n);return i instanceof M4?t:i})();return new Wre(r,{docsPath:e,...n})}function mb(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}const ROe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function $g(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=MOe(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Ss(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Fe(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Fe(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Fe(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Fe(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Fe(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Fe(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=ROe[t.type]),typeof t.value<"u"&&(n.value=Fe(t.value)),n}function MOe(t){return t.map(e=>({address:e.address,r:e.r?Fe(BigInt(e.r)):e.r,s:e.s?Fe(BigInt(e.s)):e.s,chainId:Fe(e.chainId),nonce:Fe(e.nonce),...typeof e.yParity<"u"?{yParity:Fe(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Fe(e.v)}:{}}))}function Yj(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Jj=new Map;function Vre({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p==null||p([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p==null||p(h)}})},o=()=>Jj.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Jj.get(e)||[],l=u=>Jj.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=Yj();return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,r),d)}}}function Kre(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new nne({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new nne({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function jOe(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Fe(e)),n!==void 0&&(o.nonce=Fe(n)),r!==void 0&&(o.state=Kre(r)),i!==void 0){if(o.state)throw new POe;o.stateDiff=Kre(i)}return o}function CA(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!us(n,{strict:!1}))throw new mp({address:n});if(e[n])throw new TOe({address:n});e[n]=jOe(r)}return e}function Ip(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?Br(e):void 0;if(s&&!us(s.address))throw new mp({address:s.address});if(i&&!us(i))throw new mp({address:i});if(n&&n>jNe)throw new cA({maxFeePerGas:n});if(r&&n&&r>n)throw new lA({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function s8(t,e){var M,C,x,A;const{account:n=t.account,authorizationList:r,batch:i=!!((M=t.batch)!=null&&M.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:h,factoryData:f,gas:p,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:E,value:_,stateOverride:T,...I}=e,R=n?Br(n):void 0;if(u&&(h||f))throw new xe("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&E)throw new xe("Cannot provide both `code` & `to` as parameters.");const S=u&&d,B=h&&f&&E&&d,j=S||B,U=S?Gre({code:u,data:d}):B?LOe({data:d,factory:h,factoryData:f,to:E}):d;try{Ip(e);const O=(typeof s=="bigint"?Fe(s):void 0)||o,P=l?Rre(l):void 0,D=CA(T),L=(A=(x=(C=t.chain)==null?void 0:C.formatters)==null?void 0:x.transactionRequest)==null?void 0:A.format,q=(L||$g)({...mb(I,{format:L}),accessList:a,account:R,authorizationList:r,blobs:c,data:U,gas:p,gasPrice:m,maxFeePerBlobGas:w,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:v,to:j?void 0:E,value:_},"call");if(i&&BOe({request:q})&&!D&&!P)try{return await DOe(t,{...q,blockNumber:s,blockTag:o})}catch(Z){if(!(Z instanceof dre)&&!(Z instanceof Tj))throw Z}const V=(()=>{const Z=[q,O];return D&&P?[...Z,D,P]:D?[...Z,D]:P?[...Z,{},P]:Z})(),F=await t.request({method:"eth_call",params:V});return F==="0x"?{data:void 0}:{data:F}}catch(N){const O=UOe(N),{offchainLookup:P,offchainLookupSignature:D}=await Ge(async()=>{const{offchainLookup:L,offchainLookupSignature:$}=await Promise.resolve().then(()=>KOe);return{offchainLookup:L,offchainLookupSignature:$}},void 0);if(t.ccipRead!==!1&&(O==null?void 0:O.slice(0,10))===D&&E)return{data:await P(t,{data:O,to:E})};throw j&&(O==null?void 0:O.slice(0,10))==="0x101bb98d"?new OOe({factory:h}):Hre(N,{...e,account:R,chain:t.chain})}}function BOe({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(IOe)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function DOe(t,e){var m;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((m=t.batch)==null?void 0:m.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return gb({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new dre})(),d=(typeof s=="bigint"?Fe(s):void 0)||o,{schedule:h}=Vre({id:`${t.uid}.${d}`,wait:i,shouldSplitBatch(w){return w.reduce((b,{data:v})=>b+(v.length-2),0)>n*2},fn:async w=>{const y=w.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),b=wi({abi:vA,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{...l===null?{data:Gre({code:Gj,data:b})}:{to:l,data:b}},d]});return B1({abi:vA,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:f,success:p}]=await h({data:a,to:c});if(!p)throw new xA({data:f});return f==="0x"?{data:void 0}:{data:f}}function Gre(t){const{code:e,data:n}=t;return oA({abi:sj(["constructor(bytes, bytes)"]),bytecode:Fre,args:[e,n]})}function LOe(t){const{data:e,factory:n,factoryData:r,to:i}=t;return oA({abi:sj(["constructor(address, bytes, address, bytes)"]),bytecode:kOe,args:[i,e,n,r]})}function UOe(t){var n;if(!(t instanceof xe))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}class FOe extends xe{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:s,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${j4(c)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}}class zOe extends xe{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${j4(n)}`,`Response: ${Oi(e)}`],name:"OffchainLookupResponseMalformedError"})}}class WOe extends xe{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const o8="x-batch-gateway:true";async function Zre(t){const{data:e,ccipRequest:n}=t,{args:[r]}=sA({abi:Kj,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(o8)?await Zre({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=qOe(c)}})),cNe({abi:Kj,functionName:"query",result:[i,s]})}function qOe(t){return t.name==="HttpRequestError"&&t.status?Fne({abi:Kj,errorName:"HttpError",args:[t.status,t.shortMessage]}):Fne({abi:[Bne],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}const HOe="0x556f1830",Yre={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function VOe(t,{blockNumber:e,blockTag:n,data:r,to:i}){const{args:s}=Ej({data:r,abi:[Yre]}),[o,a,c,l,u]=s,{ccipRead:d}=t,h=d&&typeof(d==null?void 0:d.request)=="function"?d.request:Jre;try{if(!D1(i,o))throw new WOe({sender:o,to:i});const f=a.includes(o8)?await Zre({data:c,ccipRequest:h}):await h({data:c,sender:o,urls:a}),{data:p}=await s8(t,{blockNumber:e,blockTag:n,data:Is([l,vc([{type:"bytes"},{type:"bytes"}],[f,u])]),to:i});return p}catch(f){throw new FOe({callbackSelector:l,cause:f,data:r,extraData:u,sender:o,urls:a})}}async function Jre({data:t,sender:e,urls:n}){var i;let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:t,sender:e}:void 0,l=a==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(c),headers:l,method:a});let d;if((i=u.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?d=(await u.json()).data:d=await u.text(),!u.ok){r=new F1({body:c,details:d!=null&&d.error?Oi(d.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!Si(d)){r=new zOe({result:d,url:o});continue}return d}catch(u){r=new F1({body:c,details:u.message,url:o})}}throw r}const KOe=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Jre,offchainLookup:VOe,offchainLookupAbiItem:Yre,offchainLookupSignature:HOe},Symbol.toStringTag,{value:"Module"}));function Qj({chain:t,currentChainId:e}){if(!t)throw new DNe;if(e!==t.id)throw new BNe({chain:t,currentChainId:e})}function GOe(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,o={...r,...s};return Object.assign(o,{extend:n(o)})}}return Object.assign(e,{extend:n(e)})}const ZOe=3;function G1(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof xA?t:t instanceof xe?t.walk(p=>"data"in p)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:h}=a,f=t instanceof k4?new qre({functionName:s}):[ZOe,z1.code].includes(c)&&(l||u||d||h)||c===kg.code&&u==="execution reverted"&&l?new bA({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof Lj?u:h??d}):t;return new Zj(f,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}class YOe extends xe{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var p;const f=cb({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${L1(h)} ${((p=i==null?void 0:i.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${na(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${na(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${na(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function JOe(t,{docsPath:e,...n}){const r=(()=>{const i=EA(t,n);return i instanceof M4?t:i})();return new YOe(r,{docsPath:e,...n})}function _A(t,{docsPath:e,...n}){const r=(()=>{const i=EA(t,n);return i instanceof M4?t:i})();return new wNe(r,{docsPath:e,...n})}const Qre={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Xj(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?wc(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?wc(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Qre[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=QOe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function QOe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Xre(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:Xj(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function Fh(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const eie={"0x0":"reverted","0x1":"success"};function eB(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Fh(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?wc(t.transactionIndex):null,status:t.status?eie[t.status]:null,type:t.type?Qre[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}function lt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}async function tB(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Fe(r):n]},{dedupe:!!r});return wc(i)}function XOe(t){const{source:e}=t,n=new Map,r=new R1(8192),i=new Map,s=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const l=s({address:o,chainId:a}),u=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await u;return await e.set({address:o,chainId:a},d),r.set(l,d),d},async increment({address:o,chainId:a}){const c=s({address:o,chainId:a}),l=n.get(c)??0;n.set(c,l+1)},async get({address:o,chainId:a,client:c}){const l=s({address:o,chainId:a});let u=i.get(l);return u||(u=(async()=>{try{const h=await e.get({address:o,chainId:a,client:c}),f=r.get(l)??0;return f>0&&h<=f?f+1:(r.delete(l),h)}finally{this.reset({address:o,chainId:a})}})(),i.set(l,u)),(n.get(l)??0)+await u},reset({address:o,chainId:a}){const c=s({address:o,chainId:a});n.delete(c),i.delete(c)}}}function eRe(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function tRe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const tie=tRe();function nRe(t,e={}){const{url:n,headers:r}=rRe(t);return{async request(i){var p;const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:c=e.onResponse,timeout:l=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:d,method:h,signal:f}=u;try{const m=await eRe(async({signal:y})=>{const b={...u,body:Array.isArray(s)?Oi(s.map(T=>({jsonrpc:"2.0",id:T.id??tie.take(),...T}))):Oi({jsonrpc:"2.0",id:s.id??tie.take(),...s}),headers:{...r,"Content-Type":"application/json",...d},method:h||"POST",signal:f||(l>0?y:null)},v=new Request(n,b),E=await(a==null?void 0:a(v,b))??{...b,url:n};return await o(E.url??n,E)},{errorInstance:new hre({body:s,url:n}),timeout:l,signal:!0});c&&await c(m);let w;if((p=m.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))w=await m.json();else{w=await m.text();try{w=JSON.parse(w||"{}")}catch(y){if(m.ok)throw y;w={error:w}}}if(!m.ok)throw new F1({body:s,details:Oi(w.error)||m.statusText,headers:m.headers,status:m.status,url:n});return w}catch(m){throw m instanceof F1||m instanceof hre?m:new F1({body:s,cause:m,url:n})}}}}function rRe(t){try{const e=new URL(t),n=(()=>{if(e.username){const r=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(r)}`}}}})();return{url:e.toString(),...n}}catch{return{url:t}}}const iRe=`Ethereum Signed Message:
`;function sRe(t){const e=typeof t=="string"?vg(t):typeof t.raw=="string"?t.raw:Ss(t.raw),n=vg(`${iRe}${yi(e)}`);return Is([n,e])}function AA(t,e){return Yr(sRe(t),e)}class oRe extends xe{constructor({domain:e}){super(`Invalid domain "${Oi(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class aRe extends xe{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cRe extends xe{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function lRe(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,l)=>{const u={...l};for(const d of c){const{name:h,type:f}=d;f==="address"&&(u[h]=u[h].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Oi({domain:o,message:a,primaryType:r,types:i})}function nie(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],h=u.match(yj);if(h&&(typeof d=="number"||typeof d=="bigint")){const[m,w,y]=h;Fe(d,{signed:w==="int",size:Number.parseInt(y,10)/8})}if(u==="address"&&typeof d=="string"&&!us(d))throw new mp({address:d});const f=u.match(Mne);if(f){const[m,w]=f;if(w&&yi(d)!==Number.parseInt(w,10))throw new kne({expectedSize:Number.parseInt(w,10),givenSize:yi(d)})}const p=i[u];p&&(uRe(u),s(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new oRe({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new aRe({primaryType:r,types:i})}function rie({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function uRe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new cRe({type:t})}function a8(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:rie({domain:e}),...t.types};nie({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(dRe({domain:e,types:i})),r!=="EIP712Domain"&&s.push(iie({data:n,primaryType:r,types:i})),Yr(Is(s))}function dRe({domain:t,types:e}){return iie({data:t,primaryType:"EIP712Domain",types:e})}function iie({data:t,primaryType:e,types:n}){const r=sie({data:t,primaryType:e,types:n});return Yr(r)}function sie({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[hRe({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=aie({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return vc(r,i)}function hRe({primaryType:t,types:e}){const n=Cr(fRe({primaryType:t,types:e}));return Yr(n)}function fRe({primaryType:t,types:e}){let n="";const r=oie({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function oie({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])oie({primaryType:s.type,types:e},n);return n}function aie({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Yr(sie({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},Yr(r)];if(n==="string")return[{type:"bytes32"},Yr(Cr(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>aie({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},Yr(vc(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}const pRe="0x6492649264926492649264926492649264926492649264926492649264926492";let gRe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const nB={checksum:new gRe(8192)}.checksum;function cie(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=tA(sOe(t));return n==="Bytes"?r:Td(r)}const mRe=/^0x[a-fA-F0-9]{40}$/;function SA(t,e={}){const{strict:n=!0}=e;if(!mRe.test(t))throw new uie({address:t,cause:new yRe});if(n){if(t.toLowerCase()===t)return;if(lie(t)!==t)throw new uie({address:t,cause:new wRe})}}function lie(t){if(nB.has(t))return nB.get(t);SA(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=cie(aOe(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return nB.set(t,i),i}function rB(t,e={}){const{strict:n=!0}=e??{};try{return SA(t,{strict:n}),!0}catch{return!1}}class uie extends _n{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class yRe extends _n{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class wRe extends _n{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const vRe=/^(.*)\[([0-9]*)\]$/,bRe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,die=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,hie=2n**256n-1n;function yb(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=aB(e.type);if(s){const[o,a]=s;return ERe(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type==="tuple")return SRe(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return xRe(t,{checksum:r});if(e.type==="bool")return CRe(t);if(e.type.startsWith("bytes"))return _Re(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ARe(t,e);if(e.type==="string")return IRe(t,{staticPosition:i});throw new uB(e.type)}const fie=32,iB=32;function xRe(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?lie(s):s)(Td(lOe(r,-20))),32]}function ERe(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=Sp(t.readBytes(iB)),l=s+c,u=l+fie;t.setPosition(l);const d=Sp(t.readBytes(fie)),h=c8(e);let f=0;const p=[];for(let m=0;m<d;++m){t.setPosition(u+(h?m*32:f));const[w,y]=yb(t,e,{checksumAddress:r,staticPosition:u});f+=y,p.push(w)}return t.setPosition(s+32),[p,32]}if(c8(e)){const c=Sp(t.readBytes(iB)),l=s+c,u=[];for(let d=0;d<i;++d){t.setPosition(l+d*32);const[h]=yb(t,e,{checksumAddress:r,staticPosition:l});u.push(h)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[l,u]=yb(t,e,{checksumAddress:r,staticPosition:s+o});o+=u,a.push(l)}return[a,o]}function CRe(t){return[dOe(t.readBytes(32),{size:32}),32]}function _Re(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const o=Sp(t.readBytes(32));t.setPosition(n+o);const a=Sp(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Td(c),32]}return[Td(t.readBytes(Number.parseInt(i,10),32)),32]}function ARe(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?uOe(i,{signed:n}):Sp(i,{signed:n}),32]}function SRe(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(c8(e)){const c=Sp(t.readBytes(iB)),l=i+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+a);const[h,f]=yb(t,d,{checksumAddress:r,staticPosition:l});a+=f,o[s?u:d==null?void 0:d.name]=h}return t.setPosition(i+32),[o,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=yb(t,l,{checksumAddress:r,staticPosition:i});o[s?c:l==null?void 0:l.name]=u,a+=d}return[o,a]}function IRe(t,{staticPosition:e}){const n=Sp(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Sp(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=hOe(Sre(s));return t.setPosition(e+32),[o,32]}function kRe({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(sB({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function sB({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=aB(r.type);if(i){const[s,o]=i;return TRe(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return MRe(n,{checksumAddress:t,parameter:r});if(r.type==="address")return $Re(n,{checksum:t});if(r.type==="bool")return NRe(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=die.exec(r.type)??[];return ORe(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return PRe(n,{type:r.type});if(r.type==="string")return RRe(n);throw new uB(r.type)}function oB(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Al(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Ba(e+i,{size:32})),r.push(a),i+=Al(a)):n.push(a)}return $d(...n,...r)}function $Re(t,e){const{checksum:n=!1}=e;return SA(t,{strict:n}),{dynamic:!1,encoded:V1(t.toLowerCase())}}function TRe(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new qRe(t);if(!s&&t.length!==r)throw new WRe({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=sB({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(s||o){const c=oB(a);if(s){const l=Ba(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?$d(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:$d(...a.map(({encoded:c})=>c))}}function PRe(t,{type:e}){const[,n]=e.split("bytes"),r=Al(t);if(!n){let i=t;return r%32!==0&&(i=K1(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:$d(V1(Ba(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new mie({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:K1(t)}}function NRe(t){if(typeof t!="boolean")throw new _n(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:V1(Ire(t))}}function ORe(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Tre({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ba(t,{size:32,signed:e})}}function RRe(t){const e=Vj(t),n=Math.ceil(Al(e)/32),r=[];for(let i=0;i<n;i++)r.push(K1(Uh(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:$d(K1(Ba(Al(e),{size:32})),...r)}}function MRe(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=sB({checksumAddress:n,parameter:a,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?oB(s):$d(...s.map(({encoded:o})=>o))}}function aB(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function c8(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(c8);const n=aB(t.type);return!!(n&&c8({...t,type:n[1]}))}const jRe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new LRe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new DRe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new pie({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new pie({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function BRe(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(jRe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class pie extends _n{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class DRe extends _n{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class LRe extends _n{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function URe(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?Are(e):e,o=BRe(s);if(pb(s)===0&&t.length>0)throw new zRe;if(pb(s)&&pb(s)<32)throw new FRe({data:typeof e=="string"?e:Td(e),parameters:t,size:pb(s)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<t.length;++l){const u=t[l];o.setPosition(a);const[d,h]=yb(o,u,{checksumAddress:i,staticPosition:0});a+=h,r==="Array"?c.push(d):c[u.name??l]=d}return c}function cB(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new yie({expectedLength:t.length,givenLength:e.length});const i=kRe({checksumAddress:r,parameters:t,values:e}),s=oB(i);return s.length===0?"0x":s}function lB(t,e){if(t.length!==e.length)throw new yie({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(lB.encode(i,s))}return $d(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const c=r;return SA(c),V1(c.toLowerCase(),i?32:0)}if(n==="string")return Vj(r);if(n==="bytes")return r;if(n==="bool")return V1(Ire(r),i?32:1);const s=n.match(die);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return Ba(r,{size:i?32:d,signed:l==="int"})}const o=n.match(bRe);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new mie({expectedSize:Number.parseInt(l,10),value:r});return K1(r,i?32:0)}const a=n.match(vRe);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":$d(...u)}throw new uB(n)}t.encode=e})(lB||(lB={}));function gie(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?Jte(t):t}class FRe extends _n{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Xv(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class zRe extends _n{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class WRe extends _n{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class mie extends _n{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Al(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class yie extends _n{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class qRe extends _n{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class uB extends _n{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let wie=class extends uj{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,cne(e);const r=_4(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),bg(s)}update(e){return sb(this),this.iHash.update(e),this}digestInto(e){sb(this),bp(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const IA=(t,e,n)=>new wie(t,e).update(n).digest();IA.create=(t,e)=>new wie(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xc=BigInt(0),Da=BigInt(1),Z1=BigInt(2),HRe=BigInt(3),vie=BigInt(4),bie=BigInt(5),xie=BigInt(8);function Ec(t,e){const n=t%e;return n>=xc?n:e+n}function _u(t,e,n){let r=t;for(;e-- >xc;)r*=r,r%=n;return r}function dB(t,e){if(t===xc)throw new Error("invert: expected non-zero number");if(e<=xc)throw new Error("invert: expected positive modulus, got "+e);let n=Ec(t,e),r=e,i=xc,s=Da;for(;n!==xc;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Da)throw new Error("invert: does not exist");return Ec(i,e)}function Eie(t,e){const n=(t.ORDER+Da)/vie,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function VRe(t,e){const n=(t.ORDER-bie)/xie,r=t.mul(e,Z1),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Z1),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function KRe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Da,n=0;for(;e%Z1===xc;)e/=Z1,n++;let r=Z1;const i=hB(t);for(;_ie(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Eie;let s=i.pow(r,e);const o=(e+Da)/Z1;return function(c,l){if(c.is0(l))return l;if(_ie(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const w=Da<<BigInt(u-p-1),y=c.pow(d,w);u=p,d=c.sqr(y),h=c.mul(h,d),f=c.mul(f,y)}return f}}function GRe(t){return t%vie===HRe?Eie:t%xie===bie?VRe:KRe(t)}const ZRe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YRe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ZRe.reduce((r,i)=>(r[i]="function",r),e);return yA(t,n)}function JRe(t,e,n){if(n<xc)throw new Error("invalid exponent, negatives unsupported");if(n===xc)return t.ONE;if(n===Da)return e;let r=t.ONE,i=e;for(;n>xc;)n&Da&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Da;return r}function Cie(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function _ie(t,e){const n=(t.ORDER-Da)/Z1,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Aie(t,e){e!==void 0&&O1(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function hB(t,e,n=!1,r={}){if(t<=xc)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Aie(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:mA(i),ZERO:xc,ONE:Da,create:c=>Ec(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xc<=c&&c<t},is0:c=>c===xc,isOdd:c=>(c&Da)===Da,neg:c=>Ec(-c,t),eql:(c,l)=>c===l,sqr:c=>Ec(c*c,t),add:(c,l)=>Ec(c+l,t),sub:(c,l)=>Ec(c-l,t),mul:(c,l)=>Ec(c*l,t),pow:(c,l)=>JRe(a,c,l),div:(c,l)=>Ec(c*dB(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>dB(c,t),sqrt:r.sqrt||(c=>(o||(o=GRe(t)),o(a,c))),toBytes:c=>n?yre(c,s):r8(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?mre(c):H1(c)},invertBatch:c=>Cie(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Sie(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Iie(t){const e=Sie(t);return e+Math.ceil(e/2)}function QRe(t,e,n=!1){const r=t.length,i=Sie(e),s=Iie(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?mre(t):H1(t),a=Ec(o,e-Da)+Da;return n?yre(a,i):r8(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kie=BigInt(0),fB=BigInt(1);function pB(t,e){const n=e.negate();return t?n:e}function $ie(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function gB(t,e){$ie(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=mA(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Tie(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=fB);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function XRe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function eMe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const mB=new WeakMap,Pie=new WeakMap;function yB(t){return Pie.get(t)||1}function tMe(t,e){return{constTimeNegate:pB,hasPrecomputes(n){return yB(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>kie;)r&fB&&(i=i.add(s)),s=s.double(),r>>=fB;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=gB(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=gB(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=Tie(i,c,a);i=l,d?o=o.add(pB(f,r[p])):s=s.add(pB(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=gB(n,e);for(let a=0;a<o.windows&&i!==kie;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=Tie(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=mB.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&mB.set(r,i(s))),s},wNAFCached(n,r,i){const s=yB(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=yB(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){$ie(r,e),Pie.set(n,r),mB.delete(n)}}}function nMe(t,e,n,r){XRe(n,t),eMe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=GNe(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=mA(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const w=r[m],y=Number(w>>BigInt(f)&l);u[y]=u[y].add(n[m])}let p=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),p=p.add(w);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function Nie(t){return YRe(t.Fp),yA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Aie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Oie(t){t.lowS!==void 0&&t8("lowS",t.lowS),t.prehash!==void 0&&t8("prehash",t.prehash)}function rMe(t){const e=Nie(t);yA(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}const kp={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=kp;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=fA(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?fA(i.length/2|128):"";return fA(t)+s+i+e},decode(t,e){const{Err:n}=kp;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=kp;if(t<$p)throw new e("integer: negative integers are not allowed");let n=fA(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=kp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return H1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=kp,i=Cu("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=kp,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function wB(t,e){return n8(r8(t,e))}const $p=BigInt(0),qs=BigInt(1);BigInt(2);const vB=BigInt(3),iMe=BigInt(4);function sMe(t){const e=rMe(t),{Fp:n}=e,r=hB(e.n,e.nBitLength),i=e.toBytes||((v,E,_)=>{const T=E.toAffine();return gA(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),s=e.fromBytes||(v=>{const E=v.subarray(1),_=n.fromBytes(E.subarray(0,n.BYTES)),T=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:_,y:T}});function o(v){const{a:E,b:_}=e,T=n.sqr(v),I=n.mul(T,v);return n.add(n.add(I,n.mul(v,E)),_)}function a(v,E){const _=n.sqr(E),T=o(v);return n.eql(_,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,vB),iMe),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return qj(v,qs,e.n)}function d(v){const{allowedPrivateKeyLengths:E,nByteLength:_,wrapPrivateKey:T,n:I}=e;if(E&&typeof v!="bigint"){if(e8(v)&&(v=n8(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(_*2,"0")}let R;try{R=typeof v=="bigint"?v:H1(Cu("private key",v,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof v)}return T&&(R=Ec(R,I)),fb("private key",R,qs,I),R}function h(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const f=vre((v,E)=>{const{px:_,py:T,pz:I}=v;if(n.eql(I,n.ONE))return{x:_,y:T};const R=v.is0();E==null&&(E=R?n.ONE:n.inv(I));const S=n.mul(_,E),B=n.mul(T,E),j=n.mul(I,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(j,n.ONE))throw new Error("invZ was invalid");return{x:S,y:B}}),p=vre(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:_}=v.toAffine();if(!n.isValid(E)||!n.isValid(_))throw new Error("bad point: x or y not FE");if(!a(E,_))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,_,T){if(E==null||!n.isValid(E))throw new Error("x required");if(_==null||!n.isValid(_)||n.is0(_))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");this.px=E,this.py=_,this.pz=T,Object.freeze(this)}static fromAffine(E){const{x:_,y:T}=E||{};if(!E||!n.isValid(_)||!n.isValid(T))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const I=R=>n.eql(R,n.ZERO);return I(_)&&I(T)?m.ZERO:new m(_,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const _=Cie(n,E.map(T=>T.pz));return E.map((T,I)=>T.toAffine(_[I])).map(m.fromAffine)}static fromHex(E){const _=m.fromAffine(s(Cu("pointHex",E)));return _.assertValidity(),_}static fromPrivateKey(E){return m.BASE.multiply(d(E))}static msm(E,_){return nMe(m,r,E,_)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:_,py:T,pz:I}=this,{px:R,py:S,pz:B}=E,j=n.eql(n.mul(_,B),n.mul(R,I)),U=n.eql(n.mul(T,B),n.mul(S,I));return j&&U}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:_}=e,T=n.mul(_,vB),{px:I,py:R,pz:S}=this;let B=n.ZERO,j=n.ZERO,U=n.ZERO,M=n.mul(I,I),C=n.mul(R,R),x=n.mul(S,S),A=n.mul(I,R);return A=n.add(A,A),U=n.mul(I,S),U=n.add(U,U),B=n.mul(E,U),j=n.mul(T,x),j=n.add(B,j),B=n.sub(C,j),j=n.add(C,j),j=n.mul(B,j),B=n.mul(A,B),U=n.mul(T,U),x=n.mul(E,x),A=n.sub(M,x),A=n.mul(E,A),A=n.add(A,U),U=n.add(M,M),M=n.add(U,M),M=n.add(M,x),M=n.mul(M,A),j=n.add(j,M),x=n.mul(R,S),x=n.add(x,x),M=n.mul(x,A),B=n.sub(B,M),U=n.mul(x,C),U=n.add(U,U),U=n.add(U,U),new m(B,j,U)}add(E){h(E);const{px:_,py:T,pz:I}=this,{px:R,py:S,pz:B}=E;let j=n.ZERO,U=n.ZERO,M=n.ZERO;const C=e.a,x=n.mul(e.b,vB);let A=n.mul(_,R),N=n.mul(T,S),O=n.mul(I,B),P=n.add(_,T),D=n.add(R,S);P=n.mul(P,D),D=n.add(A,N),P=n.sub(P,D),D=n.add(_,I);let L=n.add(R,B);return D=n.mul(D,L),L=n.add(A,O),D=n.sub(D,L),L=n.add(T,I),j=n.add(S,B),L=n.mul(L,j),j=n.add(N,O),L=n.sub(L,j),M=n.mul(C,D),j=n.mul(x,O),M=n.add(j,M),j=n.sub(N,M),M=n.add(N,M),U=n.mul(j,M),N=n.add(A,A),N=n.add(N,A),O=n.mul(C,O),D=n.mul(x,D),N=n.add(N,O),O=n.sub(A,O),O=n.mul(C,O),D=n.add(D,O),A=n.mul(N,D),U=n.add(U,A),A=n.mul(L,D),j=n.mul(P,j),j=n.sub(j,A),A=n.mul(P,N),M=n.mul(L,M),M=n.add(M,A),new m(j,U,M)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return b.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:_,n:T}=e;fb("scalar",E,$p,T);const I=m.ZERO;if(E===$p)return I;if(this.is0()||E===qs)return this;if(!_||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:R,k1:S,k2neg:B,k2:j}=_.splitScalar(E),U=I,M=I,C=this;for(;S>$p||j>$p;)S&qs&&(U=U.add(C)),j&qs&&(M=M.add(C)),C=C.double(),S>>=qs,j>>=qs;return R&&(U=U.negate()),B&&(M=M.negate()),M=new m(n.mul(M.px,_.beta),M.py,M.pz),U.add(M)}multiply(E){const{endo:_,n:T}=e;fb("scalar",E,qs,T);let I,R;if(_){const{k1neg:S,k1:B,k2neg:j,k2:U}=_.splitScalar(E);let{p:M,f:C}=this.wNAF(B),{p:x,f:A}=this.wNAF(U);M=b.constTimeNegate(S,M),x=b.constTimeNegate(j,x),x=new m(n.mul(x.px,_.beta),x.py,x.pz),I=M.add(x),R=C.add(A)}else{const{p:S,f:B}=this.wNAF(E);I=S,R=B}return m.normalizeZ([I,R])[0]}multiplyAndAddUnsafe(E,_,T){const I=m.BASE,R=(B,j)=>j===$p||j===qs||!B.equals(I)?B.multiplyUnsafe(j):B.multiply(j),S=R(this,_).add(R(E,T));return S.is0()?void 0:S}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:_}=e;if(E===qs)return!0;if(_)return _(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:_}=e;return E===qs?this:_?_(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return t8("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return t8("isCompressed",E),n8(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:y}=e,b=tMe(m,w?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function oMe(t){const e=Nie(t);return yA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function aMe(t){const e=oMe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(x){return Ec(x,r)}function l(x){return dB(x,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=sMe({...e,toBytes(x,A,N){const O=A.toAffine(),P=n.toBytes(O.x),D=gA;return t8("isCompressed",N),N?D(Uint8Array.from([A.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,n.toBytes(O.y))},fromBytes(x){const A=x.length,N=x[0],O=x.subarray(1);if(A===o&&(N===2||N===3)){const P=H1(O);if(!qj(P,qs,n.ORDER))throw new Error("Point is not on curve");const D=h(P);let L;try{L=n.sqrt(D)}catch(V){const F=V instanceof Error?": "+V.message:"";throw new Error("Point is not on curve"+F)}const $=(L&qs)===qs;return(N&1)===1!==$&&(L=n.neg(L)),{x:P,y:L}}else if(A===a&&N===4){const P=n.fromBytes(O.subarray(0,n.BYTES)),D=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:P,y:D}}else{const P=o,D=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+D+", got "+A)}}});function p(x){const A=r>>qs;return x>A}function m(x){return p(x)?c(-x):x}const w=(x,A,N)=>H1(x.slice(A,N));class y{constructor(A,N,O){fb("r",A,qs,r),fb("s",N,qs,r),this.r=A,this.s=N,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(A){const N=i;return A=Cu("compactSignature",A,N*2),new y(w(A,0,N),w(A,N,2*N))}static fromDER(A){const{r:N,s:O}=kp.toSig(Cu("DER",A));return new y(N,O)}assertValidity(){}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:N,s:O,recovery:P}=this,D=I(Cu("msgHash",A));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const L=P===2||P===3?N+e.n:N;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=P&1?"03":"02",q=u.fromHex($+wB(L,n.BYTES)),V=l(L),F=c(-D*V),Z=c(O*V),X=u.BASE.multiplyAndAddUnsafe(q,F,Z);if(!X)throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return pA(this.toDERHex())}toDERHex(){return kp.hexFromSig(this)}toCompactRawBytes(){return pA(this.toCompactHex())}toCompactHex(){const A=i;return wB(this.r,A)+wB(this.s,A)}}const b={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const x=Iie(e.n);return QRe(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function v(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function E(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;const N=Cu("key",x).length,O=n.BYTES,P=O+1,D=2*O+1;if(!(e.allowedPrivateKeyLengths||i===P))return N===P||N===D}function _(x,A,N=!0){if(E(x)===!0)throw new Error("first arg must be private key");if(E(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(d(x)).toRawBytes(N)}const T=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=H1(x),N=x.length*8-s;return N>0?A>>BigInt(N):A},I=e.bits2int_modN||function(x){return c(T(x))},R=mA(s);function S(x){return fb("num < 2^"+s,x,$p,R),r8(x,i)}function B(x,A,N=j){if(["recovered","canonical"].some(te=>te in N))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:P}=e;let{lowS:D,prehash:L,extraEntropy:$}=N;D==null&&(D=!0),x=Cu("msgHash",x),Oie(N),L&&(x=Cu("prehashed msgHash",O(x)));const q=I(x),V=d(A),F=[S(V),S(q)];if($!=null&&$!==!1){const te=$===!0?P(n.BYTES):$;F.push(Cu("extraEntropy",te))}const Z=gA(...F),X=q;function Y(te){const fe=T(te);if(!f(fe))return;const he=l(fe),pe=u.BASE.multiply(fe).toAffine(),be=c(pe.x);if(be===$p)return;const ge=c(he*c(X+be*V));if(ge===$p)return;let ye=(pe.x===be?0:2)|Number(pe.y&qs),ft=ge;return D&&p(ge)&&(ft=m(ge),ye^=1),new y(be,ft,ye)}return{seed:Z,k2sig:Y}}const j={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function M(x,A,N=j){const{seed:O,k2sig:P}=B(x,A,N),D=e;return ZNe(D.hash.outputLen,D.nByteLength,D.hmac)(O,P)}u.BASE._setWindowSize(8);function C(x,A,N,O=U){var ye;const P=x;A=Cu("msgHash",A),N=Cu("publicKey",N);const{lowS:D,prehash:L,format:$}=O;if(Oie(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const q=typeof P=="string"||e8(P),V=!q&&!$&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!q&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,Z;try{if(V&&(F=new y(P.r,P.s)),q){try{$!=="compact"&&(F=y.fromDER(P))}catch(ft){if(!(ft instanceof kp.Err))throw ft}!F&&$!=="der"&&(F=y.fromCompact(P))}Z=u.fromHex(N)}catch{return!1}if(!F||D&&F.hasHighS())return!1;L&&(A=e.hash(A));const{r:X,s:Y}=F,te=I(A),fe=l(Y),he=c(te*fe),pe=c(X*fe),be=(ye=u.BASE.multiplyAndAddUnsafe(Z,he,pe))==null?void 0:ye.toAffine();return be?c(be.x)===X:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:_,sign:M,verify:C,ProjectivePoint:u,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cMe(t){return{hash:t,hmac:(e,...n)=>IA(t,e,Eu(...n)),randomBytes:A4}}function lMe(t,e){const n=r=>aMe({...t,...cMe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rie=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Mie=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),uMe=BigInt(0),dMe=BigInt(1),bB=BigInt(2),jie=(t,e)=>(t+e/bB)/e;function hMe(t){const e=Rie,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=_u(u,n,e)*u%e,h=_u(d,n,e)*u%e,f=_u(h,bB,e)*l%e,p=_u(f,i,e)*f%e,m=_u(p,s,e)*p%e,w=_u(m,a,e)*m%e,y=_u(w,c,e)*w%e,b=_u(y,a,e)*m%e,v=_u(b,n,e)*u%e,E=_u(v,o,e)*p%e,_=_u(E,r,e)*l%e,T=_u(_,bB,e);if(!xB.eql(xB.sqr(T),t))throw new Error("Cannot find square root");return T}const xB=hB(Rie,void 0,void 0,{sqrt:hMe}),EB=lMe({a:uMe,b:BigInt(7),Fp:xB,n:Mie,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Mie,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dMe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=jie(s*t,e),c=jie(-r*t,e);let l=Ec(t-a*n-c*i,e),u=Ec(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},O4),fMe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:EB},Symbol.toStringTag,{value:"Module"}));function Bie(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new _B({signature:t});if(typeof t.s>"u")throw new _B({signature:t});if(n&&typeof t.yParity>"u")throw new _B({signature:t});if(t.r<0n||t.r>hie)throw new bMe({value:t.r});if(t.s<0n||t.s>hie)throw new xMe({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new AB({value:t.yParity})}function pMe(t){return Die(Td(t))}function Die(t){if(t.length!==130&&t.length!==132)throw new vMe({signature:t});const e=BigInt(Uh(t,0,32)),n=BigInt(Uh(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return CB(i)}catch{throw new AB({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function gMe(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return mMe(t)}function mMe(t){const e=typeof t=="string"?Die(t):t instanceof Uint8Array?pMe(t):typeof t.r=="string"?wMe(t):t.v?yMe(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return Bie(e),e}function yMe(t){return{r:t.r,s:t.s,yParity:CB(t.v)}}function wMe(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=CB(n)),typeof r!="number")throw new AB({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function CB(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new EMe({value:t})}let vMe=class extends _n{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Al(bOe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},_B=class extends _n{constructor({signature:e}){super(`Signature \`${_re(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},bMe=class extends _n{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},xMe=class extends _n{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},AB=class extends _n{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},EMe=class extends _n{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function CMe(t,e={}){return typeof t.chainId=="string"?_Me(t):{...t,...e.signature}}function _Me(t){const{address:e,chainId:n,nonce:r}=t,i=gMe(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const AMe="0x8010801080108010801080108010801080108010801080108010801080108010",SMe=gie("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Lie(t){if(typeof t=="string"){if(Uh(t,-32)!==AMe)throw new $Me(t)}else Bie(t.authorization)}function IMe(t){Lie(t);const e=$re(Uh(t,-64,-32)),n=Uh(t,-e-64,-64),r=Uh(t,0,-e-64),[i,s,o]=URe(SMe,n);return{authorization:CMe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function kMe(t){try{return Lie(t),!0}catch{return!1}}let $Me=class extends _n{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function SB(t){const{address:e,data:n,signature:r,to:i="hex"}=t,s=Cp([vc([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),pRe]);return i==="hex"?s:ja(s)}class TMe extends xe{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Uie(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new TMe({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[s,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):r=`${s}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function Fie(t,e="wei"){return Uie(t,Jne[e])}const PMe={path:"/api/v1/analytics_events",method:"POST"},NMe={path:"/api/v1/apps/:app_id",method:"GET"},OMe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},RMe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},MMe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},jMe={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},BMe={path:"/api/v1/farcaster/init",method:"POST"},DMe={path:"/api/v1/farcaster/authenticate",method:"POST"},LMe={path:"/api/v1/farcaster/link",method:"POST"},UMe={path:"/api/v1/farcaster/unlink",method:"POST"},FMe={path:"/api/v1/farcaster/status",method:"GET"},zMe={path:"/api/v2/farcaster/init",method:"POST"},WMe={path:"/api/v2/farcaster/authenticate",method:"POST"},qMe={path:"/api/v1/guest/authenticate",method:"POST"},HMe={path:"/api/v1/mfa/passkeys/init",method:"POST"},VMe={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},KMe={path:"/api/v1/oauth/authenticate",method:"POST"},GMe={path:"/api/v1/oauth/init",method:"POST"},ZMe={path:"/api/v1/oauth/link",method:"POST"},YMe={path:"/api/v1/oauth/unlink",method:"POST"},JMe={path:"/api/v1/passkeys/link",method:"POST"},QMe={path:"/api/v1/passkeys/authenticate",method:"POST"},XMe={path:"/api/v1/passkeys/register",method:"POST"},eje={path:"/api/v1/passkeys/authenticate/init",method:"POST"},tje={path:"/api/v1/passkeys/register/init",method:"POST"},nje={path:"/api/v1/passkeys/link/init",method:"POST"},rje={path:"/api/v1/passwordless/authenticate",method:"POST"},ije={path:"/api/v1/passwordless/init",method:"POST"},sje={path:"/api/v1/passwordless/link",method:"POST"},oje={path:"/api/v1/passwordless/unlink",method:"POST"},aje={path:"/api/v1/passwordless/update",method:"POST"},cje={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},lje={path:"/api/v1/passwordless_sms/init",method:"POST"},uje={path:"/api/v1/passwordless_sms/link",method:"POST"},dje={path:"/api/v1/passwordless_sms/unlink",method:"POST"},hje={path:"/api/v1/passwordless_sms/update",method:"POST"},fje={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},pje={path:"/api/v1/recovery/oauth/init",method:"POST"},gje={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},mje={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},yje={path:"/api/v1/recovery/configuration_icloud",method:"POST"},wje=(t,e)=>e?Object.entries(e).reduce((n,[r,i])=>n.replace(`:${r}`,`${i}`),t):t,zie={path:"/api/v1/sessions",method:"POST"},vje={path:"/api/v1/sessions/logout",method:"POST"},bje={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Wie={path:"/api/v1/siwe/init",method:"POST"},xje={path:"/api/v1/siwe/authenticate",method:"POST"},Eje={path:"/api/v1/siwe/link",method:"POST"},Cje={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},_je={path:"/api/v1/siwe/unlink",method:"POST"},Aje={path:"/api/v1/siws/init",method:"POST"},Sje={path:"/api/v1/siws/authenticate",method:"POST"},Ije={path:"/api/v1/siws/link",method:"POST"},kje={path:"/api/v1/siws/unlink",method:"POST"},$je={path:"/api/v1/users/me/accept_terms",method:"POST"},Tje={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},Pje={path:"/api/v1/wallets",method:"POST"},IB={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},Nje={path:"/api/v1/wallets/revoke",method:"POST"};var Ht,qie=((Ht={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Ht.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ht.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Ht.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ht.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Ht.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Ht.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Ht.INVALID_DATA="invalid_data",Ht.INVALID_CREDENTIALS="invalid_credentials",Ht.INVALID_CAPTCHA="invalid_captcha",Ht.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ht.ALLOWLIST_REJECTED="allowlist_rejected",Ht.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Ht.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Ht.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Ht.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Ht.TOO_MANY_REQUESTS="too_many_requests",Ht.RESOURCE_CONFLICT="resource_conflict",Ht.INVALID_ORIGIN="invalid_origin",Ht.MISSING_ORIGIN="missing_origin",Ht.INVALID_NATIVE_APP_ID="invalid_native_app_id",Ht.TOKEN_ALREADY_USED="token_already_used",Ht.ALREADY_LOGGED_OUT="already_logged_out",Ht.NOT_SUPPORTED="not_supported",Ht.USER_UNSUBSCRIBED="user_unsubscribed",Ht.MAX_APPS_REACHED="max_apps_reached",Ht.USER_LIMIT_REACHED="max_accounts_reached",Ht.DEVICE_REVOKED="device_revoked",Ht.WALLET_PASSWORD_EXISTS="wallet_password_exists",Ht.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Ht.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Ht.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Ht.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Ht.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Ht.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Ht.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Ht.CANNOT_SET_PASSWORD="cannot_set_password",Ht.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Ht.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Ht.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Ht.USER_DOES_NOT_EXIST="user_does_not_exist",Ht.ALREADY_EXISTS="resource_already_exists",Ht.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Ht.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Ht.FEATURE_NOT_ENABLED="feature_not_enabled",Ht.INSUFFICIENT_FUNDS="insufficient_funds",Ht.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Ht.INVALID_POLICY_FORMAT="invalid_policy_format",Ht.POLICY_VIOLATION="policy_violation",Ht.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Ht.INVALID_REQUEST="invalid_request",Ht.SIGNUP_DISABLED="signup_disabled",Ht);function Hie(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(r[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var Oje={}.constructor;function Y1(t){return t!=null&&t.constructor===Oje}function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function kA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mje(r.key),r)}}function $A(t,e,n){return e&&Rje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mje(t){var e=jje(t,"string");return wb(e)=="symbol"?e:e+""}function jje(t,e){if(wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bje="1.2.0",Dje="1.7.35",Vie=" ext. ",Lje=/^\d+$/,$s=function(){function t(e){kA(this,t),Zie(e),this.metadata=e,Yie.call(this,e)}return $A(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&Lje.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new Kie(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new Kie(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),Kie=function(){function t(e,n){kA(this,t),this.globalMetadataObject=n,this.metadata=e,Yie.call(this,n.metadata)}return $A(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new Uje(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&Gie(this.types(),n))return new zje(Gie(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?Vie:this.metadata[13]||Vie}}])}(),Uje=function(){function t(e,n){kA(this,t),this._format=e,this.metadata=n}return $A(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Fje.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),Fje=/^\(?\$1\)?$/,zje=function(){function t(e,n){kA(this,t),this.type=e,this.metadata=n}return $A(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function Gie(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Zie(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Y1(t)||!Y1(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Y1(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+Wje(t)+": "+t,"."))}var Wje=function(e){return wb(e)};function TA(t,e){if(e=new $s(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function qje(t,e){return e.countries.hasOwnProperty(t)}function Yie(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?Hie(e,Bje)===-1?this.v2=!0:Hie(e,Dje)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function PA(t,e,n){return Hje(t,e,void 0,n)}function Hje(t,e,n,r){e&&(r=new $s(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Vje(t,e,n){if(e===void 0&&(e={}),n=new $s(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return Jie(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Jie(t,e,n){switch(PA(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function Tp(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function Kje(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Gje(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gje(t,e){if(t){if(typeof t=="string")return Qie(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qie(t,e):void 0}}function Qie(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Zje=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function kB(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new $s(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(Tp(r,n.nationalNumberPattern())){if($B(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||$B(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=Kje(Zje),s;!(s=i()).done;){var o=s.value;if($B(r,o,n))return o}}}}function $B(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:Tp(t,e.pattern())}function Yje(t,e,n){if(e=e||{},n=new $s(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return kB(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return Tp(r,n.nationalNumberPattern())}function Jje(t,e,n){var r=new $s(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return Qje(e,s,n)}):[]}function Qje(t,e,n){var r=new $s(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var TB=2,Xje=17,eBe=3,La="0-9---",tBe="--",nBe="/",rBe=".",iBe=" ",sBe="()\\[\\]",oBe="~",Pd="".concat(tBe).concat(nBe).concat(rBe).concat(iBe).concat(sBe).concat(oBe),NA="+",aBe=new RegExp("(["+La+"])");function Xie(t,e,n,r){if(e){var i=new $s(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(aBe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function PB(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(s=r[1]);else{var c=r[0];i=t.slice(c.length),a&&(s=r[1])}var l;if(a){var u=t.indexOf(r[1]),d=t.slice(0,u);d===e.numberingPlan.nationalPrefix()&&(l=e.numberingPlan.nationalPrefix())}else l=r[0];return{nationalNumber:i,nationalPrefix:l,carrierCode:s}}}return{nationalNumber:t}}function cBe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=lBe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lBe(t,e){if(t){if(typeof t=="string")return ese(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ese(t,e):void 0}}function ese(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tse(t,e){var n=e.countries,r=e.metadata;r=new $s(r);for(var i=cBe(n),s;!(s=i()).done;){var o=s.value;if(r.selectNumberingPlan(o),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return o}else if(kB({phone:t,country:o},void 0,r.metadata))return o}}function NB(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:tse(n,{countries:i,metadata:r.metadata})}function OB(t,e,n){var r=PB(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!uBe(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=NB(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!dBe(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function uBe(t,e,n){return!(Tp(t,n.nationalNumberPattern())&&!Tp(e,n.nationalNumberPattern()))}function dBe(t,e,n){switch(PA(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function nse(t,e,n,r,i){var s=e||n?TA(e||n,i):r;if(t.indexOf(s)===0){i=new $s(i),i.selectNumberingPlan(e||n,s);var o=t.slice(s.length),a=OB(o,e,i),c=a.nationalNumber,l=OB(t,e,i),u=l.nationalNumber;if(!Tp(u,i.nationalNumberPattern())&&Tp(c,i.nationalNumberPattern())||PA(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function RB(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var o=Xie(t,e||n,r,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||n||r){var a=nse(t,e,n,r,i),c=a.countryCallingCode,l=a.number;if(c)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:c,number:l}}return{number:t}}}if(t[1]==="0")return{};i=new $s(i);for(var u=2;u-1<=eBe&&u<=t.length;){var d=t.slice(1,u);if(i.hasCallingCode(d))return i.selectNumberingPlan(d),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:t.slice(u)};u++}return{}}function rse(t){return t.replace(new RegExp("[".concat(Pd,"]+"),"g")," ").trim()}var ise=/(\$\d)/;function sse(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(ise,e.nationalPrefixFormattingRule()):e.format());return r?rse(s):s}var hBe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function fBe(t,e,n){var r=new $s(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(hBe.test(r.IDDPrefix()))return r.IDDPrefix()}var pBe=";ext=",vb=function(e){return"([".concat(La,"]{1,").concat(e,"})")};function ose(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",c="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",l="(?:[x#~]|int|)",u="[- ]+",d="[ \\t]*",h="(?:,{2}|;)",f=pBe+vb(e),p=s+c+o+vb(e)+a,m=s+l+o+vb(r)+a,w=u+vb(i)+"#",y=d+h+o+vb(n)+a,b=d+"(?:,)+"+o+vb(r)+a;return f+"|"+p+"|"+m+"|"+w+"|"+y+"|"+b}var gBe="["+La+"]{"+TB+"}",mBe="["+NA+"]{0,1}(?:["+Pd+"]*["+La+"]){3,}["+Pd+La+"]*",yBe=new RegExp("^["+NA+"]{0,1}(?:["+Pd+"]*["+La+"]){1,2}$","i"),wBe=mBe+"(?:"+ose()+")?",vBe=new RegExp("^"+gBe+"$|^"+wBe+"$","i");function bBe(t){return t.length>=TB&&vBe.test(t)}function xBe(t){return yBe.test(t)}function EBe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var ase={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function CBe(t,e,n,r){if(n?n=SBe({},ase,n):n=ase,r=new $s(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=OA(s,t.carrierCode,"NATIONAL",r,n),MB(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=OA(s,null,"INTERNATIONAL",r,n),o="+".concat(i," ").concat(o),MB(o,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return EBe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=ABe(s,t.carrierCode,i,n.fromCountry,r);return a?MB(a,t.ext,r,n.formatExtension):void 0;default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function OA(t,e,n,r,i){var s=_Be(r.formats(),t);return s?sse(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function _Be(t,e){return IBe(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return Tp(e,n.pattern())})}function MB(t,e,n,r){return e?r(t,e,n):t}function ABe(t,e,n,r,i){var s=TA(r,i.metadata);if(s===n){var o=OA(t,e,"NATIONAL",i);return n==="1"?n+" "+o:o}var a=fBe(r,void 0,i.metadata);if(a)return"".concat(a," ").concat(n," ").concat(OA(t,null,"INTERNATIONAL",i))}function SBe(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function IBe(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function l8(t){"@babel/helpers - typeof";return l8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l8(t)}function cse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cse(Object(n),!0).forEach(function(r){kBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kBe(t,e,n){return(e=use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,use(r.key),r)}}function PBe(t,e,n){return e&&TBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function use(t){var e=NBe(t,"string");return l8(e)=="symbol"?e:e+""}function NBe(t,e){if(l8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jB=function(){function t(e,n,r){if($Be(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(Y1(n)&&Y1(n.countries)){r=n;var i=e;if(!MBe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=RB(i,void 0,void 0,void 0,r),o=s.countryCallingCode,a=s.number;if(n=a,e=o,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");Zie(r);var c=RBe(e,r),l=c.country,u=c.countryCallingCode;this.country=l,this.countryCallingCode=u,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return PBe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Jje(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Vje(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Yje(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new $s(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return kB(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return CBe(this,n,r?lse(lse({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),OBe=function(e){return/^[A-Z]{2}$/.test(e)};function RBe(t,e){var n,r,i=new $s(e);return OBe(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var MBe=/^\+\d+$/;function BB(t){"@babel/helpers - typeof";return BB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BB(t)}function jBe(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function BBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DBe(t,e,n){return e=d8(e),LBe(t,LB()?Reflect.construct(e,n||[],d8(t).constructor):e.apply(t,n))}function LBe(t,e){if(e&&(BB(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UBe(t)}function UBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u8(t,e)}function DB(t){var e=typeof Map=="function"?new Map:void 0;return DB=function(r){if(r===null||!WBe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return zBe(r,arguments,d8(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u8(i,r)},DB(t)}function zBe(t,e,n){if(LB())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&u8(i,n.prototype),i}function LB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LB=function(){return!!t})()}function WBe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function u8(t,e){return u8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u8(t,e)}function d8(t){return d8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d8(t)}var Pp=function(t){function e(n){var r;return BBe(this,e),r=DBe(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return FBe(e,t),jBe(e)}(DB(Error)),dse=new RegExp("(?:"+ose()+")$","i");function qBe(t){var e=t.search(dse);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(dse),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function HBe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=VBe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(t,e){if(t){if(typeof t=="string")return hse(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hse(t,e):void 0}}function hse(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var KBe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function fse(t){return KBe[t]}function RA(t){for(var e="",n=HBe(t.split("")),r;!(r=n()).done;){var i=r.value,s=fse(i);s&&(e+=s)}return e}function GBe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ZBe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZBe(t,e){if(t){if(typeof t=="string")return pse(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pse(t,e):void 0}}function pse(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gse(t){for(var e="",n=GBe(t.split("")),r;!(r=n()).done;){var i=r.value;e+=YBe(i,e)||""}return e}function YBe(t,e,n){return t==="+"?e?void 0:"+":fse(t)}var mse="+",JBe="[\\-\\.\\(\\)]?",yse="(["+La+"]|"+JBe+")",QBe="^\\"+mse+yse+"*["+La+"]"+yse+"*$",XBe=new RegExp(QBe,"g"),UB=La,eDe="["+UB+"]+((\\-)*["+UB+"])*",tDe="a-zA-Z",nDe="["+tDe+"]+((\\-)*["+UB+"])*",rDe="^("+eDe+"\\.)*"+nDe+"\\.?$",iDe=new RegExp(rDe,"g"),wse="tel:",FB=";phone-context=",sDe=";isub=";function oDe(t){var e=t.indexOf(FB);if(e<0)return null;var n=e+FB.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function aDe(t){return t===null?!0:t.length===0?!1:XBe.test(t)||iDe.test(t)}function cDe(t,e){var n=e.extractFormattedPhoneNumber,r=oDe(t);if(!aDe(r))throw new Pp("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===mse&&(i+=r);var s=t.indexOf(wse),o;s>=0?o=s+wse.length:o=0;var a=t.indexOf(FB);i+=t.substring(o,a)}var c=i.indexOf(sDe);if(c>0&&(i=i.substring(0,c)),i!=="")return i}var lDe=250,uDe=new RegExp("["+NA+La+"]"),dDe=new RegExp("[^"+La+"#]+$");function hDe(t,e,n){if(e=e||{},n=new $s(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Pp("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=pDe(t,e.v2,e.extract),i=r.number,s=r.ext,o=r.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Pp("TOO_SHORT"):new Pp("NOT_A_NUMBER");return{}}var a=mDe(i,e.defaultCountry,e.defaultCallingCode,n),c=a.country,l=a.nationalNumber,u=a.countryCallingCode,d=a.countryCallingCodeSource,h=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Pp("INVALID_COUNTRY");return{}}if(!l||l.length<TB){if(e.v2)throw new Pp("TOO_SHORT");return{}}if(l.length>Xje){if(e.v2)throw new Pp("TOO_LONG");return{}}if(e.v2){var f=new jB(u,l,n.metadata);return c&&(f.country=c),h&&(f.carrierCode=h),s&&(f.ext=s),f.__countryCallingCodeSource=d,f}var p=(e.extended?n.hasSelectedNumberingPlan():c)?Tp(l,n.nationalNumberPattern()):!1;return e.extended?{country:c,countryCallingCode:u,carrierCode:h,valid:p,possible:p?!0:!!(e.extended===!0&&n.possibleLengths()&&Jie(l,c,n)),phone:l,ext:s}:p?gDe(c,l,s):{}}function fDe(t,e,n){if(t){if(t.length>lDe){if(n)throw new Pp("TOO_LONG");return}if(e===!1)return t;var r=t.search(uDe);if(!(r<0))return t.slice(r).replace(dDe,"")}}function pDe(t,e,n){var r=cDe(t,{extractFormattedPhoneNumber:function(o){return fDe(o,n,e)}});if(!r)return{};if(!bBe(r))return xBe(r)?{error:"TOO_SHORT"}:{};var i=qBe(r);return i.ext?i:{number:r}}function gDe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function mDe(t,e,n,r){var i=RB(gse(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,c;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(c=e),o=n||TA(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var l=OB(gse(a),c,r),u=l.nationalNumber,d=l.carrierCode,h=NB(o,{nationalNumber:u,metadata:r});return h&&(c=h,h==="001"||r.selectNumberingPlan(c)),{country:c,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:d}}function h8(t){"@babel/helpers - typeof";return h8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h8(t)}function vse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vse(Object(n),!0).forEach(function(r){yDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yDe(t,e,n){return(e=wDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wDe(t){var e=vDe(t,"string");return h8(e)=="symbol"?e:e+""}function vDe(t,e){if(h8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bDe(t,e,n){return hDe(t,bse(bse({},e),{},{v2:!0}),n)}function f8(t){"@babel/helpers - typeof";return f8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f8(t)}function xse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xDe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xse(Object(n),!0).forEach(function(r){EDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EDe(t,e,n){return(e=CDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CDe(t){var e=_De(t,"string");return f8(e)=="symbol"?e:e+""}function _De(t,e){if(f8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ADe(t,e){return $De(t)||kDe(t,e)||IDe(t,e)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IDe(t,e){if(t){if(typeof t=="string")return Ese(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ese(t,e):void 0}}function Ese(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function $De(t){if(Array.isArray(t))return t}function TDe(t){var e=Array.prototype.slice.call(t),n=ADe(e,4),r=n[0],i=n[1],s=n[2],o=n[3],a,c,l;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(c=s,l=o):(c=void 0,l=s),i&&(c=xDe({defaultCountry:i},c));else if(Y1(i))s?(c=i,l=s):l=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:c,metadata:l}}function p8(t){"@babel/helpers - typeof";return p8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p8(t)}function Cse(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cse(Object(n),!0).forEach(function(r){PDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cse(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PDe(t,e,n){return(e=NDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NDe(t){var e=ODe(t,"string");return p8(e)=="symbol"?e:e+""}function ODe(t,e){if(p8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RDe(t,e,n){e&&e.defaultCountry&&!qje(e.defaultCountry,n)&&(e=_se(_se({},e),{},{defaultCountry:void 0}));try{return bDe(t,e,n)}catch(r){if(!(r instanceof Pp))throw r}}function g8(t){"@babel/helpers - typeof";return g8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g8(t)}function Ase(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ase(Object(n),!0).forEach(function(r){MDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ase(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MDe(t,e,n){return(e=jDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jDe(t){var e=BDe(t,"string");return g8(e)=="symbol"?e:e+""}function BDe(t,e){if(g8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DDe(){var t=TDe(arguments),e=t.text,n=t.options,r=t.metadata;n=Sse(Sse({},n),{},{extract:!1});var i=RDe(e,n,r);return i&&i.isPossible()||!1}function m8(t){"@babel/helpers - typeof";return m8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m8(t)}function LDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zDe(r.key),r)}}function FDe(t,e,n){return e&&UDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zDe(t){var e=WDe(t,"string");return m8(e)=="symbol"?e:e+""}function WDe(t,e){if(m8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qDe=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;LDe(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return FDe(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function HDe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=VDe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VDe(t,e){if(t){if(typeof t=="string")return Ise(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ise(t,e):void 0}}function Ise(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Nd="x",zB=new RegExp(Nd);function MA(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function kse(t,e){return t[e]===")"&&e++,KDe(t.slice(0,e))}function KDe(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(r,a),r=a+1}return i}function GDe(t,e,n){for(var r=HDe(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(zB)<0)return;e=t.search(zB),t=t.replace(zB,s)}return[t,e]}function ZDe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return JDe(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function YDe(t,e,n){return PA(t,e,n)==="IS_POSSIBLE"}function JDe(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=$se(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(o)return o}return $se(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function $se(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=sse(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),QDe(o,t))return o}function QDe(t,e){return RA(t)===e.getNationalDigits()}function y8(t){"@babel/helpers - typeof";return y8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y8(t)}function XDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nLe(r.key),r)}}function tLe(t,e,n){return e&&eLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nLe(t){var e=rLe(t,"string");return y8(e)=="symbol"?e:e+""}function rLe(t,e){if(y8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iLe=function(){function t(){XDe(this,t)}return tLe(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([WB(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(aLe);if(!r){if(oLe.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),o=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),c=a.branches;c.push(WB(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:c});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(WB(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:sLe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])}();function sLe(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var oLe=/[\(\)\[\]\?\:\|]/,aLe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function WB(t){return t.length===1?t[0]:t}function Tse(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=cLe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cLe(t,e){if(t){if(typeof t=="string")return Pse(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pse(t,e):void 0}}function Pse(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function w8(t){"@babel/helpers - typeof";return w8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w8(t)}function lLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hLe(r.key),r)}}function dLe(t,e,n){return e&&uLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hLe(t){var e=fLe(t,"string");return w8(e)=="symbol"?e:e+""}function fLe(t,e){if(w8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pLe=function(){function t(e){lLe(this,t),this.matchTree=new iLe().parse(e)}return dLe(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=qB(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function qB(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=qB(i,o,n&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var c,l=Tse(e.args),u;!(u=l()).done;){var d=u.value,h=qB(t,d,n);if(h){if(h.overflow)return h;if(h.match)return{match:!0,matchedChars:h.matchedChars};if(h.partialMatch)c=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(h,null,2)))}}return c?{partialMatch:!0}:void 0;case"[]":for(var f=Tse(e.args),p;!(p=f()).done;){var m=p.value;if(t[0]===m)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function v8(t){"@babel/helpers - typeof";return v8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v8(t)}function Nse(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=gLe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gLe(t,e){if(t){if(typeof t=="string")return Ose(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ose(t,e):void 0}}function Ose(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vLe(r.key),r)}}function wLe(t,e,n){return e&&yLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vLe(t){var e=bLe(t,"string");return v8(e)=="symbol"?e:e+""}function bLe(t,e){if(v8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(v8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HB="9",xLe=15,ELe=MA(HB,xLe),CLe=/[- ]/,_Le=function(){return/\[([^\[\]])*\]/g},ALe=function(){return/\d(?=[^,}][^,}])/g},SLe=new RegExp("["+Pd+"]*\\$1["+Pd+"]*(\\$\\d["+Pd+"]*)*$"),Rse=3,ILe=function(){function t(e){e.state;var n=e.metadata;mLe(this,t),this.metadata=n,this.resetFormat()}return wLe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(YDe(r.nationalSignificantNumber,r.country,this.metadata))for(var s=Nse(this.matchingFormats),o;!(o=s()).done;){var a=o.value,c=ZDe(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(c)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(c.replace(/\d/g,Nd),r),this.populatedNationalNumberTemplate=c,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Nd),c}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,o=n.international,a=i,c=a.length-Rse;c<0&&(c=0),this.matchingFormats=this.matchingFormats.filter(function(l){return r.formatSuits(l,o,s)&&r.formatMatches(l,a,c)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=n.leadingDigitsPatterns()[i];if(r.length<Rse)try{return new pLe(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var l=a.value;return r.chosenFormat===l?0:SLe.test(r.getFormatFormat(l,n.international))?r.createTemplateForFormat(l,n)?(r.chosenFormat=l,0):(r.matchingFormats=r.matchingFormats.filter(function(u){return u!==l}),1):1},s,o=Nse(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&CLe.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Nd,r+1),i++;return kse(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Nd)+MA(Nd,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,o=r.nationalPrefix,a=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,c=n.pattern();c=c.replace(_Le(),"\\d").replace(ALe(),"\\d");var l=ELe.match(c)[0];if(!(i.length>l.length)){var u=new RegExp("^"+c+"$"),d=i.replace(/\d/g,HB);u.test(d)&&(l=d);var h=this.getFormatFormat(n,s),f;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:o})){var p=h.replace(ise,n.nationalPrefixFormattingRule());if(RA(n.nationalPrefixFormattingRule())===(o||"")+RA("$1")&&(h=p,f=!0,o))for(var m=o.length;m>0;)h=h.replace(/\d/,Nd),m--}var w=l.replace(new RegExp(c),h).replace(new RegExp(HB,"g"),Nd);return f||(a?w=MA(Nd,a.length)+" "+w:o&&(w=MA(Nd,o.length)+this.getSeparatorAfterNationalPrefix(n)+w)),s&&(w=rse(w)),w}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=GDe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],kse(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])}();function b8(t){"@babel/helpers - typeof";return b8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b8(t)}function Mse(t,e){return PLe(t)||TLe(t,e)||$Le(t,e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Le(t,e){if(t){if(typeof t=="string")return jse(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jse(t,e):void 0}}function jse(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function PLe(t){if(Array.isArray(t))return t}function NLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MLe(r.key),r)}}function RLe(t,e,n){return e&&OLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MLe(t){var e=jLe(t,"string");return b8(e)=="symbol"?e:e+""}function jLe(t,e){if(b8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BLe="["+Pd+La+"]+",DLe=new RegExp("^"+BLe+"$","i"),LLe="(?:["+NA+"]["+Pd+La+"]*|["+Pd+La+"]+)",ULe=new RegExp("[^"+Pd+La+"]+.*$"),FLe=/[^\d\[\]]/,zLe=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;NLe(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return RLe(t,[{key:"input",value:function(n,r){var i=HLe(n),s=Mse(i,2),o=s[0],a=s[1],c=RA(o),l;return a&&(r.digits||(r.startInternationalNumber(void 0,void 0),c||(l=!0))),c&&this.inputDigits(c,r),{digits:c,justLeadingPlus:l}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=RB("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&FLe.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=PB(n,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=PB(n,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,c=s.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,c,a,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,o){var a=!1,c,l=s.lastIndexOf(i);if(l<0||l!==s.length-i.length)a=!0;else{var u=s.slice(0,l);u&&u!==n&&(c=u)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:c}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var o=Xie(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return n.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=nse(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])}();function WLe(t){var e=t.search(LLe);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(ULe,""),n&&(t="+"+t),t}}function qLe(t){var e=WLe(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function HLe(t){var e=qLe(t),n=Mse(e,2),r=n[0],i=n[1];return DLe.test(r)||(r=""),[r,i]}function x8(t){"@babel/helpers - typeof";return x8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x8(t)}function VLe(t,e){return YLe(t)||ZLe(t,e)||GLe(t,e)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GLe(t,e){if(t){if(typeof t=="string")return Bse(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bse(t,e):void 0}}function Bse(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function YLe(t){if(Array.isArray(t))return t}function JLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eUe(r.key),r)}}function XLe(t,e,n){return e&&QLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eUe(t){var e=tUe(t,"string");return x8(e)=="symbol"?e:e+""}function tUe(t,e){if(x8(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x8(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dse=function(){function t(e,n){JLe(this,t),this.metadata=new $s(n);var r=this.getCountryAndCallingCode(e),i=VLe(r,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return XLe(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(Y1(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new qDe({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new ILe({state:this.state,metadata:this.metadata}),this.parser=new zLe({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,o=r,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Nd)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(NB(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,o=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+o:"+"+r;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,o=this._getCountry();if(r&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new $s(this.metadata.metadata);a.selectNumberingPlan(o);var c=a.numberingPlan.callingCode(),l=this.metadata.getCountryCodesForCallingCode(c);if(l.length>1){var u=tse(r,{countries:l,metadata:this.metadata.metadata});u&&(o=u)}}var d=new jB(o||s,r,this.metadata.metadata);return i&&(d.carrierCode=i),d}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function nUe(t){return new $s(t).getCountries()}function rUe(t,e,n){if(e[t])return new jB(t,e[t],n)}function jA(t,{method:e}){var r,i;const n={};return t.transport.type==="fallback"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&e===s&&(n[o]=c.request)})),s=>n[s]||t.request}async function Lse(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=e,l=jA(t,{method:"eth_newFilter"}),u=s?N4({abi:r,args:i,eventName:s}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?Fe(o):o,toBlock:typeof c=="bigint"?Fe(c):c,topics:u}]});return{abi:r,args:i,eventName:s,id:d,request:l(d),strict:!!a,type:"event"}}class Use extends xe{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class VB extends xe{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class iUe extends xe{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${na(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Fse extends xe{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function Od(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){var l,u,d;const s=i??!1,o=n!==void 0?Fe(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new Fse({blockHash:e,blockNumber:n});return(((d=(u=(l=t.chain)==null?void 0:l.formatters)==null?void 0:u.block)==null?void 0:d.format)||Xre)(a,"getBlock")}async function KB(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function sUe(t,e){return zse(t,e)}async function zse(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await lt(t,Od,"getBlock")({}),u=await a({block:l,client:t,request:i});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Ki(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):lt(t,Od,"getBlock")({}),lt(t,KB,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new VB;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function Wse(t,e){return GB(t,e)}async function GB(t,e){var h,f;const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var p,m;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new Use;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await lt(t,Od,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(p!==null)return p}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new VB;const p=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await zse(t,{block:u,chain:r,request:i}),m=l(u.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??m+p,maxPriorityFeePerGas:p}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await lt(t,KB,"getGasPrice")({}))}}async function zh(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return wc(e)}async function ZB(t,e){var R,S,B,j,U;const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:o,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:m,to:w,type:y,value:b,...v}=e,E=await(async()=>{if(!n||!m||typeof p<"u")return p;const M=Br(n),C=s?s.id:await lt(t,zh,"getChainId")({});return await m.consume({address:M.address,chainId:C,client:t})})();Ip(e);const _=(S=(R=s==null?void 0:s.formatters)==null?void 0:R.transactionRequest)==null?void 0:S.format,I=(_||$g)({...mb(v,{format:_}),account:n?Br(n):void 0,accessList:r,authorizationList:i,blobs:a,blobVersionedHashes:o,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:E,to:w,type:y,value:b},"fillTransaction");try{const M=await t.request({method:"eth_fillTransaction",params:[I]}),x=(((j=(B=s==null?void 0:s.formatters)==null?void 0:B.transaction)==null?void 0:j.format)||Xj)(M.tx);delete x.blockHash,delete x.blockNumber,delete x.r,delete x.s,delete x.transactionIndex,delete x.v,delete x.yParity,x.data=x.input,x.gas&&(x.gas=e.gas??x.gas),x.gasPrice&&(x.gasPrice=e.gasPrice??x.gasPrice),x.maxFeePerBlobGas&&(x.maxFeePerBlobGas=e.maxFeePerBlobGas??x.maxFeePerBlobGas),x.maxFeePerGas&&(x.maxFeePerGas=e.maxFeePerGas??x.maxFeePerGas),x.maxPriorityFeePerGas&&(x.maxPriorityFeePerGas=e.maxPriorityFeePerGas??x.maxPriorityFeePerGas),x.nonce&&(x.nonce=e.nonce??x.nonce);const A=await(async()=>{var D,L;if(typeof((D=s==null?void 0:s.fees)==null?void 0:D.baseFeeMultiplier)=="function"){const $=await lt(t,Od,"getBlock")({});return s.fees.baseFeeMultiplier({block:$,client:t,request:e})}return((L=s==null?void 0:s.fees)==null?void 0:L.baseFeeMultiplier)??1.2})();if(A<1)throw new Use;const O=10**(((U=A.toString().split(".")[1])==null?void 0:U.length)??0),P=D=>D*BigInt(Math.ceil(A*O))/BigInt(O);return x.maxFeePerGas&&!e.maxFeePerGas&&(x.maxFeePerGas=P(x.maxFeePerGas)),x.gasPrice&&!e.gasPrice&&(x.gasPrice=P(x.gasPrice)),{raw:M.raw,transaction:{from:I.from,...x}}}catch(M){throw _A(M,{...e,chain:t.chain})}}const YB=["blobVersionedHashes","chainId","fees","gas","nonce","type"],qse=new Map,JB=new R1(128);async function E8(t,e){var E,_,T;let n=e;n.account??(n.account=t.account),n.parameters??(n.parameters=YB);const{account:r,chain:i=t.chain,nonceManager:s,parameters:o}=n,a=(()=>{if(typeof(i==null?void 0:i.prepareTransactionRequest)=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i==null?void 0:i.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let c;async function l(){return c||(typeof n.chainId<"u"?n.chainId:i?i.id:(c=await lt(t,zh,"getChainId")({}),c))}const u=r&&Br(r);let d=n.nonce;if(o.includes("nonce")&&typeof d>"u"&&u&&s){const I=await l();d=await s.consume({address:u.address,chainId:I,client:t})}a!=null&&a.fn&&((E=a.runAt)!=null&&E.includes("beforeFillTransaction"))&&(n=await a.fn({...n,chain:i},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const f=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&n.kzg&&n.blobs||JB.get(t.uid)===!1||!["fees","gas"].some(R=>o.includes(R))?!1:!!(o.includes("chainId")&&typeof n.chainId!="number"||o.includes("nonce")&&typeof d!="number"||o.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof n.gas!="bigint"))?await lt(t,ZB,"fillTransaction")({...n,nonce:d}).then(I=>{const{chainId:R,from:S,gas:B,gasPrice:j,nonce:U,maxFeePerBlobGas:M,maxFeePerGas:C,maxPriorityFeePerGas:x,type:A,...N}=I.transaction;return JB.set(t.uid,!0),{...n,...S?{from:S}:{},...A?{type:A}:{},...typeof R<"u"?{chainId:R}:{},...typeof B<"u"?{gas:B}:{},...typeof j<"u"?{gasPrice:j}:{},...typeof U<"u"?{nonce:U}:{},...typeof M<"u"?{maxFeePerBlobGas:M}:{},...typeof C<"u"?{maxFeePerGas:C}:{},...typeof x<"u"?{maxPriorityFeePerGas:x}:{},..."nonceKey"in N&&typeof N.nonceKey<"u"?{nonceKey:N.nonceKey}:{}}}).catch(I=>{var B;const R=I;return R.name!=="TransactionExecutionError"||((B=R.walk)==null?void 0:B.call(R,j=>{const U=j;return U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError"}))&&JB.set(t.uid,!1),n}):n;d??(d=f.nonce),n={...f,...u?{from:u==null?void 0:u.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:m,kzg:w,type:y}=n;a!=null&&a.fn&&((_=a.runAt)!=null&&_.includes("beforeFillParameters"))&&(n=await a.fn({...n,chain:i},{phase:"beforeFillParameters"}));let b;async function v(){return b||(b=await lt(t,Od,"getBlock")({blockTag:"latest"}),b)}if(o.includes("nonce")&&typeof d>"u"&&u&&!s&&(n.nonce=await lt(t,tB,"getTransactionCount")({address:u.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&p&&w){const I=tre({blobs:p,kzg:w});if(o.includes("blobVersionedHashes")){const R=PNe({commitments:I,to:"hex"});n.blobVersionedHashes=R}if(o.includes("sidecars")){const R=nre({blobs:p,commitments:I,kzg:w}),S=MNe({blobs:p,commitments:I,proofs:R,to:"hex"});n.sidecars=S}}if(o.includes("chainId")&&(n.chainId=await l()),(o.includes("fees")||o.includes("type"))&&typeof y>"u")try{n.type=LNe(n)}catch{let I=qse.get(t.uid);if(typeof I>"u"){const R=await v();I=typeof(R==null?void 0:R.baseFeePerGas)=="bigint",qse.set(t.uid,I)}n.type=I?"eip1559":"legacy"}if(o.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const I=await v(),{maxFeePerGas:R,maxPriorityFeePerGas:S}=await GB(t,{block:I,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<S)throw new iUe({maxPriorityFeePerGas:S});n.maxPriorityFeePerGas=S,n.maxFeePerGas=R}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new VB;if(typeof n.gasPrice>"u"){const I=await v(),{gasPrice:R}=await GB(t,{block:I,chain:i,request:n,type:"legacy"});n.gasPrice=R}}return o.includes("gas")&&typeof m>"u"&&(n.gas=await lt(t,QB,"estimateGas")({...n,account:u,prepare:(u==null?void 0:u.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((T=a.runAt)!=null&&T.includes("afterFillParameters"))&&(n=await a.fn({...n,chain:i},{phase:"afterFillParameters"})),Ip(n),delete n.parameters,n}async function QB(t,e){var o,a,c;const{account:n=t.account,prepare:r=!0}=e,i=n?Br(n):void 0,s=(()=>{if(Array.isArray(r))return r;if((i==null?void 0:i.type)!=="local")return["blobVersionedHashes"]})();try{const l=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await aA({authorization:e.authorizationList[0]}).catch(()=>{throw new xe("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:u,authorizationList:d,blobs:h,blobVersionedHashes:f,blockNumber:p,blockTag:m,data:w,gas:y,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:T,value:I,stateOverride:R,...S}=r?await E8(t,{...e,parameters:s,to:l}):e;if(y&&e.gas!==y)return y;const j=(typeof p=="bigint"?Fe(p):void 0)||m,U=CA(R);Ip(e);const M=(c=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,x=(M||$g)({...mb(S,{format:M}),account:i,accessList:u,authorizationList:d,blobs:h,blobVersionedHashes:f,data:w,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:T,to:l,value:I},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:U?[x,j??t.experimental_blockTag??"latest",U]:j?[x,j]:[x]}))}catch(l){throw JOe(l,{...e,account:i,chain:t.chain})}}async function oUe(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,c=wi({abi:n,args:i,functionName:s});try{return await lt(t,QB,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?Br(a.account):void 0;throw G1(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function XB(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(s?[s]:void 0);let d=[];u&&(d=[u.flatMap(m=>N4({abi:[m],eventName:m.name,args:o?void 0:a}))],s&&(d=d[0]));let h;n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?Fe(r):r,toBlock:typeof i=="bigint"?Fe(i):i}]});const f=h.map(p=>Fh(p));return u?kj({abi:u,args:a,logs:f,strict:l}):f}async function Hse(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,u=o?j1({abi:n,name:o}):void 0,d=u?void 0:n.filter(h=>h.type==="event");return lt(t,XB,"getLogs")({address:r,args:i,blockHash:s,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}async function Cc(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=wi({abi:n,args:i,functionName:s});try{const{data:c}=await lt(t,s8,"call")({...o,data:a,to:r});return B1({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw G1(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function aUe(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,c=a.account?Br(a.account):t.account,l=wi({abi:n,args:i,functionName:o});try{const{data:u}=await lt(t,s8,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),d=B1({abi:n,args:i,functionName:o,data:u||"0x"}),h=n.filter(f=>"name"in f&&f.name===e.functionName);return{result:d,request:{abi:h,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(u){throw G1(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const eD=new Map,Vse=new Map;let cUe=0;function Wh(t,e,n){const r=++cUe,i=()=>eD.get(t)||[],s=()=>{const u=i();eD.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=i();if(!u.some(h=>h.id===r))return;const d=Vse.get(t);if(u.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}s()},a=i();if(eD.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,p;const h=i();if(h.length!==0)for(const m of h)(p=(f=m.fns)[u])==null||p.call(f,...d)};const l=n(c);return typeof l=="function"&&Vse.set(t,l),o}function J1(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await dA(c);const l=async()=>{i&&(await t({unpoll:s}),await dA(r),l())};l()})(),s}const lUe=new Map,uUe=new Map;function dUe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,lUe),r=e(t,uUe);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function hUe(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=dUe(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const fUe=t=>`blockNumber.${t}`;async function C8(t,{cacheTime:e=t.cacheTime}={}){const n=await hUe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:fUe(t.uid),cacheTime:e});return BigInt(n)}async function BA(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Fh(s));return!("abi"in e)||!e.abi?i:kj({abi:e.abi,logs:i,strict:n})}async function DA(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function pUe(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:h}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const w=h??!1,y=Oi(["watchContractEvent",r,i,s,t.uid,o,d,w,a]);return Wh(y,{onLogs:l,onError:c},b=>{let v;a!==void 0&&(v=a-1n);let E,_=!1;const T=J1(async()=>{var I;if(!_){try{E=await lt(t,Lse,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:w,fromBlock:a})}catch{}_=!0;return}try{let R;if(E)R=await lt(t,BA,"getFilterChanges")({filter:E});else{const S=await lt(t,C8,"getBlockNumber")({});v&&v<S?R=await lt(t,Hse,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:v+1n,toBlock:S,strict:w}):R=[],v=S}if(R.length===0)return;if(s)b.onLogs(R);else for(const S of R)b.onLogs([S])}catch(R){E&&R instanceof kg&&(_=!1),(I=b.onError)==null||I.call(b,R)}},{emitOnBegin:!0,interval:d});return async()=>{E&&await lt(t,DA,"uninstallFilter")({filter:E}),T()}})})():(()=>{const w=h??!1,y=Oi(["watchContractEvent",r,i,s,t.uid,o,d,w]);let b=!0,v=()=>b=!1;return Wh(y,{onLogs:l,onError:c},E=>((async()=>{try{const _=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),T=o?N4({abi:n,eventName:o,args:i}):[],{unsubscribe:I}=await _.subscribe({params:["logs",{address:r,topics:T}],onData(R){var B;if(!b)return;const S=R.result;try{const{eventName:j,args:U}=P4({abi:n,data:S.data,topics:S.topics,strict:h}),M=Fh(S,{args:U,eventName:j});E.onLogs([M])}catch(j){let U,M;if(j instanceof rA||j instanceof pj){if(h)return;U=j.abiItem.name,M=(B=j.abiItem.inputs)==null?void 0:B.some(x=>!("name"in x&&x.name))}const C=Fh(S,{args:M?[]:{},eventName:U});E.onLogs([C])}},onError(R){var S;(S=E.onError)==null||S.call(E,R)}});v=I,b||v()}catch(_){c==null||c(_)}})(),()=>v()))})()}class Rd extends xe{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Q1 extends xe{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function tD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const nD=new R1(128);async function LA(t,e){var b,v,E,_;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,type:p,value:m,...w}=e;if(typeof n>"u")throw new Rd({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Br(n):null;try{Ip(e);const T=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await aA({authorization:s[0]}).catch(()=>{throw new xe("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let I;r!==null&&(I=await lt(t,zh,"getChainId")({}),Qj({currentChainId:I,chain:r}));const R=(E=(v=(b=t.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:E.format,B=(R||$g)({...mb(w,{format:R}),accessList:i,account:y,authorizationList:s,blobs:o,chainId:I,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:T,type:p,value:m},"sendTransaction"),j=nD.get(t.uid),U=j?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:U,params:[B]},{retryCount:0})}catch(M){if(j===!1)throw M;const C=M;if(C.name==="InvalidInputRpcError"||C.name==="InvalidParamsRpcError"||C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(x=>(nD.set(t.uid,!0),x)).catch(x=>{const A=x;throw A.name==="MethodNotFoundRpcError"||A.name==="MethodNotSupportedRpcError"?(nD.set(t.uid,!1),C):A});throw C}}if((y==null?void 0:y.type)==="local"){const I=await lt(t,E8,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:y.nonceManager,parameters:[...YB,"sidecars"],type:p,value:m,...w,to:T}),R=(_=r==null?void 0:r.serializers)==null?void 0:_.transaction,S=await y.signTransaction(I,{serializer:R});return await lt(t,tD,"sendRawTransaction")({serializedTransaction:S})}throw(y==null?void 0:y.type)==="smart"?new Q1({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Q1({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(T){throw T instanceof Q1?T:_A(T,{...e,account:y,chain:e.chain||void 0})}}async function _8(t,e){return _8.internal(t,LA,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:o,account:a=n.account,address:c,args:l,dataSuffix:u,functionName:d,...h}=s;if(typeof a>"u")throw new Rd({docsPath:"/docs/contract/writeContract"});const f=a?Br(a):null,p=wi({abi:o,args:l,functionName:d});try{return await lt(n,r,i)({data:`${p}${u?u.replace("0x",""):""}`,to:c,account:f,...h})}catch(m){throw G1(m,{abi:o,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:d,sender:f==null?void 0:f.address})}}t.internal=e})(_8||(_8={}));class gUe extends xe{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const Kse="0x5792579257925792579257925792579257925792579257925792579257925792",Gse=Fe(0,{size:32});async function Zse(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Br(n):null,d=e.calls.map(h=>{const f=h,p=f.abi?wi({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&p?Is([p,f.dataSuffix]):p,to:f.to,value:f.value?Fe(f.value):void 0}});try{const h=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Fe(i.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const f=h;if(s&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method")||f.details.toLowerCase().includes("feature toggled misconfigured")||f.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(b=>!b.optional)){const b="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new db(new xe(b,{details:b}))}if(a&&d.length>1){const y="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new hb(new xe(y,{details:y}))}const p=[];for(const y of d){const b=LA(t,{account:u,chain:i,data:y.data,to:y.to,value:y.value?Ki(y.value):void 0});p.push(b),o>0&&await new Promise(v=>setTimeout(v,o))}const m=await Promise.allSettled(p);if(m.every(y=>y.status==="rejected"))throw m[0].reason;const w=m.map(y=>y.status==="fulfilled"?y.value:Gse);return{id:Is([...w,Fe(i.id,{size:32}),Kse])}}throw _A(h,{...e,account:u,chain:e.chain})}}async function Yse(t,e){async function n(u){if(u.endsWith(Kse.slice(2))){const h=Id(mj(u,-64,-32)),f=mj(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(f.map(w=>Gse.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),m=p.some(w=>w===null)?100:p.every(w=>(w==null?void 0:w.status)==="0x1")?200:p.every(w=>(w==null?void 0:w.status)==="0x0")?500:600;return{atomic:!1,chainId:wc(h),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?wc(i):void 0,receipts:(s==null?void 0:s.map(u=>({...u,blockNumber:Ki(u.blockNumber),gasUsed:Ki(u.gasUsed),status:eie[u.status]})))??[],statusCode:l,status:c,version:o}}async function UA(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:m})=>m===200||m>=300,retryCount:s=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,l=Oi(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:d,reject:h}=Yj();let f;const p=Wh(l,{resolve:d,reject:h},m=>{const w=J1(async()=>{const y=b=>{clearTimeout(f),w(),b(),p()};try{const b=await hA(async()=>{const v=await lt(t,Yse,"getCallsStatus")({id:n});if(c&&v.status==="failure")throw new gUe(v);return v},{retryCount:s,delay:o});if(!i(b))return;y(()=>m.resolve(b))}catch(b){y(()=>m.reject(b))}},{interval:r,emitOnBegin:!0});return w});return f=a?setTimeout(()=>{p(),clearTimeout(f),h(new mUe({id:n}))},a):void 0,await u}class mUe extends xe{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const rD=256;let FA=rD,zA;function Jse(t=11){if(!zA||FA+t>rD*2){zA="",FA=0;for(let e=0;e<rD;e++)zA+=(256+Math.random()*256|0).toString(16).substring(1)}return zA.substring(FA,FA+++t)}function iD(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,h=t.account?Br(t.account):void 0,{config:f,request:p,value:m}=t.transport({account:h,chain:n,pollingInterval:u}),w={...f,...m},y={account:h,batch:e,cacheTime:d,ccipRead:r,chain:n,key:i,name:s,pollingInterval:u,request:p,transport:w,type:o,uid:Jse(),...a?{experimental_blockTag:a}:{}};function b(v){return E=>{const _=E(v);for(const I in y)delete _[I];const T={...v,..._};return Object.assign(T,{extend:b(T)})}}return Object.assign(y,{extend:b(y)})}function sD(t){var n,r,i,s,o,a;if(!(t instanceof xe))return!1;const e=t.walk(c=>c instanceof bA);return e instanceof bA?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Qse(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Si(e)?e:null}function oD(t){let e=new Uint8Array(32).fill(0);if(!t)return Ss(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=Qse(n[r]),s=i?tb(i):Yr(wp(n[r]),"bytes");e=Yr(Is([e,s]),"bytes")}return Ss(e)}function yUe(t){return`[${t.slice(2)}]`}function wUe(t){const e=new Uint8Array(32).fill(0);return t?Qse(t)||Yr(wp(t)):Ss(e)}function aD(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(wp(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=wp(i[s]);o.byteLength>255&&(o=wp(yUe(wUe(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function vUe(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gb({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;const d=i!=null?[oD(s),BigInt(i)]:[oD(s)];try{const h=wi({abi:Dre,functionName:"addr",args:d}),f={address:l,abi:jre,functionName:"resolveWithGateways",args:[Cr(aD(s)),h,o??[o8]],blockNumber:n,blockTag:r},m=await lt(t,Cc,"readContract")(f);if(m[0]==="0x")return null;const w=B1({abi:Dre,args:d,functionName:"addr",data:m[0]});return w==="0x"||Id(w)==="0x00"?null:w}catch(h){if(a)throw h;if(sD(h))return null;throw h}}class bUe extends xe{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class A8 extends xe{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class cD extends xe{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class xUe extends xe{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const EUe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,CUe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,_Ue=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,AUe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function SUe(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function Xse(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function eoe({uri:t,gatewayUrls:e}){const n=_Ue.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=Xse(e==null?void 0:e.ipfs,"https://ipfs.io"),i=Xse(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(EUe),{protocol:o,subpath:a,target:c,subtarget:l=""}=(s==null?void 0:s.groups)||{},u=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||CUe.test(t);if(t.startsWith("http")&&!u&&!d){let f=t;return e!=null&&e.arweave&&(f=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(AUe,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new cD({uri:t})}function toe(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new bUe({data:t});return t.image||t.image_url||t.image_data}async function IUe({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await lD({gatewayUrls:t,uri:toe(n)})}catch{throw new cD({uri:e})}}async function lD({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=eoe({uri:e,gatewayUrls:t});if(r||await SUe(n))return n;throw new cD({uri:e})}function kUe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new A8({reason:"Only EIP-155 supported"});if(!o)throw new A8({reason:"Chain ID not found"});if(!c)throw new A8({reason:"Contract address not found"});if(!i)throw new A8({reason:"Token ID not found"});if(!a)throw new A8({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function $Ue(t,{nft:e}){if(e.namespace==="erc721")return Cc(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Cc(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new xUe({namespace:e.namespace})}async function TUe(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?PUe(t,{gatewayUrls:e,record:n}):lD({uri:n,gatewayUrls:e})}async function PUe(t,{gatewayUrls:e,record:n}){const r=kUe(n),i=await $Ue(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=eoe({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(l);return lD({uri:toe(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),IUe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function noe(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gb({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>s.endsWith(d)))return null;try{const d={address:l,abi:jre,args:[Cr(aD(s)),wi({abi:Bre,functionName:"text",args:[oD(s),i]}),o??[o8]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},f=await lt(t,Cc,"readContract")(d);if(f[0]==="0x")return null;const p=B1({abi:Bre,functionName:"text",data:f[0]});return p===""?null:p}catch(d){if(a)throw d;if(sD(d))return null;throw d}}async function NUe(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await lt(t,noe,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await TUe(t,{record:c,gatewayUrls:r})}catch{return null}}async function OUe(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gb({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:AOe,args:[n,s,o??[o8]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},d=lt(t,Cc,"readContract"),[h]=await d(u);return h||null}catch(u){if(a)throw u;if(sD(u))return null;throw u}}async function RUe(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return gb({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await lt(t,Cc,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Cr(aD(i))],blockNumber:n,blockTag:r});return c}async function roe(t,e){var w,y,b;const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f,...p}=e,m=n?Br(n):void 0;try{Ip(e);const E=(typeof r=="bigint"?Fe(r):void 0)||i,_=(b=(y=(w=t.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:b.format,I=(_||$g)({...mb(p,{format:_}),account:m,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:h,value:f},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[I,E]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(v){throw Hre(v,{...e,account:m,chain:t.chain})}}async function MUe(t){const e=jA(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function ioe(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=jA(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>N4({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?Fe(s):s,toBlock:typeof a=="bigint"?Fe(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:d,request:l(d),strict:!!o,toBlock:a,type:"event"}}async function soe(t){const e=jA(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function jUe(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?Fe(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function BUe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function DUe(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Fe(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),wc(s)}async function S8(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Fe(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class LUe extends xe{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function UUe(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,c,l,u,d]=await lt(t,Cc,"readContract")({abi:FUe,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new LUe({address:n}):o}}const FUe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function zUe(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function WUe(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?Fe(n):void 0,o=await t.request({method:"eth_feeHistory",params:[Fe(e),s||r,i]},{dedupe:!!s});return zUe(o)}async function qUe(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Fh(s));return e.abi?kj({abi:e.abi,logs:i,strict:n}):i}function HUe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function VUe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?wc(t.nonce):void 0,storageProof:t.storageProof?HUe(t.storageProof):void 0}}async function KUe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?Fe(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return VUe(a)}async function GUe(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?Fe(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function uD(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:o,nonce:a}){var h,f,p;const c=r||"latest",l=n!==void 0?Fe(n):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Fe(s)]},{dedupe:!0}):typeof s=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,Fe(s)]},{dedupe:!!l}):o&&typeof a=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,Fe(a)]},{dedupe:!0})),!u)throw new Qne({blockHash:e,blockNumber:n,blockTag:c,hash:i,index:s});return(((p=(f=(h=t.chain)==null?void 0:h.formatters)==null?void 0:f.transaction)==null?void 0:p.format)||Xj)(u,"getTransaction")}async function ZUe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([lt(t,C8,"getBlockNumber")({}),e?lt(t,uD,"getTransaction")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function WA(t,{hash:e}){var i,s,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new Xne({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||eB)(n,"getTransactionReceipt")}async function YUe(t,e){var b;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},h=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return gb({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]];let p=0,m=0;for(let v=0;v<l.length;v++){const{abi:E,address:_,args:T,functionName:I}=l[v];try{const R=wi({abi:E,args:T,functionName:I});m+=(R.length-2)/2,u>0&&m>u&&f[p].length>0&&(p++,m=(R.length-2)/2,f[p]=[]),f[p]=[...f[p],{allowFailure:!0,callData:R,target:_}]}catch(R){const S=G1(R,{abi:E,address:_,args:T,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!i)throw S;f[p]=[...f[p],{allowFailure:!0,callData:"0x",target:_}]}}const w=await Promise.allSettled(f.map(v=>lt(t,Cc,"readContract")({...h===null?{code:Gj}:{address:h},abi:vA,account:n,args:[v],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),y=[];for(let v=0;v<w.length;v++){const E=w[v];if(E.status==="rejected"){if(!i)throw E.reason;for(let T=0;T<f[v].length;T++)y.push({status:"failure",error:E.reason,result:void 0});continue}const _=E.value;for(let T=0;T<_.length;T++){const{returnData:I,success:R}=_[T],{callData:S}=f[v][T],{abi:B,address:j,functionName:U,args:M}=l[y.length];try{if(S==="0x")throw new k4;if(!R)throw new xA({data:I});const C=B1({abi:B,args:M,data:I,functionName:U});y.push(i?{result:C,status:"success"}:C)}catch(C){const x=G1(C,{abi:B,address:j,args:M,docsPath:"/docs/contract/multicall",functionName:U});if(!i)throw x;y.push({error:x,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new xe("multicall results mismatch");return y}async function dD(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const c=[];for(const h of i){const f=h.blockOverrides?Rre(h.blockOverrides):void 0,p=h.calls.map(w=>{const y=w,b=y.account?Br(y.account):void 0,v=y.abi?wi(y):y.data,E={...y,account:b,data:y.dataSuffix?Is([v||"0x",y.dataSuffix]):v,from:y.from??(b==null?void 0:b.address)};return Ip(E),$g(E)}),m=h.stateOverrides?CA(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:p,stateOverrides:m})}const u=(typeof n=="bigint"?Fe(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((h,f)=>({...Xre(h),calls:h.calls.map((p,m)=>{var B,j;const{abi:w,args:y,functionName:b,to:v}=i[f].calls[m],E=((B=p.error)==null?void 0:B.data)??p.returnData,_=BigInt(p.gasUsed),T=(j=p.logs)==null?void 0:j.map(U=>Fh(U)),I=p.status==="0x1"?"success":"failure",R=w&&I==="success"&&E!=="0x"?B1({abi:w,data:E,functionName:b}):null,S=(()=>{var M;if(I==="success")return;let U;if(((M=p.error)==null?void 0:M.data)==="0x"?U=new k4:p.error&&(U=new xA(p.error)),!!U)return G1(U,{abi:w??[],address:v??"0x",args:y,functionName:b??"<unknown>"})})();return{data:E,gasUsed:_,logs:T,status:I,...I==="success"?{result:R}:{error:S}}})}))}catch(c){const l=c,u=EA(l,{});throw u instanceof M4?l:u}}function hD(t){let e=!0,n="",r=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!s)throw new _n("Unable to normalize signature.");return i}function fD(t,e){const n=typeof t,r=e.type;switch(r){case"address":return rB(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>fD(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>fD(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ooe(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return ooe(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?rB(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?rB(n[r],{strict:!1}):!1)return o}}function aoe(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?Yte(t):t;return{...r,...n?{hash:bb(r)}:{}}}function qA(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=xOe(e,{strict:!1}),o=t.filter(l=>s?l.type==="function"||l.type==="error"?coe(l)===Uh(e,0,4):l.type==="event"?bb(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new HA({name:e});if(o.length===1)return{...o[0],...i?{hash:bb(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:bb(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,h)=>{const f="inputs"in l&&l.inputs[h];return f?fD(d,f):!1})){if(a&&"inputs"in a&&a.inputs){const d=ooe(l.inputs,a.inputs,r);if(d)throw new QUe({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new HA({name:e});return{...c,...i?{hash:bb(c)}:{}}}function coe(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return qA(n,r)}return t[0]})();return Uh(bb(e),0,4)}function JUe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return qA(r,i)}return t[0]})(),n=typeof e=="string"?e:G_(e);return hD(n)}function bb(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return qA(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:cie(Vj(JUe(e)))}class QUe extends _n{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${hD(G_(e.abiItem))}\`, and`,`\`${n.type}\` in \`${hD(G_(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class HA extends _n{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function XUe(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[tFe(o),a]}return t})(),{bytecode:r,args:i}=n;return $d(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?cB(e.inputs,i):"0x")}function eFe(t){return aoe(t)}function tFe(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new HA({name:"constructor"});return e}function nFe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[loe(l,u,{args:d}),d]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?loe([e,...r],e.name,{args:n}):e,s=rFe(i),o=n.length>0?cB(i.inputs,n):void 0;return o?$d(s,o):s}function xb(t,e={}){return aoe(t,e)}function loe(t,e,n){const r=qA(t,e,n);if(r.type!=="function")throw new HA({name:e,type:"function"});return r}function rFe(t){return coe(t)}const iFe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",qh="0x0000000000000000000000000000000000000000",sFe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function oFe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?Br(e.account):void 0;if(o&&!l)throw new xe("`account` is required when `traceAssetChanges` is true");const u=l?XUe(eFe("constructor(bytes, bytes)"),{bytecode:Fre,args:[sFe,nFe(xb("function getBalance(address)"),[l.address])]}):void 0,d=o?await Promise.all(e.calls.map(async O=>{if(!O.data&&!O.abi)return;const{accessList:P}=await roe(t,{account:l.address,...O,data:O.abi?wi(O):O.data});return P.map(({address:D,storageKeys:L})=>L.length>0?D:null)})).then(O=>O.flat().filter(Boolean)):[],h=await dD(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:d.map((O,P)=>({abi:[xb("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:O,from:qh,nonce:P})),stateOverrides:[{address:qh,nonce:0}]}]:[],{calls:[...i,{}].map(O=>({...O,from:l==null?void 0:l.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:d.map((O,P)=>({abi:[xb("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:O,from:qh,nonce:P})),stateOverrides:[{address:qh,nonce:0}]},{calls:d.map((O,P)=>({to:O,abi:[xb("function decimals() returns (uint256)")],functionName:"decimals",from:qh,nonce:P})),stateOverrides:[{address:qh,nonce:0}]},{calls:d.map((O,P)=>({to:O,abi:[xb("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:qh,nonce:P})),stateOverrides:[{address:qh,nonce:0}]},{calls:d.map((O,P)=>({to:O,abi:[xb("function symbol() returns (string)")],functionName:"symbol",from:qh,nonce:P})),stateOverrides:[{address:qh,nonce:0}]}]:[]],traceTransfers:a,validation:c}),f=o?h[2]:h[0],[p,m,,w,y,b,v,E]=o?h:[],{calls:_,...T}=f,I=_.slice(0,-1)??[],R=(p==null?void 0:p.calls)??[],S=(m==null?void 0:m.calls)??[],B=[...R,...S].map(O=>O.status==="success"?Ki(O.data):null),j=(w==null?void 0:w.calls)??[],U=(y==null?void 0:y.calls)??[],M=[...j,...U].map(O=>O.status==="success"?Ki(O.data):null),C=((b==null?void 0:b.calls)??[]).map(O=>O.status==="success"?O.result:null),x=((E==null?void 0:E.calls)??[]).map(O=>O.status==="success"?O.result:null),A=((v==null?void 0:v.calls)??[]).map(O=>O.status==="success"?O.result:null),N=[];for(const[O,P]of M.entries()){const D=B[O];if(typeof P!="bigint"||typeof D!="bigint")continue;const L=C[O-1],$=x[O-1],q=A[O-1],V=O===0?{address:iFe,decimals:18,symbol:"ETH"}:{address:d[O-1],decimals:q||L?Number(L??1):void 0,symbol:$??void 0};N.some(F=>F.token.address===V.address)||N.push({token:V,value:{pre:D,post:P,diff:P-D}})}return{assetChanges:N,block:T,results:I}}const uoe="0x6492649264926492649264926492649264926492649264926492649264926492";function aFe(t){if(Uh(t,-32)!==uoe)throw new uFe(t)}function cFe(t){const{data:e,signature:n,to:r}=t;return $d(cB(gie("address, bytes, bytes"),[r,e,n]),uoe)}function lFe(t){try{return aFe(t),!0}catch{return!1}}class uFe extends _n{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function dFe({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new EB.Signature(Ki(t),Ki(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:ja(o)}async function VA(t,e){var c,l,u,d;const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((l=(c=r==null?void 0:r.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:o=e.multicallAddress??((d=(u=r==null?void 0:r.contracts)==null?void 0:u.multicall3)==null?void 0:d.address)}=e;if(r!=null&&r.verifyHash)return await r.verifyHash(t,e);const a=(()=>{const h=e.signature;return Si(h)?h:typeof h=="object"&&"r"in h&&"s"in h?dFe(h):Ss(h)})();try{return kMe(a)?await hFe(t,{...e,multicallAddress:o,signature:a}):await fFe(t,{...e,verifierAddress:s,signature:a})}catch(h){try{if(D1(Gi(n),await Yne({hash:i,signature:a})))return!0}catch{}if(h instanceof X1)return!1;throw h}}async function hFe(t,e){var w;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:c,signature:l,to:u}=IMe(e.signature);if(await S8(t,{address:n,blockNumber:r,blockTag:i})===Cp(["0xef0100",a.address]))return await pFe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const h={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:Fe(a.r,{size:32}),s:Fe(a.s,{size:32}),yParity:a.yParity};if(!await UNe({address:n,authorization:h}))throw new X1;const p=await lt(t,Cc,"readContract")({...o?{address:o}:{code:Gj},authorizationList:[h],abi:vA,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:wi({abi:Lre,functionName:"isValidSignature",args:[s,l]})}]]}),m=(w=p[p.length-1])==null?void 0:w.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new X1}async function fFe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=e,l=await(async()=>!r&&!i||lFe(o)?o:cFe({data:i,signature:o,to:r}))(),u=a?{to:a,data:wi({abi:Ure,functionName:"isValidSig",args:[n,s,l]}),...c}:{data:oA({abi:Ure,args:[n,s,l],bytecode:$Oe}),...c},{data:d}=await lt(t,s8,"call")(u).catch(h=>{throw h instanceof Wre?new X1:h});if(PTe(d??"0x0"))return!0;throw new X1}async function pFe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await lt(t,Cc,"readContract")({address:n,abi:Lre,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Zj?new X1:c})).startsWith("0x1626ba7e"))return!0;throw new X1}class X1 extends Error{}async function gFe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=AA(n);return lt(t,VA,"verifyHash")({address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function mFe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...u}=e,d=a8({message:o,primaryType:a,types:c,domain:l});return lt(t,VA,"verifyHash")({address:n,factory:r,factoryData:i,hash:d,signature:s,...u})}function doe(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=Oi(["watchBlockNumber",t.uid,e,n,o]);return Wh(d,{onBlockNumber:r,onError:i},h=>J1(async()=>{var f;try{const p=await lt(t,C8,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let m=c+1n;m<p;m++)h.onBlockNumber(m,c),c=m}(c===void 0||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(f=h.onError)==null||f.call(h,p)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Oi(["watchBlockNumber",t.uid,e,n]);return Wh(d,{onBlockNumber:r,onError:i},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(b=>b.config.type==="webSocket"||b.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:w}=await m.subscribe({params:["newHeads"],onData(y){var v;if(!f)return;const b=Ki((v=y.result)==null?void 0:v.number);h.onBlockNumber(b,c),c=b},onError(y){var b;(b=h.onError)==null||b.call(h,y)}});p=w,f||p()}catch(m){i==null||i(m)}})(),()=>p()})})()}async function hoe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:_})=>~~(1<<_)*200,timeout:c=18e4}=e,l=Oi(["waitForTransactionReceipt",t.uid,i]),u=(()=>{var _;return e.pollingInterval?e.pollingInterval:(_=t.chain)!=null&&_.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let d,h,f,p=!1,m,w;const{promise:y,resolve:b,reject:v}=Yj(),E=c?setTimeout(()=>{w==null||w(),m==null||m(),v(new vNe({hash:i}))},c):void 0;return m=Wh(l,{onReplaced:s,resolve:b,reject:v},async _=>{if(f=await lt(t,WA,"getTransactionReceipt")({hash:i}).catch(()=>{}),f&&r<=1){clearTimeout(E),_.resolve(f),m==null||m();return}w=lt(t,doe,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(T){const I=S=>{clearTimeout(E),w==null||w(),S(),m==null||m()};let R=T;if(!p)try{if(f){if(r>1&&(!f.blockNumber||R-f.blockNumber+1n<r))return;I(()=>_.resolve(f));return}if(n&&!d&&(p=!0,await hA(async()=>{d=await lt(t,uD,"getTransaction")({hash:i}),d.blockNumber&&(R=d.blockNumber)},{delay:a,retryCount:o}),p=!1),f=await lt(t,WA,"getTransactionReceipt")({hash:i}),r>1&&(!f.blockNumber||R-f.blockNumber+1n<r))return;I(()=>_.resolve(f))}catch(S){if(S instanceof Qne||S instanceof Xne){if(!d){p=!1;return}try{h=d,p=!0;const B=await hA(()=>lt(t,Od,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:M})=>M instanceof Fse});p=!1;const j=B.transactions.find(({from:M,nonce:C})=>M===h.from&&C===h.nonce);if(!j||(f=await lt(t,WA,"getTransactionReceipt")({hash:j.hash}),r>1&&(!f.blockNumber||R-f.blockNumber+1n<r)))return;let U="replaced";j.to===h.to&&j.value===h.value&&j.input===h.input?U="repriced":j.from===j.to&&j.value===0n&&(U="cancelled"),I(()=>{var M;(M=_.onReplaced)==null||M.call(_,{reason:U,replacedTransaction:h,transaction:j,transactionReceipt:f}),_.resolve(f)})}catch(B){I(()=>_.reject(B))}}else I(()=>_.reject(S))}}})}),y}function yFe(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let d;return l?(()=>{const p=Oi(["watchBlocks",t.uid,e,n,r,u,c]);return Wh(p,{onBlock:i,onError:s},m=>J1(async()=>{var w;try{const y=await lt(t,Od,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&(d==null?void 0:d.number)!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let b=(d==null?void 0:d.number)+1n;b<y.number;b++){const v=await lt(t,Od,"getBlock")({blockNumber:b,includeTransactions:u});m.onBlock(v,d),d=v}}((d==null?void 0:d.number)==null||e==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){(w=m.onError)==null||w.call(m,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,m=!0,w=()=>p=!1;return(async()=>{try{r&&lt(t,Od,"getBlock")({blockTag:e,includeTransactions:u}).then(v=>{p&&m&&(i(v,void 0),m=!1)}).catch(s);const y=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return v?v.value:t.transport}return t.transport})(),{unsubscribe:b}=await y.subscribe({params:["newHeads"],async onData(v){var _;if(!p)return;const E=await lt(t,Od,"getBlock")({blockNumber:(_=v.result)==null?void 0:_.number,includeTransactions:u}).catch(()=>{});p&&(i(E,d),m=!1,d=E)},onError(v){s==null||s(v)}});w=b,p||w()}catch(y){s==null||s(y)}})(),()=>w()})()}function wFe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const h=typeof l<"u"?l:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=d??!1;return h?(()=>{const w=Oi(["watchEvent",e,n,r,t.uid,i,u,o]);return Wh(w,{onLogs:c,onError:a},y=>{let b;o!==void 0&&(b=o-1n);let v,E=!1;const _=J1(async()=>{var T;if(!E){try{v=await lt(t,ioe,"createEventFilter")({address:e,args:n,event:i,events:s,strict:f,fromBlock:o})}catch{}E=!0;return}try{let I;if(v)I=await lt(t,BA,"getFilterChanges")({filter:v});else{const R=await lt(t,C8,"getBlockNumber")({});b&&b!==R?I=await lt(t,XB,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:b+1n,toBlock:R}):I=[],b=R}if(I.length===0)return;if(r)y.onLogs(I);else for(const R of I)y.onLogs([R])}catch(I){v&&I instanceof kg&&(E=!1),(T=y.onError)==null||T.call(y,I)}},{emitOnBegin:!0,interval:u});return async()=>{v&&await lt(t,DA,"uninstallFilter")({filter:v}),_()}})})():(()=>{let w=!0,y=()=>w=!1;return(async()=>{try{const b=(()=>{if(t.transport.type==="fallback"){const T=t.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return T?T.value:t.transport}return t.transport})(),v=s??(i?[i]:void 0);let E=[];v&&(E=[v.flatMap(I=>N4({abi:[I],eventName:I.name,args:n}))],i&&(E=E[0]));const{unsubscribe:_}=await b.subscribe({params:["logs",{address:e,topics:E}],onData(T){var R;if(!w)return;const I=T.result;try{const{eventName:S,args:B}=P4({abi:v??[],data:I.data,topics:I.topics,strict:f}),j=Fh(I,{args:B,eventName:S});c([j])}catch(S){let B,j;if(S instanceof rA||S instanceof pj){if(d)return;B=S.abiItem.name,j=(R=S.abiItem.inputs)==null?void 0:R.some(M=>!("name"in M&&M.name))}const U=Fh(I,{args:j?[]:{},eventName:B});c([U])}},onError(T){a==null||a(T)}});y=_,w||y()}catch(b){a==null||a(b)}})(),()=>y()})()}function vFe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=Oi(["watchPendingTransactions",t.uid,e,s]);return Wh(l,{onTransactions:r,onError:n},u=>{let d;const h=J1(async()=>{var f;try{if(!d)try{d=await lt(t,soe,"createPendingTransactionFilter")({});return}catch(m){throw h(),m}const p=await lt(t,BA,"getFilterChanges")({filter:d});if(p.length===0)return;if(e)u.onTransactions(p);else for(const m of p)u.onTransactions([m])}catch(p){(f=u.onError)==null||f.call(u,p)}},{emitOnBegin:!0,interval:s});return async()=>{d&&await lt(t,DA,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const f=h.result;r([f])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}function bFe(t){var d,h,f;const{scheme:e,statement:n,...r}=((d=t.match(xFe))==null?void 0:d.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((h=t.match(EFe))==null?void 0:h.groups)??{},u=(f=t.split("Resources:")[1])==null?void 0:f.split(`
- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const xFe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,EFe=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function CFe(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!us(r.address,{strict:!1})||e&&!D1(r.address,e))return!1}catch{return!1}return!0}async function _Fe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=e,u=bFe(i);if(!u.address||!CFe({address:n,domain:r,message:u,nonce:s,scheme:o,time:c}))return!1;const h=AA(i);return VA(t,{address:u.address,hash:h,signature:a,...l})}async function pD(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var a,c,l;const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Fe(r)]:[e]},{retryCount:0}),o=(((l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||eB)(i);if(o.status==="reverted"&&n)throw new ere({receipt:o});return o}function gD(t){return{call:e=>s8(t,e),createAccessList:e=>roe(t,e),createBlockFilter:()=>MUe(t),createContractEventFilter:e=>Lse(t,e),createEventFilter:e=>ioe(t,e),createPendingTransactionFilter:()=>soe(t),estimateContractGas:e=>oUe(t,e),estimateGas:e=>QB(t,e),getBalance:e=>jUe(t,e),getBlobBaseFee:()=>BUe(t),getBlock:e=>Od(t,e),getBlockNumber:e=>C8(t,e),getBlockTransactionCount:e=>DUe(t,e),getBytecode:e=>S8(t,e),getChainId:()=>zh(t),getCode:e=>S8(t,e),getContractEvents:e=>Hse(t,e),getEip712Domain:e=>UUe(t,e),getEnsAddress:e=>vUe(t,e),getEnsAvatar:e=>NUe(t,e),getEnsName:e=>OUe(t,e),getEnsResolver:e=>RUe(t,e),getEnsText:e=>noe(t,e),getFeeHistory:e=>WUe(t,e),estimateFeesPerGas:e=>Wse(t,e),getFilterChanges:e=>BA(t,e),getFilterLogs:e=>qUe(t,e),getGasPrice:()=>KB(t),getLogs:e=>XB(t,e),getProof:e=>KUe(t,e),estimateMaxPriorityFeePerGas:e=>sUe(t,e),fillTransaction:e=>ZB(t,e),getStorageAt:e=>GUe(t,e),getTransaction:e=>uD(t,e),getTransactionConfirmations:e=>ZUe(t,e),getTransactionCount:e=>tB(t,e),getTransactionReceipt:e=>WA(t,e),multicall:e=>YUe(t,e),prepareTransactionRequest:e=>E8(t,e),readContract:e=>Cc(t,e),sendRawTransaction:e=>tD(t,e),sendRawTransactionSync:e=>pD(t,e),simulate:e=>dD(t,e),simulateBlocks:e=>dD(t,e),simulateCalls:e=>oFe(t,e),simulateContract:e=>aUe(t,e),verifyHash:e=>VA(t,e),verifyMessage:e=>gFe(t,e),verifySiweMessage:e=>_Fe(t,e),verifyTypedData:e=>mFe(t,e),uninstallFilter:e=>DA(t,e),waitForTransactionReceipt:e=>hoe(t,e),watchBlocks:e=>yFe(t,e),watchBlockNumber:e=>doe(t,e),watchContractEvent:e=>pUe(t,e),watchEvent:e=>wFe(t,e),watchPendingTransactions:e=>vFe(t,e)}}function Hh(t){const{key:e="public",name:n="Public Client"}=t;return iD({...t,key:e,name:n,type:"publicClient"}).extend(gD)}async function AFe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Fe(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function SFe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=oA({abi:n,args:r,bytecode:i});return LA(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function IFe(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>I4(r))}async function kFe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Br(n):void 0,s=r?[i==null?void 0:i.address,[Fe(r)]]:[i==null?void 0:i.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}async function $Fe(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function mD(t,e){var c;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Rd({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Br(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Br(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await lt(t,zh,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await lt(t,tB,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&D1(o.address,s.address))&&(a.nonce+=1)),a}async function TFe(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Gi(n))}async function PFe(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function NFe(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),i=await Zse(t,e);return await UA(t,{...e,id:i.id,timeout:r})}const yD=new R1(128);async function foe(t,e){var _,T,I,R;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,pollingInterval:p,throwOnReceiptRevert:m,type:w,value:y,...b}=e,v=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Rd({docsPath:"/docs/actions/wallet/sendTransactionSync"});const E=n?Br(n):null;try{Ip(e);const S=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await aA({authorization:s[0]}).catch(()=>{throw new xe("`to` is required. Could not infer from `authorizationList`.")})})();if((E==null?void 0:E.type)==="json-rpc"||E===null){let B;r!==null&&(B=await lt(t,zh,"getChainId")({}),Qj({currentChainId:B,chain:r}));const j=(I=(T=(_=t.chain)==null?void 0:_.formatters)==null?void 0:T.transactionRequest)==null?void 0:I.format,M=(j||$g)({...mb(b,{format:j}),accessList:i,account:E,authorizationList:s,blobs:o,chainId:B,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,to:S,type:w,value:y},"sendTransaction"),C=yD.get(t.uid),x=C?"wallet_sendTransaction":"eth_sendTransaction",A=await(async()=>{try{return await t.request({method:x,params:[M]},{retryCount:0})}catch(O){if(C===!1)throw O;const P=O;if(P.name==="InvalidInputRpcError"||P.name==="InvalidParamsRpcError"||P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(D=>(yD.set(t.uid,!0),D)).catch(D=>{const L=D;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(yD.set(t.uid,!1),P):L});throw P}})(),N=await lt(t,hoe,"waitForTransactionReceipt")({checkReplacement:!1,hash:A,pollingInterval:p,timeout:v});if(m&&N.status==="reverted")throw new ere({receipt:N});return N}if((E==null?void 0:E.type)==="local"){const B=await lt(t,E8,"prepareTransactionRequest")({account:E,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:f,nonceManager:E.nonceManager,parameters:[...YB,"sidecars"],type:w,value:y,...b,to:S}),j=(R=r==null?void 0:r.serializers)==null?void 0:R.transaction,U=await E.signTransaction(B,{serializer:j});return await lt(t,pD,"sendRawTransactionSync")({serializedTransaction:U,throwOnReceiptRevert:m,timeout:e.timeout})}throw(E==null?void 0:E.type)==="smart"?new Q1({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Q1({docsPath:"/docs/actions/wallet/sendTransactionSync",type:E==null?void 0:E.type})}catch(S){throw S instanceof Q1?S:_A(S,{...e,account:E,chain:e.chain||void 0})}}async function OFe(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function RFe(t,e){const{account:n=t.account}=e;if(!n)throw new Rd({docsPath:"/docs/eip7702/signAuthorization"});const r=Br(n);if(!r.signAuthorization)throw new Q1({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await mD(t,e);return r.signAuthorization(i)}async function MFe(t,{account:e=t.account,message:n}){if(!e)throw new Rd({docsPath:"/docs/actions/wallet/signMessage"});const r=Br(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?vg(n):n.raw instanceof Uint8Array?Cr(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function jFe(t,e){var l,u,d,h;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Rd({docsPath:"/docs/actions/wallet/signTransaction"});const s=Br(n);Ip({account:s,...e});const o=await lt(t,zh,"getChainId")({});r!==null&&Qj({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||$g;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(h=(d=t.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c({...i,account:s},"signTransaction"),chainId:Fe(o),from:s.address}]},{retryCount:0})}async function BFe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Rd({docsPath:"/docs/actions/wallet/signTypedData"});const o=Br(n),a={EIP712Domain:rie({domain:r}),...e.types};if(nie({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=lRe({domain:r,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function DFe(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Fe(e)}]},{retryCount:0})}async function LFe(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function UFe(t,e){return _8.internal(t,foe,"sendTransactionSync",e)}function FFe(t){return{addChain:e=>AFe(t,e),deployContract:e=>SFe(t,e),fillTransaction:e=>ZB(t,e),getAddresses:()=>IFe(t),getCallsStatus:e=>Yse(t,e),getCapabilities:e=>kFe(t,e),getChainId:()=>zh(t),getPermissions:()=>$Fe(t),prepareAuthorization:e=>mD(t,e),prepareTransactionRequest:e=>E8(t,e),requestAddresses:()=>TFe(t),requestPermissions:e=>PFe(t,e),sendCalls:e=>Zse(t,e),sendCallsSync:e=>NFe(t,e),sendRawTransaction:e=>tD(t,e),sendRawTransactionSync:e=>pD(t,e),sendTransaction:e=>LA(t,e),sendTransactionSync:e=>foe(t,e),showCallsStatus:e=>OFe(t,e),signAuthorization:e=>RFe(t,e),signMessage:e=>MFe(t,e),signTransaction:e=>jFe(t,e),signTypedData:e=>BFe(t,e),switchChain:e=>DFe(t,e),waitForCallsStatus:e=>UA(t,e),watchAsset:e=>LFe(t,e),writeContract:e=>_8(t,e),writeContractSync:e=>UFe(t,e)}}function poe(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return iD({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(FFe)}function wD({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=Jse();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:HNe(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function goe(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>wD({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function moe(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=zFe,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=wD({key:n,name:r,async request({method:m,params:w}){let y;const b=async(v=0)=>{const E=h[v]({...d,chain:c,retryCount:0,timeout:u});try{const _=await E.request({method:m,params:w});return f({method:m,params:w,response:_,transport:E,status:"success"}),_}catch(_){if(f({error:_,method:m,params:w,transport:E,status:"error"}),s(_)||v===h.length-1||(y??(y=h.slice(v+1).some(T=>{const{include:I,exclude:R}=T({chain:c}).config.methods||{};return I?I.includes(m):R?!R.includes(m):!0})),!y))throw _;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>f=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};WFe({chain:c,interval:m.interval??l,onTransports:w=>h=w,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return p}}function zFe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===lb.code||t.code===q1.code||U1.nodeMessage.test(t.message)||t.code===5e3))}function WFe({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async m=>{const w=m({chain:t,retryCount:0,timeout:s}),y=Date.now();let b,v;try{await(r?r({transport:w}):w.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-y,success:v}}));u.push(h),u.length>i&&u.shift();const f=Math.max(...u.map(m=>Math.max(...m.map(({latency:w})=>w)))),p=o.map((m,w)=>{const y=u.map(T=>T[w].latency),v=1-y.reduce((T,I)=>T+I,0)/y.length/f,E=u.map(T=>T[w].success),_=E.reduce((T,I)=>T+I,0)/E.length;return _===0?[0,w]:[l*v+c*_,w]}).sort((m,w)=>w[0]-m[0]);n(p.map(([,m])=>o[m])),await dA(e),d()};d()}class qFe extends xe{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Ua(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:h,retryCount:f,timeout:p})=>{const{batchSize:m=1e3,wait:w=0}=typeof n=="object"?n:{},y=e.retryCount??f,b=p??e.timeout??1e4,v=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!v)throw new qFe;const E=nRe(v,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:b});return wD({key:s,methods:o,name:a,async request({method:_,params:T}){const I={method:_,params:T},{schedule:R}=Vre({id:v,wait:w,shouldSplitBatch(U){return U.length>m},fn:U=>E.request({body:U}),sort:(U,M)=>U.id-M.id}),S=async U=>n?R(U):[await E.request({body:U})],[{error:B,result:j}]=await S(I);if(d)return{error:B,result:j};if(B)throw new Lj({body:I,error:B,url:v});return j},retryCount:y,retryDelay:u,timeout:b,type:"http"},{fetchOptions:i,url:v})}}function HFe(t){const{r:e,s:n}=EB.Signature.fromCompact(t.slice(2,130)),r=+`0x${t.slice(130)}`,[i,s]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof i<"u"?{r:Fe(e,{size:32}),s:Fe(n,{size:32}),v:i,yParity:s}:{r:Fe(e,{size:32}),s:Fe(n,{size:32}),yParity:s}}let VFe=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(bje,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const KFe=new TextEncoder,yoe=new TextDecoder,GFe=t=>{let e=t;typeof e=="string"&&(e=KFe.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},ZFe=t=>GFe(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),YFe=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},JFe=t=>{let e=t;e instanceof Uint8Array&&(e=yoe.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return YFe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class QFe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class ey extends QFe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function XFe(t){return typeof t=="object"&&t!==null}function eze(t){if(!XFe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const ty=ZFe,tze=JFe;function vD(t){if(typeof t!="string")throw new ey("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new ey("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new ey("Invalid JWT");if(!e)throw new ey("JWTs must contain a payload");let r;try{r=tze(e)}catch{throw new ey("Failed to base64url decode the payload")}let i;try{i=JSON.parse(yoe.decode(r))}catch{throw new ey("Failed to parse the decoded payload as JSON")}if(!eze(i))throw new ey("Invalid JWT Claims Set");return i}let I8=class IAe{static parse(e){try{return new IAe(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=vD(e)}},woe=class dJ{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=dJ.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=dJ.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new I8(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(MMe,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};woe.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let nze=class{async revoke(){await this._privyInternal.fetch(Nje,{})}constructor(e){this._privyInternal=e}};function rze(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const Au={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},KA={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Eb={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},bD={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},Su={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},GA={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},ize={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},ZA={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},sze={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},oze={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},aze={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},cze={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},lze={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},voe={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},uze={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},dze={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Iu={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},Vh={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},YA={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},_c={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},k8={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},hze={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},xD={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},ED={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},boe={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},xoe={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},$8=[Iu,xD,lze,Au,KA,Vh,YA,_c,k8,ZA,sze,oze,aze,Su,GA,ize,dze,voe,uze,Eb,bD,ED,xoe,boe,hze,cze],Eoe=new Set($8.map(t=>t.id));function CD(t){let e=t.filter(n=>!Eoe.has(n.id));return $8.concat(e)}const Coe=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=$8.find(s=>s.id===e.id),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?rze(e,r):e});let _D=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Qn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},fze=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const Tg=t=>!!t.id&&t.recovery_method==="privy-v2";let pze=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Tg(this._account))throw new Qn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const gze=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Ac;(Ac={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ac.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ac.INVALID_DATA="invalid_data",Ac.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ac.ALLOWLIST_REJECTED="allowlist_rejected",Ac.OAUTH_USER_DENIED="oauth_user_denied",Ac.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ac.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ac.MUST_BE_AUTHENTICATED="must_be_authenticated",Ac.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ac.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ac.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ac.INVALID_CREDENTIALS="invalid_credentials";let mze=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},JA=class extends Error{constructor(e,n){super(n),this.type=e}},_oe=class extends mze{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Aoe=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Md={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function yze(t){let e=t.type;return typeof e=="string"&&gze.includes(e)}function AD(t){return yze(t)&&t.type==="wallet_not_on_device"}async function SD(t,{request:e}){return await t.fetchPrivyRoute(Pje,{body:e})}async function ID({context:t,chainType:e}){return{wallet:await SD(t,{request:{chain_type:e,owner_id:void 0}})}}const wze="logger/5.8.0";let Soe=!1,Ioe=!1;const QA={debug:1,default:2,info:2,warning:3,error:4,off:5};let koe=QA.default,kD=null;function vze(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const $oe=vze();var $D;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})($D||($D={}));var jd;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(jd||(jd={}));const Toe="0123456789abcdef";class ke{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();QA[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(koe>QA[r])&&console.log.apply(console,n)}debug(...e){this._log(ke.levels.DEBUG,e)}info(...e){this._log(ke.levels.INFO,e)}warn(...e){this._log(ke.levels.WARNING,e)}makeError(e,n,r){if(Ioe)return this.makeError("censored error",n,{});n||(n=ke.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(c=>{const l=r[c];try{if(l instanceof Uint8Array){let u="";for(let d=0;d<l.length;d++)u+=Toe[l[d]>>4],u+=Toe[l[d]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(r[c].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case jd.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case jd.CALL_EXCEPTION:case jd.INSUFFICIENT_FUNDS:case jd.MISSING_NEW:case jd.NONCE_EXPIRED:case jd.REPLACEMENT_UNDERPRICED:case jd.TRANSACTION_REPLACED:case jd.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(c){a[c]=r[c]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,ke.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){$oe&&this.throwError("platform missing String.prototype.normalize",ke.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:$oe})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,ke.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,ke.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,ke.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,ke.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",ke.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",ke.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ke.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return kD||(kD=new ke(wze)),kD}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",ke.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Soe){if(!e)return;this.globalLogger().throwError("error censorship permanent",ke.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ioe=!!e,Soe=!!n}static setLogLevel(e){const n=QA[e.toLowerCase()];if(n==null){ke.globalLogger().warn("invalid log level - "+e);return}koe=n}static from(e){return new ke(e)}}ke.errors=jd,ke.levels=$D;const bze="properties/5.8.0";var xze=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const XA=new ke(bze);function Tn(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function T8(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function mo(t){return xze(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function Eze(t,e){(!t||typeof t!="object")&&XA.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||XA.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function Sc(t){const e={};for(const n in t)e[n]=t[n];return e}const Cze={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Poe(t){if(t==null||Cze[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!Poe(r))return!1}return!0}return XA.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function _ze(t){if(Poe(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>P8(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Tn(e,n,P8(r))}return e}return XA.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function P8(t){return _ze(t)}class Aze{constructor(e){for(const n in e)this[n]=P8(e[n])}}const Sze="abstract-signer/5.8.0";var Bd=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const ku=new ke(Sze),Ize=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],kze=[ke.errors.INSUFFICIENT_FUNDS,ke.errors.NONCE_EXPIRED,ke.errors.REPLACEMENT_UNDERPRICED];let Noe=class kAe{constructor(){ku.checkAbstract(new.target,kAe),Tn(this,"_isSigner",!0)}getBalance(e){return Bd(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Bd(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Bd(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield mo(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return Bd(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield mo(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return Bd(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return Bd(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Bd(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Bd(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Bd(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)Ize.indexOf(r)===-1&&ku.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=Sc(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&ku.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return Bd(this,void 0,void 0,function*(){const n=yield mo(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>Bd(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&ku.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?ku.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&ku.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&ku.throwError("network does not support EIP-1559",ke.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):ku.throwError("failed to get consistent fee data",ke.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(kze.indexOf(i.code)>=0)throw i;return ku.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ke.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&ku.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield mo(n)})}_checkProvider(e){this.provider||ku.throwError("missing provider",ke.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}};class TD extends Noe{constructor(e,n){super(),Tn(this,"address",e),Tn(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{ku.throwError(e,ke.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new TD(this.address,e)}}var PD={exports:{}};const $ze=xv(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));PD.exports,function(t){(function(e,n){function r(M,C){if(!M)throw new Error(C||"Assertion failed")}function i(M,C){M.super_=C;var x=function(){};x.prototype=C.prototype,M.prototype=new x,M.prototype.constructor=M}function s(M,C,x){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((C==="le"||C==="be")&&(x=C,C=10),this._init(M||0,C||10,x||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=$ze.Buffer}catch{}s.isBN=function(C){return C instanceof s?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===s.wordSize&&Array.isArray(C.words)},s.max=function(C,x){return C.cmp(x)>0?C:x},s.min=function(C,x){return C.cmp(x)<0?C:x},s.prototype._init=function(C,x,A){if(typeof C=="number")return this._initNumber(C,x,A);if(typeof C=="object")return this._initArray(C,x,A);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),C=C.toString().replace(/\s+/g,"");var N=0;C[0]==="-"&&(N++,this.negative=1),N<C.length&&(x===16?this._parseHex(C,N,A):(this._parseBase(C,x,N),A==="le"&&this._initArray(this.toArray(),x,A)))},s.prototype._initNumber=function(C,x,A){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(r(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),x,A)},s.prototype._initArray=function(C,x,A){if(r(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var O,P,D=0;if(A==="be")for(N=C.length-1,O=0;N>=0;N-=3)P=C[N]|C[N-1]<<8|C[N-2]<<16,this.words[O]|=P<<D&67108863,this.words[O+1]=P>>>26-D&67108863,D+=24,D>=26&&(D-=26,O++);else if(A==="le")for(N=0,O=0;N<C.length;N+=3)P=C[N]|C[N+1]<<8|C[N+2]<<16,this.words[O]|=P<<D&67108863,this.words[O+1]=P>>>26-D&67108863,D+=24,D>=26&&(D-=26,O++);return this._strip()};function a(M,C){var x=M.charCodeAt(C);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+M)}function c(M,C,x){var A=a(M,x);return x-1>=C&&(A|=a(M,x-1)<<4),A}s.prototype._parseHex=function(C,x,A){this.length=Math.ceil((C.length-x)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var O=0,P=0,D;if(A==="be")for(N=C.length-1;N>=x;N-=2)D=c(C,x,N)<<O,this.words[P]|=D&67108863,O>=18?(O-=18,P+=1,this.words[P]|=D>>>26):O+=8;else{var L=C.length-x;for(N=L%2===0?x+1:x;N<C.length;N+=2)D=c(C,x,N)<<O,this.words[P]|=D&67108863,O>=18?(O-=18,P+=1,this.words[P]|=D>>>26):O+=8}this._strip()};function l(M,C,x,A){for(var N=0,O=0,P=Math.min(M.length,x),D=C;D<P;D++){var L=M.charCodeAt(D)-48;N*=A,L>=49?O=L-49+10:L>=17?O=L-17+10:O=L,r(L>=0&&O<A,"Invalid character"),N+=O}return N}s.prototype._parseBase=function(C,x,A){this.words=[0],this.length=1;for(var N=0,O=1;O<=67108863;O*=x)N++;N--,O=O/x|0;for(var P=C.length-A,D=P%N,L=Math.min(P,P-D)+A,$=0,q=A;q<L;q+=N)$=l(C,q,q+N,x),this.imuln(O),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(D!==0){var V=1;for($=l(C,q,C.length,x),q=0;q<D;q++)V*=x;this.imuln(V),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this._strip()},s.prototype.copy=function(C){C.words=new Array(this.length);for(var x=0;x<this.length;x++)C.words[x]=this.words[x];C.length=this.length,C.negative=this.negative,C.red=this.red};function u(M,C){M.words=C.words,M.length=C.length,M.negative=C.negative,M.red=C.red}if(s.prototype._move=function(C){u(C,this)},s.prototype.clone=function(){var C=new s(null);return this.copy(C),C},s.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(C,x){C=C||10,x=x|0||1;var A;if(C===16||C==="hex"){A="";for(var N=0,O=0,P=0;P<this.length;P++){var D=this.words[P],L=((D<<N|O)&16777215).toString(16);O=D>>>24-N&16777215,N+=2,N>=26&&(N-=26,P--),O!==0||P!==this.length-1?A=h[6-L.length]+L+A:A=L+A}for(O!==0&&(A=O.toString(16)+A);A.length%x!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(C===(C|0)&&C>=2&&C<=36){var $=f[C],q=p[C];A="";var V=this.clone();for(V.negative=0;!V.isZero();){var F=V.modrn(q).toString(C);V=V.idivn(q),V.isZero()?A=F+A:A=h[$-F.length]+F+A}for(this.isZero()&&(A="0"+A);A.length%x!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(C,x){return this.toArrayLike(o,C,x)}),s.prototype.toArray=function(C,x){return this.toArrayLike(Array,C,x)};var m=function(C,x){return C.allocUnsafe?C.allocUnsafe(x):new C(x)};s.prototype.toArrayLike=function(C,x,A){this._strip();var N=this.byteLength(),O=A||Math.max(1,N);r(N<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0");var P=m(C,O),D=x==="le"?"LE":"BE";return this["_toArrayLike"+D](P,N),P},s.prototype._toArrayLikeLE=function(C,x){for(var A=0,N=0,O=0,P=0;O<this.length;O++){var D=this.words[O]<<P|N;C[A++]=D&255,A<C.length&&(C[A++]=D>>8&255),A<C.length&&(C[A++]=D>>16&255),P===6?(A<C.length&&(C[A++]=D>>24&255),N=0,P=0):(N=D>>>24,P+=2)}if(A<C.length)for(C[A++]=N;A<C.length;)C[A++]=0},s.prototype._toArrayLikeBE=function(C,x){for(var A=C.length-1,N=0,O=0,P=0;O<this.length;O++){var D=this.words[O]<<P|N;C[A--]=D&255,A>=0&&(C[A--]=D>>8&255),A>=0&&(C[A--]=D>>16&255),P===6?(A>=0&&(C[A--]=D>>24&255),N=0,P=0):(N=D>>>24,P+=2)}if(A>=0)for(C[A--]=N;A>=0;)C[A--]=0},Math.clz32?s.prototype._countBits=function(C){return 32-Math.clz32(C)}:s.prototype._countBits=function(C){var x=C,A=0;return x>=4096&&(A+=13,x>>>=13),x>=64&&(A+=7,x>>>=7),x>=8&&(A+=4,x>>>=4),x>=2&&(A+=2,x>>>=2),A+x},s.prototype._zeroBits=function(C){if(C===0)return 26;var x=C,A=0;return x&8191||(A+=13,x>>>=13),x&127||(A+=7,x>>>=7),x&15||(A+=4,x>>>=4),x&3||(A+=2,x>>>=2),x&1||A++,A},s.prototype.bitLength=function(){var C=this.words[this.length-1],x=this._countBits(C);return(this.length-1)*26+x};function w(M){for(var C=new Array(M.bitLength()),x=0;x<C.length;x++){var A=x/26|0,N=x%26;C[x]=M.words[A]>>>N&1}return C}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,x=0;x<this.length;x++){var A=this._zeroBits(this.words[x]);if(C+=A,A!==26)break}return C},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},s.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var x=0;x<C.length;x++)this.words[x]=this.words[x]|C.words[x];return this._strip()},s.prototype.ior=function(C){return r((this.negative|C.negative)===0),this.iuor(C)},s.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},s.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},s.prototype.iuand=function(C){var x;this.length>C.length?x=C:x=this;for(var A=0;A<x.length;A++)this.words[A]=this.words[A]&C.words[A];return this.length=x.length,this._strip()},s.prototype.iand=function(C){return r((this.negative|C.negative)===0),this.iuand(C)},s.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},s.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},s.prototype.iuxor=function(C){var x,A;this.length>C.length?(x=this,A=C):(x=C,A=this);for(var N=0;N<A.length;N++)this.words[N]=x.words[N]^A.words[N];if(this!==x)for(;N<x.length;N++)this.words[N]=x.words[N];return this.length=x.length,this._strip()},s.prototype.ixor=function(C){return r((this.negative|C.negative)===0),this.iuxor(C)},s.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},s.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},s.prototype.inotn=function(C){r(typeof C=="number"&&C>=0);var x=Math.ceil(C/26)|0,A=C%26;this._expand(x),A>0&&x--;for(var N=0;N<x;N++)this.words[N]=~this.words[N]&67108863;return A>0&&(this.words[N]=~this.words[N]&67108863>>26-A),this._strip()},s.prototype.notn=function(C){return this.clone().inotn(C)},s.prototype.setn=function(C,x){r(typeof C=="number"&&C>=0);var A=C/26|0,N=C%26;return this._expand(A+1),x?this.words[A]=this.words[A]|1<<N:this.words[A]=this.words[A]&~(1<<N),this._strip()},s.prototype.iadd=function(C){var x;if(this.negative!==0&&C.negative===0)return this.negative=0,x=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,x=this.isub(C),C.negative=1,x._normSign();var A,N;this.length>C.length?(A=this,N=C):(A=C,N=this);for(var O=0,P=0;P<N.length;P++)x=(A.words[P]|0)+(N.words[P]|0)+O,this.words[P]=x&67108863,O=x>>>26;for(;O!==0&&P<A.length;P++)x=(A.words[P]|0)+O,this.words[P]=x&67108863,O=x>>>26;if(this.length=A.length,O!==0)this.words[this.length]=O,this.length++;else if(A!==this)for(;P<A.length;P++)this.words[P]=A.words[P];return this},s.prototype.add=function(C){var x;return C.negative!==0&&this.negative===0?(C.negative=0,x=this.sub(C),C.negative^=1,x):C.negative===0&&this.negative!==0?(this.negative=0,x=C.sub(this),this.negative=1,x):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},s.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var x=this.iadd(C);return C.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var A=this.cmp(C);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,O;A>0?(N=this,O=C):(N=C,O=this);for(var P=0,D=0;D<O.length;D++)x=(N.words[D]|0)-(O.words[D]|0)+P,P=x>>26,this.words[D]=x&67108863;for(;P!==0&&D<N.length;D++)x=(N.words[D]|0)+P,P=x>>26,this.words[D]=x&67108863;if(P===0&&D<N.length&&N!==this)for(;D<N.length;D++)this.words[D]=N.words[D];return this.length=Math.max(this.length,D),N!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(C){return this.clone().isub(C)};function y(M,C,x){x.negative=C.negative^M.negative;var A=M.length+C.length|0;x.length=A,A=A-1|0;var N=M.words[0]|0,O=C.words[0]|0,P=N*O,D=P&67108863,L=P/67108864|0;x.words[0]=D;for(var $=1;$<A;$++){for(var q=L>>>26,V=L&67108863,F=Math.min($,C.length-1),Z=Math.max(0,$-M.length+1);Z<=F;Z++){var X=$-Z|0;N=M.words[X]|0,O=C.words[Z]|0,P=N*O+V,q+=P/67108864|0,V=P&67108863}x.words[$]=V|0,L=q|0}return L!==0?x.words[$]=L|0:x.length--,x._strip()}var b=function(C,x,A){var N=C.words,O=x.words,P=A.words,D=0,L,$,q,V=N[0]|0,F=V&8191,Z=V>>>13,X=N[1]|0,Y=X&8191,te=X>>>13,fe=N[2]|0,he=fe&8191,pe=fe>>>13,be=N[3]|0,ge=be&8191,ye=be>>>13,ft=N[4]|0,we=ft&8191,Me=ft>>>13,Oe=N[5]|0,Ee=Oe&8191,$e=Oe>>>13,zt=N[6]|0,Se=zt&8191,qe=zt>>>13,Ye=N[7]|0,kt=Ye&8191,K=Ye>>>13,z=N[8]|0,W=z&8191,J=z>>>13,ee=N[9]|0,ce=ee&8191,se=ee>>>13,Re=O[0]|0,et=Re&8191,He=Re>>>13,nt=O[1]|0,Pe=nt&8191,Wt=nt>>>13,sn=O[2]|0,nn=sn&8191,pt=sn>>>13,ri=O[3]|0,xt=ri&8191,$n=ri>>>13,uc=O[4]|0,Yn=uc&8191,Hn=uc>>>13,H=O[5]|0,G=H&8191,ne=H>>>13,re=O[6]|0,ae=re&8191,de=re>>>13,Te=O[7]|0,Ie=Te&8191,gt=Te>>>13,rn=O[8]|0,Be=rn&8191,ct=rn>>>13,Dt=O[9]|0,dt=Dt&8191,je=Dt>>>13;A.negative=C.negative^x.negative,A.length=19,L=Math.imul(F,et),$=Math.imul(F,He),$=$+Math.imul(Z,et)|0,q=Math.imul(Z,He);var Kt=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,L=Math.imul(Y,et),$=Math.imul(Y,He),$=$+Math.imul(te,et)|0,q=Math.imul(te,He),L=L+Math.imul(F,Pe)|0,$=$+Math.imul(F,Wt)|0,$=$+Math.imul(Z,Pe)|0,q=q+Math.imul(Z,Wt)|0;var un=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(un>>>26)|0,un&=67108863,L=Math.imul(he,et),$=Math.imul(he,He),$=$+Math.imul(pe,et)|0,q=Math.imul(pe,He),L=L+Math.imul(Y,Pe)|0,$=$+Math.imul(Y,Wt)|0,$=$+Math.imul(te,Pe)|0,q=q+Math.imul(te,Wt)|0,L=L+Math.imul(F,nn)|0,$=$+Math.imul(F,pt)|0,$=$+Math.imul(Z,nn)|0,q=q+Math.imul(Z,pt)|0;var In=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(In>>>26)|0,In&=67108863,L=Math.imul(ge,et),$=Math.imul(ge,He),$=$+Math.imul(ye,et)|0,q=Math.imul(ye,He),L=L+Math.imul(he,Pe)|0,$=$+Math.imul(he,Wt)|0,$=$+Math.imul(pe,Pe)|0,q=q+Math.imul(pe,Wt)|0,L=L+Math.imul(Y,nn)|0,$=$+Math.imul(Y,pt)|0,$=$+Math.imul(te,nn)|0,q=q+Math.imul(te,pt)|0,L=L+Math.imul(F,xt)|0,$=$+Math.imul(F,$n)|0,$=$+Math.imul(Z,xt)|0,q=q+Math.imul(Z,$n)|0;var zn=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(zn>>>26)|0,zn&=67108863,L=Math.imul(we,et),$=Math.imul(we,He),$=$+Math.imul(Me,et)|0,q=Math.imul(Me,He),L=L+Math.imul(ge,Pe)|0,$=$+Math.imul(ge,Wt)|0,$=$+Math.imul(ye,Pe)|0,q=q+Math.imul(ye,Wt)|0,L=L+Math.imul(he,nn)|0,$=$+Math.imul(he,pt)|0,$=$+Math.imul(pe,nn)|0,q=q+Math.imul(pe,pt)|0,L=L+Math.imul(Y,xt)|0,$=$+Math.imul(Y,$n)|0,$=$+Math.imul(te,xt)|0,q=q+Math.imul(te,$n)|0,L=L+Math.imul(F,Yn)|0,$=$+Math.imul(F,Hn)|0,$=$+Math.imul(Z,Yn)|0,q=q+Math.imul(Z,Hn)|0;var Vn=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,L=Math.imul(Ee,et),$=Math.imul(Ee,He),$=$+Math.imul($e,et)|0,q=Math.imul($e,He),L=L+Math.imul(we,Pe)|0,$=$+Math.imul(we,Wt)|0,$=$+Math.imul(Me,Pe)|0,q=q+Math.imul(Me,Wt)|0,L=L+Math.imul(ge,nn)|0,$=$+Math.imul(ge,pt)|0,$=$+Math.imul(ye,nn)|0,q=q+Math.imul(ye,pt)|0,L=L+Math.imul(he,xt)|0,$=$+Math.imul(he,$n)|0,$=$+Math.imul(pe,xt)|0,q=q+Math.imul(pe,$n)|0,L=L+Math.imul(Y,Yn)|0,$=$+Math.imul(Y,Hn)|0,$=$+Math.imul(te,Yn)|0,q=q+Math.imul(te,Hn)|0,L=L+Math.imul(F,G)|0,$=$+Math.imul(F,ne)|0,$=$+Math.imul(Z,G)|0,q=q+Math.imul(Z,ne)|0;var Wn=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,L=Math.imul(Se,et),$=Math.imul(Se,He),$=$+Math.imul(qe,et)|0,q=Math.imul(qe,He),L=L+Math.imul(Ee,Pe)|0,$=$+Math.imul(Ee,Wt)|0,$=$+Math.imul($e,Pe)|0,q=q+Math.imul($e,Wt)|0,L=L+Math.imul(we,nn)|0,$=$+Math.imul(we,pt)|0,$=$+Math.imul(Me,nn)|0,q=q+Math.imul(Me,pt)|0,L=L+Math.imul(ge,xt)|0,$=$+Math.imul(ge,$n)|0,$=$+Math.imul(ye,xt)|0,q=q+Math.imul(ye,$n)|0,L=L+Math.imul(he,Yn)|0,$=$+Math.imul(he,Hn)|0,$=$+Math.imul(pe,Yn)|0,q=q+Math.imul(pe,Hn)|0,L=L+Math.imul(Y,G)|0,$=$+Math.imul(Y,ne)|0,$=$+Math.imul(te,G)|0,q=q+Math.imul(te,ne)|0,L=L+Math.imul(F,ae)|0,$=$+Math.imul(F,de)|0,$=$+Math.imul(Z,ae)|0,q=q+Math.imul(Z,de)|0;var Nr=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,L=Math.imul(kt,et),$=Math.imul(kt,He),$=$+Math.imul(K,et)|0,q=Math.imul(K,He),L=L+Math.imul(Se,Pe)|0,$=$+Math.imul(Se,Wt)|0,$=$+Math.imul(qe,Pe)|0,q=q+Math.imul(qe,Wt)|0,L=L+Math.imul(Ee,nn)|0,$=$+Math.imul(Ee,pt)|0,$=$+Math.imul($e,nn)|0,q=q+Math.imul($e,pt)|0,L=L+Math.imul(we,xt)|0,$=$+Math.imul(we,$n)|0,$=$+Math.imul(Me,xt)|0,q=q+Math.imul(Me,$n)|0,L=L+Math.imul(ge,Yn)|0,$=$+Math.imul(ge,Hn)|0,$=$+Math.imul(ye,Yn)|0,q=q+Math.imul(ye,Hn)|0,L=L+Math.imul(he,G)|0,$=$+Math.imul(he,ne)|0,$=$+Math.imul(pe,G)|0,q=q+Math.imul(pe,ne)|0,L=L+Math.imul(Y,ae)|0,$=$+Math.imul(Y,de)|0,$=$+Math.imul(te,ae)|0,q=q+Math.imul(te,de)|0,L=L+Math.imul(F,Ie)|0,$=$+Math.imul(F,gt)|0,$=$+Math.imul(Z,Ie)|0,q=q+Math.imul(Z,gt)|0;var Ot=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,L=Math.imul(W,et),$=Math.imul(W,He),$=$+Math.imul(J,et)|0,q=Math.imul(J,He),L=L+Math.imul(kt,Pe)|0,$=$+Math.imul(kt,Wt)|0,$=$+Math.imul(K,Pe)|0,q=q+Math.imul(K,Wt)|0,L=L+Math.imul(Se,nn)|0,$=$+Math.imul(Se,pt)|0,$=$+Math.imul(qe,nn)|0,q=q+Math.imul(qe,pt)|0,L=L+Math.imul(Ee,xt)|0,$=$+Math.imul(Ee,$n)|0,$=$+Math.imul($e,xt)|0,q=q+Math.imul($e,$n)|0,L=L+Math.imul(we,Yn)|0,$=$+Math.imul(we,Hn)|0,$=$+Math.imul(Me,Yn)|0,q=q+Math.imul(Me,Hn)|0,L=L+Math.imul(ge,G)|0,$=$+Math.imul(ge,ne)|0,$=$+Math.imul(ye,G)|0,q=q+Math.imul(ye,ne)|0,L=L+Math.imul(he,ae)|0,$=$+Math.imul(he,de)|0,$=$+Math.imul(pe,ae)|0,q=q+Math.imul(pe,de)|0,L=L+Math.imul(Y,Ie)|0,$=$+Math.imul(Y,gt)|0,$=$+Math.imul(te,Ie)|0,q=q+Math.imul(te,gt)|0,L=L+Math.imul(F,Be)|0,$=$+Math.imul(F,ct)|0,$=$+Math.imul(Z,Be)|0,q=q+Math.imul(Z,ct)|0;var qi=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(qi>>>26)|0,qi&=67108863,L=Math.imul(ce,et),$=Math.imul(ce,He),$=$+Math.imul(se,et)|0,q=Math.imul(se,He),L=L+Math.imul(W,Pe)|0,$=$+Math.imul(W,Wt)|0,$=$+Math.imul(J,Pe)|0,q=q+Math.imul(J,Wt)|0,L=L+Math.imul(kt,nn)|0,$=$+Math.imul(kt,pt)|0,$=$+Math.imul(K,nn)|0,q=q+Math.imul(K,pt)|0,L=L+Math.imul(Se,xt)|0,$=$+Math.imul(Se,$n)|0,$=$+Math.imul(qe,xt)|0,q=q+Math.imul(qe,$n)|0,L=L+Math.imul(Ee,Yn)|0,$=$+Math.imul(Ee,Hn)|0,$=$+Math.imul($e,Yn)|0,q=q+Math.imul($e,Hn)|0,L=L+Math.imul(we,G)|0,$=$+Math.imul(we,ne)|0,$=$+Math.imul(Me,G)|0,q=q+Math.imul(Me,ne)|0,L=L+Math.imul(ge,ae)|0,$=$+Math.imul(ge,de)|0,$=$+Math.imul(ye,ae)|0,q=q+Math.imul(ye,de)|0,L=L+Math.imul(he,Ie)|0,$=$+Math.imul(he,gt)|0,$=$+Math.imul(pe,Ie)|0,q=q+Math.imul(pe,gt)|0,L=L+Math.imul(Y,Be)|0,$=$+Math.imul(Y,ct)|0,$=$+Math.imul(te,Be)|0,q=q+Math.imul(te,ct)|0,L=L+Math.imul(F,dt)|0,$=$+Math.imul(F,je)|0,$=$+Math.imul(Z,dt)|0,q=q+Math.imul(Z,je)|0;var dn=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(dn>>>26)|0,dn&=67108863,L=Math.imul(ce,Pe),$=Math.imul(ce,Wt),$=$+Math.imul(se,Pe)|0,q=Math.imul(se,Wt),L=L+Math.imul(W,nn)|0,$=$+Math.imul(W,pt)|0,$=$+Math.imul(J,nn)|0,q=q+Math.imul(J,pt)|0,L=L+Math.imul(kt,xt)|0,$=$+Math.imul(kt,$n)|0,$=$+Math.imul(K,xt)|0,q=q+Math.imul(K,$n)|0,L=L+Math.imul(Se,Yn)|0,$=$+Math.imul(Se,Hn)|0,$=$+Math.imul(qe,Yn)|0,q=q+Math.imul(qe,Hn)|0,L=L+Math.imul(Ee,G)|0,$=$+Math.imul(Ee,ne)|0,$=$+Math.imul($e,G)|0,q=q+Math.imul($e,ne)|0,L=L+Math.imul(we,ae)|0,$=$+Math.imul(we,de)|0,$=$+Math.imul(Me,ae)|0,q=q+Math.imul(Me,de)|0,L=L+Math.imul(ge,Ie)|0,$=$+Math.imul(ge,gt)|0,$=$+Math.imul(ye,Ie)|0,q=q+Math.imul(ye,gt)|0,L=L+Math.imul(he,Be)|0,$=$+Math.imul(he,ct)|0,$=$+Math.imul(pe,Be)|0,q=q+Math.imul(pe,ct)|0,L=L+Math.imul(Y,dt)|0,$=$+Math.imul(Y,je)|0,$=$+Math.imul(te,dt)|0,q=q+Math.imul(te,je)|0;var Or=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Or>>>26)|0,Or&=67108863,L=Math.imul(ce,nn),$=Math.imul(ce,pt),$=$+Math.imul(se,nn)|0,q=Math.imul(se,pt),L=L+Math.imul(W,xt)|0,$=$+Math.imul(W,$n)|0,$=$+Math.imul(J,xt)|0,q=q+Math.imul(J,$n)|0,L=L+Math.imul(kt,Yn)|0,$=$+Math.imul(kt,Hn)|0,$=$+Math.imul(K,Yn)|0,q=q+Math.imul(K,Hn)|0,L=L+Math.imul(Se,G)|0,$=$+Math.imul(Se,ne)|0,$=$+Math.imul(qe,G)|0,q=q+Math.imul(qe,ne)|0,L=L+Math.imul(Ee,ae)|0,$=$+Math.imul(Ee,de)|0,$=$+Math.imul($e,ae)|0,q=q+Math.imul($e,de)|0,L=L+Math.imul(we,Ie)|0,$=$+Math.imul(we,gt)|0,$=$+Math.imul(Me,Ie)|0,q=q+Math.imul(Me,gt)|0,L=L+Math.imul(ge,Be)|0,$=$+Math.imul(ge,ct)|0,$=$+Math.imul(ye,Be)|0,q=q+Math.imul(ye,ct)|0,L=L+Math.imul(he,dt)|0,$=$+Math.imul(he,je)|0,$=$+Math.imul(pe,dt)|0,q=q+Math.imul(pe,je)|0;var Lt=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,L=Math.imul(ce,xt),$=Math.imul(ce,$n),$=$+Math.imul(se,xt)|0,q=Math.imul(se,$n),L=L+Math.imul(W,Yn)|0,$=$+Math.imul(W,Hn)|0,$=$+Math.imul(J,Yn)|0,q=q+Math.imul(J,Hn)|0,L=L+Math.imul(kt,G)|0,$=$+Math.imul(kt,ne)|0,$=$+Math.imul(K,G)|0,q=q+Math.imul(K,ne)|0,L=L+Math.imul(Se,ae)|0,$=$+Math.imul(Se,de)|0,$=$+Math.imul(qe,ae)|0,q=q+Math.imul(qe,de)|0,L=L+Math.imul(Ee,Ie)|0,$=$+Math.imul(Ee,gt)|0,$=$+Math.imul($e,Ie)|0,q=q+Math.imul($e,gt)|0,L=L+Math.imul(we,Be)|0,$=$+Math.imul(we,ct)|0,$=$+Math.imul(Me,Be)|0,q=q+Math.imul(Me,ct)|0,L=L+Math.imul(ge,dt)|0,$=$+Math.imul(ge,je)|0,$=$+Math.imul(ye,dt)|0,q=q+Math.imul(ye,je)|0;var fn=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(fn>>>26)|0,fn&=67108863,L=Math.imul(ce,Yn),$=Math.imul(ce,Hn),$=$+Math.imul(se,Yn)|0,q=Math.imul(se,Hn),L=L+Math.imul(W,G)|0,$=$+Math.imul(W,ne)|0,$=$+Math.imul(J,G)|0,q=q+Math.imul(J,ne)|0,L=L+Math.imul(kt,ae)|0,$=$+Math.imul(kt,de)|0,$=$+Math.imul(K,ae)|0,q=q+Math.imul(K,de)|0,L=L+Math.imul(Se,Ie)|0,$=$+Math.imul(Se,gt)|0,$=$+Math.imul(qe,Ie)|0,q=q+Math.imul(qe,gt)|0,L=L+Math.imul(Ee,Be)|0,$=$+Math.imul(Ee,ct)|0,$=$+Math.imul($e,Be)|0,q=q+Math.imul($e,ct)|0,L=L+Math.imul(we,dt)|0,$=$+Math.imul(we,je)|0,$=$+Math.imul(Me,dt)|0,q=q+Math.imul(Me,je)|0;var jr=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(jr>>>26)|0,jr&=67108863,L=Math.imul(ce,G),$=Math.imul(ce,ne),$=$+Math.imul(se,G)|0,q=Math.imul(se,ne),L=L+Math.imul(W,ae)|0,$=$+Math.imul(W,de)|0,$=$+Math.imul(J,ae)|0,q=q+Math.imul(J,de)|0,L=L+Math.imul(kt,Ie)|0,$=$+Math.imul(kt,gt)|0,$=$+Math.imul(K,Ie)|0,q=q+Math.imul(K,gt)|0,L=L+Math.imul(Se,Be)|0,$=$+Math.imul(Se,ct)|0,$=$+Math.imul(qe,Be)|0,q=q+Math.imul(qe,ct)|0,L=L+Math.imul(Ee,dt)|0,$=$+Math.imul(Ee,je)|0,$=$+Math.imul($e,dt)|0,q=q+Math.imul($e,je)|0;var gi=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(gi>>>26)|0,gi&=67108863,L=Math.imul(ce,ae),$=Math.imul(ce,de),$=$+Math.imul(se,ae)|0,q=Math.imul(se,de),L=L+Math.imul(W,Ie)|0,$=$+Math.imul(W,gt)|0,$=$+Math.imul(J,Ie)|0,q=q+Math.imul(J,gt)|0,L=L+Math.imul(kt,Be)|0,$=$+Math.imul(kt,ct)|0,$=$+Math.imul(K,Be)|0,q=q+Math.imul(K,ct)|0,L=L+Math.imul(Se,dt)|0,$=$+Math.imul(Se,je)|0,$=$+Math.imul(qe,dt)|0,q=q+Math.imul(qe,je)|0;var Pa=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,L=Math.imul(ce,Ie),$=Math.imul(ce,gt),$=$+Math.imul(se,Ie)|0,q=Math.imul(se,gt),L=L+Math.imul(W,Be)|0,$=$+Math.imul(W,ct)|0,$=$+Math.imul(J,Be)|0,q=q+Math.imul(J,ct)|0,L=L+Math.imul(kt,dt)|0,$=$+Math.imul(kt,je)|0,$=$+Math.imul(K,dt)|0,q=q+Math.imul(K,je)|0;var bv=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(bv>>>26)|0,bv&=67108863,L=Math.imul(ce,Be),$=Math.imul(ce,ct),$=$+Math.imul(se,Be)|0,q=Math.imul(se,ct),L=L+Math.imul(W,dt)|0,$=$+Math.imul(W,je)|0,$=$+Math.imul(J,dt)|0,q=q+Math.imul(J,je)|0;var k7=(D+L|0)+(($&8191)<<13)|0;D=(q+($>>>13)|0)+(k7>>>26)|0,k7&=67108863,L=Math.imul(ce,dt),$=Math.imul(ce,je),$=$+Math.imul(se,dt)|0,q=Math.imul(se,je);var aJ=(D+L|0)+(($&8191)<<13)|0;return D=(q+($>>>13)|0)+(aJ>>>26)|0,aJ&=67108863,P[0]=Kt,P[1]=un,P[2]=In,P[3]=zn,P[4]=Vn,P[5]=Wn,P[6]=Nr,P[7]=Ot,P[8]=qi,P[9]=dn,P[10]=Or,P[11]=Lt,P[12]=fn,P[13]=jr,P[14]=gi,P[15]=Pa,P[16]=bv,P[17]=k7,P[18]=aJ,D!==0&&(P[19]=D,A.length++),A};Math.imul||(b=y);function v(M,C,x){x.negative=C.negative^M.negative,x.length=M.length+C.length;for(var A=0,N=0,O=0;O<x.length-1;O++){var P=N;N=0;for(var D=A&67108863,L=Math.min(O,C.length-1),$=Math.max(0,O-M.length+1);$<=L;$++){var q=O-$,V=M.words[q]|0,F=C.words[$]|0,Z=V*F,X=Z&67108863;P=P+(Z/67108864|0)|0,X=X+D|0,D=X&67108863,P=P+(X>>>26)|0,N+=P>>>26,P&=67108863}x.words[O]=D,A=P,P=N}return A!==0?x.words[O]=A:x.length--,x._strip()}function E(M,C,x){return v(M,C,x)}s.prototype.mulTo=function(C,x){var A,N=this.length+C.length;return this.length===10&&C.length===10?A=b(this,C,x):N<63?A=y(this,C,x):N<1024?A=v(this,C,x):A=E(this,C,x),A},s.prototype.mul=function(C){var x=new s(null);return x.words=new Array(this.length+C.length),this.mulTo(C,x)},s.prototype.mulf=function(C){var x=new s(null);return x.words=new Array(this.length+C.length),E(this,C,x)},s.prototype.imul=function(C){return this.clone().mulTo(C,this)},s.prototype.imuln=function(C){var x=C<0;x&&(C=-C),r(typeof C=="number"),r(C<67108864);for(var A=0,N=0;N<this.length;N++){var O=(this.words[N]|0)*C,P=(O&67108863)+(A&67108863);A>>=26,A+=O/67108864|0,A+=P>>>26,this.words[N]=P&67108863}return A!==0&&(this.words[N]=A,this.length++),this.length=C===0?1:this.length,x?this.ineg():this},s.prototype.muln=function(C){return this.clone().imuln(C)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(C){var x=w(C);if(x.length===0)return new s(1);for(var A=this,N=0;N<x.length&&x[N]===0;N++,A=A.sqr());if(++N<x.length)for(var O=A.sqr();N<x.length;N++,O=O.sqr())x[N]!==0&&(A=A.mul(O));return A},s.prototype.iushln=function(C){r(typeof C=="number"&&C>=0);var x=C%26,A=(C-x)/26,N=67108863>>>26-x<<26-x,O;if(x!==0){var P=0;for(O=0;O<this.length;O++){var D=this.words[O]&N,L=(this.words[O]|0)-D<<x;this.words[O]=L|P,P=D>>>26-x}P&&(this.words[O]=P,this.length++)}if(A!==0){for(O=this.length-1;O>=0;O--)this.words[O+A]=this.words[O];for(O=0;O<A;O++)this.words[O]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(C){return r(this.negative===0),this.iushln(C)},s.prototype.iushrn=function(C,x,A){r(typeof C=="number"&&C>=0);var N;x?N=(x-x%26)/26:N=0;var O=C%26,P=Math.min((C-O)/26,this.length),D=67108863^67108863>>>O<<O,L=A;if(N-=P,N=Math.max(0,N),L){for(var $=0;$<P;$++)L.words[$]=this.words[$];L.length=P}if(P!==0)if(this.length>P)for(this.length-=P,$=0;$<this.length;$++)this.words[$]=this.words[$+P];else this.words[0]=0,this.length=1;var q=0;for($=this.length-1;$>=0&&(q!==0||$>=N);$--){var V=this.words[$]|0;this.words[$]=q<<26-O|V>>>O,q=V&D}return L&&q!==0&&(L.words[L.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(C,x,A){return r(this.negative===0),this.iushrn(C,x,A)},s.prototype.shln=function(C){return this.clone().ishln(C)},s.prototype.ushln=function(C){return this.clone().iushln(C)},s.prototype.shrn=function(C){return this.clone().ishrn(C)},s.prototype.ushrn=function(C){return this.clone().iushrn(C)},s.prototype.testn=function(C){r(typeof C=="number"&&C>=0);var x=C%26,A=(C-x)/26,N=1<<x;if(this.length<=A)return!1;var O=this.words[A];return!!(O&N)},s.prototype.imaskn=function(C){r(typeof C=="number"&&C>=0);var x=C%26,A=(C-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(x!==0&&A++,this.length=Math.min(A,this.length),x!==0){var N=67108863^67108863>>>x<<x;this.words[this.length-1]&=N}return this._strip()},s.prototype.maskn=function(C){return this.clone().imaskn(C)},s.prototype.iaddn=function(C){return r(typeof C=="number"),r(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},s.prototype._iaddn=function(C){this.words[0]+=C;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},s.prototype.isubn=function(C){if(r(typeof C=="number"),r(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},s.prototype.addn=function(C){return this.clone().iaddn(C)},s.prototype.subn=function(C){return this.clone().isubn(C)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(C,x,A){var N=C.length+A,O;this._expand(N);var P,D=0;for(O=0;O<C.length;O++){P=(this.words[O+A]|0)+D;var L=(C.words[O]|0)*x;P-=L&67108863,D=(P>>26)-(L/67108864|0),this.words[O+A]=P&67108863}for(;O<this.length-A;O++)P=(this.words[O+A]|0)+D,D=P>>26,this.words[O+A]=P&67108863;if(D===0)return this._strip();for(r(D===-1),D=0,O=0;O<this.length;O++)P=-(this.words[O]|0)+D,D=P>>26,this.words[O]=P&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(C,x){var A=this.length-C.length,N=this.clone(),O=C,P=O.words[O.length-1]|0,D=this._countBits(P);A=26-D,A!==0&&(O=O.ushln(A),N.iushln(A),P=O.words[O.length-1]|0);var L=N.length-O.length,$;if(x!=="mod"){$=new s(null),$.length=L+1,$.words=new Array($.length);for(var q=0;q<$.length;q++)$.words[q]=0}var V=N.clone()._ishlnsubmul(O,1,L);V.negative===0&&(N=V,$&&($.words[L]=1));for(var F=L-1;F>=0;F--){var Z=(N.words[O.length+F]|0)*67108864+(N.words[O.length+F-1]|0);for(Z=Math.min(Z/P|0,67108863),N._ishlnsubmul(O,Z,F);N.negative!==0;)Z--,N.negative=0,N._ishlnsubmul(O,1,F),N.isZero()||(N.negative^=1);$&&($.words[F]=Z)}return $&&$._strip(),N._strip(),x!=="div"&&A!==0&&N.iushrn(A),{div:$||null,mod:N}},s.prototype.divmod=function(C,x,A){if(r(!C.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var N,O,P;return this.negative!==0&&C.negative===0?(P=this.neg().divmod(C,x),x!=="mod"&&(N=P.div.neg()),x!=="div"&&(O=P.mod.neg(),A&&O.negative!==0&&O.iadd(C)),{div:N,mod:O}):this.negative===0&&C.negative!==0?(P=this.divmod(C.neg(),x),x!=="mod"&&(N=P.div.neg()),{div:N,mod:P.mod}):this.negative&C.negative?(P=this.neg().divmod(C.neg(),x),x!=="div"&&(O=P.mod.neg(),A&&O.negative!==0&&O.isub(C)),{div:P.div,mod:O}):C.length>this.length||this.cmp(C)<0?{div:new s(0),mod:this}:C.length===1?x==="div"?{div:this.divn(C.words[0]),mod:null}:x==="mod"?{div:null,mod:new s(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new s(this.modrn(C.words[0]))}:this._wordDiv(C,x)},s.prototype.div=function(C){return this.divmod(C,"div",!1).div},s.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},s.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},s.prototype.divRound=function(C){var x=this.divmod(C);if(x.mod.isZero())return x.div;var A=x.div.negative!==0?x.mod.isub(C):x.mod,N=C.ushrn(1),O=C.andln(1),P=A.cmp(N);return P<0||O===1&&P===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},s.prototype.modrn=function(C){var x=C<0;x&&(C=-C),r(C<=67108863);for(var A=(1<<26)%C,N=0,O=this.length-1;O>=0;O--)N=(A*N+(this.words[O]|0))%C;return x?-N:N},s.prototype.modn=function(C){return this.modrn(C)},s.prototype.idivn=function(C){var x=C<0;x&&(C=-C),r(C<=67108863);for(var A=0,N=this.length-1;N>=0;N--){var O=(this.words[N]|0)+A*67108864;this.words[N]=O/C|0,A=O%C}return this._strip(),x?this.ineg():this},s.prototype.divn=function(C){return this.clone().idivn(C)},s.prototype.egcd=function(C){r(C.negative===0),r(!C.isZero());var x=this,A=C.clone();x.negative!==0?x=x.umod(C):x=x.clone();for(var N=new s(1),O=new s(0),P=new s(0),D=new s(1),L=0;x.isEven()&&A.isEven();)x.iushrn(1),A.iushrn(1),++L;for(var $=A.clone(),q=x.clone();!x.isZero();){for(var V=0,F=1;!(x.words[0]&F)&&V<26;++V,F<<=1);if(V>0)for(x.iushrn(V);V-- >0;)(N.isOdd()||O.isOdd())&&(N.iadd($),O.isub(q)),N.iushrn(1),O.iushrn(1);for(var Z=0,X=1;!(A.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(P.isOdd()||D.isOdd())&&(P.iadd($),D.isub(q)),P.iushrn(1),D.iushrn(1);x.cmp(A)>=0?(x.isub(A),N.isub(P),O.isub(D)):(A.isub(x),P.isub(N),D.isub(O))}return{a:P,b:D,gcd:A.iushln(L)}},s.prototype._invmp=function(C){r(C.negative===0),r(!C.isZero());var x=this,A=C.clone();x.negative!==0?x=x.umod(C):x=x.clone();for(var N=new s(1),O=new s(0),P=A.clone();x.cmpn(1)>0&&A.cmpn(1)>0;){for(var D=0,L=1;!(x.words[0]&L)&&D<26;++D,L<<=1);if(D>0)for(x.iushrn(D);D-- >0;)N.isOdd()&&N.iadd(P),N.iushrn(1);for(var $=0,q=1;!(A.words[0]&q)&&$<26;++$,q<<=1);if($>0)for(A.iushrn($);$-- >0;)O.isOdd()&&O.iadd(P),O.iushrn(1);x.cmp(A)>=0?(x.isub(A),N.isub(O)):(A.isub(x),O.isub(N))}var V;return x.cmpn(1)===0?V=N:V=O,V.cmpn(0)<0&&V.iadd(C),V},s.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var x=this.clone(),A=C.clone();x.negative=0,A.negative=0;for(var N=0;x.isEven()&&A.isEven();N++)x.iushrn(1),A.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;A.isEven();)A.iushrn(1);var O=x.cmp(A);if(O<0){var P=x;x=A,A=P}else if(O===0||A.cmpn(1)===0)break;x.isub(A)}while(!0);return A.iushln(N)},s.prototype.invm=function(C){return this.egcd(C).a.umod(C)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(C){return this.words[0]&C},s.prototype.bincn=function(C){r(typeof C=="number");var x=C%26,A=(C-x)/26,N=1<<x;if(this.length<=A)return this._expand(A+1),this.words[A]|=N,this;for(var O=N,P=A;O!==0&&P<this.length;P++){var D=this.words[P]|0;D+=O,O=D>>>26,D&=67108863,this.words[P]=D}return O!==0&&(this.words[P]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(C){var x=C<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var A;if(this.length>1)A=1;else{x&&(C=-C),r(C<=67108863,"Number is too big");var N=this.words[0]|0;A=N===C?0:N<C?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var x=this.ucmp(C);return this.negative!==0?-x|0:x},s.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var x=0,A=this.length-1;A>=0;A--){var N=this.words[A]|0,O=C.words[A]|0;if(N!==O){N<O?x=-1:N>O&&(x=1);break}}return x},s.prototype.gtn=function(C){return this.cmpn(C)===1},s.prototype.gt=function(C){return this.cmp(C)===1},s.prototype.gten=function(C){return this.cmpn(C)>=0},s.prototype.gte=function(C){return this.cmp(C)>=0},s.prototype.ltn=function(C){return this.cmpn(C)===-1},s.prototype.lt=function(C){return this.cmp(C)===-1},s.prototype.lten=function(C){return this.cmpn(C)<=0},s.prototype.lte=function(C){return this.cmp(C)<=0},s.prototype.eqn=function(C){return this.cmpn(C)===0},s.prototype.eq=function(C){return this.cmp(C)===0},s.red=function(C){return new j(C)},s.prototype.toRed=function(C){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(C){return this.red=C,this},s.prototype.forceRed=function(C){return r(!this.red,"Already a number in reduction context"),this._forceRed(C)},s.prototype.redAdd=function(C){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},s.prototype.redIAdd=function(C){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},s.prototype.redSub=function(C){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},s.prototype.redISub=function(C){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},s.prototype.redShl=function(C){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},s.prototype.redMul=function(C){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},s.prototype.redIMul=function(C){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(C){return r(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var _={k256:null,p224:null,p192:null,p25519:null};function T(M,C){this.name=M,this.p=new s(C,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var C=new s(null);return C.words=new Array(Math.ceil(this.n/13)),C},T.prototype.ireduce=function(C){var x=C,A;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),A=x.bitLength();while(A>this.n);var N=A<this.n?-1:x.ucmp(this.p);return N===0?(x.words[0]=0,x.length=1):N>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},T.prototype.split=function(C,x){C.iushrn(this.n,0,x)},T.prototype.imulK=function(C){return C.imul(this.k)};function I(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(I,T),I.prototype.split=function(C,x){for(var A=4194303,N=Math.min(C.length,9),O=0;O<N;O++)x.words[O]=C.words[O];if(x.length=N,C.length<=9){C.words[0]=0,C.length=1;return}var P=C.words[9];for(x.words[x.length++]=P&A,O=10;O<C.length;O++){var D=C.words[O]|0;C.words[O-10]=(D&A)<<4|P>>>22,P=D}P>>>=22,C.words[O-10]=P,P===0&&C.length>10?C.length-=10:C.length-=9},I.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var x=0,A=0;A<C.length;A++){var N=C.words[A]|0;x+=N*977,C.words[A]=x&67108863,x=N*64+(x/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function R(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,T);function S(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(S,T);function B(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(B,T),B.prototype.imulK=function(C){for(var x=0,A=0;A<C.length;A++){var N=(C.words[A]|0)*19+x,O=N&67108863;N>>>=26,C.words[A]=O,x=N}return x!==0&&(C.words[C.length++]=x),C},s._prime=function(C){if(_[C])return _[C];var x;if(C==="k256")x=new I;else if(C==="p224")x=new R;else if(C==="p192")x=new S;else if(C==="p25519")x=new B;else throw new Error("Unknown prime "+C);return _[C]=x,x};function j(M){if(typeof M=="string"){var C=s._prime(M);this.m=C.p,this.prime=C}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(C){r(C.negative===0,"red works only with positives"),r(C.red,"red works only with red numbers")},j.prototype._verify2=function(C,x){r((C.negative|x.negative)===0,"red works only with positives"),r(C.red&&C.red===x.red,"red works only with red numbers")},j.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(u(C,C.umod(this.m)._forceRed(this)),C)},j.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},j.prototype.add=function(C,x){this._verify2(C,x);var A=C.add(x);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},j.prototype.iadd=function(C,x){this._verify2(C,x);var A=C.iadd(x);return A.cmp(this.m)>=0&&A.isub(this.m),A},j.prototype.sub=function(C,x){this._verify2(C,x);var A=C.sub(x);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},j.prototype.isub=function(C,x){this._verify2(C,x);var A=C.isub(x);return A.cmpn(0)<0&&A.iadd(this.m),A},j.prototype.shl=function(C,x){return this._verify1(C),this.imod(C.ushln(x))},j.prototype.imul=function(C,x){return this._verify2(C,x),this.imod(C.imul(x))},j.prototype.mul=function(C,x){return this._verify2(C,x),this.imod(C.mul(x))},j.prototype.isqr=function(C){return this.imul(C,C.clone())},j.prototype.sqr=function(C){return this.mul(C,C)},j.prototype.sqrt=function(C){if(C.isZero())return C.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(C,A)}for(var N=this.m.subn(1),O=0;!N.isZero()&&N.andln(1)===0;)O++,N.iushrn(1);r(!N.isZero());var P=new s(1).toRed(this),D=P.redNeg(),L=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new s(2*$*$).toRed(this);this.pow($,L).cmp(D)!==0;)$.redIAdd(D);for(var q=this.pow($,N),V=this.pow(C,N.addn(1).iushrn(1)),F=this.pow(C,N),Z=O;F.cmp(P)!==0;){for(var X=F,Y=0;X.cmp(P)!==0;Y++)X=X.redSqr();r(Y<Z);var te=this.pow(q,new s(1).iushln(Z-Y-1));V=V.redMul(te),q=te.redSqr(),F=F.redMul(q),Z=Y}return V},j.prototype.invm=function(C){var x=C._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},j.prototype.pow=function(C,x){if(x.isZero())return new s(1).toRed(this);if(x.cmpn(1)===0)return C.clone();var A=4,N=new Array(1<<A);N[0]=new s(1).toRed(this),N[1]=C;for(var O=2;O<N.length;O++)N[O]=this.mul(N[O-1],C);var P=N[0],D=0,L=0,$=x.bitLength()%26;for($===0&&($=26),O=x.length-1;O>=0;O--){for(var q=x.words[O],V=$-1;V>=0;V--){var F=q>>V&1;if(P!==N[0]&&(P=this.sqr(P)),F===0&&D===0){L=0;continue}D<<=1,D|=F,L++,!(L!==A&&(O!==0||V!==0))&&(P=this.mul(P,N[D]),L=0,D=0)}$=26}return P},j.prototype.convertTo=function(C){var x=C.umod(this.m);return x===C?x.clone():x},j.prototype.convertFrom=function(C){var x=C.clone();return x.red=null,x},s.mont=function(C){return new U(C)};function U(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(U,j),U.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},U.prototype.convertFrom=function(C){var x=this.imod(C.mul(this.rinv));return x.red=null,x},U.prototype.imul=function(C,x){if(C.isZero()||x.isZero())return C.words[0]=0,C.length=1,C;var A=C.imul(x),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(N).iushrn(this.shift),P=O;return O.cmp(this.m)>=0?P=O.isub(this.m):O.cmpn(0)<0&&(P=O.iadd(this.m)),P._forceRed(this)},U.prototype.mul=function(C,x){if(C.isZero()||x.isZero())return new s(0)._forceRed(this);var A=C.mul(x),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=A.isub(N).iushrn(this.shift),P=O;return O.cmp(this.m)>=0?P=O.isub(this.m):O.cmpn(0)<0&&(P=O.iadd(this.m)),P._forceRed(this)},U.prototype.invm=function(C){var x=this.imod(C._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,Jn)}(PD);var Ooe=PD.exports;const en=Hi(Ooe),Tze="bytes/5.8.0",Ri=new ke(Tze);function Roe(t){return!!t.toHexString}function Cb(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Cb(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ND(t){return Dr(t)&&!(t.length%2)||_b(t)}function Moe(t){return typeof t=="number"&&t==t&&t%1===0}function _b(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Moe(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!Moe(n)||n<0||n>=256)return!1}return!0}function yn(t,e){if(e||(e={}),typeof t=="number"){Ri.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Cb(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Roe(t)&&(t=t.toHexString()),Dr(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Ri.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Cb(new Uint8Array(r))}return _b(t)?Cb(new Uint8Array(t)):Ri.throwArgumentError("invalid arrayify value","value",t)}function ny(t){const e=t.map(i=>yn(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Cb(r)}function Ab(t){let e=yn(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function Pze(t,e){t=yn(t),t.length>e&&Ri.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Cb(n)}function Dr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const OD="0123456789abcdef";function wn(t,e){if(e||(e={}),typeof t=="number"){Ri.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=OD[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Roe(t))return t.toHexString();if(Dr(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Ri.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(_b(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=OD[(i&240)>>4]+OD[i&15]}return n}return Ri.throwArgumentError("invalid hexlify value","value",t)}function ry(t){if(typeof t!="string")t=wn(t);else if(!Dr(t)||t.length%2)return null;return(t.length-2)/2}function Fa(t,e,n){return typeof t!="string"?t=wn(t):(!Dr(t)||t.length%2)&&Ri.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function Sl(t){let e="0x";return t.forEach(n=>{e+=wn(n).substring(2)}),e}function RD(t){const e=Nze(wn(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Nze(t){typeof t!="string"&&(t=wn(t)),Dr(t)||Ri.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Mi(t,e){for(typeof t!="string"?t=wn(t):Dr(t)||Ri.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ri.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function eS(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ND(t)){let n=yn(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=wn(n.slice(0,32)),e.s=wn(n.slice(32,64))):n.length===65?(e.r=wn(n.slice(0,32)),e.s=wn(n.slice(32,64)),e.v=n[64]):Ri.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ri.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=wn(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Pze(yn(e._vs),32);e._vs=wn(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ri.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=wn(i);e.s==null?e.s=o:e.s!==o&&Ri.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Ri.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Ri.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Dr(e.r)?Ri.throwArgumentError("signature missing or invalid r","signature",t):e.r=Mi(e.r,32),e.s==null||!Dr(e.s)?Ri.throwArgumentError("signature missing or invalid s","signature",t):e.s=Mi(e.s,32);const n=yn(e.s);n[0]>=128&&Ri.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=wn(n);e._vs&&(Dr(e._vs)||Ri.throwArgumentError("signature invalid _vs","signature",t),e._vs=Mi(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Ri.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const joe="bignumber/5.8.0";var tS=en.BN;const Np=new ke(joe),MD={},Boe=9007199254740991;function Oze(t){return t!=null&&(ht.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Dr(t)||typeof t=="bigint"||_b(t))}let Doe=!1;class ht{constructor(e,n){e!==MD&&Np.throwError("cannot call constructor directly; use BigNumber.from",ke.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ic(Pn(this).fromTwos(e))}toTwos(e){return Ic(Pn(this).toTwos(e))}abs(){return this._hex[0]==="-"?ht.from(this._hex.substring(1)):this}add(e){return Ic(Pn(this).add(Pn(e)))}sub(e){return Ic(Pn(this).sub(Pn(e)))}div(e){return ht.from(e).isZero()&&$u("division-by-zero","div"),Ic(Pn(this).div(Pn(e)))}mul(e){return Ic(Pn(this).mul(Pn(e)))}mod(e){const n=Pn(e);return n.isNeg()&&$u("division-by-zero","mod"),Ic(Pn(this).umod(n))}pow(e){const n=Pn(e);return n.isNeg()&&$u("negative-power","pow"),Ic(Pn(this).pow(n))}and(e){const n=Pn(e);return(this.isNegative()||n.isNeg())&&$u("unbound-bitwise-result","and"),Ic(Pn(this).and(n))}or(e){const n=Pn(e);return(this.isNegative()||n.isNeg())&&$u("unbound-bitwise-result","or"),Ic(Pn(this).or(n))}xor(e){const n=Pn(e);return(this.isNegative()||n.isNeg())&&$u("unbound-bitwise-result","xor"),Ic(Pn(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&$u("negative-width","mask"),Ic(Pn(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&$u("negative-width","shl"),Ic(Pn(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&$u("negative-width","shr"),Ic(Pn(this).shrn(e))}eq(e){return Pn(this).eq(Pn(e))}lt(e){return Pn(this).lt(Pn(e))}lte(e){return Pn(this).lte(Pn(e))}gt(e){return Pn(this).gt(Pn(e))}gte(e){return Pn(this).gte(Pn(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Pn(this).isZero()}toNumber(){try{return Pn(this).toNumber()}catch{$u("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Np.throwError("this platform does not support BigInt",ke.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Doe||(Doe=!0,Np.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Np.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ke.errors.UNEXPECTED_ARGUMENT,{}):Np.throwError("BigNumber.toString does not accept parameters",ke.errors.UNEXPECTED_ARGUMENT,{})),Pn(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ht)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ht(MD,N8(e)):e.match(/^-?[0-9]+$/)?new ht(MD,N8(new tS(e))):Np.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&$u("underflow","BigNumber.from",e),(e>=Boe||e<=-Boe)&&$u("overflow","BigNumber.from",e),ht.from(String(e));const n=e;if(typeof n=="bigint")return ht.from(n.toString());if(_b(n))return ht.from(wn(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return ht.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Dr(r)||r[0]==="-"&&Dr(r.substring(1))))return ht.from(r)}return Np.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function N8(t){if(typeof t!="string")return N8(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Np.throwArgumentError("invalid hex","value",t),t=N8(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ic(t){return ht.from(N8(t))}function Pn(t){const e=ht.from(t).toHexString();return e[0]==="-"?new tS("-"+e.substring(3),16):new tS(e.substring(2),16)}function $u(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Np.throwError(t,ke.errors.NUMERIC_FAULT,r)}function Rze(t){return new tS(t,36).toString(16)}const za=new ke(joe),O8={},Loe=ht.from(0),Uoe=ht.from(-1);function Foe(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),za.throwError(t,ke.errors.NUMERIC_FAULT,i)}let R8="0";for(;R8.length<256;)R8+=R8;function jD(t){if(typeof t!="number")try{t=ht.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+R8.substring(0,t):za.throwArgumentError("invalid decimal size","decimals",t)}function BD(t,e){e==null&&(e=0);const n=jD(e);t=ht.from(t);const r=t.lt(Loe);r&&(t=t.mul(Uoe));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function Kh(t,e){e==null&&(e=0);const n=jD(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&za.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&za.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&za.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&Foe("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=ht.from(s),c=ht.from(o);let l=a.mul(n).add(c);return r&&(l=l.mul(Uoe)),l}class Sb{constructor(e,n,r,i){e!==O8&&za.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ke.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=jD(i),Object.freeze(this)}static from(e){if(e instanceof Sb)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||za.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&za.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&za.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&za.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Sb(O8,n,r,i)}}class yo{constructor(e,n,r,i){e!==O8&&za.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ke.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&za.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Kh(this._value,this.format.decimals),r=Kh(e._value,e.format.decimals);return yo.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Kh(this._value,this.format.decimals),r=Kh(e._value,e.format.decimals);return yo.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Kh(this._value,this.format.decimals),r=Kh(e._value,e.format.decimals);return yo.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Kh(this._value,this.format.decimals),r=Kh(e._value,e.format.decimals);return yo.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=yo.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(zoe.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=yo.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(zoe.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&za.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=yo.from("1"+R8.substring(0,e),this.format),i=Mze.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&za.throwArgumentError("invalid byte width","width",e);const n=ht.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Mi(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return yo.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!Oze(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),yo.fromString(BD(e,n),Sb.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Sb.from(n),i=Kh(e,r.decimals);!r.signed&&i.lt(Loe)&&Foe("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=Mi(s,r.width/8));const o=BD(i,r.decimals);return new yo(O8,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Sb.from(n);if(yn(e).length>r.width/8)throw new Error("overflow");let i=ht.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=BD(i,r.decimals);return new yo(O8,s,o,r)}static from(e,n){if(typeof e=="string")return yo.fromString(e,n);if(_b(e))return yo.fromBytes(e,n);try{return yo.fromValue(e,0,n)}catch(r){if(r.code!==ke.errors.INVALID_ARGUMENT)throw r}return za.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const zoe=yo.from(1),Mze=yo.from("0.5"),jze="abstract-provider/5.8.0";var Bze=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Dze=new ke(jze);class Lze extends Aze{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class DD{constructor(){Dze.checkAbstract(new.target,DD),Tn(this,"_isProvider",!0)}getFeeData(){return Bze(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield mo({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=ht.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const Uze="networks/5.8.0",Woe=new ke(Uze);function Fze(t){return t&&typeof t.renetwork=="function"}function Dd(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return Dd(n)},e}function nS(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return nS(t,r)},n}const qoe={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Dd("homestead")},Hoe={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Dd("ropsten")},Voe={chainId:63,name:"classicMordor",_defaultProvider:nS("https://www.ethercluster.com/mordor","classicMordor")},rS={unspecified:{chainId:0,name:"unspecified"},homestead:qoe,mainnet:qoe,morden:{chainId:2,name:"morden"},ropsten:Hoe,testnet:Hoe,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Dd("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Dd("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Dd("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Dd("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Dd("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:nS("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Voe,classicTestnet:Voe,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:nS("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Dd("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Dd("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Dd("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function zze(t){if(t==null)return null;if(typeof t=="number"){for(const r in rS){const i=rS[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=rS[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=rS[t.name];if(!e)return typeof t.chainId!="number"&&Woe.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Woe.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(Fze(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}function Koe(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return yn(e)}function Goe(t){t=yn(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}class Zoe{constructor(e){Tn(this,"alphabet",e),Tn(this,"base",e.length),Tn(this,"_alphabetMap",{}),Tn(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=yn(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return yn(new Uint8Array(n.reverse()))}}new Zoe("abcdefghijklmnopqrstuvwxyz234567");const LD=new Zoe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Wze="0x0000000000000000000000000000000000000000",qze=ht.from(0),Hze="0x0000000000000000000000000000000000000000000000000000000000000000";var Yoe={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Jn:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],f=[6,1536,393216,100663296],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(F){return Object.prototype.toString.call(F)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(F){return typeof F=="object"&&F.buffer&&F.buffer.constructor===ArrayBuffer});for(var E=function(F,Z,X){return function(Y){return new $(F,Z,F).update(Y)[X]()}},_=function(F,Z,X){return function(Y,te){return new $(F,Z,te).update(Y)[X]()}},T=function(F,Z,X){return function(Y,te,fe,he){return C["cshake"+F].update(Y,te,fe,he)[X]()}},I=function(F,Z,X){return function(Y,te,fe,he){return C["kmac"+F].update(Y,te,fe,he)[X]()}},R=function(F,Z,X,Y){for(var te=0;te<b.length;++te){var fe=b[te];F[fe]=Z(X,Y,fe)}return F},S=function(F,Z){var X=E(F,Z,"hex");return X.create=function(){return new $(F,Z,F)},X.update=function(Y){return X.create().update(Y)},R(X,E,F,Z)},B=function(F,Z){var X=_(F,Z,"hex");return X.create=function(Y){return new $(F,Z,Y)},X.update=function(Y,te){return X.create(te).update(Y)},R(X,_,F,Z)},j=function(F,Z){var X=v[F],Y=T(F,Z,"hex");return Y.create=function(te,fe,he){return!fe&&!he?C["shake"+F].create(te):new $(F,Z,te).bytepad([fe,he],X)},Y.update=function(te,fe,he,pe){return Y.create(fe,he,pe).update(te)},R(Y,T,F,Z)},U=function(F,Z){var X=v[F],Y=I(F,Z,"hex");return Y.create=function(te,fe,he){return new q(F,Z,fe).bytepad(["KMAC",he],X).bytepad([te],X)},Y.update=function(te,fe,he,pe){return Y.create(te,he,pe).update(fe)},R(Y,I,F,Z)},M=[{name:"keccak",padding:h,bits:w,createMethod:S},{name:"sha3",padding:f,bits:w,createMethod:S},{name:"shake",padding:u,bits:y,createMethod:B},{name:"cshake",padding:d,bits:y,createMethod:j},{name:"kmac",padding:d,bits:y,createMethod:U}],C={},x=[],A=0;A<M.length;++A)for(var N=M[A],O=N.bits,P=0;P<O.length;++P){var D=N.name+"_"+O[P];if(x.push(D),C[D]=N.createMethod(O[P],N.padding),N.name!=="sha3"){var L=N.name+O[P];x.push(L),C[L]=C[D]}}function $(F,Z,X){this.blocks=[],this.s=[],this.padding=Z,this.outputBits=X,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(F<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=X>>5,this.extraBytes=(X&31)>>3;for(var Y=0;Y<50;++Y)this.s[Y]=0}$.prototype.update=function(F){if(this.finalized)throw new Error(n);var Z,X=typeof F;if(X!=="string"){if(X==="object"){if(F===null)throw new Error(e);if(c&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!c||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);Z=!0}for(var Y=this.blocks,te=this.byteCount,fe=F.length,he=this.blockCount,pe=0,be=this.s,ge,ye;pe<fe;){if(this.reset)for(this.reset=!1,Y[0]=this.block,ge=1;ge<he+1;++ge)Y[ge]=0;if(Z)for(ge=this.start;pe<fe&&ge<te;++pe)Y[ge>>2]|=F[pe]<<p[ge++&3];else for(ge=this.start;pe<fe&&ge<te;++pe)ye=F.charCodeAt(pe),ye<128?Y[ge>>2]|=ye<<p[ge++&3]:ye<2048?(Y[ge>>2]|=(192|ye>>6)<<p[ge++&3],Y[ge>>2]|=(128|ye&63)<<p[ge++&3]):ye<55296||ye>=57344?(Y[ge>>2]|=(224|ye>>12)<<p[ge++&3],Y[ge>>2]|=(128|ye>>6&63)<<p[ge++&3],Y[ge>>2]|=(128|ye&63)<<p[ge++&3]):(ye=65536+((ye&1023)<<10|F.charCodeAt(++pe)&1023),Y[ge>>2]|=(240|ye>>18)<<p[ge++&3],Y[ge>>2]|=(128|ye>>12&63)<<p[ge++&3],Y[ge>>2]|=(128|ye>>6&63)<<p[ge++&3],Y[ge>>2]|=(128|ye&63)<<p[ge++&3]);if(this.lastByteIndex=ge,ge>=te){for(this.start=ge-te,this.block=Y[he],ge=0;ge<he;++ge)be[ge]^=Y[ge];V(be),this.reset=!0}else this.start=ge}return this},$.prototype.encode=function(F,Z){var X=F&255,Y=1,te=[X];for(F=F>>8,X=F&255;X>0;)te.unshift(X),F=F>>8,X=F&255,++Y;return Z?te.push(Y):te.unshift(Y),this.update(te),te.length},$.prototype.encodeString=function(F){var Z,X=typeof F;if(X!=="string"){if(X==="object"){if(F===null)throw new Error(e);if(c&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!Array.isArray(F)&&(!c||!ArrayBuffer.isView(F)))throw new Error(e)}else throw new Error(e);Z=!0}var Y=0,te=F.length;if(Z)Y=te;else for(var fe=0;fe<F.length;++fe){var he=F.charCodeAt(fe);he<128?Y+=1:he<2048?Y+=2:he<55296||he>=57344?Y+=3:(he=65536+((he&1023)<<10|F.charCodeAt(++fe)&1023),Y+=4)}return Y+=this.encode(Y*8),this.update(F),Y},$.prototype.bytepad=function(F,Z){for(var X=this.encode(Z),Y=0;Y<F.length;++Y)X+=this.encodeString(F[Y]);var te=Z-X%Z,fe=[];return fe.length=te,this.update(fe),this},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,Z=this.lastByteIndex,X=this.blockCount,Y=this.s;if(F[Z>>2]|=this.padding[Z&3],this.lastByteIndex===this.byteCount)for(F[0]=F[X],Z=1;Z<X+1;++Z)F[Z]=0;for(F[X-1]|=2147483648,Z=0;Z<X;++Z)Y[Z]^=F[Z];V(Y)}},$.prototype.toString=$.prototype.hex=function(){this.finalize();for(var F=this.blockCount,Z=this.s,X=this.outputBlocks,Y=this.extraBytes,te=0,fe=0,he="",pe;fe<X;){for(te=0;te<F&&fe<X;++te,++fe)pe=Z[te],he+=l[pe>>4&15]+l[pe&15]+l[pe>>12&15]+l[pe>>8&15]+l[pe>>20&15]+l[pe>>16&15]+l[pe>>28&15]+l[pe>>24&15];fe%F===0&&(V(Z),te=0)}return Y&&(pe=Z[te],he+=l[pe>>4&15]+l[pe&15],Y>1&&(he+=l[pe>>12&15]+l[pe>>8&15]),Y>2&&(he+=l[pe>>20&15]+l[pe>>16&15])),he},$.prototype.arrayBuffer=function(){this.finalize();var F=this.blockCount,Z=this.s,X=this.outputBlocks,Y=this.extraBytes,te=0,fe=0,he=this.outputBits>>3,pe;Y?pe=new ArrayBuffer(X+1<<2):pe=new ArrayBuffer(he);for(var be=new Uint32Array(pe);fe<X;){for(te=0;te<F&&fe<X;++te,++fe)be[fe]=Z[te];fe%F===0&&V(Z)}return Y&&(be[te]=Z[te],pe=pe.slice(0,he)),pe},$.prototype.buffer=$.prototype.arrayBuffer,$.prototype.digest=$.prototype.array=function(){this.finalize();for(var F=this.blockCount,Z=this.s,X=this.outputBlocks,Y=this.extraBytes,te=0,fe=0,he=[],pe,be;fe<X;){for(te=0;te<F&&fe<X;++te,++fe)pe=fe<<2,be=Z[te],he[pe]=be&255,he[pe+1]=be>>8&255,he[pe+2]=be>>16&255,he[pe+3]=be>>24&255;fe%F===0&&V(Z)}return Y&&(pe=fe<<2,be=Z[te],he[pe]=be&255,Y>1&&(he[pe+1]=be>>8&255),Y>2&&(he[pe+2]=be>>16&255)),he};function q(F,Z,X){$.call(this,F,Z,X)}q.prototype=new $,q.prototype.finalize=function(){return this.encode(this.outputBits,!0),$.prototype.finalize.call(this)};var V=function(F){var Z,X,Y,te,fe,he,pe,be,ge,ye,ft,we,Me,Oe,Ee,$e,zt,Se,qe,Ye,kt,K,z,W,J,ee,ce,se,Re,et,He,nt,Pe,Wt,sn,nn,pt,ri,xt,$n,uc,Yn,Hn,H,G,ne,re,ae,de,Te,Ie,gt,rn,Be,ct,Dt,dt,je,Kt,un,In,zn,Vn;for(Y=0;Y<48;Y+=2)te=F[0]^F[10]^F[20]^F[30]^F[40],fe=F[1]^F[11]^F[21]^F[31]^F[41],he=F[2]^F[12]^F[22]^F[32]^F[42],pe=F[3]^F[13]^F[23]^F[33]^F[43],be=F[4]^F[14]^F[24]^F[34]^F[44],ge=F[5]^F[15]^F[25]^F[35]^F[45],ye=F[6]^F[16]^F[26]^F[36]^F[46],ft=F[7]^F[17]^F[27]^F[37]^F[47],we=F[8]^F[18]^F[28]^F[38]^F[48],Me=F[9]^F[19]^F[29]^F[39]^F[49],Z=we^(he<<1|pe>>>31),X=Me^(pe<<1|he>>>31),F[0]^=Z,F[1]^=X,F[10]^=Z,F[11]^=X,F[20]^=Z,F[21]^=X,F[30]^=Z,F[31]^=X,F[40]^=Z,F[41]^=X,Z=te^(be<<1|ge>>>31),X=fe^(ge<<1|be>>>31),F[2]^=Z,F[3]^=X,F[12]^=Z,F[13]^=X,F[22]^=Z,F[23]^=X,F[32]^=Z,F[33]^=X,F[42]^=Z,F[43]^=X,Z=he^(ye<<1|ft>>>31),X=pe^(ft<<1|ye>>>31),F[4]^=Z,F[5]^=X,F[14]^=Z,F[15]^=X,F[24]^=Z,F[25]^=X,F[34]^=Z,F[35]^=X,F[44]^=Z,F[45]^=X,Z=be^(we<<1|Me>>>31),X=ge^(Me<<1|we>>>31),F[6]^=Z,F[7]^=X,F[16]^=Z,F[17]^=X,F[26]^=Z,F[27]^=X,F[36]^=Z,F[37]^=X,F[46]^=Z,F[47]^=X,Z=ye^(te<<1|fe>>>31),X=ft^(fe<<1|te>>>31),F[8]^=Z,F[9]^=X,F[18]^=Z,F[19]^=X,F[28]^=Z,F[29]^=X,F[38]^=Z,F[39]^=X,F[48]^=Z,F[49]^=X,Oe=F[0],Ee=F[1],ne=F[11]<<4|F[10]>>>28,re=F[10]<<4|F[11]>>>28,se=F[20]<<3|F[21]>>>29,Re=F[21]<<3|F[20]>>>29,un=F[31]<<9|F[30]>>>23,In=F[30]<<9|F[31]>>>23,Yn=F[40]<<18|F[41]>>>14,Hn=F[41]<<18|F[40]>>>14,Wt=F[2]<<1|F[3]>>>31,sn=F[3]<<1|F[2]>>>31,$e=F[13]<<12|F[12]>>>20,zt=F[12]<<12|F[13]>>>20,ae=F[22]<<10|F[23]>>>22,de=F[23]<<10|F[22]>>>22,et=F[33]<<13|F[32]>>>19,He=F[32]<<13|F[33]>>>19,zn=F[42]<<2|F[43]>>>30,Vn=F[43]<<2|F[42]>>>30,Be=F[5]<<30|F[4]>>>2,ct=F[4]<<30|F[5]>>>2,nn=F[14]<<6|F[15]>>>26,pt=F[15]<<6|F[14]>>>26,Se=F[25]<<11|F[24]>>>21,qe=F[24]<<11|F[25]>>>21,Te=F[34]<<15|F[35]>>>17,Ie=F[35]<<15|F[34]>>>17,nt=F[45]<<29|F[44]>>>3,Pe=F[44]<<29|F[45]>>>3,W=F[6]<<28|F[7]>>>4,J=F[7]<<28|F[6]>>>4,Dt=F[17]<<23|F[16]>>>9,dt=F[16]<<23|F[17]>>>9,ri=F[26]<<25|F[27]>>>7,xt=F[27]<<25|F[26]>>>7,Ye=F[36]<<21|F[37]>>>11,kt=F[37]<<21|F[36]>>>11,gt=F[47]<<24|F[46]>>>8,rn=F[46]<<24|F[47]>>>8,H=F[8]<<27|F[9]>>>5,G=F[9]<<27|F[8]>>>5,ee=F[18]<<20|F[19]>>>12,ce=F[19]<<20|F[18]>>>12,je=F[29]<<7|F[28]>>>25,Kt=F[28]<<7|F[29]>>>25,$n=F[38]<<8|F[39]>>>24,uc=F[39]<<8|F[38]>>>24,K=F[48]<<14|F[49]>>>18,z=F[49]<<14|F[48]>>>18,F[0]=Oe^~$e&Se,F[1]=Ee^~zt&qe,F[10]=W^~ee&se,F[11]=J^~ce&Re,F[20]=Wt^~nn&ri,F[21]=sn^~pt&xt,F[30]=H^~ne&ae,F[31]=G^~re&de,F[40]=Be^~Dt&je,F[41]=ct^~dt&Kt,F[2]=$e^~Se&Ye,F[3]=zt^~qe&kt,F[12]=ee^~se&et,F[13]=ce^~Re&He,F[22]=nn^~ri&$n,F[23]=pt^~xt&uc,F[32]=ne^~ae&Te,F[33]=re^~de&Ie,F[42]=Dt^~je&un,F[43]=dt^~Kt&In,F[4]=Se^~Ye&K,F[5]=qe^~kt&z,F[14]=se^~et&nt,F[15]=Re^~He&Pe,F[24]=ri^~$n&Yn,F[25]=xt^~uc&Hn,F[34]=ae^~Te&gt,F[35]=de^~Ie&rn,F[44]=je^~un&zn,F[45]=Kt^~In&Vn,F[6]=Ye^~K&Oe,F[7]=kt^~z&Ee,F[16]=et^~nt&W,F[17]=He^~Pe&J,F[26]=$n^~Yn&Wt,F[27]=uc^~Hn&sn,F[36]=Te^~gt&H,F[37]=Ie^~rn&G,F[46]=un^~zn&Be,F[47]=In^~Vn&ct,F[8]=K^~Oe&$e,F[9]=z^~Ee&zt,F[18]=nt^~W&ee,F[19]=Pe^~J&ce,F[28]=Yn^~Wt&nn,F[29]=Hn^~sn&pt,F[38]=gt^~H&ne,F[39]=rn^~G&re,F[48]=zn^~Be&Dt,F[49]=Vn^~ct&dt,F[0]^=m[Y],F[1]^=m[Y+1]};if(a)t.exports=C;else for(A=0;A<x.length;++A)i[x[A]]=C[x[A]]})()})(Yoe);var Vze=Yoe.exports;const Kze=Hi(Vze);function wo(t){return"0x"+Kze.keccak_256(yn(t))}const Gze="strings/5.8.0",Joe=new ke(Gze);var M8;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(M8||(M8={}));var Il;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Il||(Il={}));function Zze(t,e,n,r,i){return Joe.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Qoe(t,e,n,r,i){if(t===Il.BAD_PREFIX||t===Il.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===Il.OVERRUN?n.length-e-1:0}function Yze(t,e,n,r,i){return t===Il.OVERLONG?(r.push(i),0):(r.push(65533),Qoe(t,e,n))}const Jze=Object.freeze({error:Zze,ignore:Qoe,replace:Yze});function Xoe(t,e){e==null&&(e=Jze.error),t=yn(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Il.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Il.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(Il.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[r];if((l&192)!=128){r+=e(Il.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|l&63,r++}if(a!==null){if(a>1114111){r+=e(Il.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(Il.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(Il.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function Op(t,e=M8.current){e!=M8.current&&(Joe.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return yn(n)}function Qze(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function iS(t,e){return Qze(Xoe(t,e))}function Xze(t,e=M8.current){return Xoe(Op(t,e))}function eae(t){return wo(Op(t))}const tae="hash/5.8.0";function nae(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function eWe(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function tWe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let _=1;_<r;_++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,h=Math.pow(2,d),f=h>>>1,p=f>>1,m=h-1;let w=0;for(let _=0;_<d;_++)w=w<<1|u();let y=[],b=0,v=h;for(;;){let _=Math.floor(((w-b+1)*i-1)/v),T=0,I=r;for(;I-T>1;){let B=T+I>>>1;_<s[B]?I=B:T=B}if(T==0)break;y.push(T);let R=b+Math.floor(v*s[T]/i),S=b+Math.floor(v*s[T+1]/i)-1;for(;!((R^S)&f);)w=w<<1&m|u(),R=R<<1&m,S=S<<1&m|1;for(;R&~S&p;)w=w&f|w<<1&m>>>1|u(),R=R<<1^f,S=(S^f)<<1|f|1;b=R,v=1+S-R}let E=r-4;return y.map(_=>{switch(_-E){case 3:return E+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return E+256+(t[a++]<<8|t[a++]);case 1:return E+t[a++];default:return _-1}})}function nWe(t){let e=0;return()=>t[e++]}function rWe(t){return nWe(tWe(t))}function iWe(t){return t&1?~t>>1:t>>1}function sWe(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function rae(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function oWe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=iWe(e());return n}function sS(t,e){let n=rae(t(),t),r=t(),i=rae(r,t),s=sWe(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function aWe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(lWe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(uWe(n,t))}return eWe(nae(e))}function cWe(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function iae(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)oWe(t,n).forEach((s,o)=>r[o].push(s));return r}function lWe(t,e){let n=1+e(),r=e(),i=cWe(e),s=iae(i.length,1+t,e);return nae(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,d)=>{let h=d*r;return[c+d*n,l.map(f=>f+h)]})}))}function uWe(t,e){let n=1+e();return iae(n,1+t,e).map(i=>[i[0],i.slice(1)])}function dWe(t){let e=sS(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let l=sS(t,e);if(l.length==0)break;r.push({set:new Set(l),node:n()})}r.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:c}}}function hWe(){return rWe(Koe("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const oS=hWe(),fWe=new Set(sS(oS)),pWe=new Set(sS(oS)),gWe=aWe(oS),mWe=dWe(oS),sae=45,oae=95;function aae(t){return Xze(t)}function yWe(t){return t.filter(e=>e!=65039)}function cae(t){for(let e of t.split(".")){let n=aae(e);try{for(let r=n.lastIndexOf(oae)-1;r>=0;r--)if(n[r]!==oae)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===sae&&n[3]===sae)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function wWe(t){return cae(vWe(t,yWe))}function vWe(t,e){let n=aae(t).reverse(),r=[];for(;n.length;){let i=xWe(n);if(i){r.push(...e(i));continue}let s=n.pop();if(fWe.has(s)){r.push(s);continue}if(pWe.has(s))continue;let o=gWe[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return cae(bWe(String.fromCodePoint(...r)))}function bWe(t){return t.normalize("NFC")}function xWe(t,e){var n;let r=mWe,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(r=(n=r.branches.find(l=>l.set.has(c)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=c;else if(r.check&&c===s)break;o.push(c),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const EWe=new ke(tae),lae=new Uint8Array(32);lae.fill(0);function uae(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function dae(t){const e=Op(wWe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(uae(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(uae(e.slice(r))),n}function aS(t){typeof t!="string"&&EWe.throwArgumentError("invalid ENS name; not a string","name",t);let e=lae;const n=dae(t);for(;n.length;)e=wo(ny([e,wo(n.pop())]));return wn(e)}function CWe(t){return wn(ny(dae(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}const _We="rlp/5.8.0",Gh=new ke(_We);function hae(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function fae(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function pae(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(pae(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=hae(r.length);return i.unshift(247+i.length),i.concat(r)}ND(t)||Gh.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(yn(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=hae(e.length);return n.unshift(183+n.length),n.concat(e)}function cS(t){return wn(pae(t))}function gae(t,e,n,r){const i=[];for(;n<e+1+r;){const s=mae(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&Gh.throwError("child data too short",ke.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function mae(t,e){if(t.length===0&&Gh.throwError("data too short",ke.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&Gh.throwError("data short segment too short",ke.errors.BUFFER_OVERRUN,{});const r=fae(t,e+1,n);return e+1+n+r>t.length&&Gh.throwError("data long segment too short",ke.errors.BUFFER_OVERRUN,{}),gae(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&Gh.throwError("data array too short",ke.errors.BUFFER_OVERRUN,{}),gae(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&Gh.throwError("data array too short",ke.errors.BUFFER_OVERRUN,{});const r=fae(t,e+1,n);e+1+n+r>t.length&&Gh.throwError("data array too short",ke.errors.BUFFER_OVERRUN,{});const i=wn(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&Gh.throwError("data too short",ke.errors.BUFFER_OVERRUN,{});const r=wn(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:wn(t[e])}}function UD(t){const e=yn(t),n=mae(e,0);return n.consumed!==e.length&&Gh.throwArgumentError("invalid rlp data","data",t),n.result}const AWe="address/5.8.0",Ib=new ke(AWe);function yae(t){Dr(t,20)||Ib.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=yn(wo(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const SWe=9007199254740991;function IWe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const FD={};for(let t=0;t<10;t++)FD[String(t)]=String(t);for(let t=0;t<26;t++)FD[String.fromCharCode(65+t)]=String(10+t);const wae=Math.floor(IWe(SWe));function kWe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>FD[r]).join("");for(;e.length>=wae;){let r=e.substring(0,wae);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Ld(t){let e=null;if(typeof t!="string"&&Ib.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=yae(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ib.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==kWe(t)&&Ib.throwArgumentError("bad icap checksum","address",t),e=Rze(t.substring(4));e.length<40;)e="0"+e;e=yae("0x"+e)}else Ib.throwArgumentError("invalid address","address",t);return e}function $We(t){let e=null;try{e=Ld(t.from)}catch{Ib.throwArgumentError("missing from address","transaction",t)}const n=Ab(yn(ht.from(t.nonce).toHexString()));return Ld(Fa(wo(cS([e,n])),12))}var TWe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const Ii=new ke(tae),vae=new Uint8Array(32);vae.fill(0);const PWe=ht.from(-1),bae=ht.from(0),xae=ht.from(1),NWe=ht.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function OWe(t){const e=yn(t),n=e.length%32;return n?Sl([e,vae.slice(n)]):wn(e)}const RWe=Mi(xae.toHexString(),32),MWe=Mi(bae.toHexString(),32),Eae={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zD=["name","version","chainId","verifyingContract","salt"];function Cae(t){return function(e){return typeof e!="string"&&Ii.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const jWe={name:Cae("name"),version:Cae("version"),chainId:function(t){try{return ht.from(t).toString()}catch{}return Ii.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ld(t).toLowerCase()}catch{}return Ii.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=yn(t);if(e.length!==32)throw new Error("bad length");return wn(e)}catch{}return Ii.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function WD(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Ii.throwArgumentError("invalid numeric width","type",t);const i=NWe.mask(n?r-1:r),s=n?i.add(xae).mul(PWe):bae;return function(o){const a=ht.from(o);return(a.lt(s)||a.gt(i))&&Ii.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Mi(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Ii.throwArgumentError("invalid bytes width","type",t),function(r){return yn(r).length!==n&&Ii.throwArgumentError(`invalid length for ${t}`,"value",r),OWe(r)}}}switch(t){case"address":return function(e){return Mi(Ld(e),32)};case"bool":return function(e){return e?RWe:MWe};case"bytes":return function(e){return wo(e)};case"string":return function(e){return eae(e)}}return null}function _ae(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class kl{constructor(e){Tn(this,"types",Object.freeze(P8(e))),Tn(this,"_encoderCache",{}),Tn(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Ii.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Ii.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!WD(u)&&(r[u]||Ii.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),n[a][u]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?Ii.throwArgumentError("missing primary type","types",e):s.length>1&&Ii.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Tn(this,"primaryType",s[0]);function o(a,c){c[a]&&Ii.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(n[a]).forEach(l=>{r[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=_ae(a,e[a])+c.map(l=>_ae(l,e[l])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=WD(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&Ii.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(wo)),wo(Sl(c))}}const r=this.types[e];if(r){const i=eae(this._types[e]);return s=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?wo(l):l});return o.unshift(i),Sl(o)}}return Ii.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Ii.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return wo(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(WD(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&Ii.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(c=>this._visit(o,c,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{}):Ii.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new kl(e)}static getPrimaryType(e){return kl.from(e).primaryType}static hashStruct(e,n,r){return kl.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=Eae[r];i||Ii.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>zD.indexOf(r.name)-zD.indexOf(i.name)),kl.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Sl(["0x1901",kl.hashDomain(e),kl.from(n).hash(r)])}static hash(e,n,r){return wo(kl.encode(e,n,r))}static resolveNames(e,n,r,i){return TWe(this,void 0,void 0,function*(){e=Sc(e);const s={};e.verifyingContract&&!Dr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=kl.from(n);o.visit(r,(a,c)=>(a==="address"&&!Dr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}})}static getPayload(e,n,r){kl.hashDomain(e);const i={},s=[];zD.forEach(c=>{const l=e[c];l!=null&&(i[c]=jWe[c](l),s.push({name:c,type:Eae[c]}))});const o=kl.from(n),a=Sc(n);return a.EIP712Domain?Ii.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return wn(yn(l));if(c.match(/^u?int/))return ht.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Ii.throwArgumentError("invalid string","value",l),l}return Ii.throwArgumentError("unsupported type","type",c)})}}}var Aae={},Nn={},j8=Sae;function Sae(t,e){if(!t)throw new Error(e||"Assertion failed")}Sae.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var qD={exports:{}};typeof Object.create=="function"?qD.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:qD.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var BWe=qD.exports,DWe=j8,LWe=BWe;Nn.inherits=LWe;function UWe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function FWe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):UWe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Nn.toArray=FWe;function zWe(t){for(var e="",n=0;n<t.length;n++)e+=kae(t[n].toString(16));return e}Nn.toHex=zWe;function Iae(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Nn.htonl=Iae;function WWe(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=Iae(i)),n+=$ae(i.toString(16))}return n}Nn.toHex32=WWe;function kae(t){return t.length===1?"0"+t:t}Nn.zero2=kae;function $ae(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Nn.zero8=$ae;function qWe(t,e,n,r){var i=n-e;DWe(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;r==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}Nn.join32=qWe;function HWe(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}Nn.split32=HWe;function VWe(t,e){return t>>>e|t<<32-e}Nn.rotr32=VWe;function KWe(t,e){return t<<e|t>>>32-e}Nn.rotl32=KWe;function GWe(t,e){return t+e>>>0}Nn.sum32=GWe;function ZWe(t,e,n){return t+e+n>>>0}Nn.sum32_3=ZWe;function YWe(t,e,n,r){return t+e+n+r>>>0}Nn.sum32_4=YWe;function JWe(t,e,n,r,i){return t+e+n+r+i>>>0}Nn.sum32_5=JWe;function QWe(t,e,n,r){var i=t[e],s=t[e+1],o=r+s>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o}Nn.sum64=QWe;function XWe(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}Nn.sum64_hi=XWe;function eqe(t,e,n,r){var i=e+r;return i>>>0}Nn.sum64_lo=eqe;function tqe(t,e,n,r,i,s,o,a){var c=0,l=e;l=l+r>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var u=t+n+i+o+c;return u>>>0}Nn.sum64_4_hi=tqe;function nqe(t,e,n,r,i,s,o,a){var c=e+r+s+a;return c>>>0}Nn.sum64_4_lo=nqe;function rqe(t,e,n,r,i,s,o,a,c,l){var u=0,d=e;d=d+r>>>0,u+=d<e?1:0,d=d+s>>>0,u+=d<s?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+l>>>0,u+=d<l?1:0;var h=t+n+i+o+c+u;return h>>>0}Nn.sum64_5_hi=rqe;function iqe(t,e,n,r,i,s,o,a,c,l){var u=e+r+s+a+l;return u>>>0}Nn.sum64_5_lo=iqe;function sqe(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Nn.rotr64_hi=sqe;function oqe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Nn.rotr64_lo=oqe;function aqe(t,e,n){return t>>>n}Nn.shr64_hi=aqe;function cqe(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Nn.shr64_lo=cqe;var kb={},Tae=Nn,lqe=j8;function lS(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}kb.BlockHash=lS,lS.prototype.update=function(e,n){if(e=Tae.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Tae.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},lS.prototype.digest=function(e){return this.update(this._pad()),lqe(this.pending===null),this._digest(e)},lS.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var $b={},Zh={},uqe=Nn,Yh=uqe.rotr32;function dqe(t,e,n,r){if(t===0)return Pae(e,n,r);if(t===1||t===3)return Oae(e,n,r);if(t===2)return Nae(e,n,r)}Zh.ft_1=dqe;function Pae(t,e,n){return t&e^~t&n}Zh.ch32=Pae;function Nae(t,e,n){return t&e^t&n^e&n}Zh.maj32=Nae;function Oae(t,e,n){return t^e^n}Zh.p32=Oae;function hqe(t){return Yh(t,2)^Yh(t,13)^Yh(t,22)}Zh.s0_256=hqe;function fqe(t){return Yh(t,6)^Yh(t,11)^Yh(t,25)}Zh.s1_256=fqe;function pqe(t){return Yh(t,7)^Yh(t,18)^t>>>3}Zh.g0_256=pqe;function gqe(t){return Yh(t,17)^Yh(t,19)^t>>>10}Zh.g1_256=gqe;var Tb=Nn,mqe=kb,yqe=Zh,HD=Tb.rotl32,B8=Tb.sum32,wqe=Tb.sum32_5,vqe=yqe.ft_1,Rae=mqe.BlockHash,bqe=[1518500249,1859775393,2400959708,3395469782];function Jh(){if(!(this instanceof Jh))return new Jh;Rae.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Tb.inherits(Jh,Rae);var xqe=Jh;Jh.blockSize=512,Jh.outSize=160,Jh.hmacStrength=80,Jh.padLength=64,Jh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=HD(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),d=wqe(HD(s,5),vqe(u,o,a,c),l,r[i],bqe[u]);l=c,c=a,a=HD(o,30),o=s,s=d}this.h[0]=B8(this.h[0],s),this.h[1]=B8(this.h[1],o),this.h[2]=B8(this.h[2],a),this.h[3]=B8(this.h[3],c),this.h[4]=B8(this.h[4],l)},Jh.prototype._digest=function(e){return e==="hex"?Tb.toHex32(this.h,"big"):Tb.split32(this.h,"big")};var Pb=Nn,Eqe=kb,Nb=Zh,Cqe=j8,Ud=Pb.sum32,_qe=Pb.sum32_4,Aqe=Pb.sum32_5,Sqe=Nb.ch32,Iqe=Nb.maj32,kqe=Nb.s0_256,$qe=Nb.s1_256,Tqe=Nb.g0_256,Pqe=Nb.g1_256,Mae=Eqe.BlockHash,Nqe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qh(){if(!(this instanceof Qh))return new Qh;Mae.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Nqe,this.W=new Array(64)}Pb.inherits(Qh,Mae);var jae=Qh;Qh.blockSize=512,Qh.outSize=256,Qh.hmacStrength=192,Qh.padLength=64,Qh.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=_qe(Pqe(r[i-2]),r[i-7],Tqe(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],d=this.h[6],h=this.h[7];for(Cqe(this.k.length===r.length),i=0;i<r.length;i++){var f=Aqe(h,$qe(l),Sqe(l,u,d),this.k[i],r[i]),p=Ud(kqe(s),Iqe(s,o,a));h=d,d=u,u=l,l=Ud(c,f),c=a,a=o,o=s,s=Ud(f,p)}this.h[0]=Ud(this.h[0],s),this.h[1]=Ud(this.h[1],o),this.h[2]=Ud(this.h[2],a),this.h[3]=Ud(this.h[3],c),this.h[4]=Ud(this.h[4],l),this.h[5]=Ud(this.h[5],u),this.h[6]=Ud(this.h[6],d),this.h[7]=Ud(this.h[7],h)},Qh.prototype._digest=function(e){return e==="hex"?Pb.toHex32(this.h,"big"):Pb.split32(this.h,"big")};var VD=Nn,Bae=jae;function Rp(){if(!(this instanceof Rp))return new Rp;Bae.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}VD.inherits(Rp,Bae);var Oqe=Rp;Rp.blockSize=512,Rp.outSize=224,Rp.hmacStrength=192,Rp.padLength=64,Rp.prototype._digest=function(e){return e==="hex"?VD.toHex32(this.h.slice(0,7),"big"):VD.split32(this.h.slice(0,7),"big")};var kc=Nn,Rqe=kb,Mqe=j8,Xh=kc.rotr64_hi,ef=kc.rotr64_lo,Dae=kc.shr64_hi,Lae=kc.shr64_lo,Pg=kc.sum64,KD=kc.sum64_hi,GD=kc.sum64_lo,jqe=kc.sum64_4_hi,Bqe=kc.sum64_4_lo,Dqe=kc.sum64_5_hi,Lqe=kc.sum64_5_lo,Uae=Rqe.BlockHash,Uqe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Fd(){if(!(this instanceof Fd))return new Fd;Uae.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Uqe,this.W=new Array(160)}kc.inherits(Fd,Uae);var Fae=Fd;Fd.blockSize=1024,Fd.outSize=512,Fd.hmacStrength=192,Fd.padLength=128,Fd.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=Jqe(r[i-4],r[i-3]),o=Qqe(r[i-4],r[i-3]),a=r[i-14],c=r[i-13],l=Zqe(r[i-30],r[i-29]),u=Yqe(r[i-30],r[i-29]),d=r[i-32],h=r[i-31];r[i]=jqe(s,o,a,c,l,u,d,h),r[i+1]=Bqe(s,o,a,c,l,u,d,h)}},Fd.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7],h=this.h[8],f=this.h[9],p=this.h[10],m=this.h[11],w=this.h[12],y=this.h[13],b=this.h[14],v=this.h[15];Mqe(this.k.length===r.length);for(var E=0;E<r.length;E+=2){var _=b,T=v,I=Kqe(h,f),R=Gqe(h,f),S=Fqe(h,f,p,m,w),B=zqe(h,f,p,m,w,y),j=this.k[E],U=this.k[E+1],M=r[E],C=r[E+1],x=Dqe(_,T,I,R,S,B,j,U,M,C),A=Lqe(_,T,I,R,S,B,j,U,M,C);_=Hqe(i,s),T=Vqe(i,s),I=Wqe(i,s,o,a,c),R=qqe(i,s,o,a,c,l);var N=KD(_,T,I,R),O=GD(_,T,I,R);b=w,v=y,w=p,y=m,p=h,m=f,h=KD(u,d,x,A),f=GD(d,d,x,A),u=c,d=l,c=o,l=a,o=i,a=s,i=KD(x,A,N,O),s=GD(x,A,N,O)}Pg(this.h,0,i,s),Pg(this.h,2,o,a),Pg(this.h,4,c,l),Pg(this.h,6,u,d),Pg(this.h,8,h,f),Pg(this.h,10,p,m),Pg(this.h,12,w,y),Pg(this.h,14,b,v)},Fd.prototype._digest=function(e){return e==="hex"?kc.toHex32(this.h,"big"):kc.split32(this.h,"big")};function Fqe(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function zqe(t,e,n,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function Wqe(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function qqe(t,e,n,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function Hqe(t,e){var n=Xh(t,e,28),r=Xh(e,t,2),i=Xh(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Vqe(t,e){var n=ef(t,e,28),r=ef(e,t,2),i=ef(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Kqe(t,e){var n=Xh(t,e,14),r=Xh(t,e,18),i=Xh(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function Gqe(t,e){var n=ef(t,e,14),r=ef(t,e,18),i=ef(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function Zqe(t,e){var n=Xh(t,e,1),r=Xh(t,e,8),i=Dae(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Yqe(t,e){var n=ef(t,e,1),r=ef(t,e,8),i=Lae(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function Jqe(t,e){var n=Xh(t,e,19),r=Xh(e,t,29),i=Dae(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function Qqe(t,e){var n=ef(t,e,19),r=ef(e,t,29),i=Lae(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}var ZD=Nn,zae=Fae;function Mp(){if(!(this instanceof Mp))return new Mp;zae.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ZD.inherits(Mp,zae);var Xqe=Mp;Mp.blockSize=1024,Mp.outSize=384,Mp.hmacStrength=192,Mp.padLength=128,Mp.prototype._digest=function(e){return e==="hex"?ZD.toHex32(this.h.slice(0,12),"big"):ZD.split32(this.h.slice(0,12),"big")},$b.sha1=xqe,$b.sha224=Oqe,$b.sha256=jae,$b.sha384=Xqe,$b.sha512=Fae;var Wae={},iy=Nn,eHe=kb,uS=iy.rotl32,qae=iy.sum32,D8=iy.sum32_3,Hae=iy.sum32_4,Vae=eHe.BlockHash;function tf(){if(!(this instanceof tf))return new tf;Vae.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}iy.inherits(tf,Vae),Wae.ripemd160=tf,tf.blockSize=512,tf.outSize=160,tf.hmacStrength=192,tf.padLength=64,tf.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=r,l=i,u=s,d=o,h=a,f=0;f<80;f++){var p=qae(uS(Hae(r,Kae(f,i,s,o),e[rHe[f]+n],tHe(f)),sHe[f]),a);r=a,a=o,o=uS(s,10),s=i,i=p,p=qae(uS(Hae(c,Kae(79-f,l,u,d),e[iHe[f]+n],nHe(f)),oHe[f]),h),c=h,h=d,d=uS(u,10),u=l,l=p}p=D8(this.h[1],s,d),this.h[1]=D8(this.h[2],o,h),this.h[2]=D8(this.h[3],a,c),this.h[3]=D8(this.h[4],r,l),this.h[4]=D8(this.h[0],i,u),this.h[0]=p},tf.prototype._digest=function(e){return e==="hex"?iy.toHex32(this.h,"little"):iy.split32(this.h,"little")};function Kae(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function tHe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function nHe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var rHe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],iHe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sHe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],oHe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],aHe=Nn,cHe=j8;function Ob(t,e,n){if(!(this instanceof Ob))return new Ob(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(aHe.toArray(e,n))}var lHe=Ob;Ob.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),cHe(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)},Ob.prototype.update=function(e,n){return this.inner.update(e,n),this},Ob.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(t){var e=t;e.utils=Nn,e.common=kb,e.sha=$b,e.ripemd=Wae,e.hmac=lHe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Aae);const nf=Hi(Aae);function Gae(t){return"0x"+nf.sha256().update(yn(t)).digest("hex")}const uHe="web/5.8.0";var dHe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};function hHe(t,e){return dHe(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:yn(new Uint8Array(i))}})}var fHe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const zd=new ke(uHe);function Zae(t){return new Promise(e=>{setTimeout(e,t)})}function Ng(t,e){if(t==null)return null;if(typeof t=="string")return t;if(ND(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return iS(t)}catch{}return wn(t)}return t}function pHe(t){return Op(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function gHe(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;zd.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;zd.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,d=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&zd.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(d=t.timeout),t.headers)for(const y in t.headers)a[y.toLowerCase()]={key:y,value:String(t.headers[y])},["if-none-match","if-modified-since"].indexOf(y.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&zd.throwError("basic authentication requires a secure https url",ke.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const y=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Goe(Op(y))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Sc(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=c?c.match(h):null;if(f)try{const y={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?Koe(f[3]):pHe(f[3])};let b=y.body;return n&&(b=n(y.body,y)),Promise.resolve(b)}catch(y){zd.throwError("processing response error",ke.errors.SERVER_ERROR,{body:Ng(f[1],f[2]),error:y,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach(y=>{const b=a[y];p[b.key]=b.value}),l.headers=p;const m=function(){let y=null;return{promise:new Promise(function(E,_){d&&(y=setTimeout(()=>{y!=null&&(y=null,_(zd.makeError("timeout",ke.errors.TIMEOUT,{requestBody:Ng(l.body,p["content-type"]),requestMethod:l.method,timeout:d,url:c})))},d))}),cancel:function(){y!=null&&(clearTimeout(y),y=null)}}}(),w=function(){return fHe(this,void 0,void 0,function*(){for(let y=0;y<r;y++){let b=null;try{if(b=yield hHe(c,l),y<r){if(b.statusCode===301||b.statusCode===302){const E=b.headers.location||"";if(l.method==="GET"&&E.match(/^https:/)){c=b.headers.location;continue}}else if(b.statusCode===429){let E=!0;if(i&&(E=yield i(y,c)),E){let _=0;const T=b.headers["retry-after"];typeof T=="string"&&T.match(/^[1-9][0-9]*$/)?_=parseInt(T)*1e3:_=s*parseInt(String(Math.random()*Math.pow(2,y))),yield Zae(_);continue}}}}catch(E){b=E.response,b==null&&(m.cancel(),zd.throwError("missing response",ke.errors.SERVER_ERROR,{requestBody:Ng(l.body,p["content-type"]),requestMethod:l.method,serverError:E,url:c}))}let v=b.body;if(u&&b.statusCode===304?v=null:!o&&(b.statusCode<200||b.statusCode>=300)&&(m.cancel(),zd.throwError("bad response",ke.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:Ng(v,b.headers?b.headers["content-type"]:null),requestBody:Ng(l.body,p["content-type"]),requestMethod:l.method,url:c})),n)try{const E=yield n(v,b);return m.cancel(),E}catch(E){if(E.throttleRetry&&y<r){let _=!0;if(i&&(_=yield i(y,c)),_){const T=s*parseInt(String(Math.random()*Math.pow(2,y)));yield Zae(T);continue}}m.cancel(),zd.throwError("processing response error",ke.errors.SERVER_ERROR,{body:Ng(v,b.headers?b.headers["content-type"]:null),error:E,requestBody:Ng(l.body,p["content-type"]),requestMethod:l.method,url:c})}return m.cancel(),v}return zd.throwError("failed response",ke.errors.SERVER_ERROR,{requestBody:Ng(l.body,p["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([m.promise,w])}function YD(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(iS(s))}catch(c){zd.throwError("invalid JSON",ke.errors.SERVER_ERROR,{body:s,error:c})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=Op(e);const s=typeof t=="string"?{url:t}:Sc(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Sc(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return gHe(t,i,r)}function L8(t,e){return e||(e={}),e=Sc(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&r(new Error("retry limit reached"));return}let d=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));d<e.floor&&(d=e.floor),d>e.ceiling&&(d=e.ceiling),setTimeout(l,d)}return null},function(u){o()&&r(u)})}l()})}for(var dS="qpzry9x8gf2tvdw0s3jn54khce6mua7l",JD={},hS=0;hS<dS.length;hS++){var QD=dS.charAt(hS);if(JD[QD]!==void 0)throw new TypeError(QD+" is ambiguous");JD[QD]=hS}function Rb(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Yae(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=Rb(e)^r>>5}for(e=Rb(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=Rb(e)^i&31}return e}function mHe(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=Yae(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=Rb(r)^o,i+=dS.charAt(o)}for(s=0;s<6;++s)r=Rb(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=dS.charAt(a)}return i}function Jae(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=Yae(s);if(typeof a=="string")return a;for(var c=[],l=0;l<o.length;++l){var u=o.charAt(l),d=JD[u];if(d===void 0)return"Unknown character "+u;a=Rb(a)^d,!(l+6>=o.length)&&c.push(d)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function yHe(){var t=Jae.apply(null,arguments);if(typeof t=="object")return t}function wHe(t){var e=Jae.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function fS(t,e,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function vHe(t){var e=fS(t,8,5,!0);if(Array.isArray(e))return e}function bHe(t){var e=fS(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function xHe(t){var e=fS(t,5,8,!1);if(Array.isArray(e))return e}function EHe(t){var e=fS(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var CHe={decodeUnsafe:yHe,decode:wHe,encode:mHe,toWordsUnsafe:vHe,toWords:bHe,fromWordsUnsafe:xHe,fromWords:EHe};const Qae=Hi(CHe),pS="providers/5.8.0";function Mb(t,e,n){return n={path:e,exports:{},require:function(r,i){return _He(r,i??n.path)}},t(n,n.exports),n.exports}function _He(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var XD=Xae;function Xae(t,e){if(!t)throw new Error(e||"Assertion failed")}Xae.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Wd=Mb(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),d=u>>8,h=u&255;d?c.push(d,h):c.push(h)}return c}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}n.toHex=s,n.encode=function(a,c){return c==="hex"?s(a):a}}),$l=Mb(function(t,e){var n=e;n.assert=XD,n.toArray=Wd.toArray,n.zero2=Wd.zero2,n.toHex=Wd.toHex,n.encode=Wd.encode;function r(c,l,u){var d=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<d.length;h+=1)d[h]=0;var f=1<<l+1,p=c.clone();for(h=0;h<d.length;h++){var m,w=p.andln(f-1);p.isOdd()?(w>(f>>1)-1?m=(f>>1)-w:m=w,p.isubn(m)):m=0,d[h]=m,p.iushrn(1)}return d}n.getNAF=r;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var d=0,h=0,f;c.cmpn(-d)>0||l.cmpn(-h)>0;){var p=c.andln(3)+d&3,m=l.andln(3)+h&3;p===3&&(p=-1),m===3&&(m=-1);var w;p&1?(f=c.andln(7)+d&7,(f===3||f===5)&&m===2?w=-p:w=p):w=0,u[0].push(w);var y;m&1?(f=l.andln(7)+h&7,(f===3||f===5)&&p===2?y=-m:y=m):y=0,u[1].push(y),2*d===w+1&&(d=1-d),2*h===y+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}n.getJSF=i;function s(c,l,u){var d="_"+l;c.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=u.call(this)}}n.cachedProperty=s;function o(c){return typeof c=="string"?n.toArray(c,"hex"):c}n.parseBytes=o;function a(c){return new en(c,"hex","le")}n.intFromLE=a}),gS=$l.getNAF,AHe=$l.getJSF,mS=$l.assert;function Og(t,e){this.type=t,this.p=new en(e.p,16),this.red=e.prime?en.red(e.prime):en.mont(this.p),this.zero=new en(0).toRed(this.red),this.one=new en(1).toRed(this.red),this.two=new en(2).toRed(this.red),this.n=e.n&&new en(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var sy=Og;Og.prototype.point=function(){throw new Error("Not implemented")},Og.prototype.validate=function(){throw new Error("Not implemented")},Og.prototype._fixedNafMul=function(e,n){mS(e.precomputed);var r=e._getDoubles(),i=gS(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=r.step){c=0;for(var l=a+r.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?d=d.mixedAdd(r.points[a]):c===-h&&(d=d.mixedAdd(r.points[a].neg()));u=u.add(d)}return u.toP()},Og.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=gS(n,r,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];mS(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a},Og.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,d,h;for(u=0;u<i;u++){h=n[u];var f=h._getNAFPoints(e);o[u]=f.wnd,a[u]=f.points}for(u=i-1;u>=1;u-=2){var p=u-1,m=u;if(o[p]!==1||o[m]!==1){c[p]=gS(r[p],o[p],this._bitLength),c[m]=gS(r[m],o[m],this._bitLength),l=Math.max(c[p].length,l),l=Math.max(c[m].length,l);continue}var w=[n[p],null,null,n[m]];n[p].y.cmp(n[m].y)===0?(w[1]=n[p].add(n[m]),w[2]=n[p].toJ().mixedAdd(n[m].neg())):n[p].y.cmp(n[m].y.redNeg())===0?(w[1]=n[p].toJ().mixedAdd(n[m]),w[2]=n[p].add(n[m].neg())):(w[1]=n[p].toJ().mixedAdd(n[m]),w[2]=n[p].toJ().mixedAdd(n[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=AHe(r[p],r[m]);for(l=Math.max(b[0].length,l),c[p]=new Array(l),c[m]=new Array(l),d=0;d<l;d++){var v=b[0][d]|0,E=b[1][d]|0;c[p][d]=y[(v+1)*3+(E+1)],c[m][d]=0,a[p]=w}}var _=this.jpoint(null,null,null),T=this._wnafT4;for(u=l;u>=0;u--){for(var I=0;u>=0;){var R=!0;for(d=0;d<i;d++)T[d]=c[d][u]|0,T[d]!==0&&(R=!1);if(!R)break;I++,u--}if(u>=0&&I++,_=_.dblp(I),u<0)break;for(d=0;d<i;d++){var S=T[d];S!==0&&(S>0?h=a[d][S-1>>1]:S<0&&(h=a[d][-S-1>>1].neg()),h.type==="affine"?_=_.mixedAdd(h):_=_.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?_:_.toP()};function Tu(t,e){this.curve=t,this.type=e,this.precomputed=null}Og.BasePoint=Tu,Tu.prototype.eq=function(){throw new Error("Not implemented")},Tu.prototype.validate=function(){return this.curve.validate(this)},Og.prototype.decodePoint=function(e,n){e=$l.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?mS(e[e.length-1]%2===0):e[0]===7&&mS(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Tu.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Tu.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))},Tu.prototype.encode=function(e,n){return $l.encode(this._encode(n),e)},Tu.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this},Tu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1},Tu.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},Tu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}},Tu.prototype._getBeta=function(){return null},Tu.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var eL=Mb(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),SHe=$l.assert;function Pu(t){sy.call(this,"short",t),this.a=new en(t.a,16).toRed(this.red),this.b=new en(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}eL(Pu,sy);var IHe=Pu;Pu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new en(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new en(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],SHe(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new en(a.a,16),b:new en(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}},Pu.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:en.mont(e),r=new en(2).toRed(n).redInvm(),i=r.redNeg(),s=new en(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]},Pu.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new en(1),o=new en(0),a=new en(0),c=new en(1),l,u,d,h,f,p,m,w=0,y,b;r.cmpn(0)!==0;){var v=i.div(r);y=i.sub(v.mul(r)),b=a.sub(v.mul(s));var E=c.sub(v.mul(o));if(!d&&y.cmp(n)<0)l=m.neg(),u=s,d=y.neg(),h=b;else if(d&&++w===2)break;m=y,i=r,r=y,a=s,s=b,c=o,o=E}f=y.neg(),p=b;var _=d.sqr().add(h.sqr()),T=f.sqr().add(p.sqr());return T.cmp(_)>=0&&(f=l,p=u),d.negative&&(d=d.neg(),h=h.neg()),f.negative&&(f=f.neg(),p=p.neg()),[{a:d,b:h},{a:f,b:p}]},Pu.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),c=o.mul(i.a),l=s.mul(r.b),u=o.mul(i.b),d=e.sub(a).sub(c),h=l.add(u).neg();return{k1:d,k2:h}},Pu.prototype.pointFromX=function(e,n){e=new en(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)},Pu.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0},Pu.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,r),d=0;d<o*2;d++)i[d]=null,s[d]=null;return u};function Hs(t,e,n,r){sy.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new en(e,16),this.y=new en(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}eL(Hs,sy.BasePoint),Pu.prototype.point=function(e,n,r){return new Hs(this,e,n,r)},Pu.prototype.pointFromJSON=function(e,n){return Hs.fromJSON(this,e,n)},Hs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}},Hs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Hs.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i},Hs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Hs.prototype.isInfinity=function(){return this.inf},Hs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Hs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Hs.prototype.getX=function(){return this.x.fromRed()},Hs.prototype.getY=function(){return this.y.fromRed()},Hs.prototype.mul=function(e){return e=new en(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Hs.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)},Hs.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)},Hs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Hs.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n},Hs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function vo(t,e,n,r){sy.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new en(0)):(this.x=new en(e,16),this.y=new en(n,16),this.z=new en(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eL(vo,sy.BasePoint),Pu.prototype.jpoint=function(e,n,r){return new vo(this,e,n,r)},vo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)},vo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},vo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),h=i.redMul(u),f=l.redSqr().redIAdd(d).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(o.redMul(d)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(f,p,m)},vo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=r.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(u)),p=this.z.redMul(a);return this.curve.jpoint(h,f,p)},vo.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var d=o.redSqr(),h=u.redSqr(),f=h.redSqr(),p=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(l)),m=o.redMul(h),w=p.redSqr().redISub(m.redAdd(m)),y=m.redISub(w),b=p.redMul(y);b=b.redIAdd(b).redISub(f);var v=u.redMul(c);n+1<e&&(l=l.redMul(f)),o=w,c=v,u=b}return this.curve.jpoint(o,u.redMul(s),c)},vo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},vo.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,n=c.redMul(a.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(d).redISub(f);p=p.redIAdd(p);var m=d.redAdd(d).redIAdd(d),w=m.redSqr(),y=f.redIAdd(f);y=y.redIAdd(y),y=y.redIAdd(y),e=w.redISub(p).redISub(p),n=m.redMul(p.redISub(e)).redISub(y),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)},vo.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),n=c.redMul(a.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),p=this.x.redSub(d).redMul(this.x.redAdd(d));p=p.redAdd(p).redIAdd(p);var m=f.redIAdd(f);m=m.redIAdd(m);var w=m.redAdd(m);e=p.redSqr().redISub(w),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(d);var y=h.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),n=p.redMul(m.redISub(e)).redISub(y)}return this.curve.jpoint(e,n,r)},vo.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=n.redAdd(n);l=l.redIAdd(l);var u=l.redMul(a),d=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(d),f=a.redSqr();f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var p=c.redMul(h).redISub(f),m=r.redAdd(r).redMul(i);return this.curve.jpoint(d,p,m)},vo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),d=n.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.x.redMul(c).redISub(d);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var p=this.z.redAdd(a).redSqr().redISub(r).redISub(c);return this.curve.jpoint(h,f,p)},vo.prototype.mul=function(e,n){return e=new en(e,n),this.curve._wnafMul(this,e)},vo.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0},vo.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}},vo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},vo.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var yS=Mb(function(t,e){var n=e;n.base=sy,n.short=IHe,n.mont=null,n.edwards=null}),wS=Mb(function(t,e){var n=e,r=$l.assert;function i(a){a.type==="short"?this.curve=new yS.short(a):a.type==="edwards"?this.curve=new yS.edwards(a):this.curve=new yS.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,c){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:nf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:nf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:nf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:nf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:nf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:nf.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:nf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:nf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Rg(t){if(!(this instanceof Rg))return new Rg(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wd.toArray(t.entropy,t.entropyEnc||"hex"),n=Wd.toArray(t.nonce,t.nonceEnc||"hex"),r=Wd.toArray(t.pers,t.persEnc||"hex");XD(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var ece=Rg;Rg.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Rg.prototype._hmac=function(){return new nf.hmac(this.hash,this.K)},Rg.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Rg.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=Wd.toArray(e,n),r=Wd.toArray(r,i),XD(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Rg.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=Wd.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,Wd.encode(o,n)};var tL=$l.assert;function sa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var nL=sa;sa.fromPublic=function(e,n,r){return n instanceof sa?n:new sa(e,{pub:n,pubEnc:r})},sa.fromPrivate=function(e,n,r){return n instanceof sa?n:new sa(e,{priv:n,privEnc:r})},sa.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},sa.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub},sa.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},sa.prototype._importPrivate=function(e,n){this.priv=new en(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)},sa.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?tL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&tL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)},sa.prototype.derive=function(e){return e.validate()||tL(e.validate(),"public point not validated"),e.mul(this.priv).getX()},sa.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)},sa.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)},sa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kHe=$l.assert;function vS(t,e){if(t instanceof vS)return t;this._importDER(t,e)||(kHe(t.r&&t.s,"Signature without r or s"),this.r=new en(t.r,16),this.s=new en(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var bS=vS;function $He(){this.place=0}function rL(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function tce(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}vS.prototype._importDER=function(e,n){e=$l.toArray(e,n);var r=new $He;if(e[r.place++]!==48)return!1;var i=rL(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=rL(e,r);if(s===!1||e[r.place]&128)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=rL(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var c=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new en(o),this.s=new en(c),this.recoveryParam=null,!0};function iL(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}vS.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=tce(n),r=tce(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];iL(i,n.length),i=i.concat(n),i.push(2),iL(i,r.length);var s=i.concat(r),o=[48];return iL(o,s.length),o=o.concat(s),$l.encode(o,e)};var THe=function(){throw new Error("unsupported")},oy=$l.assert;function Nu(t){if(!(this instanceof Nu))return new Nu(t);typeof t=="string"&&(oy(Object.prototype.hasOwnProperty.call(wS,t),"Unknown curve "+t),t=wS[t]),t instanceof wS.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var PHe=Nu;Nu.prototype.keyPair=function(e){return new nL(this,e)},Nu.prototype.keyFromPrivate=function(e,n){return nL.fromPrivate(this,e,n)},Nu.prototype.keyFromPublic=function(e,n){return nL.fromPublic(this,e,n)},Nu.prototype.genKeyPair=function(e){e||(e={});for(var n=new ece({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||THe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new en(2));;){var s=new en(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},Nu.prototype._truncateToN=function(e,n,r){var i;if(en.isBN(e)||typeof e=="number")e=new en(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new en(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new en(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e},Nu.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!en.isBN(e)){oy(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),oy(e.length>>>0===e.length);for(var s=0;s<e.length;s++)oy((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),oy(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),c=e.toArray("be",o);oy(new en(c).eq(e),"Can not sign message");for(var l=new ece({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new en(1)),d=0;;d++){var h=i.k?i.k(d):new en(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var p=f.getX(),m=p.umod(this.n);if(m.cmpn(0)!==0){var w=h.invm(this.n).mul(m.mul(n.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var y=(f.getY().isOdd()?1:0)|(p.cmp(m)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),y^=1),new bS({r:m,s:w,recoveryParam:y})}}}}}},Nu.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new bS(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,r.getPublic(),u),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(l,r.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)},Nu.prototype.recoverPubKey=function(t,e,n,r){oy((3&n)===n,"The recovery param is more than two bits"),e=new bS(e,r);var i=this.n,s=new en(t),o=e.r,a=e.s,c=n&1,l=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),d=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(d,o,h)},Nu.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new bS(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var NHe=Mb(function(t,e){var n=e;n.version="6.6.1",n.utils=$l,n.rand=function(){throw new Error("unsupported")},n.curve=yS,n.curves=wS,n.ec=PHe,n.eddsa=null}),OHe=NHe.ec;const RHe="signing-key/5.8.0",sL=new ke(RHe);let oL=null;function Mg(){return oL||(oL=new OHe("secp256k1")),oL}class MHe{constructor(e){Tn(this,"curve","secp256k1"),Tn(this,"privateKey",wn(e)),ry(this.privateKey)!==32&&sL.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=Mg().keyFromPrivate(yn(this.privateKey));Tn(this,"publicKey","0x"+n.getPublic(!1,"hex")),Tn(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Tn(this,"_isSigningKey",!0)}_addPoint(e){const n=Mg().keyFromPublic(yn(this.publicKey)),r=Mg().keyFromPublic(yn(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=Mg().keyFromPrivate(yn(this.privateKey)),r=yn(e);r.length!==32&&sL.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return eS({recoveryParam:i.recoveryParam,r:Mi("0x"+i.r.toString(16),32),s:Mi("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=Mg().keyFromPrivate(yn(this.privateKey)),r=Mg().keyFromPublic(yn(nce(e)));return Mi("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function jHe(t,e){const n=eS(e),r={r:yn(n.r),s:yn(n.s)};return"0x"+Mg().recoverPubKey(yn(t),r,n.recoveryParam).encode("hex",!1)}function nce(t,e){const n=yn(t);return n.length===32?new MHe(n).publicKey:n.length===33?"0x"+Mg().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?wn(n):sL.throwArgumentError("invalid public or private key","key","[REDACTED]")}const BHe="transactions/5.8.0",jp=new ke(BHe);var rce;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(rce||(rce={}));function aL(t){return t==="0x"?null:Ld(t)}function oa(t){return t==="0x"?qze:ht.from(t)}function DHe(t){const e=nce(t);return Ld(Fa(wo(Fa(e,1)),12))}function ice(t,e){return DHe(jHe(yn(t),e))}function Tl(t,e){const n=Ab(ht.from(t).toHexString());return n.length>32&&jp.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function cL(t,e){return{address:Ld(t),storageKeys:(e||[]).map((n,r)=>(ry(n)!==32&&jp.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function U8(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&jp.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),cL(n[0],n[1])):cL(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return cL(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function sce(t){return U8(t).map(e=>[e.address,e.storageKeys])}function LHe(t,e){if(t.gasPrice!=null){const r=ht.from(t.gasPrice),i=ht.from(t.maxFeePerGas||0);r.eq(i)||jp.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[Tl(t.chainId||0,"chainId"),Tl(t.nonce||0,"nonce"),Tl(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tl(t.maxFeePerGas||0,"maxFeePerGas"),Tl(t.gasLimit||0,"gasLimit"),t.to!=null?Ld(t.to):"0x",Tl(t.value||0,"value"),t.data||"0x",sce(t.accessList||[])];if(e){const r=eS(e);n.push(Tl(r.recoveryParam,"recoveryParam")),n.push(Ab(r.r)),n.push(Ab(r.s))}return Sl(["0x02",cS(n)])}function UHe(t,e){const n=[Tl(t.chainId||0,"chainId"),Tl(t.nonce||0,"nonce"),Tl(t.gasPrice||0,"gasPrice"),Tl(t.gasLimit||0,"gasLimit"),t.to!=null?Ld(t.to):"0x",Tl(t.value||0,"value"),t.data||"0x",sce(t.accessList||[])];if(e){const r=eS(e);n.push(Tl(r.recoveryParam,"recoveryParam")),n.push(Ab(r.r)),n.push(Ab(r.s))}return Sl(["0x01",cS(n)])}function oce(t,e,n){try{const r=oa(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{jp.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Mi(e[1],32),t.s=Mi(e[2],32);try{const r=wo(n(t));t.from=ice(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function FHe(t){const e=UD(t.slice(1));e.length!==9&&e.length!==12&&jp.throwArgumentError("invalid component count for transaction type: 2","payload",wn(t));const n=oa(e[2]),r=oa(e[3]),i={type:2,chainId:oa(e[0]).toNumber(),nonce:oa(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:oa(e[4]),to:aL(e[5]),value:oa(e[6]),data:e[7],accessList:U8(e[8])};return e.length===9||(i.hash=wo(t),oce(i,e.slice(9),LHe)),i}function zHe(t){const e=UD(t.slice(1));e.length!==8&&e.length!==11&&jp.throwArgumentError("invalid component count for transaction type: 1","payload",wn(t));const n={type:1,chainId:oa(e[0]).toNumber(),nonce:oa(e[1]).toNumber(),gasPrice:oa(e[2]),gasLimit:oa(e[3]),to:aL(e[4]),value:oa(e[5]),data:e[6],accessList:U8(e[7])};return e.length===8||(n.hash=wo(t),oce(n,e.slice(8),UHe)),n}function WHe(t){const e=UD(t);e.length!==9&&e.length!==6&&jp.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:oa(e[0]).toNumber(),gasPrice:oa(e[1]),gasLimit:oa(e[2]),to:aL(e[3]),value:oa(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=ht.from(e[6]).toNumber()}catch{return n}if(n.r=Mi(e[7],32),n.s=Mi(e[8],32),ht.from(n.r).isZero()&&ht.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(wn(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=wo(cS(i));try{n.from=ice(s,{r:wn(n.r),s:wn(n.s),recoveryParam:r})}catch{}n.hash=wo(t)}return n.type=null,n}function qHe(t){const e=yn(t);if(e[0]>127)return WHe(e);switch(e[0]){case 1:return zHe(e);case 2:return FHe(e)}return jp.throwError(`unsupported transaction type: ${e[0]}`,ke.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const F8=new ke(pS);class Nt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=d=>this.data(d,!0);return e.transaction={hash:o,type:l,accessList:Nt.allowNull(this.accessList.bind(this),null),blockHash:Nt.allowNull(o,null),blockNumber:Nt.allowNull(c,null),transactionIndex:Nt.allowNull(c,null),confirmations:Nt.allowNull(c,null),from:n,gasPrice:Nt.allowNull(r),maxPriorityFeePerGas:Nt.allowNull(r),maxFeePerGas:Nt.allowNull(r),gasLimit:r,to:Nt.allowNull(n,null),value:r,nonce:c,data:s,r:Nt.allowNull(this.uint256),s:Nt.allowNull(this.uint256),v:Nt.allowNull(c),creates:Nt.allowNull(n,null),raw:Nt.allowNull(s)},e.transactionRequest={from:Nt.allowNull(n),nonce:Nt.allowNull(c),gasLimit:Nt.allowNull(r),gasPrice:Nt.allowNull(r),maxPriorityFeePerGas:Nt.allowNull(r),maxFeePerGas:Nt.allowNull(r),to:Nt.allowNull(n),value:Nt.allowNull(r),data:Nt.allowNull(u),type:Nt.allowNull(c),accessList:Nt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:n,topics:Nt.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Nt.allowNull(this.address,null),from:Nt.allowNull(this.address,null),contractAddress:Nt.allowNull(n,null),transactionIndex:c,root:Nt.allowNull(a),gasUsed:r,logsBloom:Nt.allowNull(s),blockHash:o,transactionHash:o,logs:Nt.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Nt.allowNull(c,null),cumulativeGasUsed:r,effectiveGasPrice:Nt.allowNull(r),status:Nt.allowNull(c),type:l},e.block={hash:Nt.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Nt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Nt.allowNull(n),extraData:s,transactions:Nt.allowNull(Nt.arrayOf(o)),baseFeePerGas:Nt.allowNull(r)},e.blockWithTransactions=Sc(e.block),e.blockWithTransactions.transactions=Nt.allowNull(Nt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Nt.allowNull(i,void 0),toBlock:Nt.allowNull(i,void 0),blockHash:Nt.allowNull(o,void 0),address:Nt.allowNull(n,void 0),topics:Nt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Nt.allowNull(c),blockHash:Nt.allowNull(o),transactionIndex:c,removed:Nt.allowNull(this.boolean.bind(this)),address:n,data:Nt.allowFalsish(s,"0x"),topics:Nt.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return U8(e||[])}number(e){return e==="0x"?0:ht.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ht.from(e).toNumber()}bigNumber(e){return ht.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),Dr(e))?e.toLowerCase():F8.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Ld(e)}callAddress(e){if(!Dr(e,32))return null;const n=Ld(Fa(e,12));return n===Wze?null:n}contractAddress(e){return $We(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Dr(e))return RD(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return ry(r)!==32?F8.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=ht.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!Dr(e))throw new Error("invalid uint256");return Mi(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=Nt.check(n,e);return i._difficulty=r==null?null:ht.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Nt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ht.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=Nt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;Dr(r)&&(r=ht.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),Dr(r)&&(r=ht.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return qHe(e)}receiptLog(e){return Nt.check(this.formats.receiptLog,e)}receipt(e){const n=Nt.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=ht.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&F8.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):F8.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&F8.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return Nt.check(this.formats.filter,e)}filterLog(e){return Nt.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var cn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const An=new ke(pS),HHe=10;function ace(t){return t==null?"null":(ry(t)!==32&&An.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function cce(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[ace(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return ace(e)}).join("&")}function VHe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function jb(t){if(typeof t=="string"){if(t=t.toLowerCase(),ry(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+cce(t);if(Lze.isForkEvent(t))throw An.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+cce(t.topics||[])}throw new Error("invalid event - "+t)}function z8(){return new Date().getTime()}function lce(t){return new Promise(e=>{setTimeout(e,t)})}const KHe=["block","network","pending","poll"];let GHe=class{constructor(e,n,r){Tn(this,"tag",e),Tn(this,"listener",n),Tn(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=VHe(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||KHe.indexOf(this.tag)>=0}};const ZHe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function lL(t){return Mi(ht.from(t).toHexString(),32)}function uce(t){return LD.encode(ny([t,Fa(Gae(Gae(t)),0,4)]))}const dce=new RegExp("^(ipfs)://(.*)$","i"),hce=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),dce,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function xS(t,e){try{return iS(W8(t,e))}catch{}return null}function W8(t,e){if(t==="0x")return null;const n=ht.from(Fa(t,e,e+32)).toNumber(),r=ht.from(Fa(t,n,n+32)).toNumber();return Fa(t,n+32,n+32+r)}function uL(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):An.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function fce(t){const e=yn(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function YHe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function pce(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=yn(t[r]);e[r]=fce(n),e.push(fce(i.length)),e.push(YHe(i)),n+=32+Math.ceil(i.length/32)*32}return Sl(e)}class gce{constructor(e,n,r,i){Tn(this,"provider",e),Tn(this,"name",r),Tn(this,"address",e.formatter.address(n)),Tn(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ht.from(e).eq(1)).catch(e=>{if(e.code===ke.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return cn(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Sl([e,aS(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Sl(["0x9061b923",pce([CWe(this.name),r.data])]));try{let s=yield this.provider.call(r);return yn(s).length%32===4&&An.throwError("resolver threw error",ke.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=W8(s,0)),s}catch(s){if(s.code===ke.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return cn(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?W8(r,0):null})}_getAddress(e,n){const r=ZHe[String(e)];if(r==null&&An.throwError(`unsupported coin type: ${e}`,ke.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=yn(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return uce(ny([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return uce(ny([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=Qae.toWords(i.slice(2));return a.unshift(o),Qae.encode(r.prefix,a)}}return null}getAddress(e){return cn(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Hze?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ke.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",lL(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&An.throwError("invalid or unsupported coin data",ke.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return cn(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<hce.length;r++){const i=n.match(hce[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:uL(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=Mi(ht.from(c[1]).toHexString(),32);if(s==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Sl(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(s==="erc1155"){const m=ht.from(yield this.provider.call({to:l,data:Sl(["0x00fdd58e",Mi(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const d={to:this.provider.formatter.address(c[0]),data:Sl([o,u])};let h=xS(yield this.provider.call(d),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=uL(h)),e.push({type:"metadata-url",content:h});const f=yield YD(h);if(!f)return null;e.push({type:"metadata",content:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return null;if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(dce)==null)return null;e.push({type:"url-ipfs",content:p}),p=uL(p)}return e.push({type:"url",content:p}),{linkage:e,url:p}}}}}catch{}return null})}getContentHash(){return cn(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+LD.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+LD.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Goe("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return An.throwError("invalid or unsupported content hash data",ke.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return cn(this,void 0,void 0,function*(){let n=Op(e);n=ny([lL(64),lL(n.length),n]),n.length%32!==0&&(n=ny([n,Mi("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",wn(n));return r==null||r==="0x"?null:iS(r)})}}let dL=null,JHe=1;class QHe extends DD{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Tn(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=T8(new.target,"getNetwork")(e);n?(Tn(this,"_network",n),this.emit("network",n,null)):An.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return cn(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||An.throwError("no network detected",ke.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Tn(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return L8(()=>this._ready().then(e=>e,e=>{if(!(e.code===ke.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return dL==null&&(dL=new Nt),dL}static getNetwork(e){return zze(e??"homestead")}ccipReadFetch(e,n,r){return cn(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),d=yield YD({url:l,errorPassThrough:!0},u,(f,p)=>(f.status=p.statusCode,f));if(d.data)return d.data;const h=d.message||"unknown error";if(d.status>=400&&d.status<500)return An.throwError(`response not found during CCIP fetch: ${h}`,ke.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return An.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,ke.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return cn(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(z8()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=z8(),r=mo({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=z8();return i=ht.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return cn(this,void 0,void 0,function*(){const e=JHe++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)An.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",An.makeError("network block skew detected",ke.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return cn(this,void 0,void 0,function*(){return An.throwError("provider does not support network detection",ke.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return cn(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield lce(0),this._network;const r=An.makeError("underlying network changed",ke.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=z8();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=z8(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return cn(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return cn(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(h=>{h()}),!1)},d=h=>{h.confirmations<n||u()||o(h)};if(this.on(e,d),c.push(()=>{this.removeListener(e,d)}),i){let h=i.startBlock,f=null;const p=m=>cn(this,void 0,void 0,function*(){l||(yield lce(1e3),this.getTransactionCount(i.from).then(w=>cn(this,void 0,void 0,function*(){if(!l){if(w<=i.nonce)h=m;else{{const y=yield this.getTransaction(e);if(y&&y.blockNumber!=null)return}for(f==null&&(f=h-3,f<i.startBlock&&(f=i.startBlock));f<=m;){if(l)return;const y=yield this.getBlockWithTransactions(f);for(let b=0;b<y.transactions.length;b++){const v=y.transactions[b];if(v.hash===e)return;if(v.from===i.from&&v.nonce===i.nonce){if(l)return;const E=yield this.waitForTransaction(v.hash,n);if(u())return;let _="replaced";v.data===i.data&&v.to===i.to&&v.value.eq(i.value)?_="repriced":v.data==="0x"&&v.from===v.to&&v.value.isZero()&&(_="cancelled"),a(An.makeError("transaction was replaced",ke.errors.TRANSACTION_REPLACED,{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:this._wrapTransaction(v),hash:e,receipt:E}));return}}f++}}l||this.once("block",p)}}),w=>{l||this.once("block",p)}))});if(l)return;this.once("block",p),c.push(()=>{this.removeListener("block",p)})}if(typeof r=="number"&&r>0){const h=setTimeout(()=>{u()||a(An.makeError("timeout exceeded",ke.errors.TIMEOUT,{timeout:r}))},r);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return cn(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ht.from(e)}catch(n){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mo({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return ht.from(i)}catch(s){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mo({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return ht.from(i).toNumber()}catch(s){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mo({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return wn(i)}catch(s){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield mo({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>RD(o))}),s=yield this.perform("getStorageAt",i);try{return wn(s)}catch(o){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&ry(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&An.throwError("Transaction hash mismatch from Provider.sendTransaction.",ke.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>cn(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&An.throwError("transaction failed",ke.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>wn(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return cn(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?ht.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?wn(s):null))}),this.formatter.transactionRequest(yield mo(r))})}_getFilter(e){return cn(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield mo(n))})}_call(e,n,r){return cn(this,void 0,void 0,function*(){r>=HHe&&An.throwError("CCIP read exceeded maximum redirections",ke.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&ry(s)%32===4)try{const o=Fa(s,4),a=Fa(o,0,32);ht.from(a).eq(i)||An.throwError("CCIP Read sender did not match",ke.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=ht.from(Fa(o,32,64)).toNumber(),u=ht.from(Fa(o,l,l+32)).toNumber(),d=Fa(o,l+32);for(let y=0;y<u;y++){const b=xS(d,y*32);b==null&&An.throwError("CCIP Read contained corrupt URL string",ke.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(b)}const h=W8(o,64);ht.from(Fa(o,100,128)).isZero()||An.throwError("CCIP Read callback selector included junk",ke.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const f=Fa(o,96,100),p=W8(o,128),m=yield this.ccipReadFetch(e,h,c);m==null&&An.throwError("CCIP Read disabled or provided no URLs",ke.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:Sl([f,pce([m,p])])};return this._call(w,n,r+1)}catch(o){if(o.code===ke.errors.SERVER_ERROR)throw o}try{return wn(s)}catch(o){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mo({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mo({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return ht.from(r)}catch(i){return An.throwError("bad result from backend",ke.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return cn(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&An.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&An.throwError("ENS name not configured",ke.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return cn(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(Dr(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Dr(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{An.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return L8(()=>cn(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return cn(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return L8(()=>cn(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return cn(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return L8(()=>cn(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return cn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mo({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),Nt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return cn(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return cn(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&An.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return cn(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new gce(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return cn(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||An.throwError("network does not support ENS",ke.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+aS(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return cn(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(Dr(e))throw r}typeof e!="string"&&An.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return cn(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=xS(yield this.call({to:r,data:"0x691f3431"+aS(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return cn(this,void 0,void 0,function*(){let n=null;if(Dr(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new gce(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==ke.errors.CALL_EXCEPTION)throw a}try{const a=xS(yield this.call({to:o,data:"0x691f3431"+aS(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==ke.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return An.throwError(e+" not implemented",ke.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new GHe(jb(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=jb(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=jb(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=jb(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=jb(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=jb(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var Bp=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const ds=new ke(pS),XHe=["call","estimateGas"];function q8(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=Dr(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=q8(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return q8(JSON.parse(t),e)}catch{}return null}function mce(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=q8(e,!0);if(s)return s.data;ds.throwError("missing revert data in call exception; Transaction reverted without a reason string",ke.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=q8(e.body,!1);s==null&&(s=q8(e,!1)),s&&ds.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ke.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===ke.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&ds.throwError("insufficient funds for intrinsic transaction cost",ke.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&ds.throwError("nonce has already been used",ke.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ds.throwError("replacement fee too low",ke.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&ds.throwError("legacy pre-eip-155 transactions not supported",ke.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),XHe.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&ds.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ke.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function yce(t){return new Promise(function(e){setTimeout(e,t)})}function eVe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function H8(t){return t&&t.toLowerCase()}const hL={};class wce extends Noe{constructor(e,n,r){if(super(),e!==hL)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Tn(this,"provider",n),r==null&&(r=0),typeof r=="string"?(Tn(this,"_address",this.provider.formatter.address(r)),Tn(this,"_index",null)):typeof r=="number"?(Tn(this,"_index",r),Tn(this,"_address",null)):ds.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return ds.throwError("cannot alter JSON-RPC Signer connection",ke.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new tVe(hL,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&ds.throwError("unknown account #"+this._index,ke.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Sc(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=Sc(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>Bp(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&ds.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),mo({tx:mo(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&ds.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&ds.throwError("user rejected transaction",ke.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),mce("sendTransaction",o,s)))})}signTransaction(e){return ds.throwError("signing transactions is unsupported",ke.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Bp(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield L8(()=>Bp(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return Bp(this,void 0,void 0,function*(){const n=typeof e=="string"?Op(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[wn(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ds.throwError("user rejected signing",ke.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return Bp(this,void 0,void 0,function*(){const n=typeof e=="string"?Op(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),wn(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ds.throwError("user rejected signing",ke.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return Bp(this,void 0,void 0,function*(){const i=yield kl.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(kl.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&ds.throwError("user rejected signing",ke.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return Bp(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class tVe extends wce{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const nVe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class rVe extends QHe{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=T8(this.constructor,"defaultUrl")()),typeof e=="string"?Tn(this,"connection",Object.freeze({url:e})):Tn(this,"connection",Object.freeze(Sc(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Bp(this,void 0,void 0,function*(){yield yce(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=T8(this.constructor,"getNetwork");try{return n(ht.from(e).toNumber())}catch(r){return ds.throwError("could not detect network",ke.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return ds.throwError("could not detect network",ke.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new wce(hL,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:P8(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=YD(this.connection,JSON.stringify(r),eVe).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[H8(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[H8(n.address),n.blockTag]];case"getCode":return["eth_getCode",[H8(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[H8(n.address),Mi(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[T8(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[T8(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=H8(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return Bp(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&ht.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Sc(n),n.transaction=Sc(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&ds.throwError(e+" not implemented",ke.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return mce(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return yce(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=Sc(nVe);if(n)for(const s in n)n[s]&&(r[s]=!0);Eze(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=RD(ht.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=wn(e[s]))}),e.accessList&&(i.accessList=U8(e.accessList)),i}}var iVe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})};const sVe=new ke(pS);class oVe extends rVe{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return iVe(this,void 0,void 0,function*(){let n=this.network;return n==null&&(n=yield e.detectNetwork.call(this),n||sVe.throwError("no network detected",ke.errors.UNKNOWN_ERROR,{}),this._network==null&&(Tn(this,"_network",n),this.emit("network",n,null))),n})}}function fL(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const vce=t=>[Au.id,KA.id].includes(t),aVe=async(t,e)=>{if(!vce(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:n}=await e.getFeeData();if(n){let r=n.mul(ht.from(120)).div(ht.from(100));t.maxFeePerGas=fL(r),t.maxPriorityFeePerGas=fL(ht.from(0))}}catch(n){throw Error(`Failed to set gas price for Arbitrum transaction: ${n}.`)}return t},bce=t=>[56,97].includes(t),cVe=async(t,e)=>{var n;if(!bce(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=(n=r.gasPrice)==null?void 0:n.toHexString()}return t},xce=t=>[Su.id,GA.id,Vh.id,YA.id,ED.id,xoe.id,boe.id,81457,168587773].includes(t),lVe=async(t,e)=>{if(!xce(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let n=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=n}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:n}=await e.getFeeData();if(!n)throw Error("Unable to fetch baseFee for last block.");let r=ht.from(n).mul(ht.from(126)).div(ht.from(100)).add(ht.from(t.maxPriorityFeePerGas));t.maxFeePerGas=fL(r)}}catch(n){throw Error(`Failed to set gas price for OP stack transaction: ${n}.`)}return t},uVe="units/5.8.0",dVe=new ke(uVe),hVe=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ece(t,e){if(typeof t!="string"&&dVe.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=hVe.indexOf(e);n!==-1&&(e=3*n)}return Kh(t,e??18)}var Cce={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Jn,function(){var n=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!r(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!r(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(l,u){var d=o.retries,h=o.retryDelay,f=o.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))d=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")h=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")f=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(p,m){var w=function(b){var v=typeof Request<"u"&&l instanceof Request?l.clone():l;s(v,u).then(function(E){if(Array.isArray(f)&&f.indexOf(E.status)===-1)p(E);else if(typeof f=="function")try{return Promise.resolve(f(b,null,E)).then(function(_){_?y(b,null,E):p(E)}).catch(m)}catch(_){m(_)}else b<d?y(b,null,E):p(E)}).catch(function(E){if(typeof f=="function")try{Promise.resolve(f(b,E,null)).then(function(_){_?y(b,E,null):m(E)}).catch(function(_){m(_)})}catch(_){m(_)}else b<d?y(b,E,null):m(E)})};function y(b,v,E){var _=typeof h=="function"?h(b,v,E):h;setTimeout(function(){w(++b)},_)}w(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n})})(Cce);var fVe=Cce.exports;const pL=Hi(fVe);let pVe=pL(fetch,{retries:3,retryDelay:500});const _ce=t=>[_c.id,k8.id].includes(t);let gL=t=>({maxPriorityFee:Ece(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:Ece(t.maxFee.toFixed(9),"gwei").toHexString()}),gVe=t=>({safeLow:gL(t.safeLow),standard:gL(t.standard),fast:gL(t.fast)});const mVe=async t=>{let e="";switch(t){case _c.id:e="https://gasstation.polygon.technology/v2";break;case k8.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let n=await pVe(e),r=await n.json();if(n.status>399)throw r;return gVe(r)};async function yVe(t){if(!_ce(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await mVe(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const wVe=async(t,e)=>{var n,r,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(n=s.maxFeePerGas)==null?void 0:n.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(r=s.maxPriorityFeePerGas)==null?void 0:r.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function vVe(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}}({txRequest:t,provider:e})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!r)throw n;return r}}const Ace=(t,e,n,r)=>{var o,a,c,l;let i=Number(t),s=e.find(u=>u.id===i);if(!s)throw new _oe(`Unsupported chainId ${t}`,4901);return new oVe(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:n.rpcUrls&&n.rpcUrls[i]?n.rpcUrls[i]:(o=s.rpcUrls.privy)!=null&&o.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":r.appId}}:(a=s.rpcUrls.public)!=null&&a.http[0]?(c=s.rpcUrls.public)==null?void 0:c.http[0]:(l=s.rpcUrls.default)==null?void 0:l.http[0])},bVe=(t,e,n)=>{var o,a,c;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let l=new URL(t.rpcUrls.privy.http[0]);l.searchParams.append("privyAppId",n),r=l.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(c=t.rpcUrls.default)==null?void 0:c.http[0];if(!r)throw new _oe(`No RPC url found for ${i}`);return r};function Sce(t){return/^-?0x[a-f0-9]+$/i.test(t)}function xVe(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let n=t[e];if(n!==void 0&&!function(r){let i=typeof r=="number",s=typeof r=="bigint",o=typeof r=="string"&&Sce(r);return i||s||o}(n))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function Ice(t,e,n){if(e.chainId=Number(e.chainId),xVe(e),e.from||(e.from=t),!e.nonce){let r=new TD(t,n);e.nonce=await r.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await vVe(e,n)),typeof e.type=="string"&&Sce(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=_ce(e.chainId)?await yVe(e):vce(e.chainId)?await aVe(e,n):xce(e.chainId)?await lVe(e,n):bce(e.chainId)?await cVe(e,n):await wVe(e,n)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function EVe({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function kce(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let CVe=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function _Ve(t,e,n,r,i=!1,s,o){var u,d,h;let a=i,c=async f=>{var p;if(a){f===(i?0:1)?r():(p=n.current)==null||p.reject(new JA("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise((w,y)=>{e.current={resolve:w,reject:y},setTimeout(()=>{var v;let b=new JA("mfa_timeout","Timed out waiting for MFA code");(v=n.current)==null||v.reject(b),y(b)},o)});return await t(m)}return await t()},l=null;for(let f=0;f<s;f++)try{l=await c(f),(u=n.current)==null||u.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw(d=n.current)==null||d.resolve(void 0),p;a=!0}if(l===null){let f=new JA("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=n.current)==null||h.reject(f),f}return l}var $ce;let AVe=($ce=0,()=>"id-"+$ce++),SVe=(t,e)=>typeof e=="bigint"?e.toString():e,jg=(t,{ms:e,msg:n})=>Promise.race([t,kce(e??15e3).then(()=>Promise.reject(Error(n)))]),Tce=new CVe,Pce=class{invokeWithMfa(e,n){return jg(_Ve(r=>jg(this.waitForReady().then(()=>e(r)),{msg:n.timeoutMsg,ms:n.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return jg(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return jg(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(n=>this.invoke("privy:wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return jg(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(n=>this.invoke("privy:solana-wallet:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(n=>this.invoke("privy:delegated-actions:consent",{...n,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:verify",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:init-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(n=>this.invoke("privy:mfa:unenroll",{...n,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return jg(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:create",{...n,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(n=>this.invoke("privy:user-signer:sign",{...n,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return jg(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:set-recovery",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return jg(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:recover",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(n=>this.invoke("privy:wallets:rpc",{...n,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=Tce.dequeue(e.event,e.id);return e.error!==void 0?n(new JA(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(n),await kce(150)})}invoke(e,n){let r=((s,o)=>`${s}${JSON.stringify(o,SVe)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise((s,o)=>{let a=AVe();Tce.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:n}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var Nce={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||c,h),p=n?n+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var m=n?n+l:l;if(!this._events[m])return!1;var w=this._events[m],y=arguments.length,b,v;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,f),!0;case 6:return w.fn.call(w.context,u,d,h,f,p),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];w.fn.apply(w.context,b)}else{var E=w.length,_;for(v=0;v<E;v++)switch(w[v].once&&this.removeListener(l,w[v].fn,void 0,!0),y){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,u);break;case 3:w[v].fn.call(w[v].context,u,d);break;case 4:w[v].fn.call(w[v].context,u,d,h);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];w[v].fn.apply(w[v].context,b)}}return!0},a.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=n?n+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var m=0,w=[],y=p.length;m<y;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&w.push(p[m]);w.length?this._events[f]=w.length===1?w[0]:w:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Nce);var IVe=Nce.exports;const rf=Hi(IVe);let kVe=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const $Ve=t=>kVe.includes(t),ES=t=>/^0x[0-9a-fA-F]*$/.test(t),CS=t=>Buffer.from(t,"utf8"),V8=t=>`0x${t.toString("hex")}`;var TVe=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`};const PVe=Hi(TVe);async function NVe(t,e){let n=PVe(e);if(n===void 0)throw new Qn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Wa(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(IB,{params:{wallet_id:n}}),method:IB.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await NVe(e,i);return await t.fetchPrivyRoute(IB,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function OVe(t){return{from:t.from,to:t.to,nonce:ay(t.nonce),chain_id:ay(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?ES(e)?e:V8(CS(e)):V8(Buffer.from(Uint8Array.from(e)))}(t.data),value:ay(t.value),type:t.type,gas_limit:ay(t.gasLimit),gas_price:ay(t.gasPrice),max_fee_per_gas:ay(t.maxFeePerGas),max_priority_fee_per_gas:ay(t.maxPriorityFeePerGas)}}function ay(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return ES(t)?t:V8(CS(t))}function RVe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function Oce({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Wa(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Wa(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:OVe(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Wa(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:RVe(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Wa(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:ES(o)?o:V8(CS(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Wa(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:ES(o)?o:V8(CS(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:n.request});case"solana":return async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Wa(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}}({context:t,account:e,rpcRequest:n.request})}}let mL=class extends rf{async request(e){var n,r;if($Ve(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(n=e.params)==null?void 0:n[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(r=e.params)==null?void 0:r[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=Ace(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e);return Ice(this._account.address,n,this._jsonRpcProvider)}async handleSendTransaction(e){let n=this.ensureChainId(e),r=await Ice(this._account.address,n,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(n.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(r){console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from' address`);try{return delete n.from,await this._jsonRpcProvider.send("eth_estimateGas",[n])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),r}}}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Aoe(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Aoe(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(Tg(r)){let{data:i}=await Oce({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=AD(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise(async(a,c)=>{var l;o=setTimeout(()=>c(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((l=this._onNeedsRecovery)==null?void 0:l.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)}))}).finally(()=>clearTimeout(o))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:c=o[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=c,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=Ace(c,o,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}};function yL(t){return"version"in t}function Rce(t,e){let n=(yL(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let MVe=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=AD(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise(async(s,o)=>{var a;i=setTimeout(()=>o(new Qn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((a=this._onNeedsRecovery)==null?void 0:a.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,n){let r=this._account;if(!Tg(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await Oce({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,o=Rce(r,this._account.address),a=yL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:c}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},n);return r.addSignature(o,Buffer.from(c,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=Rce(r,this._account.address),s=yL(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Qn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},jVe=class{setMessagePoster(e){this._proxy=new Pce(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Qn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await ID({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return Tg(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new pze({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:c}){var l,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((l=this._privyInternal.config)==null?void 0:l.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Qn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await ID({context:{app:this._appApi,fetchPrivyRoute:(...d)=>this._privyInternal.fetch(...d),getCompiledPath:(...d)=>this._privyInternal.getPath(...d)},chainType:"ethereum"})}else{let d;if(d=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(d==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let h=await this._privyInternal.getAccessToken();if(!h)throw Error("User must be logged in to create an embedded wallet");let{address:f}=await this._proxy.create({accessToken:h,recoveryMethod:d,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a==null?void 0:a.address});if(!f)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(c)}async createSolana(e){var n,r;if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await ID({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new Qn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Qn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Tg(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new mL({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return Tg(e)||(!c||i||s||o||a)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new mL({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:c,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,o,a){if(!this._proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Tg(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new MVe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Tg(n))throw new Qn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});EVe({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let o;if(r.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:n.chain_type!=="ethereum"?null:new mL({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let c=await this._privyInternal.getAccessToken();if(!c)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:c,entropyId:e,entropyIdVerifier:n}),e}catch(l){if(AD(l))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:c,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:c,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw l}}constructor(e,n,r,i,s,o){if(this._chains=Array.from($8),this._privyInternal=e,n&&(this._proxy=new Pce(n,s),i.setProxy(this._proxy)),r){let a=Coe(r);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},BVe=class extends rf{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var _S,DVe=new Uint8Array(16);function Mce(){if(!_S&&(_S=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_S))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _S(DVe)}const LVe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function AS(t){return typeof t=="string"&&LVe.test(t)}for(var bo=[],wL=0;wL<256;++wL)bo.push((wL+256).toString(16).substr(1));function SS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(bo[t[e+0]]+bo[t[e+1]]+bo[t[e+2]]+bo[t[e+3]]+"-"+bo[t[e+4]]+bo[t[e+5]]+"-"+bo[t[e+6]]+bo[t[e+7]]+"-"+bo[t[e+8]]+bo[t[e+9]]+"-"+bo[t[e+10]]+bo[t[e+11]]+bo[t[e+12]]+bo[t[e+13]]+bo[t[e+14]]+bo[t[e+15]]).toLowerCase();if(!AS(n))throw TypeError("Stringified UUID is invalid");return n}var jce,vL,bL=0,xL=0;function UVe(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||jce,o=t.clockseq!==void 0?t.clockseq:vL;if(s==null||o==null){var a=t.random||(t.rng||Mce)();s==null&&(s=jce=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=vL=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:xL+1,u=c-bL+(l-xL)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||c>bL)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");bL=c,xL=l,vL=o,c+=122192928e5;var d=((c&268435455)*1e4+l)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var h=c/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var f=0;f<6;++f)i[r+f]=s[f];return e||SS(i)}function Bce(t){if(!AS(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function FVe(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var zVe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",WVe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Dce(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=FVe(i)),typeof s=="string"&&(s=Bce(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var l=0;l<16;++l)o[a+l]=c[l];return o}return SS(c)}try{r.name=t}catch{}return r.DNS=zVe,r.URL=WVe,r}function qVe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return HVe(VVe(KVe(t),t.length*8))}function HVe(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Lce(t){return(t+64>>>9<<4)+14+1}function VVe(t,e){t[e>>5]|=128<<e%32,t[Lce(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,c=r,l=i,u=s;n=aa(n,r,i,s,t[o],7,-680876936),s=aa(s,n,r,i,t[o+1],12,-389564586),i=aa(i,s,n,r,t[o+2],17,606105819),r=aa(r,i,s,n,t[o+3],22,-1044525330),n=aa(n,r,i,s,t[o+4],7,-176418897),s=aa(s,n,r,i,t[o+5],12,1200080426),i=aa(i,s,n,r,t[o+6],17,-1473231341),r=aa(r,i,s,n,t[o+7],22,-45705983),n=aa(n,r,i,s,t[o+8],7,1770035416),s=aa(s,n,r,i,t[o+9],12,-1958414417),i=aa(i,s,n,r,t[o+10],17,-42063),r=aa(r,i,s,n,t[o+11],22,-1990404162),n=aa(n,r,i,s,t[o+12],7,1804603682),s=aa(s,n,r,i,t[o+13],12,-40341101),i=aa(i,s,n,r,t[o+14],17,-1502002290),r=aa(r,i,s,n,t[o+15],22,1236535329),n=ca(n,r,i,s,t[o+1],5,-165796510),s=ca(s,n,r,i,t[o+6],9,-1069501632),i=ca(i,s,n,r,t[o+11],14,643717713),r=ca(r,i,s,n,t[o],20,-373897302),n=ca(n,r,i,s,t[o+5],5,-701558691),s=ca(s,n,r,i,t[o+10],9,38016083),i=ca(i,s,n,r,t[o+15],14,-660478335),r=ca(r,i,s,n,t[o+4],20,-405537848),n=ca(n,r,i,s,t[o+9],5,568446438),s=ca(s,n,r,i,t[o+14],9,-1019803690),i=ca(i,s,n,r,t[o+3],14,-187363961),r=ca(r,i,s,n,t[o+8],20,1163531501),n=ca(n,r,i,s,t[o+13],5,-1444681467),s=ca(s,n,r,i,t[o+2],9,-51403784),i=ca(i,s,n,r,t[o+7],14,1735328473),r=ca(r,i,s,n,t[o+12],20,-1926607734),n=la(n,r,i,s,t[o+5],4,-378558),s=la(s,n,r,i,t[o+8],11,-2022574463),i=la(i,s,n,r,t[o+11],16,1839030562),r=la(r,i,s,n,t[o+14],23,-35309556),n=la(n,r,i,s,t[o+1],4,-1530992060),s=la(s,n,r,i,t[o+4],11,1272893353),i=la(i,s,n,r,t[o+7],16,-155497632),r=la(r,i,s,n,t[o+10],23,-1094730640),n=la(n,r,i,s,t[o+13],4,681279174),s=la(s,n,r,i,t[o],11,-358537222),i=la(i,s,n,r,t[o+3],16,-722521979),r=la(r,i,s,n,t[o+6],23,76029189),n=la(n,r,i,s,t[o+9],4,-640364487),s=la(s,n,r,i,t[o+12],11,-421815835),i=la(i,s,n,r,t[o+15],16,530742520),r=la(r,i,s,n,t[o+2],23,-995338651),n=ua(n,r,i,s,t[o],6,-198630844),s=ua(s,n,r,i,t[o+7],10,1126891415),i=ua(i,s,n,r,t[o+14],15,-1416354905),r=ua(r,i,s,n,t[o+5],21,-57434055),n=ua(n,r,i,s,t[o+12],6,1700485571),s=ua(s,n,r,i,t[o+3],10,-1894986606),i=ua(i,s,n,r,t[o+10],15,-1051523),r=ua(r,i,s,n,t[o+1],21,-2054922799),n=ua(n,r,i,s,t[o+8],6,1873313359),s=ua(s,n,r,i,t[o+15],10,-30611744),i=ua(i,s,n,r,t[o+6],15,-1560198380),r=ua(r,i,s,n,t[o+13],21,1309151649),n=ua(n,r,i,s,t[o+4],6,-145523070),s=ua(s,n,r,i,t[o+11],10,-1120210379),i=ua(i,s,n,r,t[o+2],15,718787259),r=ua(r,i,s,n,t[o+9],21,-343485551),n=Bg(n,a),r=Bg(r,c),i=Bg(i,l),s=Bg(s,u)}return[n,r,i,s]}function KVe(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Lce(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Bg(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function GVe(t,e){return t<<e|t>>>32-e}function IS(t,e,n,r,i,s){return Bg(GVe(Bg(Bg(e,t),Bg(r,s)),i),n)}function aa(t,e,n,r,i,s,o){return IS(e&n|~e&r,t,e,i,s,o)}function ca(t,e,n,r,i,s,o){return IS(e&r|n&~r,t,e,i,s,o)}function la(t,e,n,r,i,s,o){return IS(e^n^r,t,e,i,s,o)}function ua(t,e,n,r,i,s,o){return IS(n^(e|~r),t,e,i,s,o)}var ZVe=Dce("v3",48,qVe);function K8(t,e,n){t=t||{};var r=t.random||(t.rng||Mce)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return SS(r)}function YVe(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function EL(t,e){return t<<e|t>>>32-e}function JVe(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[c*64+u*4]<<24|t[c*64+u*4+1]<<16|t[c*64+u*4+2]<<8|t[c*64+u*4+3];a[c]=l}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=a[d][f];for(var p=16;p<80;++p)h[p]=EL(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var m=n[0],w=n[1],y=n[2],b=n[3],v=n[4],E=0;E<80;++E){var _=Math.floor(E/20),T=EL(m,5)+YVe(_,w,y,b)+v+e[_]+h[E]>>>0;v=b,b=y,y=EL(w,30)>>>0,w=m,m=T}n[0]=n[0]+m>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var QVe=Dce("v5",80,JVe);const XVe="00000000-0000-0000-0000-000000000000";function eKe(t){if(!AS(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const tKe=Object.freeze(Object.defineProperty({__proto__:null,NIL:XVe,parse:Bce,stringify:SS,v1:UVe,v3:ZVe,v4:K8,v5:QVe,validate:AS,version:eKe},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function kS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var nKe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function CL(t,e){function n(i,s,o){if(!(typeof document>"u")){o=kS({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,o[c]!==!0&&(a+="="+o[c].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var c=s[a].split("="),l=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(o[u]=t.read(l,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",kS({},s,{expires:-1}))},withAttributes:function(i){return CL(this.converter,kS({},this.attributes,i))},withConverter:function(i){return CL(kS({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Zi=CL(nKe,{path:"/"});const Uce=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n})))));let Bb="privy:token",_L="privy-token",$S="privy:refresh_token",AL="privy-refresh-token",Db="privy:id-token",SL="privy-id-token",TS="privy-session",Fce=class extends rf{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(Bb);try{return typeof e=="string"?new I8(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get($S);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(Db);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Zi.get(TS);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=I8.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await Uce([this._storage.del(Bb),this._storage.del($S),this._storage.del(Db),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Zi.remove(_L),Zi.remove(AL),Zi.remove(SL),Zi.remove(TS),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(Bb);if(await this._storage.put(Bb,e),!this._isUsingServerCookies){let i=(n=I8.parse(e))==null?void 0:n.expiration;Zi.set(_L,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(Bb);await this._storage.del(Bb),Zi.remove(_L),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put($S,e),this._isUsingServerCookies||(Zi.set(TS,"t",{sameSite:"Strict",secure:!0,expires:30}),Zi.set(AL,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del($S),Zi.remove(AL),Zi.remove(TS),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await Uce([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(r=>r.status==="rejected");n.length>0&&this.emit("error_storing_tokens",n.map(r=>String(r.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(Db);if(await this._storage.put(Db,e),!this._isUsingServerCookies){let i=(n=I8.parse(e))==null?void 0:n.expiration;Zi.set(SL,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(Db);await this._storage.del(Db),Zi.remove(SL),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=ty(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Fce.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var rKe=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function iKe(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const PS=()=>{};let Dg={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const sKe=({level:t}={level:"ERROR"})=>({get level(){return t},error:Dg[t]>=Dg.ERROR?console.error:PS,warn:Dg[t]>=Dg.WARN?console.warn:PS,info:Dg[t]>=Dg.INFO?console.info:PS,debug:Dg[t]>=Dg.DEBUG?console.debug:PS});let IL="privy:caid",oKe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${wje(e.path,n)}${iKe(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),c=await o(a),l=await this._fetch(a,c),u=await l.json();if(l.status>299)throw new _D(u);return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:rKe(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(NMe,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(IL);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=K8()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(IL,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(IL)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(PMe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Qn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,o,a,c,l;let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new _D({code:qie.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${zie.path}`);let u=await this.fetch(zie,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),d=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${d}`),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),d==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),d==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((a=(o=this.callbacks)==null?void 0:o.setUser)==null||a.call(o,null))),d==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof _D&&u.code===qie.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((l=(c=this.callbacks)==null?void 0:c.setUser)==null||l.call(c,null))),u}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${K8()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.0",this._cache=new Map,this.logger=sKe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Fce({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=pL(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})})}},aKe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch($je,{})}}constructor(e){this._privyInternal=e}};const zce=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",Wce=t=>t?t.linked_accounts.filter(zce).filter(e=>e.chain_type==="ethereum").sort((e,n)=>e.wallet_index-n.wallet_index):[],qce=t=>Wce(t).find(e=>e.wallet_index===0)??null,Hce=t=>t?t.linked_accounts.filter(zce).filter(e=>e.chain_type==="solana").sort((e,n)=>e.wallet_index-n.wallet_index):[],cKe=t=>Hce(t).find(e=>e.wallet_index===0)??null,lKe=(t,e)=>!(e==="off"||Wce(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="ethereum").length>0&&e!=="all-users"),uKe=(t,e)=>!(e==="off"||Hce(t).length>0||t.linked_accounts.filter(n=>n.type==="wallet"&&n.chain_type==="solana").length>0&&e!=="all-users"),qd=async(t,e,n)=>{var s,o;let r=lKe(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=uKe(e.user,((o=n==null?void 0:n.solana)==null?void 0:o.createOnLogin)??"off");if(r&&i){let a=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:qce(a.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:cKe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:qce(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let dKe=class{async syncWithToken(e,n,r){var o,a;let i=await this._privyInternal.fetch(jMe,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await qd(this._embedded,i,n==null?void 0:n.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},hKe=class{async sendCode(e,n){return this._privyInternal.fetch(ije,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(rje,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await qd(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(sje,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(aje,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(oje,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},fKe=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(BMe,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(FMe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},o){var l,u;let a=await this._privyInternal.fetch(DMe,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await qd(this._embedded,a,o==null?void 0:o.embedded);return(u=(l=this._privyInternal.callbacks)==null?void 0:l.setUser)==null||u.call(l,c.user),c}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(LMe,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(UMe,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},pKe=class{async initializeAuth(){return await this._privyInternal.fetch(zMe,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var a,c;let s=await this._privyInternal.fetch(WMe,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await qd(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}constructor(e,n){this._privyInternal=e,this._embedded=n}},gKe=class{async create(e){var s,o;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(qMe,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await qd(this._embedded,r,e==null?void 0:e.embedded);return(o=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||o.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Lg="privy:state_code",Ug="privy:code_verifier";async function mKe(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function yKe(t){return crypto.getRandomValues(new Uint8Array(t))}function kL(){return ty(yKe(36))}function Vce(){return kL()}async function Kce({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await mKe(t,n);return ty(r)}}let wKe=class{async generateURL(e,n){var o;let r=kL(),i=Vce(),s=await Kce({codeVerifier:r,digest:(o=this._crypto)==null?void 0:o.digest});return await Promise.all([this._storage.put(Ug,r),this._storage.put(Lg,i)]),this._privyInternal.fetch(GMe,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,o){var d,h;let[a,c]=await Promise.all([this._storage.get(Ug),this._storage.get(Lg)]);if(c!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:c??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(KMe,{body:{authorization_code:e,code_type:i,state_code:c,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await qd(this._embedded,l,o==null?void 0:o.embedded);return await Promise.all([this._storage.del(Ug),this._storage.del(Lg)]),(h=(d=this._privyInternal.callbacks)==null?void 0:d.setUser)==null||h.call(d,u.user),u}async linkWithCode(e,n,r,i){let[s,o]=await Promise.all([this._storage.get(Ug),this._storage.get(Lg)]);if(o!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(ZMe,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let c=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Ug),this._storage.del(Lg)]),{user:c.user,identity_token:c.identity_token}}async unlink(e,n){await this._privyInternal.fetch(YMe,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},vKe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(nje,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(eje,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(tje,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(QMe,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await qd(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async signupWithPasskey(e,n,r){var o,a;let i=await this._privyInternal.fetch(XMe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await qd(this._embedded,i,r==null?void 0:r.embedded);return(a=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||a.call(o,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(JMe,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},bKe=class{async sendCode(e,n){return this._privyInternal.fetch(lje,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var a,c;let s=await this._privyInternal.fetch(cje,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await qd(this._embedded,s,i==null?void 0:i.embedded);return(c=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||c.call(a,o.user),o}async linkWithCode(e,n){await this._privyInternal.fetch(uje,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(hje,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(dje,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},xKe=class{async unlinkWallet(e){await this._privyInternal.fetch(_je,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(Eje,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,n,r,i,s){var u,d;let o=n||this._wallet,a=r||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let c=await this._privyInternal.fetch(xje,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(c);let l=await qd(this._embedded,c,s==null?void 0:s.embedded);return(d=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||d.call(u,l.user),l}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Wie,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},EKe=class{async unlink({address:e}){await this._privyInternal.fetch(kje,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(Ije,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:o}){var l,u;let a=await this._privyInternal.fetch(Sje,{body:{signature:r,message:n,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let c=await qd(this._embedded,a,o==null?void 0:o.embedded);return(u=(l=this._privyInternal.callbacks)==null?void 0:l.setUser)==null||u.call(l,c.user),c}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(Aje,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},CKe=class{async link(e,n,r,i){await this._privyInternal.fetch(Cje,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(Wie,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},_Ke=class{async logout(){var e,n;try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(vje,{body:{refresh_token:r}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(n=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||n.call(e,null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new dKe(this._privyInternal,n),this.phone=new bKe(this._privyInternal,n),this.email=new hKe(this._privyInternal,n),this.oauth=new wKe(this._privyInternal,n,r,i),this.guest=new gKe(this._privyInternal,n),this.siwe=new xKe(this._privyInternal,n),this.siws=new EKe(this._privyInternal,n),this.smartWallet=new CKe(this._privyInternal),this.passkey=new vKe(this._privyInternal,n),this.farcaster=new fKe(this._privyInternal,n),this.farcasterV2=new pKe(this._privyInternal,n)}},AKe=class{async initOnRampSession(e){return await this._privyInternal.fetch(OMe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(RMe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const SKe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let IKe=new Set([Iu.id,Au.id,Su.id,_c.id,Eb.id,ZA.id]),kKe=new Set([Iu.id,Au.id,Vh.id,Su.id,_c.id]);function $Ke(t,e){switch(e){case"native-currency":return IKe.has(t);case"USDC":return kKe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function TKe(t,e){switch(t){case Au.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Eb.id:return"AVAX_CCHAIN";case Su.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case ZA.id:return"CELO_CELO";case _c.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Iu.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let PKe=class{async sign(e){return await this._privyInternal.fetch(Tje,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=SKe[n?"sandbox":"prod"],s=await pL(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new fze({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},NKe=class{constructor(e){this.moonpay=new PKe(e),this.coinbase=new AKe(e)}},OKe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(HMe,{body:e})}constructor(e){this._privyInternal=e}},RKe=class{async sendCode(e){return await this._privyInternal.fetch(VMe,{body:e})}constructor(e){this._privyInternal=e}},MKe=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Qn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Qn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new RKe(e),this.passkey=new OKe(e)}},jKe=class{async init(e){return this._privyInternal.fetch(mje,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(yje,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},BKe=class{async generateURL(e){var s;let n=kL(),r=Vce(),i=await Kce({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(Ug,n),this._storage.put(Lg,r)]),this._privyInternal.fetch(pje,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Ug),this._storage.get(Lg)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Qn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(gje,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Ug),this._storage.del(Lg)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},DKe=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(fje,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new BKe(this._privyInternal,n,r),this.icloudAuth=new jKe(this._privyInternal)}},LKe=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new oKe({...n,appClientId:e}),this.mfa=new MKe(this._privyInternal),this.mfaPromises=new BVe,this.app=new VFe(this._privyInternal),this.embeddedWallet=new jVe(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new aKe(this._privyInternal),this.auth=new _Ke(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new DKe(this._privyInternal,n.storage,n.crypto),this.funding=new NKe(this._privyInternal),this.delegated=new nze(this._privyInternal),this.crossApp=new woe(this._privyInternal,n.storage)}};const UKe={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},Gce={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function NS(t,e){var n=Array.prototype.slice.call(e);return n.push(Gce),t.apply(this,n)}function FKe(){return NS(DDe,arguments)}function G8(t){return Dse.call(this,t,Gce)}G8.prototype=Object.create(Dse.prototype,{}),G8.prototype.constructor=G8;function zKe(){return NS(nUe,arguments)}function $L(){return NS(TA,arguments)}function WKe(){return NS(rUe,arguments)}const OS=(t,e)=>FKe(String(t),e),TL=(t,e)=>`+${$L(e)} ${t}`,qKe=t=>`*${t.replaceAll("-","").slice(-4)}`,HKe=t=>new G8(t),VKe=zKe().map(t=>({code:t,callCode:$L(t)})),KKe=t=>{var n;let e=(n=WKe(t,UKe))==null?void 0:n.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},GKe=t=>{let e=new G8;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},ZKe=(t,e=!0)=>t.reduce((n,r)=>({...n,[r]:e}),{}),YKe={[Iu.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[xD.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Vh.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[YA.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[_c.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[k8.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Su.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[GA.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Eb.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bD.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Au.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[KA.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},RS={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let JKe=new Set([Iu.id,Su.id,Vh.id,_c.id,Au.id]),QKe=new Set([Iu.id,Su.id,_c.id,Vh.id,Au.id]),XKe={buy:"CARD",send:"CRYPTO_ACCOUNT"},eGe={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};Iu.id+"",Su.id+"",Vh.id+"",_c.id+"",Au.id+"";function tGe({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),o.searchParams.set("defaultNetwork",r),o.searchParams.set("defaultPaymentMethod",XKe[s]),o.searchParams.set("defaultAsset",eGe[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const nGe=(t,e)=>{switch(e){case"native-currency":return JKe.has(t);case"USDC":return QKe.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function rGe(t,e){return t===_c.id?"POL":"ETH"}let iGe=class{async invokeRpc({method:e,params:n}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:K8(),method:e,params:n})})).json()}async getBalance(e){try{let n=await this.invokeRpc({method:"getBalance",params:[e]});return n.error?null:BigInt(n.result.value)}catch{return null}}async getTokenAccountsByOwner(e,n){var r,i,s,o,a;try{let c=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:n},{encoding:"jsonParsed"}]});if(c.error)return null;let l=(a=(o=(s=(i=(r=c.result.value.at(0))==null?void 0:r.account)==null?void 0:i.data)==null?void 0:s.parsed)==null?void 0:o.info)==null?void 0:a.tokenAmount;return l?{amount:BigInt(l.amount),decimals:l.decimals}:null}catch{return null}}async getAccountInfo(e){var n,r,i;try{let s=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(s.error)return null;let o=(i=(r=(n=s.result.value)==null?void 0:n.data)==null?void 0:r.parsed)==null?void 0:i.info;return o?{decimals:o.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function Zce(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function sGe({wei:t,precision:e=3}){return parseFloat(L1(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function qa({amount:t,decimals:e}){return ks(BigInt(t),e)}const oGe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,aGe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,cGe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function lGe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){uGe(t);return}return e}function uGe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Dp(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!cGe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(oGe.test(t)||aGe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,lGe)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const dGe=/#/g,hGe=/&/g,fGe=/\//g,pGe=/=/g,PL=/\+/g,gGe=/%5e/gi,mGe=/%60/gi,yGe=/%7c/gi,wGe=/%20/gi;function vGe(t){return encodeURI(""+t).replace(yGe,"|")}function NL(t){return vGe(typeof t=="string"?t:JSON.stringify(t)).replace(PL,"%2B").replace(wGe,"+").replace(dGe,"%23").replace(hGe,"%26").replace(mGe,"`").replace(gGe,"^").replace(fGe,"%2F")}function OL(t){return NL(t).replace(pGe,"%3D")}function Yce(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function bGe(t){return Yce(t.replace(PL," "))}function xGe(t){return Yce(t.replace(PL," "))}function EGe(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=bGe(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=xGe(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function CGe(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${OL(t)}=${NL(n)}`).join("&"):`${OL(t)}=${NL(e)}`:OL(t)}function _Ge(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>CGe(e,t[e])).filter(Boolean).join("&")}const AGe=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,SGe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,IGe=/^([/\\]\s*){2,}[^/\\]/,kGe=/^\.?\//;function Jce(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?AGe.test(t):SGe.test(t)||(e.acceptRelative?IGe.test(t):!1)}function $Ge(t="",e){return t.endsWith("/")}function TGe(t="",e){return($Ge(t)?t.slice(0,-1):t)||"/"}function PGe(t="",e){return t.endsWith("/")?t:t+"/"}function NGe(t,e){if(RGe(e)||Jce(t))return t;const n=TGe(e);if(t.startsWith(n)){const r=t[n.length];if(!r||r==="/"||r==="?")return t}return jGe(n,t)}function OGe(t,e){const n=BGe(t),r={...EGe(n.search),...e};return n.search=_Ge(r),DGe(n)}function RGe(t){return!t||t==="/"}function MGe(t){return t&&t!=="/"}function jGe(t,...e){let n=t||"";for(const r of e.filter(i=>MGe(i)))if(n){const i=r.replace(kGe,"");n=PGe(n)+i}else n=r;return n}const Qce=Symbol.for("ufo:protocolRelative");function BGe(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,h=""]=n;return{protocol:d.toLowerCase(),pathname:h,href:d+h,auth:"",host:"",search:"",hash:""}}if(!Jce(t,{acceptRelative:!0}))return Xce(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=Xce(a);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:c,search:l,hash:u,[Qce]:!r}}function Xce(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function DGe(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[Qce]?(t.protocol||"")+"//":"")+i+s+e+n+r}class ele extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function LGe(t){var c,l,u,d,h;const e=((c=t.error)==null?void 0:c.message)||((l=t.error)==null?void 0:l.toString())||"",n=((u=t.request)==null?void 0:u.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((h=t.request)==null?void 0:h.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new ele(o,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(a,f,{get(){return t[f]}});for(const[f,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,f,{get(){return t.response&&t.response[p]}});return a}const UGe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function tle(t="GET"){return UGe.has(t.toUpperCase())}function FGe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const zGe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),WGe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function qGe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return WGe.test(e)?"json":e==="text/event-stream"?"stream":zGe.has(e)||e.startsWith("text/")?"text":"blob"}function HGe(t,e,n,r){const i=VGe((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function VGe(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function MS(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const KGe=new Set([408,409,425,429,500,502,503,504]),GGe=new Set([101,204,205,304]);function nle(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let u;typeof a.options.retry=="number"?u=a.options.retry:u=tle(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):KGe.has(d))){const h=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return h>0&&await new Promise(f=>setTimeout(f,h)),s(a.request,{...a.options,retry:u-1})}}const l=LGe(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,s),l}const s=async function(c,l={}){const u={request:c,options:HGe(c,l,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await MS(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=NGe(u.request,u.options.baseURL)),u.options.query&&(u.request=OGe(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&tle(u.options.method))if(FGe(u.options.body)){const f=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=f==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),f||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let d;if(!u.options.signal&&u.options.timeout){const f=new r;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,f.abort(p)},u.options.timeout),u.options.signal=f.signal}try{u.response=await e(u.request,u.options)}catch(f){return u.error=f,u.options.onRequestError&&await MS(u,u.options.onRequestError),await i(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!GGe.has(u.response.status)&&u.options.method!=="HEAD"){const f=(u.options.parseResponse?"json":u.options.responseType)||qGe(u.response.headers.get("content-type")||"");switch(f){case"json":{const p=await u.response.text(),m=u.options.parseResponse||Dp;u.response._data=m(p);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[f]()}}return u.options.onResponse&&await MS(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await MS(u,u.options.onResponseError),await i(u)):u.response},o=async function(c,l){return(await s(c,l))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},c={})=>nle({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const jS=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),ZGe=jS.fetch?(...t)=>jS.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),YGe=jS.Headers,JGe=jS.AbortController,rle=nle({fetch:ZGe,Headers:YGe,AbortController:JGe});var Gt;let da=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Pl=class extends da{constructor(e,n,r,i,s,o){super(r,i,s),this.type=e,this.status=n,this.data=o}},oe=class extends da{constructor(e,n,r){super(e,n,r),this.type="client_error"}},QGe=class extends oe{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Lr=class extends da{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const On=t=>{if(t instanceof da)return t;if(!(t instanceof ele))return oi(t);if(!t.response)return new Pl("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new Pl(e||"ApiError",t.response.status,n||r,t,i,t.data)},oi=t=>t instanceof da?t:t instanceof Error?new oe(t.message,t):new oe(`Internal error: ${t}`);var le=((Gt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Gt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Gt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Gt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Gt.INVALID_DATA="invalid_data",Gt.INVALID_CAPTCHA="invalid_captcha",Gt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Gt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Gt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Gt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Gt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Gt.ALLOWLIST_REJECTED="allowlist_rejected",Gt.OAUTH_USER_DENIED="oauth_user_denied",Gt.OAUTH_UNEXPECTED="oauth_unexpected",Gt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Gt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Gt.USER_EXITED_LINK_FLOW="exited_link_flow",Gt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Gt.MUST_BE_AUTHENTICATED="must_be_authenticated",Gt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Gt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Gt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Gt.INVALID_CREDENTIALS="invalid_credentials",Gt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Gt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Gt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Gt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Gt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Gt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Gt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Gt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Gt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Gt.TRANSACTION_FAILURE="transaction_failure",Gt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Gt.NOT_SUPPORTED="not_supported",Gt.CAPTCHA_TIMEOUT="captcha_timeout",Gt.INVALID_MESSAGE="invalid_message",Gt.UNABLE_TO_SIGN="unable_to_sign",Gt.CAPTCHA_FAILURE="captcha_failure",Gt.CAPTCHA_DISABLED="captcha_disabled",Gt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Gt.TOO_MANY_REQUESTS="too_many_requests",Gt.USER_LIMIT_REACHED="max_accounts_reached",Gt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Gt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Gt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Gt.USER_DOES_NOT_EXIST="user_does_not_exist",Gt.INSUFFICIENT_BALANCE="insufficient_balance",Gt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Gt.BUFFER_NOT_DEFINED="buffer_not_defined",Gt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Gt);let cy=class extends oe{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Fg=class extends oe{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},XGe=class extends oe{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},Z8=class extends oe{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const ile="/api/v1/sessions",sle="/api/v1/sessions/logout",eZe="/api/v1/siwe/init",tZe="/api/v1/siwe/authenticate",nZe="/api/v1/siwe/link",rZe="/api/v1/siwe/link_smart_wallet",iZe="/api/v1/siwe/unlink",sZe="/api/v1/siwe/transfer",oZe="/api/v1/siws/init",aZe="/api/v1/siws/authenticate",cZe="/api/v1/siws/link",lZe="/api/v1/siws/unlink",uZe="/api/v1/siws/transfer",dZe="/api/v1/farcaster/init",hZe="/api/v1/farcaster/authenticate",fZe="/api/v1/farcaster/link",pZe="/api/v1/farcaster/status",gZe="/api/v1/farcaster/unlink",mZe="/api/v1/farcaster/transfer",yZe="/api/v1/passwordless/init",wZe="/api/v1/passwordless/authenticate",vZe="/api/v1/passwordless/link",bZe="/api/v1/passwordless/unlink",xZe="/api/v1/passwordless/update",EZe="/api/v1/passwordless/transfer",CZe="/api/v1/passwordless_sms/init",_Ze="/api/v1/passwordless_sms/link",AZe="/api/v1/passwordless_sms/unlink",SZe="/api/v1/passwordless_sms/authenticate",IZe="/api/v1/passwordless_sms/update",kZe="/api/v1/passwordless_sms/transfer",ole="/api/v1/oauth/init",ale="/api/v1/oauth/authenticate",cle="/api/v1/oauth/link",$Ze="/api/v1/oauth/unlink",TZe="/api/v1/oauth/transfer",PZe="/api/v1/recovery/oauth/init",NZe="/api/v1/recovery/oauth/init_icloud",OZe="/api/v1/recovery/oauth/authenticate",RZe="/api/v1/passkeys/link/init",MZe="/api/v1/passkeys/authenticate/init",jZe="/api/v1/passkeys/register/init",BZe="/api/v1/passkeys/link",DZe="/api/v1/passkeys/authenticate",LZe="/api/v1/passkeys/register",UZe="/api/v1/telegram/authenticate",FZe="/api/v1/telegram/link",zZe="/api/v1/telegram/unlink",WZe="/api/v1/telegram/transfer",qZe="/api/v1/mfa/passwordless_sms/init",HZe="/api/v1/mfa/passkeys/init",VZe="/api/v1/users/me/accept_terms",lle="/api/v1/analytics_events",KZe="/api/v1/custom_jwt_account/authenticate",GZe="/api/v1/custom_jwt_account/link",ZZe="/api/v1/guest/authenticate",YZe="/api/v1/plugins/moonpay_on_ramp/sign",JZe="/api/v1/funding/coinbase_on_ramp/init",QZe="/api/v1/funding/coinbase_on_ramp/status",XZe="/api/v1/wallets/revoke",eYe="/api/v1/users/me",tYe="/api/v1/scan/transaction",_e=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},zg=t=>()=>{throw Error(t.trim())},ule=k.createContext({setAuthenticated:_e,setUser:_e,setIsNewUser:_e,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:_e,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:_e,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:_e,initializeWalletProxy:_e,getAuthMeta:_e,getAuthFlow:_e,closePrivyModal:_e,openPrivyModal:_e,connectWallet:_e,initLoginWithWallet:_e,loginWithWallet:_e,initLoginWithFarcaster:_e,loginWithFarcaster:_e,loginWithCode:_e,initLoginWithEmail:_e,initLoginWithSms:_e,initUpdateEmail:_e,initUpdatePhone:_e,resendEmailCode:_e,resendSmsCode:_e,initLoginWithHeadlessOAuth:_e,loginWithHeadlessOAuth:_e,crossAppAuthFlow:_e,initLoginWithOAuth:_e,loginWithOAuth:_e,passkeyAuthState:{status:"initial"},setPasskeyAuthState:_e,initSignupWithPasskey:_e,signupWithPasskey:_e,initLoginWithPasskey:_e,loginWithPasskey:_e,initLinkWithPasskey:_e,linkWithPasskey:_e,refreshSessionAndUser:_e,walletProxy:null,createAnalyticsEvent:_e,acceptTerms:_e,getUsdTokenPrice:_e,getUsdPriceForSol:_e,getSplTokenMetadata:_e,recoverEmbeddedWallet:_e,updateWallets:_e,fundWallet:_e,openModal:_e,setReadyToTrue:_e,requestFarcasterSignerStatus:_e,initLoginWithTelegram:_e,loginWithTelegram:_e,generateSiweMessage:_e,generateSiweMessageForSmartWallet:_e,loginWithSiwe:_e,linkWithSiwe:_e,linkSmartWallet:_e,delegateWallet:_e,revokeDelegatedWallets:_e,exportSolanaWallet:_e,connectCoinbaseSmartWallet:_e,connectBaseAccount:_e,initiateAccountTransfer:_e,emailOtpState:{status:"initial"},setEmailOtpState:_e,smsOtpState:{status:"initial"},setSmsOtpState:_e,siweState:{status:"initial"},setSiweState:_e,oAuthState:{status:"initial"},setOAuthState:_e,telegramAuthState:{status:"initial"},setTelegramAuthState:_e,isHeadlessOAuthLoading:!1,isHeadlessSigning:_e,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:_e}),Je=()=>k.useContext(ule);function Ut(t){return t?new Date(1e3*t):null}function ha(t,e){return t.slice().sort((n,r)=>(n.firstVerifiedAt??n.verifiedAt).getTime()-(r.firstVerifiedAt??r.verifiedAt).getTime()).find(n=>n.type===e)}const sf=t=>t?dle(t).find(e=>e.walletIndex===0)??null:null,dle=t=>t?hle(t,"ethereum"):[],hle=(t,e)=>t.linkedAccounts.filter(n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e),fle=t=>t?hle(t,"solana"):[],ly=t=>t?fle(t).find(e=>e.walletIndex===0)??null:null,RL=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,BS=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let ple=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Gi(t)===Gi(e);const Ou=(t,e)=>(t==null?void 0:t.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&ple(n.address,e)))||null,ML=(t,e)=>t.find(n=>ple(n.address,e))||null,Ru=t=>sf(t)??ly(t);function xo(t){if(!t)return null;let e=function(v){let E=[];for(let _ of v){let T=_.type;switch(_.type){case"wallet":let I={id:_.id,address:_.address,type:_.type,imported:_.imported,delegated:_.delegated,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at),chainType:_.chain_type,walletClientType:_.wallet_client_type,connectorType:_.connector_type,recoveryMethod:_.recovery_method,walletIndex:_.wallet_index};E.push(I);break;case"smart_wallet":let R={address:_.address,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at),smartWalletType:_.smart_wallet_type,smartWalletVersion:_.smart_wallet_version};E.push(R);break;case"cross_app":let S={type:_.type,subject:_.subject,embeddedWallets:_.embedded_wallets,smartWallets:_.smart_wallets,providerApp:{id:_.provider_app_id},verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(S);break;case"email":let B={address:_.address,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(B);break;case"phone":let j={number:_.phoneNumber,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(j);break;case"google_oauth":let U={subject:_.subject,email:_.email,name:_.name,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(U);break;case"spotify_oauth":let M={subject:_.subject,email:_.email,name:_.name,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(M);break;case"instagram_oauth":let C={subject:_.subject,username:_.username,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(C);break;case"twitter_oauth":let x={subject:_.subject,username:_.username,name:_.name,type:_.type,profilePictureUrl:_.profile_picture_url,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(x);break;case"discord_oauth":let A={subject:_.subject,username:_.username,email:_.email,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(A);break;case"github_oauth":let N={subject:_.subject,username:_.username,name:_.name,email:_.email,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(N);break;case"tiktok_oauth":let O={subject:_.subject,username:_.username,name:_.name,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(O);break;case"line_oauth":let P={subject:_.subject,name:_.name,email:_.email,profilePictureUrl:_.profile_picture_url,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(P);break;case"linkedin_oauth":let D={subject:_.subject,name:_.name,email:_.email,vanityName:_.vanity_name,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(D);break;case"apple_oauth":let L={subject:_.subject,email:_.email,type:_.type,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(L);break;case"custom_auth":E.push({type:_.type,customUserId:_.custom_user_id,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)});break;case"farcaster":let $={type:_.type,fid:_.fid,ownerAddress:_.owner_address,displayName:_.display_name,username:_.username,bio:_.bio,pfp:_.profile_picture_url,url:_.homepage_url,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at),signerPublicKey:_.signer_public_key};E.push($);break;case"passkey":let q={type:_.type,enrolledInMfa:_.enrolled_in_mfa,credentialId:_.credential_id,publicKey:_.public_key,authenticatorName:_.authenticator_name,createdWithDevice:_.created_with_device,createdWithOs:_.created_with_os,createdWithBrowser:_.created_with_browser,verifiedAt:Ut(_.verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(q);break;case"telegram":let V={type:_.type,telegramUserId:_.telegram_user_id,firstName:_.first_name,lastName:_.last_name,username:_.username,photoUrl:_.photo_url,verifiedAt:Ut(_.first_verified_at),firstVerifiedAt:Ut(_.first_verified_at),latestVerifiedAt:Ut(_.latest_verified_at)};E.push(V);break;default:console.warn(`Unrecognized account type: ${T}. Please consider upgrading the Privy SDK.`)}}return E}(t.linked_accounts),n=ha(e,"wallet"),r=ha(e,"smart_wallet"),i=ha(e,"email"),s=ha(e,"phone"),o=ha(e,"google_oauth"),a=ha(e,"twitter_oauth"),c=ha(e,"discord_oauth"),l=ha(e,"github_oauth"),u=ha(e,"spotify_oauth"),d=ha(e,"instagram_oauth"),h=ha(e,"tiktok_oauth"),f=ha(e,"line_oauth"),p=ha(e,"linkedin_oauth"),m=ha(e,"apple_oauth"),w=ha(e,"farcaster"),y=ha(e,"telegram"),b=t.mfa_methods.map(({type:v,verified_at:E})=>({type:v,verifiedAt:Ut(E)}));return{id:t.id,createdAt:Ut(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:l&&{subject:l.subject,username:l.username,name:l.name,email:l.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:d&&{subject:d.subject,username:d.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},line:f&&{subject:f.subject,name:f.name,email:f.email,profilePictureUrl:f.profilePictureUrl},linkedin:p&&{subject:p.subject,name:p.name,email:p.email,vanityName:p.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:w&&{fid:w.fid,ownerAddress:w.ownerAddress,displayName:w.displayName,username:w.username,bio:w.bio,pfp:w.pfp,url:w.url,signerPublicKey:w.signerPublicKey},telegram:y&&{telegramUserId:y.telegramUserId,firstName:y.firstName,lastName:y.lastName,username:y.username,photoUrl:y.photoUrl},delegatedWallets:[],mfaMethods:b.map(v=>v.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Vs=t=>!!t.id&&t.recoveryMethod==="privy-v2",Lb=k.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:_e,login:_e,connectOrCreateWallet:_e,linkEmail:_e,linkPhone:_e,linkFarcaster:_e,linkWallet:_e,startCrossAppAuthFlow:_e,linkGoogle:_e,linkTwitter:_e,linkDiscord:_e,linkGithub:_e,linkSpotify:_e,linkInstagram:_e,linkTelegram:_e,linkTiktok:_e,linkLine:_e,linkLinkedIn:_e,linkApple:_e,linkPasskey:_e,updateEmail:_e,updatePhone:_e,logout:_e,getAccessToken:_e,unlinkEmail:_e,unlinkPhone:_e,unlinkWallet:_e,unlinkGoogle:_e,unlinkTwitter:_e,unlinkDiscord:_e,unlinkGithub:_e,unlinkSpotify:_e,unlinkInstagram:_e,unlinkTiktok:_e,unlinkLine:_e,unlinkLinkedIn:_e,unlinkApple:_e,unlinkCrossAppAccount:_e,unlinkFarcaster:_e,unlinkTelegram:_e,unlinkPasskey:_e,signMessage:_e,signTypedData:_e,enrollInMfa:_e,initEnrollmentWithSms:_e,initEnrollmentWithTotp:_e,initEnrollmentWithPasskey:_e,promptMfa:_e,init:_e,submitEnrollmentWithSms:_e,submitEnrollmentWithTotp:_e,submitEnrollmentWithPasskey:_e,unenroll:_e,submit:_e,cancel:_e,sendTransaction:_e,signTransaction:_e,exportWallet:_e,setWalletPassword:_e,setWalletRecovery:_e,requestFarcasterSignerFromWarpcast:_e,getFarcasterSignerPublicKey:_e,signFarcasterMessage:_e,signMessageWithCrossAppWallet:_e,signTypedDataWithCrossAppWallet:_e,sendTransactionWithCrossAppWallet:_e,signTransactionWithCrossAppWallet:_e,isModalOpen:!1,mfaMethods:[]}),Sn=()=>k.useContext(Lb),jL=()=>{let{walletProxy:t,client:e}=Je();return k.useMemo(()=>({signWithUserSigner:async({message:n})=>{if(!t)throw Error("Wallet proxy not initialized");let r=await e.getAccessToken();if(!r)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:r,message:n});return{signature:i}}}),[t,e])};class of{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new of("CBWSDK").clear(),new of("walletlink").clear()}}const Yi={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},BL={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},gle="Unspecified error message.",nYe="Unspecified server error.";function DL(t,e=gle){if(t&&Number.isInteger(t)){const n=t.toString();if(LL(BL,n))return BL[n].message;if(mle(t))return nYe}return e}function rYe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(BL[e]||mle(t))}function iYe(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&LL(t,"code")&&rYe(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,LL(r,"data")&&(n.data=r.data)):(n.message=DL(n.code),n.data={originalError:yle(t)})}else n.code=Yi.rpc.internal,n.message=wle(t,"message")?t.message:gle,n.data={originalError:yle(t)};return e&&(n.stack=wle(t,"stack")?t.stack:void 0),n}function mle(t){return t>=-32099&&t<=-32e3}function yle(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function LL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wle(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Gn={rpc:{parse:t=>Mu(Yi.rpc.parse,t),invalidRequest:t=>Mu(Yi.rpc.invalidRequest,t),invalidParams:t=>Mu(Yi.rpc.invalidParams,t),methodNotFound:t=>Mu(Yi.rpc.methodNotFound,t),internal:t=>Mu(Yi.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Mu(e,t)},invalidInput:t=>Mu(Yi.rpc.invalidInput,t),resourceNotFound:t=>Mu(Yi.rpc.resourceNotFound,t),resourceUnavailable:t=>Mu(Yi.rpc.resourceUnavailable,t),transactionRejected:t=>Mu(Yi.rpc.transactionRejected,t),methodNotSupported:t=>Mu(Yi.rpc.methodNotSupported,t),limitExceeded:t=>Mu(Yi.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ub(Yi.provider.userRejectedRequest,t),unauthorized:t=>Ub(Yi.provider.unauthorized,t),unsupportedMethod:t=>Ub(Yi.provider.unsupportedMethod,t),disconnected:t=>Ub(Yi.provider.disconnected,t),chainDisconnected:t=>Ub(Yi.provider.chainDisconnected,t),unsupportedChain:t=>Ub(Yi.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new xle(e,n,r)}}};function Mu(t,e){const[n,r]=vle(e);return new ble(t,n||DL(t),r)}function Ub(t,e){const[n,r]=vle(e);return new xle(t,n||DL(t),r)}function vle(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}let ble=class extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}},xle=class extends ble{constructor(e,n,r){if(!sYe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}};function sYe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function UL(){return t=>t}const Y8=UL(),oYe=UL(),aYe=UL();function Lp(t){return Math.floor(t)}const Ele=/^[0-9]*$/,Cle=/^[a-f0-9]*$/;function uy(t){return FL(crypto.getRandomValues(new Uint8Array(t)))}function FL(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function DS(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function J8(t,e=!1){const n=t.toString("hex");return Y8(e?`0x${n}`:n)}function zL(t){return J8(HL(t),!0)}function af(t){return aYe(t.toString(10))}function Wg(t){return Y8(`0x${BigInt(t).toString(16)}`)}function _le(t){return t.startsWith("0x")||t.startsWith("0X")}function WL(t){return _le(t)?t.slice(2):t}function Ale(t){return _le(t)?`0x${t.slice(2)}`:`0x${t}`}function LS(t){if(typeof t!="string")return!1;const e=WL(t).toLowerCase();return Cle.test(e)}function cYe(t,e=!1){if(typeof t=="string"){const n=WL(t).toLowerCase();if(Cle.test(n))return Y8(e?`0x${n}`:n)}throw Gn.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function qL(t,e=!1){let n=cYe(t,!1);return n.length%2===1&&(n=Y8(`0${n}`)),e?Y8(`0x${n}`):n}function qg(t){if(typeof t=="string"){const e=WL(t).toLowerCase();if(LS(e)&&e.length===40)return oYe(Ale(e))}throw Gn.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function HL(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(LS(t)){const e=qL(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Gn.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Q8(t){if(typeof t=="number"&&Number.isInteger(t))return Lp(t);if(typeof t=="string"){if(Ele.test(t))return Lp(Number(t));if(LS(t))return Lp(Number(BigInt(qL(t,!0))))}throw Gn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function X8(t){if(t!==null&&(typeof t=="bigint"||uYe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Q8(t));if(typeof t=="string"){if(Ele.test(t))return BigInt(t);if(LS(t))return BigInt(qL(t,!0))}throw Gn.rpc.invalidParams(`Not an integer: ${String(t)}`)}function lYe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Gn.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function uYe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function dYe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function hYe(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function fYe(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function pYe(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function Sle(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Ile(t,e){const n=Sle(t),r=await crypto.subtle.exportKey(n,e);return FL(new Uint8Array(r))}async function kle(t,e){const n=Sle(t),r=DS(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function gYe(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return fYe(e,n)}async function mYe(t,e){return JSON.parse(await pYe(e,t))}const VL={storageKey:"ownPrivateKey",keyType:"private"},KL={storageKey:"ownPublicKey",keyType:"public"},GL={storageKey:"peerPublicKey",keyType:"public"};let yYe=class{constructor(){this.storage=new of("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(GL,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(KL.storageKey),this.storage.removeItem(VL.storageKey),this.storage.removeItem(GL.storageKey)}async generateKeyPair(){const e=await dYe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(VL,e.privateKey),await this.storeKey(KL,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(VL)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(KL)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(GL)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await hYe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?kle(e.keyType,n):null}async storeKey(e,n){const r=await Ile(e.keyType,n);this.storage.setItem(e.storageKey,r)}};const ex="4.3.2",$le="@coinbase/wallet-sdk";async function ZL(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":ex,"X-Cbw-Sdk-Platform":$le}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function wYe(){return globalThis.coinbaseWalletExtension}function vYe(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function bYe({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const c=wYe();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,s,o,e),c}const a=vYe();if(a!=null&&a.isCoinbaseBrowser)return(r=a.setAppInfo)===null||r===void 0||r.call(a,i,s,o,e),a}function xYe(t){if(!t||typeof t!="object"||Array.isArray(t))throw Gn.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Gn.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Gn.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Gn.provider.unsupportedMethod()}}const Tle="accounts",Ple="activeChain",Nle="availableChains",Ole="walletCapabilities";class EYe{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new yYe,this.storage=new of("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(Tle))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(Ple)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await kle("public",a.sender);await this.keyManager.setPeerPublicKey(c);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const d=u.value;this.accounts=d,this.storage.storeObject(Tle,d),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",d);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw Gn.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Wg(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Wg(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(Ole);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Gn.rpc.internal("No RPC URL set for chain");return ZL(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Gn.rpc.invalidParams();const i=Q8(r[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Gn.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await gYe({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await Ile("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Gn.provider.unauthorized("Invalid session");const o=await mYe(i.encrypted,s),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const l=Object.entries(a).map(([u,d])=>({id:Number(u),rpcUrl:d}));this.storage.storeObject(Nle,l),this.updateChain(this.chain.id,l)}const c=(r=o.data)===null||r===void 0?void 0:r.capabilities;return c&&this.storage.storeObject(Ole,c),o}updateChain(e,n){var r;const i=n??this.storage.loadObject(Nle),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(Ple,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Wg(s.id))),!0):!1}}const CYe=xv(gPe),{keccak_256:_Ye}=CYe;function Rle(t){return Buffer.allocUnsafe(t).fill(0)}function AYe(t){return t.toString(2).length}function Mle(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const r=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;r.length<e;)r.unshift(0);return Buffer.from(r)}function SYe(t,e){const n=t<0n;let r;if(n){const i=(1n<<BigInt(e))-1n;r=(~t&i)+1n}else r=t;return r&=(1n<<BigInt(e))-1n,r}function jle(t,e,n){const r=Rle(e);return t=US(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function IYe(t,e){return jle(t,e,!0)}function US(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Ble(t)?t=Buffer.from(TYe(Dle(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=Mle(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function kYe(t){return t=US(t),"0x"+t.toString("hex")}function $Ye(t,e){if(t=US(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(_Ye(new Uint8Array(t)))}function TYe(t){return t.length%2?"0"+t:t}function Ble(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Dle(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Lle={zeros:Rle,setLength:jle,setLengthRight:IYe,isHexString:Ble,stripHexPrefix:Dle,toBuffer:US,bufferToHex:kYe,keccak:$Ye,bitLengthFromBigInt:AYe,bufferBEFromBigInt:Mle,twosFromBigInt:SYe};const Ha=Lle;function Ule(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Fb(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Fle(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function zle(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function dy(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function cf(t,e){var n,r,i,s;if(t==="address")return cf("uint160",dy(e));if(t==="bool")return cf("uint8",e?1:0);if(t==="string")return cf("bytes",new Buffer(e,"utf8"));if(NYe(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=zle(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(cf(t,e[s]));if(n==="dynamic"){var o=cf("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([cf("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Ha.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=Fb(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Ha.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=Fb(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=dy(e);const a=Ha.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(r<0)throw new Error("Supplied uint is negative");return Ha.bufferBEFromBigInt(r,32)}else if(t.startsWith("int")){if(n=Fb(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=dy(e);const a=Ha.bitLengthFromBigInt(r);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const c=Ha.twosFromBigInt(r,256);return Ha.bufferBEFromBigInt(c,32)}else if(t.startsWith("ufixed")){if(n=Fle(t),r=dy(e),r<0)throw new Error("Supplied ufixed is negative");return cf("uint256",r*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=Fle(t),cf("int256",dy(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function PYe(t){return t==="string"||t==="bytes"||zle(t)==="dynamic"}function NYe(t){return t.lastIndexOf("]")===t.length-1}function OYe(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=Ule(t[s]),a=e[s],c=cf(o,a);PYe(o)?(n.push(cf("uint256",i)),r.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(r))}function Wle(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=Ule(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Ha.setLength(a,20));else if(o.startsWith("bytes")){if(n=Fb(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Ha.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=Fb(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);r=dy(a);const c=Ha.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c);i.push(Ha.bufferBEFromBigInt(r,n/8))}else if(o.startsWith("int")){if(n=Fb(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);r=dy(a);const c=Ha.bitLengthFromBigInt(r);if(c>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c);const l=Ha.twosFromBigInt(r,n);i.push(Ha.bufferBEFromBigInt(l,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function RYe(t,e){return Ha.keccak(Wle(t,e))}var MYe={rawEncode:OYe,solidityPack:Wle,soliditySHA3:RYe};const Hd=Lle,tx=MYe,qle={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},YL={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,c,l)=>{if(n[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Hd.keccak(this.encodeData(c,l,n,r))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Hd.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Hd.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),d=l.map(h=>o(a,u,h));return["bytes32",Hd.keccak(tx.rawEncode(d.map(([h])=>h),d.map(([,h])=>h)))]}return[c,l]};for(const a of n[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Hd.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Hd.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=Hd.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return tx.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Hd.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Hd.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in qle.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Hd.keccak(Buffer.concat(r))}};var jYe={TYPED_MESSAGE_SCHEMA:qle,TypedDataUtils:YL,hashForSignTypedDataLegacy:function(t){return BYe(t.data)},hashForSignTypedData_v3:function(t){return YL.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return YL.hash(t.data)}};function BYe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Hd.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return tx.soliditySHA3(["bytes32","bytes32"],[tx.soliditySHA3(new Array(t.length).fill("string"),i),tx.soliditySHA3(r,n)])}const FS=Hi(jYe),DYe="walletUsername",JL="Addresses",LYe="AppVersion";function Eo(t){return t.errorMessage!==void 0}class UYe{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",DS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),u=new Uint8Array(c),d=new Uint8Array(l),h=new Uint8Array([...r,...u,...d]);return FL(h)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",DS(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=DS(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(d,s,u),f=new TextDecoder;r(f.decode(h))}catch(h){i(h)}})()})}}class FYe{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var Up;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Up||(Up={}));class zYe{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Up.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Up.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Up.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Up.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const Hle=1e4,WYe=6e4;class qYe{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Lp(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,c)=>{const l=s[c];l!==void 0&&a(l)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(DYe,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(LYe,s)},this.handleChainUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,l)},this.session=e,this.cipher=new UYe(e.secret),this.listener=r;const i=new zYe(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case Up.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case Up.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Hle),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Up.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new FYe(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Lp(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Lp(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Hle*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:WYe}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Lp(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Lp(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Lp(this.nextReqId++),sessionId:this.session.id}),!0)}}class HYe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=Ale(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const Vle="session:id",Kle="session:secret",Gle="session:linked";class zb{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=xg(R4(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=uy(16),r=uy(32);return new zb(e,n,r).save()}static load(e){const n=e.getItem(Vle),r=e.getItem(Gle),i=e.getItem(Kle);return n&&i?new zb(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(Vle,this.id),this.storage.setItem(Kle,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Gle,this._linked?"1":"0")}}function VYe(){try{return window.frameElement!==null}catch{return!1}}function KYe(){try{return VYe()&&window.top?window.top.location:window.location}catch{return window.location}}function GYe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function Zle(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const ZYe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Yle(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(ZYe)),document.documentElement.appendChild(t)}function Jle(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Jle(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Hg(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Jle(t))&&(r&&(r+=" "),r+=e);return r}var zS,Ur,Qle,hy,Xle,eue,QL,XL,eU,tU,nx={},tue=[],YYe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nU=Array.isArray;function Vg(t,e){for(var n in e)t[n]=e[n];return t}function nue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _r(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?zS.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return WS(t,o,r,i,null)}function WS(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Qle,__i:-1,__u:0};return i==null&&Ur.vnode!=null&&Ur.vnode(s),s}function qS(t){return t.children}function HS(t,e){this.props=t,this.context=e}function Wb(t,e){if(e==null)return t.__?Wb(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Wb(t):null}function rue(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return rue(t)}}function iue(t){(!t.__d&&(t.__d=!0)&&hy.push(t)&&!VS.__r++||Xle!==Ur.debounceRendering)&&((Xle=Ur.debounceRendering)||eue)(VS)}function VS(){var t,e,n,r,i,s,o,a;for(hy.sort(QL);t=hy.shift();)t.__d&&(e=hy.length,r=void 0,s=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((r=Vg({},i)).__v=i.__v+1,Ur.vnode&&Ur.vnode(r),rU(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,o,s??Wb(i),!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,lue(o,r,a),r.__e!=s&&rue(r)),hy.length>e&&hy.sort(QL));VS.__r=0}function sue(t,e,n,r,i,s,o,a,c,l,u){var d,h,f,p,m,w=r&&r.__k||tue,y=e.length;for(n.__d=c,JYe(n,e,w),c=n.__d,d=0;d<y;d++)(f=n.__k[d])!=null&&(h=f.__i===-1?nx:w[f.__i]||nx,f.__i=d,rU(t,f,h,i,s,o,a,c,l,u),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&iU(h.ref,null,f),u.push(f.ref,f.__c||p,f)),m==null&&p!=null&&(m=p),65536&f.__u||h.__k===f.__k?c=oue(f,c,t):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:p&&(c=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function JYe(t,e,n){var r,i,s,o,a,c=e.length,l=n.length,u=l,d=0;for(t.__k=[],r=0;r<c;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=r+d,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?WS(null,i,null,null,null):nU(i)?WS(qS,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?WS(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=QYe(i,n,o,u))!==-1&&(u--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?d--:a==o+1?d++:(a>o?d--:d++,i.__u|=65536))):i=t.__k[r]=null;if(u)for(r=0;r<l;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Wb(s)),uue(s,s))}function oue(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=oue(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Wb(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function QYe(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&!(131072&c.__u))return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function aue(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||YYe.test(e)?n:n+"px"}function KS(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||aue(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||aue(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=XL,t.addEventListener(e,s?tU:eU,s)):t.removeEventListener(e,s?tU:eU,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function cue(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=XL++;else if(e.t<n.u)return;return n(Ur.event?Ur.event(e):e)}}}function rU(t,e,n,r,i,s,o,a,c,l){var u,d,h,f,p,m,w,y,b,v,E,_,T,I,R,S,B=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=Ur.__b)&&u(e);e:if(typeof B=="function")try{if(y=e.props,b="prototype"in B&&B.prototype.render,v=(u=B.contextType)&&r[u.__c],E=u?v?v.props.value:u.__:r,n.__c?w=(d=e.__c=n.__c).__=d.__E:(b?e.__c=d=new B(y,E):(e.__c=d=new HS(y,E),d.constructor=B,d.render=eJe),v&&v.sub(d),d.props=y,d.state||(d.state={}),d.context=E,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),b&&d.__s==null&&(d.__s=d.state),b&&B.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Vg({},d.__s)),Vg(d.__s,B.getDerivedStateFromProps(y,d.__s))),f=d.props,p=d.state,d.__v=e,h)b&&B.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),b&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(b&&B.getDerivedStateFromProps==null&&y!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,E),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,E)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(j){j&&(j.__=e)}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,E),b&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,p,m)})}if(d.context=E,d.props=y,d.__P=t,d.__e=!1,T=Ur.__r,I=0,b){for(d.state=d.__s,d.__d=!1,T&&T(e),u=d.render(d.props,d.state,d.context),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[]}else do d.__d=!1,T&&T(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++I<25);d.state=d.__s,d.getChildContext!=null&&(r=Vg(Vg({},r),d.getChildContext())),b&&!h&&d.getSnapshotBeforeUpdate!=null&&(m=d.getSnapshotBeforeUpdate(f,p)),sue(t,nU(S=u!=null&&u.type===qS&&u.key==null?u.props.children:u)?S:[S],e,n,r,i,s,o,a,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),w&&(d.__E=d.__=null)}catch(j){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;Ur.__e(j,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=XYe(n.__e,e,n,r,i,s,o,c,l);(u=Ur.diffed)&&u(e)}function lue(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)iU(n[r],n[++r],n[++r]);Ur.__c&&Ur.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Ur.__e(s,i.__v)}})}function XYe(t,e,n,r,i,s,o,a,c){var l,u,d,h,f,p,m,w=n.props,y=e.props,b=e.type;if(b==="svg"?i="http://www.w3.org/2000/svg":b==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((f=s[l])&&"setAttribute"in f==!!b&&(b?f.localName===b:f.nodeType===3)){t=f,s[l]=null;break}}if(t==null){if(b===null)return document.createTextNode(y);t=document.createElementNS(i,b,y.is&&y),a&&(Ur.__m&&Ur.__m(e,s),a=!1),s=null}if(b===null)w===y||a&&t.data===y||(t.data=y);else{if(s=s&&zS.call(t.childNodes),w=n.props||nx,!a&&s!=null)for(w={},l=0;l<t.attributes.length;l++)w[(f=t.attributes[l]).name]=f.value;for(l in w)if(f=w[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=f;else if(!(l in y)){if(l=="value"&&"defaultValue"in y||l=="checked"&&"defaultChecked"in y)continue;KS(t,l,null,f,i)}}for(l in y)f=y[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?p=f:l=="checked"?m=f:a&&typeof f!="function"||w[l]===f||KS(t,l,f,w[l],i);if(u)a||d&&(u.__html===d.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(d&&(t.innerHTML=""),sue(t,nU(h)?h:[h],e,n,r,b==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:n.__k&&Wb(n,0),a,c),s!=null)for(l=s.length;l--;)nue(s[l]);a||(l="value",b==="progress"&&p==null?t.removeAttribute("value"):p!==void 0&&(p!==t[l]||b==="progress"&&!p||b==="option"&&p!==w[l])&&KS(t,l,p,w[l],i),l="checked",m!==void 0&&m!==t[l]&&KS(t,l,m,w[l],i))}return t}function iU(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Ur.__e(i,n)}}function uue(t,e,n){var r,i;if(Ur.unmount&&Ur.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||iU(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Ur.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&uue(r[i],e,n||typeof t.type!="function");n||nue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function eJe(t,e,n){return this.constructor(t,n)}function rx(t,e,n){var r,i,s,o;Ur.__&&Ur.__(t,e),i=(r=!1)?null:e.__k,s=[],o=[],rU(e,t=e.__k=_r(qS,null,[t]),i||nx,nx,e.namespaceURI,i?null:e.firstChild?zS.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,o),lue(s,t,o)}zS=tue.slice,Ur={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Qle=0,HS.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Vg({},this.state),typeof t=="function"&&(t=t(Vg({},n),this.props)),t&&Vg(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),iue(this))},HS.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),iue(this))},HS.prototype.render=qS,hy=[],eue=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,QL=function(t,e){return t.__v.__b-e.__v.__b},VS.__r=0,XL=0,eU=cue(!1),tU=cue(!0);var ix,Ji,sU,due,oU=0,hue=[],hs=Ur,fue=hs.__b,pue=hs.__r,gue=hs.diffed,mue=hs.__c,yue=hs.unmount,wue=hs.__;function aU(t,e){hs.__h&&hs.__h(Ji,t,oU||e),oU=0;var n=Ji.__H||(Ji.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Fp(t){return oU=1,tJe(xue,t)}function tJe(t,e,n){var r=aU(ix++,2);if(r.t=t,!r.__c&&(r.__=[xue(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Ji,!Ji.u)){var i=function(a,c,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,a,c,l);var d=!1;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(d=!0)}}),!(!d&&r.__c.props===a)&&(!s||s.call(this,a,c,l))};Ji.u=!0;var s=Ji.shouldComponentUpdate,o=Ji.componentWillUpdate;Ji.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,i(a,c,l),s=u}o&&o.call(this,a,c,l)},Ji.shouldComponentUpdate=i}return r.__N||r.__}function GS(t,e){var n=aU(ix++,3);!hs.__s&&bue(n.__H,e)&&(n.__=t,n.i=e,Ji.__H.__h.push(n))}function nJe(t,e){var n=aU(ix++,7);return bue(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function rJe(){for(var t;t=hue.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ZS),t.__H.__h.forEach(cU),t.__H.__h=[]}catch(e){t.__H.__h=[],hs.__e(e,t.__v)}}hs.__b=function(t){Ji=null,fue&&fue(t)},hs.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),wue&&wue(t,e)},hs.__r=function(t){pue&&pue(t),ix=0;var e=(Ji=t.__c).__H;e&&(sU===Ji?(e.__h=[],Ji.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(ZS),e.__h.forEach(cU),e.__h=[],ix=0)),sU=Ji},hs.diffed=function(t){gue&&gue(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(hue.push(e)!==1&&due===hs.requestAnimationFrame||((due=hs.requestAnimationFrame)||iJe)(rJe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),sU=Ji=null},hs.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ZS),n.__h=n.__h.filter(function(r){return!r.__||cU(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],hs.__e(r,n.__v)}}),mue&&mue(t,e)},hs.unmount=function(t){yue&&yue(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ZS(r)}catch(i){e=i}}),n.__H=void 0,e&&hs.__e(e,n.__v))};var vue=typeof requestAnimationFrame=="function";function iJe(t){var e,n=function(){clearTimeout(r),vue&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);vue&&(e=requestAnimationFrame(n))}function ZS(t){var e=Ji,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ji=e}function cU(t){var e=Ji;t.__c=t.__(),Ji=e}function bue(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function xue(t,e){return typeof e=="function"?e(t):e}const sJe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",oJe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",aJe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Eue{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=Zle()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&rx(_r("div",null,_r(Cue,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>_r(cJe,Object.assign({},n,{key:e}))))),this.root)}}const Cue=t=>_r("div",{class:Hg("-cbwsdk-snackbar-container")},_r("style",null,sJe),_r("div",{class:"-cbwsdk-snackbar"},t.children)),cJe=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=Fp(!0),[s,o]=Fp(t??!1);GS(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return _r("div",{class:Hg("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},_r("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},_r("img",{src:oJe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",_r("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),_r("div",{class:"-gear-container"},!s&&_r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_r("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),_r("img",{src:aJe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&_r("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,l)=>_r("div",{class:Hg("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},_r("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_r("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),_r("span",{class:Hg("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))},_ue="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class lJe{constructor(){this.attached=!1,this.snackbar=new Eue}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,Yle()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:_ue,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const uJe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class dJe{constructor(){this.root=null,this.darkMode=Zle()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Yle()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(rx(null,this.root),e&&rx(_r(hJe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const hJe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return _r(Cue,{darkMode:n},_r("div",{class:"-cbwsdk-redirect-dialog"},_r("style",null,uJe),_r("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),_r("div",{class:Hg("-cbwsdk-redirect-dialog-box",s)},_r("p",null,t),_r("button",{onClick:r},e))))},fJe="https://keys.coinbase.com/connect",pJe="https://rpc.wallet.coinbase.com",Aue="https://www.walletlink.org",gJe="https://go.cb-w.com/walletlink";class Sue{constructor(){this.attached=!1,this.redirectDialog=new dJe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(gJe);n.searchParams.append("redirect_url",KYe().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class zp{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=GYe(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(JL);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),zp.accountRequestCallbackIds.size>0&&(Array.from(zp.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),zp.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new HYe,this.ui=r,this.ui.attach()}subscribe(){const e=zb.load(this.storage)||zb.create(this.storage),{linkAPIUrl:n}=this,r=new qYe({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new Sue:new lJe;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=zb.load(this.storage);(e==null?void 0:e.id)===this._session.id&&of.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:af(e.weiValue),data:J8(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?af(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?af(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?af(e.gasPriceInWei):null,gasLimit:e.gasLimit?af(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:af(e.weiValue),data:J8(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?af(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?af(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?af(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?af(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:J8(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=uy(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,a=>{if(n==null||n(),Eo(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof Sue)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){zp.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),zp.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=uy(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Eo(a))return o(new Error(a.errorMessage));s(a)}),zp.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const l=uy(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c==null||c(),Eo(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,n,r,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const l=uy(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c==null||c(),Eo(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=uy(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(i==null||i(),Eo(l)&&l.errorCode)return c(Gn.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Eo(l))return c(new Error(l.errorMessage));a(l)}),this.publishWeb3RequestEvent(s,r)})}}zp.accountRequestCallbackIds=new Set;const Iue="DefaultChainId",kue="DefaultJsonRpcUrl";class $ue{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new of("walletlink",Aue),this.callback=e.callback||null;const n=this._storage.getItem(JL);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>qg(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(kue))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(kue,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(Iue,n.toString(10)),Q8(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Wg(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Gn.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Gn.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Gn.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Gn.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options,l=await this.initializeRelay().watchAsset(n.type,i,s,a,o,r==null?void 0:r.toString());return Eo(l)?!1:!!l.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Gn.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Gn.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Gn.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=i,h=await o.addEthereumChain(s.toString(),a,u,c,l,d);if(Eo(h))return!1;if(((r=h.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Gn.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Eo(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>qg(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(JL,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Wg(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Gn.rpc.internal("No RPC URL set for chain");return ZL(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=qg(e);if(!this._addresses.map(i=>qg(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?qg(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?qg(e.to):null,i=e.value!=null?X8(e.value):BigInt(0),s=e.data?HL(e.data):Buffer.alloc(0),o=e.nonce!=null?Q8(e.nonce):null,a=e.gasPrice!=null?X8(e.gasPrice):null,c=e.maxFeePerGas!=null?X8(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?X8(e.maxPriorityFeePerGas):null,u=e.gas!=null?X8(e.gas):null,d=e.chainId?Q8(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Gn.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:zL(r[0]),signature:zL(r[1]),addPrefix:n==="personal_ecRecover"}});if(Eo(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(Iue))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Wg(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Eo(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Wg(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Gn.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:qg(n),message:zL(r),addPrefix:!0,typedDataJson:null}});if(Eo(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Eo(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=HL(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Eo(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Eo(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Gn.rpc.invalidParams();const i=l=>{const u={eth_signTypedData_v1:FS.hashForSignTypedDataLegacy,eth_signTypedData_v3:FS.hashForSignTypedData_v3,eth_signTypedData_v4:FS.hashForSignTypedData_v4,eth_signTypedData:FS.hashForSignTypedData_v4};return J8(u[n]({data:lYe(l)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],o=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:qg(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Eo(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new zp({linkAPIUrl:Aue,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const Tue="SignerType",Pue=new of("CBWSDK","SignerConfigurator");function mJe(){return Pue.getItem(Tue)}function yJe(t){Pue.setItem(Tue,t)}async function wJe(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;bJe(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function vJe(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new EYe({metadata:n,callback:i,communicator:r});case"walletlink":return new $ue({metadata:n,callback:i})}}async function bJe(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new $ue({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const xJe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,EJe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(xJe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:CJe,getCrossOriginOpenerPolicy:_Je}=EJe(),Nue=420,Oue=540,AJe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:_ue,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},SJe="Popup was blocked. Try again.";let YS=null;function IJe(t){const e=(window.innerWidth-Nue)/2+window.screenX,n=(window.innerHeight-Oue)/2+window.screenY;$Je(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${Nue}, height=${Oue}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}let i=r();if(!i){const s=TJe();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:SJe,menuItems:[Object.assign(Object.assign({},AJe),{onClick:()=>{i=r(),i?o(i):a(Gn.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function kJe(t){t&&!t.closed&&t.close()}function $Je(t){const e={sdkName:$le,sdkVersion:ex,origin:window.location.origin,coop:_Je()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function TJe(){if(!YS){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),YS=new Eue,YS.attach(t)}return YS}let PJe=class{constructor({url:e=fJe,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{kJe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Gn.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await IJe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:ex,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Gn.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}};function NJe(t){const e=iYe(OJe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",ex),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function OJe(t){var e;if(typeof t=="string")return{message:t,code:Yi.rpc.internal};if(Eo(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Yi.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}let RJe=class extends rf{};var MJe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class jJe extends RJe{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=MJe(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new PJe({url:i,metadata:n,preference:s});const o=mJe();o&&(this.signer=this.initSigner(o))}async request(e){try{if(xYe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,yJe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return ZL(e,pJe);case"net_version":return 1;case"eth_chainId":return Wg(1);default:throw Gn.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Yi.provider.unauthorized&&this.disconnect(),Promise.reject(NJe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,of.clearAll(),this.emit("disconnect",Gn.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return wJe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return vJe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function BJe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function DJe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=bYe(n))!==null&&e!==void 0?e:new jJe(n)}const LJe={options:"all"};function Rue(t){var e;new of("CBWSDK").setItem("VERSION",ex),CJe();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(LJe,(e=t.preference)!==null&&e!==void 0?e:{})};BJe(r.preference);let i=null;return{getProvider:()=>(i||(i=DJe(r)),i)}}let lU={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const UJe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let qb=t=>t!==void 0?BigInt(t):void 0;function Mue(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map(l=>Array.isArray(l)?{address:l[0],storageKeys:l[1]}:l):r.accessList&&(e=Object.entries(r.accessList).map(l=>({address:l[0],storageKeys:l[1]})));let i=Number(r.chainId??1),s=Si(r.data)?r.data:r.data?Cr(Uint8Array.from(r.data)):void 0,o=r.nonce?Number(r.nonce):void 0,a={chainId:i,data:s,nonce:o,value:qb(r.value),gas:qb(r.gas??r.gasLimit)},c=Number(n);if(c===0)return{...r,type:lU[c],...a,gasPrice:qb(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===1)return{...r,type:lU[c],...a,gasPrice:qb(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(c===2)return{...r,type:lU[c],...a,nonce:o,accessList:e,maxFeePerGas:qb(r.maxFeePerGas),maxPriorityFeePerGas:qb(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const FJe=({as:t="div",...e},n)=>g.jsx(t,{...e,ref:n}),zJe=k.forwardRef(FJe),WJe="https://challenges.cloudflare.com/turnstile/v0/api.js",JS="cf-turnstile-script",qJe="cf-turnstile",jue="onloadTurnstileCallback",QS=t=>!!document.getElementById(t),HJe=({render:t="explicit",onLoadCallbackName:e=jue,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:c=""}={}})=>{const l=s||JS;if(QS(l))return;const u=document.createElement("script");if(u.id=l,u.src=`${WJe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!r,u.async=!!i,n&&(u.nonce=n),c&&(u.crossOrigin=c),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},lf={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function VJe(t){let e;return t!=="invisible"&&(e=t),e}function KJe(t=JS){const[e,n]=k.useState(!1);return k.useEffect(()=>{const r=()=>{QS(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const Bue=k.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:c,onBeforeInteractive:l,onAfterInteractive:u,onUnsupported:d,onLoadScript:h,id:f,style:p,as:m="div",injectScript:w=!0,...y}=t,b=r.size??"normal",[v,E]=k.useState(r.execution==="execute"?lf.invisible:r.appearance==="interaction-only"?lf.interactionOnly:lf[b]),_=k.useRef(null),T=k.useRef(!1),[I,R]=k.useState(),[S,B]=k.useState(!1),j=f??qJe,U=w?(n==null?void 0:n.id)||`${JS}__${j}`:(n==null?void 0:n.id)||JS,M=KJe(U),C=n!=null&&n.onLoadCallbackName?`${n.onLoadCallbackName}__${j}`:`${jue}__${j}`,x=k.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:o,"error-callback":c,"expired-callback":a,"before-interactive-callback":l,"after-interactive-callback":u,"unsupported-callback":d,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:VJe(b),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,o,c,a,b,l,u,d]),A=k.useMemo(()=>JSON.stringify(x),[x]);return k.useImperativeHandle(e,()=>{if(typeof window>"u"||!M)return;const{turnstile:N}=window;return{getResponse(){if(!(N!=null&&N.getResponse)||!I){console.warn("Turnstile has not been loaded");return}return N.getResponse(I)},reset(){if(!(N!=null&&N.reset)||!I){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&E(lf.invisible);try{N.reset(I)}catch(O){console.warn(`Failed to reset Turnstile widget ${I}`,O)}},remove(){if(!(N!=null&&N.remove)||!I){console.warn("Turnstile has not been loaded");return}R(""),E(lf.invisible),N.remove(I)},render(){if(!(N!=null&&N.render)||!_.current||I){console.warn("Turnstile has not been loaded or widget already rendered");return}const O=N.render(_.current,x);return R(O),r.execution!=="execute"&&E(lf[b]),O},execute(){if(r.execution==="execute"){if(!(N!=null&&N.execute)||!_.current||!I){console.warn("Turnstile has not been loaded or widget has not been rendered");return}N.execute(_.current,x),E(lf[b])}},isExpired(){if(!(N!=null&&N.isExpired)||!I){console.warn("Turnstile has not been loaded");return}return N.isExpired(I)}}},[M,I,r.execution,b,x,_]),k.useEffect(()=>(window[C]=()=>B(!0),()=>{delete window[C]}),[C]),k.useEffect(()=>{w&&!S&&HJe({onLoadCallbackName:C,scriptOptions:{...n,id:U}})},[w,S,C,n,U]),k.useEffect(()=>{M&&!S&&window.turnstile&&B(!0)},[S,M]),k.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!M||!_.current||!S||T.current)return;const N=window.turnstile.render(_.current,x);R(N),T.current=!0},[M,i,x,T,S]),k.useEffect(()=>{if(window.turnstile&&_.current&&I){QS(I)&&window.turnstile.remove(I);const N=window.turnstile.render(_.current,x);R(N),T.current=!0}},[A,i]),k.useEffect(()=>{if(window.turnstile&&I&&QS(I))return s==null||s(I),()=>{window.turnstile.remove(I)}},[I,s]),k.useEffect(()=>{E(r.execution==="execute"?lf.invisible:x.appearance==="interaction-only"?lf.interactionOnly:lf[b])},[r.execution,b,x.appearance]),k.useEffect(()=>{!M||typeof h!="function"||h()},[M,h]),g.jsx(zJe,{ref:_,as:m,id:j,style:{...v,...p},...y})});Bue.displayName="Turnstile";var fa=function(){return fa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fa.apply(this,arguments)};function Hb(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var ai="-ms-",sx="-moz-",fr="-webkit-",Due="comm",XS="rule",uU="decl",GJe="@import",ZJe="@namespace",Lue="@keyframes",YJe="@layer",Uue=Math.abs,dU=String.fromCharCode,hU=Object.assign;function JJe(t,e){return Ts(t,0)^45?(((e<<2^Ts(t,0))<<2^Ts(t,1))<<2^Ts(t,2))<<2^Ts(t,3):0}function Fue(t){return t.trim()}function Wp(t,e){return(t=e.exec(t))?t[0]:t}function bn(t,e,n){return t.replace(e,n)}function eI(t,e,n){return t.indexOf(e,n)}function Ts(t,e){return t.charCodeAt(e)|0}function fy(t,e,n){return t.slice(e,n)}function Vd(t){return t.length}function zue(t){return t.length}function ox(t,e){return e.push(t),t}function QJe(t,e){return t.map(e).join("")}function Wue(t,e){return t.filter(function(n){return!Wp(n,e)})}var tI=1,Vb=1,que=0,ju=0,fs=0,Kb="";function nI(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:tI,column:Vb,length:o,return:"",siblings:a}}function Kg(t,e){return hU(nI("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Gb(t){for(;t.root;)t=Kg(t.root,{children:[t]});ox(t,t.siblings)}function XJe(){return fs}function eQe(){return fs=ju>0?Ts(Kb,--ju):0,Vb--,fs===10&&(Vb=1,tI--),fs}function Kd(){return fs=ju<que?Ts(Kb,ju++):0,Vb++,fs===10&&(Vb=1,tI++),fs}function Gg(){return Ts(Kb,ju)}function rI(){return ju}function iI(t,e){return fy(Kb,t,e)}function ax(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tQe(t){return tI=Vb=1,que=Vd(Kb=t),ju=0,[]}function nQe(t){return Kb="",t}function fU(t){return Fue(iI(ju-1,pU(t===91?t+2:t===40?t+1:t)))}function rQe(t){for(;(fs=Gg())&&fs<33;)Kd();return ax(t)>2||ax(fs)>3?"":" "}function iQe(t,e){for(;--e&&Kd()&&!(fs<48||fs>102||fs>57&&fs<65||fs>70&&fs<97););return iI(t,rI()+(e<6&&Gg()==32&&Kd()==32))}function pU(t){for(;Kd();)switch(fs){case t:return ju;case 34:case 39:t!==34&&t!==39&&pU(fs);break;case 40:t===41&&pU(t);break;case 92:Kd();break}return ju}function sQe(t,e){for(;Kd()&&t+fs!==57;)if(t+fs===84&&Gg()===47)break;return"/*"+iI(e,ju-1)+"*"+dU(t===47?t:Kd())}function oQe(t){for(;!ax(Gg());)Kd();return iI(t,ju)}function aQe(t){return nQe(sI("",null,null,null,[""],t=tQe(t),0,[0],t))}function sI(t,e,n,r,i,s,o,a,c){for(var l=0,u=0,d=o,h=0,f=0,p=0,m=1,w=1,y=1,b=0,v="",E=i,_=s,T=r,I=v;w;)switch(p=b,b=Kd()){case 40:if(p!=108&&Ts(I,d-1)==58){eI(I+=bn(fU(b),"&","&\f"),"&\f",Uue(l?a[l-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:I+=fU(b);break;case 9:case 10:case 13:case 32:I+=rQe(p);break;case 92:I+=iQe(rI()-1,7);continue;case 47:switch(Gg()){case 42:case 47:ox(cQe(sQe(Kd(),rI()),e,n,c),c),(ax(p||1)==5||ax(Gg()||1)==5)&&Vd(I)&&fy(I,-1,void 0)!==" "&&(I+=" ");break;default:I+="/"}break;case 123*m:a[l++]=Vd(I)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:w=0;case 59+u:y==-1&&(I=bn(I,/\f/g,"")),f>0&&(Vd(I)-d||m===0&&p===47)&&ox(f>32?Vue(I+";",r,n,d-1,c):Vue(bn(I," ","")+";",r,n,d-2,c),c);break;case 59:I+=";";default:if(ox(T=Hue(I,e,n,l,u,i,a,v,E=[],_=[],d,s),s),b===123)if(u===0)sI(I,e,T,T,E,s,d,a,_);else{switch(h){case 99:if(Ts(I,3)===110)break;case 108:if(Ts(I,2)===97)break;default:u=0;case 100:case 109:case 115:}u?sI(t,T,T,r&&ox(Hue(t,T,T,0,0,i,a,v,i,E=[],d,_),_),i,_,d,a,r?E:_):sI(I,T,T,T,[""],_,0,a,_)}}l=u=f=0,m=y=1,v=I="",d=o;break;case 58:d=1+Vd(I),f=p;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&eQe()==125)continue}switch(I+=dU(b),b*m){case 38:y=u>0?1:(I+="\f",-1);break;case 44:a[l++]=(Vd(I)-1)*y,y=1;break;case 64:Gg()===45&&(I+=fU(Kd())),h=Gg(),u=d=Vd(v=I+=oQe(rI())),b++;break;case 45:p===45&&Vd(I)==2&&(m=0)}}return s}function Hue(t,e,n,r,i,s,o,a,c,l,u,d){for(var h=i-1,f=i===0?s:[""],p=zue(f),m=0,w=0,y=0;m<r;++m)for(var b=0,v=fy(t,h+1,h=Uue(w=o[m])),E=t;b<p;++b)(E=Fue(w>0?f[b]+" "+v:bn(v,/&\f/g,f[b])))&&(c[y++]=E);return nI(t,e,n,i===0?XS:a,c,l,u,d)}function cQe(t,e,n,r){return nI(t,e,n,Due,dU(XJe()),fy(t,2,-2),0,r)}function Vue(t,e,n,r,i){return nI(t,e,n,uU,fy(t,0,r),fy(t,r+1,-1),r,i)}function Kue(t,e,n){switch(JJe(t,e)){case 5103:return fr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return fr+t+t;case 4855:return fr+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return sx+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return fr+t+sx+t+ai+t+t;case 5936:switch(Ts(t,e+11)){case 114:return fr+t+ai+bn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return fr+t+ai+bn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return fr+t+ai+bn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return fr+t+ai+t+t;case 6165:return fr+t+ai+"flex-"+t+t;case 5187:return fr+t+bn(t,/(\w+).+(:[^]+)/,fr+"box-$1$2"+ai+"flex-$1$2")+t;case 5443:return fr+t+ai+"flex-item-"+bn(t,/flex-|-self/g,"")+(Wp(t,/flex-|baseline/)?"":ai+"grid-row-"+bn(t,/flex-|-self/g,""))+t;case 4675:return fr+t+ai+"flex-line-pack"+bn(t,/align-content|flex-|-self/g,"")+t;case 5548:return fr+t+ai+bn(t,"shrink","negative")+t;case 5292:return fr+t+ai+bn(t,"basis","preferred-size")+t;case 6060:return fr+"box-"+bn(t,"-grow","")+fr+t+ai+bn(t,"grow","positive")+t;case 4554:return fr+bn(t,/([^-])(transform)/g,"$1"+fr+"$2")+t;case 6187:return bn(bn(bn(t,/(zoom-|grab)/,fr+"$1"),/(image-set)/,fr+"$1"),t,"")+t;case 5495:case 3959:return bn(t,/(image-set\([^]*)/,fr+"$1$`$1");case 4968:return bn(bn(t,/(.+:)(flex-)?(.*)/,fr+"box-pack:$3"+ai+"flex-pack:$3"),/space-between/,"justify")+fr+t+t;case 4200:if(!Wp(t,/flex-|baseline/))return ai+"grid-column-align"+fy(t,e)+t;break;case 2592:case 3360:return ai+bn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Wp(r.props,/grid-\w+-end/)})?~eI(t+(n=n[e].value),"span",0)?t:ai+bn(t,"-start","")+t+ai+"grid-row-span:"+(~eI(n,"span",0)?Wp(n,/\d+/):+Wp(n,/\d+/)-+Wp(t,/\d+/))+";":ai+bn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Wp(r.props,/grid-\w+-start/)})?t:ai+bn(bn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return bn(t,/(.+)-inline(.+)/,fr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vd(t)-1-e>6)switch(Ts(t,e+1)){case 109:if(Ts(t,e+4)!==45)break;case 102:return bn(t,/(.+:)(.+)-([^]+)/,"$1"+fr+"$2-$3$1"+sx+(Ts(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~eI(t,"stretch",0)?Kue(bn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return bn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,l){return ai+i+":"+s+l+(o?ai+i+"-span:"+(a?c:+c-+s)+l:"")+t});case 4949:if(Ts(t,e+6)===121)return bn(t,":",":"+fr)+t;break;case 6444:switch(Ts(t,Ts(t,14)===45?18:11)){case 120:return bn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fr+(Ts(t,14)===45?"inline-":"")+"box$3$1"+fr+"$2$3$1"+ai+"$2box$3")+t;case 100:return bn(t,":",":"+ai)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return bn(t,"scroll-","scroll-snap-")+t}return t}function oI(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function lQe(t,e,n,r){switch(t.type){case YJe:if(t.children.length)break;case GJe:case ZJe:case uU:return t.return=t.return||t.value;case Due:return"";case Lue:return t.return=t.value+"{"+oI(t.children,r)+"}";case XS:if(!Vd(t.value=t.props.join(",")))return""}return Vd(n=oI(t.children,r))?t.return=t.value+"{"+n+"}":""}function uQe(t){var e=zue(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function dQe(t){return function(e){e.root||(e=e.return)&&t(e)}}function hQe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case uU:t.return=Kue(t.value,t.length,n);return;case Lue:return oI([Kg(t,{value:bn(t.value,"@","@"+fr)})],r);case XS:if(t.length)return QJe(n=t.props,function(i){switch(Wp(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Gb(Kg(t,{props:[bn(i,/:(read-\w+)/,":"+sx+"$1")]})),Gb(Kg(t,{props:[i]})),hU(t,{props:Wue(n,r)});break;case"::placeholder":Gb(Kg(t,{props:[bn(i,/:(plac\w+)/,":"+fr+"input-$1")]})),Gb(Kg(t,{props:[bn(i,/:(plac\w+)/,":"+sx+"$1")]})),Gb(Kg(t,{props:[bn(i,/:(plac\w+)/,ai+"input-$1")]})),Gb(Kg(t,{props:[i]})),hU(t,{props:Wue(n,r)});break}return""})}}var fQe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nl={},Zb=typeof process<"u"&&Nl!==void 0&&(Nl.REACT_APP_SC_ATTR||Nl.SC_ATTR)||"data-styled",Gue="active",Zue="data-styled-version",aI="6.3.6",gU=`/*!sc*/
`,cI=typeof window<"u"&&typeof document<"u",py=Ve.createContext===void 0,pQe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Nl!==void 0&&Nl.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Nl.REACT_APP_SC_DISABLE_SPEEDY!==""?Nl.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Nl.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Nl!==void 0&&Nl.SC_DISABLE_SPEEDY!==void 0&&Nl.SC_DISABLE_SPEEDY!==""&&Nl.SC_DISABLE_SPEEDY!=="false"&&Nl.SC_DISABLE_SPEEDY),gQe={},lI=Object.freeze([]),Yb=Object.freeze({});function Yue(t,e,n){return n===void 0&&(n=Yb),t.theme!==n.theme&&t.theme||e||n.theme}var Jue=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),mQe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,yQe=/(^-|-$)/g;function Que(t){return t.replace(mQe,"-").replace(yQe,"")}var wQe=/(a)(d)/gi,Xue=function(t){return String.fromCharCode(t+(t>25?39:97))};function uI(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=Xue(e%52)+n;return(Xue(e%52)+n).replace(wQe,"$1-$2")}var mU,Jb=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},yU=function(t){return Jb(5381,t)};function wU(t){return uI(yU(t)>>>0)}function vQe(t){return t.displayName||t.name||"Component"}function vU(t){return typeof t=="string"&&!0}var ede=typeof Symbol=="function"&&Symbol.for,tde=ede?Symbol.for("react.memo"):60115,bQe=ede?Symbol.for("react.forward_ref"):60112,xQe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},EQe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},CQe=((mU={})[bQe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mU[tde]=nde,mU);function rde(t){return("type"in(e=t)&&e.type.$$typeof)===tde?nde:"$$typeof"in t?CQe[t.$$typeof]:xQe;var e}var _Qe=Object.defineProperty,AQe=Object.getOwnPropertyNames,ide=Object.getOwnPropertySymbols,SQe=Object.getOwnPropertyDescriptor,IQe=Object.getPrototypeOf,sde=Object.prototype;function ode(t,e,n){if(typeof e!="string"){if(sde){var r=IQe(e);r&&r!==sde&&ode(t,r,n)}var i=AQe(e);ide&&(i=i.concat(ide(e)));for(var s=rde(t),o=rde(e),a=0;a<i.length;++a){var c=i[a];if(!(c in EQe||n&&n[c]||o&&c in o||s&&c in s)){var l=SQe(e,c);try{_Qe(t,c,l)}catch{}}}}return t}function Qb(t){return typeof t=="function"}function bU(t){return typeof t=="object"&&"styledComponentId"in t}function gy(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function dI(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function cx(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function xU(t,e,n){if(n===void 0&&(n=!1),!n&&!cx(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=xU(t[r],e[r]);else if(cx(e))for(var r in e)t[r]=xU(t[r],e[r]);return t}function EU(t,e){Object.defineProperty(t,"toString",{value:e})}function lx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var kQe=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw lx(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),c=(o=0,n.length);o<c;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(gU);return n},t}(),hI=new Map,fI=new Map,pI=1,Xb=function(t){if(hI.has(t))return hI.get(t);for(;fI.has(pI);)pI++;var e=pI++;return hI.set(t,e),fI.set(e,t),e},$Qe=function(t,e){pI=e+1,hI.set(t,e),fI.set(e,t)},TQe="style[".concat(Zb,"][").concat(Zue,'="').concat(aI,'"]'),PQe=new RegExp("^".concat(Zb,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),NQe=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},OQe=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(gU),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(PQe);if(c){var l=0|parseInt(c[1],10),u=c[2];l!==0&&($Qe(u,l),NQe(t,u,c[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}},ade=function(t){for(var e=document.querySelectorAll(TQe),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Zb)!==Gue&&(OQe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function RQe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cde=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Zb,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Zb,Gue),r.setAttribute(Zue,aI);var o=RQe();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},MQe=function(){function t(e){this.element=cde(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw lx(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),jQe=function(){function t(e){this.element=cde(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),BQe=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),lde=cI,DQe={isServer:!cI,useCSSOMInjection:!pQe},gI=function(){function t(e,n,r){e===void 0&&(e=Yb),n===void 0&&(n={});var i=this;this.options=fa(fa({},DQe),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&cI&&lde&&(lde=!1,ade(this)),EU(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",l=function(d){var h=function(y){return fI.get(y)}(d);if(h===void 0)return"continue";var f=s.names.get(h),p=o.getGroup(d);if(f===void 0||!f.size||p.length===0)return"continue";var m="".concat(Zb,".g").concat(d,'[id="').concat(h,'"]'),w="";f!==void 0&&f.forEach(function(y){y.length>0&&(w+="".concat(y,","))}),c+="".concat(p).concat(m,'{content:"').concat(w,'"}').concat(gU)},u=0;u<a;u++)l(u);return c}(i)})}return t.registerId=function(e){return Xb(e)},t.prototype.rehydrate=function(){!this.server&&cI&&ade(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(fa(fa({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new BQe(i):r?new MQe(i):new jQe(i)}(this.options),new kQe(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Xb(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Xb(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Xb(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),LQe=/&/g,e2=47;function ude(t){if(t.indexOf("}")===-1)return!1;for(var e=t.length,n=0,r=0,i=!1,s=0;s<e;s++){var o=t.charCodeAt(s);if(r!==0||i||o!==e2||t.charCodeAt(s+1)!==42)if(i)o===42&&t.charCodeAt(s+1)===e2&&(i=!1,s++);else if(o!==34&&o!==39||s!==0&&t.charCodeAt(s-1)===92){if(r===0){if(o===123)n++;else if(o===125&&--n<0)return!0}}else r===0?r=o:r===o&&(r=0);else i=!0,s++}return n!==0||r!==0}function dde(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=dde(n.children,e)),n})}function UQe(t){var e,n,r,i=Yb,s=i.options,o=s===void 0?Yb:s,a=i.plugins,c=a===void 0?lI:a,l=function(h,f,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):h},u=c.slice();u.push(function(h){h.type===XS&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(LQe,n).replace(r,l))}),o.prefix&&u.push(hQe),u.push(lQe);var d=function(h,f,p,m){f===void 0&&(f=""),p===void 0&&(p=""),m===void 0&&(m="&"),e=m,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var w=function(v){if(!ude(v))return v;for(var E=v.length,_="",T=0,I=0,R=0,S=!1,B=0;B<E;B++){var j=v.charCodeAt(B);if(R!==0||S||j!==e2||v.charCodeAt(B+1)!==42)if(S)j===42&&v.charCodeAt(B+1)===e2&&(S=!1,B++);else if(j!==34&&j!==39||B!==0&&v.charCodeAt(B-1)===92){if(R===0)if(j===123)I++;else if(j===125){if(--I<0){for(var U=B+1;U<E;){var M=v.charCodeAt(U);if(M===59||M===10)break;U++}U<E&&v.charCodeAt(U)===59&&U++,I=0,B=U-1,T=U;continue}I===0&&(_+=v.substring(T,B+1),T=B+1)}else j===59&&I===0&&(_+=v.substring(T,B+1),T=B+1)}else R===0?R=j:R===j&&(R=0);else S=!0,B++}if(T<E){var C=v.substring(T);ude(C)||(_+=C)}return _}(function(v){if(v.indexOf("//")===-1)return v;for(var E=v.length,_=[],T=0,I=0,R=0,S=0;I<E;){var B=v.charCodeAt(I);if(B!==34&&B!==39||I!==0&&v.charCodeAt(I-1)===92)if(R===0)if(B===40&&I>=3&&(32|v.charCodeAt(I-1))==108&&(32|v.charCodeAt(I-2))==114&&(32|v.charCodeAt(I-3))==117)S=1,I++;else if(S>0)B===41?S--:B===40&&S++,I++;else if(B===e2&&I+1<E&&v.charCodeAt(I+1)===e2){for(I>T&&_.push(v.substring(T,I));I<E&&v.charCodeAt(I)!==10;)I++;T=I}else I++;else I++;else R===0?R=B:R===B&&(R=0),I++}return T===0?v:(T<E&&_.push(v.substring(T)),_.join(""))}(h)),y=aQe(p||f?"".concat(p," ").concat(f," { ").concat(w," }"):w);o.namespace&&(y=dde(y,o.namespace));var b=[];return oI(y,uQe(u.concat(dQe(function(v){return b.push(v)})))),b};return d.hash=c.length?c.reduce(function(h,f){return f.name||lx(15),Jb(h,f.name)},5381).toString():"",d}var FQe=new gI,CU=UQe(),_U={shouldForwardProp:void 0,styleSheet:FQe,stylis:CU},hde=py?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(_U)}}:Ve.createContext(_U);hde.Consumer,py||Ve.createContext(void 0);function AU(){return!py&&Ve.useContext?Ve.useContext(hde):_U}var fde=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=CU);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,EU(this,function(){throw lx(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=CU),this.name+e.hash},t}();function zQe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in fQe||t.startsWith("--")?String(e).trim():"".concat(e,"px")}var WQe=function(t){return t>="A"&&t<="Z"};function pde(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;WQe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var gde=function(t){return t==null||t===!1||t===""},mde=function(t){var e=[];for(var n in t){var r=t[n];t.hasOwnProperty(n)&&!gde(r)&&(Array.isArray(r)&&r.isCss||Qb(r)?e.push("".concat(pde(n),":"),r,";"):cx(r)?e.push.apply(e,Hb(Hb(["".concat(n," {")],mde(r),!1),["}"],!1)):e.push("".concat(pde(n),": ").concat(zQe(n,r),";")))}return e};function Zg(t,e,n,r){if(gde(t))return[];if(bU(t))return[".".concat(t.styledComponentId)];if(Qb(t)){if(!Qb(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Zg(i,e,n,r)}var s;return t instanceof fde?n?(t.inject(n,r),[t.getName(r)]):[t]:cx(t)?mde(t):Array.isArray(t)?Array.prototype.concat.apply(lI,t.map(function(o){return Zg(o,e,n,r)})):[t.toString()]}function yde(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Qb(n)&&!bU(n))return!1}return!0}var qQe=yU(aI),HQe=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&yde(e),this.componentId=n,this.baseHash=Jb(qQe,n),this.baseStyle=r,gI.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=gy(i,this.staticRulesId);else{var s=dI(Zg(this.rules,e,n,r)),o=uI(Jb(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=gy(i,o),this.staticRulesId=o}else{for(var c=Jb(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")l+=d;else if(d){var h=dI(Zg(d,e,n,r));c=Jb(c,h+u),l+=h}}if(l){var f=uI(c>>>0);if(!n.hasNameForId(this.componentId,f)){var p=r(l,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}i=gy(i,f)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(Xb(this.componentId)):""}},t}(),SU=py?{Provider:function(t){return t.children},Consumer:function(t){return(0,t.children)(void 0)}}:Ve.createContext(void 0);SU.Consumer;var IU={};function VQe(t,e,n){var r=bU(t),i=t,s=!vU(t),o=e.attrs,a=o===void 0?lI:o,c=e.componentId,l=c===void 0?function(E,_){var T=typeof E!="string"?"sc":Que(E);IU[T]=(IU[T]||0)+1;var I="".concat(T,"-").concat(wU(aI+T+IU[T]));return _?"".concat(_,"-").concat(I):I}(e.displayName,e.parentComponentId):c,u=e.displayName,d=u===void 0?function(E){return vU(E)?"styled.".concat(E):"Styled(".concat(vQe(E),")")}(t):u,h=e.displayName&&e.componentId?"".concat(Que(e.displayName),"-").concat(e.componentId):e.componentId||l,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;p=function(E,_){return m(E,_)&&w(E,_)}}else p=m}var y=new HQe(n,h,r?i.componentStyle:void 0);function b(E,_){return function(T,I,R){var S=T.attrs,B=T.componentStyle,j=T.defaultProps,U=T.foldedComponentIds,M=T.styledComponentId,C=T.target,x=Ve.useContext?Ve.useContext(SU):void 0,A=AU(),N=T.shouldForwardProp||A.shouldForwardProp,O=Yue(I,x,j)||Yb,P=function(Y,te,fe){for(var he,pe=fa(fa({},te),{className:void 0,theme:fe}),be=0;be<Y.length;be+=1){var ge=Qb(he=Y[be])?he(pe):he;for(var ye in ge)ye==="className"?pe.className=gy(pe.className,ge[ye]):ye==="style"?pe.style=fa(fa({},pe.style),ge[ye]):pe[ye]=ge[ye]}return"className"in te&&typeof te.className=="string"&&(pe.className=gy(pe.className,te.className)),pe}(S,I,O),D=P.as||C,L={};for(var $ in P)P[$]===void 0||$[0]==="$"||$==="as"||$==="theme"&&P.theme===O||($==="forwardedAs"?L.as=P.forwardedAs:N&&!N($,D)||(L[$]=P[$]));var q=function(Y,te){var fe=AU(),he=Y.generateAndInjectStyles(te,fe.styleSheet,fe.stylis);return he}(B,P),V=q.className,F=q.css,Z=gy(U,M);V&&(Z+=" "+V),P.className&&(Z+=" "+P.className),L[vU(D)&&!Jue.has(D)?"class":"className"]=Z,R&&(L.ref=R);var X=k.createElement(D,L);return py&&F?Ve.createElement(Ve.Fragment,null,Ve.createElement("style",{precedence:"styled-components",href:"sc-".concat(M,"-").concat(V),children:F}),X):X}(v,E,_)}b.displayName=d;var v=Ve.forwardRef(b);return v.attrs=f,v.componentStyle=y,v.displayName=d,v.shouldForwardProp=p,v.foldedComponentIds=r?gy(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=h,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(_){for(var T=[],I=1;I<arguments.length;I++)T[I-1]=arguments[I];for(var R=0,S=T;R<S.length;R++)xU(_,S[R],!0);return _}({},i.defaultProps,E):E}}),EU(v,function(){return".".concat(v.styledComponentId)}),s&&ode(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function wde(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var vde=function(t){return Object.assign(t,{isCss:!0})};function Ps(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Qb(t)||cx(t))return vde(Zg(wde(lI,Hb([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Zg(r):vde(Zg(wde(r,e)))}function kU(t,e,n){if(n===void 0&&(n=Yb),!e)throw lx(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Ps.apply(void 0,Hb([i],s,!1)))};return r.attrs=function(i){return kU(t,e,fa(fa({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return kU(t,e,fa(fa({},n),i))},r}var bde=function(t){return kU(VQe,t)},Q=bde;Jue.forEach(function(t){Q[t]=bde(t)});var KQe=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=yde(e),gI.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(dI(Zg(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&gI.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function GQe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ps.apply(void 0,Hb([t],e,!1)),i="sc-global-".concat(wU(JSON.stringify(r))),s=new KQe(r,i),o=new WeakMap,a=function(c){var l=AU(),u=Ve.useContext?Ve.useContext(SU):void 0,d=o.get(l.styleSheet);if(d===void 0&&(d=l.styleSheet.allocateGSInstance(i),o.set(l.styleSheet,d)),(typeof window>"u"||!l.styleSheet.server)&&function(w,y,b,v,E){if(s.isStatic)s.renderStyles(w,gQe,b,E);else{var _=fa(fa({},y),{theme:Yue(y,v,a.defaultProps)});s.renderStyles(w,_,b,E)}}(d,c,l.styleSheet,u,l.stylis),py||Ve.useLayoutEffect(function(){return function(){s.removeStyles(d,l.styleSheet)}},[d,l.styleSheet]),py){var h=i+d,f=typeof window>"u"?l.styleSheet.getTag().getGroup(Xb(h)):"";if(f){var p=uI(yU(f)>>>0),m="sc-global-".concat(i,"-").concat(d,"-").concat(p);return Ve.createElement("style",{key:m,"data-styled-global":i,precedence:"styled-components",href:m,children:f})}}return null};return Ve.memo(a)}function xde(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=dI(Ps.apply(void 0,Hb([t],e,!1))),i=wU(r);return new fde(i,r)}function mI(t){"@babel/helpers - typeof";return mI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mI(t)}var ZQe=/^\s+/,YQe=/\s+$/;function Et(t,e){if(t=t||"",e=e||{},t instanceof Et)return t;if(!(this instanceof Et))return new Et(t,e);var n=JQe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Et.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=Ide(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Cde(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Cde(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Ede(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Ede(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return _de(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return tXe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(vi(this._r,255)*100)+"%",g:Math.round(vi(this._g,255)*100)+"%",b:Math.round(vi(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(vi(this._r,255)*100)+"%, "+Math.round(vi(this._g,255)*100)+"%, "+Math.round(vi(this._b,255)*100)+"%)":"rgba("+Math.round(vi(this._r,255)*100)+"%, "+Math.round(vi(this._g,255)*100)+"%, "+Math.round(vi(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:fXe[_de(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+Ade(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Et(e);r="#"+Ade(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Et(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(sXe,arguments)},brighten:function(){return this._applyModification(oXe,arguments)},darken:function(){return this._applyModification(aXe,arguments)},desaturate:function(){return this._applyModification(nXe,arguments)},saturate:function(){return this._applyModification(rXe,arguments)},greyscale:function(){return this._applyModification(iXe,arguments)},spin:function(){return this._applyModification(cXe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(dXe,arguments)},complement:function(){return this._applyCombination(lXe,arguments)},monochromatic:function(){return this._applyCombination(hXe,arguments)},splitcomplement:function(){return this._applyCombination(uXe,arguments)},triad:function(){return this._applyCombination(Sde,[3])},tetrad:function(){return this._applyCombination(Sde,[4])}},Et.fromRatio=function(t,e){if(mI(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ux(t[r]));t=n}return Et(t,e)};function JQe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=yXe(t)),mI(t)=="object"&&(qp(t.r)&&qp(t.g)&&qp(t.b)?(e=QQe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):qp(t.h)&&qp(t.s)&&qp(t.v)?(r=ux(t.s),i=ux(t.v),e=eXe(t.h,r,i),o=!0,a="hsv"):qp(t.h)&&qp(t.s)&&qp(t.l)&&(r=ux(t.s),s=ux(t.l),e=XQe(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Ide(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function QQe(t,e,n){return{r:vi(t,255)*255,g:vi(e,255)*255,b:vi(n,255)*255}}function Ede(t,e,n){t=vi(t,255),e=vi(e,255),n=vi(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var c=r-i;switch(o=a>.5?c/(2-r-i):c/(r+i),r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:o,l:a}}function XQe(t,e,n){var r,i,s;t=vi(t,360),e=vi(e,100),n=vi(n,100);function o(l,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?l+(u-l)*6*d:d<1/2?u:d<2/3?l+(u-l)*(2/3-d)*6:l}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=o(c,a,t+1/3),i=o(c,a,t),s=o(c,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Cde(t,e,n){t=vi(t,255),e=vi(e,255),n=vi(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,c=r-i;if(o=r===0?0:c/r,r==i)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4;break}s/=6}return{h:s,s:o,v:a}}function eXe(t,e,n){t=vi(t,360)*6,e=vi(e,100),n=vi(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),c=r%6,l=[n,o,s,s,a,n][c],u=[a,n,n,o,s,s][c],d=[s,s,a,n,n,o][c];return{r:l*255,g:u*255,b:d*255}}function _de(t,e,n,r){var i=[Gd(Math.round(t).toString(16)),Gd(Math.round(e).toString(16)),Gd(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function tXe(t,e,n,r,i){var s=[Gd(Math.round(t).toString(16)),Gd(Math.round(e).toString(16)),Gd(Math.round(n).toString(16)),Gd(kde(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Ade(t,e,n,r){var i=[Gd(kde(r)),Gd(Math.round(t).toString(16)),Gd(Math.round(e).toString(16)),Gd(Math.round(n).toString(16))];return i.join("")}Et.equals=function(t,e){return!t||!e?!1:Et(t).toRgbString()==Et(e).toRgbString()},Et.random=function(){return Et.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function nXe(t,e){e=e===0?0:e||10;var n=Et(t).toHsl();return n.s-=e/100,n.s=yI(n.s),Et(n)}function rXe(t,e){e=e===0?0:e||10;var n=Et(t).toHsl();return n.s+=e/100,n.s=yI(n.s),Et(n)}function iXe(t){return Et(t).desaturate(100)}function sXe(t,e){e=e===0?0:e||10;var n=Et(t).toHsl();return n.l+=e/100,n.l=yI(n.l),Et(n)}function oXe(t,e){e=e===0?0:e||10;var n=Et(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Et(n)}function aXe(t,e){e=e===0?0:e||10;var n=Et(t).toHsl();return n.l-=e/100,n.l=yI(n.l),Et(n)}function cXe(t,e){var n=Et(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Et(n)}function lXe(t){var e=Et(t).toHsl();return e.h=(e.h+180)%360,Et(e)}function Sde(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Et(t).toHsl(),r=[Et(t)],i=360/e,s=1;s<e;s++)r.push(Et({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function uXe(t){var e=Et(t).toHsl(),n=e.h;return[Et(t),Et({h:(n+72)%360,s:e.s,l:e.l}),Et({h:(n+216)%360,s:e.s,l:e.l})]}function dXe(t,e,n){e=e||6,n=n||30;var r=Et(t).toHsl(),i=360/n,s=[Et(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Et(r));return s}function hXe(t,e){e=e||6;for(var n=Et(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Et({h:r,s:i,v:s})),s=(s+a)%1;return o}Et.mix=function(t,e,n){n=n===0?0:n||50;var r=Et(t).toRgb(),i=Et(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Et(o)},Et.readability=function(t,e){var n=Et(t),r=Et(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Et.isReadable=function(t,e,n){var r=Et.readability(t,e),i,s;switch(s=!1,i=wXe(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s},Et.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,c;n=n||{},o=n.includeFallbackColors,a=n.level,c=n.size;for(var l=0;l<e.length;l++)s=Et.readability(t,e[l]),s>i&&(i=s,r=Et(e[l]));return Et.isReadable(t,r,{level:a,size:c})||!o?r:(n.includeFallbackColors=!1,Et.mostReadable(t,["#fff","#000"],n))};var $U=Et.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fXe=Et.hexNames=pXe($U);function pXe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ide(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function vi(t,e){gXe(t)&&(t="100%");var n=mXe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function yI(t){return Math.min(1,Math.max(0,t))}function Ol(t){return parseInt(t,16)}function gXe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function mXe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Gd(t){return t.length==1?"0"+t:""+t}function ux(t){return t<=1&&(t=t*100+"%"),t}function kde(t){return Math.round(parseFloat(t)*255).toString(16)}function $de(t){return Ol(t)/255}var Zd=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qp(t){return!!Zd.CSS_UNIT.exec(t)}function yXe(t){t=t.replace(ZQe,"").replace(YQe,"").toLowerCase();var e=!1;if($U[t])t=$U[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Zd.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Zd.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Zd.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Zd.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Zd.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Zd.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Zd.hex8.exec(t))?{r:Ol(n[1]),g:Ol(n[2]),b:Ol(n[3]),a:$de(n[4]),format:e?"name":"hex8"}:(n=Zd.hex6.exec(t))?{r:Ol(n[1]),g:Ol(n[2]),b:Ol(n[3]),format:e?"name":"hex"}:(n=Zd.hex4.exec(t))?{r:Ol(n[1]+""+n[1]),g:Ol(n[2]+""+n[2]),b:Ol(n[3]+""+n[3]),a:$de(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Zd.hex3.exec(t))?{r:Ol(n[1]+""+n[1]),g:Ol(n[2]+""+n[2]),b:Ol(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function wXe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function vXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const wI=k.forwardRef(vXe);function bXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const TU=k.forwardRef(bXe);function xXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Yg=k.forwardRef(xXe);function EXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const my=k.forwardRef(EXe);function CXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const _Xe=k.forwardRef(CXe);function AXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const SXe=k.forwardRef(AXe);function IXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const t2=k.forwardRef(IXe);function kXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const $Xe=k.forwardRef(kXe);function TXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const PXe=k.forwardRef(TXe);function NXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const yy=k.forwardRef(NXe);function OXe({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const vI=k.forwardRef(OXe),Tde=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},RXe=t=>t?Tde(t):Tde,MXe=t=>t;function jXe(t,e=MXe){const n=Ve.useSyncExternalStore(t.subscribe,Ve.useCallback(()=>e(t.getState()),[t,e]),Ve.useCallback(()=>e(t.getInitialState()),[t,e]));return Ve.useDebugValue(n),n}const Pde=t=>{const e=RXe(t),n=r=>jXe(e,r);return Object.assign(n,e),n},n2=t=>t?Pde(t):Pde,BXe=typeof document<"u"?Ve.useLayoutEffect:()=>{},Jg=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},wy=t=>t&&"window"in t&&t.window===t?t:Jg(t).defaultView||window;function DXe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function LXe(t){return DXe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let UXe=!1;function PU(){return UXe}function Nde(t,e){if(!PU())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:LXe(n)?n=n.host:n=n.parentNode}return!1}const NU=(t=document)=>{var e;if(!PU())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Ode(t){return PU()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function FXe(t){if(zXe())t.focus({preventScroll:!0});else{let e=WXe(t);t.focus(),qXe(e)}}let bI=null;function zXe(){if(bI==null){bI=!1;try{document.createElement("div").focus({get preventScroll(){return bI=!0,!0}})}catch{}}return bI}function WXe(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function qXe(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function xI(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function Rde(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function r2(t){let e=null;return()=>(e==null&&(e=t()),e)}const EI=r2(function(){return Rde(/^Mac/i)}),HXe=r2(function(){return Rde(/^iPad/i)||EI()&&navigator.maxTouchPoints>1}),VXe=r2(function(){return xI(/AppleWebKit/i)&&!KXe()}),KXe=r2(function(){return xI(/Chrome/i)}),GXe=r2(function(){return xI(/Android/i)}),ZXe=r2(function(){return xI(/Firefox/i)});function dx(t,e,n=!0){var r,i;let{metaKey:s,ctrlKey:o,altKey:a,shiftKey:c}=e;ZXe()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(EI()?s=!0:o=!0);let l=VXe()&&EI()&&!HXe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:o,altKey:a,shiftKey:c}):new MouseEvent("click",{metaKey:s,ctrlKey:o,altKey:a,shiftKey:c,detail:1,bubbles:!0,cancelable:!0});dx.isOpening=n,FXe(t),t.dispatchEvent(l),dx.isOpening=!1}dx.isOpening=!1;function Mde(){let t=k.useRef(new Map),e=k.useCallback((i,s,o,a)=>{let c=a!=null&&a.once?(...l)=>{t.current.delete(o),o(...l)}:o;t.current.set(o,{type:s,eventTarget:i,fn:c,options:a}),i.addEventListener(s,c,a)},[]),n=k.useCallback((i,s,o,a)=>{var c;let l=((c=t.current.get(o))===null||c===void 0?void 0:c.fn)||o;i.removeEventListener(s,l,a),t.current.delete(o)},[]),r=k.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function YXe(t){return t.pointerType===""&&t.isTrusted?!0:GXe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function jde(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function JXe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Bde(t){let e=k.useRef({isFocused:!1,observer:null});return BXe(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),k.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,i=s=>{if(e.current.isFocused=!1,r.disabled){let o=jde(s);t==null||t(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let QXe=!1,hx=null,OU=new Set,fx=new Map,vy=!1,RU=!1;const XXe={Tab:!0,Escape:!0};function MU(t,e){for(let n of OU)n(t,e)}function eet(t){return!(t.metaKey||!EI()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function CI(t){vy=!0,!dx.isOpening&&eet(t)&&(hx="keyboard",MU("keyboard",t))}function i2(t){hx="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&(vy=!0,MU("pointer",t))}function Dde(t){!dx.isOpening&&YXe(t)&&(vy=!0,hx="virtual")}function Lde(t){t.target===window||t.target===document||QXe||!t.isTrusted||(!vy&&!RU&&(hx="virtual",MU("virtual",t)),vy=!1,RU=!1)}function Ude(){vy=!1,RU=!0}function jU(t){if(typeof window>"u"||typeof document>"u"||fx.get(wy(t)))return;const e=wy(t),n=Jg(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){vy=!0,r.apply(this,arguments)},n.addEventListener("keydown",CI,!0),n.addEventListener("keyup",CI,!0),n.addEventListener("click",Dde,!0),e.addEventListener("focus",Lde,!0),e.addEventListener("blur",Ude,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",i2,!0),n.addEventListener("pointermove",i2,!0),n.addEventListener("pointerup",i2,!0)),e.addEventListener("beforeunload",()=>{Fde(t)},{once:!0}),fx.set(e,{focus:r})}const Fde=(t,e)=>{const n=wy(t),r=Jg(t);e&&r.removeEventListener("DOMContentLoaded",e),fx.has(n)&&(n.HTMLElement.prototype.focus=fx.get(n).focus,r.removeEventListener("keydown",CI,!0),r.removeEventListener("keyup",CI,!0),r.removeEventListener("click",Dde,!0),n.removeEventListener("focus",Lde,!0),n.removeEventListener("blur",Ude,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",i2,!0),r.removeEventListener("pointermove",i2,!0),r.removeEventListener("pointerup",i2,!0)),fx.delete(n))};function tet(t){const e=Jg(t);let n;return e.readyState!=="loading"?jU(t):(n=()=>{jU(t)},e.addEventListener("DOMContentLoaded",n)),()=>Fde(t,n)}typeof document<"u"&&tet();function zde(){return hx!=="pointer"}const net=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ret(t,e,n){let r=Jg(n==null?void 0:n.target);const i=typeof window<"u"?wy(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?wy(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?wy(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?wy(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!net.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!XXe[n.key])}function iet(t,e,n){jU(),k.useEffect(()=>{let r=(i,s)=>{ret(!!(n!=null&&n.isTextInput),i,s)&&t(zde())};return OU.add(r),()=>{OU.delete(r)}},e)}function set(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=k.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),o=Bde(s),a=k.useCallback(c=>{const l=Jg(c.target),u=l?NU(l):NU();c.target===c.currentTarget&&u===Ode(c.nativeEvent)&&(n&&n(c),i&&i(!0),o(c))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function oet(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=k.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Mde(),c=k.useCallback(d=>{d.currentTarget.contains(d.target)&&s.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(d),i&&i(!1))},[n,i,s,a]),l=Bde(c),u=k.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const h=Jg(d.target),f=NU(h);if(!s.current.isFocusWithin&&f===Ode(d.nativeEvent)){r&&r(d),i&&i(!0),s.current.isFocusWithin=!0,l(d);let p=d.currentTarget;o(h,"focus",m=>{if(s.current.isFocusWithin&&!Nde(p,m.target)){let w=new h.defaultView.FocusEvent("blur",{relatedTarget:m.target});JXe(w,p);let y=jde(w);c(y)}},{capture:!0})}},[r,i,l,o,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}let BU=!1,_I=0;function aet(){BU=!0,setTimeout(()=>{BU=!1},50)}function Wde(t){t.pointerType==="touch"&&aet()}function cet(){if(!(typeof document>"u"))return _I===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Wde),_I++,()=>{_I--,!(_I>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Wde)}}function uet(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=k.useState(!1),a=k.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;k.useEffect(cet,[]);let{addGlobalListener:c,removeAllGlobalListeners:l}=Mde(),{hoverProps:u,triggerHoverEnd:d}=k.useMemo(()=>{let h=(m,w)=>{if(a.pointerType=w,i||w==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let y=m.currentTarget;a.target=y,c(Jg(m.target),"pointerover",b=>{a.isHovered&&a.target&&!Nde(a.target,b.target)&&f(b,b.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:y,pointerType:w}),n&&n(!0),o(!0)},f=(m,w)=>{let y=a.target;a.pointerType="",a.target=null,!(w==="touch"||!a.isHovered||!y)&&(a.isHovered=!1,l(),r&&r({type:"hoverend",target:y,pointerType:w}),n&&n(!1),o(!1))},p={};return typeof PointerEvent<"u"&&(p.onPointerEnter=m=>{BU&&m.pointerType==="mouse"||h(m,m.pointerType)},p.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}),{hoverProps:p,triggerHoverEnd:f}},[e,n,r,i,a,c,l]);return k.useEffect(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function det(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=k.useRef({isFocused:!1,isFocusVisible:e||zde()}),[s,o]=k.useState(!1),[a,c]=k.useState(()=>i.current.isFocused&&i.current.isFocusVisible),l=k.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),u=k.useCallback(f=>{i.current.isFocused=f,o(f),l()},[l]);iet(f=>{i.current.isFocusVisible=f,l()},[],{isTextInput:n});let{focusProps:d}=set({isDisabled:r,onFocusChange:u}),{focusWithinProps:h}=oet({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?h:d}}var het=Object.defineProperty,fet=(t,e,n)=>e in t?het(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DU=(t,e,n)=>(fet(t,typeof e!="symbol"?e+"":e,n),n);let pet=class{constructor(){DU(this,"current",this.detect()),DU(this,"handoffState","pending"),DU(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},uf=new pet;function by(t){var e;return uf.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function AI(t){var e,n;return uf.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function LU(t){var e,n;return(n=(e=AI(t))==null?void 0:e.activeElement)!=null?n:null}function qde(t){return LU(t)===t}function SI(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function $c(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return SI(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=$c();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function xy(){let[t]=k.useState($c);return k.useEffect(()=>()=>t.dispose(),[t]),t}let ci=(t,e)=>{uf.isServer?k.useEffect(t,e):k.useLayoutEffect(t,e)};function Ey(t){let e=k.useRef(t);return ci(()=>{e.current=t},[t]),e}let tn=function(t){let e=Ey(t);return Ve.useCallback((...n)=>e.current(...n),[e])};function get(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function met(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function yet({disabled:t=!1}={}){let e=k.useRef(null),[n,r]=k.useState(!1),i=xy(),s=tn(()=>{e.current=null,r(!1),i.dispose()}),o=tn(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let c=by(a.currentTarget);i.addEventListener(c,"pointerup",s,!1),i.addEventListener(c,"pointermove",l=>{if(e.current){let u=get(l);r(met(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function df(t){return k.useMemo(()=>t,Object.values(t))}let wet=k.createContext(void 0);function Hde(){return k.useContext(wet)}function UU(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Yd(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Yd),r}var s2=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(s2||{}),Qg=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Qg||{});function ps(){let t=bet();return k.useCallback(e=>vet({mergeRefs:t,...e}),[t])}function vet({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??xet;let c=Vde(e,t);if(s)return II(c,n,r,o,a);let l=i??0;if(l&2){let{static:u=!1,...d}=c;if(u)return II(d,n,r,o,a)}if(l&1){let{unmount:u=!0,...d}=c;return Yd(u?0:1,{0(){return null},1(){return II({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return II(c,n,r,o,a)}function II(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...c}=FU(t,["unmount","static"]),l=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(e){let h=!1,f=[];for(let[p,m]of Object.entries(e))typeof m=="boolean"&&(h=!0),m===!0&&f.push(p.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(h){d["data-headlessui-state"]=f.join(" ");for(let p of f)d[`data-${p}`]=""}}if(px(s)&&(Object.keys(Cy(c)).length>0||Object.keys(Cy(d)).length>0))if(!k.isValidElement(u)||Array.isArray(u)&&u.length>1||Cet(u)){if(Object.keys(Cy(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Cy(c)).concat(Object.keys(Cy(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,f=h==null?void 0:h.className,p=typeof f=="function"?(...y)=>UU(f(...y),c.className):UU(f,c.className),m=p?{className:p}:{},w=Vde(u.props,Cy(FU(c,["ref"])));for(let y in d)y in w&&delete d[y];return k.cloneElement(u,Object.assign({},w,d,l,{ref:i(Eet(u),l.ref)},m))}return k.createElement(s,Object.assign({},FU(c,["ref"]),!px(s)&&l,!px(s)&&d),u)}function bet(){let t=k.useRef([]),e=k.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function xet(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Vde(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Kde(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function ji(t){var e;return Object.assign(k.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Cy(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function FU(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Eet(t){return Ve.version.split(".")[0]>="19"?t.props.ref:t.ref}function px(t){return t===k.Fragment||t===Symbol.for("react.fragment")}function Cet(t){return px(t.type)}let _et="span";var kI=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(kI||{});function Aet(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ps()({ourProps:s,theirProps:i,slot:{},defaultTag:_et,name:"Hidden"})}let zU=ji(Aet),Iet=k.createContext(void 0);function ket(){return k.useContext(Iet)}function Gde(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Hp(t){return Gde(t)&&"tagName"in t}function Rl(t){return Hp(t)&&"accessKey"in t}function hf(t){return Hp(t)&&"tabIndex"in t}function $et(t){return Hp(t)&&"style"in t}function Tet(t){return Rl(t)&&t.nodeName==="IFRAME"}function Zde(t){return Rl(t)&&t.nodeName==="INPUT"}function Yde(t){return Rl(t)&&t.nodeName==="LABEL"}function Pet(t){return Rl(t)&&t.nodeName==="FIELDSET"}function Jde(t){return Rl(t)&&t.nodeName==="LEGEND"}function Net(t){return Hp(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Qde(t){let e=t.parentElement,n=null;for(;e&&!Pet(e);)Jde(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Oet(n)?!1:r}function Oet(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(Jde(e))return!1;e=e.previousElementSibling}return!0}let Xde=Symbol();function Ret(t,e=!0){return Object.assign(t,{[Xde]:e})}function Va(...t){let e=k.useRef(t);k.useEffect(()=>{e.current=t},[t]);let n=tn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Xde]))?void 0:n}let WU=k.createContext(null);WU.displayName="DescriptionContext";function ehe(){let t=k.useContext(WU);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ehe),e}return t}function the(){let[t,e]=k.useState([]);return[t.length>0?t.join(" "):void 0,k.useMemo(()=>function(n){let r=tn(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),c=a.indexOf(s);return c!==-1&&a.splice(c,1),a}))),i=k.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ve.createElement(WU.Provider,{value:i},n.children)},[e])]}let Met="p";function jet(t,e){let n=k.useId(),r=Hde(),{id:i=`headlessui-description-${n}`,...s}=t,o=ehe(),a=Va(e);ci(()=>o.register(i),[i,o.register]);let c=df({...o.slot,disabled:r||!1}),l={ref:a,...o.props,id:i};return ps()({ourProps:l,theirProps:s,slot:c,defaultTag:Met,name:o.name||"Description"})}let Bet=ji(jet),Det=Object.assign(Bet,{});var Ks=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ks||{});let $I=k.createContext(null);$I.displayName="LabelContext";function qU(){let t=k.useContext($I);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,qU),e}return t}function Let(t){var e,n,r;let i=(n=(e=k.useContext($I))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function nhe({inherit:t=!1}={}){let e=Let(),[n,r]=k.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,k.useMemo(()=>function(s){let o=tn(c=>(r(l=>[...l,c]),()=>r(l=>{let u=l.slice(),d=u.indexOf(c);return d!==-1&&u.splice(d,1),u}))),a=k.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Ve.createElement($I.Provider,{value:a},s.children)},[r])]}let Uet="label";function Fet(t,e){var n;let r=k.useId(),i=qU(),s=ket(),o=Hde(),{id:a=`headlessui-label-${r}`,htmlFor:c=s??((n=i.props)==null?void 0:n.htmlFor),passive:l=!1,...u}=t,d=Va(e);ci(()=>i.register(a),[a,i.register]);let h=tn(m=>{let w=m.currentTarget;if(!(m.target!==m.currentTarget&&Net(m.target))&&(Yde(w)&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),Yde(w))){let y=document.getElementById(w.htmlFor);if(y){let b=y.getAttribute("disabled");if(b==="true"||b==="")return;let v=y.getAttribute("aria-disabled");if(v==="true"||v==="")return;(Zde(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),f=df({...i.slot,disabled:o||!1}),p={ref:d,...i.props,id:a,htmlFor:c,onClick:h};return l&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in u&&delete u.onClick),ps()({ourProps:p,theirProps:u,slot:f,defaultTag:c?Uet:"div",name:i.name||"Label"})}let zet=ji(Fet);Object.assign(zet,{});let Wet=k.createContext(()=>{});function qet({value:t,children:e}){return Ve.createElement(Wet.Provider,{value:t},e)}function o2(t,e,n){let r=n.initialDeps??[],i,s=!0;function o(){var a,c,l;let u;n.key&&((a=n.debug)!=null&&a.call(n))&&(u=Date.now());const d=t();if(!(d.length!==r.length||d.some((p,m)=>r[m]!==p)))return i;r=d;let f;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(f=Date.now()),i=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-f)*100)/100,w=m/16,y=(b,v)=>{for(b=String(b);b.length<v;)b=" "+b;return b};console.info(`%c ${y(m,5)} /${y(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(i),s=!1,i}return o.updateDeps=a=>{r=a},o}function rhe(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Het=(t,e)=>Math.abs(t-e)<1.01,Vet=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},ihe=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Ket=t=>t,Get=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},Zet=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:c}=o;e({width:Math.round(a),height:Math.round(c)})};if(i(ihe(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const l=c.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(ihe(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},she={passive:!0},ohe=typeof window>"u"?!0:"onscrollend"in window,Yet=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&ohe?()=>{}:Vet(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:d,isRtl:h}=t.options;i=d?n.scrollLeft*(h&&-1||1):n.scrollTop,s(),e(i,u)},a=o(!0),c=o(!1);n.addEventListener("scroll",a,she);const l=t.options.useScrollendEvent&&ohe;return l&&n.addEventListener("scrollend",c,she),()=>{n.removeEventListener("scroll",a),l&&n.removeEventListener("scrollend",c)}},Jet=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Qet=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Xet{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ket,rangeExtractor:Get,onChange:()=>{},measureElement:Jet,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=o2(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const c=s.get(a.lane);if(c==null||a.end>c.end?s.set(a.lane,a):a.end<c.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=o2(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,s,o,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o,lanes:a}),{key:!1}),this.getMeasurements=o2(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o,lanes:a},c)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const h of this.laneAssignments.keys())h>=n&&this.laneAssignments.delete(h);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const l=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,l),d=new Array(a).fill(void 0);for(let h=0;h<l;h++){const f=u[h];f&&(d[f.lane]=h)}for(let h=l;h<n;h++){const f=s(h),p=this.laneAssignments.get(h);let m,w;if(p!==void 0&&this.options.lanes>1){m=p;const E=d[m],_=E!==void 0?u[E]:void 0;w=_?_.end+this.options.gap:r+i}else{const E=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h);w=E?E.end+this.options.gap:r+i,m=E?E.lane:h%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(h,m)}const y=c.get(f),b=typeof y=="number"?y:this.options.estimateSize(h),v=w+b;u[h]={index:h,start:w,size:b,end:v,key:f,lane:m},d[m]=h}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=o2(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?ett({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=o2(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=o2(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],c=r[a];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return rhe(r[ahe(0,r.length-1,i=>rhe(r[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,i=0)=>{if(!this.scrollElement)return 0;const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const a=this.getMaxScrollOffset();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let s=0;const o=10,a=l=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,l);if(!u){console.warn("Failed to get offset for index:",n);return}const[d,h]=u;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const f=()=>{if(this.currentScrollToIndex!==n)return;const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,h);if(!m){console.warn("Failed to get offset for index:",n);return}Het(m[0],p)||c(h)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(f):f()})},c=l=>{this.targetWindow&&this.currentScrollToIndex===n&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(l)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(a=>a===null);){const a=r[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const ahe=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function ett({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=c=>t[c].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=ahe(0,i,s,n),a=o;if(r===1)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<i&&c.some(u=>u<n+e);){const u=t[a];c[u.lane]=u.end,a++}const l=Array(r).fill(n+e);for(;o>=0&&l.some(u=>u>=n);){const u=t[o];l[u.lane]=u.start,o--}o=Math.max(0,o-o%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const che=typeof document<"u"?k.useLayoutEffect:k.useEffect;function ttt({useFlushSync:t=!0,...e}){const n=k.useReducer(()=>({}),{})[1],r={...e,onChange:(s,o)=>{var a;t&&o?Bh.flushSync(n):n(),(a=e.onChange)==null||a.call(e,s,o)}},[i]=k.useState(()=>new Xet(r));return i.setOptions(r),che(()=>i._didMount(),[]),che(()=>i._willUpdate()),i}function ntt(t){return ttt({observeElementRect:Zet,observeElementOffset:Yet,scrollToFn:Qet,...t})}function lhe(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function rtt(t,e,n=!1){let[r,i]=k.useState(()=>lhe(e));return ci(()=>{if(!e||!t)return;let s=$c();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let c=lhe(e);return c.width===a.width&&c.height===a.height?a:c})}),()=>{s.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var uhe=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(uhe||{});function itt(t){let e=k.useRef(null),n=tn(i=>{e.current=i.pointerType,!Qde(i.currentTarget)&&i.pointerType==="mouse"&&i.button===uhe.Left&&(i.preventDefault(),t(i))}),r=tn(i=>{e.current!=="mouse"&&(Qde(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let dhe=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var stt=Object.defineProperty,ott=(t,e,n)=>e in t?stt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,att=(t,e,n)=>(ott(t,e+"",n),n),hhe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Bu=(t,e,n)=>(hhe(t,e,"read from private field"),n?n.call(t):e.get(t)),HU=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},fhe=(t,e,n,r)=>(hhe(t,e,"write to private field"),e.set(t,n),n),ff,gx,mx;let phe=class{constructor(e){HU(this,ff,{}),HU(this,gx,new dhe(()=>new Set)),HU(this,mx,new Set),att(this,"disposables",$c()),fhe(this,ff,e),uf.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Bu(this,ff)}subscribe(e,n){if(uf.isServer)return()=>{};let r={selector:e,callback:n,current:e(Bu(this,ff))};return Bu(this,mx).add(r),this.disposables.add(()=>{Bu(this,mx).delete(r)})}on(e,n){return uf.isServer?()=>{}:(Bu(this,gx).get(e).add(n),this.disposables.add(()=>{Bu(this,gx).get(e).delete(n)}))}send(e){let n=this.reduce(Bu(this,ff),e);if(n!==Bu(this,ff)){fhe(this,ff,n);for(let r of Bu(this,mx)){let i=r.selector(Bu(this,ff));ghe(r.current,i)||(r.current=i,r.callback(i))}for(let r of Bu(this,gx).get(e.type))r(Bu(this,ff),e)}}};ff=new WeakMap,gx=new WeakMap,mx=new WeakMap;function ghe(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:VU(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:VU(t.entries(),e.entries()):mhe(t)&&mhe(e)?VU(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function VU(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function mhe(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function yhe(t){let[e,n]=t(),r=$c();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var ctt=Object.defineProperty,ltt=(t,e,n)=>e in t?ctt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,whe=(t,e,n)=>(ltt(t,typeof e!="symbol"?e+"":e,n),n),vhe=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(vhe||{});let utt={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},dtt=class $Ae extends phe{constructor(){super(...arguments),whe(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),whe(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new $Ae({stack:[]})}reduce(e,n){return Yd(n.type,utt,e,n)}};const TI=new dhe(()=>dtt.new());var bhe={exports:{}},xhe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=k;function htt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ftt=typeof Object.is=="function"?Object.is:htt,ptt=yx.useSyncExternalStore,gtt=yx.useRef,mtt=yx.useEffect,ytt=yx.useMemo,wtt=yx.useDebugValue;xhe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=gtt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ytt(function(){function c(f){if(!l){if(l=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,ftt(u,f))return p;var m=r(f);return i!==void 0&&i(p,m)?(u=f,p):(u=f,d=m)}var l=!1,u,d,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var a=ptt(t,s[0],s[1]);return mtt(function(){o.hasValue=!0,o.value=a},[a]),wtt(a),a},bhe.exports=xhe;var vtt=bhe.exports;function Du(t,e,n=ghe){return vtt.useSyncExternalStoreWithSelector(tn(r=>t.subscribe(btt,r)),tn(()=>t.state),tn(()=>t.state),tn(e),n)}function btt(t){return t}function wx(t,e){let n=k.useId(),r=TI.get(e),[i,s]=Du(r,k.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return ci(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let KU=new Map,vx=new Map;function Ehe(t){var e;let n=(e=vx.get(t))!=null?e:0;return vx.set(t,n+1),n!==0?()=>Che(t):(KU.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Che(t))}function Che(t){var e;let n=(e=vx.get(t))!=null?e:1;if(n===1?vx.delete(t):vx.set(t,n-1),n!==1)return;let r=KU.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,KU.delete(t))}function _he(t,{allowed:e,disallowed:n}={}){let r=wx(t,"inert-others");ci(()=>{var i,s;if(!r)return;let o=$c();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&o.add(Ehe(c));let a=(s=e==null?void 0:e())!=null?s:[];for(let c of a){if(!c)continue;let l=by(c);if(!l)continue;let u=c.parentElement;for(;u&&u!==l.body;){for(let d of u.children)a.some(h=>d.contains(h))||o.add(Ehe(d));u=u.parentElement}}return o.dispose},[r,e,n])}function Ahe(t,e,n){let r=Ey(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});k.useEffect(()=>{if(!t)return;let i=e===null?null:Rl(e)?e:e.current;if(!i)return;let s=$c();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let PI=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),xtt=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Jd=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Jd||{}),GU=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(GU||{}),Ett=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Ett||{});function She(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(PI)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Ctt(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(xtt)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ZU=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(ZU||{});function YU(t,e=0){var n;return t===((n=by(t))==null?void 0:n.body)?!1:Yd(e,{0(){return t.matches(PI)},1(){let r=t;for(;r!==null;){if(r.matches(PI))return!0;r=r.parentElement}return!1}})}function Ihe(t){$c().nextFrame(()=>{let e=LU(t);e&&hf(e)&&!YU(e,0)&&pf(t)})}var _tt=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(_tt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function pf(t){t==null||t.focus({preventScroll:!0})}let Att=["textarea","input"].join(",");function Stt(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Att))!=null?n:!1}function khe(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Itt(t,e,n=t===null?document.body:AI(t)){return a2(She(n),e,{relativeTo:t})}function a2(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?AI(t[0]):document:AI(t),o=Array.isArray(t)?n?khe(t):t:e&64?Ctt(t):She(t);i.length>0&&o.length>1&&(o=o.filter(f=>!i.some(p=>p!=null&&"current"in p?(p==null?void 0:p.current)===f:p===f))),r=r??(s==null?void 0:s.activeElement);let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=e&32?{preventScroll:!0}:{},u=0,d=o.length,h;do{if(u>=d||u+d<=0)return 0;let f=c+u;if(e&16)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}h=o[f],h==null||h.focus(l),u+=a}while(h!==LU(h));return e&6&&Stt(h)&&h.select(),2}function $he(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ktt(){return/Android/gi.test(window.navigator.userAgent)}function The(){return $he()||ktt()}function c2(t,e,n,r){let i=Ey(n);k.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function Phe(t,e,n,r){let i=Ey(n);k.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Nhe=30;function Ohe(t,e,n){let r=Ey(n),i=k.useCallback(function(a,c){if(a.defaultPrevented)return;let l=c(a);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let d of u)if(d!==null&&(d.contains(l)||a.composed&&a.composedPath().includes(d)))return;return!YU(l,ZU.Loose)&&l.tabIndex!==-1&&a.preventDefault(),r.current(a,l)},[r,e]),s=k.useRef(null);c2(t,"pointerdown",a=>{var c,l;The()||(s.current=((l=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:l[0])||a.target)},!0),c2(t,"pointerup",a=>{if(The()||!s.current)return;let c=s.current;return s.current=null,i(a,()=>c)},!0);let o=k.useRef({x:0,y:0});c2(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),c2(t,"touchend",a=>{let c={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=Nhe||Math.abs(c.y-o.current.y)>=Nhe))return i(a,()=>hf(a.target)?a.target:null)},!0),Phe(t,"blur",a=>i(a,()=>Tet(window.document.activeElement)?window.document.activeElement:null),!0)}function bx(...t){return k.useMemo(()=>by(...t),[...t])}var $tt=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))($tt||{});const NI={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},Ttt=200,Rhe=5;function Ptt(t,{trigger:e,action:n,close:r,select:i}){let s=k.useRef(null),o=k.useRef(null),a=k.useRef(null);c2(t&&e!==null,"pointerdown",c=>{Gde(c==null?void 0:c.target)&&e!=null&&e.contains(c.target)&&(o.current=c.x,a.current=c.y,s.current=c.timeStamp)}),c2(t&&e!==null,"pointerup",c=>{var l,u;let d=s.current;if(d===null||(s.current=null,!hf(c.target))||Math.abs(c.x-((l=o.current)!=null?l:c.x))<Rhe&&Math.abs(c.y-((u=a.current)!=null?u:c.y))<Rhe)return;let h=n(c);switch(h.kind){case 0:return;case 1:{c.timeStamp-d>Ttt&&(i(h.target),r());break}case 2:{r();break}}},{capture:!0})}function Mhe(t,e,n,r){let i=Ey(n);k.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function Ntt(t,e){return k.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Ott(t){return k.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Rtt(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function Mtt(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function jtt(){return $he()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=$c();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(hf(a.target))try{let c=a.target.closest("a");if(!c)return;let{hash:l}=new URL(c.href),u=t.querySelector(l);hf(u)&&!r(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",c=>{if(a.dispose(),hf(c.target)&&$et(c.target))if(r(c.target)){let l=c.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;a.style(l,"overscrollBehavior","contain")}else a.style(c.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(hf(a.target)){if(Zde(a.target))return;if(r(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Btt(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function jhe(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let _y=Rtt(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:$c(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=jhe(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=jhe(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[jtt(),Mtt(),Btt()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});_y.subscribe(()=>{let t=_y.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&_y.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&_y.dispatch("TEARDOWN",n)}});function Dtt(t,e,n=()=>({containers:[]})){let r=Ott(_y),i=e?r.get(e):void 0,s=i?i.count>0:!1;return ci(()=>{if(!(!e||!t))return _y.dispatch("PUSH",e,n),()=>_y.dispatch("POP",e,n)},[t,e]),s}function Bhe(t,e,n=()=>[document.body]){let r=wx(t,"scroll-lock");Dtt(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function Dhe(t){return[t.screenX,t.screenY]}function Ltt(){let t=k.useRef([-1,-1]);return{wasMoved(e){let n=Dhe(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=Dhe(e)}}}function Utt(t=0){let[e,n]=k.useState(t),r=k.useCallback(c=>n(c),[]),i=k.useCallback(c=>n(l=>l|c),[]),s=k.useCallback(c=>(e&c)===c,[e]),o=k.useCallback(c=>n(l=>l&~c),[]),a=k.useCallback(c=>n(l=>l^c),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var Ftt={},Lhe,Uhe;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Lhe=process==null?void 0:Ftt)==null?void 0:Lhe.NODE_ENV)==="test"&&typeof((Uhe=Element==null?void 0:Element.prototype)==null?void 0:Uhe.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ztt=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(ztt||{});function Fhe(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function zhe(t,e,n,r){let[i,s]=k.useState(n),{hasFlag:o,addFlag:a,removeFlag:c}=Utt(t&&i?3:0),l=k.useRef(!1),u=k.useRef(!1),d=xy();return ci(()=>{var h;if(t){if(n&&s(!0),!e){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),Wtt(e,{inFlight:l,prepare(){u.current?u.current=!1:u.current=l.current,l.current=!0,!u.current&&(n?(a(3),c(4)):(a(4),c(2)))},run(){u.current?n?(c(3),a(4)):(c(4),a(3)):n?c(1):a(1)},done(){var f;u.current&&Vtt(e)||(l.current=!1,c(7),n||s(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Wtt(t,{prepare:e,run:n,done:r,inFlight:i}){let s=$c();return Htt(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(qtt(t,r))})}),s.dispose}function qtt(t,e){var n,r;let i=$c();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function Htt(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Vtt(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Ktt(t,{container:e,accept:n,walk:r}){let i=k.useRef(n),s=k.useRef(r);k.useEffect(()=>{i.current=n,s.current=r},[n,r]),ci(()=>{if(!e||!t)return;let o=by(e);if(!o)return;let a=i.current,c=s.current,l=Object.assign(d=>a(d),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)c(u.currentNode)},[e,t,i,s])}function JU(t,e){let n=k.useRef([]),r=tn(t);k.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function OI(){return typeof window<"u"}function l2(t){return Whe(t)?(t.nodeName||"").toLowerCase():"#document"}function Ml(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gf(t){var e;return(e=(Whe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Whe(t){return OI()?t instanceof Node||t instanceof Ml(t).Node:!1}function Ka(t){return OI()?t instanceof Element||t instanceof Ml(t).Element:!1}function mf(t){return OI()?t instanceof HTMLElement||t instanceof Ml(t).HTMLElement:!1}function qhe(t){return!OI()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ml(t).ShadowRoot}const Gtt=new Set(["inline","contents"]);function xx(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qd(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Gtt.has(i)}const Ztt=new Set(["table","td","th"]);function Ytt(t){return Ztt.has(l2(t))}const Jtt=[":popover-open",":modal"];function RI(t){return Jtt.some(e=>{try{return t.matches(e)}catch{return!1}})}const Qtt=["transform","translate","scale","rotate","perspective"],Xtt=["transform","translate","scale","rotate","perspective","filter"],ent=["paint","layout","strict","content"];function QU(t){const e=XU(),n=Ka(t)?Qd(t):t;return Qtt.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Xtt.some(r=>(n.willChange||"").includes(r))||ent.some(r=>(n.contain||"").includes(r))}function tnt(t){let e=Xg(t);for(;mf(e)&&!u2(e);){if(QU(e))return e;if(RI(e))return null;e=Xg(e)}return null}function XU(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nnt=new Set(["html","body","#document"]);function u2(t){return nnt.has(l2(t))}function Qd(t){return Ml(t).getComputedStyle(t)}function MI(t){return Ka(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xg(t){if(l2(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qhe(t)&&t.host||gf(t);return qhe(e)?e.host:e}function Hhe(t){const e=Xg(t);return u2(e)?t.ownerDocument?t.ownerDocument.body:t.body:mf(e)&&xx(e)?e:Hhe(e)}function Ex(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Hhe(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ml(i);if(s){const a=eF(o);return e.concat(o,o.visualViewport||[],xx(i)?i:[],a&&n?Ex(a):[])}return e.concat(i,Ex(i,[],n))}function eF(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rnt(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Ay=Math.min,pa=Math.max,Cx=Math.round,jI=Math.floor,yf=t=>({x:t,y:t}),int={left:"right",right:"left",bottom:"top",top:"bottom"},snt={start:"end",end:"start"};function Vhe(t,e,n){return pa(t,Ay(e,n))}function d2(t,e){return typeof t=="function"?t(e):t}function em(t){return t.split("-")[0]}function _x(t){return t.split("-")[1]}function Khe(t){return t==="x"?"y":"x"}function Ghe(t){return t==="y"?"height":"width"}const ont=new Set(["top","bottom"]);function Vp(t){return ont.has(em(t))?"y":"x"}function Zhe(t){return Khe(Vp(t))}function ant(t,e,n){n===void 0&&(n=!1);const r=_x(t),i=Zhe(t),s=Ghe(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=BI(o)),[o,BI(o)]}function cnt(t){const e=BI(t);return[tF(t),e,tF(e)]}function tF(t){return t.replace(/start|end/g,e=>snt[e])}const Yhe=["left","right"],Jhe=["right","left"],lnt=["top","bottom"],unt=["bottom","top"];function dnt(t,e,n){switch(t){case"top":case"bottom":return n?e?Jhe:Yhe:e?Yhe:Jhe;case"left":case"right":return e?lnt:unt;default:return[]}}function hnt(t,e,n,r){const i=_x(t);let s=dnt(em(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(tF)))),s}function BI(t){return t.replace(/left|right|bottom|top/g,e=>int[e])}function fnt(t){return{top:0,right:0,bottom:0,left:0,...t}}function pnt(t){return typeof t!="number"?fnt(t):{top:t,right:t,bottom:t,left:t}}function DI(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Qhe(t,e,n){let{reference:r,floating:i}=t;const s=Vp(e),o=Zhe(e),a=Ghe(o),c=em(e),l=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(c){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(_x(e)){case"start":f[o]-=h*(n&&l?-1:1);break;case"end":f[o]+=h*(n&&l?-1:1);break}return f}const gnt=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Qhe(l,r,c),h=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:w,fn:y}=a[m],{x:b,y:v,data:E,reset:_}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:l,platform:o,elements:{reference:t,floating:e}});u=b??u,d=v??d,f={...f,[w]:{...f[w],...E}},_&&p<=50&&(p++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(l=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:d}=Qhe(l,h,c)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function LI(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=d2(e,t),p=pnt(f),w=a[h?d==="floating"?"reference":"floating":d],y=DI(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},_=DI(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:v,strategy:c}):b);return{top:(y.top-_.top+p.top)/E.y,bottom:(_.bottom-y.bottom+p.bottom)/E.y,left:(y.left-_.left+p.left)/E.x,right:(_.right-y.right+p.right)/E.x}}const mnt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...w}=d2(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=em(i),b=Vp(a),v=em(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(l.floating)),_=h||(v||!m?[BI(a)]:cnt(a)),T=p!=="none";!h&&T&&_.push(...hnt(a,m,p,E));const I=[a,..._],R=await LI(e,w),S=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&S.push(R[y]),d){const C=ant(i,o,E);S.push(R[C[0]],R[C[1]])}if(B=[...B,{placement:i,overflows:S}],!S.every(C=>C<=0)){var j,U;const C=(((j=s.flip)==null?void 0:j.index)||0)+1,x=I[C];if(x&&(!(d==="alignment"?b!==Vp(x):!1)||B.every(O=>Vp(O.placement)===b?O.overflows[0]>0:!0)))return{data:{index:C,overflows:B},reset:{placement:x}};let A=(U=B.filter(N=>N.overflows[0]<=0).sort((N,O)=>N.overflows[1]-O.overflows[1])[0])==null?void 0:U.placement;if(!A)switch(f){case"bestFit":{var M;const N=(M=B.filter(O=>{if(T){const P=Vp(O.placement);return P===b||P==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(P=>P>0).reduce((P,D)=>P+D,0)]).sort((O,P)=>O[1]-P[1])[0])==null?void 0:M[0];N&&(A=N);break}case"initialPlacement":A=a;break}if(i!==A)return{reset:{placement:A}}}return{}}}},ynt=new Set(["left","top"]);async function wnt(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=em(n),a=_x(n),c=Vp(n)==="y",l=ynt.has(o)?-1:1,u=s&&c?-1:1,d=d2(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),c?{x:f*u,y:h*l}:{x:h*l,y:f*u}}const vnt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await wnt(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},bnt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}},...c}=d2(t,e),l={x:n,y:r},u=await LI(e,c),d=Vp(em(i)),h=Khe(d);let f=l[h],p=l[d];if(s){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+u[w],v=f-u[y];f=Vhe(b,f,v)}if(o){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=p+u[w],v=p-u[y];p=Vhe(b,p,v)}const m=a.fn({...e,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},xnt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...l}=d2(t,e),u=await LI(e,l),d=em(i),h=_x(i),f=Vp(i)==="y",{width:p,height:m}=s.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const b=m-u.top-u.bottom,v=p-u.left-u.right,E=Ay(m-u[w],b),_=Ay(p-u[y],v),T=!e.middlewareData.shift;let I=E,R=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=b),T&&!h){const B=pa(u.left,0),j=pa(u.right,0),U=pa(u.top,0),M=pa(u.bottom,0);f?R=p-2*(B!==0||j!==0?B+j:pa(u.left,u.right)):I=m-2*(U!==0||M!==0?U+M:pa(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:I});const S=await o.getDimensions(a.floating);return p!==S.width||m!==S.height?{reset:{rects:!0}}:{}}}};function Xhe(t){const e=Qd(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=mf(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Cx(n)!==s||Cx(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function nF(t){return Ka(t)?t:t.contextElement}function h2(t){const e=nF(t);if(!mf(e))return yf(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Xhe(e);let o=(s?Cx(n.width):n.width)/r,a=(s?Cx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ent=yf(0);function efe(t){const e=Ml(t);return!XU()||!e.visualViewport?Ent:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cnt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ml(t)?!1:e}function Sy(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=nF(t);let o=yf(1);e&&(r?Ka(r)&&(o=h2(r)):o=h2(t));const a=Cnt(s,n,r)?efe(s):yf(0);let c=(i.left+a.x)/o.x,l=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Ml(s),f=r&&Ka(r)?Ml(r):r;let p=h,m=eF(p);for(;m&&r&&f!==p;){const w=h2(m),y=m.getBoundingClientRect(),b=Qd(m),v=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*w.x,E=y.top+(m.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,l*=w.y,u*=w.x,d*=w.y,c+=v,l+=E,p=Ml(m),m=eF(p)}}return DI({width:u,height:d,x:c,y:l})}function UI(t,e){const n=MI(t).scrollLeft;return e?e.left+n:Sy(gf(t)).left+n}function tfe(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-UI(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function _nt(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=gf(r),a=e?RI(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},l=yf(1);const u=yf(0),d=mf(r);if((d||!d&&!s)&&((l2(r)!=="body"||xx(o))&&(c=MI(r)),mf(r))){const f=Sy(r);l=h2(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?tfe(o,c):yf(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function Ant(t){return Array.from(t.getClientRects())}function Snt(t){const e=gf(t),n=MI(t),r=t.ownerDocument.body,i=pa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=pa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+UI(t);const a=-n.scrollTop;return Qd(r).direction==="rtl"&&(o+=pa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const nfe=25;function Int(t,e){const n=Ml(t),r=gf(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=XU();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const l=UI(r);if(l<=0){const u=r.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-f);p<=nfe&&(s-=p)}else l<=nfe&&(s+=l);return{width:s,height:o,x:a,y:c}}const knt=new Set(["absolute","fixed"]);function $nt(t,e){const n=Sy(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=mf(t)?h2(t):yf(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,l=r*s.y;return{width:o,height:a,x:c,y:l}}function rfe(t,e,n){let r;if(e==="viewport")r=Int(t,n);else if(e==="document")r=Snt(gf(t));else if(Ka(e))r=$nt(e,n);else{const i=efe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return DI(r)}function ife(t,e){const n=Xg(t);return n===e||!Ka(n)||u2(n)?!1:Qd(n).position==="fixed"||ife(n,e)}function Tnt(t,e){const n=e.get(t);if(n)return n;let r=Ex(t,[],!1).filter(a=>Ka(a)&&l2(a)!=="body"),i=null;const s=Qd(t).position==="fixed";let o=s?Xg(t):t;for(;Ka(o)&&!u2(o);){const a=Qd(o),c=QU(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&knt.has(i.position)||xx(o)&&!c&&ife(t,o))?r=r.filter(u=>u!==o):i=a,o=Xg(o)}return e.set(t,r),r}function Pnt(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?RI(e)?[]:Tnt(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=rfe(e,u,i);return l.top=pa(d.top,l.top),l.right=Ay(d.right,l.right),l.bottom=Ay(d.bottom,l.bottom),l.left=pa(d.left,l.left),l},rfe(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nnt(t){const{width:e,height:n}=Xhe(t);return{width:e,height:n}}function Ont(t,e,n){const r=mf(e),i=gf(e),s=n==="fixed",o=Sy(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=yf(0);function l(){c.x=UI(i)}if(r||!r&&!s)if((l2(e)!=="body"||xx(i))&&(a=MI(e)),r){const f=Sy(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&l();s&&!r&&i&&l();const u=i&&!r&&!s?tfe(i,a):yf(0),d=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function rF(t){return Qd(t).position==="static"}function sfe(t,e){if(!mf(t)||Qd(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gf(t)===n&&(n=n.ownerDocument.body),n}function ofe(t,e){const n=Ml(t);if(RI(t))return n;if(!mf(t)){let i=Xg(t);for(;i&&!u2(i);){if(Ka(i)&&!rF(i))return i;i=Xg(i)}return n}let r=sfe(t,e);for(;r&&Ytt(r)&&rF(r);)r=sfe(r,e);return r&&u2(r)&&rF(r)&&!QU(r)?n:r||tnt(t)||n}const Rnt=async function(t){const e=this.getOffsetParent||ofe,n=this.getDimensions,r=await n(t.floating);return{reference:Ont(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mnt(t){return Qd(t).direction==="rtl"}const jnt={convertOffsetParentRelativeRectToViewportRelativeRect:_nt,getDocumentElement:gf,getClippingRect:Pnt,getOffsetParent:ofe,getElementRects:Rnt,getClientRects:Ant,getDimensions:Nnt,getScale:h2,isElement:Ka,isRTL:Mnt};function afe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Bnt(t,e){let n=null,r;const i=gf(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const l=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=l;if(a||e(),!h||!f)return;const p=jI(d),m=jI(i.clientWidth-(u+h)),w=jI(i.clientHeight-(d+f)),y=jI(u),v={rootMargin:-p+"px "+-m+"px "+-w+"px "+-y+"px",threshold:pa(0,Ay(1,c))||1};let E=!0;function _(T){const I=T[0].intersectionRatio;if(I!==c){if(!E)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!afe(l,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(_,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(t)}return o(!0),s}function Dnt(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=nF(t),u=i||s?[...l?Ex(l):[],...Ex(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=l&&a?Bnt(l,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),n()}),l&&!c&&f.observe(l),f.observe(e));let p,m=c?Sy(t):null;c&&w();function w(){const y=Sy(t);m&&!afe(m,y)&&n(),m=y,p=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const iF=LI,Lnt=vnt,Unt=bnt,Fnt=mnt,znt=xnt,Wnt=(t,e,n)=>{const r=new Map,i={platform:jnt,...n},s={...i.platform,_c:r};return gnt(t,e,{...i,platform:s})};var qnt=typeof document<"u",Hnt=function(){},FI=qnt?k.useLayoutEffect:Hnt;function zI(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zI(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!zI(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function cfe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lfe(t,e){const n=cfe(t);return Math.round(e*n)/n}function sF(t){const e=k.useRef(t);return FI(()=>{e.current=t}),e}function Vnt(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,d]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=k.useState(r);zI(h,r)||f(r);const[p,m]=k.useState(null),[w,y]=k.useState(null),b=k.useCallback(O=>{O!==T.current&&(T.current=O,m(O))},[]),v=k.useCallback(O=>{O!==I.current&&(I.current=O,y(O))},[]),E=s||p,_=o||w,T=k.useRef(null),I=k.useRef(null),R=k.useRef(u),S=c!=null,B=sF(c),j=sF(i),U=sF(l),M=k.useCallback(()=>{if(!T.current||!I.current)return;const O={placement:e,strategy:n,middleware:h};j.current&&(O.platform=j.current),Wnt(T.current,I.current,O).then(P=>{const D={...P,isPositioned:U.current!==!1};C.current&&!zI(R.current,D)&&(R.current=D,Bh.flushSync(()=>{d(D)}))})},[h,e,n,j,U]);FI(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[l]);const C=k.useRef(!1);FI(()=>(C.current=!0,()=>{C.current=!1}),[]),FI(()=>{if(E&&(T.current=E),_&&(I.current=_),E&&_){if(B.current)return B.current(E,_,M);M()}},[E,_,M,B,S]);const x=k.useMemo(()=>({reference:T,floating:I,setReference:b,setFloating:v}),[b,v]),A=k.useMemo(()=>({reference:E,floating:_}),[E,_]),N=k.useMemo(()=>{const O={position:n,left:0,top:0};if(!A.floating)return O;const P=lfe(A.floating,u.x),D=lfe(A.floating,u.y);return a?{...O,transform:"translate("+P+"px, "+D+"px)",...cfe(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:D}},[n,a,A.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:M,refs:x,elements:A,floatingStyles:N}),[u,M,x,A,N])}const ufe=(t,e)=>({...Lnt(t),options:[t,e]}),Knt=(t,e)=>({...Unt(t),options:[t,e]}),Gnt=(t,e)=>({...Fnt(t),options:[t,e]}),Znt=(t,e)=>({...znt(t),options:[t,e]}),dfe={...BO},Ynt=dfe.useInsertionEffect||(t=>t());function hfe(t){const e=k.useRef(()=>{});return Ynt(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var oF=typeof document<"u"?k.useLayoutEffect:k.useEffect;let ffe=!1,Jnt=0;const pfe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Jnt++;function Qnt(){const[t,e]=k.useState(()=>ffe?pfe():void 0);return oF(()=>{t==null&&e(pfe())},[]),k.useEffect(()=>{ffe=!0},[]),t}const Xnt=dfe.useId||Qnt;function ert(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const trt=k.createContext(null),nrt=k.createContext(null),rrt=()=>{var t;return((t=k.useContext(trt))==null?void 0:t.id)||null},irt=()=>k.useContext(nrt),srt="data-floating-ui-focusable";function ort(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Xnt(),s=k.useRef({}),[o]=k.useState(()=>ert()),a=rrt()!=null,[c,l]=k.useState(r.reference),u=hfe((f,p,m)=>{s.current.openEvent=f?p:void 0,o.emit("openchange",{open:f,event:p,reason:m,nested:a}),n==null||n(f,p,m)}),d=k.useMemo(()=>({setPositionReference:l}),[]),h=k.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return k.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:h,events:o,floatingId:i,refs:d}),[e,u,h,o,i,d])}function art(t){t===void 0&&(t={});const{nodeId:e}=t,n=ort({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=k.useState(null),[a,c]=k.useState(null),u=(i==null?void 0:i.domReference)||s,d=k.useRef(null),h=irt();oF(()=>{u&&(d.current=u)},[u]);const f=Vnt({...t,elements:{...i,...a&&{reference:a}}}),p=k.useCallback(v=>{const E=Ka(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;c(E),f.refs.setReference(E)},[f.refs]),m=k.useCallback(v=>{(Ka(v)||v===null)&&(d.current=v,o(v)),(Ka(f.refs.reference.current)||f.refs.reference.current===null||v!==null&&!Ka(v))&&f.refs.setReference(v)},[f.refs]),w=k.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:d}),[f.refs,m,p]),y=k.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),b=k.useMemo(()=>({...f,...r,refs:w,elements:y,nodeId:e}),[f,w,y,e,r]);return oF(()=>{r.dataRef.current.floatingContext=b;const v=h==null?void 0:h.nodesRef.current.find(E=>E.id===e);v&&(v.context=b)}),k.useMemo(()=>({...f,context:b,refs:w,elements:y}),[f,w,y,b])}const gfe="active",mfe="selected";function aF(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[gfe]:o,[mfe]:a,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[srt]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(c=>{let[l,u]=c;if(!(i&&[gfe,mfe].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof u=="function"){var d;(d=r.get(l))==null||d.push(u),o[l]=function(){for(var h,f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return(h=r.get(l))==null?void 0:h.map(w=>w(...p)).find(w=>w!==void 0)}}}else o[l]=u}),o),{})}}function crt(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=k.useCallback(a=>aF(a,t,"reference"),e),s=k.useCallback(a=>aF(a,t,"floating"),n),o=k.useCallback(a=>aF(a,t,"item"),r);return k.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function yfe(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const lrt=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:c=0,scrollRef:l,...u}=d2(t,e),{rects:d,elements:{floating:h}}=e,f=n.current[o],p=(l==null?void 0:l.current)||h,m=h.clientTop||p.clientTop,w=h.clientTop!==0,y=p.clientTop!==0,b=h===p;if(!f)return{};const v={...e,...await ufe(-f.offsetTop-h.clientTop-d.reference.height/2-f.offsetHeight/2-s).fn(e)},E=await iF(yfe(v,p.scrollHeight+m+h.clientTop),u),_=await iF(v,{...u,elementContext:"reference"}),T=pa(0,E.top),I=v.y+T,B=(p.scrollHeight>p.clientHeight?j=>j:Cx)(pa(0,p.scrollHeight+(w&&b||y?m*2:0)-T-pa(0,E.bottom)));if(p.style.maxHeight=B+"px",p.scrollTop=T,i){const j=p.offsetHeight<f.offsetHeight*Ay(a,n.current.length)-1||_.top>=-c||_.bottom>=-c;Bh.flushSync(()=>i(j))}return r&&(r.current=await iF(yfe({...v,y:I},p.offsetHeight+m+h.clientTop),u)),{y:I}}});function urt(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,c=hfe(a),l=k.useRef(!1),u=k.useRef(null),d=k.useRef(null);k.useEffect(()=>{if(!i)return;function f(m){if(m.ctrlKey||!p||s.current==null)return;const w=m.deltaY,y=s.current.top>=-.5,b=s.current.bottom>=-.5,v=p.scrollHeight-p.clientHeight,E=w<0?-1:1,_=w<0?"max":"min";p.scrollHeight<=p.clientHeight||(!y&&w>0||!b&&w<0?(m.preventDefault(),Bh.flushSync(()=>{c(T=>T+Math[_](w,v*E))})):/firefox/i.test(rnt())&&(p.scrollTop+=w))}const p=(o==null?void 0:o.current)||r.floating;if(n&&p)return p.addEventListener("wheel",f),requestAnimationFrame(()=>{u.current=p.scrollTop,s.current!=null&&(d.current={...s.current})}),()=>{u.current=null,d.current=null,p.removeEventListener("wheel",f)}},[i,n,r.floating,s,o,c]);const h=k.useMemo(()=>({onKeyDown(){l.current=!0},onWheel(){l.current=!1},onPointerMove(){l.current=!1},onScroll(){const f=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!f||!l.current)){if(u.current!==null){const p=f.scrollTop-u.current;(s.current.bottom<-.5&&p<-1||s.current.top<-.5&&p>1)&&Bh.flushSync(()=>c(m=>m+p))}requestAnimationFrame(()=>{u.current=f.scrollTop})}}}),[r.floating,c,s,o]);return k.useMemo(()=>i?{floating:h}:{},[i,h])}let f2=k.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});f2.displayName="FloatingContext";let cF=k.createContext(null);cF.displayName="PlacementContext";function drt(t){return k.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function hrt(){return k.useContext(f2).setReference}function frt(){return k.useContext(f2).getReferenceProps}function prt(){let{getFloatingProps:t,slot:e}=k.useContext(f2);return k.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function grt(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=k.useContext(cF),n=k.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);ci(()=>{e==null||e(n??null)},[e,n]);let r=k.useContext(f2);return k.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let wfe=4;function mrt({children:t,enabled:e=!0}){let[n,r]=k.useState(null),[i,s]=k.useState(0),o=k.useRef(null),[a,c]=k.useState(null);yrt(a);let l=e&&n!==null&&a!==null,{to:u="bottom",gap:d=0,offset:h=0,padding:f=0,inner:p}=wrt(n,a),[m,w="center"]=u.split(" ");ci(()=>{l&&s(0)},[l]);let{refs:y,floatingStyles:b,context:v}=art({open:l,placement:m==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${m}`:`${m}-${w}`,strategy:"absolute",transform:!1,middleware:[ufe({mainAxis:m==="selection"?0:d,crossAxis:h}),Knt({padding:f}),m!=="selection"&&Gnt({padding:f}),m==="selection"&&p?lrt({...p,padding:f,overflowRef:o,offset:i,minItemsVisible:wfe,referenceOverflowThreshold:f,onFallbackChange(j){var U,M;if(!j)return;let C=v.elements.floating;if(!C)return;let x=parseFloat(getComputedStyle(C).scrollPaddingBottom)||0,A=Math.min(wfe,C.childElementCount),N=0,O=0;for(let P of(M=(U=v.elements.floating)==null?void 0:U.childNodes)!=null?M:[])if(Rl(P)){let D=P.offsetTop,L=D+P.clientHeight+x,$=C.scrollTop,q=$+C.clientHeight;if(D>=$&&L<=q)A--;else{O=Math.max(0,Math.min(L,q)-Math.max(D,$)),N=P.clientHeight;break}}A>=1&&s(P=>{let D=N*A-O+x;return P>=D?P:D})}}):null,Znt({padding:f,apply({availableWidth:j,availableHeight:U,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${j}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${U}px)`})}})].filter(Boolean),whileElementsMounted:Dnt}),[E=m,_=w]=v.placement.split("-");m==="selection"&&(E="selection");let T=k.useMemo(()=>({anchor:[E,_].filter(Boolean).join(" ")}),[E,_]),I=urt(v,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:S}=crt([I]),B=tn(j=>{c(j),y.setFloating(j)});return k.createElement(cF.Provider,{value:r},k.createElement(f2.Provider,{value:{setFloating:B,setReference:y.setReference,styles:b,getReferenceProps:R,getFloatingProps:S,slot:T}},t))}function yrt(t){ci(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function wrt(t,e){var n,r,i;let s=lF((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=lF((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=lF((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function lF(t,e,n=void 0){let r=xy(),i=tn((c,l)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!l)return[n,null];let u=bfe(c,l);return[u,d=>{let h=vfe(c);{let f=h.map(p=>window.getComputedStyle(l).getPropertyValue(p));r.requestAnimationFrame(function p(){r.nextFrame(p);let m=!1;for(let[y,b]of h.entries()){let v=window.getComputedStyle(l).getPropertyValue(b);if(f[y]!==v){f[y]=v,m=!0;break}}if(!m)return;let w=bfe(c,l);u!==w&&(d(w),u=w)})}return r.dispose}]}return[n,null]}),s=k.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=k.useState();return ci(()=>{let[c,l]=i(t,e);if(a(c),!!l)return l(a)},[t,e]),o}function vfe(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...vfe(i)]:[r]}return[]}function bfe(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let WI=k.createContext(null);WI.displayName="OpenClosedContext";var Ga=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ga||{});function Ax(){return k.useContext(WI)}function xfe({value:t,children:e}){return Ve.createElement(WI.Provider,{value:t},e)}function vrt({children:t}){return Ve.createElement(WI.Provider,{value:null},t)}function brt(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let tm=[];brt(()=>{function t(e){if(!hf(e.target)||e.target===document.body||tm[0]===e.target)return;let n=e.target;n=n.closest(PI),tm.unshift(n??e.target),tm=tm.filter(r=>r!=null&&r.isConnected),tm.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function xrt(t){throw new Error("Unexpected object: "+t)}var gs=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(gs||{});function qI(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:xrt(t)}}function uF(t){let e=tn(t),n=k.useRef(!1);k.useEffect(()=>(n.current=!1,()=>{n.current=!0,SI(()=>{n.current&&e()})}),[e])}let Efe=k.createContext(!1);function Ert(){return k.useContext(Efe)}function Cfe(t){return Ve.createElement(Efe.Provider,{value:t.force},t.children)}function Crt(t){let e=Ert(),n=k.useContext(Afe),[r,i]=k.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(uf.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return k.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),k.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let _fe=k.Fragment,_rt=ji(function(t,e){let{ownerDocument:n=null,...r}=t,i=k.useRef(null),s=Va(Ret(h=>{i.current=h}),e),o=bx(i.current),a=n??o,c=Crt(a),l=k.useContext(dF),u=xy(),d=ps();return uF(()=>{var h;c&&c.childNodes.length<=0&&((h=c.parentElement)==null||h.removeChild(c))}),c?Bh.createPortal(Ve.createElement("div",{"data-headlessui-portal":"",ref:h=>{u.dispose(),l&&h&&u.add(l.register(h))}},d({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:_fe,name:"Portal"})),c):null});function Art(t,e){let n=Va(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=ps();return r?Ve.createElement(_rt,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:_fe,name:"Portal"})}let Srt=k.Fragment,Afe=k.createContext(null);function Irt(t,e){let{target:n,...r}=t,i={ref:Va(e)},s=ps();return Ve.createElement(Afe.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Srt,name:"Popover.Group"}))}let dF=k.createContext(null);function krt(){let t=k.useContext(dF),e=k.useRef([]),n=tn(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=tn(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=k.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,k.useMemo(()=>function({children:s}){return Ve.createElement(dF.Provider,{value:i},s)},[i])]}let $rt=ji(Art),Sfe=ji(Irt),Ife=Object.assign($rt,{Group:Sfe});const HI={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function kfe(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function Trt(t,e,n){let r=$c();if(e.kind==="Tracked"){let i=function(){s!==kfe(t)&&(r.dispose(),n())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),r.add(()=>o.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function Prt(t,e=typeof document<"u"?document.defaultView:null,n){let r=wx(t,"escape");Mhe(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Ks.Escape&&n(i))})}function Nrt(){var t;let[e]=k.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=k.useState((t=e==null?void 0:e.matches)!=null?t:!1);return ci(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Ort({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=tn(()=>{var i,s;let o=by(n),a=[];for(let c of t)c!==null&&(Hp(c)?a.push(c):"current"in c&&Hp(c.current)&&a.push(c.current));if(e!=null&&e.current)for(let c of e.current)a.push(c);for(let c of(i=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Hp(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(l=>c.contains(l))||a.push(c));return a});return{resolveContainers:r,contains:tn(i=>r().some(s=>s.contains(i)))}}let $fe=k.createContext(null);function Tfe({children:t,node:e}){let[n,r]=k.useState(null),i=Pfe(e??n);return Ve.createElement($fe.Provider,{value:i},t,i===null&&Ve.createElement(zU,{features:kI.Hidden,ref:s=>{var o,a;if(s){for(let c of(a=(o=by(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(c!==document.body&&c!==document.head&&Hp(c)&&c!=null&&c.contains(s)){r(c);break}}}}))}function Pfe(t=null){var e;return(e=k.useContext($fe))!=null?e:t}function Rrt(){let t=typeof document>"u";return"useSyncExternalStore"in BO?(e=>e.useSyncExternalStore)(BO)(()=>()=>{},()=>!1,()=>!t):!1}function VI(){let t=Rrt(),[e,n]=k.useState(uf.isHandoffComplete);return e&&uf.isHandoffComplete===!1&&n(!1),k.useEffect(()=>{e!==!0&&n(!0)},[e]),k.useEffect(()=>uf.handoff(),[]),t?!1:e}function hF(){let t=k.useRef(!1);return ci(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Sx=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Sx||{});function Mrt(){let t=k.useRef(0);return Phe(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Nfe(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Hp(n.current)&&e.add(n.current);return e}let jrt="div";var Iy=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Iy||{});function Brt(t,e){let n=k.useRef(null),r=Va(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...c}=t;VI()||(a=0);let l=bx(n.current);Frt(a,{ownerDocument:l});let u=zrt(a,{ownerDocument:l,container:n,initialFocus:i,initialFocusFallback:s});Wrt(a,{ownerDocument:l,container:n,containers:o,previousActiveElement:u});let d=Mrt(),h=tn(b=>{if(!Rl(n.current))return;let v=n.current;(E=>E())(()=>{Yd(d.current,{[Sx.Forwards]:()=>{a2(v,Jd.First,{skipElements:[b.relatedTarget,s]})},[Sx.Backwards]:()=>{a2(v,Jd.Last,{skipElements:[b.relatedTarget,s]})}})})}),f=wx(!!(a&2),"focus-trap#tab-lock"),p=xy(),m=k.useRef(!1),w={ref:r,onKeyDown(b){b.key=="Tab"&&(m.current=!0,p.requestAnimationFrame(()=>{m.current=!1}))},onBlur(b){if(!(a&4))return;let v=Nfe(o);Rl(n.current)&&v.add(n.current);let E=b.relatedTarget;hf(E)&&E.dataset.headlessuiFocusGuard!=="true"&&(Ofe(v,E)||(m.current?a2(n.current,Yd(d.current,{[Sx.Forwards]:()=>Jd.Next,[Sx.Backwards]:()=>Jd.Previous})|Jd.WrapAround,{relativeTo:b.target}):hf(b.target)&&pf(b.target)))}},y=ps();return Ve.createElement(Ve.Fragment,null,f&&Ve.createElement(zU,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:kI.Focusable}),y({ourProps:w,theirProps:c,defaultTag:jrt,name:"FocusTrap"}),f&&Ve.createElement(zU,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:kI.Focusable}))}let Drt=ji(Brt),Lrt=Object.assign(Drt,{features:Iy});function Urt(t=!0){let e=k.useRef(tm.slice());return JU(([n],[r])=>{r===!0&&n===!1&&SI(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=tm.slice())},[t,tm,e]),tn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Frt(t,{ownerDocument:e}){let n=!!(t&8),r=Urt(n);JU(()=>{n||qde(e==null?void 0:e.body)&&pf(r())},[n]),uF(()=>{n&&pf(r())})}function zrt(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=k.useRef(null),o=wx(!!(t&1),"focus-trap#initial-focus"),a=hF();return JU(()=>{if(t===0)return;if(!o){i!=null&&i.current&&pf(i.current);return}let c=n.current;c&&SI(()=>{if(!a.current)return;let l=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){s.current=l;return}}else if(c.contains(l)){s.current=l;return}if(r!=null&&r.current)pf(r.current);else{if(t&16){if(a2(c,Jd.First|Jd.AutoFocus)!==GU.Error)return}else if(a2(c,Jd.First)!==GU.Error)return;if(i!=null&&i.current&&(pf(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function Wrt(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=hF(),o=!!(t&4);Mhe(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let c=Nfe(r);Rl(n.current)&&c.add(n.current);let l=i.current;if(!l)return;let u=a.target;Rl(u)?Ofe(c,u)?(i.current=u,pf(u)):(a.preventDefault(),a.stopPropagation(),pf(l)):pf(i.current)},!0)}function Ofe(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Rfe(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!px((e=t.as)!=null?e:jfe)||Ve.Children.count(t.children)===1}let KI=k.createContext(null);KI.displayName="TransitionContext";var qrt=(t=>(t.Visible="visible",t.Hidden="hidden",t))(qrt||{});function Hrt(){let t=k.useContext(KI);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Vrt(){let t=k.useContext(GI);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let GI=k.createContext(null);GI.displayName="NestingContext";function ZI(t){return"children"in t?ZI(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Mfe(t,e){let n=Ey(t),r=k.useRef([]),i=hF(),s=xy(),o=tn((f,p=Qg.Hidden)=>{let m=r.current.findIndex(({el:w})=>w===f);m!==-1&&(Yd(p,{[Qg.Unmount](){r.current.splice(m,1)},[Qg.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var w;!ZI(r)&&i.current&&((w=n.current)==null||w.call(n))}))}),a=tn(f=>{let p=r.current.find(({el:m})=>m===f);return p?p.state!=="visible"&&(p.state="visible"):r.current.push({el:f,state:"visible"}),()=>o(f,Qg.Unmount)}),c=k.useRef([]),l=k.useRef(Promise.resolve()),u=k.useRef({enter:[],leave:[]}),d=tn((f,p,m)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([w])=>w!==f)),e==null||e.chains.current[p].push([f,new Promise(w=>{c.current.push(w)})]),e==null||e.chains.current[p].push([f,new Promise(w=>{Promise.all(u.current[p].map(([y,b])=>b)).then(()=>w())})]),p==="enter"?l.current=l.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(p)):m(p)}),h=tn((f,p,m)=>{Promise.all(u.current[p].splice(0).map(([w,y])=>y)).then(()=>{var w;(w=c.current.shift())==null||w()}).then(()=>m(p))});return k.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:h,wait:l,chains:u}),[a,o,r,d,h,u,l])}let jfe=k.Fragment,Bfe=s2.RenderStrategy;function Krt(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:c,enter:l,enterFrom:u,enterTo:d,entered:h,leave:f,leaveFrom:p,leaveTo:m,...w}=t,[y,b]=k.useState(null),v=k.useRef(null),E=Rfe(t),_=Va(...E?[v,e,b]:e===null?[]:[e]),T=(n=w.unmount)==null||n?Qg.Unmount:Qg.Hidden,{show:I,appear:R,initial:S}=Hrt(),[B,j]=k.useState(I?"visible":"hidden"),U=Vrt(),{register:M,unregister:C}=U;ci(()=>M(v),[M,v]),ci(()=>{if(T===Qg.Hidden&&v.current){if(I&&B!=="visible"){j("visible");return}return Yd(B,{hidden:()=>C(v),visible:()=>M(v)})}},[B,v,M,C,I,T]);let x=VI();ci(()=>{if(E&&x&&B==="visible"&&v.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,B,x,E]);let A=S&&!R,N=R&&I&&S,O=k.useRef(!1),P=Mfe(()=>{O.current||(j("hidden"),C(v))},U),D=tn(X=>{O.current=!0;let Y=X?"enter":"leave";P.onStart(v,Y,te=>{te==="enter"?s==null||s():te==="leave"&&(a==null||a())})}),L=tn(X=>{let Y=X?"enter":"leave";O.current=!1,P.onStop(v,Y,te=>{te==="enter"?o==null||o():te==="leave"&&(c==null||c())}),Y==="leave"&&!ZI(P)&&(j("hidden"),C(v))});k.useEffect(()=>{E&&i||(D(I),L(I))},[I,E,i]);let $=!(!i||!E||!x||A),[,q]=zhe($,y,I,{start:D,end:L}),V=Cy({ref:_,className:((r=UU(w.className,N&&l,N&&u,q.enter&&l,q.enter&&q.closed&&u,q.enter&&!q.closed&&d,q.leave&&f,q.leave&&!q.closed&&p,q.leave&&q.closed&&m,!q.transition&&I&&h))==null?void 0:r.trim())||void 0,...Fhe(q)}),F=0;B==="visible"&&(F|=Ga.Open),B==="hidden"&&(F|=Ga.Closed),I&&B==="hidden"&&(F|=Ga.Opening),!I&&B==="visible"&&(F|=Ga.Closing);let Z=ps();return Ve.createElement(GI.Provider,{value:P},Ve.createElement(xfe,{value:F},Z({ourProps:V,theirProps:w,defaultTag:jfe,features:Bfe,visible:B==="visible",name:"Transition.Child"})))}function Grt(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=k.useRef(null),a=Rfe(t),c=Va(...a?[o,e]:e===null?[]:[e]);VI();let l=Ax();if(n===void 0&&l!==null&&(n=(l&Ga.Open)===Ga.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=k.useState(n?"visible":"hidden"),h=Mfe(()=>{n||d("hidden")}),[f,p]=k.useState(!0),m=k.useRef([n]);ci(()=>{f!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),p(!1))},[m,n]);let w=k.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);ci(()=>{n?d("visible"):!ZI(h)&&o.current!==null&&d("hidden")},[n,h]);let y={unmount:i},b=tn(()=>{var _;f&&p(!1),(_=t.beforeEnter)==null||_.call(t)}),v=tn(()=>{var _;f&&p(!1),(_=t.beforeLeave)==null||_.call(t)}),E=ps();return Ve.createElement(GI.Provider,{value:h},Ve.createElement(KI.Provider,{value:w},E({ourProps:{...y,as:k.Fragment,children:Ve.createElement(Dfe,{ref:c,...y,...s,beforeEnter:b,beforeLeave:v})},theirProps:{},defaultTag:k.Fragment,features:Bfe,visible:u==="visible",name:"Transition"})))}function Zrt(t,e){let n=k.useContext(KI)!==null,r=Ax()!==null;return Ve.createElement(Ve.Fragment,null,!n&&r?Ve.createElement(fF,{ref:e,...t}):Ve.createElement(Dfe,{ref:e,...t}))}let fF=ji(Grt),Dfe=ji(Krt),Ix=ji(Zrt),Lfe=Object.assign(fF,{Child:Ix,Root:fF});var Yrt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Yrt||{}),Jrt=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Jrt||{});let Qrt={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},pF=k.createContext(null);pF.displayName="DialogContext";function YI(t){let e=k.useContext(pF);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,YI),n}return e}function Xrt(t,e){return Yd(e.type,Qrt,t,e)}let Ufe=ji(function(t,e){let n=k.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:c=!0,__demoMode:l=!1,unmount:u=!1,...d}=t,h=k.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let f=Ax();i===void 0&&f!==null&&(i=(f&Ga.Open)===Ga.Open);let p=k.useRef(null),m=Va(p,e),w=bx(p.current),y=i?0:1,[b,v]=k.useReducer(Xrt,{titleId:null,descriptionId:null,panelRef:k.createRef()}),E=tn(()=>s(!1)),_=tn(q=>v({type:0,id:q})),T=VI()?y===0:!1,[I,R]=krt(),S={get current(){var q;return(q=b.panelRef.current)!=null?q:p.current}},B=Pfe(),{resolveContainers:j}=Ort({mainTreeNode:B,portals:I,defaultContainers:[S]}),U=f!==null?(f&Ga.Closing)===Ga.Closing:!1;_he(l||U?!1:T,{allowed:tn(()=>{var q,V;return[(V=(q=p.current)==null?void 0:q.closest("[data-headlessui-portal]"))!=null?V:null]}),disallowed:tn(()=>{var q;return[(q=B==null?void 0:B.closest("body > *:not(#headlessui-portal-root)"))!=null?q:null]})});let M=TI.get(null);ci(()=>{if(T)return M.actions.push(r),()=>M.actions.pop(r)},[M,r,T]);let C=Du(M,k.useCallback(q=>M.selectors.isTop(q,r),[M,r]));Ohe(C,j,q=>{q.preventDefault(),E()}),Prt(C,w==null?void 0:w.defaultView,q=>{q.preventDefault(),q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),E()}),Bhe(l||U?!1:T,w,j),Ahe(T,p,E);let[x,A]=the(),N=k.useMemo(()=>[{dialogState:y,close:E,setTitleId:_,unmount:u},b],[y,E,_,u,b]),O=df({open:y===0}),P={ref:m,id:r,role:a,tabIndex:-1,"aria-modal":l?void 0:y===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":x,unmount:u},D=!Nrt(),L=Iy.None;T&&!l&&(L|=Iy.RestoreFocus,L|=Iy.TabLock,c&&(L|=Iy.AutoFocus),D&&(L|=Iy.InitialFocus));let $=ps();return Ve.createElement(vrt,null,Ve.createElement(Cfe,{force:!0},Ve.createElement(Ife,null,Ve.createElement(pF.Provider,{value:N},Ve.createElement(Sfe,{target:p},Ve.createElement(Cfe,{force:!1},Ve.createElement(A,{slot:O},Ve.createElement(R,null,Ve.createElement(Lrt,{initialFocus:o,initialFocusFallback:p,containers:j,features:L},Ve.createElement(qet,{value:E},$({ourProps:P,theirProps:d,slot:O,defaultTag:eit,features:tit,visible:y===0,name:"Dialog"})))))))))))}),eit="div",tit=s2.RenderStrategy|s2.Static;function nit(t,e){let{transition:n=!1,open:r,...i}=t,s=Ax(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ve.createElement(Tfe,null,Ve.createElement(Lfe,{show:r,transition:n,unmount:i.unmount},Ve.createElement(Ufe,{ref:e,...i}))):Ve.createElement(Tfe,null,Ve.createElement(Ufe,{ref:e,open:r,...i}))}let rit="div";function iit(t,e){let n=k.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},c]=YI("Dialog.Panel"),l=Va(e,c.panelRef),u=df({open:o===0}),d=tn(w=>{w.stopPropagation()}),h={ref:l,id:r,onClick:d},f=i?Ix:k.Fragment,p=i?{unmount:a}:{},m=ps();return Ve.createElement(f,{...p},m({ourProps:h,theirProps:s,slot:u,defaultTag:rit,name:"Dialog.Panel"}))}let sit="div";function oit(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=YI("Dialog.Backdrop"),o=df({open:i===0}),a={ref:e,"aria-hidden":!0},c=n?Ix:k.Fragment,l=n?{unmount:s}:{},u=ps();return Ve.createElement(c,{...l},u({ourProps:a,theirProps:r,slot:o,defaultTag:sit,name:"Dialog.Backdrop"}))}let ait="h2";function cit(t,e){let n=k.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=YI("Dialog.Title"),a=Va(e);k.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=df({open:s===0}),l={ref:a,id:r};return ps()({ourProps:l,theirProps:i,slot:c,defaultTag:ait,name:"Dialog.Title"})}let lit=ji(nit),Ffe=ji(iit);ji(oit);let uit=ji(cit),dit=Object.assign(lit,{Panel:Ffe,Title:uit,Description:Det}),zfe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Wfe(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Rl(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return zfe.test(o)&&(o=o.replace(zfe,"")),o}function hit(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Wfe(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Wfe(t).trim()}function fit(t){let e=k.useRef(""),n=k.useRef("");return tn(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=hit(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var pit=Object.defineProperty,git=(t,e,n)=>e in t?pit(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qfe=(t,e,n)=>(git(t,typeof e!="symbol"?e+"":e,n),n),ga=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ga||{}),JI=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(JI||{}),Fr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Fr||{});function Hfe(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=khe(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let mit={1(t){if(t.menuState===1)return t;let e=t.buttonElement?HI.Tracked(kfe(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:gs.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:HI.Idle}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===gs.Nothing)return{...a,activeItemIndex:null};if(e.focus===gs.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===gs.Previous){let u=t.activeItemIndex;if(u!==null){let d=t.items[u].dataRef.current.domRef,h=qI(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(h!==null){let f=t.items[h].dataRef.current.domRef;if(((r=d.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:h}}}}else if(e.focus===gs.Next){let u=t.activeItemIndex;if(u!==null){let d=t.items[u].dataRef.current.domRef,h=qI(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(h!==null){let f=t.items[h].dataRef.current.domRef;if(((s=d.current)==null?void 0:s.nextElementSibling)===f.current||((o=f.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:h}}}}let c=Hfe(t),l=qI(e,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...c,activeItemIndex:l}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==gs.Nothing&&(r=qI(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:gs.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...Hfe(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:HI.Moved}}},yit=class TAe extends phe{constructor(e){super(e),qfe(this,"actions",{registerItem:yhe(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:yhe(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),qfe(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,o=n.items;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=TI.get(null);this.disposables.add(r.on(vhe.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(Trt(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new TAe({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:gs.Nothing},buttonPositionState:HI.Idle})}reduce(e,n){return Yd(n.type,mit,e,n)}};const Vfe=k.createContext(null);function gF(t){let e=k.useContext(Vfe);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Kfe),n}return e}function Kfe({id:t,__demoMode:e=!1}){let n=k.useMemo(()=>yit.new({id:t,__demoMode:e}),[]);return uF(()=>n.dispose()),n}let wit=k.Fragment;function vit(t,e){let n=k.useId(),{__demoMode:r=!1,...i}=t,s=Kfe({id:n,__demoMode:r}),[o,a,c]=Du(s,w=>[w.menuState,w.itemsElement,w.buttonElement]),l=Va(e),u=TI.get(null),d=Du(u,k.useCallback(w=>u.selectors.isTop(w,n),[u,n]));Ohe(d,[c,a],(w,y)=>{var b;s.send({type:Fr.CloseMenu}),YU(y,ZU.Loose)||(w.preventDefault(),(b=s.state.buttonElement)==null||b.focus())});let h=tn(()=>{s.send({type:Fr.CloseMenu})}),f=df({open:o===ga.Open,close:h}),p={ref:l},m=ps();return Ve.createElement(mrt,null,Ve.createElement(Vfe.Provider,{value:s},Ve.createElement(xfe,{value:Yd(o,{[ga.Open]:Ga.Open,[ga.Closed]:Ga.Closed})},m({ourProps:p,theirProps:i,slot:f,defaultTag:wit,name:"Menu"}))))}let bit="button";function xit(t,e){let n=gF("Menu.Button"),r=k.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,c=k.useRef(null),l=frt(),u=Va(e,c,hrt(),tn(B=>n.send({type:Fr.SetButtonElement,element:B}))),d=tn(B=>{switch(B.key){case Ks.Space:case Ks.Enter:case Ks.ArrowDown:B.preventDefault(),B.stopPropagation(),n.send({type:Fr.OpenMenu,focus:{focus:gs.First}});break;case Ks.ArrowUp:B.preventDefault(),B.stopPropagation(),n.send({type:Fr.OpenMenu,focus:{focus:gs.Last}});break}}),h=tn(B=>{switch(B.key){case Ks.Space:B.preventDefault();break}}),[f,p,m]=Du(n,B=>[B.menuState,B.buttonElement,B.itemsElement]),w=f===ga.Open;Ptt(w,{trigger:p,action:k.useCallback(B=>{if(p!=null&&p.contains(B.target))return NI.Ignore;let j=B.target.closest('[role="menuitem"]:not([data-disabled])');return Rl(j)?NI.Select(j):m!=null&&m.contains(B.target)?NI.Ignore:NI.Close},[p,m]),close:k.useCallback(()=>n.send({type:Fr.CloseMenu}),[]),select:k.useCallback(B=>B.click(),[])});let y=itt(B=>{var j;s||(f===ga.Open?(Bh.flushSync(()=>n.send({type:Fr.CloseMenu})),(j=c.current)==null||j.focus({preventScroll:!0})):(B.preventDefault(),n.send({type:Fr.OpenMenu,focus:{focus:gs.Nothing},trigger:JI.Pointer})))}),{isFocusVisible:b,focusProps:v}=det({autoFocus:o}),{isHovered:E,hoverProps:_}=uet({isDisabled:s}),{pressed:T,pressProps:I}=yet({disabled:s}),R=df({open:f===ga.Open,active:T||f===ga.Open,disabled:s,hover:E,focus:b,autofocus:o}),S=Kde(l(),{ref:u,id:i,type:Ntt(t,c.current),"aria-haspopup":"menu","aria-controls":m==null?void 0:m.id,"aria-expanded":f===ga.Open,disabled:s||void 0,autoFocus:o,onKeyDown:d,onKeyUp:h},y,v,_,I);return ps()({ourProps:S,theirProps:a,slot:R,defaultTag:bit,name:"Menu.Button"})}let Eit="div",Cit=s2.RenderStrategy|s2.Static;function _it(t,e){let n=k.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...c}=t,l=drt(i),u=gF("Menu.Items"),[d,h]=grt(l),f=prt(),[p,m]=k.useState(null),w=Va(e,l?d:null,tn(O=>u.send({type:Fr.SetItemsElement,element:O})),m),[y,b]=Du(u,O=>[O.menuState,O.buttonElement]),v=bx(b),E=bx(p);l&&(s=!0);let _=Ax(),[T,I]=zhe(a,p,_!==null?(_&Ga.Open)===Ga.Open:y===ga.Open);Ahe(T,b,()=>{u.send({type:Fr.CloseMenu})});let R=Du(u,O=>O.__demoMode),S=R?!1:o&&y===ga.Open;Bhe(S,E);let B=R?!1:o&&y===ga.Open;_he(B,{allowed:k.useCallback(()=>[b,p],[b,p])});let j=Du(u,u.selectors.didButtonMove)?!1:T;k.useEffect(()=>{let O=p;O&&y===ga.Open&&(qde(O)||O.focus({preventScroll:!0}))},[y,p]),Ktt(y===ga.Open,{container:p,accept(O){return O.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:O.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(O){O.setAttribute("role","none")}});let U=xy(),M=tn(O=>{var P,D,L;switch(U.dispose(),O.key){case Ks.Space:if(u.state.searchQuery!=="")return O.preventDefault(),O.stopPropagation(),u.send({type:Fr.Search,value:O.key});case Ks.Enter:if(O.preventDefault(),O.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:$}=u.state.items[u.state.activeItemIndex];(D=(P=$.current)==null?void 0:P.domRef.current)==null||D.click()}u.send({type:Fr.CloseMenu}),Ihe(u.state.buttonElement);break;case Ks.ArrowDown:return O.preventDefault(),O.stopPropagation(),u.send({type:Fr.GoToItem,focus:gs.Next});case Ks.ArrowUp:return O.preventDefault(),O.stopPropagation(),u.send({type:Fr.GoToItem,focus:gs.Previous});case Ks.Home:case Ks.PageUp:return O.preventDefault(),O.stopPropagation(),u.send({type:Fr.GoToItem,focus:gs.First});case Ks.End:case Ks.PageDown:return O.preventDefault(),O.stopPropagation(),u.send({type:Fr.GoToItem,focus:gs.Last});case Ks.Escape:O.preventDefault(),O.stopPropagation(),Bh.flushSync(()=>u.send({type:Fr.CloseMenu})),(L=u.state.buttonElement)==null||L.focus({preventScroll:!0});break;case Ks.Tab:O.preventDefault(),O.stopPropagation(),Bh.flushSync(()=>u.send({type:Fr.CloseMenu})),Itt(u.state.buttonElement,O.shiftKey?Jd.Previous:Jd.Next);break;default:O.key.length===1&&(u.send({type:Fr.Search,value:O.key}),U.setTimeout(()=>u.send({type:Fr.ClearSearch}),350));break}}),C=tn(O=>{switch(O.key){case Ks.Space:O.preventDefault();break}}),x=df({open:y===ga.Open}),A=Kde(l?f():{},{"aria-activedescendant":Du(u,u.selectors.activeDescendantId),"aria-labelledby":Du(u,O=>{var P;return(P=O.buttonElement)==null?void 0:P.id}),id:r,onKeyDown:M,onKeyUp:C,role:"menu",tabIndex:y===ga.Open?0:void 0,ref:w,style:{...c.style,...h,"--button-width":rtt(T,b,!0).width},...Fhe(I)}),N=ps();return Ve.createElement(Ife,{enabled:s?t.static||T:!1,ownerDocument:v},N({ourProps:A,theirProps:c,slot:x,defaultTag:Eit,features:Cit,visible:j,name:"Menu.Items"}))}let Ait=k.Fragment;function Sit(t,e){let n=k.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,o=gF("Menu.Item"),a=Du(o,j=>o.selectors.isActive(j,r)),c=k.useRef(null),l=Va(e,c),u=Du(o,j=>o.selectors.shouldScrollIntoView(j,r));ci(()=>{if(u)return $c().requestAnimationFrame(()=>{var j,U;(U=(j=c.current)==null?void 0:j.scrollIntoView)==null||U.call(j,{block:"nearest"})})},[u,c]);let d=fit(c),h=k.useRef({disabled:i,domRef:c,get textValue(){return d()}});ci(()=>{h.current.disabled=i},[h,i]),ci(()=>(o.actions.registerItem(r,h),()=>o.actions.unregisterItem(r)),[h,r]);let f=tn(()=>{o.send({type:Fr.CloseMenu})}),p=tn(j=>{if(i)return j.preventDefault();o.send({type:Fr.CloseMenu}),Ihe(o.state.buttonElement)}),m=tn(()=>{if(i)return o.send({type:Fr.GoToItem,focus:gs.Nothing});o.send({type:Fr.GoToItem,focus:gs.Specific,id:r})}),w=Ltt(),y=tn(j=>w.update(j)),b=tn(j=>{w.wasMoved(j)&&(i||a||o.send({type:Fr.GoToItem,focus:gs.Specific,id:r,trigger:JI.Pointer}))}),v=tn(j=>{w.wasMoved(j)&&(i||a&&o.state.activationTrigger===JI.Pointer&&o.send({type:Fr.GoToItem,focus:gs.Nothing}))}),[E,_]=nhe(),[T,I]=the(),R=df({active:a,focus:a,disabled:i,close:f}),S={id:r,ref:l,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":E,"aria-describedby":T,disabled:void 0,onClick:p,onFocus:m,onPointerEnter:y,onMouseEnter:y,onPointerMove:b,onMouseMove:b,onPointerLeave:v,onMouseLeave:v},B=ps();return Ve.createElement(_,null,Ve.createElement(I,null,B({ourProps:S,theirProps:s,slot:R,defaultTag:Ait,name:"Menu.Item"})))}let Iit="div";function kit(t,e){let[n,r]=nhe(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},o=ps();return Ve.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:Iit,name:"Menu.Section"}))}let $it="header";function Tit(t,e){let n=k.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=qU();ci(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return ps()({ourProps:o,theirProps:i,slot:{},defaultTag:$it,name:"Menu.Heading"})}let Pit="div";function Nit(t,e){let n=t,r={ref:e,role:"separator"};return ps()({ourProps:r,theirProps:n,slot:{},defaultTag:Pit,name:"Menu.Separator"})}let Oit=ji(vit),Gfe=ji(xit),Zfe=ji(_it),Yfe=ji(Sit),Rit=ji(kit),Mit=ji(Tit),jit=ji(Nit),Bit=Object.assign(Oit,{Button:Gfe,Items:Zfe,Item:Yfe,Section:Rit,Heading:Mit,Separator:jit});/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dit=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jfe=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lit={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uit=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>k.createElement("svg",{ref:c,...Lit,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Jfe("lucide",i),...a},[...o.map(([l,u])=>k.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=(t,e)=>{const n=k.forwardRef(({className:r,...i},s)=>k.createElement(Uit,{ref:s,iconNode:e,className:Jfe(`lucide-${Dit(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fit=Bi("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zit=Bi("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Bi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=Bi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Bi("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wit=Bi("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qit=Bi("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Bi("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hit=Bi("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Bi("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Bi("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vit=Bi("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Bi("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Bi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Bi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kit=Bi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=Bi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Git=Bi("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zit=Bi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Bi("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yit=Bi("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jit=Bi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var vF={exports:{}},p2=typeof Reflect=="object"?Reflect:null,epe=p2&&typeof p2.apply=="function"?p2.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},tk;p2&&typeof p2.ownKeys=="function"?tk=p2.ownKeys:Object.getOwnPropertySymbols?tk=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:tk=function(e){return Object.getOwnPropertyNames(e)};function Qit(t){console&&console.warn&&console.warn(t)}var tpe=Number.isNaN||function(e){return e!==e};function Rr(){Rr.init.call(this)}vF.exports=Rr,vF.exports.once=nst,Rr.EventEmitter=Rr,Rr.prototype._events=void 0,Rr.prototype._eventsCount=0,Rr.prototype._maxListeners=void 0;var npe=10;function nk(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Rr,"defaultMaxListeners",{enumerable:!0,get:function(){return npe},set:function(t){if(typeof t!="number"||t<0||tpe(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");npe=t}}),Rr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Rr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tpe(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function rpe(t){return t._maxListeners===void 0?Rr.defaultMaxListeners:t._maxListeners}Rr.prototype.getMaxListeners=function(){return rpe(this)},Rr.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")epe(c,this,n);else for(var l=c.length,u=cpe(c,l),r=0;r<l;++r)epe(u[r],this,n);return!0};function ipe(t,e,n,r){var i,s,o;if(nk(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=rpe(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Qit(a)}return t}Rr.prototype.addListener=function(e,n){return ipe(this,e,n,!1)},Rr.prototype.on=Rr.prototype.addListener,Rr.prototype.prependListener=function(e,n){return ipe(this,e,n,!0)};function Xit(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function spe(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=Xit.bind(r);return i.listener=n,r.wrapFn=i,i}Rr.prototype.once=function(e,n){return nk(n),this.on(e,spe(this,e,n)),this},Rr.prototype.prependOnceListener=function(e,n){return nk(n),this.prependListener(e,spe(this,e,n)),this},Rr.prototype.removeListener=function(e,n){var r,i,s,o,a;if(nk(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():est(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this},Rr.prototype.off=Rr.prototype.removeListener,Rr.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function ope(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?tst(i):cpe(i,i.length)}Rr.prototype.listeners=function(e){return ope(this,e,!0)},Rr.prototype.rawListeners=function(e){return ope(this,e,!1)},Rr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ape.call(t,e)},Rr.prototype.listenerCount=ape;function ape(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Rr.prototype.eventNames=function(){return this._eventsCount>0?tk(this._events):[]};function cpe(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function est(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function tst(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function nst(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}lpe(t,e,s,{once:!0}),e!=="error"&&rst(t,i,{once:!0})})}function rst(t,e,n){typeof t.on=="function"&&lpe(t,"error",e,n)}function lpe(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ms=vF.exports;const g2=Hi(ms);var upe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},ist=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),sst=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),ost=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),ast=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),cst=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),lst=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ust=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,dpe=3,dst=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",lst]],hpe=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function fpe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new cst:typeof navigator<"u"?fst(navigator.userAgent):gst()}function hst(t){return t!==""&&dst.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function fst(t){var e=hst(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new ast;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<dpe&&(i=upe(upe([],i,!0),mst(dpe-i.length),!0)):i=[];var s=i.join("."),o=pst(t),a=ust.exec(t);return a&&a[1]?new ost(n,s,o,a[1]):new ist(n,s,o)}function pst(t){for(var e=0,n=hpe.length;e<n;e++){var r=hpe[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function gst(){var t=typeof process<"u"&&process.version;return t?new sst(process.version.slice(1)):null}function mst(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var me={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var bF=function(t,e){return bF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},bF(t,e)};function yst(t,e){bF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xF=function(){return xF=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xF.apply(this,arguments)};function wst(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vst(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function bst(t,e){return function(n,r){e(n,r,t)}}function xst(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Est(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Cst(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function _st(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Ast(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function EF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ppe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Sst(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ppe(arguments[e]));return t}function Ist(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Tx(t){return this instanceof Tx?(this.v=t,this):new Tx(t)}function kst(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof Tx?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $st(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Tx(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Tst(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof EF=="function"?EF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Pst(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Nst(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ost(t){return t&&t.__esModule?t:{default:t}}function Rst(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Mst(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const rk=xv(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return xF},__asyncDelegator:$st,__asyncGenerator:kst,__asyncValues:Tst,__await:Tx,__awaiter:Est,__classPrivateFieldGet:Rst,__classPrivateFieldSet:Mst,__createBinding:_st,__decorate:vst,__exportStar:Ast,__extends:yst,__generator:Cst,__importDefault:Ost,__importStar:Nst,__makeTemplateObject:Pst,__metadata:xst,__param:bst,__read:ppe,__rest:wst,__spread:Sst,__spreadArrays:Ist,__values:EF},Symbol.toStringTag,{value:"Module"})));var CF={},Px={},gpe;function jst(){if(gpe)return Px;gpe=1,Object.defineProperty(Px,"__esModule",{value:!0}),Px.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Px.delay=t,Px}var ky={},_F={},$y={},mpe;function Bst(){return mpe||(mpe=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.ONE_THOUSAND=$y.ONE_HUNDRED=void 0,$y.ONE_HUNDRED=100,$y.ONE_THOUSAND=1e3),$y}var AF={},ype;function Dst(){return ype||(ype=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(AF)),AF}var wpe;function vpe(){return wpe||(wpe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rk;e.__exportStar(Bst(),t),e.__exportStar(Dst(),t)}(_F)),_F}var bpe;function Lst(){if(bpe)return ky;bpe=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.fromMiliseconds=ky.toMiliseconds=void 0;const t=vpe();function e(r){return r*t.ONE_THOUSAND}ky.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return ky.fromMiliseconds=n,ky}var xpe;function Ust(){return xpe||(xpe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rk;e.__exportStar(jst(),t),e.__exportStar(Lst(),t)}(CF)),CF}var m2={},Epe;function Fst(){if(Epe)return m2;Epe=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return m2.Watch=t,m2.default=t,m2}var SF={},Nx={},Cpe;function zst(){if(Cpe)return Nx;Cpe=1,Object.defineProperty(Nx,"__esModule",{value:!0}),Nx.IWatch=void 0;class t{}return Nx.IWatch=t,Nx}var _pe;function Wst(){return _pe||(_pe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),rk.__exportStar(zst(),t)}(SF)),SF}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rk;e.__exportStar(Ust(),t),e.__exportStar(Fst(),t),e.__exportStar(Wst(),t),e.__exportStar(vpe(),t)})(me);var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.getLocalStorage=Jr.getLocalStorageOrThrow=Jr.getCrypto=Jr.getCryptoOrThrow=IF=Jr.getLocation=Jr.getLocationOrThrow=Py=Jr.getNavigator=Jr.getNavigatorOrThrow=Za=Jr.getDocument=Jr.getDocumentOrThrow=Jr.getFromWindowOrThrow=Jr.getFromWindow=void 0;function Ty(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Jr.getFromWindow=Ty;function y2(t){const e=Ty(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Jr.getFromWindowOrThrow=y2;function qst(){return y2("document")}Jr.getDocumentOrThrow=qst;function Hst(){return Ty("document")}var Za=Jr.getDocument=Hst;function Vst(){return y2("navigator")}Jr.getNavigatorOrThrow=Vst;function Kst(){return Ty("navigator")}var Py=Jr.getNavigator=Kst;function Gst(){return y2("location")}Jr.getLocationOrThrow=Gst;function Zst(){return Ty("location")}var IF=Jr.getLocation=Zst;function Yst(){return y2("crypto")}Jr.getCryptoOrThrow=Yst;function Jst(){return Ty("crypto")}Jr.getCrypto=Jst;function Qst(){return y2("localStorage")}Jr.getLocalStorageOrThrow=Qst;function Xst(){return Ty("localStorage")}Jr.getLocalStorage=Xst;var kF={};Object.defineProperty(kF,"__esModule",{value:!0});var ik=kF.getWindowMetadata=void 0;const Ape=Jr;function eot(){let t,e;try{t=Ape.getDocumentOrThrow(),e=Ape.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],m=p.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const w=p.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(w.indexOf("/")===0)y+=w;else{const b=e.pathname.split("/");b.pop();const v=b.join("/");y+=v+"/"+w}h.push(y)}else if(w.indexOf("//")===0){const y=e.protocol+w;h.push(y)}else h.push(w)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],m=["itemprop","property","name"].map(w=>p.getAttribute(w)).filter(w=>w?d.includes(w):!1);if(m.length&&m){const w=p.getAttribute("content");if(w)return w}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}ik=kF.getWindowMetadata=eot;function Ox(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function $F(t){return Ox(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Spe="2.31.0";let Rx={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Spe}`},sk=class hJ extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof hJ?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof hJ&&n.cause.docsPath||n.docsPath,s=(a=Rx.getDocsUrl)==null?void 0:a.call(Rx,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Rx.version?[`Version: ${Rx.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Spe}walk(e){return Ipe(this,e)}};function Ipe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Ipe(t.cause,e):e?null:t}let kpe=class extends sk{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function w2(t,{dir:e,size:n=32}={}){return typeof t=="string"?tot(t,{dir:e,size:n}):not(t,{dir:e,size:n})}function tot(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new kpe({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function not(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new kpe({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let rot=class extends sk{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},iot=class extends sk{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function v2(t,{size:e}){if($F(t)>e)throw new iot({givenSize:$F(t),maxSize:e})}function TF(t,e={}){const{signed:n}=e;e.size&&v2(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function sot(t,e={}){return Number(TF(t,e))}const oot=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function PF(t,e={}){return typeof t=="number"||typeof t=="bigint"?Tpe(t,e):typeof t=="string"?lot(t,e):typeof t=="boolean"?aot(t,e):$pe(t,e)}function aot(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(v2(n,{size:e.size}),w2(n,{size:e.size})):n}function $pe(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=oot[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(v2(r,{size:e.size}),w2(r,{dir:"right",size:e.size})):r}function Tpe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new rot({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?w2(a,{size:r}):a}const cot=new TextEncoder;function lot(t,e={}){const n=cot.encode(t);return $pe(n,e)}const uot=new TextEncoder;function dot(t,e={}){return typeof t=="number"||typeof t=="bigint"?fot(t,e):typeof t=="boolean"?hot(t,e):Ox(t)?Npe(t,e):Ope(t,e)}function hot(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(v2(n,{size:e.size}),w2(n,{size:e.size})):n}const Kp={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ppe(t){if(t>=Kp.zero&&t<=Kp.nine)return t-Kp.zero;if(t>=Kp.A&&t<=Kp.F)return t-(Kp.A-10);if(t>=Kp.a&&t<=Kp.f)return t-(Kp.a-10)}function Npe(t,e={}){let n=t;e.size&&(v2(n,{size:e.size}),n=w2(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Ppe(r.charCodeAt(a++)),l=Ppe(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new sk(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function fot(t,e){const n=Tpe(t,e);return Npe(n)}function Ope(t,e={}){const n=uot.encode(t);return typeof e.size=="number"?(v2(n,{size:e.size}),w2(n,{dir:"right",size:e.size})):n}function Rpe(t,e){const n=e||"hex",r=tA(Ox(t,{strict:!1})?dot(t):t);return n==="bytes"?r:PF(r)}let pot=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const NF=new pot(8192);function got(t,e){if(NF.has(`${t}.${e}`))return NF.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Rpe(Ope(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return NF.set(`${t}.${e}`,s),s}function mot(t){const e=Rpe(`0x${t.substring(4)}`).substring(26);return got(`0x${e}`)}async function yot({hash:t,signature:e}){const n=Ox(t)?t:PF(t),{secp256k1:r}=await Ge(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Vot);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=Mpe(f);return new r.Signature(TF(l),TF(u)).addRecoveryBit(p)}const o=Ox(e)?e:PF(e);if($F(o)!==65)throw new Error("invalid signature length");const a=sot(`0x${o.slice(130)}`),c=Mpe(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Mpe(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function wot({hash:t,signature:e}){return mot(await yot({hash:t,signature:e}))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OF=BigInt(0),RF=BigInt(1);function Mx(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function MF(t){if(!Mx(t))throw new Error("Uint8Array expected")}function jx(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function ok(t){const e=t.toString(16);return e.length&1?"0"+e:e}function jpe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?OF:BigInt("0x"+t)}const Bpe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",vot=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bx(t){if(MF(t),Bpe)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=vot[t[n]];return e}const Gp={_0:48,_9:57,A:65,F:70,a:97,f:102};function Dpe(t){if(t>=Gp._0&&t<=Gp._9)return t-Gp._0;if(t>=Gp.A&&t<=Gp.F)return t-(Gp.A-10);if(t>=Gp.a&&t<=Gp.f)return t-(Gp.a-10)}function ak(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Bpe)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Dpe(t.charCodeAt(s)),a=Dpe(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ny(t){return jpe(Bx(t))}function Lpe(t){return MF(t),jpe(Bx(Uint8Array.from(t).reverse()))}function Dx(t,e){return ak(t.toString(16).padStart(e*2,"0"))}function Upe(t,e){return Dx(t,e).reverse()}function Lu(t,e,n){let r;if(typeof e=="string")try{r=ak(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Mx(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function ck(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];MF(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const jF=t=>typeof t=="bigint"&&OF<=t;function BF(t,e,n){return jF(t)&&jF(e)&&jF(n)&&e<=t&&t<n}function b2(t,e,n,r){if(!BF(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function bot(t){let e;for(e=0;t>OF;t>>=RF,e+=1);return e}const lk=t=>(RF<<BigInt(t))-RF,DF=t=>new Uint8Array(t),Fpe=t=>Uint8Array.from(t);function xot(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=DF(t),i=DF(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=DF(0))=>{i=a(Fpe([0]),d),r=a(),d.length!==0&&(i=a(Fpe([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return ck(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const Eot={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Mx(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function uk(t,e,n={}){const r=(i,s,o)=>{const a=Eot[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function zpe(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tc=BigInt(0),Ya=BigInt(1),Oy=BigInt(2),Cot=BigInt(3),Wpe=BigInt(4),qpe=BigInt(5),Hpe=BigInt(8);function Pc(t,e){const n=t%e;return n>=Tc?n:e+n}function Uu(t,e,n){let r=t;for(;e-- >Tc;)r*=r,r%=n;return r}function LF(t,e){if(t===Tc)throw new Error("invert: expected non-zero number");if(e<=Tc)throw new Error("invert: expected positive modulus, got "+e);let n=Pc(t,e),r=e,i=Tc,s=Ya;for(;n!==Tc;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Ya)throw new Error("invert: does not exist");return Pc(i,e)}function Vpe(t,e){const n=(t.ORDER+Ya)/Wpe,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function _ot(t,e){const n=(t.ORDER-qpe)/Hpe,r=t.mul(e,Oy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Oy),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Aot(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ya,n=0;for(;e%Oy===Tc;)e/=Oy,n++;let r=Oy;const i=UF(t);for(;Gpe(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Vpe;let s=i.pow(r,e);const o=(e+Ya)/Oy;return function(c,l){if(c.is0(l))return l;if(Gpe(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const w=Ya<<BigInt(u-p-1),y=c.pow(d,w);u=p,d=c.sqr(y),h=c.mul(h,d),f=c.mul(f,y)}return f}}function Sot(t){return t%Wpe===Cot?Vpe:t%Hpe===qpe?_ot:Aot(t)}const Iot=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kot(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Iot.reduce((r,i)=>(r[i]="function",r),e);return uk(t,n)}function $ot(t,e,n){if(n<Tc)throw new Error("invalid exponent, negatives unsupported");if(n===Tc)return t.ONE;if(n===Ya)return e;let r=t.ONE,i=e;for(;n>Tc;)n&Ya&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ya;return r}function Kpe(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Gpe(t,e){const n=(t.ORDER-Ya)/Oy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Zpe(t,e){e!==void 0&&O1(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function UF(t,e,n=!1,r={}){if(t<=Tc)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Zpe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:lk(i),ZERO:Tc,ONE:Ya,create:c=>Pc(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Tc<=c&&c<t},is0:c=>c===Tc,isOdd:c=>(c&Ya)===Ya,neg:c=>Pc(-c,t),eql:(c,l)=>c===l,sqr:c=>Pc(c*c,t),add:(c,l)=>Pc(c+l,t),sub:(c,l)=>Pc(c-l,t),mul:(c,l)=>Pc(c*l,t),pow:(c,l)=>$ot(a,c,l),div:(c,l)=>Pc(c*LF(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>LF(c,t),sqrt:r.sqrt||(c=>(o||(o=Sot(t)),o(a,c))),toBytes:c=>n?Upe(c,s):Dx(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Lpe(c):Ny(c)},invertBatch:c=>Kpe(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Ype(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Jpe(t){const e=Ype(t);return e+Math.ceil(e/2)}function Tot(t,e,n=!1){const r=t.length,i=Ype(e),s=Jpe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Lpe(t):Ny(t),a=Pc(o,e-Ya)+Ya;return n?Upe(a,i):Dx(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qpe=BigInt(0),FF=BigInt(1);function zF(t,e){const n=e.negate();return t?n:e}function Xpe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function WF(t,e){Xpe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=lk(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function e0e(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=FF);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Pot(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Not(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const qF=new WeakMap,t0e=new WeakMap;function HF(t){return t0e.get(t)||1}function Oot(t,e){return{constTimeNegate:zF,hasPrecomputes(n){return HF(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Qpe;)r&FF&&(i=i.add(s)),s=s.double(),r>>=FF;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=WF(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=WF(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=e0e(i,c,a);i=l,d?o=o.add(zF(f,r[p])):s=s.add(zF(h,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=WF(n,e);for(let a=0;a<o.windows&&i!==Qpe;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=e0e(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=qF.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qF.set(r,i(s))),s},wNAFCached(n,r,i){const s=HF(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=HF(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Xpe(r,e),t0e.set(n,r),qF.delete(n)}}}function Rot(t,e,n,r){Pot(n,t),Not(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=bot(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=lk(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const w=r[m],y=Number(w>>BigInt(f)&l);u[y]=u[y].add(n[m])}let p=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),p=p.add(w);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function n0e(t){return kot(t.Fp),uk(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zpe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function r0e(t){t.lowS!==void 0&&jx("lowS",t.lowS),t.prehash!==void 0&&jx("prehash",t.prehash)}function Mot(t){const e=n0e(t);uk(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}const Zp={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=Zp;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=ok(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?ok(i.length/2|128):"";return ok(t)+s+i+e},decode(t,e){const{Err:n}=Zp;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Zp;if(t<Yp)throw new e("integer: negative integers are not allowed");let n=ok(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Zp;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ny(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Zp,i=Lu("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Zp,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function VF(t,e){return Bx(Dx(t,e))}const Yp=BigInt(0),Gs=BigInt(1);BigInt(2);const KF=BigInt(3),jot=BigInt(4);function Bot(t){const e=Mot(t),{Fp:n}=e,r=UF(e.n,e.nBitLength),i=e.toBytes||((v,E,_)=>{const T=E.toAffine();return ck(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),s=e.fromBytes||(v=>{const E=v.subarray(1),_=n.fromBytes(E.subarray(0,n.BYTES)),T=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:_,y:T}});function o(v){const{a:E,b:_}=e,T=n.sqr(v),I=n.mul(T,v);return n.add(n.add(I,n.mul(v,E)),_)}function a(v,E){const _=n.sqr(E),T=o(v);return n.eql(_,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,KF),jot),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(v){return BF(v,Gs,e.n)}function d(v){const{allowedPrivateKeyLengths:E,nByteLength:_,wrapPrivateKey:T,n:I}=e;if(E&&typeof v!="bigint"){if(Mx(v)&&(v=Bx(v)),typeof v!="string"||!E.includes(v.length))throw new Error("invalid private key");v=v.padStart(_*2,"0")}let R;try{R=typeof v=="bigint"?v:Ny(Lu("private key",v,_))}catch{throw new Error("invalid private key, expected hex or "+_+" bytes, got "+typeof v)}return T&&(R=Pc(R,I)),b2("private key",R,Gs,I),R}function h(v){if(!(v instanceof m))throw new Error("ProjectivePoint expected")}const f=zpe((v,E)=>{const{px:_,py:T,pz:I}=v;if(n.eql(I,n.ONE))return{x:_,y:T};const R=v.is0();E==null&&(E=R?n.ONE:n.inv(I));const S=n.mul(_,E),B=n.mul(T,E),j=n.mul(I,E);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(j,n.ONE))throw new Error("invZ was invalid");return{x:S,y:B}}),p=zpe(v=>{if(v.is0()){if(e.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:E,y:_}=v.toAffine();if(!n.isValid(E)||!n.isValid(_))throw new Error("bad point: x or y not FE");if(!a(E,_))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,_,T){if(E==null||!n.isValid(E))throw new Error("x required");if(_==null||!n.isValid(_)||n.is0(_))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");this.px=E,this.py=_,this.pz=T,Object.freeze(this)}static fromAffine(E){const{x:_,y:T}=E||{};if(!E||!n.isValid(_)||!n.isValid(T))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const I=R=>n.eql(R,n.ZERO);return I(_)&&I(T)?m.ZERO:new m(_,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const _=Kpe(n,E.map(T=>T.pz));return E.map((T,I)=>T.toAffine(_[I])).map(m.fromAffine)}static fromHex(E){const _=m.fromAffine(s(Lu("pointHex",E)));return _.assertValidity(),_}static fromPrivateKey(E){return m.BASE.multiply(d(E))}static msm(E,_){return Rot(m,r,E,_)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:_,py:T,pz:I}=this,{px:R,py:S,pz:B}=E,j=n.eql(n.mul(_,B),n.mul(R,I)),U=n.eql(n.mul(T,B),n.mul(S,I));return j&&U}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:_}=e,T=n.mul(_,KF),{px:I,py:R,pz:S}=this;let B=n.ZERO,j=n.ZERO,U=n.ZERO,M=n.mul(I,I),C=n.mul(R,R),x=n.mul(S,S),A=n.mul(I,R);return A=n.add(A,A),U=n.mul(I,S),U=n.add(U,U),B=n.mul(E,U),j=n.mul(T,x),j=n.add(B,j),B=n.sub(C,j),j=n.add(C,j),j=n.mul(B,j),B=n.mul(A,B),U=n.mul(T,U),x=n.mul(E,x),A=n.sub(M,x),A=n.mul(E,A),A=n.add(A,U),U=n.add(M,M),M=n.add(U,M),M=n.add(M,x),M=n.mul(M,A),j=n.add(j,M),x=n.mul(R,S),x=n.add(x,x),M=n.mul(x,A),B=n.sub(B,M),U=n.mul(x,C),U=n.add(U,U),U=n.add(U,U),new m(B,j,U)}add(E){h(E);const{px:_,py:T,pz:I}=this,{px:R,py:S,pz:B}=E;let j=n.ZERO,U=n.ZERO,M=n.ZERO;const C=e.a,x=n.mul(e.b,KF);let A=n.mul(_,R),N=n.mul(T,S),O=n.mul(I,B),P=n.add(_,T),D=n.add(R,S);P=n.mul(P,D),D=n.add(A,N),P=n.sub(P,D),D=n.add(_,I);let L=n.add(R,B);return D=n.mul(D,L),L=n.add(A,O),D=n.sub(D,L),L=n.add(T,I),j=n.add(S,B),L=n.mul(L,j),j=n.add(N,O),L=n.sub(L,j),M=n.mul(C,D),j=n.mul(x,O),M=n.add(j,M),j=n.sub(N,M),M=n.add(N,M),U=n.mul(j,M),N=n.add(A,A),N=n.add(N,A),O=n.mul(C,O),D=n.mul(x,D),N=n.add(N,O),O=n.sub(A,O),O=n.mul(C,O),D=n.add(D,O),A=n.mul(N,D),U=n.add(U,A),A=n.mul(L,D),j=n.mul(P,j),j=n.sub(j,A),A=n.mul(P,N),M=n.mul(L,M),M=n.add(M,A),new m(j,U,M)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return b.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:_,n:T}=e;b2("scalar",E,Yp,T);const I=m.ZERO;if(E===Yp)return I;if(this.is0()||E===Gs)return this;if(!_||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:R,k1:S,k2neg:B,k2:j}=_.splitScalar(E),U=I,M=I,C=this;for(;S>Yp||j>Yp;)S&Gs&&(U=U.add(C)),j&Gs&&(M=M.add(C)),C=C.double(),S>>=Gs,j>>=Gs;return R&&(U=U.negate()),B&&(M=M.negate()),M=new m(n.mul(M.px,_.beta),M.py,M.pz),U.add(M)}multiply(E){const{endo:_,n:T}=e;b2("scalar",E,Gs,T);let I,R;if(_){const{k1neg:S,k1:B,k2neg:j,k2:U}=_.splitScalar(E);let{p:M,f:C}=this.wNAF(B),{p:x,f:A}=this.wNAF(U);M=b.constTimeNegate(S,M),x=b.constTimeNegate(j,x),x=new m(n.mul(x.px,_.beta),x.py,x.pz),I=M.add(x),R=C.add(A)}else{const{p:S,f:B}=this.wNAF(E);I=S,R=B}return m.normalizeZ([I,R])[0]}multiplyAndAddUnsafe(E,_,T){const I=m.BASE,R=(B,j)=>j===Yp||j===Gs||!B.equals(I)?B.multiplyUnsafe(j):B.multiply(j),S=R(this,_).add(R(E,T));return S.is0()?void 0:S}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:_}=e;if(E===Gs)return!0;if(_)return _(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:_}=e;return E===Gs?this:_?_(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return jx("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return jx("isCompressed",E),Bx(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:y}=e,b=Oot(m,w?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function Dot(t){const e=n0e(t);return uk(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Lot(t){const e=Dot(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(x){return Pc(x,r)}function l(x){return LF(x,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=Bot({...e,toBytes(x,A,N){const O=A.toAffine(),P=n.toBytes(O.x),D=ck;return jx("isCompressed",N),N?D(Uint8Array.from([A.hasEvenY()?2:3]),P):D(Uint8Array.from([4]),P,n.toBytes(O.y))},fromBytes(x){const A=x.length,N=x[0],O=x.subarray(1);if(A===o&&(N===2||N===3)){const P=Ny(O);if(!BF(P,Gs,n.ORDER))throw new Error("Point is not on curve");const D=h(P);let L;try{L=n.sqrt(D)}catch(V){const F=V instanceof Error?": "+V.message:"";throw new Error("Point is not on curve"+F)}const $=(L&Gs)===Gs;return(N&1)===1!==$&&(L=n.neg(L)),{x:P,y:L}}else if(A===a&&N===4){const P=n.fromBytes(O.subarray(0,n.BYTES)),D=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:P,y:D}}else{const P=o,D=a;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+D+", got "+A)}}});function p(x){const A=r>>Gs;return x>A}function m(x){return p(x)?c(-x):x}const w=(x,A,N)=>Ny(x.slice(A,N));class y{constructor(A,N,O){b2("r",A,Gs,r),b2("s",N,Gs,r),this.r=A,this.s=N,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(A){const N=i;return A=Lu("compactSignature",A,N*2),new y(w(A,0,N),w(A,N,2*N))}static fromDER(A){const{r:N,s:O}=Zp.toSig(Lu("DER",A));return new y(N,O)}assertValidity(){}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:N,s:O,recovery:P}=this,D=I(Lu("msgHash",A));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const L=P===2||P===3?N+e.n:N;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=P&1?"03":"02",q=u.fromHex($+VF(L,n.BYTES)),V=l(L),F=c(-D*V),Z=c(O*V),X=u.BASE.multiplyAndAddUnsafe(q,F,Z);if(!X)throw new Error("point at infinify");return X.assertValidity(),X}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ak(this.toDERHex())}toDERHex(){return Zp.hexFromSig(this)}toCompactRawBytes(){return ak(this.toCompactHex())}toCompactHex(){const A=i;return VF(this.r,A)+VF(this.s,A)}}const b={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const x=Jpe(e.n);return Tot(e.randomBytes(x),e.n)},precompute(x=8,A=u.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}};function v(x,A=!0){return u.fromPrivateKey(x).toRawBytes(A)}function E(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;const N=Lu("key",x).length,O=n.BYTES,P=O+1,D=2*O+1;if(!(e.allowedPrivateKeyLengths||i===P))return N===P||N===D}function _(x,A,N=!0){if(E(x)===!0)throw new Error("first arg must be private key");if(E(A)===!1)throw new Error("second arg must be public key");return u.fromHex(A).multiply(d(x)).toRawBytes(N)}const T=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=Ny(x),N=x.length*8-s;return N>0?A>>BigInt(N):A},I=e.bits2int_modN||function(x){return c(T(x))},R=lk(s);function S(x){return b2("num < 2^"+s,x,Yp,R),Dx(x,i)}function B(x,A,N=j){if(["recovered","canonical"].some(te=>te in N))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:P}=e;let{lowS:D,prehash:L,extraEntropy:$}=N;D==null&&(D=!0),x=Lu("msgHash",x),r0e(N),L&&(x=Lu("prehashed msgHash",O(x)));const q=I(x),V=d(A),F=[S(V),S(q)];if($!=null&&$!==!1){const te=$===!0?P(n.BYTES):$;F.push(Lu("extraEntropy",te))}const Z=ck(...F),X=q;function Y(te){const fe=T(te);if(!f(fe))return;const he=l(fe),pe=u.BASE.multiply(fe).toAffine(),be=c(pe.x);if(be===Yp)return;const ge=c(he*c(X+be*V));if(ge===Yp)return;let ye=(pe.x===be?0:2)|Number(pe.y&Gs),ft=ge;return D&&p(ge)&&(ft=m(ge),ye^=1),new y(be,ft,ye)}return{seed:Z,k2sig:Y}}const j={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function M(x,A,N=j){const{seed:O,k2sig:P}=B(x,A,N),D=e;return xot(D.hash.outputLen,D.nByteLength,D.hmac)(O,P)}u.BASE._setWindowSize(8);function C(x,A,N,O=U){var ye;const P=x;A=Lu("msgHash",A),N=Lu("publicKey",N);const{lowS:D,prehash:L,format:$}=O;if(r0e(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if($!==void 0&&$!=="compact"&&$!=="der")throw new Error("format must be compact or der");const q=typeof P=="string"||Mx(P),V=!q&&!$&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!q&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,Z;try{if(V&&(F=new y(P.r,P.s)),q){try{$!=="compact"&&(F=y.fromDER(P))}catch(ft){if(!(ft instanceof Zp.Err))throw ft}!F&&$!=="der"&&(F=y.fromCompact(P))}Z=u.fromHex(N)}catch{return!1}if(!F||D&&F.hasHighS())return!1;L&&(A=e.hash(A));const{r:X,s:Y}=F,te=I(A),fe=l(Y),he=c(te*fe),pe=c(X*fe),be=(ye=u.BASE.multiplyAndAddUnsafe(Z,he,pe))==null?void 0:ye.toAffine();return be?c(be.x)===X:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:_,sign:M,verify:C,ProjectivePoint:u,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uot(t){return{hash:t,hmac:(e,...n)=>IA(t,e,Eu(...n)),randomBytes:A4}}function Fot(t,e){const n=r=>Lot({...t,...Uot(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i0e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),s0e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),zot=BigInt(0),Wot=BigInt(1),GF=BigInt(2),o0e=(t,e)=>(t+e/GF)/e;function qot(t){const e=i0e,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Uu(u,n,e)*u%e,h=Uu(d,n,e)*u%e,f=Uu(h,GF,e)*l%e,p=Uu(f,i,e)*f%e,m=Uu(p,s,e)*p%e,w=Uu(m,a,e)*m%e,y=Uu(w,c,e)*w%e,b=Uu(y,a,e)*m%e,v=Uu(b,n,e)*u%e,E=Uu(v,o,e)*p%e,_=Uu(E,r,e)*l%e,T=Uu(_,GF,e);if(!ZF.eql(ZF.sqr(T),t))throw new Error("Cannot find square root");return T}const ZF=UF(i0e,void 0,void 0,{sqrt:qot}),Hot=Fot({a:zot,b:BigInt(7),Fp:ZF,n:s0e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=s0e,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Wot*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=o0e(s*t,e),c=o0e(-r*t,e);let l=Pc(t-a*n-c*i,e),u=Pc(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},O4),Vot=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Hot},Symbol.toStringTag,{value:"Module"}));function Kot(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*s+1>>>0,m=new Uint8Array(p);for(;h!==f;){let b=l[h],v=0;for(let E=p-1;(b!==0||v<d)&&E!==-1;E--,v++)b+=256*m[E]>>>0,m[E]=b%n>>>0,b=b/n>>>0;if(b!==0)throw new Error("Non-zero carry");d=v,h++}let w=p-d;for(;w!==p&&m[w]===0;)w++;let y=r.repeat(u);for(;w<p;++w)y+=t.charAt(m[w]);return y}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*i+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let E=0;for(let _=f-1;(v!==0||E<h)&&_!==-1;_--,E++)v+=n*p[_]>>>0,p[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");h=E,u++}let m=f-h;for(;m!==f&&p[m]===0;)m++;const w=new Uint8Array(d+(f-m));let y=d;for(;m!==f;)w[y++]=p[m++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Got="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const nm=Kot(Got);function Zot(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Yot(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let o=t.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const Jot=new TextEncoder,Qot=50;function Xot(t,e,n){Jot.encodeInto(t,e.subarray(n))}function eat(t,e,n){t.length>Qot?Xot(t,e,n):Yot(t,e,n)}const tat=4096;function a0e(t,e,n){let r=e;const i=r+n,s=[];let o="";for(;r<i;){const a=t[r++];if(!(a&128))s.push(a);else if((a&224)===192){const c=t[r++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[r++]&63,l=t[r++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[r++]&63,l=t[r++]&63,u=t[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(a);s.length>=tat&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const nat=new TextDecoder,rat=200;function iat(t,e,n){const r=t.subarray(e,e+n);return nat.decode(r)}function sat(t,e,n){return n>rat?iat(t,e,n):a0e(t,e,n)}class dk{constructor(e,n){this.type=e,this.data=n}}class Bl extends Error{constructor(e){super(e);const n=Object.create(Bl.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Bl.name})}}const Lx=4294967295;function oat(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function c0e(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function l0e(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function aat(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const cat=-1,lat=4294967296-1,uat=17179869184-1;function dat({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=uat)if(e===0&&t<=lat){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),c0e(r,4,t),n}}function hat(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function fat(t){if(t instanceof Date){const e=hat(t);return dat(e)}else return null}function pat(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=l0e(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Bl(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function gat(t){const e=pat(t);return new Date(e.sec*1e3+e.nsec/1e6)}const mat={type:cat,encode:fat,decode:gat};class hk{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(mat)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=-1-r;return new dk(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const o=r;return new dk(o,s)}}}return e instanceof dk?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new dk(n,e)}}hk.defaultCodec=new hk;function yat(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function YF(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):yat(t)?new Uint8Array(t):Uint8Array.from(t)}const wat=100,vat=2048;let bat=class PAe{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??hk.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??wat,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??vat,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new PAe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=Zot(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),eat(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=YF(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),oat(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),c0e(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function xat(t,e){return new bat(e).encodeSharedRef(t)}function JF(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Eat=16,Cat=16;class _at{constructor(e=Eat,n=Cat){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[n+a])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=a0e(e,n,r),o=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(o,s),s}}const QF="array",Ux="map_key",u0e="map_value",Aat=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Bl("The type of key must be string or number but "+typeof t)};class Sat{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=QF,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Ux,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===QF){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Ux||e.type===u0e){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Fx=-1,XF=new DataView(new ArrayBuffer(0)),Iat=new Uint8Array(XF.buffer);try{XF.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const d0e=new RangeError("Insufficient data"),kat=new _at;let $at=class NAe{constructor(e){this.totalPos=0,this.pos=0,this.view=XF,this.bytes=Iat,this.headByte=Fx,this.stack=new Sat,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??hk.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??Lx,this.maxBinLength=(e==null?void 0:e.maxBinLength)??Lx,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??Lx,this.maxMapLength=(e==null?void 0:e.maxMapLength)??Lx,this.maxExtLength=(e==null?void 0:e.maxExtLength)??Lx,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:kat,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Aat}clone(){return new NAe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Fx,this.stack.reset()}setBuffer(e){const n=YF(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Fx&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=YF(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const a of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${JF(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Bl(`Unrecognized type byte: ${JF(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===QF)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===Ux){if(n==="__proto__")throw new Bl("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=u0e;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=Ux;continue e}}return n}}readHeadByte(){return this.headByte===Fx&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Fx}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Bl(`Unrecognized array type byte: ${JF(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Bl(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Bl(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var s;if(e>this.maxStrLength)throw new Bl(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw d0e;const r=this.pos+n;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=sat(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Ux:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Bl(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw d0e;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Bl(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=aat(this.view,this.pos);return this.pos+=8,e}readI64(){const e=l0e(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Tat(t,e){return new $at(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function f0e(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function fk(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function zx(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function pk(t){if(!Array.isArray(t))throw new Error("array expected")}function gk(t,e){if(!f0e(!0,e))throw new Error(`${t}: array of strings expected`)}function p0e(t,e){if(!f0e(!1,e))throw new Error(`${t}: array of numbers expected`)}function g0e(...t){const e=s=>s,n=(s,o)=>a=>s(o(a)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function m0e(t){const e=typeof t=="string"?t.split(""):t,n=e.length;gk("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(pk(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(pk(i),i.map(s=>{fk("alphabet.decode",s);const o=r.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function y0e(t=""){return fk("join",t),{encode:e=>(gk("join.decode",e),e.join(t)),decode:e=>(fk("join.decode",e),e.split(t))}}function Pat(t,e="="){return zx(t),fk("padding",e),{encode(n){for(gk("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){gk("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function w0e(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(pk(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,a=>{if(zx(a),a<0||a>=e)throw new Error(`invalid integer: ${a}`);return a}),o=s.length;for(;;){let a=0,c=!0;for(let l=r;l<o;l++){const u=s[l],d=e*a,h=d+u;if(!Number.isSafeInteger(h)||d/e!==a||h-u!==d)throw new Error("convertRadix: carry overflow");const f=h/n;a=h%n;const p=Math.floor(f);if(s[l]=p,!Number.isSafeInteger(p)||p*n+a!==h)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:r=l;else continue}if(i.push(a),c)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}const v0e=(t,e)=>e===0?t:v0e(e,t%e),mk=(t,e)=>t+(e-v0e(t,e)),ez=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function b0e(t,e,n,r){if(pk(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(mk(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${mk(e,n)}`);let i=0,s=0;const o=ez[e],a=ez[n]-1,c=[];for(const l of t){if(zx(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)c.push((i>>s-n&a)>>>0);const u=ez[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<n-s&a,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&c.push(i>>>0),c}function Nat(t){zx(t);const e=2**8;return{encode:n=>{if(!h0e(n))throw new Error("radix.encode input should be Uint8Array");return w0e(Array.from(n),e,t)},decode:n=>(p0e("radix.decode",n),Uint8Array.from(w0e(n,t,e)))}}function Oat(t,e=!1){if(zx(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(mk(8,t)>32||mk(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!h0e(n))throw new Error("radix2.encode input should be Uint8Array");return b0e(Array.from(n),8,t,!e)},decode:n=>(p0e("radix2.decode",n),Uint8Array.from(b0e(n,t,8,e)))}}const Rat=g0e(Oat(5),m0e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Pat(5),y0e("")),Mat=(t=>g0e(Nat(58),m0e(t),y0e("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),jat=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Bat=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Xd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Bat(t)}catch{return t}}function Nc(t){return typeof t=="string"?t:jat(t)||""}function Dat(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function x0e(t,...e){if(!Dat(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function E0e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Lat(t,e){x0e(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const x2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tz=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Uat(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function C0e(t){return typeof t=="string"&&(t=Uat(t)),x0e(t),t}let Fat=class{clone(){return this._cloneInto()}};function zat(t){const e=r=>t().update(C0e(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function _0e(t=32){if(x2&&typeof x2.getRandomValues=="function")return x2.getRandomValues(new Uint8Array(t));if(x2&&typeof x2.randomBytes=="function")return x2.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Wat(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let qat=class extends Fat{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tz(this.buffer)}update(e){E0e(this);const{view:n,buffer:r,blockLen:i}=this;e=C0e(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=tz(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){E0e(this),Lat(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Wat(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=tz(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const yk=BigInt(2**32-1),nz=BigInt(32);function A0e(t,e=!1){return e?{h:Number(t&yk),l:Number(t>>nz&yk)}:{h:Number(t>>nz&yk)|0,l:Number(t&yk)|0}}function Hat(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=A0e(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Vat=(t,e)=>BigInt(t>>>0)<<nz|BigInt(e>>>0),Kat=(t,e,n)=>t>>>n,Gat=(t,e,n)=>t<<32-n|e>>>n,Zat=(t,e,n)=>t>>>n|e<<32-n,Yat=(t,e,n)=>t<<32-n|e>>>n,Jat=(t,e,n)=>t<<64-n|e>>>n-32,Qat=(t,e,n)=>t>>>n-32|e<<64-n,Xat=(t,e)=>e,ect=(t,e)=>t,tct=(t,e,n)=>t<<n|e>>>32-n,nct=(t,e,n)=>e<<n|t>>>32-n,rct=(t,e,n)=>e<<n-32|t>>>64-n,ict=(t,e,n)=>t<<n-32|e>>>64-n;function sct(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const oct=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),act=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,cct=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),lct=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,uct=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),dct=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,xn={fromBig:A0e,split:Hat,toBig:Vat,shrSH:Kat,shrSL:Gat,rotrSH:Zat,rotrSL:Yat,rotrBH:Jat,rotrBL:Qat,rotr32H:Xat,rotr32L:ect,rotlSH:tct,rotlSL:nct,rotlBH:rct,rotlBL:ict,add:sct,add3L:oct,add3H:act,add4L:cct,add4H:lct,add5H:dct,add5L:uct},[hct,fct]=xn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),rm=new Uint32Array(80),im=new Uint32Array(80);let pct=class extends qat{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:w}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)rm[v]=e.getUint32(n),im[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=rm[v-15]|0,_=im[v-15]|0,T=xn.rotrSH(E,_,1)^xn.rotrSH(E,_,8)^xn.shrSH(E,_,7),I=xn.rotrSL(E,_,1)^xn.rotrSL(E,_,8)^xn.shrSL(E,_,7),R=rm[v-2]|0,S=im[v-2]|0,B=xn.rotrSH(R,S,19)^xn.rotrBH(R,S,61)^xn.shrSH(R,S,6),j=xn.rotrSL(R,S,19)^xn.rotrBL(R,S,61)^xn.shrSL(R,S,6),U=xn.add4L(I,j,im[v-7],im[v-16]),M=xn.add4H(U,T,B,rm[v-7],rm[v-16]);rm[v]=M|0,im[v]=U|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const E=xn.rotrSH(d,h,14)^xn.rotrSH(d,h,18)^xn.rotrBH(d,h,41),_=xn.rotrSL(d,h,14)^xn.rotrSL(d,h,18)^xn.rotrBL(d,h,41),T=d&f^~d&m,I=h&p^~h&w,R=xn.add5L(b,_,I,fct[v],im[v]),S=xn.add5H(R,y,E,T,hct[v],rm[v]),B=R|0,j=xn.rotrSH(r,i,28)^xn.rotrBH(r,i,34)^xn.rotrBH(r,i,39),U=xn.rotrSL(r,i,28)^xn.rotrBL(r,i,34)^xn.rotrBL(r,i,39),M=r&s^r&a^s&a,C=i&o^i&c^o&c;y=m|0,b=w|0,m=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=xn.add(l|0,u|0,S|0,B|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const x=xn.add3L(B,U,C);r=xn.add3H(x,S,j,M),i=x|0}({h:r,l:i}=xn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=xn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=xn.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=xn.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=xn.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=xn.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:w}=xn.add(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=xn.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,c,l,u,d,h,f,p,m,w,y,b)}roundClean(){rm.fill(0),im.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const gct=zat(()=>new pct);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rz=BigInt(0),S0e=BigInt(1),mct=BigInt(2);function iz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sz(t){if(!iz(t))throw new Error("Uint8Array expected")}function oz(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const yct=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function az(t){sz(t);let e="";for(let n=0;n<t.length;n++)e+=yct[t[n]];return e}function I0e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?rz:BigInt("0x"+t)}const Jp={_0:48,_9:57,A:65,F:70,a:97,f:102};function k0e(t){if(t>=Jp._0&&t<=Jp._9)return t-Jp._0;if(t>=Jp.A&&t<=Jp.F)return t-(Jp.A-10);if(t>=Jp.a&&t<=Jp.f)return t-(Jp.a-10)}function $0e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=k0e(t.charCodeAt(s)),a=k0e(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function wct(t){return I0e(az(t))}function wk(t){return sz(t),I0e(az(Uint8Array.from(t).reverse()))}function T0e(t,e){return $0e(t.toString(16).padStart(e*2,"0"))}function cz(t,e){return T0e(t,e).reverse()}function Qp(t,e,n){let r;if(typeof e=="string")try{r=$0e(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(iz(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function P0e(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sz(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const lz=t=>typeof t=="bigint"&&rz<=t;function vct(t,e,n){return lz(t)&&lz(e)&&lz(n)&&e<=t&&t<n}function Wx(t,e,n,r){if(!vct(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function bct(t){let e;for(e=0;t>rz;t>>=S0e,e+=1);return e}const xct=t=>(mct<<BigInt(t-1))-S0e,Ect={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||iz(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function uz(t,e,n={}){const r=(i,s,o)=>{const a=Ect[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function N0e(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Zs=BigInt(0),Qi=BigInt(1),Ry=BigInt(2),Cct=BigInt(3),dz=BigInt(4),O0e=BigInt(5),R0e=BigInt(8);function Ns(t,e){const n=t%e;return n>=Zs?n:e+n}function _ct(t,e,n){if(e<Zs)throw new Error("invalid exponent, negatives unsupported");if(n<=Zs)throw new Error("invalid modulus");if(n===Qi)return Zs;let r=Qi;for(;e>Zs;)e&Qi&&(r=r*t%n),t=t*t%n,e>>=Qi;return r}function wf(t,e,n){let r=t;for(;e-- >Zs;)r*=r,r%=n;return r}function M0e(t,e){if(t===Zs)throw new Error("invert: expected non-zero number");if(e<=Zs)throw new Error("invert: expected positive modulus, got "+e);let n=Ns(t,e),r=e,i=Zs,s=Qi;for(;n!==Zs;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Qi)throw new Error("invert: does not exist");return Ns(i,e)}function Act(t){const e=(t-Qi)/Ry;let n,r,i;for(n=t-Qi,r=0;n%Ry===Zs;n/=Ry,r++);for(i=Ry;i<t&&_ct(i,e,t)!==t-Qi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Qi)/dz;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+Qi)/Ry;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,Qi<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Sct(t){if(t%dz===Cct){const e=(t+Qi)/dz;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%R0e===O0e){const e=(t-O0e)/R0e;return function(n,r){const i=n.mul(r,Ry),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Ry),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Act(t)}const Ict=(t,e)=>(Ns(t,e)&Qi)===Qi,kct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $ct(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kct.reduce((r,i)=>(r[i]="function",r),e);return uz(t,n)}function Tct(t,e,n){if(n<Zs)throw new Error("invalid exponent, negatives unsupported");if(n===Zs)return t.ONE;if(n===Qi)return e;let r=t.ONE,i=e;for(;n>Zs;)n&Qi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Qi;return r}function Pct(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function j0e(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function B0e(t,e,n=!1,r={}){if(t<=Zs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=j0e(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:xct(i),ZERO:Zs,ONE:Qi,create:c=>Ns(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Zs<=c&&c<t},is0:c=>c===Zs,isOdd:c=>(c&Qi)===Qi,neg:c=>Ns(-c,t),eql:(c,l)=>c===l,sqr:c=>Ns(c*c,t),add:(c,l)=>Ns(c+l,t),sub:(c,l)=>Ns(c-l,t),mul:(c,l)=>Ns(c*l,t),pow:(c,l)=>Tct(a,c,l),div:(c,l)=>Ns(c*M0e(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>M0e(c,t),sqrt:r.sqrt||(c=>(o||(o=Sct(t)),o(a,c))),invertBatch:c=>Pct(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?cz(c,s):T0e(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?wk(c):wct(c)}});return Object.freeze(a)}const D0e=BigInt(0),vk=BigInt(1);function hz(t,e){const n=e.negate();return t?n:e}function L0e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function fz(t,e){L0e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Nct(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Oct(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const pz=new WeakMap,U0e=new WeakMap;function gz(t){return U0e.get(t)||1}function Rct(t,e){return{constTimeNegate:hz,hasPrecomputes(n){return gz(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>D0e;)r&vk&&(i=i.add(s)),s=s.double(),r>>=vk;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=fz(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=fz(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let p=Number(i&l);i>>=d,p>o&&(p-=u,i+=vk);const m=f,w=f+Math.abs(p)-1,y=h%2!==0,b=p<0;p===0?c=c.add(hz(y,r[m])):a=a.add(hz(b,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=fz(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===D0e)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=vk),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=pz.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&pz.set(r,i(s))),s},wNAFCached(n,r,i){const s=gz(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=gz(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){L0e(r,e),U0e.set(n,r),pz.delete(n)}}}function Mct(t,e,n,r){if(Nct(n,t),Oct(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=bct(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function jct(t){return $ct(t.Fp),uz(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...j0e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const eh=BigInt(0),Oc=BigInt(1),bk=BigInt(2),Bct=BigInt(8),Dct={zip215:!0};function Lct(t){const e=jct(t);return uz(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Uct(t){const e=Lct(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=bk<<BigInt(a*8)-Oc,u=n.create,d=B0e(e.n,e.nBitLength),h=e.uvRatio||((x,A)=>{try{return{isValid:!0,value:n.sqrt(x*n.inv(A))}}catch{return{isValid:!1,value:eh}}}),f=e.adjustScalarBytes||(x=>x),p=e.domain||((x,A,N)=>{if(oz("phflag",N),A.length||N)throw new Error("Contexts/pre-hash are not supported");return x});function m(x,A){Wx("coordinate "+x,A,eh,l)}function w(x){if(!(x instanceof v))throw new Error("ExtendedPoint expected")}const y=N0e((x,A)=>{const{ex:N,ey:O,ez:P}=x,D=x.is0();A==null&&(A=D?Bct:n.inv(P));const L=u(N*A),$=u(O*A),q=u(P*A);if(D)return{x:eh,y:Oc};if(q!==Oc)throw new Error("invZ was invalid");return{x:L,y:$}}),b=N0e(x=>{const{a:A,d:N}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:O,ey:P,ez:D,et:L}=x,$=u(O*O),q=u(P*P),V=u(D*D),F=u(V*V),Z=u($*A),X=u(V*u(Z+q)),Y=u(F+u(N*u($*q)));if(X!==Y)throw new Error("bad point: equation left != right (1)");const te=u(O*P),fe=u(D*L);if(te!==fe)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(A,N,O,P){this.ex=A,this.ey=N,this.ez=O,this.et=P,m("x",A),m("y",N),m("z",O),m("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof v)throw new Error("extended point not allowed");const{x:N,y:O}=A||{};return m("x",N),m("y",O),new v(N,O,Oc,u(N*O))}static normalizeZ(A){const N=n.invertBatch(A.map(O=>O.ez));return A.map((O,P)=>O.toAffine(N[P])).map(v.fromAffine)}static msm(A,N){return Mct(v,d,A,N)}_setWindowSize(A){T.setWindowSize(this,A)}assertValidity(){b(this)}equals(A){w(A);const{ex:N,ey:O,ez:P}=this,{ex:D,ey:L,ez:$}=A,q=u(N*$),V=u(D*P),F=u(O*$),Z=u(L*P);return q===V&&F===Z}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:A}=e,{ex:N,ey:O,ez:P}=this,D=u(N*N),L=u(O*O),$=u(bk*u(P*P)),q=u(A*D),V=N+O,F=u(u(V*V)-D-L),Z=q+L,X=Z-$,Y=q-L,te=u(F*X),fe=u(Z*Y),he=u(F*Y),pe=u(X*Z);return new v(te,fe,pe,he)}add(A){w(A);const{a:N,d:O}=e,{ex:P,ey:D,ez:L,et:$}=this,{ex:q,ey:V,ez:F,et:Z}=A;if(N===BigInt(-1)){const Oe=u((D-P)*(V+q)),Ee=u((D+P)*(V-q)),$e=u(Ee-Oe);if($e===eh)return this.double();const zt=u(L*bk*Z),Se=u($*bk*F),qe=Se+zt,Ye=Ee+Oe,kt=Se-zt,K=u(qe*$e),z=u(Ye*kt),W=u(qe*kt),J=u($e*Ye);return new v(K,z,J,W)}const X=u(P*q),Y=u(D*V),te=u($*O*Z),fe=u(L*F),he=u((P+D)*(q+V)-X-Y),pe=fe-te,be=fe+te,ge=u(Y-N*X),ye=u(he*pe),ft=u(be*ge),we=u(he*ge),Me=u(pe*be);return new v(ye,ft,Me,we)}subtract(A){return this.add(A.negate())}wNAF(A){return T.wNAFCached(this,A,v.normalizeZ)}multiply(A){const N=A;Wx("scalar",N,Oc,r);const{p:O,f:P}=this.wNAF(N);return v.normalizeZ([O,P])[0]}multiplyUnsafe(A,N=v.ZERO){const O=A;return Wx("scalar",O,eh,r),O===eh?_:this.is0()||O===Oc?this:T.wNAFCachedUnsafe(this,O,v.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(A){return y(this,A)}clearCofactor(){const{h:A}=e;return A===Oc?this:this.multiplyUnsafe(A)}static fromHex(A,N=!1){const{d:O,a:P}=e,D=n.BYTES;A=Qp("pointHex",A,D),oz("zip215",N);const L=A.slice(),$=A[D-1];L[D-1]=$&-129;const q=wk(L),V=N?l:n.ORDER;Wx("pointHex.y",q,eh,V);const F=u(q*q),Z=u(F-Oc),X=u(O*F-P);let{isValid:Y,value:te}=h(Z,X);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const fe=(te&Oc)===Oc,he=($&128)!==0;if(!N&&te===eh&&he)throw new Error("Point.fromHex: x=0 and x_0=1");return he!==fe&&(te=u(-te)),v.fromAffine({x:te,y:q})}static fromPrivateKey(A){return S(A).point}toRawBytes(){const{x:A,y:N}=this.toAffine(),O=cz(N,n.BYTES);return O[O.length-1]|=A&Oc?128:0,O}toHex(){return az(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,Oc,u(e.Gx*e.Gy)),v.ZERO=new v(eh,Oc,Oc,eh);const{BASE:E,ZERO:_}=v,T=Rct(v,a*8);function I(x){return Ns(x,r)}function R(x){return I(wk(x))}function S(x){const A=n.BYTES;x=Qp("private key",x,A);const N=Qp("hashed private key",s(x),2*A),O=f(N.slice(0,A)),P=N.slice(A,2*A),D=R(O),L=E.multiply(D),$=L.toRawBytes();return{head:O,prefix:P,scalar:D,point:L,pointBytes:$}}function B(x){return S(x).pointBytes}function j(x=new Uint8Array,...A){const N=P0e(...A);return R(s(p(N,Qp("context",x),!!i)))}function U(x,A,N={}){x=Qp("message",x),i&&(x=i(x));const{prefix:O,scalar:P,pointBytes:D}=S(A),L=j(N.context,O,x),$=E.multiply(L).toRawBytes(),q=j(N.context,$,D,x),V=I(L+q*P);Wx("signature.s",V,eh,r);const F=P0e($,cz(V,n.BYTES));return Qp("result",F,n.BYTES*2)}const M=Dct;function C(x,A,N,O=M){const{context:P,zip215:D}=O,L=n.BYTES;x=Qp("signature",x,2*L),A=Qp("message",A),N=Qp("publicKey",N,L),D!==void 0&&oz("zip215",D),i&&(A=i(A));const $=wk(x.slice(L,2*L));let q,V,F;try{q=v.fromHex(N,D),V=v.fromHex(x.slice(0,L),D),F=E.multiplyUnsafe($)}catch{return!1}if(!D&&q.isSmallOrder())return!1;const Z=j(P,V.toRawBytes(),q.toRawBytes(),A);return V.add(q.multiplyUnsafe(Z)).subtract(F).clearCofactor().equals(v.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:U,verify:C,ExtendedPoint:v,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(n.BYTES),precompute(x=8,A=v.BASE){return A._setWindowSize(x),A.multiply(BigInt(3)),A}}}}BigInt(0),BigInt(1);const mz=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),F0e=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Fct=BigInt(1),z0e=BigInt(2);BigInt(3);const zct=BigInt(5),Wct=BigInt(8);function qct(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=mz,o=t*t%s*t%s,a=wf(o,z0e,s)*o%s,c=wf(a,Fct,s)*t%s,l=wf(c,zct,s)*c%s,u=wf(l,e,s)*l%s,d=wf(u,n,s)*u%s,h=wf(d,r,s)*d%s,f=wf(h,i,s)*h%s,p=wf(f,i,s)*h%s,m=wf(p,e,s)*l%s;return{pow_p_5_8:wf(m,z0e,s)*t%s,b2:o}}function Hct(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Vct(t,e){const n=mz,r=Ns(e*e*e,n),i=Ns(r*r*e,n),s=qct(t*i).pow_p_5_8;let o=Ns(t*r*s,n);const a=Ns(e*o*o,n),c=o,l=Ns(o*F0e,n),u=a===t,d=a===Ns(-t,n),h=a===Ns(-t*F0e,n);return u&&(o=c),(d||h)&&(o=l),Ict(o,n)&&(o=Ns(-o,n)),{isValid:u||d,value:o}}const Kct=B0e(mz,void 0,!0),Gct={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Kct,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Wct,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gct,randomBytes:_0e,adjustScalarBytes:Hct,uvRatio:Vct},W0e=Uct(Gct),Zct="EdDSA",Yct="JWT",xk=".",Ek="base64url",q0e="utf8",H0e="utf8",Jct=":",Qct="did",Xct="key",V0e="base58btc",elt="z",tlt="K36",nlt=32;function yz(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function K0e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?yz(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function G0e(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=K0e(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return yz(n)}function rlt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],T=0,I=v-1;(_!==0||T<w)&&I!==-1;I--,T++)_+=256*E[I]>>>0,E[I]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=T,y++}for(var R=v-w;R!==v&&E[R]===0;)R++;for(var S=c.repeat(m);R<v;++R)S+=t.charAt(E[R]);return S}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,T=b-1;(E!==0||_<y)&&T!==-1;T--,_++)E+=a*v[T]>>>0,v[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var I=b-y;I!==b&&v[I]===0;)I++;for(var R=new Uint8Array(w+(b-I)),S=w;I!==b;)R[S++]=v[I++];return R}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var ilt=rlt,slt=ilt;const Z0e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},olt=t=>new TextEncoder().encode(t),alt=t=>new TextDecoder().decode(t);let clt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},llt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Y0e(this,e)}},ult=class{constructor(e){this.decoders=e}or(e){return Y0e(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Y0e=(t,e)=>new ult({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let dlt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new clt(e,n,r),this.decoder=new llt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ck=({name:t,prefix:e,encode:n,decode:r})=>new dlt(t,e,n,r),qx=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=slt(n,e);return Ck({prefix:t,name:e,encode:r,decode:s=>Z0e(i(s))})},hlt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},flt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Co=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ck({prefix:e,name:t,encode(i){return flt(i,r,n)},decode(i){return hlt(i,r,n,t)}}),plt=Ck({prefix:"\0",name:"identity",encode:t=>alt(t),decode:t=>olt(t)});var glt=Object.freeze({__proto__:null,identity:plt});const mlt=Co({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ylt=Object.freeze({__proto__:null,base2:mlt});const wlt=Co({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vlt=Object.freeze({__proto__:null,base8:wlt});const blt=qx({prefix:"9",name:"base10",alphabet:"0123456789"});var xlt=Object.freeze({__proto__:null,base10:blt});const Elt=Co({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Clt=Co({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _lt=Object.freeze({__proto__:null,base16:Elt,base16upper:Clt});const Alt=Co({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Slt=Co({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ilt=Co({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),klt=Co({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$lt=Co({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Tlt=Co({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Plt=Co({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Nlt=Co({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Olt=Co({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rlt=Object.freeze({__proto__:null,base32:Alt,base32upper:Slt,base32pad:Ilt,base32padupper:klt,base32hex:$lt,base32hexupper:Tlt,base32hexpad:Plt,base32hexpadupper:Nlt,base32z:Olt});const Mlt=qx({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jlt=qx({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Blt=Object.freeze({__proto__:null,base36:Mlt,base36upper:jlt});const Dlt=qx({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Llt=qx({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ult=Object.freeze({__proto__:null,base58btc:Dlt,base58flickr:Llt});const Flt=Co({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zlt=Co({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wlt=Co({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qlt=Co({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Hlt=Object.freeze({__proto__:null,base64:Flt,base64pad:zlt,base64url:Wlt,base64urlpad:qlt});const J0e=Array.from(""),Vlt=J0e.reduce((t,e,n)=>(t[n]=e,t),[]),Klt=J0e.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Glt(t){return t.reduce((e,n)=>(e+=Vlt[n],e),"")}function Zlt(t){const e=[];for(const n of t){const r=Klt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Ylt=Ck({prefix:"",name:"base256emoji",encode:Glt,decode:Zlt});var Jlt=Object.freeze({__proto__:null,base256emoji:Ylt}),Qlt=X0e,Q0e=128,Xlt=-128,eut=Math.pow(2,31);function X0e(t,e,n){e=e||[],n=n||0;for(var r=n;t>=eut;)e[n++]=t&255|Q0e,t/=128;for(;t&Xlt;)e[n++]=t&255|Q0e,t>>>=7;return e[n]=t|0,X0e.bytes=n-r+1,e}var tut=wz,nut=128,ege=127;function wz(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw wz.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&ege)<<i:(o&ege)*Math.pow(2,i),i+=7}while(o>=nut);return wz.bytes=s-r,n}var rut=Math.pow(2,7),iut=Math.pow(2,14),sut=Math.pow(2,21),out=Math.pow(2,28),aut=Math.pow(2,35),cut=Math.pow(2,42),lut=Math.pow(2,49),uut=Math.pow(2,56),dut=Math.pow(2,63),hut=function(t){return t<rut?1:t<iut?2:t<sut?3:t<out?4:t<aut?5:t<cut?6:t<lut?7:t<uut?8:t<dut?9:10},fut={encode:Qlt,decode:tut,encodingLength:hut},tge=fut;const nge=(t,e,n=0)=>(tge.encode(t,e,n),e),rge=t=>tge.encodingLength(t),vz=(t,e)=>{const n=e.byteLength,r=rge(t),i=r+rge(n),s=new Uint8Array(i+n);return nge(t,s,0),nge(n,s,r),s.set(e,i),new put(t,n,e,s)};let put=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const ige=({name:t,code:e,encode:n})=>new gut(t,e,n);let gut=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?vz(this.code,n):n.then(r=>vz(this.code,r))}else throw Error("Unknown type, must be binary type")}};const sge=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),mut=ige({name:"sha2-256",code:18,encode:sge("SHA-256")}),yut=ige({name:"sha2-512",code:19,encode:sge("SHA-512")});var wut=Object.freeze({__proto__:null,sha256:mut,sha512:yut});const oge=0,vut="identity",age=Z0e;var but=Object.freeze({__proto__:null,identity:{code:oge,name:vut,encode:age,digest:t=>vz(oge,age(t))}});new TextEncoder,new TextDecoder;const cge={...glt,...ylt,...vlt,...xlt,..._lt,...Rlt,...Blt,...Ult,...Hlt,...Jlt};({...wut,...but});function lge(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const uge=lge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),bz=lge("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=K0e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),dge={utf8:uge,"utf-8":uge,hex:cge.base16,latin1:bz,ascii:bz,binary:bz,...cge};function _k(t,e="utf8"){const n=dge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function E2(t,e="utf8"){const n=dge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?yz(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function hge(t){return Xd(_k(E2(t,Ek),q0e))}function Ak(t){return _k(E2(Nc(t),q0e),Ek)}function xz(t){const e=E2(tlt,V0e),n=elt+_k(G0e([e,t]),V0e);return[Qct,Xct,n].join(Jct)}function xut(t){return _k(t,Ek)}function Eut(t){return E2(t,Ek)}function Cut(t){return E2([Ak(t.header),Ak(t.payload)].join(xk),H0e)}function _ut(t){return[Ak(t.header),Ak(t.payload),xut(t.signature)].join(xk)}function C2(t){const e=t.split(xk),n=hge(e[0]),r=hge(e[1]),i=Eut(e[2]),s=E2(e.slice(0,2).join(xk),H0e);return{header:n,payload:r,signature:i,data:s}}function Sk(t=_0e(nlt)){const e=W0e.getPublicKey(t);return{secretKey:G0e([t,e]),publicKey:e}}async function fge(t,e,n,r,i=me.fromMiliseconds(Date.now())){const s={alg:Zct,typ:Yct},o=xz(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Cut({header:s,payload:c}),u=W0e.sign(l,r.secretKey.slice(0,32));return _ut({header:s,payload:c,signature:u})}function Ez(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pge(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ez(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Hx(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=pge(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Ez(n)}function Aut(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],T=0,I=v-1;(_!==0||T<w)&&I!==-1;I--,T++)_+=256*E[I]>>>0,E[I]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=T,y++}for(var R=v-w;R!==v&&E[R]===0;)R++;for(var S=c.repeat(m);R<v;++R)S+=t.charAt(E[R]);return S}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,T=b-1;(E!==0||_<y)&&T!==-1;T--,_++)E+=a*v[T]>>>0,v[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var I=b-y;I!==b&&v[I]===0;)I++;for(var R=new Uint8Array(w+(b-I)),S=w;I!==b;)R[S++]=v[I++];return R}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Sut=Aut,Iut=Sut;const kut=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$ut=t=>new TextEncoder().encode(t),Tut=t=>new TextDecoder().decode(t);class Put{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Nut{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return gge(this,e)}}class Out{constructor(e){this.decoders=e}or(e){return gge(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const gge=(t,e)=>new Out({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Rut{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Put(e,n,r),this.decoder=new Nut(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ik=({name:t,prefix:e,encode:n,decode:r})=>new Rut(t,e,n,r),Vx=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Iut(n,e);return Ik({prefix:t,name:e,encode:r,decode:s=>kut(i(s))})},Mut=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},jut=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},_o=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Ik({prefix:e,name:t,encode(i){return jut(i,r,n)},decode(i){return Mut(i,r,n,t)}}),But=Ik({prefix:"\0",name:"identity",encode:t=>Tut(t),decode:t=>$ut(t)}),Dut=Object.freeze(Object.defineProperty({__proto__:null,identity:But},Symbol.toStringTag,{value:"Module"})),Lut=_o({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Uut=Object.freeze(Object.defineProperty({__proto__:null,base2:Lut},Symbol.toStringTag,{value:"Module"})),Fut=_o({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),zut=Object.freeze(Object.defineProperty({__proto__:null,base8:Fut},Symbol.toStringTag,{value:"Module"})),Wut=Vx({prefix:"9",name:"base10",alphabet:"0123456789"}),qut=Object.freeze(Object.defineProperty({__proto__:null,base10:Wut},Symbol.toStringTag,{value:"Module"})),Hut=_o({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vut=_o({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Kut=Object.freeze(Object.defineProperty({__proto__:null,base16:Hut,base16upper:Vut},Symbol.toStringTag,{value:"Module"})),Gut=_o({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Zut=_o({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yut=_o({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jut=_o({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qut=_o({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xut=_o({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),edt=_o({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tdt=_o({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ndt=_o({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),rdt=Object.freeze(Object.defineProperty({__proto__:null,base32:Gut,base32hex:Qut,base32hexpad:edt,base32hexpadupper:tdt,base32hexupper:Xut,base32pad:Yut,base32padupper:Jut,base32upper:Zut,base32z:ndt},Symbol.toStringTag,{value:"Module"})),idt=Vx({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sdt=Vx({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),odt=Object.freeze(Object.defineProperty({__proto__:null,base36:idt,base36upper:sdt},Symbol.toStringTag,{value:"Module"})),adt=Vx({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cdt=Vx({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ldt=Object.freeze(Object.defineProperty({__proto__:null,base58btc:adt,base58flickr:cdt},Symbol.toStringTag,{value:"Module"})),udt=_o({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ddt=_o({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hdt=_o({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fdt=_o({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pdt=Object.freeze(Object.defineProperty({__proto__:null,base64:udt,base64pad:ddt,base64url:hdt,base64urlpad:fdt},Symbol.toStringTag,{value:"Module"})),mge=Array.from(""),gdt=mge.reduce((t,e,n)=>(t[n]=e,t),[]),mdt=mge.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function ydt(t){return t.reduce((e,n)=>(e+=gdt[n],e),"")}function wdt(t){const e=[];for(const n of t){const r=mdt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const vdt=Ik({prefix:"",name:"base256emoji",encode:ydt,decode:wdt}),bdt=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:vdt},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const kk={...Dut,...Uut,...zut,...qut,...Kut,...rdt,...odt,...ldt,...pdt,...bdt};function yge(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const wge=yge("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Cz=yge("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=pge(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),vge={utf8:wge,"utf-8":wge,hex:kk.base16,latin1:Cz,ascii:Cz,binary:Cz,...kk};function Fu(t,e="utf8"){const n=vge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ez(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Rc(t,e="utf8"){const n=vge[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const bge={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},xdt="Input must be an string, Buffer or Uint8Array";function Edt(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(xdt);return e}function Cdt(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function $k(t){return(4294967296+t).toString(16).substring(1)}function _dt(t,e,n){let r=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(n===32)r+=$k(e[i]).toUpperCase(),r+=" ",r+=$k(e[i+1]).toUpperCase();else if(n===64)r+=$k(e[i+1]).toUpperCase(),r+=$k(e[i]).toUpperCase();else throw new Error("Invalid size "+n);i%6===4?r+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(r+=" ")}console.log(r)}function Adt(t,e,n){let r=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const a=t(i),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var xge={normalizeInput:Edt,toHex:Cdt,debugPrint:_dt,testSpeed:Adt};const Tk=xge;function Pk(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function Ege(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let s=t[e+1]+r;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function Cge(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function sm(t,e,n,r,i,s){const o=Kx[i],a=Kx[i+1],c=Kx[s],l=Kx[s+1];Pk(pn,t,e),Ege(pn,t,o,a);let u=pn[r]^pn[t],d=pn[r+1]^pn[t+1];pn[r]=d,pn[r+1]=u,Pk(pn,n,r),u=pn[e]^pn[n],d=pn[e+1]^pn[n+1],pn[e]=u>>>24^d<<8,pn[e+1]=d>>>24^u<<8,Pk(pn,t,e),Ege(pn,t,c,l),u=pn[r]^pn[t],d=pn[r+1]^pn[t+1],pn[r]=u>>>16^d<<16,pn[r+1]=d>>>16^u<<16,Pk(pn,n,r),u=pn[e]^pn[n],d=pn[e+1]^pn[n+1],pn[e]=d>>>31^u<<1,pn[e+1]=u>>>31^d<<1}const _ge=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Sdt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],ma=new Uint8Array(Sdt.map(function(t){return t*2})),pn=new Uint32Array(32),Kx=new Uint32Array(32);function Age(t,e){let n=0;for(n=0;n<16;n++)pn[n]=t.h[n],pn[n+16]=_ge[n];for(pn[24]=pn[24]^t.t,pn[25]=pn[25]^t.t/4294967296,e&&(pn[28]=~pn[28],pn[29]=~pn[29]),n=0;n<32;n++)Kx[n]=Cge(t.b,4*n);for(n=0;n<12;n++)sm(0,8,16,24,ma[n*16+0],ma[n*16+1]),sm(2,10,18,26,ma[n*16+2],ma[n*16+3]),sm(4,12,20,28,ma[n*16+4],ma[n*16+5]),sm(6,14,22,30,ma[n*16+6],ma[n*16+7]),sm(0,10,20,30,ma[n*16+8],ma[n*16+9]),sm(2,12,22,24,ma[n*16+10],ma[n*16+11]),sm(4,14,16,26,ma[n*16+12],ma[n*16+13]),sm(6,8,18,28,ma[n*16+14],ma[n*16+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^pn[n]^pn[n+16]}const om=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Sge(t,e,n,r){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};om.fill(0),om[0]=t,e&&(om[1]=e.length),om[2]=1,om[3]=1,n&&om.set(n,32),r&&om.set(r,48);for(let s=0;s<16;s++)i.h[s]=_ge[s]^Cge(om,s*4);return e&&(_z(i,e),i.c=128),i}function _z(t,e){for(let n=0;n<e.length;n++)t.c===128&&(t.t+=t.c,Age(t,!1),t.c=0),t.b[t.c++]=e[n]}function Ige(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Age(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3);return e}function kge(t,e,n,r,i){n=n||64,t=Tk.normalizeInput(t),r&&(r=Tk.normalizeInput(r)),i&&(i=Tk.normalizeInput(i));const s=Sge(n,e,r,i);return _z(s,t),Ige(s)}function Idt(t,e,n,r,i){const s=kge(t,e,n,r,i);return Tk.toHex(s)}var kdt={blake2b:kge,blake2bHex:Idt,blake2bInit:Sge,blake2bUpdate:_z,blake2bFinal:Ige};const $ge=xge;function $dt(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function am(t,e,n,r,i,s){Xn[t]=Xn[t]+Xn[e]+i,Xn[r]=Nk(Xn[r]^Xn[t],16),Xn[n]=Xn[n]+Xn[r],Xn[e]=Nk(Xn[e]^Xn[n],12),Xn[t]=Xn[t]+Xn[e]+s,Xn[r]=Nk(Xn[r]^Xn[t],8),Xn[n]=Xn[n]+Xn[r],Xn[e]=Nk(Xn[e]^Xn[n],7)}function Nk(t,e){return t>>>e^t<<32-e}const Tge=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ya=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Xn=new Uint32Array(16),Ao=new Uint32Array(16);function Pge(t,e){let n=0;for(n=0;n<8;n++)Xn[n]=t.h[n],Xn[n+8]=Tge[n];for(Xn[12]^=t.t,Xn[13]^=t.t/4294967296,e&&(Xn[14]=~Xn[14]),n=0;n<16;n++)Ao[n]=$dt(t.b,4*n);for(n=0;n<10;n++)am(0,4,8,12,Ao[ya[n*16+0]],Ao[ya[n*16+1]]),am(1,5,9,13,Ao[ya[n*16+2]],Ao[ya[n*16+3]]),am(2,6,10,14,Ao[ya[n*16+4]],Ao[ya[n*16+5]]),am(3,7,11,15,Ao[ya[n*16+6]],Ao[ya[n*16+7]]),am(0,5,10,15,Ao[ya[n*16+8]],Ao[ya[n*16+9]]),am(1,6,11,12,Ao[ya[n*16+10]],Ao[ya[n*16+11]]),am(2,7,8,13,Ao[ya[n*16+12]],Ao[ya[n*16+13]]),am(3,4,9,14,Ao[ya[n*16+14]],Ao[ya[n*16+15]]);for(n=0;n<8;n++)t.h[n]^=Xn[n]^Xn[n+8]}function Nge(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(Tge),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(Az(r,e),r.c=64),r}function Az(t,e){for(let n=0;n<e.length;n++)t.c===64&&(t.t+=t.c,Pge(t,!1),t.c=0),t.b[t.c++]=e[n]}function Oge(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;Pge(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(n&3)&255;return e}function Rge(t,e,n){n=n||32,t=$ge.normalizeInput(t);const r=Nge(n,e);return Az(r,t),Oge(r)}function Tdt(t,e,n){const r=Rge(t,e,n);return $ge.toHex(r)}var Pdt={blake2s:Rge,blake2sHex:Tdt,blake2sInit:Nge,blake2sUpdate:Az,blake2sFinal:Oge};const Gx=kdt,Zx=Pdt;var Ndt={blake2b:Gx.blake2b,blake2bHex:Gx.blake2bHex,blake2bInit:Gx.blake2bInit,blake2bUpdate:Gx.blake2bUpdate,blake2bFinal:Gx.blake2bFinal,blake2s:Zx.blake2s,blake2sHex:Zx.blake2sHex,blake2sInit:Zx.blake2sInit,blake2sUpdate:Zx.blake2sUpdate,blake2sFinal:Zx.blake2sFinal},Odt={};const Rdt=":";function My(t){const[e,n]=t.split(Rdt);return{namespace:e,reference:n}}function Mge(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function jge(t,e){return t.includes(":")?[t]:e.chains||[]}var Mdt=Object.defineProperty,jdt=Object.defineProperties,Bdt=Object.getOwnPropertyDescriptors,Bge=Object.getOwnPropertySymbols,Ddt=Object.prototype.hasOwnProperty,Ldt=Object.prototype.propertyIsEnumerable,Sz=(t,e,n)=>e in t?Mdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dge=(t,e)=>{for(var n in e||(e={}))Ddt.call(e,n)&&Sz(t,n,e[n]);if(Bge)for(var n of Bge(e))Ldt.call(e,n)&&Sz(t,n,e[n]);return t},Udt=(t,e)=>jdt(t,Bdt(e)),Lge=(t,e,n)=>Sz(t,typeof e!="symbol"?e+"":e,n);const Fdt="ReactNative",Dl={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},zdt="js";function Ok(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function cm(){return!Za()&&!!Py()&&navigator.product===Fdt}function Wdt(){return cm()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function qdt(){return cm()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function _2(){return!Ok()&&!!Py()&&!!Za()}function Yx(){return cm()?Dl.reactNative:Ok()?Dl.node:_2()?Dl.browser:Dl.unknown}function Uge(){var t;try{return cm()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Hdt(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function Vdt(t){var e,n;const r=Fge();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Udt(Dge(Dge({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Fge(){return ik()||{name:"",description:"",url:"",icons:[""]}}function Kdt(){if(Yx()===Dl.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=fpe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Gdt(){var t;const e=Yx();return e===Dl.browser?[e,((t=IF())==null?void 0:t.host)||"unknown"].join(":"):e}function zge(t,e,n){const r=Kdt(),i=Gdt();return[[t,e].join("-"),[zdt,n].join("-"),r,i].join("/")}function Zdt({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=zge(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Hdt(l[1]||"",d);return l[0]+"?"+h}function jy(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Iz(t){return Object.fromEntries(t.entries())}function kz(t){return new Map(Object.entries(t))}function By(t=me.FIVE_MINUTES,e){const n=me.toMiliseconds(t||me.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function vf(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Wge(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Ydt(t){return Wge("topic",t)}function Jdt(t){return Wge("id",t)}function qge(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Os(t,e){return me.fromMiliseconds(Date.now()+me.toMiliseconds(t))}function lm(t){return Date.now()>=me.toMiliseconds(t)}function yr(t,e){return`${t}${e?`:${e}`:""}`}function bf(t=[],e=[]){return[...new Set([...t,...e])]}async function Qdt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Xdt(s,t,e),a=Yx();if(a===Dl.browser){if(!((r=Za())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}eht(o)}else a===Dl.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Xdt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${iht(r,!0)}`}else i=`${i}/wc?${r}`;return i}function eht(t){let e="_self";rht()?e="_top":(nht()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function tht(t,e){let n="";try{if(_2()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function Hge(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function Vge(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function $z(){return typeof process<"u"&&Odt.IS_VITEST==="true"}function nht(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function rht(){try{return window.self!==window.top}catch{return!1}}function iht(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Kge(t){return Buffer.from(t,"base64").toString("utf-8")}function sht(t){return new Promise(e=>setTimeout(e,t))}let oht=class{constructor({limit:e}){Lge(this,"limit"),Lge(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const Rk=BigInt(2**32-1),Gge=BigInt(32);function Zge(t,e=!1){return e?{h:Number(t&Rk),l:Number(t>>Gge&Rk)}:{h:Number(t>>Gge&Rk)|0,l:Number(t&Rk)|0}}function Yge(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=Zge(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Jge=(t,e,n)=>t>>>n,Qge=(t,e,n)=>t<<32-n|e>>>n,um=(t,e,n)=>t>>>n|e<<32-n,dm=(t,e,n)=>t<<32-n|e>>>n,Jx=(t,e,n)=>t<<64-n|e>>>n-32,Qx=(t,e,n)=>t>>>n-32|e<<64-n,aht=(t,e)=>e,cht=(t,e)=>t,lht=(t,e,n)=>t<<n|e>>>32-n,uht=(t,e,n)=>e<<n|t>>>32-n,dht=(t,e,n)=>e<<n-32|t>>>64-n,hht=(t,e,n)=>t<<n-32|e>>>64-n;function th(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Tz=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Pz=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,fht=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),pht=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ght=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),mht=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,A2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Nz(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Xp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zu(t,...e){if(!Nz(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Oz(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xp(t.outputLen),Xp(t.blockLen)}function hm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Rz(t,e){zu(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Xx(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Wu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mz(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xf(t,e){return t<<32-e|t>>>e}const Xge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function eme(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const e0=Xge?t=>t:t=>eme(t);function yht(t){for(let e=0;e<t.length;e++)t[e]=eme(t[e]);return t}const fm=Xge?t=>t:yht,tme=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",wht=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eE(t){if(zu(t),tme)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=wht[t[n]];return e}const t0={_0:48,_9:57,A:65,F:70,a:97,f:102};function nme(t){if(t>=t0._0&&t<=t0._9)return t-t0._0;if(t>=t0.A&&t<=t0.F)return t-(t0.A-10);if(t>=t0.a&&t<=t0.f)return t-(t0.a-10)}function jz(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(tme)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=nme(t.charCodeAt(s)),a=nme(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function vht(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function nh(t){return typeof t=="string"&&(t=vht(t)),zu(t),t}function Dy(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];zu(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Mk=class{};function tE(t){const e=r=>t().update(nh(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function bht(t){const e=(r,i)=>t(i).update(nh(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function S2(t=32){if(A2&&typeof A2.getRandomValues=="function")return A2.getRandomValues(new Uint8Array(t));if(A2&&typeof A2.randomBytes=="function")return Uint8Array.from(A2.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const xht=BigInt(0),nE=BigInt(1),Eht=BigInt(2),Cht=BigInt(7),_ht=BigInt(256),Aht=BigInt(113),rme=[],ime=[],sme=[];for(let t=0,e=nE,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],rme.push(2*(5*r+n)),ime.push((t+1)*(t+2)/2%64);let i=xht;for(let s=0;s<7;s++)e=(e<<nE^(e>>Cht)*Aht)%_ht,e&Eht&&(i^=nE<<(nE<<BigInt(s))-nE);sme.push(i)}const ome=Yge(sme,!0),Sht=ome[0],Iht=ome[1],ame=(t,e,n)=>n>32?dht(t,e,n):lht(t,e,n),cme=(t,e,n)=>n>32?hht(t,e,n):uht(t,e,n);function kht(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=ame(l,u,1)^n[a],h=cme(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=ime[o],c=ame(i,s,a),l=cme(i,s,a),u=rme[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Sht[r],t[1]^=Iht[r]}Wu(n)}let $ht=class OAe extends Mk{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Xp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Xx(this.state)}clone(){return this._cloneInto()}keccak(){fm(this.state32),kht(this.state32,this.rounds),fm(this.state32),this.posOut=0,this.pos=0}update(e){hm(this),e=nh(e),zu(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){hm(this,!1),zu(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Xp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Rz(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Wu(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new OAe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Tht=(t,e,n)=>tE(()=>new $ht(e,t,n)),Pht=Tht(1,136,256/8);function Nht(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Oht(t,e,n){return t&e^~t&n}function Rht(t,e,n){return t&e^t&n^e&n}let lme=class extends Mk{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Mz(this.buffer)}update(e){hm(this),e=nh(e),zu(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Mz(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hm(this),Rz(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Wu(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Nht(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Mz(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const pm=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wa=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),va=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Mht=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gm=new Uint32Array(64);let jht=class extends lme{constructor(e=32){super(64,e,8,!1),this.A=pm[0]|0,this.B=pm[1]|0,this.C=pm[2]|0,this.D=pm[3]|0,this.E=pm[4]|0,this.F=pm[5]|0,this.G=pm[6]|0,this.H=pm[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)gm[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=gm[d-15],f=gm[d-2],p=xf(h,7)^xf(h,18)^h>>>3,m=xf(f,17)^xf(f,19)^f>>>10;gm[d]=m+gm[d-7]+p+gm[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=xf(a,6)^xf(a,11)^xf(a,25),f=u+h+Oht(a,c,l)+Mht[d]+gm[d]|0,p=(xf(r,2)^xf(r,13)^xf(r,22))+Rht(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Wu(gm)}destroy(){this.set(0,0,0,0,0,0,0,0),Wu(this.buffer)}};const ume=Yge(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Bht=ume[0],Dht=ume[1],mm=new Uint32Array(80),ym=new Uint32Array(80);let Bz=class extends lme{constructor(e=64){super(128,e,16,!1),this.Ah=va[0]|0,this.Al=va[1]|0,this.Bh=va[2]|0,this.Bl=va[3]|0,this.Ch=va[4]|0,this.Cl=va[5]|0,this.Dh=va[6]|0,this.Dl=va[7]|0,this.Eh=va[8]|0,this.El=va[9]|0,this.Fh=va[10]|0,this.Fl=va[11]|0,this.Gh=va[12]|0,this.Gl=va[13]|0,this.Hh=va[14]|0,this.Hl=va[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:w}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let v=0;v<16;v++,n+=4)mm[v]=e.getUint32(n),ym[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const E=mm[v-15]|0,_=ym[v-15]|0,T=um(E,_,1)^um(E,_,8)^Jge(E,_,7),I=dm(E,_,1)^dm(E,_,8)^Qge(E,_,7),R=mm[v-2]|0,S=ym[v-2]|0,B=um(R,S,19)^Jx(R,S,61)^Jge(R,S,6),j=dm(R,S,19)^Qx(R,S,61)^Qge(R,S,6),U=fht(I,j,ym[v-7],ym[v-16]),M=pht(U,T,B,mm[v-7],mm[v-16]);mm[v]=M|0,ym[v]=U|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:w,Hh:y,Hl:b}=this;for(let v=0;v<80;v++){const E=um(d,h,14)^um(d,h,18)^Jx(d,h,41),_=dm(d,h,14)^dm(d,h,18)^Qx(d,h,41),T=d&f^~d&m,I=h&p^~h&w,R=ght(b,_,I,Dht[v],ym[v]),S=mht(R,y,E,T,Bht[v],mm[v]),B=R|0,j=um(r,i,28)^Jx(r,i,34)^Jx(r,i,39),U=dm(r,i,28)^Qx(r,i,34)^Qx(r,i,39),M=r&s^r&a^s&a,C=i&o^i&c^o&c;y=m|0,b=w|0,m=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=th(l|0,u|0,S|0,B|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const x=Tz(B,U,C);r=Pz(x,S,j,M),i=x|0}({h:r,l:i}=th(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=th(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=th(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=th(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=th(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=th(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:w}=th(this.Gh|0,this.Gl|0,m|0,w|0),{h:y,l:b}=th(this.Hh|0,this.Hl|0,y|0,b|0),this.set(r,i,s,o,a,c,l,u,d,h,f,p,m,w,y,b)}roundClean(){Wu(mm,ym)}destroy(){Wu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Lht=class extends Bz{constructor(){super(48),this.Ah=wa[0]|0,this.Al=wa[1]|0,this.Bh=wa[2]|0,this.Bl=wa[3]|0,this.Ch=wa[4]|0,this.Cl=wa[5]|0,this.Dh=wa[6]|0,this.Dl=wa[7]|0,this.Eh=wa[8]|0,this.El=wa[9]|0,this.Fh=wa[10]|0,this.Fl=wa[11]|0,this.Gh=wa[12]|0,this.Gl=wa[13]|0,this.Hh=wa[14]|0,this.Hl=wa[15]|0}};const ba=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let Uht=class extends Bz{constructor(){super(32),this.Ah=ba[0]|0,this.Al=ba[1]|0,this.Bh=ba[2]|0,this.Bl=ba[3]|0,this.Ch=ba[4]|0,this.Cl=ba[5]|0,this.Dh=ba[6]|0,this.Dl=ba[7]|0,this.Eh=ba[8]|0,this.El=ba[9]|0,this.Fh=ba[10]|0,this.Fl=ba[11]|0,this.Gh=ba[12]|0,this.Gl=ba[13]|0,this.Hh=ba[14]|0,this.Hl=ba[15]|0}};const jk=tE(()=>new jht),Fht=tE(()=>new Bz),zht=tE(()=>new Lht),Wht=tE(()=>new Uht),qht=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Rs=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),mt=new Uint32Array(32);function wm(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=mt[2*t],l=mt[2*t+1],u=mt[2*e],d=mt[2*e+1],h=mt[2*n],f=mt[2*n+1],p=mt[2*r],m=mt[2*r+1],w=Tz(c,u,o);l=Pz(w,l,d,a),c=w|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:aht(m,p),Dl:cht(m)},{h:f,l:h}=th(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:um(d,u,24),Bl:dm(d,u,24)},mt[2*t]=c,mt[2*t+1]=l,mt[2*e]=u,mt[2*e+1]=d,mt[2*n]=h,mt[2*n+1]=f,mt[2*r]=p,mt[2*r+1]=m}function vm(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=mt[2*t],l=mt[2*t+1],u=mt[2*e],d=mt[2*e+1],h=mt[2*n],f=mt[2*n+1],p=mt[2*r],m=mt[2*r+1],w=Tz(c,u,o);l=Pz(w,l,d,a),c=w|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:um(m,p,16),Dl:dm(m,p,16)},{h:f,l:h}=th(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Jx(d,u,63),Bl:Qx(d,u,63)},mt[2*t]=c,mt[2*t+1]=l,mt[2*e]=u,mt[2*e+1]=d,mt[2*n]=h,mt[2*n+1]=f,mt[2*r]=p,mt[2*r+1]=m}function Hht(t,e={},n,r,i){if(Xp(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let Vht=class extends Mk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Xp(e),Xp(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Xx(this.buffer)}update(e){hm(this),e=nh(e),zu(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===n&&(fm(i),this.compress(i,0,!1),fm(i),this.pos=0);const l=Math.min(n-this.pos,s-c),u=o+c;if(l===n&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));fm(d);for(let h=0;c+n<s;h+=i.length,c+=n)this.length+=n,this.compress(d,h,!1);fm(d);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){hm(this),Rz(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Wu(this.buffer.subarray(n)),fm(r),this.compress(r,0,!0),fm(r);const i=Xx(e);this.get().forEach((s,o)=>i[o]=e0(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},Kht=class extends Vht{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Rs[0]|0,this.v0h=Rs[1]|0,this.v1l=Rs[2]|0,this.v1h=Rs[3]|0,this.v2l=Rs[4]|0,this.v2h=Rs[5]|0,this.v3l=Rs[6]|0,this.v3h=Rs[7]|0,this.v4l=Rs[8]|0,this.v4h=Rs[9]|0,this.v5l=Rs[10]|0,this.v5h=Rs[11]|0,this.v6l=Rs[12]|0,this.v6h=Rs[13]|0,this.v7l=Rs[14]|0,this.v7h=Rs[15]|0,Hht(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,o=0;if(r!==void 0&&(r=nh(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=nh(s);const a=Xx(s);this.v4l^=e0(a[0]),this.v4h^=e0(a[1]),this.v5l^=e0(a[2]),this.v5h^=e0(a[3])}if(i!==void 0){i=nh(i);const a=Xx(i);this.v6l^=e0(a[0]),this.v6h^=e0(a[1]),this.v7l^=e0(a[2]),this.v7h^=e0(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:w}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,p,m,w){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=w|0}compress(e,n,r){this.get().forEach((c,l)=>mt[l]=c),mt.set(Rs,16);let{h:i,l:s}=Zge(BigInt(this.length));mt[24]=Rs[8]^s,mt[25]=Rs[9]^i,r&&(mt[28]=~mt[28],mt[29]=~mt[29]);let o=0;const a=qht;for(let c=0;c<12;c++)wm(0,4,8,12,e,n+2*a[o++]),vm(0,4,8,12,e,n+2*a[o++]),wm(1,5,9,13,e,n+2*a[o++]),vm(1,5,9,13,e,n+2*a[o++]),wm(2,6,10,14,e,n+2*a[o++]),vm(2,6,10,14,e,n+2*a[o++]),wm(3,7,11,15,e,n+2*a[o++]),vm(3,7,11,15,e,n+2*a[o++]),wm(0,5,10,15,e,n+2*a[o++]),vm(0,5,10,15,e,n+2*a[o++]),wm(1,6,11,12,e,n+2*a[o++]),vm(1,6,11,12,e,n+2*a[o++]),wm(2,7,8,13,e,n+2*a[o++]),vm(2,7,8,13,e,n+2*a[o++]),wm(3,4,9,14,e,n+2*a[o++]),vm(3,4,9,14,e,n+2*a[o++]);this.v0l^=mt[0]^mt[16],this.v0h^=mt[1]^mt[17],this.v1l^=mt[2]^mt[18],this.v1h^=mt[3]^mt[19],this.v2l^=mt[4]^mt[20],this.v2h^=mt[5]^mt[21],this.v3l^=mt[6]^mt[22],this.v3h^=mt[7]^mt[23],this.v4l^=mt[8]^mt[24],this.v4h^=mt[9]^mt[25],this.v5l^=mt[10]^mt[26],this.v5h^=mt[11]^mt[27],this.v6l^=mt[12]^mt[28],this.v6h^=mt[13]^mt[29],this.v7l^=mt[14]^mt[30],this.v7h^=mt[15]^mt[31],Wu(mt)}destroy(){this.destroyed=!0,Wu(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Ght=bht(t=>new Kht(t)),Zht="https://rpc.walletconnect.org/v1";function dme(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Pht(n)).toString("hex")}async function Yht(t,e,n,r,i,s){switch(n.t){case"eip191":return await Jht(t,e,n.s);case"eip1271":return await Qht(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Jht(t,e,n){return(await wot({hash:dme(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Qht(t,e,n,r,i,s){const o=My(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:dme(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${s||Zht}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Xht(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Xht(){return Date.now()+Math.floor(Math.random()*1e3)}function eft(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return nm.encode(s)}function tft(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=Ght(r,{dkLen:32});return nm.encode(i)}function hme(t){const e=new Uint8Array(jk(nft(t)));return nm.encode(e)}function nft(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function fme(t){const e=Buffer.from(t,"base64"),n=Tat(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=xat(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),o=Wht(s);return Rat.encode(o).replace(/=+$/,"")}function Dz(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function rft(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Dz(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Dz(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Dz(r.length)),i.push(r);const s=Buffer.concat(i),o=jk(s);return Buffer.from(o).toString("hex").toUpperCase()}var ift=Object.defineProperty,sft=Object.defineProperties,oft=Object.getOwnPropertyDescriptors,pme=Object.getOwnPropertySymbols,aft=Object.prototype.hasOwnProperty,cft=Object.prototype.propertyIsEnumerable,gme=(t,e,n)=>e in t?ift(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lft=(t,e)=>{for(var n in e||(e={}))aft.call(e,n)&&gme(t,n,e[n]);if(pme)for(var n of pme(e))cft.call(e,n)&&gme(t,n,e[n]);return t},uft=(t,e)=>sft(t,oft(e));const dft="did:pkh:",Lz=t=>t==null?void 0:t.split(":"),hft=t=>{const e=t&&Lz(t);if(e)return t.includes(dft)?e[3]:e[1]},Uz=t=>{const e=t&&Lz(t);if(e)return e[2]+":"+e[3]},Bk=t=>{const e=t&&Lz(t);if(e)return e.pop()};async function mme(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=yme(i,i.iss),o=Bk(i.iss);return await Yht(o,s,r,Uz(i.iss),n)}const yme=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Bk(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${hft(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=Dk(t.resources);if(p){const m=rE(p);i=xft(i,m)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function fft(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function pft(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Ly(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function gft(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:mft(e,n,r)}}}function mft(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function wme(t){return Ly(t),`urn:recap:${fft(t).replace(/=/g,"")}`}function rE(t){const e=pft(t.replace("urn:recap:",""));return Ly(e),e}function yft(t,e,n){const r=gft(t,e,n);return wme(r)}function wft(t){return t&&t.includes("urn:recap:")}function vft(t,e){const n=rE(t),r=rE(e),i=bft(n,r);return wme(i)}function bft(t,e){Ly(t),Ly(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=uft(lft({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function xft(t="",e){Ly(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function vme(t){var e;const n=rE(t);Ly(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function bme(t){const e=rE(t);Ly(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Dk(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return wft(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function xme(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fz(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function zz(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Mc(t,...e){if(!xme(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Eme(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Eft(t,e){Mc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bm(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function I2(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Cft(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const _ft=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Aft(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Wz(t){if(typeof t=="string")t=Aft(t);else if(xme(t))t=qz(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Sft(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Ift(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const kft=(t,e)=>{function n(r,...i){if(Mc(r),!_ft)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Mc(l):Mc(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Mc(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Mc(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Mc(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Mc(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function Cme(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Tft(e))throw new Error("invalid output, must be aligned");return e}function _me(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function $ft(t,e,n){Fz(n);const r=new Uint8Array(16),i=Cft(r);return _me(i,0,BigInt(e),n),_me(i,8,BigInt(t),n),r}function Tft(t){return t.byteOffset%4===0}function qz(t){return Uint8Array.from(t)}const Ame=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Pft=Ame("expand 16-byte k"),Nft=Ame("expand 32-byte k"),Oft=bm(Pft),Rft=bm(Nft);function er(t,e){return t<<e|t>>>32-e}function Hz(t){return t.byteOffset%4===0}const Lk=64,Mft=16,Sme=2**32-1,Ime=new Uint32Array;function jft(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(Lk),u=bm(l),d=Hz(i)&&Hz(s),h=d?bm(i):Ime,f=d?bm(s):Ime;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=Sme)throw new Error("arx: counter overflow");const m=Math.min(Lk,c-p);if(d&&m===Lk){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<Mft;y++)b=w+y,f[b]=h[b]^u[y];p+=Lk;continue}for(let w=0,y;w<m;w++)y=p+w,s[y]=i[y]^l[w];p+=m}}function Bft(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Sft({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return zz(i),zz(o),Fz(s),Fz(n),(a,c,l,u,d=0)=>{Mc(a),Mc(c),Mc(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Mc(u),zz(d),d<0||d>=Sme)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,w;if(p===32)f.push(m=qz(a)),w=Rft;else if(p===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),w=Oft,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);Hz(c)||f.push(c=qz(c));const y=bm(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,bm(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const v=bm(c);return jft(t,w,y,v,l,u,d,o),I2(...f),u}}const So=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let Dft=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Wz(e),Mc(e,32);const n=So(e,0),r=So(e,2),i=So(e,4),s=So(e,6),o=So(e,8),a=So(e,10),c=So(e,12),l=So(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=So(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],w=o[9],y=So(e,n+0),b=So(e,n+2),v=So(e,n+4),E=So(e,n+6),_=So(e,n+8),T=So(e,n+10),I=So(e,n+12),R=So(e,n+14);let S=s[0]+(y&8191),B=s[1]+((y>>>13|b<<3)&8191),j=s[2]+((b>>>10|v<<6)&8191),U=s[3]+((v>>>7|E<<9)&8191),M=s[4]+((E>>>4|_<<12)&8191),C=s[5]+(_>>>1&8191),x=s[6]+((_>>>14|T<<2)&8191),A=s[7]+((T>>>11|I<<5)&8191),N=s[8]+((I>>>8|R<<8)&8191),O=s[9]+(R>>>5|i),P=0,D=P+S*a+B*(5*w)+j*(5*m)+U*(5*p)+M*(5*f);P=D>>>13,D&=8191,D+=C*(5*h)+x*(5*d)+A*(5*u)+N*(5*l)+O*(5*c),P+=D>>>13,D&=8191;let L=P+S*c+B*a+j*(5*w)+U*(5*m)+M*(5*p);P=L>>>13,L&=8191,L+=C*(5*f)+x*(5*h)+A*(5*d)+N*(5*u)+O*(5*l),P+=L>>>13,L&=8191;let $=P+S*l+B*c+j*a+U*(5*w)+M*(5*m);P=$>>>13,$&=8191,$+=C*(5*p)+x*(5*f)+A*(5*h)+N*(5*d)+O*(5*u),P+=$>>>13,$&=8191;let q=P+S*u+B*l+j*c+U*a+M*(5*w);P=q>>>13,q&=8191,q+=C*(5*m)+x*(5*p)+A*(5*f)+N*(5*h)+O*(5*d),P+=q>>>13,q&=8191;let V=P+S*d+B*u+j*l+U*c+M*a;P=V>>>13,V&=8191,V+=C*(5*w)+x*(5*m)+A*(5*p)+N*(5*f)+O*(5*h),P+=V>>>13,V&=8191;let F=P+S*h+B*d+j*u+U*l+M*c;P=F>>>13,F&=8191,F+=C*a+x*(5*w)+A*(5*m)+N*(5*p)+O*(5*f),P+=F>>>13,F&=8191;let Z=P+S*f+B*h+j*d+U*u+M*l;P=Z>>>13,Z&=8191,Z+=C*c+x*a+A*(5*w)+N*(5*m)+O*(5*p),P+=Z>>>13,Z&=8191;let X=P+S*p+B*f+j*h+U*d+M*u;P=X>>>13,X&=8191,X+=C*l+x*c+A*a+N*(5*w)+O*(5*m),P+=X>>>13,X&=8191;let Y=P+S*m+B*p+j*f+U*h+M*d;P=Y>>>13,Y&=8191,Y+=C*u+x*l+A*c+N*a+O*(5*w),P+=Y>>>13,Y&=8191;let te=P+S*w+B*m+j*p+U*f+M*h;P=te>>>13,te&=8191,te+=C*d+x*u+A*l+N*c+O*a,P+=te>>>13,te&=8191,P=(P<<2)+P|0,P=P+D|0,D=P&8191,P=P>>>13,L+=P,s[0]=D,s[1]=L,s[2]=$,s[3]=q,s[4]=V,s[5]=F,s[6]=Z,s[7]=X,s[8]=Y,s[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;I2(r)}update(e){Eme(this),e=Wz(e),Mc(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){I2(this.h,this.r,this.buffer,this.pad)}digestInto(e){Eme(this),Eft(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function Lft(t){const e=(r,i)=>t(i).update(Wz(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Uft=Lft(t=>new Dft(t));function Fft(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],w=e[6],y=e[7],b=i,v=n[0],E=n[1],_=n[2],T=o,I=a,R=c,S=l,B=u,j=d,U=h,M=f,C=p,x=m,A=w,N=y,O=b,P=v,D=E,L=_;for(let q=0;q<s;q+=2)T=T+B|0,O=er(O^T,16),C=C+O|0,B=er(B^C,12),T=T+B|0,O=er(O^T,8),C=C+O|0,B=er(B^C,7),I=I+j|0,P=er(P^I,16),x=x+P|0,j=er(j^x,12),I=I+j|0,P=er(P^I,8),x=x+P|0,j=er(j^x,7),R=R+U|0,D=er(D^R,16),A=A+D|0,U=er(U^A,12),R=R+U|0,D=er(D^R,8),A=A+D|0,U=er(U^A,7),S=S+M|0,L=er(L^S,16),N=N+L|0,M=er(M^N,12),S=S+M|0,L=er(L^S,8),N=N+L|0,M=er(M^N,7),T=T+j|0,L=er(L^T,16),A=A+L|0,j=er(j^A,12),T=T+j|0,L=er(L^T,8),A=A+L|0,j=er(j^A,7),I=I+U|0,O=er(O^I,16),N=N+O|0,U=er(U^N,12),I=I+U|0,O=er(O^I,8),N=N+O|0,U=er(U^N,7),R=R+M|0,P=er(P^R,16),C=C+P|0,M=er(M^C,12),R=R+M|0,P=er(P^R,8),C=C+P|0,M=er(M^C,7),S=S+B|0,D=er(D^S,16),x=x+D|0,B=er(B^x,12),S=S+B|0,D=er(D^S,8),x=x+D|0,B=er(B^x,7);let $=0;r[$++]=o+T|0,r[$++]=a+I|0,r[$++]=c+R|0,r[$++]=l+S|0,r[$++]=u+B|0,r[$++]=d+j|0,r[$++]=h+U|0,r[$++]=f+M|0,r[$++]=p+C|0,r[$++]=m+x|0,r[$++]=w+A|0,r[$++]=y+N|0,r[$++]=b+O|0,r[$++]=v+P|0,r[$++]=E+D|0,r[$++]=_+L|0}const zft=Bft(Fft,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Wft=new Uint8Array(16),kme=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Wft.subarray(n))},qft=new Uint8Array(32);function $me(t,e,n,r,i){const s=t(e,n,qft),o=Uft.create(s);i&&kme(o,i),kme(o,r);const a=$ft(r.length,i?i.length:0,!0);o.update(a);const c=o.digest();return I2(s,a),c}const Hft=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=Cme(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=$me(t,e,n,a,r);return s.set(c,o),I2(c),s},decrypt(i,s){s=Cme(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=$me(t,e,n,o,r);if(!Ift(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),I2(c),s}}),Tme=kft({blockSize:64,nonceLength:12,tagLength:16},Hft(zft));let Pme=class extends Mk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Oz(e);const r=nh(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Wu(s)}update(e){return hm(this),this.iHash.update(e),this}digestInto(e){hm(this),zu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Uk=(t,e,n)=>new Pme(t,e).update(n).digest();Uk.create=(t,e)=>new Pme(t,e);function Vft(t,e,n){return Oz(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Uk(t,nh(n),nh(e))}const Vz=Uint8Array.from([0]),Nme=Uint8Array.of();function Kft(t,e,n,r=32){Oz(t),Xp(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=Nme);const o=new Uint8Array(s*i),a=Uk.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)Vz[0]=u+1,c.update(u===0?Nme:l).update(n).update(Vz).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Wu(l,Vz),o.slice(0,r)}const Gft=(t,e,n,r,i)=>Kft(t,Vft(t,e,n),r,i),Fk=jk,Kz=BigInt(0),Gz=BigInt(1);function zk(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Wk(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ome(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Kz:BigInt("0x"+t)}function qk(t){return Ome(eE(t))}function Hk(t){return zu(t),Ome(eE(Uint8Array.from(t).reverse()))}function Zz(t,e){return jz(t.toString(16).padStart(e*2,"0"))}function Yz(t,e){return Zz(t,e).reverse()}function jc(t,e,n){let r;if(typeof e=="string")try{r=jz(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Nz(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Jz=t=>typeof t=="bigint"&&Kz<=t;function Zft(t,e,n){return Jz(t)&&Jz(e)&&Jz(n)&&e<=t&&t<n}function Qz(t,e,n,r){if(!Zft(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Yft(t){let e;for(e=0;t>Kz;t>>=Gz,e+=1);return e}const Vk=t=>(Gz<<BigInt(t))-Gz;function Jft(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>n(o,s,...h),u=(h=r(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const p=s.slice();f.push(p),h+=s.length}return Dy(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function Kk(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function Rme(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Bc=BigInt(0),Ja=BigInt(1),Uy=BigInt(2),Qft=BigInt(3),Mme=BigInt(4),jme=BigInt(5),Bme=BigInt(8);function qu(t,e){const n=t%e;return n>=Bc?n:e+n}function rh(t,e,n){let r=t;for(;e-- >Bc;)r*=r,r%=n;return r}function Dme(t,e){if(t===Bc)throw new Error("invert: expected non-zero number");if(e<=Bc)throw new Error("invert: expected positive modulus, got "+e);let n=qu(t,e),r=e,i=Bc,s=Ja;for(;n!==Bc;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Ja)throw new Error("invert: does not exist");return qu(i,e)}function Lme(t,e){const n=(t.ORDER+Ja)/Mme,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Xft(t,e){const n=(t.ORDER-jme)/Bme,r=t.mul(e,Uy),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Uy),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function ept(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ja,n=0;for(;e%Uy===Bc;)e/=Uy,n++;let r=Uy;const i=k2(t);for(;Fme(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Lme;let s=i.pow(r,e);const o=(e+Ja)/Uy;return function(a,c){if(a.is0(c))return c;if(Fme(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,s),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const m=Ja<<BigInt(l-f-1),w=a.pow(u,m);l=f,u=a.sqr(w),d=a.mul(d,u),h=a.mul(h,w)}return h}}function tpt(t){return t%Mme===Qft?Lme:t%Bme===jme?Xft:ept(t)}const npt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rpt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=npt.reduce((r,i)=>(r[i]="function",r),e);return Kk(t,n),t}function ipt(t,e,n){if(n<Bc)throw new Error("invalid exponent, negatives unsupported");if(n===Bc)return t.ONE;if(n===Ja)return e;let r=t.ONE,i=e;for(;n>Bc;)n&Ja&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ja;return r}function Ume(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function Fme(t,e){const n=(t.ORDER-Ja)/Uy,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function spt(t,e){e!==void 0&&Xp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function k2(t,e,n=!1,r={}){if(t<=Bc)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:a}=spt(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:n,BITS:o,BYTES:a,MASK:Vk(o),ZERO:Bc,ONE:Ja,create:u=>qu(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Bc<=u&&u<t},is0:u=>u===Bc,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Ja)===Ja,neg:u=>qu(-u,t),eql:(u,d)=>u===d,sqr:u=>qu(u*u,t),add:(u,d)=>qu(u+d,t),sub:(u,d)=>qu(u-d,t),mul:(u,d)=>qu(u*d,t),pow:(u,d)=>ipt(l,u,d),div:(u,d)=>qu(u*Dme(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Dme(u,t),sqrt:s||(u=>(c||(c=tpt(t)),c(l,u))),toBytes:u=>n?Yz(u,a):Zz(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?Hk(u):qk(u)},invertBatch:u=>Ume(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function zme(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Wme(t){const e=zme(t);return e+Math.ceil(e/2)}function opt(t,e,n=!1){const r=t.length,i=zme(e),s=Wme(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Hk(t):qk(t),a=qu(o,e-Ja)+Ja;return n?Yz(a,i):Zz(a,i)}const $2=BigInt(0),Fy=BigInt(1);function iE(t,e){const n=e.negate();return t?n:e}function apt(t,e,n){const r=s=>s.pz,i=Ume(t.Fp,n.map(r));return n.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function qme(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Xz(t,e){qme(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Vk(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Hme(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=Fy);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function cpt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function lpt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const eW=new WeakMap,Vme=new WeakMap;function tW(t){return Vme.get(t)||1}function Kme(t){if(t!==$2)throw new Error("invalid wNAF")}function upt(t,e){return{constTimeNegate:iE,hasPrecomputes(n){return tW(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>$2;)r&Fy&&(i=i.add(s)),s=s.double(),r>>=Fy;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Xz(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=Xz(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=Hme(i,c,a);i=l,d?o=o.add(iE(f,r[p])):s=s.add(iE(h,r[u]))}return Kme(i),{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=Xz(n,e);for(let a=0;a<o.windows&&i!==$2;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=Hme(i,a,o);if(i=c,!u){const h=r[l];s=s.add(d?h.negate():h)}}return Kme(i),s},getPrecomputes(n,r,i){let s=eW.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),eW.set(r,s))),s},wNAFCached(n,r,i){const s=tW(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=tW(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){qme(r,e),Vme.set(n,r),eW.delete(n)}}}function dpt(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>$2||r>$2;)n&Fy&&(s=s.add(i)),r&Fy&&(o=o.add(i)),i=i.double(),n>>=Fy,r>>=Fy;return{p1:s,p2:o}}function hpt(t,e,n,r){cpt(n,t),lpt(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Yft(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Vk(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const w=r[m],y=Number(w>>BigInt(f)&l);u[y]=u[y].add(n[m])}let p=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),p=p.add(w);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function Gme(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return rpt(e),e}else return k2(t)}function fpt(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>$2))throw new Error(`CURVE.${o} must be positive bigint`)}const r=Gme(e.p,n.Fp),i=Gme(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!r.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const sE=BigInt(0),T2=BigInt(1),Gk=BigInt(2);function ppt(t){return Kk(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function gpt(t){const e=ppt(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||S2,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?Gk**BigInt(254):Gk**BigInt(447),p=a?BigInt(8)*Gk**BigInt(251)-T2:BigInt(4)*Gk**BigInt(445)-T2,m=f+p+T2,w=S=>qu(S,n),y=b(d);function b(S){return Yz(w(S),u)}function v(S){const B=jc("u coordinate",S,u);return a&&(B[31]&=127),w(Hk(B))}function E(S){return Hk(i(jc("scalar",S,u)))}function _(S,B){const j=R(v(B),E(S));if(j===sE)throw new Error("invalid private or public key received");return b(j)}function T(S){return _(S,y)}function I(S,B,j){const U=w(S*(B-j));return B=w(B-U),j=w(j+U),{x_2:B,x_3:j}}function R(S,B){Qz("u",S,sE,n),Qz("scalar",B,f,m);const j=B,U=S;let M=T2,C=sE,x=S,A=T2,N=sE;for(let P=BigInt(l-1);P>=sE;P--){const D=j>>P&T2;N^=D,{x_2:M,x_3:x}=I(N,M,x),{x_2:C,x_3:A}=I(N,C,A),N=D;const L=M+C,$=w(L*L),q=M-C,V=w(q*q),F=$-V,Z=x+A,X=x-A,Y=w(X*L),te=w(Z*q),fe=Y+te,he=Y-te;x=w(fe*fe),A=w(U*w(he*he)),M=w($*V),C=w(F*($+w(h*F)))}({x_2:M,x_3:x}=I(N,M,x)),{x_2:C,x_3:A}=I(N,C,A);const O=s(C);return w(M*O)}return{scalarMult:_,scalarMultBase:T,getSharedSecret:(S,B)=>_(S,B),getPublicKey:S=>T(S),utils:{randomPrivateKey:()=>c(u)},GuBytes:y.slice()}}BigInt(0);const mpt=BigInt(1),Zme=BigInt(2),ypt=BigInt(3),wpt=BigInt(5);BigInt(8);const Yme={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function vpt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Yme.p,o=t*t%s*t%s,a=rh(o,Zme,s)*o%s,c=rh(a,mpt,s)*t%s,l=rh(c,wpt,s)*c%s,u=rh(l,e,s)*l%s,d=rh(u,n,s)*u%s,h=rh(d,r,s)*d%s,f=rh(h,i,s)*h%s,p=rh(f,i,s)*h%s,m=rh(p,e,s)*l%s;return{pow_p_5_8:rh(m,Zme,s)*t%s,b2:o}}function bpt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const nW=(()=>{const t=Yme.p;return gpt({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=vpt(e);return qu(rh(n,ypt,t)*r,t)},adjustScalarBytes:bpt})})();function Jme(t){t.lowS!==void 0&&zk("lowS",t.lowS),t.prehash!==void 0&&zk("prehash",t.prehash)}const n0={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=n0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Wk(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Wk(i.length/2|128):"";return Wk(t)+s+i+e},decode(t,e){const{Err:n}=n0;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=n0;if(t<oE)throw new e("integer: negative integers are not allowed");let n=Wk(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=n0;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return qk(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=n0,i=jc("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=n0,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},oE=BigInt(0),aE=BigInt(1),xpt=BigInt(2),Zk=BigInt(3),Ept=BigInt(4);function Cpt(t,e,n){function r(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),n)}return r}function Qme(t,e,n){const{BYTES:r}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=jc("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function _pt(t,e={}){const{Fp:n,Fn:r}=fpt("weierstrass",t,e),{h:i,n:s}=t;Kk(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!n.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(R,S,B){const{x:j,y:U}=S.toAffine(),M=n.toBytes(j);if(zk("isCompressed",B),B){a();const C=!n.isOdd(U);return Dy(Xme(C),M)}else return Dy(Uint8Array.of(4),M,n.toBytes(U))}function l(R){zu(R);const S=n.BYTES,B=S+1,j=2*S+1,U=R.length,M=R[0],C=R.subarray(1);if(U===B&&(M===2||M===3)){const x=n.fromBytes(C);if(!n.isValid(x))throw new Error("bad point: is not on curve, wrong x");const A=h(x);let N;try{N=n.sqrt(A)}catch(P){const D=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const O=n.isOdd(N);return(M&1)===1!==O&&(N=n.neg(N)),{x,y:N}}else if(U===j&&M===4){const x=n.fromBytes(C.subarray(S*0,S*1)),A=n.fromBytes(C.subarray(S*1,S*2));if(!f(x,A))throw new Error("bad point: is not on curve");return{x,y:A}}else throw new Error(`bad point: got length ${U}, expected compressed=${B} or uncompressed=${j}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=Cpt(n,t.a,t.b);function f(R,S){const B=n.sqr(S),j=h(R);return n.eql(B,j)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,Zk),Ept),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function w(R,S,B=!1){if(!n.isValid(S)||B&&n.is0(S))throw new Error(`bad point coordinate ${R}`);return S}function y(R){if(!(R instanceof _))throw new Error("ProjectivePoint expected")}const b=Rme((R,S)=>{const{px:B,py:j,pz:U}=R;if(n.eql(U,n.ONE))return{x:B,y:j};const M=R.is0();S==null&&(S=M?n.ONE:n.inv(U));const C=n.mul(B,S),x=n.mul(j,S),A=n.mul(U,S);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:x}}),v=Rme(R=>{if(R.is0()){if(e.allowInfinityPoint&&!n.is0(R.py))return;throw new Error("bad point: ZERO")}const{x:S,y:B}=R.toAffine();if(!n.isValid(S)||!n.isValid(B))throw new Error("bad point: x or y not field elements");if(!f(S,B))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(R,S,B,j,U){return B=new _(n.mul(B.px,R),B.py,B.pz),S=iE(j,S),B=iE(U,B),S.add(B)}class _{constructor(S,B,j){this.px=w("x",S),this.py=w("y",B,!0),this.pz=w("z",j),Object.freeze(this)}static fromAffine(S){const{x:B,y:j}=S||{};if(!S||!n.isValid(B)||!n.isValid(j))throw new Error("invalid affine point");if(S instanceof _)throw new Error("projective point not allowed");return n.is0(B)&&n.is0(j)?_.ZERO:new _(B,j,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return apt(_,"pz",S)}static fromBytes(S){return zu(S),_.fromHex(S)}static fromHex(S){const B=_.fromAffine(d(jc("pointHex",S)));return B.assertValidity(),B}static fromPrivateKey(S){const B=Qme(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return _.BASE.multiply(B(S))}static msm(S,B){return hpt(_,r,S,B)}precompute(S=8,B=!0){return I.setWindowSize(this,S),B||this.multiply(Zk),this}_setWindowSize(S){this.precompute(S)}assertValidity(){v(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){y(S);const{px:B,py:j,pz:U}=this,{px:M,py:C,pz:x}=S,A=n.eql(n.mul(B,x),n.mul(M,U)),N=n.eql(n.mul(j,x),n.mul(C,U));return A&&N}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:B}=t,j=n.mul(B,Zk),{px:U,py:M,pz:C}=this;let x=n.ZERO,A=n.ZERO,N=n.ZERO,O=n.mul(U,U),P=n.mul(M,M),D=n.mul(C,C),L=n.mul(U,M);return L=n.add(L,L),N=n.mul(U,C),N=n.add(N,N),x=n.mul(S,N),A=n.mul(j,D),A=n.add(x,A),x=n.sub(P,A),A=n.add(P,A),A=n.mul(x,A),x=n.mul(L,x),N=n.mul(j,N),D=n.mul(S,D),L=n.sub(O,D),L=n.mul(S,L),L=n.add(L,N),N=n.add(O,O),O=n.add(N,O),O=n.add(O,D),O=n.mul(O,L),A=n.add(A,O),D=n.mul(M,C),D=n.add(D,D),O=n.mul(D,L),x=n.sub(x,O),N=n.mul(D,P),N=n.add(N,N),N=n.add(N,N),new _(x,A,N)}add(S){y(S);const{px:B,py:j,pz:U}=this,{px:M,py:C,pz:x}=S;let A=n.ZERO,N=n.ZERO,O=n.ZERO;const P=t.a,D=n.mul(t.b,Zk);let L=n.mul(B,M),$=n.mul(j,C),q=n.mul(U,x),V=n.add(B,j),F=n.add(M,C);V=n.mul(V,F),F=n.add(L,$),V=n.sub(V,F),F=n.add(B,U);let Z=n.add(M,x);return F=n.mul(F,Z),Z=n.add(L,q),F=n.sub(F,Z),Z=n.add(j,U),A=n.add(C,x),Z=n.mul(Z,A),A=n.add($,q),Z=n.sub(Z,A),O=n.mul(P,F),A=n.mul(D,q),O=n.add(A,O),A=n.sub($,O),O=n.add($,O),N=n.mul(A,O),$=n.add(L,L),$=n.add($,L),q=n.mul(P,q),F=n.mul(D,F),$=n.add($,q),q=n.sub(L,q),q=n.mul(P,q),F=n.add(F,q),L=n.mul($,F),N=n.add(N,L),L=n.mul(Z,F),A=n.mul(V,A),A=n.sub(A,L),L=n.mul(V,$),O=n.mul(Z,O),O=n.add(O,L),new _(A,N,O)}subtract(S){return this.add(S.negate())}is0(){return this.equals(_.ZERO)}multiply(S){const{endo:B}=e;if(!r.isValidNot0(S))throw new Error("invalid scalar: out of range");let j,U;const M=C=>I.wNAFCached(this,C,_.normalizeZ);if(B){const{k1neg:C,k1:x,k2neg:A,k2:N}=B.splitScalar(S),{p:O,f:P}=M(x),{p:D,f:L}=M(N);U=P.add(L),j=E(B.beta,O,D,C,A)}else{const{p:C,f:x}=M(S);j=C,U=x}return _.normalizeZ([j,U])[0]}multiplyUnsafe(S){const{endo:B}=e,j=this;if(!r.isValid(S))throw new Error("invalid scalar: out of range");if(S===oE||j.is0())return _.ZERO;if(S===aE)return j;if(I.hasPrecomputes(this))return this.multiply(S);if(B){const{k1neg:U,k1:M,k2neg:C,k2:x}=B.splitScalar(S),{p1:A,p2:N}=dpt(_,j,M,x);return E(B.beta,A,N,U,C)}else return I.wNAFCachedUnsafe(j,S)}multiplyAndAddUnsafe(S,B,j){const U=this.multiplyUnsafe(B).add(S.multiplyUnsafe(j));return U.is0()?void 0:U}toAffine(S){return b(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return i===aE?!0:S?S(_,this):I.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:S}=e;return i===aE?this:S?S(_,this):this.multiplyUnsafe(i)}toBytes(S=!0){return zk("isCompressed",S),this.assertValidity(),u(_,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return eE(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO),_.Fp=n,_.Fn=r;const T=r.BITS,I=upt(_,e.endo?Math.ceil(T/2):T);return _}function Xme(t){return Uint8Array.of(t?2:3)}function Apt(t,e,n={}){Kk(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||S2,i=e.hmac||((j,...U)=>Uk(e.hash,j,Dy(...U))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(j){const U=a>>aE;return j>U}function u(j){return l(j)?o.neg(j):j}function d(j,U){if(!o.isValidNot0(U))throw new Error(`invalid signature ${j}: out of range 1..CURVE.n`)}class h{constructor(U,M,C){d("r",U),d("s",M),this.r=U,this.s=M,C!=null&&(this.recovery=C),Object.freeze(this)}static fromCompact(U){const M=o.BYTES,C=jc("compactSignature",U,M*2);return new h(o.fromBytes(C.subarray(0,M)),o.fromBytes(C.subarray(M,M*2)))}static fromDER(U){const{r:M,s:C}=n0.toSig(jc("DER",U));return new h(M,C)}assertValidity(){}addRecoveryBit(U){return new h(this.r,this.s,U)}recoverPublicKey(U){const M=s.ORDER,{r:C,s:x,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(a*xpt<M&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=A===2||A===3?C+a:C;if(!s.isValid(N))throw new Error("recovery id 2 or 3 invalid");const O=s.toBytes(N),P=t.fromHex(Dy(Xme((A&1)===0),O)),D=o.inv(N),L=v(jc("msgHash",U)),$=o.create(-L*D),q=o.create(x*D),V=t.BASE.multiplyUnsafe($).add(P.multiplyUnsafe(q));if(V.is0())throw new Error("point at infinify");return V.assertValidity(),V}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(U){if(U==="compact")return Dy(o.toBytes(this.r),o.toBytes(this.s));if(U==="der")return jz(n0.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return eE(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return eE(this.toBytes("compact"))}}const f=Qme(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(j){try{return f(j),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const j=a;return opt(r(Wme(j)),j)},precompute(j=8,U=t.BASE){return U.precompute(j,!1)}};function m(j,U=!0){return t.fromPrivateKey(j).toBytes(U)}function w(j){if(typeof j=="bigint")return!1;if(j instanceof t)return!0;const U=jc("key",j).length,M=s.BYTES,C=M+1,x=2*M+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===C))return U===C||U===x}function y(j,U,M=!0){if(w(j)===!0)throw new Error("first arg must be private key");if(w(U)===!1)throw new Error("second arg must be public key");return t.fromHex(U).multiply(f(j)).toBytes(M)}const b=e.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const U=qk(j),M=j.length*8-c;return M>0?U>>BigInt(M):U},v=e.bits2int_modN||function(j){return o.create(b(j))},E=Vk(c);function _(j){return Qz("num < 2^"+c,j,oE,E),o.toBytes(j)}function T(j,U,M=I){if(["recovered","canonical"].some(V=>V in M))throw new Error("sign() legacy options not supported");const{hash:C}=e;let{lowS:x,prehash:A,extraEntropy:N}=M;x==null&&(x=!0),j=jc("msgHash",j),Jme(M),A&&(j=jc("prehashed msgHash",C(j)));const O=v(j),P=f(U),D=[_(P),_(O)];if(N!=null&&N!==!1){const V=N===!0?r(s.BYTES):N;D.push(jc("extraEntropy",V))}const L=Dy(...D),$=O;function q(V){const F=b(V);if(!o.isValidNot0(F))return;const Z=o.inv(F),X=t.BASE.multiply(F).toAffine(),Y=o.create(X.x);if(Y===oE)return;const te=o.create(Z*o.create($+Y*P));if(te===oE)return;let fe=(X.x===Y?0:2)|Number(X.y&aE),he=te;return x&&l(te)&&(he=u(te),fe^=1),new h(Y,he,fe)}return{seed:L,k2sig:q}}const I={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function S(j,U,M=I){const{seed:C,k2sig:x}=T(j,U,M);return Jft(e.hash.outputLen,o.BYTES,i)(C,x)}t.BASE.precompute(8);function B(j,U,M,C=R){const x=j;U=jc("msgHash",U),M=jc("publicKey",M),Jme(C);const{lowS:A,prehash:N,format:O}=C;if("strict"in C)throw new Error("options.strict was renamed to lowS");if(O!==void 0&&!["compact","der","js"].includes(O))throw new Error('format must be "compact", "der" or "js"');const P=typeof x=="string"||Nz(x),D=!P&&!O&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!P&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,$;try{if(D)if(O===void 0||O==="js")L=new h(x.r,x.s);else throw new Error("invalid format");if(P){try{O!=="compact"&&(L=h.fromDER(x))}catch(fe){if(!(fe instanceof n0.Err))throw fe}!L&&O!=="der"&&(L=h.fromCompact(x))}$=t.fromHex(M)}catch{return!1}if(!L||A&&L.hasHighS())return!1;N&&(U=e.hash(U));const{r:q,s:V}=L,F=v(U),Z=o.inv(V),X=o.create(F*Z),Y=o.create(q*Z),te=t.BASE.multiplyUnsafe(X).add($.multiplyUnsafe(Y));return te.is0()?!1:o.create(te.x)===q}return Object.freeze({getPublicKey:m,getSharedSecret:y,sign:S,verify:B,utils:p,Point:t,Signature:h})}function Spt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=k2(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Ipt(t){const{CURVE:e,curveOpts:n}=Spt(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function kpt(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function $pt(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=Ipt(t),i=_pt(e,n),s=Apt(i,r,n);return kpt(t,s)}function rW(t,e){const n=r=>$pt({...t,hash:r});return{...n(e),create:n}}const e1e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},t1e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},n1e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Tpt=k2(e1e.p),Ppt=k2(t1e.p),Npt=k2(n1e.p),Opt=rW({...e1e,Fp:Tpt,lowS:!1},jk);rW({...t1e,Fp:Ppt,lowS:!1},zht),rW({...n1e,Fp:Npt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Fht);const Rpt=Opt,r1e="base10",Qa="base16",Dc="base64pad",xm="base64url",cE="utf8",i1e=0,r0=1,lE=2,Mpt=0,s1e=1,uE=12,iW=32;function jpt(){const t=nW.utils.randomPrivateKey(),e=nW.getPublicKey(t);return{privateKey:Rc(t,Qa),publicKey:Rc(e,Qa)}}function sW(){const t=S2(iW);return Rc(t,Qa)}function Bpt(t,e){const n=nW.getSharedSecret(Fu(t,Qa),Fu(e,Qa)),r=Gft(Fk,n,void 0,void 0,iW);return Rc(r,Qa)}function Yk(t){const e=Fk(Fu(t,Qa));return Rc(e,Qa)}function Hu(t){const e=Fk(Fu(t,cE));return Rc(e,Qa)}function o1e(t){return Fu(`${t}`,r1e)}function zy(t){return Number(Rc(t,r1e))}function a1e(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function c1e(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Dpt(t){const e=o1e(typeof t.type<"u"?t.type:i1e);if(zy(e)===r0&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Fu(t.senderPublicKey,Qa):void 0,r=typeof t.iv<"u"?Fu(t.iv,Qa):S2(uE),i=Fu(t.symKey,Qa),s=Tme(i,r).encrypt(Fu(t.message,cE)),o=l1e({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===xm?a1e(o):o}function Lpt(t){const e=Fu(t.symKey,Qa),{sealed:n,iv:r}=dE({encoded:t.encoded,encoding:t.encoding}),i=Tme(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Rc(i,cE)}function Upt(t,e){const n=o1e(lE),r=S2(uE),i=Fu(t,cE),s=l1e({type:n,sealed:i,iv:r});return e===xm?a1e(s):s}function Fpt(t,e){const{sealed:n}=dE({encoded:t,encoding:e});return Rc(n,cE)}function l1e(t){if(zy(t.type)===lE)return Rc(Hx([t.type,t.sealed]),Dc);if(zy(t.type)===r0){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Rc(Hx([t.type,t.senderPublicKey,t.iv,t.sealed]),Dc)}return Rc(Hx([t.type,t.iv,t.sealed]),Dc)}function dE(t){const e=(t.encoding||Dc)===xm?c1e(t.encoded):t.encoded,n=Fu(e,Dc),r=n.slice(Mpt,s1e),i=s1e;if(zy(r)===r0){const c=i+iW,l=c+uE,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(zy(r)===lE){const c=n.slice(i),l=S2(uE);return{type:r,sealed:c,iv:l}}const s=i+uE,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function zpt(t,e){const n=dE({encoded:t,encoding:e==null?void 0:e.encoding});return u1e({type:zy(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Rc(n.senderPublicKey,Qa):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function u1e(t){const e=(t==null?void 0:t.type)||i1e;if(e===r0){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function d1e(t){return t.type===r0&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function h1e(t){return t.type===lE}function Wpt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Hx([new Uint8Array([4]),e,n])}function qpt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(c1e(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=Fk(c),u=Wpt(e);if(!Rpt.verify(Hx([o,a]),l,u))throw new Error("Invalid signature");return C2(t).payload}const Hpt="irn";function Jk(t){return(t==null?void 0:t.relay)||{protocol:Hpt}}function P2(t){const e=bge[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Vpt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function f1e(t){if(!t.includes("wc:")){const l=Kge(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Kpt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:Vpt(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Kpt(t){return t.startsWith("//")?t.substring(2):t}function Gpt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function p1e(t){const e=new URLSearchParams,n=Gpt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Qk(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var Zpt=Object.defineProperty,Ypt=Object.defineProperties,Jpt=Object.getOwnPropertyDescriptors,g1e=Object.getOwnPropertySymbols,Qpt=Object.prototype.hasOwnProperty,Xpt=Object.prototype.propertyIsEnumerable,m1e=(t,e,n)=>e in t?Zpt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e0t=(t,e)=>{for(var n in e||(e={}))Qpt.call(e,n)&&m1e(t,n,e[n]);if(g1e)for(var n of g1e(e))Xpt.call(e,n)&&m1e(t,n,e[n]);return t},t0t=(t,e)=>Ypt(t,Jpt(e));function N2(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function n0t(t){const e=[];return Object.values(t).forEach(n=>{e.push(...N2(n.accounts))}),e}function r0t(t,e){const n=[];return Object.values(t).forEach(r=>{N2(r.accounts).includes(e)&&n.push(...r.methods)}),n}function i0t(t,e){const n=[];return Object.values(t).forEach(r=>{N2(r.accounts).includes(e)&&n.push(...r.events)}),n}function Xk(t){return t.includes(":")}function O2(t){return Xk(t)?t.split(":")[0]:t}function y1e(t){var e,n,r;const i={};if(!Ef(t))return i;for(const[s,o]of Object.entries(t)){const a=Xk(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=O2(s);i[u]=t0t(e0t({},i[u]),{chains:bf(a,(e=i[u])==null?void 0:e.chains),methods:bf(c,(n=i[u])==null?void 0:n.methods),events:bf(l,(r=i[u])==null?void 0:r.events)})}return i}function s0t(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function w1e(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=s0t(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=bf(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function o0t(t,e){var n,r,i,s,o,a;const c=y1e(t),l=y1e(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:bf((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:bf((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:bf((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const a0t={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},c0t={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function rt(t,e){const{message:n,code:r}=c0t[t];return{message:e?`${n} ${e}`:n,code:r}}function li(t,e){const{message:n,code:r}=a0t[t];return{message:e?`${n} ${e}`:n,code:r}}function Vu(t,e){return!!Array.isArray(t)}function Ef(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ms(t){return typeof t>"u"}function ys(t,e){return e&&Ms(t)?!0:typeof t=="string"&&!!t.trim().length}function oW(t,e){return e&&Ms(t)?!0:typeof t=="number"&&!isNaN(t)}function l0t(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return jy(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=N2(a),d=n[o];(!jy(jge(o,d),u)||!jy(d.methods,c)||!jy(d.events,l))&&(s=!1)}),s):!1}function e$(t){return ys(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function u0t(t){if(ys(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&e$(n)}}return!1}function d0t(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(ys(t,!1)){if(e(t))return!0;const n=Kge(t);return e(n)}}catch{}return!1}function h0t(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function f0t(t){return t==null?void 0:t.topic}function p0t(t,e){let n=null;return ys(t==null?void 0:t.publicKey,!1)||(n=rt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function v1e(t){let e=!0;return Vu(t)?t.length&&(e=t.every(n=>ys(n,!1))):e=!1,e}function g0t(t,e,n){let r=null;return Vu(e)&&e.length?e.forEach(i=>{r||e$(i)||(r=li("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):e$(t)||(r=li("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function m0t(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=g0t(i,jge(i,s),`${e} ${n}`);o&&(r=o)}),r}function y0t(t,e){let n=null;return Vu(t)?t.forEach(r=>{n||u0t(r)||(n=li("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=li("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function w0t(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=y0t(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function v0t(t,e){let n=null;return v1e(t==null?void 0:t.methods)?v1e(t==null?void 0:t.events)||(n=li("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=li("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function b1e(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=v0t(r,`${e}, namespace`);i&&(n=i)}),n}function b0t(t,e,n){let r=null;if(t&&Ef(t)){const i=b1e(t,e);i&&(r=i);const s=m0t(t,e,n);s&&(r=s)}else r=rt("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function aW(t,e){let n=null;if(t&&Ef(t)){const r=b1e(t,e);r&&(n=r);const i=w0t(t,e);i&&(n=i)}else n=rt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function x1e(t){return ys(t.protocol,!0)}function x0t(t,e){let n=!1;return t?t&&Vu(t)&&t.length&&t.forEach(r=>{n=x1e(r)}):n=!0,n}function E0t(t){return typeof t=="number"}function Lc(t){return typeof t<"u"&&typeof t!==null}function C0t(t){return!(!t||typeof t!="object"||!t.code||!oW(t.code,!1)||!t.message||!ys(t.message,!1))}function _0t(t){return!(Ms(t)||!ys(t.method,!1))}function A0t(t){return!(Ms(t)||Ms(t.result)&&Ms(t.error)||!oW(t.id,!1)||!ys(t.jsonrpc,!1))}function S0t(t){return!(Ms(t)||!ys(t.name,!1))}function E1e(t,e){return!(!e$(e)||!n0t(t).includes(e))}function I0t(t,e,n){return ys(n,!1)?r0t(t,e).includes(n):!1}function k0t(t,e,n){return ys(n,!1)?i0t(t,e).includes(n):!1}function C1e(t,e,n){let r=null;const i=$0t(t),s=T0t(e),o=Object.keys(i),a=Object.keys(s),c=_1e(Object.keys(t)),l=_1e(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=rt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),jy(o,a)||(r=rt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=N2(e[d].accounts);h.includes(d)||(r=rt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(jy(i[d].methods,s[d].methods)?jy(i[d].events,s[d].events)||(r=rt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=rt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function $0t(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function _1e(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function T0t(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=N2(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function P0t(t,e){return oW(t,!1)&&t<=e.max&&t>=e.min}function A1e(){const t=Yx();return new Promise(e=>{switch(t){case Dl.browser:e(N0t());break;case Dl.reactNative:e(O0t());break;case Dl.node:e(R0t());break;default:e(!0)}})}function N0t(){return _2()&&(navigator==null?void 0:navigator.onLine)}async function O0t(){if(cm()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function R0t(){return!0}function M0t(t){switch(Yx()){case Dl.browser:j0t(t);break;case Dl.reactNative:B0t(t);break}}function j0t(t){!cm()&&_2()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function B0t(t){cm()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function D0t(){var t;return _2()&&Za()?((t=Za())==null?void 0:t.visibilityState)==="visible":!0}const cW={};let hE=class{static get(e){return cW[e]}static set(e,n){cW[e]=n}static delete(e){delete cW[e]}};function L0t(t){const e=nm.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function U0t({publicKey:t,signature:e,payload:n}){var r;const i=lW(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=W0t(n.address),a=n.era==="00"?new Uint8Array([0]):lW(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${z0t(n.tip)}`),d=H0t(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...i]),f=q0t(h.length+1);return new Uint8Array([...f,s,...h])}function F0t(t){const e=lW(t),n=Ndt.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function lW(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function z0t(t){return t.startsWith("0x")?t.slice(2):t}function W0t(t){const e=nm.decode(t)[0];return e===42?0:e===60?2:1}function q0t(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function H0t(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function V0t(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=L0t(t.transaction.address),r=U0t({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return F0t(i)}class Ll{}let K0t=class extends Ll{constructor(e){super()}};const S1e=me.FIVE_SECONDS,Ul={pulse:"heartbeat_pulse"};let I1e=class RAe extends K0t{constructor(e){super(e),this.events=new ms.EventEmitter,this.interval=S1e,this.interval=(e==null?void 0:e.interval)||S1e}static async init(e){const n=new RAe(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),me.toMiliseconds(this.interval))}pulse(){this.events.emit(Ul.pulse)}};function G0t(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Ys(t,...e){try{return G0t(t(...e))}catch(n){return Promise.reject(n)}}function Z0t(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Y0t(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function t$(t){if(Z0t(t))return String(t);if(Y0t(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return t$(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const uW="base64:";function J0t(t){return typeof t=="string"?t:uW+egt(t)}function Q0t(t){return typeof t!="string"||!t.startsWith(uW)?t:X0t(t.slice(uW.length))}function X0t(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function egt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Uc(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function tgt(...t){return Uc(t.join(":"))}function n$(t){return t=Uc(t),t?t+":":""}function ngt(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function rgt(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}function jen(t){return t}const igt="memory",sgt=()=>{const t=new Map;return{name:igt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function ogt(t={}){const e={mounts:{"":t.driver||sgt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=Uc(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await k1e(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",w=Uc(m?p:p.key),y=m?void 0:p.value,b=m||!p.options?u:{...u,...p.options},v=n(w);f(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Uc(l);const{relativeKey:d,driver:h}=n(l);return Ys(h.hasItem,d,u)},getItem(l,u={}){l=Uc(l);const{relativeKey:d,driver:h}=n(l);return Ys(h.getItem,d,u).then(f=>Dp(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Ys(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:tgt(d.base,f.key),value:Dp(f.value)}))):Promise.all(d.items.map(h=>Ys(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:Dp(f)})))))},getItemRaw(l,u={}){l=Uc(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?Ys(h.getItemRaw,d,u):Ys(h.getItem,d,u).then(f=>Q0t(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Uc(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await Ys(f.setItem,h,t$(u),d),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Ys(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:t$(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Ys(d.driver.setItem,h.relativeKey,t$(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Uc(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await Ys(f.setItemRaw,h,u,d);else if(f.setItem)await Ys(f.setItem,h,J0t(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Uc(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await Ys(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Ys(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Uc(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Ys(h.getMeta,d,u)),!u.nativeOnly){const p=await Ys(h.getItem,d+"$",u).then(m=>Dp(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var w;l=n$(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){(w=y.driver.flags)!=null&&w.maxDepth||(p=!1);const b=await Ys(y.driver.getKeys,y.relativeBase,u);for(const v of b){const E=y.mountpoint+Uc(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[y.mountpoint,...h.filter(v=>!v.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(y=>(!m||ngt(y,u.maxDepth))&&rgt(y,l))},async clear(l,u={}){l=n$(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return Ys(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>$1e(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=n$(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(k1e(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=n$(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await $1e(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Uc(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Uc(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function k1e(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function $1e(t){typeof t.dispose=="function"&&await Ys(t.dispose)}function Wy(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function r$(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Wy(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let dW;function fE(){return dW||(dW=r$("keyval-store","keyval")),dW}function pE(t,e=fE()){return e("readonly",n=>Wy(n.get(t)))}function hW(t,e,n=fE()){return n("readwrite",r=>(r.put(e,t),Wy(r.transaction)))}function fW(t,e=fE()){return e("readwrite",n=>(n.delete(t),Wy(n.transaction)))}function T1e(t=fE()){return t("readwrite",e=>(e.clear(),Wy(e.transaction)))}function agt(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Wy(t.transaction)}function P1e(t=fE()){return t("readonly",e=>{if(e.getAllKeys)return Wy(e.getAllKeys());const n=[];return agt(e,r=>n.push(r.key)).then(()=>n)})}const cgt="idb-keyval";var lgt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=r$(t.dbName,t.storeName)),{name:cgt,options:t,async hasItem(i){return!(typeof await pE(n(i),r)>"u")},async getItem(i){return await pE(n(i),r)??null},setItem(i,s){return hW(n(i),s,r)},removeItem(i){return fW(n(i),r)},getKeys(){return P1e(r)},clear(){return T1e(r)}}};const ugt="WALLET_CONNECT_V2_INDEXED_DB",dgt="keyvaluestorage";let hgt=class{constructor(){this.indexedDb=ogt({driver:lgt({dbName:ugt,storeName:dgt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Nc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var pW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i$={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof pW<"u"&&pW.localStorage?i$.exports=pW.localStorage:typeof window<"u"&&window.localStorage?i$.exports=window.localStorage:i$.exports=new e})();function fgt(t){var e;return[t[0],Xd((e=t[1])!=null?e:"")]}let pgt=class{constructor(){this.localStorage=i$.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(fgt)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Xd(n)}async setItem(e,n){this.localStorage.setItem(e,Nc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const ggt="wc_storage_version",N1e=1,mgt=async(t,e,n)=>{const r=ggt,i=await e.getItem(r);if(i&&i>=N1e){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,N1e),n(e),ygt(t,o)},ygt=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let wgt=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new pgt;this.storage=e;try{const n=new hgt;mgt(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function vgt(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var gW=bgt;function bgt(t,e,n){var r=n&&n.stringify||vgt,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const O1e=gW;var R2=Cf;const gE=Tgt().console||{},xgt={mapHttpRequest:o$,mapHttpResponse:o$,wrapRequestSerializer:yW,wrapResponseSerializer:yW,wrapErrorSerializer:yW,req:o$,res:o$,err:Sgt};function Egt(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Cf(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||gE;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Egt(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=mE),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Igt(t)};c.levels=Cf.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=mE,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=mW());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,M2(l,c,"error","log"),M2(l,c,"fatal","error"),M2(l,c,"warn","error"),M2(l,c,"info","log"),M2(l,c,"debug","log"),M2(l,c,"trace","log")}function f(p,m){if(!p)throw new Error("missing bindings for child Pino");m=m||{},i&&p.serializers&&(m.serializers=p.serializers);const w=m.serializers;if(i&&w){var y=Object.assign({},r,w),b=t.browser.serialize===!0?Object.keys(y):i;delete p.serializers,s$([p],b,y,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=j2(E,p,"error"),this.fatal=j2(E,p,"fatal"),this.warn=j2(E,p,"warn"),this.info=j2(E,p,"info"),this.debug=j2(E,p,"debug"),this.trace=j2(E,p,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=mW([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}Cf.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Cf.stdSerializers=xgt,Cf.stdTimeFunctions=Object.assign({},{nullTime:R1e,epochTime:M1e,unixTime:kgt,isoTime:$gt});function M2(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?mE:i[n]?i[n]:gE[n]||gE[r]||mE,Cgt(t,e,n)}function Cgt(t,e,n){!t.transmit&&e[n]===mE||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===gE?gE:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&s$(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,_gt(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Cf.levels.values[l],d=Cf.levels.values[n];if(d<u)return;Agt(this,{ts:s,methodLevel:n,methodValue:d,transmitValue:Cf.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function _gt(t,e,n,r){t._serialize&&s$(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=Cf.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?O1e(i.shift(),i):void 0}else typeof s=="string"&&(s=O1e(i.shift(),i));return s!==void 0&&(o.msg=s),o}function s$(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Cf.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function j2(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Agt(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;s$(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=mW(c)}function mW(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Sgt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Igt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?R1e:M1e}function o$(){return{}}function yW(t){return t}function mE(){}function R1e(){return!1}function M1e(){return Date.now()}function kgt(){return Math.round(Date.now()/1e3)}function $gt(){return new Date(Date.now()).toISOString()}function Tgt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const wW=Hi(R2),Pgt={level:"info"},yE="custom_context",vW=1e3*1024;let Ngt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},j1e=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Ngt(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},B1e=class{constructor(e,n=vW){this.level=e??"error",this.levelValue=R2.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new j1e(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===R2.levels.values.error?console.error(e):n===R2.levels.values.warn?console.warn(e):n===R2.levels.values.debug?console.debug(e):n===R2.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Nc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new j1e(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Nc({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Ogt=class{constructor(e,n=vW){this.baseChunkLogger=new B1e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Rgt=class{constructor(e,n=vW){this.baseChunkLogger=new B1e(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Mgt=Object.defineProperty,jgt=Object.defineProperties,Bgt=Object.getOwnPropertyDescriptors,D1e=Object.getOwnPropertySymbols,Dgt=Object.prototype.hasOwnProperty,Lgt=Object.prototype.propertyIsEnumerable,L1e=(t,e,n)=>e in t?Mgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a$=(t,e)=>{for(var n in e||(e={}))Dgt.call(e,n)&&L1e(t,n,e[n]);if(D1e)for(var n of D1e(e))Lgt.call(e,n)&&L1e(t,n,e[n]);return t},c$=(t,e)=>jgt(t,Bgt(e));function U1e(t){return c$(a$({},t),{level:(t==null?void 0:t.level)||Pgt.level})}function Ugt(t,e=yE){return t[e]||""}function Fgt(t,e,n=yE){return t[n]=e,t}function Fl(t,e=yE){let n="";return typeof t.bindings>"u"?n=Ugt(t,e):n=t.bindings().context||"",n}function zgt(t,e,n=yE){const r=Fl(t,n);return r.trim()?`${r}/${e}`:e}function Fc(t,e,n=yE){const r=zgt(t,e,n),i=t.child({context:r});return Fgt(i,r,n)}function Wgt(t){var e,n;const r=new Ogt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:wW(c$(a$({},t.opts),{level:"trace",browser:c$(a$({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function qgt(t){var e;const n=new Rgt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:wW(c$(a$({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function Hgt(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Wgt(t):qgt(t)}var Vgt=Object.defineProperty,Kgt=(t,e,n)=>e in t?Vgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F1e=(t,e,n)=>Kgt(t,typeof e!="symbol"?e+"":e,n);let Ggt=class extends Ll{constructor(e){super(),this.opts=e,F1e(this,"protocol","wc"),F1e(this,"version",2)}};var Zgt=Object.defineProperty,Ygt=(t,e,n)=>e in t?Zgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jgt=(t,e,n)=>Ygt(t,e+"",n);let Qgt=class extends Ll{constructor(e,n){super(),this.core=e,this.logger=n,Jgt(this,"records",new Map)}},Xgt=class{constructor(e,n){this.logger=e,this.core=n}},emt=class extends Ll{constructor(e,n){super(),this.relayer=e,this.logger=n}},tmt=class extends Ll{constructor(e){super()}},nmt=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},rmt=class extends Ll{constructor(e,n){super(),this.relayer=e,this.logger=n}},imt=class extends Ll{constructor(e,n){super(),this.core=e,this.logger=n}},smt=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},omt=class{constructor(e,n){this.projectId=e,this.logger=n}},amt=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var cmt=Object.defineProperty,lmt=(t,e,n)=>e in t?cmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z1e=(t,e,n)=>lmt(t,typeof e!="symbol"?e+"":e,n);let umt=class{constructor(e){this.opts=e,z1e(this,"protocol","wc"),z1e(this,"version",2)}},dmt=class{constructor(e){this.client=e}};const hmt="PARSE_ERROR",fmt="INVALID_REQUEST",pmt="METHOD_NOT_FOUND",gmt="INVALID_PARAMS",W1e="INTERNAL_ERROR",bW="SERVER_ERROR",mmt=[-32700,-32600,-32601,-32602,-32603],wE={[hmt]:{code:-32700,message:"Parse error"},[fmt]:{code:-32600,message:"Invalid Request"},[pmt]:{code:-32601,message:"Method not found"},[gmt]:{code:-32602,message:"Invalid params"},[W1e]:{code:-32603,message:"Internal error"},[bW]:{code:-32e3,message:"Server error"}},q1e=bW;function ymt(t){return mmt.includes(t)}function H1e(t){return Object.keys(wE).includes(t)?wE[t]:wE[q1e]}function wmt(t){const e=Object.values(wE).find(n=>n.code===t);return e||wE[q1e]}function V1e(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var K1e={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var xW=function(t,e){return xW=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},xW(t,e)};function vmt(t,e){xW(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var EW=function(){return EW=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EW.apply(this,arguments)};function bmt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xmt(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Emt(t,e){return function(n,r){e(n,r,t)}}function Cmt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _mt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Amt(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Smt(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Imt(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function CW(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G1e(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function kmt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(G1e(arguments[e]));return t}function $mt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function vE(t){return this instanceof vE?(this.v=t,this):new vE(t)}function Tmt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof vE?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pmt(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:vE(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Nmt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CW=="function"?CW(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Omt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Rmt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Mmt(t){return t&&t.__esModule?t:{default:t}}function jmt(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Bmt(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Dmt=xv(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return EW},__asyncDelegator:Pmt,__asyncGenerator:Tmt,__asyncValues:Nmt,__await:vE,__awaiter:_mt,__classPrivateFieldGet:jmt,__classPrivateFieldSet:Bmt,__createBinding:Smt,__decorate:xmt,__exportStar:Imt,__extends:vmt,__generator:Amt,__importDefault:Mmt,__importStar:Rmt,__makeTemplateObject:Omt,__metadata:Cmt,__param:Emt,__read:G1e,__rest:bmt,__spread:kmt,__spreadArrays:$mt,__values:CW},Symbol.toStringTag,{value:"Module"})));var i0={},Z1e;function Lmt(){if(Z1e)return i0;Z1e=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.isBrowserCryptoAvailable=i0.getSubtleCrypto=i0.getBrowerCrypto=void 0;function t(){return(Jn==null?void 0:Jn.crypto)||(Jn==null?void 0:Jn.msCrypto)||{}}i0.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}i0.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return i0.isBrowserCryptoAvailable=n,i0}var s0={},Y1e;function Umt(){if(Y1e)return s0;Y1e=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.isBrowser=s0.isNode=s0.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}s0.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}s0.isNode=e;function n(){return!t()&&!e()}return s0.isBrowser=n,s0}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dmt;e.__exportStar(Lmt(),t),e.__exportStar(Umt(),t)})(K1e);function Js(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function zc(t=6){return BigInt(Js(t))}function Io(t,e,n){return{id:n||Js(),jsonrpc:"2.0",method:t,params:e}}function o0(t,e){return{id:t,jsonrpc:"2.0",result:e}}function B2(t,e,n){return{id:t,jsonrpc:"2.0",error:Fmt(e)}}function Fmt(t,e){return typeof t>"u"?H1e(W1e):(typeof t=="string"&&(t=Object.assign(Object.assign({},H1e(bW)),{message:t})),ymt(t.code)&&(t=wmt(t.code)),t)}let zmt=class{},Wmt=class extends zmt{constructor(){super()}},qmt=class extends Wmt{constructor(e){super()}};const Hmt="^https?:",Vmt="^wss?:";function Kmt(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function J1e(t,e){const n=Kmt(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function Q1e(t){return J1e(t,Hmt)}function X1e(t){return J1e(t,Vmt)}function Gmt(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function eye(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function D2(t){return eye(t)&&"method"in t}function qy(t){return eye(t)&&(js(t)||Di(t))}function js(t){return"result"in t}function Di(t){return"error"in t}let bi=class extends qmt{constructor(e){super(e),this.events=new ms.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Io(e.method,e.params||[],e.id||zc().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Di(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),qy(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Zmt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Ymt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",tye=t=>t.split("?")[0],nye=10,Jmt=Zmt();let rye=class{constructor(e){if(this.url=e,this.events=new ms.EventEmitter,this.registering=!1,!X1e(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Nc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!X1e(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=K1e.isReactNative()?void 0:{rejectUnauthorized:!Gmt(e)},s=new Jmt(e,[],i);Ymt()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xd(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=B2(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return V1e(e,tye(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>nye&&this.events.setMaxListeners(nye)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${tye(this.url)}`));return this.events.emit("register_error",n),n}};var Qmt={};const iye="wc",sye=2,_W="core",_f=`${iye}@2:${_W}:`,Xmt={logger:"error"},e1t={database:":memory:"},t1t="crypto",oye="client_ed25519_seed",n1t=me.ONE_DAY,r1t="keychain",i1t="0.3",s1t="messages",o1t="0.3",a1t=me.SIX_HOURS,c1t="publisher",aye="irn",l1t="error",cye="wss://relay.walletconnect.org",u1t="relayer",Xi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},d1t="_subscription",Ku={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},h1t=.1,AW="2.21.7",ui={link_mode:"link_mode",relay:"relay"},l$={inbound:"inbound",outbound:"outbound"},f1t="0.3",p1t="WALLETCONNECT_CLIENT_ID",lye="WALLETCONNECT_LINK_MODE_APPS",zl={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},g1t="subscription",m1t="0.3",y1t="pairing",w1t="0.3",bE={wc_pairingDelete:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:me.ONE_DAY,prompt:!1,tag:0},res:{ttl:me.ONE_DAY,prompt:!1,tag:0}}},Hy={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ih={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},v1t="history",b1t="0.3",x1t="expirer",Gu={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},E1t="0.3",C1t="verify-api",_1t="https://verify.walletconnect.com",uye="https://verify.walletconnect.org",xE=uye,A1t=`${xE}/v3`,S1t=[_1t,uye],I1t="echo",k1t="https://echo.walletconnect.com",Af={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},a0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Em={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},EE={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Vy={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},CE={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},$1t=.1,T1t="event-client",P1t=86400,N1t="https://pulse.walletconnect.org/batch";function O1t(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],T=0,I=v-1;(_!==0||T<w)&&I!==-1;I--,T++)_+=256*E[I]>>>0,E[I]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=T,y++}for(var R=v-w;R!==v&&E[R]===0;)R++;for(var S=c.repeat(m);R<v;++R)S+=t.charAt(E[R]);return S}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,T=b-1;(E!==0||_<y)&&T!==-1;T--,_++)E+=a*v[T]>>>0,v[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var I=b-y;I!==b&&v[I]===0;)I++;for(var R=new Uint8Array(w+(b-I)),S=w;I!==b;)R[S++]=v[I++];return R}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var R1t=O1t,M1t=R1t;const dye=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},j1t=t=>new TextEncoder().encode(t),B1t=t=>new TextDecoder().decode(t);let D1t=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},L1t=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hye(this,e)}},U1t=class{constructor(e){this.decoders=e}or(e){return hye(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const hye=(t,e)=>new U1t({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let F1t=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new D1t(e,n,r),this.decoder=new L1t(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const u$=({name:t,prefix:e,encode:n,decode:r})=>new F1t(t,e,n,r),_E=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=M1t(n,e);return u$({prefix:t,name:e,encode:r,decode:s=>dye(i(s))})},z1t=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},W1t=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ko=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>u$({prefix:e,name:t,encode(i){return W1t(i,r,n)},decode(i){return z1t(i,r,n,t)}}),q1t=u$({prefix:"\0",name:"identity",encode:t=>B1t(t),decode:t=>j1t(t)});var H1t=Object.freeze({__proto__:null,identity:q1t});const V1t=ko({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var K1t=Object.freeze({__proto__:null,base2:V1t});const G1t=ko({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Z1t=Object.freeze({__proto__:null,base8:G1t});const Y1t=_E({prefix:"9",name:"base10",alphabet:"0123456789"});var J1t=Object.freeze({__proto__:null,base10:Y1t});const Q1t=ko({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),X1t=ko({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var eyt=Object.freeze({__proto__:null,base16:Q1t,base16upper:X1t});const tyt=ko({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nyt=ko({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ryt=ko({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iyt=ko({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),syt=ko({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),oyt=ko({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ayt=ko({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cyt=ko({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lyt=ko({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var uyt=Object.freeze({__proto__:null,base32:tyt,base32upper:nyt,base32pad:ryt,base32padupper:iyt,base32hex:syt,base32hexupper:oyt,base32hexpad:ayt,base32hexpadupper:cyt,base32z:lyt});const dyt=_E({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hyt=_E({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var fyt=Object.freeze({__proto__:null,base36:dyt,base36upper:hyt});const pyt=_E({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gyt=_E({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var myt=Object.freeze({__proto__:null,base58btc:pyt,base58flickr:gyt});const yyt=ko({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wyt=ko({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),vyt=ko({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),byt=ko({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xyt=Object.freeze({__proto__:null,base64:yyt,base64pad:wyt,base64url:vyt,base64urlpad:byt});const fye=Array.from(""),Eyt=fye.reduce((t,e,n)=>(t[n]=e,t),[]),Cyt=fye.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function _yt(t){return t.reduce((e,n)=>(e+=Eyt[n],e),"")}function Ayt(t){const e=[];for(const n of t){const r=Cyt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Syt=u$({prefix:"",name:"base256emoji",encode:_yt,decode:Ayt});var Iyt=Object.freeze({__proto__:null,base256emoji:Syt}),kyt=gye,pye=128,$yt=-128,Tyt=Math.pow(2,31);function gye(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Tyt;)e[n++]=t&255|pye,t/=128;for(;t&$yt;)e[n++]=t&255|pye,t>>>=7;return e[n]=t|0,gye.bytes=n-r+1,e}var Pyt=SW,Nyt=128,mye=127;function SW(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw SW.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&mye)<<i:(o&mye)*Math.pow(2,i),i+=7}while(o>=Nyt);return SW.bytes=s-r,n}var Oyt=Math.pow(2,7),Ryt=Math.pow(2,14),Myt=Math.pow(2,21),jyt=Math.pow(2,28),Byt=Math.pow(2,35),Dyt=Math.pow(2,42),Lyt=Math.pow(2,49),Uyt=Math.pow(2,56),Fyt=Math.pow(2,63),zyt=function(t){return t<Oyt?1:t<Ryt?2:t<Myt?3:t<jyt?4:t<Byt?5:t<Dyt?6:t<Lyt?7:t<Uyt?8:t<Fyt?9:10},Wyt={encode:kyt,decode:Pyt,encodingLength:zyt},yye=Wyt;const wye=(t,e,n=0)=>(yye.encode(t,e,n),e),vye=t=>yye.encodingLength(t),IW=(t,e)=>{const n=e.byteLength,r=vye(t),i=r+vye(n),s=new Uint8Array(i+n);return wye(t,s,0),wye(n,s,r),s.set(e,i),new qyt(t,n,e,s)};let qyt=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const bye=({name:t,code:e,encode:n})=>new Hyt(t,e,n);let Hyt=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?IW(this.code,n):n.then(r=>IW(this.code,r))}else throw Error("Unknown type, must be binary type")}};const xye=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Vyt=bye({name:"sha2-256",code:18,encode:xye("SHA-256")}),Kyt=bye({name:"sha2-512",code:19,encode:xye("SHA-512")});var Gyt=Object.freeze({__proto__:null,sha256:Vyt,sha512:Kyt});const Eye=0,Zyt="identity",Cye=dye;var Yyt=Object.freeze({__proto__:null,identity:{code:Eye,name:Zyt,encode:Cye,digest:t=>IW(Eye,Cye(t))}});new TextEncoder,new TextDecoder;const _ye={...H1t,...K1t,...Z1t,...J1t,...eyt,...uyt,...fyt,...myt,...xyt,...Iyt};({...Gyt,...Yyt});function Aye(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Jyt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Aye(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Sye(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Iye=Sye("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),kW=Sye("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Jyt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Qyt={utf8:Iye,"utf-8":Iye,hex:_ye.base16,latin1:kW,ascii:kW,binary:kW,..._ye};function Xyt(t,e="utf8"){const n=Qyt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Aye(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var ewt=Object.defineProperty,twt=(t,e,n)=>e in t?ewt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sf=(t,e,n)=>twt(t,typeof e!="symbol"?e+"":e,n);let nwt=class{constructor(e,n){this.core=e,this.logger=n,Sf(this,"keychain",new Map),Sf(this,"name",r1t),Sf(this,"version",i1t),Sf(this,"initialized",!1),Sf(this,"storagePrefix",_f),Sf(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Sf(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Sf(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Sf(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=rt("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Sf(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Fc(n,this.name)}get context(){return Fl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Iz(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kz(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var rwt=Object.defineProperty,iwt=(t,e,n)=>e in t?rwt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$o=(t,e,n)=>iwt(t,typeof e!="symbol"?e+"":e,n);let swt=class{constructor(e,n,r){this.core=e,this.logger=n,$o(this,"name",t1t),$o(this,"keychain"),$o(this,"randomSessionIdentifier",sW()),$o(this,"initialized",!1),$o(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),$o(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),$o(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Sk(i);return xz(s.publicKey)}),$o(this,"generateKeyPair",()=>{this.isInitialized();const i=jpt();return this.setPrivateKey(i.publicKey,i.privateKey)}),$o(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=Sk(s),a=this.randomSessionIdentifier;return await fge(a,i,n1t,o)}),$o(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Bpt(a,s);return this.setSymKey(c,o)}),$o(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Yk(i);return await this.keychain.set(o,i),o}),$o(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),$o(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),$o(this,"encode",async(i,s,o)=>{this.isInitialized();const a=u1e(o),c=Nc(s);if(h1e(a))return Upt(c,o==null?void 0:o.encoding);if(d1e(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return Dpt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),$o(this,"decode",async(i,s,o)=>{this.isInitialized();const a=zpt(s,o);if(h1e(a)){const c=Fpt(s,o==null?void 0:o.encoding);return Xd(c)}if(d1e(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=Lpt({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Xd(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),$o(this,"getPayloadType",(i,s=Dc)=>{const o=dE({encoded:i,encoding:s});return zy(o.type)}),$o(this,"getPayloadSenderPublicKey",(i,s=Dc)=>{const o=dE({encoded:i,encoding:s});return o.senderPublicKey?Rc(o.senderPublicKey,Qa):void 0}),this.core=e,this.logger=Fc(n,this.name),this.keychain=r||new nwt(this.core,this.logger)}get context(){return Fl(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(oye)}catch{e=sW(),await this.keychain.set(oye,e)}return Xyt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var owt=Object.defineProperty,awt=Object.defineProperties,cwt=Object.getOwnPropertyDescriptors,kye=Object.getOwnPropertySymbols,lwt=Object.prototype.hasOwnProperty,uwt=Object.prototype.propertyIsEnumerable,$W=(t,e,n)=>e in t?owt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dwt=(t,e)=>{for(var n in e||(e={}))lwt.call(e,n)&&$W(t,n,e[n]);if(kye)for(var n of kye(e))uwt.call(e,n)&&$W(t,n,e[n]);return t},hwt=(t,e)=>awt(t,cwt(e)),Wl=(t,e,n)=>$W(t,typeof e!="symbol"?e+"":e,n);let fwt=class extends Xgt{constructor(e,n){super(e,n),this.logger=e,this.core=n,Wl(this,"messages",new Map),Wl(this,"messagesWithoutClientAck",new Map),Wl(this,"name",s1t),Wl(this,"version",o1t),Wl(this,"initialized",!1),Wl(this,"storagePrefix",_f),Wl(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Wl(this,"set",async(r,i,s)=>{this.isInitialized();const o=Hu(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===l$.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,hwt(dwt({},c),{[o]:i}))}return await this.persist(),o}),Wl(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Wl(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Wl(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Hu(i);return typeof s[o]<"u"}),Wl(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Hu(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Wl(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Fc(e,this.name),this.core=n}get context(){return Fl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Iz(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Iz(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kz(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?kz(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var pwt=Object.defineProperty,gwt=Object.defineProperties,mwt=Object.getOwnPropertyDescriptors,$ye=Object.getOwnPropertySymbols,ywt=Object.prototype.hasOwnProperty,wwt=Object.prototype.propertyIsEnumerable,TW=(t,e,n)=>e in t?pwt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L2=(t,e)=>{for(var n in e||(e={}))ywt.call(e,n)&&TW(t,n,e[n]);if($ye)for(var n of $ye(e))wwt.call(e,n)&&TW(t,n,e[n]);return t},Tye=(t,e)=>gwt(t,mwt(e)),Zu=(t,e,n)=>TW(t,typeof e!="symbol"?e+"":e,n);let vwt=class extends emt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Zu(this,"events",new ms.EventEmitter),Zu(this,"name",c1t),Zu(this,"queue",new Map),Zu(this,"publishTimeout",me.toMiliseconds(me.ONE_MINUTE)),Zu(this,"initialPublishTimeout",me.toMiliseconds(me.ONE_SECOND*15)),Zu(this,"needsTransportRestart",!1),Zu(this,"publish",async(r,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const d=(s==null?void 0:s.ttl)||a1t,h=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,p=(s==null?void 0:s.id)||zc().toString(),m=P2(Jk().protocol),w={id:p,method:(s==null?void 0:s.publishMethod)||m.publish,params:L2({topic:r,message:i,ttl:d,prompt:h,tag:f,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},y=`Failed to publish payload, please try again. id:${p} tag:${f}`;try{Ms((o=w.params)==null?void 0:o.prompt)&&((a=w.params)==null||delete a.prompt),Ms((c=w.params)==null?void 0:c.tag)&&((l=w.params)==null||delete l.tag);const b=new Promise(async v=>{const E=({id:T})=>{var I;((I=w.id)==null?void 0:I.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(Xi.publish,E),v())};this.relayer.events.on(Xi.publish,E);const _=vf(new Promise((T,I)=>{this.rpcPublish(w,s).then(T).catch(R=>{this.logger.warn(R,R==null?void 0:R.message),I(R)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${f}`);try{await _,this.events.removeListener(Xi.publish,E)}catch(T){this.queue.set(p,{request:w,opts:s,attempt:1}),this.logger.warn(T,T==null?void 0:T.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:r,message:i,opts:s}}),await vf(b,this.publishTimeout,y)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw b}finally{this.queue.delete(p)}}),Zu(this,"publishCustom",async r=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:l,opts:u={}}=r,{attestation:d,tvf:h,publishMethod:f,prompt:p,tag:m,ttl:w=me.FIVE_MINUTES}=u,y=u.id||zc().toString(),b=P2(Jk().protocol),v=f||b.publish,E={id:y,method:v,params:L2(Tye(L2({},l),{ttl:w,prompt:p,tag:m,attestation:d}),h)},_=`Failed to publish custom payload, please try again. id:${y} tag:${m}`;try{Ms((i=E.params)==null?void 0:i.prompt)&&((s=E.params)==null||delete s.prompt),Ms((o=E.params)==null?void 0:o.tag)&&((a=E.params)==null||delete a.tag);const T=new Promise(async I=>{const R=({id:B})=>{var j;((j=E.id)==null?void 0:j.toString())===B.toString()&&(this.removeRequestFromQueue(B),this.relayer.events.removeListener(Xi.publish,R),I())};this.relayer.events.on(Xi.publish,R);const S=vf(new Promise((B,j)=>{this.rpcPublish(E,u).then(B).catch(U=>{this.logger.warn(U,U==null?void 0:U.message),j(U)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${v} id:${y} tag:${m}`);try{await S,this.events.removeListener(Xi.publish,R)}catch(B){this.queue.set(y,{request:E,opts:u,attempt:1}),this.logger.warn(B,B==null?void 0:B.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,payload:l,opts:u}}),await vf(T,this.publishTimeout,_)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=u==null?void 0:u.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(y)}}),Zu(this,"on",(r,i)=>{this.events.on(r,i)}),Zu(this,"once",(r,i)=>{this.events.once(r,i)}),Zu(this,"off",(r,i)=>{this.events.off(r,i)}),Zu(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Fc(n,this.name),this.registerEventListeners()}get context(){return Fl(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Xi.publish,L2(L2({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,Tye(L2({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ul.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Xi.connection_stalled);return}this.checkQueue()}),this.relayer.on(Xi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var bwt=Object.defineProperty,xwt=(t,e,n)=>e in t?bwt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U2=(t,e,n)=>xwt(t,typeof e!="symbol"?e+"":e,n);let Ewt=class{constructor(){U2(this,"map",new Map),U2(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),U2(this,"get",e=>this.map.get(e)||[]),U2(this,"exists",(e,n)=>this.get(e).includes(n)),U2(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),U2(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var Cwt=Object.defineProperty,_wt=Object.defineProperties,Awt=Object.getOwnPropertyDescriptors,Pye=Object.getOwnPropertySymbols,Swt=Object.prototype.hasOwnProperty,Iwt=Object.prototype.propertyIsEnumerable,PW=(t,e,n)=>e in t?Cwt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AE=(t,e)=>{for(var n in e||(e={}))Swt.call(e,n)&&PW(t,n,e[n]);if(Pye)for(var n of Pye(e))Iwt.call(e,n)&&PW(t,n,e[n]);return t},NW=(t,e)=>_wt(t,Awt(e)),zr=(t,e,n)=>PW(t,typeof e!="symbol"?e+"":e,n);let kwt=class extends rmt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,zr(this,"subscriptions",new Map),zr(this,"topicMap",new Ewt),zr(this,"events",new ms.EventEmitter),zr(this,"name",g1t),zr(this,"version",m1t),zr(this,"pending",new Map),zr(this,"cached",[]),zr(this,"initialized",!1),zr(this,"storagePrefix",_f),zr(this,"subscribeTimeout",me.toMiliseconds(me.ONE_MINUTE)),zr(this,"initialSubscribeTimeout",me.toMiliseconds(me.ONE_SECOND*15)),zr(this,"clientId"),zr(this,"batchSubscribeTopicsLimit",500),zr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),zr(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=Jk(i),a={topic:r,relay:o,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,a);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),zr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),zr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),zr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),zr(this,"on",(r,i)=>{this.events.on(r,i)}),zr(this,"once",(r,i)=>{this.events.once(r,i)}),zr(this,"off",(r,i)=>{this.events.off(r,i)}),zr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),zr(this,"start",async()=>{await this.onConnect()}),zr(this,"stop",async()=>{await this.onDisconnect()}),zr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),zr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),zr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ul.pulse,async()=>{await this.checkPending()}),this.events.on(zl.created,async r=>{const i=zl.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(zl.deleted,async r=>{const i=zl.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Fc(n,this.name),this.clientId=""}get context(){return Fl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=Jk(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=li("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const o=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return o;(!r||(r==null?void 0:r.transportType)===ui.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:P2(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===ui.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},me.toMiliseconds(me.ONE_SECOND)),o;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(zl.created,h),d(f.id))};this.events.on(zl.created,h);try{const f=await vf(new Promise((p,m)=>{this.relayer.request(a).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),m(w)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(zl.created,h),d(f)}catch{}}),u=await vf(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Xi.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:P2(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await vf(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Xi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:P2(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await vf(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Xi.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:P2(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,NW(AE({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,AE({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,AE({},n)),this.topicMap.set(n.topic,e),this.events.emit(zl.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=rt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(zl.deleted,NW(AE({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(zl.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(zl.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=rt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>NW(AE({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await sht(me.toMiliseconds(me.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Hu(e+await this.getClientId())}};var $wt=Object.defineProperty,Nye=Object.getOwnPropertySymbols,Twt=Object.prototype.hasOwnProperty,Pwt=Object.prototype.propertyIsEnumerable,OW=(t,e,n)=>e in t?$wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oye=(t,e)=>{for(var n in e||(e={}))Twt.call(e,n)&&OW(t,n,e[n]);if(Nye)for(var n of Nye(e))Pwt.call(e,n)&&OW(t,n,e[n]);return t},tr=(t,e,n)=>OW(t,typeof e!="symbol"?e+"":e,n);let Nwt=class extends tmt{constructor(e){super(e),tr(this,"protocol","wc"),tr(this,"version",2),tr(this,"core"),tr(this,"logger"),tr(this,"events",new ms.EventEmitter),tr(this,"provider"),tr(this,"messages"),tr(this,"subscriber"),tr(this,"publisher"),tr(this,"name",u1t),tr(this,"transportExplicitlyClosed",!1),tr(this,"initialized",!1),tr(this,"connectionAttemptInProgress",!1),tr(this,"relayUrl"),tr(this,"projectId"),tr(this,"packageName"),tr(this,"bundleId"),tr(this,"hasExperiencedNetworkDisruption",!1),tr(this,"pingTimeout"),tr(this,"heartBeatTimeout",me.toMiliseconds(me.THIRTY_SECONDS+me.FIVE_SECONDS)),tr(this,"reconnectTimeout"),tr(this,"connectPromise"),tr(this,"reconnectInProgress",!1),tr(this,"requestsInFlight",[]),tr(this,"connectTimeout",me.toMiliseconds(me.ONE_SECOND*15)),tr(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||zc().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),tr(this,"resetPingTimeout",()=>{Ok()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),tr(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),tr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Xi.connect)}),tr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),tr(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Xi.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),tr(this,"registerProviderListeners",()=>{this.provider.on(Ku.payload,this.onPayloadHandler),this.provider.on(Ku.connect,this.onConnectHandler),this.provider.on(Ku.disconnect,this.onDisconnectHandler),this.provider.on(Ku.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Fc(e.logger,this.name):wW(U1e({level:e.logger||l1t})),this.messages=new fwt(this.logger,e.core),this.subscriber=new kwt(this,this.logger),this.publisher=new vwt(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||cye,Wdt()?this.packageName=Uge():qdt()&&(this.bundleId=Uge()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return Fl(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:ui.relay},l$.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(zl.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(zl.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,Oye({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await vf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await A1e())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Os(me.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Xi.message,e),await this.recordMessageEvent(e,l$.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ku.disconnect,s),await vf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ku.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ku.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ku.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,me.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Ok())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new bi(new rye(Zdt({sdkVersion:AW,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),D2(e)){if(!e.method.endsWith(d1t))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:ui.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Oye({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else qy(e)&&this.events.emit(Xi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,l$.inbound),this.events.emit(Xi.message,e))}async acknowledgePayload(e){const n=o0(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ku.payload,this.onPayloadHandler),this.provider.off(Ku.connect,this.onConnectHandler),this.provider.off(Ku.disconnect,this.onDisconnectHandler),this.provider.off(Ku.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await A1e();M0t(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ul.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&D0t())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Xi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},me.toMiliseconds(h1t)))))}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function Owt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function Rye(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Mye(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Rwt="[object RegExp]",Mwt="[object String]",jwt="[object Number]",Bwt="[object Boolean]",jye="[object Arguments]",Dwt="[object Symbol]",Lwt="[object Date]",Uwt="[object Map]",Fwt="[object Set]",zwt="[object Array]",Wwt="[object Function]",qwt="[object ArrayBuffer]",RW="[object Object]",Hwt="[object Error]",Vwt="[object DataView]",Kwt="[object Uint8Array]",Gwt="[object Uint8ClampedArray]",Zwt="[object Uint16Array]",Ywt="[object Uint32Array]",Jwt="[object BigUint64Array]",Qwt="[object Int8Array]",Xwt="[object Int16Array]",evt="[object Int32Array]",tvt="[object BigInt64Array]",nvt="[object Float32Array]",rvt="[object Float64Array]";function ivt(){}function Bye(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function svt(t,e,n){return SE(t,e,void 0,void 0,void 0,void 0,n)}function SE(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return IE(t,e,s,o)}return IE(t,e,s,o)}function IE(t,e,n,r){if(Object.is(t,e))return!0;let i=Mye(t),s=Mye(e);if(i===jye&&(i=RW),s===jye&&(s=RW),i!==s)return!1;switch(i){case Mwt:return t.toString()===e.toString();case jwt:{const c=t.valueOf(),l=e.valueOf();return Owt(c,l)}case Bwt:case Lwt:case Dwt:return Object.is(t.valueOf(),e.valueOf());case Rwt:return t.source===e.source&&t.flags===e.flags;case Wwt:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case Uwt:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!SE(l,e.get(c),c,t,e,n,r))return!1;return!0}case Fwt:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>SE(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case zwt:case Kwt:case Gwt:case Zwt:case Ywt:case Jwt:case Qwt:case Xwt:case evt:case tvt:case nvt:case rvt:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!SE(t[c],e[c],c,t,e,n,r))return!1;return!0}case qwt:return t.byteLength!==e.byteLength?!1:IE(new Uint8Array(t),new Uint8Array(e),n,r);case Vwt:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:IE(new Uint8Array(t),new Uint8Array(e),n,r);case Hwt:return t.name===e.name&&t.message===e.message;case RW:{if(!(IE(t.constructor,e.constructor,n,r)||Bye(t)&&Bye(e)))return!1;const c=[...Object.keys(t),...Rye(t)],l=[...Object.keys(e),...Rye(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!SE(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function ovt(t,e){return svt(t,e,ivt)}var avt=Object.defineProperty,Dye=Object.getOwnPropertySymbols,cvt=Object.prototype.hasOwnProperty,lvt=Object.prototype.propertyIsEnumerable,MW=(t,e,n)=>e in t?avt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lye=(t,e)=>{for(var n in e||(e={}))cvt.call(e,n)&&MW(t,n,e[n]);if(Dye)for(var n of Dye(e))lvt.call(e,n)&&MW(t,n,e[n]);return t},Wc=(t,e,n)=>MW(t,typeof e!="symbol"?e+"":e,n);let Ky=class extends nmt{constructor(e,n,r,i=_f,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Wc(this,"map",new Map),Wc(this,"version",f1t),Wc(this,"cached",[]),Wc(this,"initialized",!1),Wc(this,"getKey"),Wc(this,"storagePrefix",_f),Wc(this,"recentlyDeleted",[]),Wc(this,"recentlyDeletedLimit",200),Wc(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Ms(o)?this.map.set(this.getKey(o),o):h0t(o)?this.map.set(o.id,o):f0t(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Wc(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Wc(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Wc(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>ovt(a[c],o[c]))):this.values)),Wc(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Lye(Lye({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Wc(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Fc(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Fl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=rt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=rt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=rt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var uvt=Object.defineProperty,dvt=(t,e,n)=>e in t?uvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bn=(t,e,n)=>dvt(t,typeof e!="symbol"?e+"":e,n);let hvt=class{constructor(e,n){this.core=e,this.logger=n,Bn(this,"name",y1t),Bn(this,"version",w1t),Bn(this,"events",new g2),Bn(this,"pairings"),Bn(this,"initialized",!1),Bn(this,"storagePrefix",_f),Bn(this,"ignoredPayloadTypes",[r0]),Bn(this,"registeredMethods",[]),Bn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Bn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Bn(this,"create",async r=>{this.isInitialized();const i=sW(),s=await this.core.crypto.setSymKey(i),o=Os(me.FIVE_MINUTES),a={protocol:aye},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=p1e({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(Hy.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:l}}),Bn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Af.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=f1e(r.uri);i.props.properties.topic=s,i.addTrace(Af.pairing_uri_validation_success),i.addTrace(Af.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Af.existing_pairing),u.active)throw i.setError(a0.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Af.pairing_not_expired)}const d=c||Os(me.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(Af.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Hy.create,h),i.addTrace(Af.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Af.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(a0.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(a0.subscribe_pairing_topic_failure),f}return i.addTrace(Af.subscribe_pairing_topic_success),h}),Bn(this,"activate",async({topic:r})=>{this.isInitialized();const i=Os(me.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Bn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=By();this.events.once(yr("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Bn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Bn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Bn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Bn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",li("USER_DISCONNECTED")),await this.deletePairing(i))}),Bn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return p1e({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Bn(this,"sendRequest",async(r,i,s)=>{const o=Io(i,s),a=await this.core.crypto.encode(r,o),c=bE[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Bn(this,"sendResult",async(r,i,s)=>{const o=o0(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=bE[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Bn(this,"sendError",async(r,i,s)=>{const o=B2(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=bE[c]?bE[c].res:bE.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Bn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,li("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Bn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>lm(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Bn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Bn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Bn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Hy.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Bn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{js(i)?this.events.emit(yr("pairing_ping",s),{}):Di(i)&&this.events.emit(yr("pairing_ping",s),{error:i.error})},500)}),Bn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Hy.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Bn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=li("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Bn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(li("WC_METHOD_UNSUPPORTED",r))}),Bn(this,"isValidPair",(r,i)=>{var s;if(!Lc(r)){const{message:a}=rt("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(a0.malformed_pairing_uri),new Error(a)}if(!d0t(r.uri)){const{message:a}=rt("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(a0.malformed_pairing_uri),new Error(a)}const o=f1e(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=rt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(a0.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=rt("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(a0.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&me.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(a0.pairing_expired);const{message:a}=rt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Bn(this,"isValidPing",async r=>{if(!Lc(r)){const{message:s}=rt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Bn(this,"isValidDisconnect",async r=>{if(!Lc(r)){const{message:s}=rt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Bn(this,"isValidPairingTopic",async r=>{if(!ys(r,!1)){const{message:i}=rt("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=rt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(lm(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=rt("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Fc(n,this.name),this.pairings=new Ky(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Fl(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Xi.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==ui.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);D2(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):qy(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Gu.expired,async e=>{const{topic:n}=qge(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Hy.expire,{topic:n}))})}};var fvt=Object.defineProperty,pvt=(t,e,n)=>e in t?fvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,To=(t,e,n)=>pvt(t,typeof e!="symbol"?e+"":e,n);let gvt=class extends Qgt{constructor(e,n){super(e,n),this.core=e,this.logger=n,To(this,"records",new Map),To(this,"events",new ms.EventEmitter),To(this,"name",v1t),To(this,"version",b1t),To(this,"cached",[]),To(this,"initialized",!1),To(this,"storagePrefix",_f),To(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),To(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Os(me.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ih.created,o)}),To(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Di(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(ih.updated,i))}),To(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),To(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ih.deleted,s)}}),this.persist()}),To(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),To(this,"on",(r,i)=>{this.events.on(r,i)}),To(this,"once",(r,i)=>{this.events.once(r,i)}),To(this,"off",(r,i)=>{this.events.off(r,i)}),To(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Fc(n,this.name)}get context(){return Fl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Io(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=rt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ih.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=rt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ih.created,e=>{const n=ih.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ih.updated,e=>{const n=ih.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(ih.deleted,e=>{const n=ih.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ul.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{me.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ih.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var mvt=Object.defineProperty,yvt=(t,e,n)=>e in t?mvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xa=(t,e,n)=>yvt(t,typeof e!="symbol"?e+"":e,n);let wvt=class extends imt{constructor(e,n){super(e,n),this.core=e,this.logger=n,xa(this,"expirations",new Map),xa(this,"events",new ms.EventEmitter),xa(this,"name",x1t),xa(this,"version",E1t),xa(this,"cached",[]),xa(this,"initialized",!1),xa(this,"storagePrefix",_f),xa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),xa(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),xa(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Gu.created,{target:s,expiration:o})}),xa(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),xa(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Gu.deleted,{target:i,expiration:s})}}),xa(this,"on",(r,i)=>{this.events.on(r,i)}),xa(this,"once",(r,i)=>{this.events.once(r,i)}),xa(this,"off",(r,i)=>{this.events.off(r,i)}),xa(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Fc(n,this.name)}get context(){return Fl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Ydt(e);if(typeof e=="number")return Jdt(e);const{message:n}=rt("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Gu.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=rt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=rt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;me.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Gu.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ul.pulse,()=>this.checkExpirations()),this.events.on(Gu.created,e=>{const n=Gu.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Gu.expired,e=>{const n=Gu.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Gu.deleted,e=>{const n=Gu.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var vvt=Object.defineProperty,bvt=(t,e,n)=>e in t?vvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ws=(t,e,n)=>bvt(t,typeof e!="symbol"?e+"":e,n);let xvt=class extends smt{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,ws(this,"name",C1t),ws(this,"abortController"),ws(this,"isDevEnv"),ws(this,"verifyUrlV3",A1t),ws(this,"storagePrefix",_f),ws(this,"version",sye),ws(this,"publicKey"),ws(this,"fetchPromise"),ws(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&me.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ws(this,"register",async i=>{if(!_2()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Za(),u=this.startAbortTimer(me.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(C2(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),ws(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(C2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),ws(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(me.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),ws(this,"getVerifyUrl",i=>{let s=i||xE;return S1t.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${xE}`),s=xE),s}),ws(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(me.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),ws(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),ws(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ws(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),ws(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ws(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),ws(this,"validateAttestation",(i,s)=>{const o=qpt(i,s.publicKey),a={hasExpired:me.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Fc(n,this.name),this.abortController=new AbortController,this.isDevEnv=$z(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Fl(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),me.toMiliseconds(e))}};var Evt=Object.defineProperty,Cvt=(t,e,n)=>e in t?Evt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Uye=(t,e,n)=>Cvt(t,typeof e!="symbol"?e+"":e,n);let _vt=class extends omt{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,Uye(this,"context",I1t),Uye(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${k1t}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Fc(n,this.context)}};var Avt=Object.defineProperty,Fye=Object.getOwnPropertySymbols,Svt=Object.prototype.hasOwnProperty,Ivt=Object.prototype.propertyIsEnumerable,jW=(t,e,n)=>e in t?Avt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kE=(t,e)=>{for(var n in e||(e={}))Svt.call(e,n)&&jW(t,n,e[n]);if(Fye)for(var n of Fye(e))Ivt.call(e,n)&&jW(t,n,e[n]);return t},Qs=(t,e,n)=>jW(t,typeof e!="symbol"?e+"":e,n);let kvt=class extends amt{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Qs(this,"context",T1t),Qs(this,"storagePrefix",_f),Qs(this,"storageVersion",$1t),Qs(this,"events",new Map),Qs(this,"shouldPersist",!1),Qs(this,"init",async()=>{if(!$z())try{const i={eventId:Vge(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:zge(this.core.relayer.protocol,this.core.relayer.version,AW)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Qs(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=Vge(),u=this.core.projectId||"",d=Date.now(),h=kE({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Qs(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return kE(kE({},a),this.setMethods(a.eventId))}),Qs(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Qs(this,"setEventListeners",()=>{this.core.heartbeat.on(Ul.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{me.fromMiliseconds(Date.now())-me.fromMiliseconds(i.timestamp)>P1t&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Qs(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Qs(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Qs(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Qs(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Qs(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,kE(kE({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Qs(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Qs(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${N1t}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${AW}${s}`,{method:"POST",body:JSON.stringify(i)})}),Qs(this,"getAppDomain",()=>Fge().url),this.logger=Fc(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var $vt=Object.defineProperty,zye=Object.getOwnPropertySymbols,Tvt=Object.prototype.hasOwnProperty,Pvt=Object.prototype.propertyIsEnumerable,BW=(t,e,n)=>e in t?$vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wye=(t,e)=>{for(var n in e||(e={}))Tvt.call(e,n)&&BW(t,n,e[n]);if(zye)for(var n of zye(e))Pvt.call(e,n)&&BW(t,n,e[n]);return t},Qr=(t,e,n)=>BW(t,typeof e!="symbol"?e+"":e,n);const Nvt=class MAe extends Ggt{constructor(e){var n;super(e),Qr(this,"protocol",iye),Qr(this,"version",sye),Qr(this,"name",_W),Qr(this,"relayUrl"),Qr(this,"projectId"),Qr(this,"customStoragePrefix"),Qr(this,"events",new ms.EventEmitter),Qr(this,"logger"),Qr(this,"heartbeat"),Qr(this,"relayer"),Qr(this,"crypto"),Qr(this,"storage"),Qr(this,"history"),Qr(this,"expirer"),Qr(this,"pairing"),Qr(this,"verify"),Qr(this,"echoClient"),Qr(this,"linkModeSupportedApps"),Qr(this,"eventClient"),Qr(this,"initialized",!1),Qr(this,"logChunkController"),Qr(this,"on",(a,c)=>this.events.on(a,c)),Qr(this,"once",(a,c)=>this.events.once(a,c)),Qr(this,"off",(a,c)=>this.events.off(a,c)),Qr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Qr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:ui.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||cye,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=U1e({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Xmt.logger,name:_W}),{logger:s,chunkLoggerController:o}=Hgt({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Fc(s,this.name),this.heartbeat=new I1e,this.crypto=new swt(this,this.logger,e==null?void 0:e.keychain),this.history=new gvt(this,this.logger),this.expirer=new wvt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new wgt(Wye(Wye({},e1t),e==null?void 0:e.storageOptions)),this.relayer=new Nwt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new hvt(this,this.logger),this.verify=new xvt(this,this.logger,this.storage),this.echoClient=new _vt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new kvt(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new MAe(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(p1t,r),n}get context(){return Fl(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(lye,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(lye)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Qmt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},qye=gW;var Ovt=If;const $E=Wvt().console||{},Rvt={mapHttpRequest:h$,mapHttpResponse:h$,wrapRequestSerializer:LW,wrapResponseSerializer:LW,wrapErrorSerializer:LW,req:h$,res:h$,err:Lvt};function Mvt(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function If(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||$E;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Mvt(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=TE),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Uvt(t)};c.levels=If.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=TE,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=DW());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,F2(l,c,"error","log"),F2(l,c,"fatal","error"),F2(l,c,"warn","error"),F2(l,c,"info","log"),F2(l,c,"debug","log"),F2(l,c,"trace","log")}function f(p,m){if(!p)throw new Error("missing bindings for child Pino");m=m||{},i&&p.serializers&&(m.serializers=p.serializers);const w=m.serializers;if(i&&w){var y=Object.assign({},r,w),b=t.browser.serialize===!0?Object.keys(y):i;delete p.serializers,d$([p],b,y,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=z2(E,p,"error"),this.fatal=z2(E,p,"fatal"),this.warn=z2(E,p,"warn"),this.info=z2(E,p,"info"),this.debug=z2(E,p,"debug"),this.trace=z2(E,p,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=DW([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}If.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},If.stdSerializers=Rvt,If.stdTimeFunctions=Object.assign({},{nullTime:Hye,epochTime:Vye,unixTime:Fvt,isoTime:zvt});function F2(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?TE:i[n]?i[n]:$E[n]||$E[r]||TE,jvt(t,e,n)}function jvt(t,e,n){!t.transmit&&e[n]===TE||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===$E?$E:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&d$(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,Bvt(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=If.levels.values[l],d=If.levels.values[n];if(d<u)return;Dvt(this,{ts:s,methodLevel:n,methodValue:d,transmitValue:If.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function Bvt(t,e,n,r){t._serialize&&d$(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=If.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?qye(i.shift(),i):void 0}else typeof s=="string"&&(s=qye(i.shift(),i));return s!==void 0&&(o.msg=s),o}function d$(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=If.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function z2(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Dvt(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;d$(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=DW(c)}function DW(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Lvt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Uvt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Hye:Vye}function h$(){return{}}function LW(t){return t}function TE(){}function Hye(){return!1}function Vye(){return Date.now()}function Fvt(){return Math.round(Date.now()/1e3)}function zvt(){return new Date(Date.now()).toISOString()}function Wvt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const qvt=Hi(Ovt),Hvt={level:"info"},PE="custom_context";var Vvt=Object.defineProperty,Kvt=Object.defineProperties,Gvt=Object.getOwnPropertyDescriptors,Kye=Object.getOwnPropertySymbols,Zvt=Object.prototype.hasOwnProperty,Yvt=Object.prototype.propertyIsEnumerable,Gye=(t,e,n)=>e in t?Vvt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jvt=(t,e)=>{for(var n in e||(e={}))Zvt.call(e,n)&&Gye(t,n,e[n]);if(Kye)for(var n of Kye(e))Yvt.call(e,n)&&Gye(t,n,e[n]);return t},Qvt=(t,e)=>Kvt(t,Gvt(e));function Xvt(t){return Qvt(Jvt({},t),{level:(t==null?void 0:t.level)||Hvt.level})}function ebt(t,e=PE){return t[e]||""}function tbt(t,e,n=PE){return t[n]=e,t}function Zye(t,e=PE){let n="";return typeof t.bindings>"u"?n=ebt(t,e):n=t.bindings().context||"",n}function nbt(t,e,n=PE){const r=Zye(t,n);return r.trim()?`${r}/${e}`:e}function rbt(t,e,n=PE){const r=nbt(t,e,n),i=t.child({context:r});return tbt(i,r,n)}const Yye="wc",Jye=2,Qye="client",UW=`${Yye}@${Jye}:${Qye}:`,FW={name:Qye,logger:"error"},Xye="WALLETCONNECT_DEEPLINK_CHOICE",ibt="proposal",ewe="Proposal expired",sbt="session",W2=me.SEVEN_DAYS,obt="engine",Po={wc_sessionPropose:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1114},res:{ttl:me.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:me.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:me.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1119}}},zW={min:me.FIVE_MINUTES,max:me.SEVEN_DAYS},kf={idle:"IDLE",active:"ACTIVE"},abt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},cbt="request",lbt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ubt="wc",dbt="auth",hbt="authKeys",fbt="pairingTopics",pbt="requests",f$=`${ubt}@${1.5}:${dbt}:`,p$=`${f$}:PUB_KEY`;var gbt=Object.defineProperty,mbt=Object.defineProperties,ybt=Object.getOwnPropertyDescriptors,twe=Object.getOwnPropertySymbols,wbt=Object.prototype.hasOwnProperty,vbt=Object.prototype.propertyIsEnumerable,WW=(t,e,n)=>e in t?gbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ar=(t,e)=>{for(var n in e||(e={}))wbt.call(e,n)&&WW(t,n,e[n]);if(twe)for(var n of twe(e))vbt.call(e,n)&&WW(t,n,e[n]);return t},Ea=(t,e)=>mbt(t,ybt(e)),De=(t,e,n)=>WW(t,typeof e!="symbol"?e+"":e,n);let bbt=class extends dmt{constructor(e){super(e),De(this,"name",obt),De(this,"events",new g2),De(this,"initialized",!1),De(this,"requestQueue",{state:kf.idle,queue:[]}),De(this,"sessionRequestQueue",{state:kf.idle,queue:[]}),De(this,"emittedSessionRequests",new oht({limit:500})),De(this,"requestQueueDelay",me.ONE_SECOND),De(this,"expectedPairingMethodMap",new Map),De(this,"recentlyDeletedMap",new Map),De(this,"recentlyDeletedLimit",200),De(this,"relayMessageCache",[]),De(this,"pendingSessions",new Map),De(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Po)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},me.toMiliseconds(this.requestQueueDelay)))}),De(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Ea(Ar({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=o0t(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const T=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),T}if(!u||!h){const{topic:T,uri:I}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=T,d=I}if(!u){const{message:T}=rt("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(T)}const f=await this.client.core.crypto.generateKeyPair(),p=Po.wc_sessionPropose.req.ttl||me.FIVE_MINUTES,m=Os(p),w=Ea(Ar(Ar({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:aye}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Js()}),y=yr("session_connect",w.id),{reject:b,resolve:v,done:E}=By(p,ewe),_=({id:T})=>{T===w.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:ewe,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(y,({error:T,session:I})=>{this.client.events.off("proposal_expire",_),T?b(T):I&&v(I)}),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}),await this.setProposal(w.id,w),{uri:d,approval:E}}),De(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),De(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Em.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw o.setError(EE.no_internet_connection),S}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(EE.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(EE.session_approve_namespace_validation_failure),S}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:w,optionalNamespaces:y}=f;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Em.session_approve_started,properties:{topic:p,trace:[Em.session_approve_started,Em.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),T=Ar(Ar(Ar({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Os(W2)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),I=ui.relay;b.addTrace(Em.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:I,internal:{skipSubscribe:!0}})}catch(S){throw b.setError(EE.subscribe_session_topic_failure),S}b.addTrace(Em.subscribe_session_topic_success);const R=Ea(Ar({},T),{topic:_,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:ui.relay});await this.client.session.set(_,R),b.addTrace(Em.store_session);try{await this.sendApproveSession({sessionTopic:_,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:v},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),b.addTrace(Em.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(_,li("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),S}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,Os(W2)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),De(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Po.wc_sessionPropose.reject}),await this.deleteProposal(r)}),De(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=By(),c=Js(),l=zc().toString(),u=this.client.session.get(r).namespaces;return this.events.once(yr("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),De(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Js(),{done:s,resolve:o,reject:a}=By();return this.events.once(yr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Os(W2)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),De(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:i,topic:s,expiry:o=Po.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===ui.relay&&await this.confirmOnlineStateOrThrow();const c=Js(),l=zc().toString(),{done:u,resolve:d,reject:h}=By(o,"Request expired. Please try again.");this.events.once(yr("session_request",c),({error:w,result:y})=>{w?h(w):d(y)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:Ea(Ar({},i),{expiryTimestamp:Os(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const m={request:Ea(Ar({},i),{expiryTimestamp:Os(o)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),w()}),new Promise(async w=>{var y;if(!((y=a.sessionConfig)!=null&&y.disableDeepLink)){const b=await tht(this.client.core.storage,Xye);await Qdt({id:c,topic:s,wcDeepLink:b})}w()}),u()]).then(w=>w[2])}),De(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===ui.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);js(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Di(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),De(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Js(),s=zc().toString(),{done:o,resolve:a,reject:c}=By();this.events.once(yr("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),De(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=zc().toString(),a=Js();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),De(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:li("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=rt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),De(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>l0t(r,n)))),De(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),De(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?ui.link_mode:ui.relay;o===ui.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:w}=n,y=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=Yk(E);if(await Promise.all([this.client.auth.authKeys.set(p$,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:P}=My(a[0]);let D=yft(P,"request",m);Dk(y)&&(D=vft(D,y.pop())),y.push(D)}const T=w&&w>Po.wc_sessionAuthenticate.req.ttl?w:Po.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:y},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Os(T)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Os(Po.wc_sessionPropose.req.ttl),id:Js()},{done:B,resolve:j,reject:U}=By(T,"Request expired"),M=Js(),C=yr("session_connect",S.id),x=yr("session_request",M),A=async({error:P,session:D})=>{this.events.off(x,N),P?U(P):D&&j({session:D})},N=async P=>{var D,L,$;if(await this.deletePendingAuthRequest(M,{message:"fulfilled",code:0}),P.error){const te=li("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===te.code?void 0:(this.events.off(C,A),U(P.error.message))}await this.deleteProposal(S.id),this.events.off(C,A);const{cacaos:q,responder:V}=P.result,F=[],Z=[];for(const te of q){await mme({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),U(li("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:fe}=te,he=Dk(fe.resources),pe=[Uz(fe.iss)],be=Bk(fe.iss);if(he){const ge=vme(he),ye=bme(he);F.push(...ge),pe.push(...ye)}for(const ge of pe)Z.push(`${ge}:${be}`)}const X=await this.client.core.crypto.generateSharedKey(E,V.publicKey);let Y;F.length>0&&(Y={topic:X,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:Os(W2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:w1e([...new Set(F)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(X,{transportType:o}),await this.client.session.set(X,Y),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:V.metadata}),Y=this.client.session.get(X)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(L=V.metadata.redirect)!=null&&L.linkMode&&($=V.metadata.redirect)!=null&&$.universal&&r&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(X,{transportType:ui.link_mode})),j({auths:q,session:Y})};this.events.once(C,A),this.events.once(x,N);let O;try{if(s){const P=Io("wc_sessionAuthenticate",I,M);this.client.core.history.set(b,P);const D=await this.client.core.crypto.encode("",P,{type:lE,encoding:xm});O=Qk(r,b,D)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:I,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:M}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:S,expiry:Po.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(P){throw this.events.off(C,A),this.events.off(x,N),P}return await this.setProposal(S.id,S),await this.setAuthRequest(M,{request:Ea(Ar({},I),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:O??v,response:B}}),De(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Vy.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(CE.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(CE.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||ui.relay;a===ui.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Yk(c),d={type:r0,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of i){if(!await mme({cacao:w,projectId:this.client.core.projectId})){s.setError(CE.invalid_cacao);const _=li("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}s.addTrace(Vy.cacaos_verified);const{p:y}=w,b=Dk(y.resources),v=[Uz(y.iss)],E=Bk(y.iss);if(b){const _=vme(b),T=bme(b);h.push(..._),v.push(...T)}for(const _ of v)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Vy.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Os(W2),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:w1e([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Vy.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError(CE.subscribe_authenticated_session_topic_failure),w}s.addTrace(Vy.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),s.addTrace(Vy.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Vy.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(CE.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),De(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===ui.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Yk(o),l={type:r0,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Po.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),De(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return yme(r,i)}),De(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),De(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),De(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,li("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Xye).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,li("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=kf.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),De(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(EE.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,li("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),De(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=kf.idle,this.client.events.emit("session_request_expire",{id:n}))}),De(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),De(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),De(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Os(Po.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),De(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=ui.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),De(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Os(Po.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),De(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=n,f=Io(i,s,c);let p;const m=!!u;try{const b=m?xm:Dc;p=await this.client.core.crypto.encode(r,f,{encoding:b})}catch(b){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),b}let w;if(lbt.includes(i)){const b=Hu(JSON.stringify(f)),v=Hu(p);w=await this.client.core.verify.register({id:v,decryptedId:b})}const y=Ar(Ar({},Po[i].req),h);if(y.attestation=w,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,f),m){const b=Qk(u,r,p);await global.Linking.openURL(b,this.client.name)}else y.tvf=Ea(Ar({},d),{correlationId:f.id}),l?(y.internal=Ea(Ar({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,p,y)):this.client.core.relayer.publish(r,p,y).catch(b=>this.client.logger.error(b));return f.id}),De(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Io("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const o=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Dc}),a=Hu(JSON.stringify(s)),c=Hu(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:o},opts:Ea(Ar({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),De(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=n,c=o0(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Dc}),u=Io("wc_sessionSettle",o,a==null?void 0:a.id),d=await this.client.core.crypto.encode(r,u,{encoding:Dc});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:Ea(Ar({},a),{publishMethod:"wc_approveSession"})})}),De(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=o0(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?xm:Dc;u=await this.client.core.crypto.encode(i,l,Ea(Ar({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let h,f;try{h=await this.client.core.history.get(i,r);const p=h.request;try{f=this.getTVFParams(r,p.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),p}if(d){const p=Qk(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=Po[p].res;m.tvf=Ea(Ar({},f),{correlationId:r}),o?(m.internal=Ea(Ar({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),De(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=B2(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?xm:Dc;u=await this.client.core.crypto.encode(i,l,Ea(Ar({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=Qk(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Po[f].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),De(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;lm(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{lm(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),De(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),De(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),De(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===kf.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=kf.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=kf.idle}),De(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),De(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),De(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=rt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),De(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),De(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(a0.proposal_listener_not_found)),this.isValidConnect(Ar({},i.params));const u=a.expiryTimestamp||Os(Po.wc_sessionPropose.req.ttl),d=Ar({id:c,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Hu(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Af.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Po.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),De(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(js(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Di(r)){await this.deleteProposal(s);const o=yr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),De(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),m=Ea(Ar(Ar(Ar({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:ui.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(yr("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),De(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;js(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(yr("session_approve",i),{})):Di(r)&&(await this.client.session.delete(n,li("USER_DISCONNECTED")),this.events.emit(yr("session_approve",i),{error:r.error}))}),De(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=hE.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:li("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ar({topic:n},i));try{hE.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(c){throw hE.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),De(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),De(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=yr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(yr("session_update",i),{}):Di(r)&&this.events.emit(yr("session_update",i),{error:r.error})}),De(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Os(W2)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),De(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=yr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(yr("session_extend",i),{}):Di(r)&&this.events.emit(yr("session_extend",i),{error:r.error})}),De(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),De(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=yr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);js(r)?this.events.emit(yr("session_ping",i),{}):Di(r)&&this.events.emit(yr("session_ping",i),{error:r.error})},500)}),De(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Xi.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:li("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),De(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Ar({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Hu(JSON.stringify(Io("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===ui.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),De(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=yr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(yr("session_request",i),{result:r.result}):Di(r)&&this.events.emit(yr("session_request",i),{error:r.error})}),De(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=hE.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ar({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),hE.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),De(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),js(r)?this.events.emit(yr("session_request",i),{result:r.result}):Di(r)&&this.events.emit(yr("session_request",i),{error:r.error})}),De(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Hu(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===ui.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:r0,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:Po.wc_sessionAuthenticate.autoReject,appLink:h})}}),De(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),De(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=kf.idle,this.processSessionRequestQueue()},me.toMiliseconds(this.requestQueueDelay))}),De(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=yr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(yr("session_request",s.request.id),{error:r})})}),De(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===kf.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),De(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=kf.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),De(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Io("wc_sessionPropose",Ea(Ar({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),De(this,"isValidConnect",async n=>{if(!Lc(n)){const{message:l}=rt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Ms(r)||await this.isValidPairingTopic(r),!x0t(c)){const{message:l}=rt("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Ms(i)&&Ef(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!Ms(s)&&Ef(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Ms(o)||this.validateSessionProps(o,"sessionProperties"),!Ms(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),De(this,"validateNamespaces",(n,r)=>{const i=b0t(n,"connect()",r);if(i)throw new Error(i.message)}),De(this,"isValidApprove",async n=>{if(!Lc(n))throw new Error(rt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=aW(i,"approve()");if(l)throw new Error(l.message);const u=C1e(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!ys(s,!0)){const{message:d}=rt("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(Ms(o)||this.validateSessionProps(o,"sessionProperties"),!Ms(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),De(this,"isValidReject",async n=>{if(!Lc(n)){const{message:s}=rt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!C0t(i)){const{message:s}=rt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),De(this,"isValidSessionSettleRequest",n=>{if(!Lc(n)){const{message:l}=rt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!x1e(r)){const{message:l}=rt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=p0t(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=aW(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(lm(o)){const{message:l}=rt("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),De(this,"isValidUpdate",async n=>{if(!Lc(n)){const{message:c}=rt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=aW(i,"update()");if(o)throw new Error(o.message);const a=C1e(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),De(this,"isValidExtend",async n=>{if(!Lc(n)){const{message:i}=rt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),De(this,"isValidRequest",async n=>{if(!Lc(n)){const{message:c}=rt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!E1e(a,s)){const{message:c}=rt("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!_0t(i)){const{message:c}=rt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!I0t(a,s,i.method)){const{message:c}=rt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!P0t(o,zW)){const{message:c}=rt("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${zW.min} and ${zW.max}`);throw new Error(c)}}),De(this,"isValidRespond",async n=>{var r;if(!Lc(n)){const{message:o}=rt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!A0t(s)){const{message:o}=rt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),De(this,"isValidPing",async n=>{if(!Lc(n)){const{message:i}=rt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),De(this,"isValidEmit",async n=>{if(!Lc(n)){const{message:a}=rt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!E1e(o,s)){const{message:a}=rt("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!S0t(i)){const{message:a}=rt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!k0t(o,s,i.name)){const{message:a}=rt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),De(this,"isValidDisconnect",async n=>{if(!Lc(n)){const{message:i}=rt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),De(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!ys(i,!1))throw new Error("uri is required parameter");if(!ys(s,!1))throw new Error("domain is required parameter");if(!ys(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>My(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=My(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),De(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||xE,validation:"UNKNOWN",origin:o.url||""}};try{if(a===ui.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),De(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=rt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),De(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),De(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),De(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=rt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),De(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==ui.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),De(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),De(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=Hge(n,"topic")||"",i=decodeURIComponent(Hge(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:ui.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),De(this,"registerLinkModeListeners",async()=>{var n;if($z()||cm()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),De(this,"getTVFParams",(n,r,i)=>{var s,o,a;if(!((s=r.request)!=null&&s.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),De(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),De(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,o=abt[s];if(s==="sui_signTransaction")return[tft(r.transactionBytes)];if(s==="near_signTransaction")return[hme(r)];if(s==="near_signTransactions")return r.map(c=>hme(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[V0t({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return Vu(r)?r.map(c=>fme(c)):[fme(r)];if(s==="cosmos_signDirect")return[rft(r)];if(typeof r=="string")return[r];const a=r[o.key];if(Vu(a))return s==="solana_signAllTransactions"?a.map(c=>eft(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=rt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Xi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(p$)?this.client.auth.authKeys.get(p$):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===ui.link_mode?xm:Dc});D2(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Hu(r)})):qy(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Gu.expired,async e=>{const{topic:n,id:r}=qge(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,rt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,rt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Hy.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Hy.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ys(e,!1)){const{message:n}=rt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=rt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(lm(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=rt("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!ys(e,!1)){const{message:n}=rt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=rt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(lm(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=rt("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=rt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ys(e,!1)){const{message:n}=rt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=rt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!E0t(e)){const{message:n}=rt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=rt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(lm(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=rt("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},xbt=class extends Ky{constructor(e,n){super(e,n,ibt,UW),this.core=e,this.logger=n}},Ebt=class extends Ky{constructor(e,n){super(e,n,sbt,UW),this.core=e,this.logger=n}},Cbt=class extends Ky{constructor(e,n){super(e,n,cbt,UW,r=>r.id),this.core=e,this.logger=n}},_bt=class extends Ky{constructor(e,n){super(e,n,hbt,f$,()=>p$),this.core=e,this.logger=n}},Abt=class extends Ky{constructor(e,n){super(e,n,fbt,f$),this.core=e,this.logger=n}},Sbt=class extends Ky{constructor(e,n){super(e,n,pbt,f$,r=>r.id),this.core=e,this.logger=n}};var Ibt=Object.defineProperty,kbt=(t,e,n)=>e in t?Ibt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qW=(t,e,n)=>kbt(t,typeof e!="symbol"?e+"":e,n);let $bt=class{constructor(e,n){this.core=e,this.logger=n,qW(this,"authKeys"),qW(this,"pairingTopics"),qW(this,"requests"),this.authKeys=new _bt(this.core,this.logger),this.pairingTopics=new Abt(this.core,this.logger),this.requests=new Sbt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var Tbt=Object.defineProperty,Pbt=(t,e,n)=>e in t?Tbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e,n)=>Pbt(t,typeof e!="symbol"?e+"":e,n);let Nbt=class jAe extends umt{constructor(e){super(e),Dn(this,"protocol",Yye),Dn(this,"version",Jye),Dn(this,"name",FW.name),Dn(this,"metadata"),Dn(this,"core"),Dn(this,"logger"),Dn(this,"events",new ms.EventEmitter),Dn(this,"engine"),Dn(this,"session"),Dn(this,"proposal"),Dn(this,"pendingRequest"),Dn(this,"auth"),Dn(this,"signConfig"),Dn(this,"on",(r,i)=>this.events.on(r,i)),Dn(this,"once",(r,i)=>this.events.once(r,i)),Dn(this,"off",(r,i)=>this.events.off(r,i)),Dn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Dn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Dn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Dn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Dn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Dn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||FW.name,this.metadata=Vdt(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:qvt(Xvt({level:(e==null?void 0:e.logger)||FW.logger}));this.core=(e==null?void 0:e.core)||new Nvt(e),this.logger=rbt(n,this.name),this.session=new Ebt(this.core,this.logger),this.proposal=new xbt(this.core,this.logger),this.pendingRequest=new Cbt(this.core,this.logger),this.engine=new bbt(this),this.auth=new $bt(this.core,this.logger)}static async init(e){const n=new jAe(e);return await n.initialize(),n}get context(){return Zye(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const nwe=gW;var q2=$f;const NE=zbt().console||{},Obt={mapHttpRequest:m$,mapHttpResponse:m$,wrapRequestSerializer:VW,wrapResponseSerializer:VW,wrapErrorSerializer:VW,req:m$,res:m$,err:Dbt};function Rbt(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function $f(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||NE;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Rbt(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=OE),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Lbt(t)};c.levels=$f.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=OE,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=HW());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,H2(l,c,"error","log"),H2(l,c,"fatal","error"),H2(l,c,"warn","error"),H2(l,c,"info","log"),H2(l,c,"debug","log"),H2(l,c,"trace","log")}function f(p,m){if(!p)throw new Error("missing bindings for child Pino");m=m||{},i&&p.serializers&&(m.serializers=p.serializers);const w=m.serializers;if(i&&w){var y=Object.assign({},r,w),b=t.browser.serialize===!0?Object.keys(y):i;delete p.serializers,g$([p],b,y,this._stdErrSerialize)}function v(E){this._childLevel=(E._childLevel|0)+1,this.error=V2(E,p,"error"),this.fatal=V2(E,p,"fatal"),this.warn=V2(E,p,"warn"),this.info=V2(E,p,"info"),this.debug=V2(E,p,"debug"),this.trace=V2(E,p,"trace"),y&&(this.serializers=y,this._serialize=b),e&&(this._logEvent=HW([].concat(E._logEvent.bindings,p)))}return v.prototype=this,new v(this)}return c}$f.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},$f.stdSerializers=Obt,$f.stdTimeFunctions=Object.assign({},{nullTime:rwe,epochTime:iwe,unixTime:Ubt,isoTime:Fbt});function H2(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?OE:i[n]?i[n]:NE[n]||NE[r]||OE,Mbt(t,e,n)}function Mbt(t,e,n){!t.transmit&&e[n]===OE||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===NE?NE:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&g$(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,jbt(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=$f.levels.values[l],d=$f.levels.values[n];if(d<u)return;Bbt(this,{ts:s,methodLevel:n,methodValue:d,transmitValue:$f.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function jbt(t,e,n,r){t._serialize&&g$(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=$f.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?nwe(i.shift(),i):void 0}else typeof s=="string"&&(s=nwe(i.shift(),i));return s!==void 0&&(o.msg=s),o}function g$(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=$f.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function V2(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Bbt(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;g$(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=HW(c)}function HW(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Dbt(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Lbt(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?rwe:iwe}function m$(){return{}}function VW(t){return t}function OE(){}function rwe(){return!1}function iwe(){return Date.now()}function Ubt(){return Math.round(Date.now()/1e3)}function Fbt(){return new Date(Date.now()).toISOString()}function zbt(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const K2=Hi(q2),Wbt={level:"info"},RE="custom_context",KW=1e3*1024;let qbt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},swe=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new qbt(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},owe=class{constructor(e,n=KW){this.level=e??"error",this.levelValue=q2.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new swe(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===q2.levels.values.error?console.error(e):n===q2.levels.values.warn?console.warn(e):n===q2.levels.values.debug?console.debug(e):n===q2.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Nc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new swe(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Nc({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Hbt=class{constructor(e,n=KW){this.baseChunkLogger=new owe(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Vbt=class{constructor(e,n=KW){this.baseChunkLogger=new owe(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Kbt=Object.defineProperty,Gbt=Object.defineProperties,Zbt=Object.getOwnPropertyDescriptors,awe=Object.getOwnPropertySymbols,Ybt=Object.prototype.hasOwnProperty,Jbt=Object.prototype.propertyIsEnumerable,cwe=(t,e,n)=>e in t?Kbt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y$=(t,e)=>{for(var n in e||(e={}))Ybt.call(e,n)&&cwe(t,n,e[n]);if(awe)for(var n of awe(e))Jbt.call(e,n)&&cwe(t,n,e[n]);return t},w$=(t,e)=>Gbt(t,Zbt(e));function G2(t){return w$(y$({},t),{level:(t==null?void 0:t.level)||Wbt.level})}function Qbt(t,e=RE){return t[e]||""}function Xbt(t,e,n=RE){return t[n]=e,t}function qc(t,e=RE){let n="";return typeof t.bindings>"u"?n=Qbt(t,e):n=t.bindings().context||"",n}function e2t(t,e,n=RE){const r=qc(t,n);return r.trim()?`${r}/${e}`:e}function Xa(t,e,n=RE){const r=e2t(t,e,n),i=t.child({context:r});return Xbt(i,r,n)}function t2t(t){var e,n;const r=new Hbt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:K2(w$(y$({},t.opts),{level:"trace",browser:w$(y$({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function n2t(t){var e;const n=new Vbt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:K2(w$(y$({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function lwe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?t2t(t):n2t(t)}var GW={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Jn<"u"&&Jn,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Jn<"u"&&Jn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(x){return x&&DataView.prototype.isPrototypeOf(x)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(x){return x&&u.indexOf(Object.prototype.toString.call(x))>-1};function h(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function f(x){return typeof x!="string"&&(x=String(x)),x}function p(x){var A={next:function(){var N=x.shift();return{done:N===void 0,value:N}}};return c.iterable&&(A[Symbol.iterator]=function(){return A}),A}function m(x){this.map={},x instanceof m?x.forEach(function(A,N){this.append(N,A)},this):Array.isArray(x)?x.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(A){this.append(A,x[A])},this)}m.prototype.append=function(x,A){x=h(x),A=f(A);var N=this.map[x];this.map[x]=N?N+", "+A:A},m.prototype.delete=function(x){delete this.map[h(x)]},m.prototype.get=function(x){return x=h(x),this.has(x)?this.map[x]:null},m.prototype.has=function(x){return this.map.hasOwnProperty(h(x))},m.prototype.set=function(x,A){this.map[h(x)]=f(A)},m.prototype.forEach=function(x,A){for(var N in this.map)this.map.hasOwnProperty(N)&&x.call(A,this.map[N],N,this)},m.prototype.keys=function(){var x=[];return this.forEach(function(A,N){x.push(N)}),p(x)},m.prototype.values=function(){var x=[];return this.forEach(function(A){x.push(A)}),p(x)},m.prototype.entries=function(){var x=[];return this.forEach(function(A,N){x.push([N,A])}),p(x)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function y(x){return new Promise(function(A,N){x.onload=function(){A(x.result)},x.onerror=function(){N(x.error)}})}function b(x){var A=new FileReader,N=y(A);return A.readAsArrayBuffer(x),N}function v(x){var A=new FileReader,N=y(A),O=/charset=([A-Za-z0-9_-]+)/.exec(x.type),P=O?O[1]:"utf-8";return A.readAsText(x,P),N}function E(x){for(var A=new Uint8Array(x),N=new Array(A.length),O=0;O<A.length;O++)N[O]=String.fromCharCode(A[O]);return N.join("")}function _(x){if(x.slice)return x.slice(0);var A=new Uint8Array(x.byteLength);return A.set(new Uint8Array(x)),A.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:c.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:c.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():c.arrayBuffer&&c.blob&&l(x)?(this._bodyArrayBuffer=_(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||d(x))?this._bodyArrayBuffer=_(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=w(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=w(this);if(x)return x;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(x){var A=x.toUpperCase();return I.indexOf(A)>-1?A:x}function S(x,A){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var N=A.body;if(x instanceof S){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,A.headers||(this.headers=new m(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!N&&x._bodyInit!=null&&(N=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new m(A.headers)),this.method=R(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in a){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function B(x){var A=new FormData;return x.trim().split("&").forEach(function(N){if(N){var O=N.split("="),P=O.shift().replace(/\+/g," "),D=O.join("=").replace(/\+/g," ");A.append(decodeURIComponent(P),decodeURIComponent(D))}}),A}function j(x){var A=new m,N=x.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var P=O.split(":"),D=P.shift().trim();if(D){var L=P.join(":").trim();try{A.append(D,L)}catch($){console.warn("Response "+$.message)}}}),A}T.call(S.prototype);function U(x,A){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new m(A.headers),this.url=A.url||"",this._initBody(x)}T.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},U.error=function(){var x=new U(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var M=[301,302,303,307,308];U.redirect=function(x,A){if(M.indexOf(A)===-1)throw new RangeError("Invalid status code");return new U(null,{status:A,headers:{location:x}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(A,N){this.message=A,this.name=N;var O=Error(A);this.stack=O.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function C(x,A){return new Promise(function(N,O){var P=new S(x,A);if(P.signal&&P.signal.aborted)return O(new o.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function L(){D.abort()}D.onload=function(){var V={statusText:D.statusText,headers:j(D.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(D.status<200||D.status>599)?V.status=200:V.status=D.status,V.url="responseURL"in D?D.responseURL:V.headers.get("X-Request-URL");var F="response"in D?D.response:D.responseText;setTimeout(function(){N(new U(F,V))},0)},D.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){O(new o.DOMException("Aborted","AbortError"))},0)};function $(V){try{return V===""&&a.location.href?a.location.href:V}catch{return V}}if(D.open(P.method,$(P.url),!0),P.credentials==="include"?D.withCredentials=!0:P.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(c.blob?D.responseType="blob":c.arrayBuffer&&(D.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof m||a.Headers&&A.headers instanceof a.Headers)){var q=[];Object.getOwnPropertyNames(A.headers).forEach(function(V){q.push(h(V)),D.setRequestHeader(V,f(A.headers[V]))}),P.headers.forEach(function(V,F){q.indexOf(F)===-1&&D.setRequestHeader(F,V)})}else P.headers.forEach(function(V,F){D.setRequestHeader(F,V)});P.signal&&(P.signal.addEventListener("abort",L),D.onreadystatechange=function(){D.readyState===4&&P.signal.removeEventListener("abort",L)}),D.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return C.polyfill=!0,a.fetch||(a.fetch=C,a.Headers=m,a.Request=S,a.Response=U),o.Headers=m,o.Request=S,o.Response=U,o.fetch=C,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(GW,GW.exports);var r2t=GW.exports;const uwe=Hi(r2t);var i2t=Object.defineProperty,s2t=Object.defineProperties,o2t=Object.getOwnPropertyDescriptors,dwe=Object.getOwnPropertySymbols,a2t=Object.prototype.hasOwnProperty,c2t=Object.prototype.propertyIsEnumerable,hwe=(t,e,n)=>e in t?i2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fwe=(t,e)=>{for(var n in e||(e={}))a2t.call(e,n)&&hwe(t,n,e[n]);if(dwe)for(var n of dwe(e))c2t.call(e,n)&&hwe(t,n,e[n]);return t},pwe=(t,e)=>s2t(t,o2t(e));const l2t={Accept:"application/json","Content-Type":"application/json"},u2t="POST",gwe={headers:l2t,method:u2t},mwe=10;let Li=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ms.EventEmitter,this.isAvailable=!1,this.registering=!1,!Q1e(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Nc(e),r=await(await uwe(this.url,pwe(fwe({},gwe),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!Q1e(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Nc({id:1,jsonrpc:"2.0",method:"test",params:[]});await uwe(e,pwe(fwe({},gwe),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xd(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=B2(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return V1e(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>mwe&&this.events.setMaxListeners(mwe)}};const ywe="error",d2t="wss://relay.walletconnect.org",h2t="wc",f2t="universal_provider",v$=`${h2t}@2:${f2t}:`,wwe="https://rpc.walletconnect.org/v1/",vwe="generic",p2t=`${wwe}bundler`,Yu={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function ZW(t){return t==null||typeof t!="object"&&typeof t!="function"}function bwe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function xwe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const g2t="[object RegExp]",Ewe="[object String]",Cwe="[object Number]",_we="[object Boolean]",Awe="[object Arguments]",m2t="[object Symbol]",y2t="[object Date]",w2t="[object Map]",v2t="[object Set]",b2t="[object Array]",x2t="[object ArrayBuffer]",E2t="[object Object]",C2t="[object DataView]",_2t="[object Uint8Array]",A2t="[object Uint8ClampedArray]",S2t="[object Uint16Array]",I2t="[object Uint32Array]",k2t="[object Int8Array]",$2t="[object Int16Array]",T2t="[object Int32Array]",P2t="[object Float32Array]",N2t="[object Float64Array]";function YW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function O2t(t,e){return Z2(t,void 0,t,new Map,e)}function Z2(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(ZW(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Z2(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Z2(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Z2(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(YW(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Z2(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Gy(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Gy(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Gy(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Gy(o,t,n,r,i),o}if(typeof t=="object"&&R2t(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Gy(o,t,n,r,i),o}return t}function Gy(t,e,n=t,r,i){const s=[...Object.keys(e),...bwe(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Z2(e[a],a,n,r,i))}}function R2t(t){switch(xwe(t)){case Awe:case b2t:case x2t:case C2t:case _we:case y2t:case P2t:case N2t:case k2t:case $2t:case T2t:case w2t:case Cwe:case E2t:case g2t:case v2t:case Ewe:case m2t:case _2t:case A2t:case S2t:case I2t:return!0;default:return!1}}function M2t(t,e){return O2t(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Cwe:case Ewe:case _we:{const o=new t.constructor(t==null?void 0:t.valueOf());return Gy(o,t),o}case Awe:{const o={};return Gy(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Swe(t){return M2t(t)}function Iwe(t){return t!==null&&typeof t=="object"&&xwe(t)==="[object Arguments]"}function kwe(t){return typeof t=="object"&&t!==null}function j2t(){}function B2t(t){return YW(t)}function D2t(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function L2t(t){if(ZW(t))return t;if(Array.isArray(t)||YW(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function U2t(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=JW(i,o,r,new Map)}return i}function JW(t,e,n,r){if(ZW(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return L2t(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...bwe(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(Iwe(a)&&(a={...a}),Iwe(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Swe(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||kwe(c)&&kwe(a)?t[o]=JW(c,a,n,r):c==null&&D2t(a)?t[o]=JW({},a,n,r):c==null&&B2t(a)?t[o]=Swe(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function F2t(t,...e){return U2t(t,...e,j2t)}var z2t=Object.defineProperty,W2t=Object.defineProperties,q2t=Object.getOwnPropertyDescriptors,$we=Object.getOwnPropertySymbols,H2t=Object.prototype.hasOwnProperty,V2t=Object.prototype.propertyIsEnumerable,Twe=(t,e,n)=>e in t?z2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b$=(t,e)=>{for(var n in e||(e={}))H2t.call(e,n)&&Twe(t,n,e[n]);if($we)for(var n of $we(e))V2t.call(e,n)&&Twe(t,n,e[n]);return t},K2t=(t,e)=>W2t(t,q2t(e));function ql(t,e,n){var r;const i=My(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${wwe}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Zy(t){return t.includes(":")?t.split(":")[1]:t}function Pwe(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function G2t(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function Nwe(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function x$(t={},e={}){const n=Nwe(Owe(t)),r=Nwe(Owe(e));return F2t(n,r)}function Owe(t){var e,n,r,i,s;const o={};if(!Ef(t))return o;for(const[a,c]of Object.entries(t)){const l=Xk(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=O2(a);o[f]=K2t(b$(b$({},o[f]),c),{chains:bf(l,(e=o[f])==null?void 0:e.chains),methods:bf(u,(n=o[f])==null?void 0:n.methods),events:bf(d,(r=o[f])==null?void 0:r.events)}),(Ef(h)||Ef(((i=o[f])==null?void 0:i.rpcMap)||{}))&&(o[f].rpcMap=b$(b$({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function Rwe(t){return t.includes(":")?t.split(":")[2]:t}function Mwe(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=Xk(n)?[n]:r.chains?r.chains:Pwe(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function QW(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const jwe={},nr=t=>jwe[t],XW=(t,e)=>{jwe[t]=e};var Z2t=Object.defineProperty,Bwe=Object.getOwnPropertySymbols,Y2t=Object.prototype.hasOwnProperty,J2t=Object.prototype.propertyIsEnumerable,Dwe=(t,e,n)=>e in t?Z2t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lwe=(t,e)=>{for(var n in e||(e={}))Y2t.call(e,n)&&Dwe(t,n,e[n]);if(Bwe)for(var n of Bwe(e))J2t.call(e,n)&&Dwe(t,n,e[n]);return t};const Uwe="eip155",Q2t=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],X2t=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,eq=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,Fwe=t=>Object.keys(t).filter(e=>Q2t.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),e3t=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Ef(i)&&!Ef(r))return;const o=Fwe(r);for(const a of n){const c=X2t(a);if(!c)continue;s[eq(c)]=o;const l=i==null?void 0:i[`${Uwe}:${c}`];if(l){const u=l==null?void 0:l[`${Uwe}:${c}:${e}`];s[eq(c)]=Lwe(Lwe({},s[eq(c)]),Fwe(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var t3t=Object.defineProperty,n3t=(t,e,n)=>e in t?t3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y2=(t,e,n)=>n3t(t,typeof e!="symbol"?e+"":e,n);let r3t=class{constructor(e){Y2(this,"name","polkadot"),Y2(this,"client"),Y2(this,"httpProviders"),Y2(this,"events"),Y2(this,"namespace"),Y2(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Zy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var i3t=Object.defineProperty,s3t=Object.defineProperties,o3t=Object.getOwnPropertyDescriptors,zwe=Object.getOwnPropertySymbols,a3t=Object.prototype.hasOwnProperty,c3t=Object.prototype.propertyIsEnumerable,tq=(t,e,n)=>e in t?i3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wwe=(t,e)=>{for(var n in e||(e={}))a3t.call(e,n)&&tq(t,n,e[n]);if(zwe)for(var n of zwe(e))c3t.call(e,n)&&tq(t,n,e[n]);return t},qwe=(t,e)=>s3t(t,o3t(e)),J2=(t,e,n)=>tq(t,typeof e!="symbol"?e+"":e,n);let l3t=class{constructor(e){J2(this,"name","eip155"),J2(this,"client"),J2(this,"chainId"),J2(this,"namespace"),J2(this,"httpProviders"),J2(this,"events"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ql(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Zy(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u==null?void 0:u[d];if(h)return h;let f;try{f=e3t(l,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:qwe(Wwe({},l.sessionProperties||{}),{capabilities:qwe(Wwe({},u||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Io("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${p2t}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var u3t=Object.defineProperty,d3t=(t,e,n)=>e in t?u3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q2=(t,e,n)=>d3t(t,typeof e!="symbol"?e+"":e,n);let h3t=class{constructor(e){Q2(this,"name","solana"),Q2(this,"client"),Q2(this,"httpProviders"),Q2(this,"events"),Q2(this,"namespace"),Q2(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Zy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var f3t=Object.defineProperty,p3t=(t,e,n)=>e in t?f3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X2=(t,e,n)=>p3t(t,typeof e!="symbol"?e+"":e,n);let g3t=class{constructor(e){X2(this,"name","cosmos"),X2(this,"client"),X2(this,"httpProviders"),X2(this,"events"),X2(this,"namespace"),X2(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Zy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var m3t=Object.defineProperty,y3t=(t,e,n)=>e in t?m3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e3=(t,e,n)=>y3t(t,typeof e!="symbol"?e+"":e,n);let w3t=class{constructor(e){e3(this,"name","algorand"),e3(this,"client"),e3(this,"httpProviders"),e3(this,"events"),e3(this,"namespace"),e3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ql(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new bi(new Li(r,nr("disableProviderPing")))}};var v3t=Object.defineProperty,b3t=(t,e,n)=>e in t?v3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t3=(t,e,n)=>b3t(t,typeof e!="symbol"?e+"":e,n);let x3t=class{constructor(e){t3(this,"name","cip34"),t3(this,"client"),t3(this,"httpProviders"),t3(this,"events"),t3(this,"namespace"),t3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Zy(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var E3t=Object.defineProperty,C3t=(t,e,n)=>e in t?E3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n3=(t,e,n)=>C3t(t,typeof e!="symbol"?e+"":e,n);let _3t=class{constructor(e){n3(this,"name","elrond"),n3(this,"client"),n3(this,"httpProviders"),n3(this,"events"),n3(this,"namespace"),n3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Zy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var A3t=Object.defineProperty,S3t=(t,e,n)=>e in t?A3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r3=(t,e,n)=>S3t(t,typeof e!="symbol"?e+"":e,n);let I3t=class{constructor(e){r3(this,"name","multiversx"),r3(this,"client"),r3(this,"httpProviders"),r3(this,"events"),r3(this,"namespace"),r3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Zy(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var k3t=Object.defineProperty,$3t=(t,e,n)=>e in t?k3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i3=(t,e,n)=>$3t(t,typeof e!="symbol"?e+"":e,n);let T3t=class{constructor(e){i3(this,"name","near"),i3(this,"client"),i3(this,"httpProviders"),i3(this,"events"),i3(this,"namespace"),i3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ql(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace);return typeof r>"u"?void 0:new bi(new Li(r,nr("disableProviderPing")))}};var P3t=Object.defineProperty,N3t=(t,e,n)=>e in t?P3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s3=(t,e,n)=>N3t(t,typeof e!="symbol"?e+"":e,n);let O3t=class{constructor(e){s3(this,"name","tezos"),s3(this,"client"),s3(this,"httpProviders"),s3(this,"events"),s3(this,"namespace"),s3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ql(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace);return typeof r>"u"?void 0:new bi(new Li(r))}};var R3t=Object.defineProperty,M3t=(t,e,n)=>e in t?R3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o3=(t,e,n)=>M3t(t,typeof e!="symbol"?e+"":e,n);let j3t=class{constructor(e){o3(this,"name",vwe),o3(this,"client"),o3(this,"httpProviders"),o3(this,"events"),o3(this,"namespace"),o3(this,"chainId"),this.namespace=e.namespace,this.events=nr("events"),this.client=nr("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Yu.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return My(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=My(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ql(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,nr("disableProviderPing")))}};var B3t=Object.defineProperty,D3t=Object.defineProperties,L3t=Object.getOwnPropertyDescriptors,Hwe=Object.getOwnPropertySymbols,U3t=Object.prototype.hasOwnProperty,F3t=Object.prototype.propertyIsEnumerable,nq=(t,e,n)=>e in t?B3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E$=(t,e)=>{for(var n in e||(e={}))U3t.call(e,n)&&nq(t,n,e[n]);if(Hwe)for(var n of Hwe(e))F3t.call(e,n)&&nq(t,n,e[n]);return t},rq=(t,e)=>D3t(t,L3t(e)),Ju=(t,e,n)=>nq(t,typeof e!="symbol"?e+"":e,n);const z3t=class BAe{constructor(e){Ju(this,"client"),Ju(this,"namespaces"),Ju(this,"optionalNamespaces"),Ju(this,"sessionProperties"),Ju(this,"scopedProperties"),Ju(this,"events",new g2),Ju(this,"rpcProviders",{}),Ju(this,"session"),Ju(this,"providerOpts"),Ju(this,"logger"),Ju(this,"uri"),Ju(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:K2(G2({level:(e==null?void 0:e.logger)||ywe})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new BAe(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:E$({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,o0(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:li("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=Mwe(this.session.namespaces);this.namespaces=x$(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=Mwe(i.namespaces);return this.namespaces=x$(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Vu(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Nbt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ywe,relayUrl:this.providerOpts.relayUrl||d2t,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>O2(n)))];XW("client",this.client),XW("events",this.events),XW("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=G2t(n,this.session);if((r==null?void 0:r.length)===0)return;const i=Pwe(r),s=x$(this.namespaces,this.optionalNamespaces),o=rq(E$({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new l3t({namespace:o});break;case"algorand":this.rpcProviders[n]=new w3t({namespace:o});break;case"solana":this.rpcProviders[n]=new h3t({namespace:o});break;case"cosmos":this.rpcProviders[n]=new g3t({namespace:o});break;case"polkadot":this.rpcProviders[n]=new r3t({namespace:o});break;case"cip34":this.rpcProviders[n]=new x3t({namespace:o});break;case"elrond":this.rpcProviders[n]=new _3t({namespace:o});break;case"multiversx":this.rpcProviders[n]=new I3t({namespace:o});break;case"near":this.rpcProviders[n]=new T3t({namespace:o});break;case"tezos":this.rpcProviders[n]=new O3t({namespace:o});break;default:this.rpcProviders[n]=new j3t({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Vu(o)&&this.events.emit("accountsChanged",o.map(Rwe))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=O2(o),l=QW(o)!==QW(a)?`${c}:${QW(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=rq(E$({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",rq(E$({},li("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Yu.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[vwe]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=x$(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>O2(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=O2(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(Rwe);if(!Vu(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${v$}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${v$}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${v$}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(v$)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}},W3t="wc",q3t="ethereum_provider",H3t=`${W3t}@2:${q3t}:`,V3t="https://rpc.walletconnect.org/v1/",iq=["eth_sendTransaction","personal_sign"],Vwe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],sq=["chainChanged","accountsChanged"],Kwe=["chainChanged","accountsChanged","message","disconnect","connect"],K3t=async()=>{const{createAppKit:t}=await Ge(()=>Promise.resolve().then(()=>lHt),void 0);return t};var G3t=Object.defineProperty,Z3t=Object.defineProperties,Y3t=Object.getOwnPropertyDescriptors,Gwe=Object.getOwnPropertySymbols,J3t=Object.prototype.hasOwnProperty,Q3t=Object.prototype.propertyIsEnumerable,oq=(t,e,n)=>e in t?G3t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yy=(t,e)=>{for(var n in e||(e={}))J3t.call(e,n)&&oq(t,n,e[n]);if(Gwe)for(var n of Gwe(e))Q3t.call(e,n)&&oq(t,n,e[n]);return t},ME=(t,e)=>Z3t(t,Y3t(e)),Hl=(t,e,n)=>oq(t,typeof e!="symbol"?e+"":e,n);function C$(t){return Number(t[0].split(":")[1])}function _$(t){return`0x${t.toString(16)}`}function X3t(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Vu(e))throw new Error("Invalid chains");const c={chains:e,methods:r||iq,events:s||sq,rpcMap:Yy({},e.length?{[C$(e)]:a[C$(e)]}:{})},l=s==null?void 0:s.filter(f=>!sq.includes(f)),u=r==null?void 0:r.filter(f=>!iq.includes(f));if(!n&&!o&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=(l==null?void 0:l.length)&&(u==null?void 0:u.length)||!n,h={chains:[...new Set(d?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:Vwe))],events:[...new Set(c.events.concat(o!=null&&o.length?o:Kwe))],rpcMap:a};return{required:e.length?c:void 0,optional:n.length?h:void 0}}const e5t=class DAe{constructor(){Hl(this,"events",new ms.EventEmitter),Hl(this,"namespace","eip155"),Hl(this,"accounts",[]),Hl(this,"signer"),Hl(this,"chainId",1),Hl(this,"modal"),Hl(this,"rpc"),Hl(this,"STORAGE_KEY",H3t),Hl(this,"on",(e,n)=>(this.events.on(e,n),this)),Hl(this,"once",(e,n)=>(this.events.once(e,n),this)),Hl(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Hl(this,"off",(e,n)=>(this.events.off(e,n),this)),Hl(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new DAe;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=X3t(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(ME(Yy({namespaces:Yy({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:d})).then(h=>{a(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const o=Mge(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:_$(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(ME(Yy({},e),{chains:this.rpc.chains}),n).then(u=>{o(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=Mge(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:_$(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",_$(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",ME(Yy({},li("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",_$(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||iq:[],c=i.length?(e==null?void 0:e.events)||sq:[],l=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],d=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),h=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?C$(this.rpc.chains):C$(this.rpc.optionalChains),this.signer=await z3t.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await K3t(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return u5t}),s=i(ME(Yy({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");n=r(ME(Yy({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Vu(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&Vu(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${V3t}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};var t5t=Object.defineProperty,n5t=Object.defineProperties,r5t=Object.getOwnPropertyDescriptors,Zwe=Object.getOwnPropertySymbols,i5t=Object.prototype.hasOwnProperty,s5t=Object.prototype.propertyIsEnumerable,Ywe=(t,e,n)=>e in t?t5t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jwe=(t,e)=>{for(var n in e||(e={}))i5t.call(e,n)&&Ywe(t,n,e[n]);if(Zwe)for(var n of Zwe(e))s5t.call(e,n)&&Ywe(t,n,e[n]);return t},o5t=(t,e)=>n5t(t,r5t(e));function a5t(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const c5t=t=>{const[e,n]=t.split(":");return Qwe({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function l5t(t){var e,n,r,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(c5t).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:a5t(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:o5t(Jwe({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const d=[...(t.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(t.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(p=>!h.includes(p.id));f.length&&(u.customWallets=f)}return u}function Qwe(t){return Jwe({formatters:void 0,fees:void 0,serializers:void 0},t)}var u5t=Object.freeze({__proto__:null,convertWCMToAppKitOptions:l5t,defineChain:Qwe}),d5t=function(e,n){return Math.round(n*Math.log(e)/Math.LN2)},h5t=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],f5t=function(e){return function(n){return e.reduce(function(r,i){return r+(i.re.test(n)?i.length:0)},0)}},p5t=f5t(h5t),g5t=function(e){return e?d5t(p5t(e),e.length):0},m5t=g5t;const y5t=Hi(m5t);function Xwe(t){return crypto.getRandomValues(new Uint8Array(t))}const w5t=256,jE=65536;function v5t(){const[t]=Xwe(1);return t}function b5t(){const[t,e]=Xwe(2);return(t<<8)+e}function x5t(t){if(typeof t!="number"||t<2||t>jE)throw new Error(`Invalid number: number must be at least two and at most ${jE}`);const e=t>256,n=e?jE:w5t,r=e?b5t:v5t,i=t*Math.floor(n/t);for(;;){const s=r();if(s<i)return s%t}}function E5t(t,e,n){if(typeof n!="number"||n>jE)throw new Error(`Invalid argument: end must be a number less than or equal to ${jE}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+x5t(n-e);return r}function C5t(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return E5t(t,0,e.length).reduce((r,i,s)=>{const o=e[i];return r+(s===0?o:n+o)},"")}const _5t=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),A5t=Object.freeze(_5t.filter(t=>!t.includes("-")));function S5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const I5t=k.forwardRef(S5t);function k5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const $5t=k.forwardRef(k5t);function T5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const A$=k.forwardRef(T5t);function P5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const S$=k.forwardRef(P5t);function N5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const aq=k.forwardRef(N5t);function O5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const R5t=k.forwardRef(O5t);function M5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const j5t=k.forwardRef(M5t);function B5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const D5t=k.forwardRef(B5t);function L5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const U5t=k.forwardRef(L5t);function F5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const z5t=k.forwardRef(F5t);function W5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const a3=k.forwardRef(W5t);function q5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const H5t=k.forwardRef(q5t);function V5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const K5t=k.forwardRef(V5t);function G5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const eve=k.forwardRef(G5t);function Z5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Y5t=k.forwardRef(Z5t);function J5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Q5t=k.forwardRef(J5t);function X5t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const e6t=k.forwardRef(X5t);function t6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const n6t=k.forwardRef(t6t);function r6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const i6t=k.forwardRef(r6t);function s6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const o6t=k.forwardRef(s6t);function a6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const tve=k.forwardRef(a6t);function c6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const l6t=k.forwardRef(c6t);function u6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const d6t=k.forwardRef(u6t);function h6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const nve=k.forwardRef(h6t);function f6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const p6t=k.forwardRef(f6t);function g6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cq=k.forwardRef(g6t);function m6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const y6t=k.forwardRef(m6t);function w6t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const v6t=k.forwardRef(w6t);var BE={},b6t=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},rve={},Vl={};let lq;const x6t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Vl.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},Vl.getSymbolTotalCodewords=function(e){return x6t[e]},Vl.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},Vl.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');lq=e},Vl.isKanjiModeEnabled=function(){return typeof lq<"u"},Vl.toSJIS=function(e){return lq(e)};var I$={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(I$);function ive(){this.buffer=[],this.length=0}ive.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var E6t=ive;function DE(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}DE.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},DE.prototype.get=function(t,e){return this.data[t*this.size+e]},DE.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},DE.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var C6t=DE,sve={};(function(t){const e=Vl.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(sve);var ove={};const _6t=Vl.getSymbolSize,ave=7;ove.getPositions=function(e){const n=_6t(e);return[[0,0],[n-ave,0],[0,n-ave]]};var cve={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=i.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=i.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(cve);var k$={};const Cm=I$,$$=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],T$=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];k$.getBlocksCount=function(e,n){switch(n){case Cm.L:return $$[(e-1)*4+0];case Cm.M:return $$[(e-1)*4+1];case Cm.Q:return $$[(e-1)*4+2];case Cm.H:return $$[(e-1)*4+3];default:return}},k$.getTotalCodewordsCount=function(e,n){switch(n){case Cm.L:return T$[(e-1)*4+0];case Cm.M:return T$[(e-1)*4+1];case Cm.Q:return T$[(e-1)*4+2];case Cm.H:return T$[(e-1)*4+3];default:return}};var lve={},P$={};const LE=new Uint8Array(512),N$=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)LE[n]=e,N$[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)LE[n]=LE[n-255]})(),P$.log=function(e){if(e<1)throw new Error("log("+e+")");return N$[e]},P$.exp=function(e){return LE[e]},P$.mul=function(e,n){return e===0||n===0?0:LE[N$[e]+N$[n]]},function(t){const e=P$;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(lve);const uve=lve;function uq(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}uq.prototype.initialize=function(e){this.degree=e,this.genPoly=uve.generateECPolynomial(this.degree)},uq.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=uve.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var A6t=uq,dve={},_m={},dq={};dq.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Tf={};const hve="[0-9]+",S6t="[A-Z $%*+\\-./:]+";let UE="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";UE=UE.replace(/u/g,"\\u");const I6t="(?:(?![A-Z0-9 $%*+\\-./:]|"+UE+`)(?:.|[\r
]))+`;Tf.KANJI=new RegExp(UE,"g"),Tf.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Tf.BYTE=new RegExp(I6t,"g"),Tf.NUMERIC=new RegExp(hve,"g"),Tf.ALPHANUMERIC=new RegExp(S6t,"g");const k6t=new RegExp("^"+UE+"$"),$6t=new RegExp("^"+hve+"$"),T6t=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Tf.testKanji=function(e){return k6t.test(e)},Tf.testNumeric=function(e){return $6t.test(e)},Tf.testAlphanumeric=function(e){return T6t.test(e)},function(t){const e=dq,n=Tf;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}}(_m),function(t){const e=Vl,n=k$,r=I$,i=_m,s=dq,o=7973,a=e.getBCHDigit(o);function c(h,f,p){for(let m=1;m<=40;m++)if(f<=t.getCapacity(m,p,h))return m}function l(h,f){return i.getCharCountIndicator(h,f)+4}function u(h,f){let p=0;return h.forEach(function(m){const w=l(m.mode,f);p+=w+m.getBitsLength()}),p}function d(h,f){for(let p=1;p<=40;p++)if(u(h,p)<=t.getCapacity(p,f,i.MIXED))return p}t.from=function(f,p){return s.isValid(f)?parseInt(f,10):p},t.getCapacity=function(f,p,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const w=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,p),b=(w-y)*8;if(m===i.MIXED)return b;const v=b-l(m,f);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(f,p){let m;const w=r.from(p,r.M);if(Array.isArray(f)){if(f.length>1)return d(f,w);if(f.length===0)return 1;m=f[0]}else m=f;return c(m.mode,m.getLength(),w)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let p=f<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return f<<12|p}}(dve);var fve={};const hq=Vl,pve=1335,P6t=21522,gve=hq.getBCHDigit(pve);fve.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;hq.getBCHDigit(i)-gve>=0;)i^=pve<<hq.getBCHDigit(i)-gve;return(r<<10|i)^P6t};var mve={};const N6t=_m;function c3(t){this.mode=N6t.NUMERIC,this.data=t.toString()}c3.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},c3.prototype.getLength=function(){return this.data.length},c3.prototype.getBitsLength=function(){return c3.getBitsLength(this.data.length)},c3.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var O6t=c3;const R6t=_m,fq=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l3(t){this.mode=R6t.ALPHANUMERIC,this.data=t}l3.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},l3.prototype.getLength=function(){return this.data.length},l3.prototype.getBitsLength=function(){return l3.getBitsLength(this.data.length)},l3.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=fq.indexOf(this.data[n])*45;r+=fq.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(fq.indexOf(this.data[n]),6)};var M6t=l3;const j6t=_m;function u3(t){this.mode=j6t.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}u3.getBitsLength=function(e){return e*8},u3.prototype.getLength=function(){return this.data.length},u3.prototype.getBitsLength=function(){return u3.getBitsLength(this.data.length)},u3.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var B6t=u3;const D6t=_m,L6t=Vl;function d3(t){this.mode=D6t.KANJI,this.data=t}d3.getBitsLength=function(e){return e*13},d3.prototype.getLength=function(){return this.data.length},d3.prototype.getBitsLength=function(){return d3.getBitsLength(this.data.length)},d3.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=L6t.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var U6t=d3,yve={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,u,d,h,f,p,m,w;!a.empty();){c=a.pop(),l=c.value,d=c.cost,h=n[l]||{};for(u in h)h.hasOwnProperty(u)&&(f=h[u],p=d+f,m=o[u],w=typeof o[u]>"u",(w||m>p)&&(o[u]=p,a.push(u,p),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(yve);var wve=yve.exports;(function(t){const e=_m,n=O6t,r=M6t,i=B6t,s=U6t,o=Tf,a=Vl,c=wve;function l(y){return unescape(encodeURIComponent(y)).length}function u(y,b,v){const E=[];let _;for(;(_=y.exec(v))!==null;)E.push({data:_[0],index:_.index,mode:b,length:_[0].length});return E}function d(y){const b=u(o.NUMERIC,e.NUMERIC,y),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let E,_;return a.isKanjiModeEnabled()?(E=u(o.BYTE,e.BYTE,y),_=u(o.KANJI,e.KANJI,y)):(E=u(o.BYTE_KANJI,e.BYTE,y),_=[]),b.concat(v,E,_).sort(function(I,R){return I.index-R.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function h(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return r.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,v){const E=b.length-1>=0?b[b.length-1]:null;return E&&E.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function p(y){const b=[];for(let v=0;v<y.length;v++){const E=y[v];switch(E.mode){case e.NUMERIC:b.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:b.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:b.push([E,{data:E.data,mode:e.BYTE,length:l(E.data)}]);break;case e.BYTE:b.push([{data:E.data,mode:e.BYTE,length:l(E.data)}])}}return b}function m(y,b){const v={},E={start:{}};let _=["start"];for(let T=0;T<y.length;T++){const I=y[T],R=[];for(let S=0;S<I.length;S++){const B=I[S],j=""+T+S;R.push(j),v[j]={node:B,lastCount:0},E[j]={};for(let U=0;U<_.length;U++){const M=_[U];v[M]&&v[M].node.mode===B.mode?(E[M][j]=h(v[M].lastCount+B.length,B.mode)-h(v[M].lastCount,B.mode),v[M].lastCount+=B.length):(v[M]&&(v[M].lastCount=B.length),E[M][j]=h(B.length,B.mode)+4+e.getCharCountIndicator(B.mode,b))}}_=R}for(let T=0;T<_.length;T++)E[_[T]].end=0;return{map:E,table:v}}function w(y,b){let v;const E=e.getBestModeForData(y);if(v=e.from(b,E),v!==e.BYTE&&v.bit<E.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(E));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new r(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(b){return b.reduce(function(v,E){return typeof E=="string"?v.push(w(E,null)):E.data&&v.push(w(E.data,E.mode)),v},[])},t.fromString=function(b,v){const E=d(b,a.isKanjiModeEnabled()),_=p(E),T=m(_,v),I=c.find_path(T.map,"start","end"),R=[];for(let S=1;S<I.length-1;S++)R.push(T.table[I[S]].node);return t.fromArray(f(R))},t.rawSplit=function(b){return t.fromArray(d(b,a.isKanjiModeEnabled()))}})(mve);const O$=Vl,pq=I$,F6t=E6t,z6t=C6t,W6t=sve,q6t=ove,gq=cve,mq=k$,H6t=A6t,R$=dve,V6t=fve,K6t=_m,yq=mve;function G6t(t,e){const n=t.size,r=q6t.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function Z6t(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Y6t(t,e){const n=W6t.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function J6t(t,e){const n=t.size,r=R$.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function wq(t,e,n){const r=t.size,i=V6t.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function Q6t(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function X6t(t,e,n){const r=new F6t;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),K6t.getCharCountIndicator(c.mode,t)),c.write(r)});const i=O$.getSymbolTotalCodewords(t),s=mq.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return e4t(r,t,e)}function e4t(t,e,n){const r=O$.getSymbolTotalCodewords(e),i=mq.getTotalCodewordsCount(e,n),s=r-i,o=mq.getBlocksCount(e,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=l-u,f=new H6t(h);let p=0;const m=new Array(o),w=new Array(o);let y=0;const b=new Uint8Array(t.buffer);for(let I=0;I<o;I++){const R=I<c?u:d;m[I]=b.slice(p,p+R),w[I]=f.encode(m[I]),p+=R,y=Math.max(y,R)}const v=new Uint8Array(r);let E=0,_,T;for(_=0;_<y;_++)for(T=0;T<o;T++)_<m[T].length&&(v[E++]=m[T][_]);for(_=0;_<h;_++)for(T=0;T<o;T++)v[E++]=w[T][_];return v}function t4t(t,e,n,r){let i;if(Array.isArray(t))i=yq.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=yq.rawSplit(t);l=R$.getBestVersionForData(u,n)}i=yq.fromString(t,l||40)}else throw new Error("Invalid data");const s=R$.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=X6t(e,n,i),a=O$.getSymbolSize(e),c=new z6t(a);return G6t(c,e),Z6t(c),Y6t(c,e),wq(c,n,0),e>=7&&J6t(c,e),Q6t(c,o),isNaN(r)&&(r=gq.getBestMask(c,wq.bind(null,c,n))),gq.applyMask(r,c),wq(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}rve.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=pq.M,i,s;return typeof n<"u"&&(r=pq.from(n.errorCorrectionLevel,pq.M),i=R$.from(n.version),s=gq.from(n.maskPattern),n.toSJISFunc&&O$.setToSJISFunction(n.toSJISFunc)),t4t(e,i,r,s)};var vve={},vq={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let p=(h*l+f)*4,m=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const w=Math.floor((h-u)/c),y=Math.floor((f-u)/c);m=d[a[w*o+y]?1:0]}r[p++]=m.r,r[p++]=m.g,r[p++]=m.b,r[p]=m.a}}})(vq),function(t){const e=vq;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),n(d,l,u),d.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(vve);var bve={};const n4t=vq;function xve(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function bq(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function r4t(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(r+=s?bq("M",c+n,.5+l+n):bq("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(r+=bq("h",o),o=0)):i++}return r}bve.render=function(e,n,r){const i=n4t.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+xve(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+xve(i.color.dark,"stroke")+' d="'+r4t(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,h),h};const i4t=b6t,xq=rve,Eve=vve,s4t=bve;function Eq(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!i4t())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=xq.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=xq.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}BE.create=xq.create,BE.toCanvas=Eq.bind(null,Eve.render),BE.toDataURL=Eq.bind(null,Eve.renderToDataURL),BE.toString=Eq.bind(null,function(t,e,n){return s4t.render(t,n)});function o4t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const FE=k.forwardRef(o4t);function a4t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const c4t=k.forwardRef(a4t);function l4t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Cq=k.forwardRef(l4t);function u4t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const d4t=k.forwardRef(u4t);function h4t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const f4t=k.forwardRef(h4t);function p4t({title:t,titleId:e,...n},r){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const g4t=k.forwardRef(p4t);function zE(t){return t?{"privy-ui":"t"}:void 0}class h3{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new oe("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(wZe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw On(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new oe("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(vZe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw On(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new oe("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new oe("Email must be set when initialzing authentication.");let i=zE(r);try{return await this.api.post(yZe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw On(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}let m4t=class extends h3{async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new oe("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(xZe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw On(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}},Cve=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}};function _q(){try{let t="privy:__session_storage__test",e=new Cve;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Rt=typeof window<"u"&&window.localStorage?new Cve:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function _ve(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function Ave(t,e){let n=_ve(e);if(n.universalLink)return Sq(n.universalLink,t)}let Aq="WALLETCONNECT_DEEPLINK_CHOICE";function Sve(t){return t.startsWith("http://")||t.startsWith("https://")}function Ive(t,e){if(Sve(t))return Sq(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Sq(t,e){if(!Sve(t))return Ive(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function kve(t,e){window.open(t,e,"noreferrer noopener")}let ec=class{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}};class $ve{get meta(){return this._meta}async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.channelToken)throw new oe("Auth flow must be initialized first");try{let e=await this.api.post(hZe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new oe("No response from authentication");return e}catch(e){throw On(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(fZe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw On(e)}}async _startChannelOnce(){if(!this.api)throw new oe("Auth flow has no API instance");let e=await this.api.post(dZe,{token:this.captchaToken});Zr&&!XM&&e.connect_uri&&kve(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new oe("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.channelToken)throw new oe("Auth flow must be initialized first");let e=await this.api.get(pZe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new ec(this._startChannelOnce.bind(this)),this.pollForReady=new ec(this._pollForReady.bind(this)),this._meta.disableSignup=n}}const Iq="https://auth.privy.io",di=1400,kq=2500,M$=4e3,y4t="2.25.0",WE="privy:token",Tve="privy-token",$q="privy:refresh_token",j$="privy:pat",Pve="privy:id_token",Nve="privy-id-token",Tq="privy-session",Pq="privy:caid",Ove=t=>`privy:guest:${t}`,B$=t=>`privy:cross-app:${t}`,D$="privy:state_code",qE="privy:code_verifier",L$="privy:headless_oauth",HE="privy:oauth_disable_signup",Nq=t=>`privy:wallet:${t}`,Rve="privy:connectors",Mve="privy:connections",U$=12e4,jve=3e4,w4t="https://api.moonpay.com/v1",v4t="https://api.moonpay.com/v1",b4t="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",x4t="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function Oq(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function Bve(){var e;if(!Oq())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function Rq(){var e;if(!Oq())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function Dve(t){return new Promise((e,n)=>{Rq()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async r=>{try{let i=function(){var u,d;if(!Oq())return;let l=window.chrome;return(d=(u=l==null?void 0:l.runtime)==null?void 0:u.lastError)==null?void 0:d.message}();if(i||!r){let l=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(l)}let s=new URL(r),o=Bve();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let l=s.hostname.split(".");if(l.length!==3||l[1]!=="chromiumapp"||l[2]!=="org"||l[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),c=s.searchParams.get("privy_oauth_code");if(!a||!c)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:c})}catch(i){n(i)}}):n(Error("Chrome identity API not available"))})}function Mq(t){return crypto.getRandomValues(new Uint8Array(t))}function F$(){return ty(Mq(36))}function jq(){return F$()}async function Bq(t,e="S256"){if(e!="S256")return t;{let n=await async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return ty(n)}}let f3=class{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new oe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new oe("User denied confirmation during OAuth flow");let e=function(){let n=Rt.get(qE);if(!n)throw new oe("Authentication error.");return n}();try{let n=await this.api.post(ale,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Rt.del(qE),Rt.del(L$),Rt.del(HE),n}catch(n){let r=On(n);throw r.privyErrorCode?new oe(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new oe("Invalid code during oauth flow.",void 0,le.OAUTH_USER_DENIED):new oe("Invalid code during OAuth flow.",void 0,le.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new oe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new oe("User denied confirmation during OAuth flow");let e=Rt.get(qE);if(!e)throw new oe("Authentication error.");try{let n=await this.api.post(cle,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Rt.del(qE),n}catch(n){throw On(n)}}async getAuthorizationUrl(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.provider)throw new oe("Provider must be set when initializing OAuth authentication.");let e=F$();Rt.put(qE,e);let n=jq();Rt.put(D$,n);let r=await Bq(e);this.meta.withPrivyUi||Rt.put(L$,!0),this.meta.disableSignup?Rt.put(HE,!0):Rt.del(HE);let i=zE(this.meta.withPrivyUi),s=window.location.href,o=function(){let a=Bve();if(a)return`https://${a}.chromiumapp.org`}();o&&(s=o);try{return await this.api.post(ole,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(a){throw On(a)}}constructor(e){this.meta=e}};function Lve(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Uve=({style:t,...e})=>g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),g.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),g.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),Fve=({style:t,...e})=>g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),g.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),zve=({style:t,...e})=>g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),g.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),E4t=({style:t})=>g.jsx(tve,{style:{color:"var(--privy-color-error)",...t}}),Wve=t=>g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),g.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),g.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),g.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),g.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function qve(t){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[g.jsxs("defs",{children:[g.jsxs("linearGradient",{id:"b",children:[g.jsx("stop",{offset:"0",stopColor:"#3771c8"}),g.jsx("stop",{stopColor:"#3771c8",offset:".128"}),g.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),g.jsxs("linearGradient",{id:"a",children:[g.jsx("stop",{offset:"0",stopColor:"#fd5"}),g.jsx("stop",{offset:".1",stopColor:"#fd5"}),g.jsx("stop",{offset:".5",stopColor:"#ff543e"}),g.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),g.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),g.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),g.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),g.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),g.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Hve(t){return g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),g.jsxs("defs",{children:[g.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:g.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),g.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function Vve(t){return g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),g.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),g.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_1715_1956",children:g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function Kve(t){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[g.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),g.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Gve(t){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:g.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const Zve=t=>g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),g.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let Yve={google:{name:"Google",component:Wve},discord:{name:"Discord",component:Fve},github:{name:"Github",component:zve},linkedin:{name:"LinkedIn",component:Vve},twitter:{name:"Twitter",component:Zve},spotify:{name:"Spotify",component:Kve},instagram:{name:"Instagram",component:qve},tiktok:{name:"Tiktok",component:Gve},line:{name:"LINE",component:Hve},apple:{name:"Apple",component:Uve}};const Dq=t=>t in Yve?Yve[t]:{name:"Unknown",component:E4t};function C4t(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!Rt.get(L$),popupFlow:window.opener!==null&&i,disableSignup:!!Rt.get(HE)}}function Lq(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Rt.del(D$),window.history.replaceState({},"",t)}let p3=class{async initRegisterFlow(e){if(!this.api)throw new oe("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new oe("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new oe("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await Ge(()=>Promise.resolve().then(()=>n7),void 0);if(!this.api)throw new oe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new oe("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(LZe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new oe("Passkey request timed out or rejected by user.",void 0,le.PASSKEY_NOT_ALLOWED):On(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await Ge(()=>Promise.resolve().then(()=>n7),void 0);if(!this.api)throw new oe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new oe("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map(o=>({type:"public-key",id:o})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let o=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(DZe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(o)})}catch(o){throw o.name==="NotAllowedError"?new oe("Passkey request timed out or rejected by user.",void 0,le.PASSKEY_NOT_ALLOWED):On(o)}}async link(){var n,r;let e=await Ge(()=>Promise.resolve().then(()=>n7),void 0);if(!this.api)throw new oe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new oe("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(BZe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new oe("Passkey request timed out or rejected by user.",void 0,le.PASSKEY_NOT_ALLOWED):On(i)}}async _initRegisterOnce(e){if(!this.api)throw new oe("Auth flow has no API instance");let n=zE(e);return await this.api.post(jZe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new oe("Auth flow has no API instance");let n=zE(e);return await this.api.post(MZe,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new oe("Auth flow has no API instance");return await this.api.post(RZe,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,o,a,c,l,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(d=>({type:d.type,alg:d.alg})),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map(d=>({id:d.id,type:d.type,transports:d.transports})),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(o=e.authenticator_selection)==null?void 0:o.user_verification},attestation:e.attestation,extensions:{appid:(a=e.extensions)==null?void 0:a.app_id,credProps:(l=(c=e.extensions)==null?void 0:c.cred_props)==null?void 0:l.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map(o=>({id:o.id,type:o.type,transports:o.transports})))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new ec(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new ec(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new ec(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}};const Uq=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let g3=class{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new oe("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,connectorType:(r=this.wallet)==null?void 0:r.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw On(i)}}async link(){if(!this.client)throw new oe("SiweFlow has no client instance");try{if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw On(e)}}async sign(){if(!this.client)throw new oe("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new oe("Could not prepare SIWE message");if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new oe("SiweFlow has no client instance");if(!this.wallet)throw new oe("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new oe("SiweFlow has no client instance");if(!this.wallet)throw new oe("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=Uq({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new ec(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}};const Ca=(...t)=>{if(typeof Buffer>"u")throw new oe("Buffer is not defined.",void 0,le.BUFFER_NOT_DEFINED);return Buffer.from(...t)},_4t=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let z$=class{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new oe("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw On(e)}}async link(){if(!this.client)throw new oe("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw On(e)}}async sign(){var i;let e,n;if(!this.client)throw new oe("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new oe("Could not prepare SIWS message");if(!r&&!this.wallet.signMessage||r&&!this.wallet.signTransaction)throw new oe("Wallet does not support the necessary signing methods");if(r&&this._siwsTransactionMethods){let s=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=s.serialize().toString("base64"),n=Ca(((i=s.signatures[0])==null?void 0:i.signature)??Buffer.from("missing signature")).toString("base64")}else e=this.preparedMessage,n=Ca(await this.wallet.signMessage(new TextEncoder().encode(this.preparedMessage))).toString("base64");return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new oe("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new oe("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=_4t({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new ec(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._siwsTransactionMethods=o}},m3=class{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new oe("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(SZe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw On(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new oe("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(_Ze,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw On(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new oe("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new oe("phone nNumber must be set when initialzing authentication.");let i=zE(r);try{return await this.api.post(CZe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw On(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}},A4t=class extends m3{async link(){if(!this.api)throw new oe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new oe("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(IZe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw On(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}};const Jve=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Qve=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Jve(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!Qve(n))return!1}return!0},Xve=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},y3=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new Lr(`Unsupported chainId ${t}`,4901);return Hh({transport:Ua(c0(s,n,r.appId)),chain:s})},c0=(t,e,n)=>{var o,a,c;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((o=t.rpcUrls.privy)!=null&&o.http[0]){let l=new URL(t.rpcUrls.privy.http[0]);l.searchParams.append("privyAppId",n),r=l.toString()}else r=(a=t.rpcUrls.public)!=null&&a.http[0]?t.rpcUrls.public.http[0]:(c=t.rpcUrls.default)==null?void 0:c.http[0];if(!r)throw new Lr(`No RPC url found for ${i}`);return r},ebe=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),No=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},Fq=(t,e=3,n=4)=>No(t,e,n,"solana"),W$=t=>new Promise(e=>setTimeout(e,t)),zq=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise(async(i,s)=>{var c;let o=!1,a=0;for(;!o&&a<r;){if((c=e.abortSignal)!=null&&c.aborted)return;t().then(l=>{o=!0,i(l)},(...l)=>{o=!0,s(...l)}),a+=1,await W$(n)}o||s(Error("Exceeded max attempts before resolving function"))})},tbe=(t,e,n={},r={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(n))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(r);if(s.length>0){let o=new URLSearchParams;for(let[a,c]of s)o.append(a,c);i.hash=o.toString()}return i.href},S4t=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),Wq=t=>typeof t=="string"?t:"0x"+t.toString(16);async function I4t({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,o=window;return new Promise(a=>{function c(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",c);let l=t.getProviders();console.debug("Detected injected providers:",l.map(d=>d.info));let u=[];for(let d of l)e.includes("coinbase_wallet")&&d.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&d.info.rdns==="app.phantom"||u.push({type:d.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:d});if(r!=="solana-only")for(let d of function(){var m;let h=window,f=h.ethereum;if(!f)return[];let p=[];if((m=f.providers)!=null&&m.length)for(let w of f.providers)w&&p.push(w);return p.push(h.ethereum),p}()){let h=Jve(d);if(!l.some(f=>f.info.name===h)){if(Qve(d,!0)&&!u.find(f=>f.type==="metamask")){u.push({type:"metamask",legacyInjectedProvider:d});continue}if(h==="Phantom"&&!u.find(f=>f.type==="phantom")){u.push({type:"phantom",legacyInjectedProvider:d});continue}if(h==="Coinbase Wallet"&&!u.find(f=>{var p,m,w;return f.type==="coinbase_wallet"&&((w=(m=(p=n.coinbaseWallet)==null?void 0:p.config)==null?void 0:m.preference)==null?void 0:w.options)!=="smartWalletOnly"})){u.push({type:"coinbase_wallet",legacyInjectedProvider:d});continue}u.find(f=>f.type==="unknown_browser_extension")||u.push({type:"unknown_browser_extension",legacyInjectedProvider:d})}}a(u)}o.ethereum?c():(window.addEventListener("ethereum#initialized",c,{once:!0}),setTimeout(()=>{c()},i))})}function VE(t){return`eip155:${String(Number(t))}`}const k4t=(t,e,n,r)=>{let i=Number(t),s=e.find(o=>o.id===i);if(!s)throw new Lr(`Unsupported chainId ${t}`,4901);return c0(s,n,r)},q$=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map(([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}}).filter(r=>r!==void 0);return{...t,types:{...t.types,EIP712Domain:n}}},nbe=k.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:_e,setError:_e,setExecuting:_e,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:_e,reset:_e,execute:_e});let H$=class extends da{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}};const $4t=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=k.useRef(null),[s,o]=k.useState(),[a,c]=k.useState(),[l,u]=k.useState(!1),d=k.useMemo(()=>r?l||s||a?!l||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[r,s,a,l]);return g.jsx(nbe.Provider,{value:{...d,ref:i,enabled:r,siteKey:n,appId:e,setToken:o,setError:c,setExecuting:u,remove(){var h;r&&((h=i.current)==null||h.remove(),u(!1),c(void 0),o(void 0))},reset(){var h;r&&((h=i.current)==null||h.reset(),u(!1),c(void 0),o(void 0))},execute(){var h;r&&(u(!0),(h=i.current)==null||h.execute())},async waitForResult(){if(!r)return"";try{return await function(h,{interval:f=100,timeout:p=5e3}={}){return new Promise((m,w)=>{let y,b=0,v=()=>{b>=p?w("Max attempts reached without result"):(y=h(),b+=f,y==null?setTimeout(v,f):m(y))};v()})}(()=>{var h;return(h=i.current)==null?void 0:h.getResponse()},{interval:200,timeout:2e4})}catch{throw new H$("Captcha failed",null,le.CAPTCHA_TIMEOUT)}}},children:t})},Hc=()=>k.useContext(nbe);let KE=class{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(UZe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw On(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(FZe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw On(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}};function rbe(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===le.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===le.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===le.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===le.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===le.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===le.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===le.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof H$&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function ibe(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function sbe(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let w3=class LAe{static parse(e){try{return new LAe(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return vD(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=vD(e)}},T4t=class UAe extends w3{static parse(e){try{return new UAe(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}},obe=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const Oo=(t,e)=>{if(e!=null&&e.imported)return obe(e);let n=Ru(t);if(!n)throw Error("Failed to find primary wallet");return obe(n)},P4t=({style:t,...e})=>g.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),abe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",cbe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let lbe=class extends Lr{constructor(){super("Wallet timeout"),this.type="wallet_error"}},ube=class extends Lr{constructor(){super("User rejected connection"),this.type="wallet_error"}};const Am=t=>t instanceof Lr?t:t!=null&&t.code?new _a(t):new Lr("Unknown connector error",t);let v3=class extends da{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},_a=class extends v3{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Md).find(o=>o.eipCode===e.code);this.details=n||Md.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Md.E32002_CONNECTION_ALREADY_PENDING:this.details=Md.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Md.E32002_WALLET_LOCKED))}};const Sm={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Md};function l0(t){return t.type==="ethereum"}function qq(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&l0(r)&&l0(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}let dbe=class extends rf{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const Hq=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||U$;let b3,GE;function ZE(t){return t.chainType==="ethereum"}let Jy=class extends dbe{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find(o=>Gi(o.address)===Gi(e));return{type:"ethereum",address:Gi(e),chainId:n,meta:r,imported:i,switchChain:async o=>{var h,f,p,m;let a,c;if(!s)throw new Lr("Wallet is not currently connected.");let l=(h=this.wallets.find(w=>Gi(w.address)===Gi(e)))==null?void 0:h.chainId;if(!l)throw new Lr("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,c=o):(a=o,c=Number(o)),l===VE(a))return;let u=this.chains.find(w=>w.id===c);if(!u)throw new Lr(`Unsupported chainId: ${o}`);let d=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await d()}catch(w){if(((y,b)=>{var v;switch(b){case"coinbase_wallet":case"base_account":return y.message.includes("addEthereumChain");case"rabby_wallet":return y.message.includes("Unrecognized chain ID");default:return y.code===4902||((v=y.message)==null?void 0:v.includes("4902"))}})(w,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await W$(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((f=u.rpcUrls.default)==null?void 0:f.http[0])??""],blockExplorerUrls:[((p=u.blockExplorers)==null?void 0:p.default.url)??""]}]}),d();throw this.walletClientType==="rainbow"&&((m=w.message)!=null&&m.includes("wallet_switchEthereumChain"))?new Lr(`Rainbow does not support the chainId ${n}`):w}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Lr("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new Lr("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let c=await zq(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,c),Array.isArray(c)&&(r=c)}}catch(c){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",c)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],s=Gi(i),o=[];if(this.walletClientType==="privy"){let c=Rt.get(Nq(s));this.chains.find(l=>l.id===Number(c))||(Rt.del(Nq(s)),c=null),n=c||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let c=await zq(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,c),typeof c=="string")n=c;else{if(typeof c!="number")throw Error("Invalid chainId returned from provider");n=`0x${c.toString(16)}`}}catch(c){console.warn("Failed to get chainId from provider, defaulting to 0x1",c),n="0x1"}let a=VE(n);if(!o.find(c=>Gi(c.address)===s)){let c={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(Gi(i),a,c,this.connectorType==="embedded_imported"))}qq(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((n,r)=>r.connectedAt-n.connectedAt).find(n=>e.find(r=>Gi(r)===Gi(n.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Cr(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(o=>{o.chainId=VE(s),this.walletClientType==="privy"&&Rt.put(Nq(o.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await W$(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=Hq(i,e),this.connected=!1,this.initialized=!1}},Im=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Lr(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(n=>{throw Am(n)})}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new lbe,i=this.rpcTimeoutDuration)=>new Promise((s,o)=>setTimeout(()=>{o(r)},i)),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=r,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=n||U$,this._subscriptions=[]}},N4t=class extends Jy{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:cbe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Lr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Am(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Im(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map(o=>o.id))},b3?(this.proxyProvider.setWalletProvider(b3.getProvider()),this.setBaseAccountSdk(b3),console.log("Base Account SDK Initialized")):this.importPromise=Ge(()=>Promise.resolve().then(()=>mZt),void 0).then(({createBaseAccountSDK:o})=>{b3=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(b3.getProvider()),this.setBaseAccountSdk(b3),console.log("Base Account SDK Initialized")}).catch(console.error)}},O4t=[1,11155111,137,10,8453,84532,42161,7777777,43114,56],R4t=class extends Jy{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:abe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Lr("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Am(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",GE=Rue({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(GE.getProvider())}constructor(e,n,r,i){var s,o;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Im(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map(a=>a.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!GE){let a=((o=this.coinbaseWalletConfig.preference)==null?void 0:o.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(c=>!O4t.includes(c)):[];a.length>0&&!a.every(c=>Eoe.has(c))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${a.join(", ")}`),GE=Rue(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(GE.getProvider())}};const hbe=({...t})=>g.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});let fbe=class extends Jy{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[Wq((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:hbe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:o}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}};const M4t=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];let sh=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}},pbe=class extends rf{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new sh(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Ir()||!this.address)throw new sh("Disconnected",4900);let{hash:r}=await GSt(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new sh(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Ir()||!this.address)throw new sh("Disconnected",4900);let{signature:r}=await KSt(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new sh(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new sh(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=y3(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await HSt({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await VSt(q$(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:Wq(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...Mue(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return Wq(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>M4t.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await Ir();if(await ZSt({address:this.address}),!n||!this.address)throw new sh("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&Vs(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new sh("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new sh("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Wa(i,async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:r,message:o}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new sh(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new sh(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:c=1,walletIndex:l,privyClient:u,walletAccount:d}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=c,this.rpcConfig=s,this.chains=o,this.publicClient=y3(c,this.chains,s,{appId:a}),this.rpcTimeoutDuration=Hq(s,"privy"),this.appId=a,this.walletIndex=l,this.privyClient=u,this.walletAccount=d}},Vq=class extends Jy{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Im(void 0,U$),this.id=e,this.name=n,this.icon=r,this.connectorType=i}};const Kq=({style:t,...e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),Gq=({...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[g.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),g.jsx("g",{transform:"translate(4, 4)",children:g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[g.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),g.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),g.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),g.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),g.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),g.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),g.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),g.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),g.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),g.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),g.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),g.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),g.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),gbe=({style:t,...e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function Zq(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var j4t=0;let mbe=class extends Jy{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Lr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Am(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Im(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}};var Qy="__private_"+j4t+++"__walletBranding";let Yq=class extends Jy{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return Zq(this,Qy)[Qy]??{name:"Browser Extension",icon:Kq,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Lr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Am(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,Qy,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Im(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?Zq(this,Qy)[Qy]={name:"MetaMask",icon:Gq,id:"io.metamask"}:s==="phantom"&&(Zq(this,Qy)[Qy]={name:"Phantom",icon:gbe,id:"phantom"})}},B4t=class extends mbe{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Zr||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Lr("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Am(e)}}};const D4t=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],Jq=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:jte?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let o=window;if((e=(t=o==null?void 0:o.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=o==null?void 0:o.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=o==null?void 0:o.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=V$({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:jte?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=V$({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=V$({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+V$({client:this.client,isSolana:t,connectOnly:e}))}}});function ybe({connectorType:t,walletClientType:e}){for(let n of D4t)if(t===n||e===n)return Jq[n]}function V$({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const K$=()=>{let t=Rt.get(Mve);return t&&Array.isArray(t)&&t.map(e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e)).every(Boolean)?t:[]};let L4t=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function U4t(t){return t.toLowerCase().split(" ").join("_")}let G$=class extends dbe{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,n){let r,i,s,o;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(r=async(...a)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(a[0])}),"sendTransaction"in e&&(i=async(...a)=>await e.sendTransaction(a[0],a[1],a[2])),"signTransaction"in e&&(s=async a=>await e.signTransaction(a)),"signAllTransactions"in e&&(o=async a=>await e.signAllTransactions(a)),{type:"solana",address:e.publicKey.toBase58(),meta:n,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:zg(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:r??zg(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??zg(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??zg(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:o??zg(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(n=>this.adapter.publicKey&&n.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch(()=>{}),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,n)=>n.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!L4t.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||K$().some(({walletClientType:e})=>e==="phantom"))}constructor(e,n){super(U4t(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(r=>console.error("Error disconnecting",r))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(r){throw Am(r)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=r=>{this.syncAccounts()},this.onError=r=>{this.syncAccounts()},this.onReadyStateChange=r=>{r!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=n,this.wallets=[]}},Qq=class extends G${get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Im(void 0,U$),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function F4t(t){return t.chainType==="solana"}function wbe(t){return t.type==="solana"}const YE=n2(()=>({listings:[]})),z4t=YE.setState,Xq=t=>{let e;try{e=new URL(t).hostname}catch{return}return YE.getState().listings.find(({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)})},u0=t=>YE(({listings:e})=>e.find(({slug:n})=>Z$(n)===Z$(t)));function Z$(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function W4t({src:t,...e}){return g.jsx("img",{src:t,...e,style:{display:"none"}})}const Pf={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let q4t=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),vbe=t=>q4t.has(t),bbe=(t,e,n)=>n.indexOf(t)===e;const eH=792703809,tH="11111111111111111111111111111111";function x3(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function H4t(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function Y$(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return Et({...t.toHsl(),l:n})}function nH(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function V4t({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=Et(t).getLuminance(),r=Et(t).toHslString());let i=n?"dark":"light",s=n?JE:J$,{accent:o,accentLight:a,accentHover:c,accentDark:l,accentDarkest:u}=function(p,m){if(!p){let y=m?JE:J$;return{accent:Et(y.background.interactive),accentLight:Et(y.background.interactive),accentHover:Et(y.background["interactive-hover"]),accentDark:Et(y.background["interactive-clicked"]),accentDarkest:Et(y.background["interactive-disabled"])}}let w=Et(p);return{accent:w,accentLight:Y$(w,.15),accentHover:Y$(w,.3),accentDark:Y$(w,-.06),accentDarkest:Y$(w,-.6)}}(e,n),d=function(p){let m=Et(J$.text.default),w=Et(JE.text.default),y=nH(p,m),b=nH(p,w),v=p.toHsl();return v.h>=220&&v.h<=300&&b>=3?JE.text.default:y>b?J$.text.default:JE.text.default}(o),h=Et(d),f=nH(o,Et(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:c.toHslString(),accentDark:l.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:h.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:f?"1":"0",linkNavigationColor:f?o.toHslString():s.text.default,linkNavigationDecoration:f?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const JE={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},J$={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function xbe(t,e,n,r){var X,Y,te,fe,he,pe,be,ge,ye,ft,we,Me,Oe,Ee,$e,zt,Se,qe,Ye,kt,K,z,W,J,ee,ce,se,Re,et,He,nt,Pe,Wt,sn,nn,pt,ri,xt,$n,uc,Yn,Hn,H,G,ne,re,ae,de,Te,Ie,gt,rn,Be,ct,Dt,dt,je,Kt,un,In,zn,Vn,Wn,Nr,Ot,qi,dn,Or;let i,s,o,a,c,l,u,d,h,f,p,m,w,y,b,v,E=n?console.warn:()=>{};e!=null&&e.loginMethods?(i=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),a=e.loginMethods.includes("wallet"),c=e.loginMethods.includes("google"),l=e.loginMethods.includes("twitter"),u=e.loginMethods.includes("discord"),f=e.loginMethods.includes("spotify"),p=e.loginMethods.includes("instagram"),d=e.loginMethods.includes("tiktok"),h=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),m=e.loginMethods.includes("linkedin"),y=e.loginMethods.includes("apple"),b=e.loginMethods.includes("farcaster"),v=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(i=t.email_auth,s=t.sms_auth,a=t.wallet_auth||t.solana_wallet_auth,c=t.google_oauth,l=t.twitter_oauth,u=t.discord_oauth,w=t.github_oauth,f=t.spotify_oauth,p=t.instagram_oauth,d=t.tiktok_oauth,h=t.line_oauth,m=t.linkedin_oauth,y=t.apple_oauth,b=t.farcaster_auth,v=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let _=[i,s].filter(Boolean),T=[c,l,u,w,f,p,d,h,m,y,b,v].filter(Boolean),I=[a].filter(Boolean),R=((X=e==null?void 0:e.loginMethods)==null?void 0:X.includes("passkey"))??!1,S=t.passkeys_for_signup_enabled??!1,B=[o&&(S||R)].filter(Boolean);if(_.length+T.length+I.length+B.length===0)throw Error("You must enable at least one login method");let j=((Y=e==null?void 0:e.appearance)==null?void 0:Y.showWalletLoginFirst)!==void 0?(te=e==null?void 0:e.appearance)==null?void 0:te.showWalletLoginFirst:t.show_wallet_login_first;j&&I.length===0?(E("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),j=!1):j||T.length+_.length!==0||(E("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),j=!0);let U=((he=(fe=e==null?void 0:e.externalWallets)==null?void 0:fe.walletConnect)==null?void 0:he.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&E("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let M=(({input:Lt,overrides:fn})=>fn?fn.primary.concat(fn.overflow??[]).filter(vbe).filter(bbe):Lt?Lt.filter(vbe).filter(bbe):Pf.appearance.walletList)({input:(pe=e==null?void 0:e.appearance)==null?void 0:pe.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),C=(({input:Lt})=>{if(!Lt||!Lt.primary[0])return;let fn=[Lt.primary[0]],jr=[];for(let gi of(Lt.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Lt.primary.slice(1)))fn.includes(gi)?console.warn(`Duplicated login method: ${gi}`):fn.push(gi);for(let gi of Lt.overflow??[])fn.includes(gi)||jr.includes(gi)?console.warn(`Duplicated login method: ${gi}`):jr.push(gi);return{primary:fn,overflow:jr}})({input:e==null?void 0:e.loginMethodsAndOrder}),x=((be=e==null?void 0:e.intl)==null?void 0:be.defaultCountry)??"US",{chains:A,defaultChain:N}=function({supportedChains:Lt,defaultChainFromConfig:fn}){let jr;if(Lt){if(Lt.length===0)throw Error("`supportedChains` must contain at least one chain");jr=Coe(Lt)}else jr=[...$8];let gi=Lt?jr[0]:Iu,Pa=fn??gi;if(!jr.find(bv=>bv.id===Pa.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:jr,defaultChain:Pa}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),O=!!(e!=null&&e.defaultChain),P=((ge=e==null?void 0:e.customAuth)==null?void 0:ge.getCustomAccessToken)&&((ye=e==null?void 0:e.customAuth)==null?void 0:ye.enabled)!==!1,D=(ft=e==null?void 0:e.embeddedWallets)==null?void 0:ft.requireUserPasswordOnCreate,L=(we=e==null?void 0:e.embeddedWallets)==null?void 0:we.createOnLogin,$=P?"all-users":t.embedded_wallet_config.ethereum.create_on_login,q=t.embedded_wallet_config.solana.create_on_login,V={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e!=null&&e.solanaClusters)for(let Lt of e.solanaClusters){let{name:fn,rpcUrl:jr,blockExplorerUrl:gi}=Lt;V[fn]={rpcUrl:jr??V[fn].rpcUrl,blockExplorerUrl:gi??V[fn].blockExplorerUrl}}t.solana_wallet_auth&&!((Oe=(Me=e==null?void 0:e.externalWallets)==null?void 0:Me.solana)!=null&&Oe.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let F=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,Z=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((Ee=e==null?void 0:e.appearance)==null?void 0:Ee.logo)??t.logo_url??void 0,landingHeader:(($e=e==null?void 0:e.appearance)==null?void 0:$e.landingHeader)??Pf.appearance.landingHeader,loginMessage:typeof((zt=e==null?void 0:e.appearance)==null?void 0:zt.loginMessage)=="string"?(Se=e==null?void 0:e.appearance)==null?void 0:Se.loginMessage.slice(0,100):(qe=e==null?void 0:e.appearance)==null?void 0:qe.loginMessage,footerLogo:(Ye=e==null?void 0:e.appearance)==null?void 0:Ye.footerLogo,palette:V4t({backgroundTheme:((kt=e==null?void 0:e.appearance)==null?void 0:kt.theme)??Pf.appearance.theme,accentHex:((K=e==null?void 0:e.appearance)==null?void 0:K.accentColor)??t.accent_color}),loginGroupPriority:j?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((z=e==null?void 0:e.appearance)!=null&&z.hideDirectWeb2Inputs),walletList:M,walletChainType:((W=e==null?void 0:e.appearance)==null?void 0:W.walletChainType)??(({evmWalletAuth:Lt,solanaWalletAuth:fn})=>Lt&&fn?"ethereum-and-solana":Lt?"ethereum-only":fn?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:a,email:i,sms:s,passkey:o,google:c,twitter:l,discord:u,github:w,spotify:f,instagram:p,tiktok:d,line:h,linkedin:m,apple:y,farcaster:b,telegram:v},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:C,legal:{termsAndConditionsUrl:((J=e==null?void 0:e.legal)==null?void 0:J.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((ee=e==null?void 0:e.legal)==null?void 0:ee.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Pf.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((ce=e==null?void 0:e.externalWallets)==null?void 0:ce.signatureRequestTimeouts)??{}},chains:A,solanaClusters:V,defaultChain:N,intl:{defaultCountry:x},shouldEnforceDefaultChainOnConnect:O,captchaEnabled:t.captcha_enabled??Pf.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:((Re=(se=e==null?void 0:e.externalWallets)==null?void 0:se.coinbaseWallet)==null?void 0:Re.connectionOptions)??Pf.externalWallets.coinbaseWallet.connectionOptions,...(nt=(He=(et=e==null?void 0:e.externalWallets)==null?void 0:et.coinbaseWallet)==null?void 0:He.config)==null?void 0:nt.preference},...(Wt=(Pe=e==null?void 0:e.externalWallets)==null?void 0:Pe.coinbaseWallet)==null?void 0:Wt.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(nn=(sn=e==null?void 0:e.externalWallets)==null?void 0:sn.baseAccount)==null?void 0:nn.config,preference:{...(xt=(ri=(pt=e==null?void 0:e.externalWallets)==null?void 0:pt.baseAccount)==null?void 0:ri.config)==null?void 0:xt.preference,telemetry:!1}}},walletConnect:{enabled:U,appKit:(uc=($n=e==null?void 0:e.externalWallets)==null?void 0:$n.walletConnect)==null?void 0:uc.appKit},solana:{connectors:(Hn=(Yn=e==null?void 0:e.externalWallets)==null?void 0:Yn.solana)==null?void 0:Hn.connectors},disableAllExternalWallets:((H=e==null?void 0:e.externalWallets)==null?void 0:H.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:D??(!P&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:P?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((G=e==null?void 0:e.embeddedWallets)==null?void 0:G.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:L??((re=(ne=e==null?void 0:e.embeddedWallets)==null?void 0:ne.ethereum)==null?void 0:re.createOnLogin)??$},solana:{createOnLogin:((de=(ae=e==null?void 0:e.embeddedWallets)==null?void 0:ae.solana)==null?void 0:de.createOnLogin)??q},disableAutomaticMigration:((Te=e==null?void 0:e.embeddedWallets)==null?void 0:Te.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((Ie=e==null?void 0:e.embeddedWallets)==null?void 0:Ie.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((gt=e==null?void 0:e.embeddedWallets)==null?void 0:gt.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((Be=(rn=e==null?void 0:e.embeddedWallets)==null?void 0:rn.transactionScanning)==null?void 0:Be.enabled)??!1,domain:((Dt=(ct=e==null?void 0:e.embeddedWallets)==null?void 0:ct.transactionScanning)==null?void 0:Dt.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((dt=e==null?void 0:e.mfa)==null?void 0:dt.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(je=e==null?void 0:e.passkeys)==null?void 0:je.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(Kt=e==null?void 0:e.passkeys)==null?void 0:Kt.shouldUnenrollMfaOnUnlink},customAuth:P?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:F,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((un=e==null?void 0:e._render)==null?void 0:un.standalone)??Pf._render.standalone},fundingConfig:Z,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Pf.fundingMethodConfig,moonpay:{...((In=e==null?void 0:e.fundingMethodConfig)==null?void 0:In.moonpay)??Pf.fundingMethodConfig.moonpay,useSandbox:((zn=e==null?void 0:e.fundingMethodConfig)==null?void 0:zn.moonpay.useSandbox)??((Vn=e==null?void 0:e.fiatOnRamp)==null?void 0:Vn.useSandbox)??Pf.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((Nr=(Wn=e==null?void 0:e.solana)==null?void 0:Wn.rpcs)==null?void 0:Nr["solana:mainnet"])??null,"solana:devnet":((qi=(Ot=e==null?void 0:e.solana)==null?void 0:Ot.rpcs)==null?void 0:qi["solana:devnet"])??null,"solana:testnet":((Or=(dn=e==null?void 0:e.solana)==null?void 0:dn.rpcs)==null?void 0:Or["solana:testnet"])??null}}}const Ebe={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},Cbe=xbe(Ebe,void 0,!1);let rH=k.createContext({appConfig:Cbe,isServerConfigLoaded:!1});const K4t=({children:t,client:e,legacyClient:n,clientConfig:r})=>{let[i,s]=k.useState(null),o=k.useMemo(()=>xbe(i??Ebe,r,!!i,typeof window<"u"?window.location.origin:void 0),[i,r]);return k.useEffect(()=>{if(!i)return;let a=function(u){var w,y;if(!u)return{};let{appearance:d,supportedChains:h,defaultChain:f,externalWallets:p,...m}=u;return{...m,...h?{supportedChains:h.map(b=>b.id)}:void 0,...f?{defaultChain:f.id}:void 0,...p?{walletConnect:p.walletConnect?{enabled:p.walletConnect.enabled}:void 0,coinbaseWallet:p.coinbaseWallet,solana:{connectors:(y=(w=p.solana)==null?void 0:w.connectors)==null?void 0:y.get().map(b=>b.walletClientType)}}:void 0}}(r),c=function(u,d=0){let h=3735928559^d,f=1103547991^d;for(let p,m=0;m<u.length;m++)h=Math.imul(h^(p=u.charCodeAt(m)),2654435761),f=Math.imul(f^p,1597334677);return h=Math.imul(h^h>>>16,2246822507)^Math.imul(f^f>>>13,3266489909),4294967296*(2097151&(f=Math.imul(f^f>>>16,2246822507)^Math.imul(h^h>>>13,3266489909)))+(h>>>0)}(JSON.stringify(a)).toString(),l=`privy:sent:${i.id}:${c}`;localStorage.getItem(l)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(l,"t"))},[r,i]),k.useEffect(()=>{i||(async()=>{try{await e.initialize();let a=e.app.getConfig();a.custom_api_url&&n.updateApiUrl(a.custom_api_url),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()},[]),g.jsx(rH.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},qn=()=>{let{appConfig:t}=k.useContext(rH);return t},_be=()=>{let{isServerConfigLoaded:t}=k.useContext(rH);return t},Abe=k.createContext({app:Cbe,currentScreen:null,lastScreen:null,navigate:_e,navigateBack:_e,resetNavigation:_e,setModalData:_e,onUserCloseViaDialogOrKeybindRef:void 0}),G4t=t=>{var a;let e=qn(),n=t.authenticated,[r,i]=k.useState(t.initialScreen);k.useEffect(()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[n]);let s=k.useRef(null);k.useEffect(()=>{t.open||(s.current=null)},[t.open]),k.useEffect(()=>{s.current=null},[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(c,l=!0)=>{t.setInitialScreen(c),l&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return g.jsxs(Abe.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||((a=e.appearance.logo)==null?void 0:a.type)==="img")&&g.jsx(W4t,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},it=()=>k.useContext(Abe),Z4t=({style:t,...e})=>{let{app:n}=it();return g.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[g.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),g.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:g.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_1765_9946",children:g.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Sbe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";let E3=class extends Jy{async initialize(){var n,r,i,s,o,a;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=Xq((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),(a=this.modal)==null||a.subscribeState(c=>{var l;c.open||(l=this.walletProvider)!=null&&l.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,o,a,c;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:S4t(((o=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:o.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:Sbe,id:((c=(a=this.walletProvider)==null?void 0:a.session)==null?void 0:c.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(Aq)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,n)=>{this.onQrModalClosed=()=>{n(new ube)},(async()=>{var s,o,a,c,l,u;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new Lr("Unable to retrieve address");(a=(o=this.walletProvider)==null?void 0:o.session)!=null&&a.peer.metadata.url&&(this.walletEntry=Xq((l=(c=this.walletProvider)==null?void 0:c.session)==null?void 0:l.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=Hq(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(r=>{n(r?Am(r):new Lr("Unknown error during connection"))}).finally(()=>{var r;return(r=this.modal)==null?void 0:r.close()})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=k4t(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(s=>s.id),i=await e5t.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:Kwe,optionalMethods:Vwe,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var o,a;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(Aq)}catch{}}(),!this.showPrivyQrModal){if(!this.modal)throw new Lr("Unable to open connect modal");return(o=this.modal)==null?void 0:o.open({uri:s})}if(Zr&&this.walletEntry){let{redirect:c,href:l}=function(d,h){let f=_ve(h);if(f.deepLink)return Ive(f.deepLink,d);if(f.universalLink)return Sq(f.universalLink,d);throw new oe(`Unsupported wallet ${h.id}`)}(s,this.walletEntry);kve(c,"_self"),function({href:d,name:h}){try{localStorage.setItem(Aq,JSON.stringify({href:d,name:h}))}catch{}}({href:l,name:((a=this.walletEntry.metadata)==null?void 0:a.shortName)||this.walletEntry.name});let u=Ave(s,this.walletEntry);return this.redirectUri=c,this.fallbackUniversalRedirectUri=u==null?void 0:u.redirect,this.showPrivyQrModal({native:c,universal:c})}if(this.redirectUri=void 0,this.walletEntry){let c=Ave(s,this.walletEntry);this.fallbackUniversalRedirectUri=c==null?void 0:c.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,o,a,c;(s=this.modal)==null||s.close(),(o=i.session)!=null&&o.peer.metadata.url&&(this.walletEntry=Xq((a=i.session)==null?void 0:a.peer.metadata.url),this.walletClientType=((c=this.walletEntry)==null?void 0:c.slug)||"unknown")}),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:c,appKit:l}){super(c||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Im(void 0,this.rpcTimeoutDuration),this.modal=l,c&&(this.walletEntry=(u=>YE.getState().listings.find(({slug:d})=>Z$(d)===Z$(u)))(c),this.walletClientType=c)}},Y4t=class extends rf{get wallets(){let e=new Set,n=this.walletConnectors.flatMap(i=>i.wallets).sort((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0).filter(i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(s)&&(e.add(s),!0)}),r=n.findIndex(i=>i.address===(this.activeWallet?this.activeWallet:"unknown"));return r>=0&&n.unshift(n.splice(r,1)[0]),n}async initialize(e){var r,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),Rt.get(Rve)&&(Rt.getKeys().forEach(o=>{o.startsWith("walletconnect")&&Rt.del(o)}),Rt.del(Rve)),this.externalWalletConfig.disableAllExternalWallets))return;let n=I4t({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(o=>{o.forEach(({type:a,eip6963InjectedProvider:c,legacyInjectedProvider:l})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:a,providers:{eip6963InjectedProvider:c,legacyInjectedProvider:l}})})});for(let o of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Jq)))!o.isInstalled&&this.walletList.includes(o.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&o.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:o.client,walletConfig:o}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&o.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new Qq({id:o.client,name:o.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,o=>{o==null||o.forEach(this.addSolanaWalletConnector)}),await n,this.initialized=!0}findWalletConnector(e,n){return e==="wallet_connect_v2"?this.walletConnectors.filter(ZE).find(r=>r.connectorType===e)??null:this.walletConnectors.filter(ZE).find(r=>r.connectorType===e&&r.walletClientType===n)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(F4t).find(n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(n=>{let r=this.storedConnections.find(i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType));r&&(n.connectedAt=r.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:c}=Oo(n);for(let l of r){let u=this.findEmbeddedWalletConnectors().find(d=>d.walletIndex===l.walletIndex);if(u&&ZE(u))u.proxyProvider.walletProxy=e;else{let d=new fbe({provider:new pbe({walletProxy:e,address:l.address,entropyId:a,entropyIdVerifier:c,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:l.walletIndex,privyClient:o,walletAccount:l}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:l.walletIndex});this.addWalletConnector(d)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&ZE(s))s.proxyProvider.walletProxy=e;else{let o=new fbe({provider:new pbe({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=K$(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let n=this.walletConnectors.indexOf(e);this.walletConnectors.splice(n,1),this.storedConnections=K$(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&ZE(s))return s instanceof E3&&s.resetConnection(n),s;let o=e!=="injected"?e==="coinbase_wallet"?new R4t(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new N4t(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new E3({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n,appKit:this.appKit}):i?new Vq({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new B4t(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new Yq(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new Yq(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new Yq(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new mbe(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(n=>{console.debug("Failed to initialize connector",n)})}async activeWalletSign(e){let n=this.wallets,r=n.length>0?n[0]:null;return r&&l0(r)?r.sign(e):null}setActiveWallet(e){this.activeWallet=Gi(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,o,a,c,l,u,d,h,f){super(),this.addSolanaWalletConnector=async p=>{let m=this.findSolanaWalletConnector(p.walletClientType);if(!m||m.connectorType==="null"){if((m==null?void 0:m.connectorType)==="null"){let w=this.walletConnectors.indexOf(m);this.walletConnectors.splice(w,1)}this.addWalletConnector(p)}},this.getEthereumProvider=()=>{let p=this.wallets[0],m=this.walletConnectors.find(w=>w.wallets.find(y=>y.address===(p==null?void 0:p.address)));return p&&m?m.proxyProvider:new Im},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=c,this.externalWalletConfig=l,this.privyAppName=u,this.walletChainType=h||"ethereum-only",this.appKit=f,this.setBaseAccountSdk=d,this.storedConnections=K$()}},J4t=[ile,sle,lle],Q4t=class{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw On(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw On(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw On(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=y4t,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=rle.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let c=J4t.includes(s.toString());if(!a.has("authorization")){let l=await this.client.getAccessToken({disableAutoRefresh:c});l!==null&&a.set("authorization",`Bearer ${l}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new QGe}})}},X4t=/paymaster\.biconomy\.io\/api/i,e8t={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const t8t=(t,e)=>t&&X4t.test(t)?e8t:e&&e.policy_id?{policyId:e.policy_id}:void 0,n8t=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};let Ibe=class{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(KZe,{token:this.meta.token})}catch(e){throw On(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(GZe,{token:this.meta.token})}catch(e){throw On(e)}}constructor(e){this.meta={token:e}}},r8t=class{getOrCreateGuestCredential(e){let n=Ove(e);if(_q()){if(Rt.get(n))return Rt.get(n);{let r=ty(Mq(32));return Rt.put(n,r),r}}return ty(Mq(32))}async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(ZZe,{guest_credential:this.meta.guestCredential})}catch(e){throw On(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}};function iH(){return!(L$e&&window.location.origin.startsWith("http://localhost"))}const kbe=n2(()=>({identityToken:null}));var sH,$be=((sH={}).PRIVY="privy_access_token",sH.CUSTOMER="customer_access_token",sH);let i8t=class{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(WE)}get privyAccessToken(){return this._getToken(j$)}_getToken(e){try{let n=Rt.get(e);return typeof n=="string"?w3.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=Rt.get($q);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=Rt.get(B$(e));if(typeof n!="string")return null;{let r=new w3(n);return r.isExpired()?(Rt.del(B$(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=Zi.get(Tq);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=w3.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?Rt.put(B$(e),n):Rt.del(B$(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:xo(r),isNewUser:i,oAuthTokens:o}}catch(n){throw console.warn("Error authenticating session"),oi(n)}}_trackAuthenticateEvents(e,n){let r=function(i){return i instanceof h3?"email":i instanceof m3?"sms":i instanceof g3?"siwe":i instanceof r8t?"guest":i instanceof Ibe?"custom_auth":i instanceof f3?i.meta.provider:null}(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:xo(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),oi(n)}}async _refresh(){if(!this.api)throw new oe("Session has no API instance");if(!this.client)throw new oe("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(ile,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),xo(r.user)}catch(r){if(r instanceof Pl&&r.privyErrorCode===le.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw oi(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(sle,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,o,a;if(typeof e=="string"){let c=Rt.get(WE);if(Rt.put(WE,e),!((n=this.client)!=null&&n.useServerCookies)){let l=(r=w3.parse(e))==null?void 0:r.expiration;Zi.set(Tve,e,{sameSite:"Strict",secure:iH(),expires:l?new Date(1e3*l):void 0})}c!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else Rt.del(WE),Zi.remove(Tve),(a=(o=this.client)==null?void 0:o.onDeleteCustomerAccessToken)==null||a.call(o)}storeRefreshToken(e){var n;typeof e=="string"?(Rt.put($q,e),(n=this.client)!=null&&n.useServerCookies||Zi.set(Tq,"t",{sameSite:"Strict",secure:iH(),expires:30})):(Rt.del($q),Zi.remove("privy-refresh-token"),Zi.remove(Tq))}storePrivyAccessToken(e){typeof e=="string"?Rt.put(j$,e):Rt.del(j$)}storeIdentityToken(e){var r,i;if(kbe.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;Rt.put(Pve,e);let n=(i=w3.parse(e))==null?void 0:i.expiration;Zi.set(Nve,e,{sameSite:"Strict",secure:iH(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){Rt.del(Pve),kbe.setState({identityToken:null}),Zi.remove(Nve)}constructor(){this.authenticateOnce=new ec(async e=>this._authenticate(e)),this.linkOnce=new ec(async e=>this._link(e)),this.refreshOnce=new ec(this._refresh.bind(this)),this.destroyOnce=new ec(this._destroy.bind(this))}},oH;var s8t=0,aH="__private_"+s8t+++"__getOrGenerateClientAnalyticsId";let o8t=class{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:c,appName:l,walletChainType:u,setBaseAccountSdk:d,appKit:h}){this.connectors||(this.connectors=new Y4t(this.appId,e,n,r,i,s,o,a,c,l,d,u,h))}generateApi(){let e=new Q4t({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new oe("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new oe("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(n=>n.type==="cross_app").forEach(n=>{this.storeProviderAccessToken(n.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(qZe,{action:"verify"})}catch(e){throw On(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(HZe,{});return n8t(e.options)}catch(e){throw On(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(VZe,{});return xo(e)}catch(e){throw oi(e)}}async unlinkEmail(e){try{let n=await this.api.post(bZe,{address:e});return await this.getAuthenticatedUser()??xo(n)}catch(n){throw oi(n)}}async unlinkPhone(e){try{let n=await this.api.post(AZe,{phoneNumber:e});return await this.getAuthenticatedUser()??xo(n)}catch(n){throw oi(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(iZe,{address:e});return await this.getAuthenticatedUser()??xo(n)}catch(n){throw oi(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(lZe,{address:e});return await this.getAuthenticatedUser()??xo(n)}catch(n){throw oi(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post($Ze,{provider:e,subject:n});return await this.getAuthenticatedUser()??xo(r)}catch(r){throw oi(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(gZe,{fid:e});return await this.getAuthenticatedUser()??xo(n)}catch(n){throw oi(n)}}async unlinkTelegram(e){try{let n=await this.api.post(zZe,{telegram_user_id:e});return await this.getAuthenticatedUser()??xo(n)}catch(n){throw oi(n)}}async revokeDelegatedWallet(){try{await this.api.post(XZe,{})}catch(e){throw oi(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(lle,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(YZe,e)}catch(n){throw oi(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(JZe,e)}catch(n){throw oi(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${QZe}?partnerUserId=${e}`)}catch(n){throw oi(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken($be.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken($be.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=T4t.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:t8t(i.paymaster_url,i.paymaster_context)}))}:{enabled:r.enabled}}catch(e){throw oi(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(eZe,{address:e,token:n})).nonce}catch(r){throw oi(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(tZe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(nZe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(rZe,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return xo(s)}catch(s){throw oi(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return xo(o)}catch(o){throw oi(o)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(oZe,{address:e,token:n})).nonce}catch(r){throw oi(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(aZe,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let c=xo(a.user);if(!c)throw Error("Authentication failed - no user returned");return{user:c,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:c}){try{let l,u;switch(r){case"email":l=EZe,u={nonce:e,email:n};break;case"sms":l=kZe,u={nonce:e,phoneNumber:n};break;case"siwe":if(l=sZe,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":l=mZe,u={nonce:e,farcaster_id:n,farcaster_embedded_address:a};break;case"telegram":l=WZe,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":l=uZe,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:l=TZe,u={nonce:e,userInfo:c}}let d=await this.api.post(l,u);return await this.getAuthenticatedUser()??xo(d)}catch(l){throw oi(l)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(cZe,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return xo(o)}catch(o){throw oi(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(eYe);return this.session.updateIdentityToken(e.identity_token),xo(e.user)}catch(e){throw oi(e)}}async scanTransaction(e){try{return await this.api.post(tYe,e)}catch(n){throw oi(n)}}constructor({apiUrl:e=Iq,appId:n,appClientId:r,timeout:i=2e4}){Object.defineProperty(this,aH,{value:a8t}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==Iq&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s}(this,aH)[aH](),oH||(oH=new i8t),this.session=oH,this.api=this.generateApi(),this.session.client=this}};function a8t(){if(typeof window>"u")return null;try{let e=Rt.get(Pq);if(typeof e=="string"&&e.length>0)return e}catch{}let t=K8();try{return Rt.put(Pq,t),t}catch{return t}}const c8t=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:o,setExecuting:a,ref:c}=Hc(),[,l]=k.useMemo(()=>(r==null?void 0:r.split("t:"))||[],[r]);if(k.useEffect(()=>{var u;return(u=c.current)==null?void 0:u.remove},[]),!n)return null;if(!l)throw Error("Unsupported captcha site key");return g.jsx("div",{className:"hidden h-0 w-0",children:g.jsx(Bue,{...e,ref:c,siteKey:l,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),a(!1)},onSuccess:u=>{var d;(d=e.onSuccess)==null||d.call(e,u),o(u),a(!1)},onExpire:()=>{var u,d;(u=e.onExpire)==null||u.call(e);try{(d=c.current)==null||d.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})},l8t=t=>{let[e,n]=k.useState("auto");return k.useEffect(()=>{let r=new ResizeObserver(i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}},[t.current]),e},u8t={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Tbe=k.createContext(void 0);let Pbe=()=>k.useContext(Tbe);function C3(t,e){if(!e)return;let n=Pbe().current[t];return k.useEffect(()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,o]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter(a=>a!==o)}},[e])}function Le(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function d0(){let t=Pbe();return(e,n,...r)=>Le(t,e,n,...r)}function d8t(t){C3("configureMfa",t)}const km=Q.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),h8t=Q.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),cH=Q.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Nbe=Q(cH).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let f8t=Ps(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const p8t=Q.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),xi=Q.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],f8t),Nf=Q.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),_3=Q.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),g8t=Q.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),m8t=Q.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function y8t(t){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:g.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:g.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let Obe=Q.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function lH({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?g.jsx(Obe,{}):g.jsxs(Obe,{children:["By logging in I agree to the"," ",e&&g.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&g.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const Ln=({className:t})=>{let{appearance:e}=qn();return g.jsx(es,{className:t,children:e.footerLogo??g.jsx(w8t,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:g.jsx(y8t,{color:"currentColor",height:13,width:150})})})};let w8t=Q.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const es=Q.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),Rbe=({success:t,fail:e})=>g.jsxs(v8t,{children:[g.jsx(Mbe,{children:g.jsx(uH,{className:t?"success":e?"fail":""})}),g.jsx(Mbe,{children:g.jsx(Qu,{className:t?"success":e?"fail":""})})]});let Mbe=Q.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),v8t=Q.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const Qu=Q.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),uH=Q(Qu).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),$m=t=>g.jsx(b8t,{color:t.color||"var(--privy-color-foreground-3)"});let b8t=Q(Qu).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Xy=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return g.jsx(oh,{size:e,...i,children:n});case"error":return g.jsx(oh,{$warn:!0,size:e,...i,children:n});case"muted":return g.jsx(C8t,{size:e,...i,children:n});default:return g.jsx(wr,{size:e,success:r,...i,children:n})}},Q$=Q.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),wr=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...c})=>{let l=o==="a",u=!(!e&&!n);return g.jsx(E8t,{as:o,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$success:r,$size:i,onClick:d=>{l&&u?d.preventDefault():a==null||a(d)},...c,children:e?g.jsxs(g.Fragment,{children:[g.jsx($m,{}),s?g.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},X$=({children:t,loading:e,disabled:n,...r})=>g.jsx(x8t,{disabled:n,...r,children:e?g.jsx($m,{color:"var(--privy-color-foreground-accent)"}):t});let x8t=Q(Q$).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),E8t=Q(Q$).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&Ps(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const oh=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let c=s==="a",l=!(!e&&!n);return g.jsx(_8t,{as:s,disabled:c?void 0:l,"aria-disabled":c?l:void 0,$size:r,onClick:u=>{c&&l?u.preventDefault():o==null||o(u)},...a,children:e?g.jsxs(g.Fragment,{children:[g.jsx($m,{}),i?g.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},C8t=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let c=s==="a",l=!(!e&&!n);return g.jsx(A8t,{as:s,disabled:c?void 0:l,"aria-disabled":c?l:void 0,$size:r,onClick:u=>{c&&l?u.preventDefault():o==null||o(u)},...a,children:e?g.jsxs(g.Fragment,{children:[g.jsx($m,{}),i?g.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let _8t=Q(Q$).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&Ps(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),A8t=Q(Q$).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&Ps(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const eT=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>g.jsxs(S8t,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[g.jsx("span",{children:t}),g.jsx("span",{children:g.jsx($m,{})})]});let S8t=Q.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const I8t=({backFn:t})=>g.jsx("div",{children:g.jsx(dH,{onClick:t,children:g.jsx(_Xe,{height:"16px",width:"16px",strokeWidth:2})})}),k8t=({infoFn:t})=>g.jsx("div",{children:g.jsx(T8t,{"aria-label":"info",onClick:t,children:g.jsx(t2,{height:"22px",width:"22px",strokeWidth:2})})}),$8t=t=>g.jsx("div",{children:g.jsx(dH,{"aria-label":"close modal",onClick:t.onClose,children:g.jsx($Xe,{height:"16px",width:"16px",strokeWidth:2})})}),vn=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=Je(),a=qn();return g.jsxs(P8t,{className:s,children:[g.jsxs(N8t,{children:[t&&g.jsx(I8t,{backFn:t}),e&&g.jsx(k8t,{infoFn:e})]}),r&&g.jsx(R8t,{id:"privy-dialog-title",children:r}),g.jsx(O8t,{children:!a.render.standalone&&i&&g.jsx($8t,{onClose:n||(()=>o())})})]})};let dH=Q.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),T8t=Q(dH).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),P8t=Q.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),N8t=Q.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),O8t=Q.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),R8t=Q.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const ew=({size:t})=>g.jsx(M8t,{$size:t,children:g.jsxs(j8t,{children:[g.jsx(B8t,{}),g.jsx(D8t,{})]})});let M8t=Q.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),j8t=Q.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),B8t=Q.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),D8t=Q.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const L8t=Q.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),U8t=Q.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),F8t=Q.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),z8t=Q(vn).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),W8t=Q.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),q8t=Q.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let H8t=Q.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),V8t=Q.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),K8t=Q.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),G8t=Q.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),jbe=Q.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),Z8t=Q.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),Y8t=Q.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const Sr=({children:t,...e})=>g.jsx(L8t,{children:g.jsx(U8t,{...e,children:t})});let J8t=Q.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),Q8t=Q(Ln).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),X8t=Q.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),ext=({step:t})=>t?g.jsx(J8t,{children:g.jsx(X8t,{pct:Math.min(100,t.current/t.total*100)})}):null;Sr.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:c,showClose:l,onClose:u,step:d,...h})=>g.jsxs(F8t,{...h,children:[g.jsx(z8t,{backFn:s?o:void 0,infoFn:a?c:void 0,onClose:l?u:void 0,closeable:l}),(n||r||t||e)&&g.jsxs(H8t,{children:[n||r?g.jsx(Sr.Icon,{icon:n,variant:r,loadingStatus:i}):null,g.jsxs(V8t,{children:[t&&g.jsx(K8t,{children:t}),e&&g.jsx(G8t,{children:e})]})]}),d&&g.jsx(ext,{step:d})]}),Sr.Body=Ve.forwardRef(({children:t,...e},n)=>g.jsx(W8t,{ref:n,...e,children:t})),Sr.Body.displayName="Screen.Body",Sr.Footer=({children:t,...e})=>g.jsx(q8t,{...e,children:t}),Sr.Actions=({children:t,...e})=>g.jsx(txt,{...e,children:t}),Sr.HelpText=({children:t,...e})=>g.jsx(nxt,{...e,children:t}),Sr.Watermark=()=>g.jsx(Q8t,{}),Sr.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?g.jsx(Z8t,typeof t=="string"?{children:g.jsx("img",{src:t,alt:""})}:Ve.isValidElement(t)?{children:t}:{children:Ve.createElement(t)}):e==="loading"?t?g.jsx(Y8t,{children:g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[g.jsx(Rbe,{success:n==null?void 0:n.success,fail:n==null?void 0:n.fail}),typeof t=="string"?g.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ve.isValidElement(t)?Ve.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ve.createElement(t,{style:{width:"38px",height:"38px"}})]})}):g.jsx(jbe,{$variant:e,children:g.jsx(ew,{size:"64px"})}):g.jsx(jbe,{$variant:e,children:t&&(typeof t=="string"?g.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ve.isValidElement(t)?t:Ve.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let txt=Q.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),nxt=Q.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Rn=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...s})=>{let o=t||e?g.jsxs(g.Fragment,{children:[t&&(()=>{let{label:a,...c}=t,l=c.variant||"primary";return g.jsx(Xy,{...c,variant:l,style:{width:"100%",...c.style},children:a})})(),e&&(()=>{let{label:a,...c}=e,l=c.variant||"secondary";return g.jsx(Xy,{...c,variant:l,style:{width:"100%",...c.style},children:a})})()]}):null;return g.jsxs(Sr,{id:s.id,className:s.className,children:[g.jsx(Sr.Header,{...s}),i?g.jsx(Sr.Body,{children:i}):null,n||o||r?g.jsxs(Sr.Footer,{children:[n?g.jsx(Sr.HelpText,{children:n}):null,o?g.jsx(Sr.Actions,{children:o}):null,r?g.jsx(Sr.Watermark,{}):null]}):null]})},hH=Q.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Vc=Q.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Xu=Q.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),tw=Q.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),tT=Q.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),nw=Q.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),rw=Q.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),A3=Q.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),Bbe=Q.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),fH=Q.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),pH=Q.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),gH=Q.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),Dbe=Q.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),mH=Q.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),Lbe=Q.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),yH=Q.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),ed=Q.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),Ube=Q.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),Fbe=({handleClose:t,user:e,onSelect:n})=>g.jsxs(Rn,{title:"Verify your identity",subtitle:"Choose a verification method",icon:my,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[g.jsxs(Bbe,{children:[e.mfaMethods.includes("totp")&&g.jsxs(xi,{onClick:()=>n("totp"),children:[g.jsx(Nf,{children:g.jsx(wI,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&g.jsxs(xi,{onClick:()=>n("sms"),children:[g.jsx(Nf,{children:g.jsx(Yg,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&g.jsxs(xi,{onClick:()=>n("passkey"),children:[g.jsx(Nf,{children:g.jsx(TU,{})}),"Passkey"]},"passkey")]}),g.jsx(es,{})]}),wH=({label:t,children:e,valueStyles:n})=>g.jsxs(rxt,{children:[g.jsx("div",{children:t}),g.jsx(ixt,{style:{...n},children:e})]});let rxt=Q.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),ixt=Q.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),sxt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),zbe=t=>sxt.format(t);const Wbe=(t,e)=>{let n=zbe(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},iw=(t,e)=>{let n=zbe(e*parseFloat(L1(t)));return n==="$0.00"?"<$0.01":n},ah=(t,e,n=6,r=!1)=>`${qbe(t,n,r)} ${e}`,qbe=(t,e=6,n=!1)=>{let r=parseFloat(L1(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},vH=t=>t.reduce((e,n)=>e+n,0n),oxt=(t,e)=>{let{chains:n}=Je(),r=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{var l;let a=Number(s),c=o.find(u=>u.id===a);if(!c)throw new Lr(`Unsupported chainId ${s}`,4901);return(l=c.blockExplorers)==null?void 0:l.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},axt=1e9;function QE(t,e){let n=parseFloat(t.toString())/axt,r=cxt.format(e*n);return r==="$0.00"?"<$0.01":r}let cxt=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});const lxt=(t,e=0)=>{let n=t[e],r=t[e+7];if(!n||!r)throw Error(`Buffer offset out of range: first: ${n}, last: ${r}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(r<<24))<<32n)+BigInt(n+256*t[++e]+65536*t[++e]+16777216*t[++e])};function uxt(t,e=0){let n=0n;for(let r=0;r<8;r++)n|=BigInt(t[e+r])<<BigInt(8*r);return n}async function S3(t,e){try{return await t}catch{return e}}const XE="11111111111111111111111111111111",dxt=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],hxt=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];function Tm(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function Hbe({amount:t,fee:e,tokenPrice:n,isUsdc:r}){let i=BigInt(Math.floor(parseFloat(t)*10**(r?6:9))),s=r?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:n?QE(i,n):void 0,totalPriceInUsd:n?QE(s,n):void 0,totalPriceInNativeCurrency:Tm(s),feePriceInNativeCurrency:Tm(e),feePriceInUsd:n?QE(e,n):void 0}}let fxt={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function ch(t,e,n){let r=fxt[t];if(!r[n]){let i=await e.getSplTokenMetadata({mintAddress:n,cluster:t});i&&(r[n]={address:n,symbol:i.symbol,decimals:i.decimals})}return r[n]}function Pm(t){return"version"in t}function nT(t,e){let n=(Pm(t)?t.message:t.compileMessage()).staticAccountKeys.find(r=>r.toBase58()===e);if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}function Vbe(t,e,n){var r;return{signature:t,parsedTransaction:n??null,signedTransaction:e,fees:BigInt(((r=n==null?void 0:n.meta)==null?void 0:r.fee)||0)}}async function Kbe(t,e){var r;let{value:n}=await e.simulateTransaction(t);if(n.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return n.err==null&&((r=n.logs)==null?void 0:r.every(i=>!/insufficient funds/gi.test(i)))}async function pxt({tx:t,connection:e,client:n,checkFunds:r}){var d,h,f,p;let i=Pm(t)?t.message:t.compileMessage(),s=((d=i.staticAccountKeys[0])==null?void 0:d.toBase58())??"",o=await async function(m,w){return BigInt((Pm(m)?(await w.getFeeForMessage(m.message)).value:await m.getEstimatedFee(w))??0)}(t,e),a=!r||await S3(Kbe(t,e),!0),c={},l=[],u=await async function(m,w){return[...m.staticAccountKeys.map(y=>y),...(await Promise.all(m.addressTableLookups.map(async y=>w.getAddressLookupTable(y.accountKey).then(({value:b})=>b)))).map((y,b)=>{var v,E;return[...((v=m.addressTableLookups[b])==null?void 0:v.writableIndexes.map(_=>{let T=y==null?void 0:y.state.addresses[_];if(T)return{key:T,isWritable:!0,altIdx:b}}))??[],...((E=m.addressTableLookups[b])==null?void 0:E.readonlyIndexes.map(_=>{let T=y==null?void 0:y.state.addresses[_];if(T)return{key:T,isWritable:!1,altIdx:b}}))??[]]}).flat().filter(y=>!!y).sort((y,b)=>y.isWritable!==b.isWritable?y.isWritable?-1:1:y.altIdx-b.altIdx).map(({key:y})=>y)]}(i,e);for(let m of i.compiledInstructions){let w=((h=i.staticAccountKeys[m.programIdIndex])==null?void 0:h.toBase58())||"";if(w!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&w!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(w!==XE){if(w==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let y=await S3(function(b,v,E){let[_,T,I,R]=b.accountKeyIndexes.map(S=>v[S]);return{type:"ata-creation",program:E,payer:_==null?void 0:_.toBase58(),ata:T==null?void 0:T.toBase58(),owner:I==null?void 0:I.toBase58(),mint:R==null?void 0:R.toBase58()}}(m,u,w));if(!y){l.push({type:"unknown",program:w,discriminator:m.data[0]});continue}if(l.push(y),y.ata&&y.owner&&y.mint){c[y.ata]={owner:y.owner,mint:y.mint};continue}}if(dxt.includes(w)){let y=await S3(yxt(m,u,e,n,w));if(!y){l.push({type:"unknown",program:w,discriminator:m.data[0]});continue}l.push(y)}else if(hxt.includes(w)){let y=await S3(wxt(m,u,e,n,w));if(!y){l.push({type:"unknown",program:w,discriminator:m.data[0]});continue}l.push(y)}else l.push({type:"unknown",program:w,discriminator:m.data[0]})}else{let y=await S3(mxt(m,u));if(!y){l.push({type:"unknown",program:w,discriminator:m.data[0]});continue}l.push(y)}else{let y=await S3(gxt(m,u,e,n,c,w));if(!y){l.push({type:"unknown",program:w,discriminator:m.data[0]});continue}l.push(y),y.type==="spl-transfer"&&(y.fromAta&&y.fromAccount&&y.token.address&&(c[f=y.fromAta]??(c[f]={owner:y.fromAccount,mint:y.token.address})),y.toAta&&y.toAccount&&y.token.address&&(c[p=y.toAta]??(c[p]={owner:y.toAccount,mint:y.token.address})))}}return{spender:s,fee:o,instructions:l,hasFunds:!!a}}function tc(t,e=0){try{return uxt(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let n=Ca(t);try{return lxt(n)}catch{}try{return n.subarray(e).readBigInt64LE()}catch{}try{return n.readBigInt64LE(e)}catch{}return 0n}async function gxt(t,e,n,r,i,s){var c,l,u,d,h,f,p,m,w,y,b;let o=t.data[0],a=t.accountKeyIndexes.map(v=>e[v]);if(o===1){let[v,E,_]=a;return{type:"spl-init-account",program:s,account:v==null?void 0:v.toBase58(),mint:E==null?void 0:E.toBase58(),owner:_==null?void 0:_.toBase58()}}if(o===3){let v,E,[_,T,I]=a,R="",S=T?i[T.toBase58()]:void 0;if(S)v=S.owner,R=S.mint;else if(T){let M=await n.getParsedAccountInfo(T,"confirmed"),C=(c=M.value)==null?void 0:c.data;v=(u=(l=C==null?void 0:C.parsed)==null?void 0:l.info)==null?void 0:u.owner,R=((h=(d=C==null?void 0:C.parsed)==null?void 0:d.info)==null?void 0:h.mint)??"",E=(m=(p=(f=C==null?void 0:C.parsed)==null?void 0:f.info)==null?void 0:p.tokenAmount)==null?void 0:m.decimals}if(!R&&_){let M=await n.getParsedAccountInfo(_,"confirmed"),C=(w=M.value)==null?void 0:w.data;R=((b=(y=C==null?void 0:C.parsed)==null?void 0:y.info)==null?void 0:b.mint)??""}let B=x3(n.rpcEndpoint),j=await ch(B,r,R),U=(j==null?void 0:j.symbol)??"";return E??(E=(j==null?void 0:j.decimals)??9),{type:"spl-transfer",program:s,fromAta:_==null?void 0:_.toBase58(),fromAccount:I==null?void 0:I.toBase58(),toAta:T==null?void 0:T.toBase58(),toAccount:v,value:tc(t.data,1),token:{symbol:U,decimals:E,address:R}}}if(o===9){let[v,E,_]=a;return{type:"spl-close-account",program:s,source:v==null?void 0:v.toBase58(),destination:E==null?void 0:E.toBase58(),owner:_==null?void 0:_.toBase58()}}if(o===17)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function mxt(t,e){let n=t.data[0],r=t.accountKeyIndexes.map(i=>e[i]);if(n===0){let[,i]=r;return{type:"create-account",program:XE,account:i==null?void 0:i.toBase58(),value:tc(t.data,4),withSeed:!1}}if(n===2){let[i,s]=r;return{type:"sol-transfer",program:XE,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),token:{symbol:"SOL",decimals:9},value:tc(t.data,4),withSeed:!1}}if(n===3){let[,i]=r,s=tc(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:XE,account:i==null?void 0:i.toBase58(),withSeed:!0,value:s}}if(n===11){let[i,s]=r;return{type:"sol-transfer",program:XE,fromAccount:i==null?void 0:i.toBase58(),toAccount:s==null?void 0:s.toBase58(),value:tc(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${n} not supported`)}async function yxt(t,e,n,r,i){let s=t.accountKeyIndexes.map(c=>{var l;return(l=e[c])==null?void 0:l.toBase58()}),o=t.data[0],a=x3(n.rpcEndpoint);if(o===143){let c=s[10],l=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:c,mintOut:l,tokenIn:c?await ch(a,r,c):void 0,tokenOut:l?await ch(a,r,l):void 0,amountIn:tc(t.data,8),minimumAmountOut:tc(t.data,16)}}if(o===55){let c=s[10],l=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:c,mintOut:l,tokenIn:c?await ch(a,r,c):void 0,tokenOut:l?await ch(a,r,l):void 0,maxAmountIn:tc(t.data,8),amountOut:tc(t.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function wxt(t,e,n,r,i){var c,l,u,d,h,f;let s=t.data[0],o=t.accountKeyIndexes.map(p=>e[p]),a=x3(n.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(s)){let p=(c=o[5])==null?void 0:c.toBase58(),m=(l=o[6])==null?void 0:l.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:p,mintOut:m,tokenIn:p?await ch(a,r,p):void 0,tokenOut:m?await ch(a,r,m):void 0,outAmount:tc(t.data,t.data.length-1-2-8-8),quotedInAmount:tc(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let p=(u=o[7])==null?void 0:u.toBase58(),m=(d=o[8])==null?void 0:d.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:p,mintOut:m,tokenIn:p?await ch(a,r,p):void 0,tokenOut:m?await ch(a,r,m):void 0,outAmount:tc(t.data,t.data.length-1-2-8-8),quotedInAmount:tc(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let p=(h=o[7])==null?void 0:h.toBase58(),m=(f=o[8])==null?void 0:f.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:p,mintOut:m,tokenIn:p?await ch(a,r,p):void 0,tokenOut:m?await ch(a,r,m):void 0,inAmount:tc(t.data,t.data.length-1-2-8-8),quotedOutAmount:tc(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}const vxt=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=vH(t),i=e?iw(r,e):void 0,s=ah(r,n);return g.jsx(bH,{children:i||s})},Gbe=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=vH(t),i=e?iw(r,e):void 0,s=ah(r,n);return g.jsx(bH,{children:i?g.jsxs(g.Fragment,{children:[g.jsx(bxt,{children:"USD"}),i==="<$0.01"?g.jsxs(Jbe,{children:[g.jsx(Ybe,{children:"<"}),"$0.01"]}):i]}):s})},Zbe=({quantities:t,tokenPrice:e,tokenSymbol:n="SOL",tokenDecimals:r=9})=>{let i=t.reduce((a,c)=>a+c,0n),s=e&&n==="SOL"&&r===9?QE(i,e):void 0,o=n==="SOL"&&r===9?Tm(i):`${ks(i,r)} ${n}`;return g.jsx(bH,{children:s?g.jsx(g.Fragment,{children:s==="<$0.01"?g.jsxs(Jbe,{children:[g.jsx(Ybe,{children:"<"}),"$0.01"]}):s}):o})};let bH=Q.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),bxt=Q.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),Ybe=Q.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),Jbe=Q.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const Qbe=Q.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),xH=Q.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),xxt=Q.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),Ext=Q(xH).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),e9=Q(xH).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),rT=Q.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),EH=Q.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),Cxt=Q.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),lh=Q.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),Kl=Q.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),_xt=Q.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),Axt=({gas:t,tokenPrice:e,tokenSymbol:n})=>g.jsxs(rT,{style:{paddingBottom:"12px"},children:[g.jsxs(Xbe,{children:[g.jsx(t2e,{children:"Est. Fees"}),g.jsx("div",{children:g.jsx(Gbe,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&g.jsx(e2e,{children:`${ah(BigInt(t),n)}`})]}),Sxt=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return g.jsxs(rT,{children:[g.jsxs(Xbe,{children:[g.jsx(t2e,{children:"Total (including fees)"}),g.jsx("div",{children:g.jsx(Gbe,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&g.jsx(e2e,{children:ah(i,r)})]})};let Xbe=Q.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),e2e=Q.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),t2e=Q.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const t9=k.createContext(void 0),iT=k.createContext(void 0),Ixt=({defaultValue:t,children:e})=>{let[n,r]=k.useState(t||null);return g.jsx(t9.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:g.jsx(Nxt,{children:e})})},kxt=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=k.useContext(t9),i=n===t;return g.jsx(iT.Provider,{value:{onToggle:()=>r(t),value:t},children:g.jsx(jxt,{isActive:i?"true":"false","data-open":String(i),children:e})})},$xt=({children:t})=>{let{activePanel:e}=k.useContext(t9),{onToggle:n,value:r}=k.useContext(iT),i=e===r;return g.jsxs(g.Fragment,{children:[g.jsxs(Oxt,{onClick:n,"data-open":String(i),children:[g.jsx(Mxt,{children:t}),g.jsx(Dxt,{isactive:i?"true":"false",children:g.jsx(vI,{height:"16px",width:"16px",strokeWidth:"2"})})]}),g.jsx(Rxt,{})]})},Txt=({children:t})=>{let{activePanel:e}=k.useContext(t9),{value:n}=k.useContext(iT);return g.jsx(Bxt,{"data-open":String(e===n),children:g.jsx(n2e,{children:t})})},Pxt=({children:t})=>{let{activePanel:e}=k.useContext(t9),{value:n}=k.useContext(iT);return g.jsx(n2e,{children:typeof t=="function"?t({isActive:e===n}):t})};let Nxt=Q.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),Oxt=Q.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),Rxt=Q.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),Mxt=Q.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),jxt=Q.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),Bxt=Q.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),n2e=Q.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),Dxt=Q.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");const CH=({walletAddress:t,chainId:e=1,network:n,rpcEndpoint:r})=>g.jsx(Lxt,{href:n==="ethereum"?oxt(e,t):H4t(t,x3(r||"")),target:"_blank",children:No(t)});let Lxt=Q.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const r2e=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt((n==null?void 0:n.value)||0);return g.jsx(Ixt,{...qn().render.standalone?{defaultValue:"details"}:{},children:g.jsxs(kxt,{value:"details",children:[g.jsx($xt,{children:g.jsxs(Uxt,{children:[g.jsx("div",{children:(r==null?void 0:r.title)||"Details"}),g.jsx(Fxt,{children:g.jsx(vxt,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),g.jsxs(Txt,{children:[g.jsx(wH,{label:"From",children:g.jsx(CH,{walletAddress:t,chainId:n.chainId||1,network:"ethereum"})}),g.jsx(wH,{label:"To",children:g.jsx(CH,{walletAddress:e,chainId:n.chainId||1,network:"ethereum"})}),r&&r.action&&g.jsx(wH,{label:"Action",children:r.action}),s&&g.jsx(Axt,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),g.jsx(Pxt,{children:({isActive:c})=>g.jsx(Sxt,{value:n.value,displayFee:c,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let Uxt=Q.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),Fxt=Q.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const i2e=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=Je(),[r,i]=k.useState(!0),[s,o]=k.useState(void 0),[a,c]=k.useState(void 0);return k.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let l=await n();l?c(l):o(Error("Unable to fetch SOL price"))}catch(l){o(l)}finally{i(!1)}else i(!1)})()},[]),{solPrice:a,isSolPriceLoading:r,solPriceError:s}};function I3(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(a=>{let{showFiatPrices:c,getUsdTokenPrice:l,chains:u}=Je(),[d,h]=k.useState(!0),[f,p]=k.useState(void 0),[m,w]=k.useState(void 0);return k.useEffect(()=>{a||(a=1);let y=CD(u).find(b=>b.id===Number(a));(async()=>{if(c){if(!y)return h(!1),void p(Error(`Unable to fetch token price on chain id ${a}`));try{h(!0);let b=await l(y);b?w(b):p(Error(`Unable to fetch token price on chain id ${y.id}`))}catch(b){p(b)}finally{h(!1)}}else h(!1)})()},[a]),{tokenPrice:m,isTokenPriceLoading:d,tokenPriceError:f}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=i2e({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const s2e=k.createContext(null);function h0(){let t=k.useContext(s2e);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function sT(t,e,n,r){let i=Mue(t),s=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:UJe[s.type]}}const _H=({pendingTransaction:t})=>{let{wallets:e}=h0(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:o}=Je(),[a,c]=k.useState(null),[l,u]=k.useState(t),{tokenPrice:d}=I3(l.chainId),h=o(t.chainId)||"ETH",f=k.useMemo(()=>e.find(p=>p.walletClientType==="privy"),[e]);return k.useEffect(()=>{(async function(){if(!n||!f)return l;let p=y3(l.chainId,i,r,{appId:s}),m=await sT(l,p,f.address);return c(Cr(BigInt(m.gas??0))),m})().then(u).catch(console.error)},[n]),f?g.jsx(zxt,{children:g.jsx(r2e,{from:f.address,to:l.to,txn:l,gas:a??void 0,tokenPrice:d,tokenSymbol:h})}):null};let zxt=Q.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),AH=Q.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const SH=({style:t,...e})=>g.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),o2e=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:o})=>{var c;let{pendingTransaction:a}=Je();return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:n},"header"),g.jsx(AH,{children:g.jsxs("div",{children:[g.jsx(Rbe,{success:o,fail:!!e}),g.jsx(e?yy:SH,{style:{width:"38px",height:"38px"}})]})}),g.jsx(Vc,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),g.jsxs(tT,{children:[g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(my,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(PXe,{})}),"You last added a passkey on"," ",(c=s==null?void 0:s.firstVerifiedAt)==null?void 0:c.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&g.jsx(tw,{children:g.jsx(_H,{pendingTransaction:a})}),e&&g.jsxs(g.Fragment,{children:[g.jsx(Ube,{style:{marginTop:"1.25rem"},children:e.message}),g.jsx(wr,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),r&&g.jsx(yH,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),g.jsx(es,{})]})};let Wxt=Array(6).fill("");var n9,qxt=((n9=qxt||{})[n9.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",n9[n9.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",n9);function IH(t){return/^[0-9]{1}$/.test(t)}function a2e(t){return t.length===6&&t.every(IH)}const oT=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,s]=k.useState(Wxt),[o,a]=k.useState(null),[c,l]=k.useState(null),u=async h=>{var I;h.preventDefault();let f=h.currentTarget.value.replace(/\s+/g,"");if(f==="")return;let p=i.reduce((R,S)=>R+Number(IH(S)),0),m=f.split(""),w=!m.every(IH),y=m.length+p>6;if(w)return a("Passcode can only be numbers"),void l(1);if(y)return a("Passcode must be exactly 6 numbers"),void l(1);a(null),l(null);let b=Number((I=h.currentTarget.name)==null?void 0:I.charAt(4)),v=[...f||[""]].slice(0,6-b),E=[...i.slice(0,b),...v,...i.slice(b+v.length)];s(E);let _=Math.min(Math.max(b+v.length,0),5),T=document.querySelector(`input[name=pin-${_}]`);if(T==null||T.focus(),a2e(E))try{await t(E.join(""));let R=document.querySelector(`input[name=pin-${_}]`);R==null||R.blur()}catch(R){l(1),a(R.message)}else try{await t(null)}catch(R){l(1),a(R.message)}},d=r?"success":!n&&!o?"":"fail";return g.jsx(g.Fragment,{children:g.jsxs(Hxt,{children:[g.jsx("div",{children:i.map((h,f)=>g.jsx("input",{name:`pin-${f}`,type:"text",value:i[f],onChange:u,onKeyUp:p=>{p.key==="Backspace"&&(m=>{c===1&&(a(null),l(null));let w=[...i.slice(0,m),"",...i.slice(m+1)];if(s(w),m>0){let y=document.querySelector(`input[name=pin-${m-1}]`);y==null||y.focus()}a2e(w)?t(w.join("")):t(null)})(f)},inputMode:"numeric",autoFocus:f===0,pattern:"[0-9]",className:d,autoComplete:Zr?"one-time-code":"off",disabled:e},f))}),g.jsx("div",{children:g.jsx(Vxt,{$fail:!!n||!!o,children:n||o})})]})})};let Hxt=Q.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Vxt=Q.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const c2e=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let{app:o}=it(),{pendingTransaction:a}=Je();switch(t){case"sms":return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:r},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(Yg,{})}),g.jsx(Vc,{children:"Enter verification code"}),g.jsxs(tw,{children:[g.jsx(oT,{success:e,disabled:n,onChange:s}),g.jsxs(Xu,{children:["To continue, please enter the 6-digit code sent to your ",g.jsx("strong",{children:"mobile device"})]}),a&&g.jsx(_H,{pendingTransaction:a})]}),i&&g.jsx(yH,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),g.jsx(oh,{onClick:r,children:"Cancel"}),g.jsx(es,{})]});case"totp":return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:r},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(wI,{})}),g.jsx(Vc,{children:"Enter verification code"}),g.jsxs(tw,{children:[g.jsx(oT,{success:e,disabled:n,onChange:s}),g.jsxs(Xu,{children:["To continue, please enter the 6-digit code generated from your"," ",g.jsx("strong",{children:"authenticator app"})]}),a&&g.jsx(_H,{pendingTransaction:a})]}),i&&g.jsx(yH,{theme:o==null?void 0:o.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),g.jsx(oh,{onClick:r,children:"Cancel"}),g.jsx(es,{})]});default:return null}},Kxt=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class ki extends Error{constructor(e,n){super(n),this.type=e}}function k3(t){let e=t.type;return typeof e=="string"&&Kxt.includes(e)}function r9(t){return k3(t)&&t.type==="wallet_not_on_device"}function kH(t){return!!k3(t)&&t.type==="mfa_timeout"}function $H(t){return!!k3(t)&&t.type==="missing_or_invalid_mfa"}function Gxt(t){return!!k3(t)&&t.type==="mfa_verification_max_attempts_reached"}function l2e(t){return!(!k3(t)||!t.message.includes("code 429"))}function u2e(t){return!!function(e){let n=e.type;return typeof n=="string"&&n==="client_error"}(t)&&t.message==="MFA canceled"}const aT=t=>Gxt(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:$H(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:kH(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),Zxt={component:()=>{let{user:t}=Sn(),{data:e}=it(),[n,r]=k.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=k.useState(!1),[o,a]=k.useState(),[c,l]=k.useState();if(k.useEffect(()=>{r(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:d,generateOptions:h,verifyTotpCode:f,verifyPasskey:p,verifySmsCode:m,sendSmsCode:w}=e.mfaVerify,y=async _=>{if(_!=="passkey")try{r(_),_==="sms"&&(r(_),await w()),_==="totp"&&r(_)}catch(T){console.error(T)}else try{r(_);let T=await h();if(!T)throw Error("something went wrong");a(T),await p(T),s(!0),l(void 0),d()}catch(T){l(aT(T))}},b=async _=>{l(void 0);try{if(!_||!n)return;if(n==="passkey"){if(!o)throw Error("Missing passkey challenge");await p(o)}else n==="sms"?await m(_):n==="totp"&&await f(_);l(void 0),s(!0),d()}catch(T){throw aT(T).error}},v=()=>{c||!i?u((c==null?void 0:c.error)??Error("Canceled MFA verification.")):d()},E=k.useRef(!1);return k.useEffect(()=>{!E.current&&n&&(E.current=!0,y(n).finally(()=>{E.current=!1}))},[open]),t?n==="passkey"?g.jsx(o2e,{account:t.linkedAccounts.filter(_=>_.type==="passkey"&&_.enrolledInMfa).sort((_,T)=>T.firstVerifiedAt.valueOf()-_.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(c==null?void 0:c.isBlocking)??!1,error:c==null?void 0:c.error,onClose:v,onBack:()=>{r(void 0),l(void 0)},handleSubmit:()=>b(o).catch(l)}):n==="sms"||n==="totp"?g.jsx(c2e,{selectedMethod:n,submitSuccess:i,hasBlockingError:(c==null?void 0:c.isBlocking)??!1,handleSubmitCode:b,onClose:v,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):g.jsx(Fbe,{user:t,onSelect:y,handleClose:v}):null}};function d2e(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=k.useContext(Lb);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const h2e=({onClose:t})=>{let{user:e}=Sn(),[n,r]=k.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:o}=d2e(),[a,c]=k.useState(!1),[l,u]=k.useState(null),[d,h]=k.useState();k.useEffect(()=>{r((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let f=k.useRef(!1);async function p(y){h(void 0);try{if(!y||!n)return;await o(n,y),c(!0),h(void 0),t()}catch(b){throw aT(b).error}}async function m(y){if(y!=="passkey")try{r(y),await i(y)}catch(b){console.error(b)}else try{r(y);let b=await i(y);if(!b)throw Error("something went wrong");u(b),await o(y,b),c(!0),h(void 0),t()}catch(b){h(aT(b))}}k.useEffect(()=>{!f.current&&n&&(f.current=!0,m(n).finally(()=>{f.current=!1}))},[]);let w=()=>{r(null),h(void 0),s(),t()};return e?n==="passkey"?g.jsx(o2e,{account:e.linkedAccounts.filter(y=>y.type==="passkey"&&y.enrolledInMfa).sort((y,b)=>b.firstVerifiedAt.valueOf()-y.firstVerifiedAt.valueOf())[0],submitSuccess:a,hasBlockingError:(d==null?void 0:d.isBlocking)??!1,error:d==null?void 0:d.error,onClose:w,onBack:()=>{r(null),h(void 0)},handleSubmit:()=>p(l).catch(h)}):n?g.jsx(c2e,{submitSuccess:a,hasBlockingError:(d==null?void 0:d.isBlocking)??!1,handleSubmitCode:p,selectedMethod:n,onClose:w,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):g.jsx(Fbe,{user:e,onSelect:m,handleClose:w}):null},cT=n2(()=>({inProgressMfaFlow:void 0})),Yxt=GQe([":root{","};"],t=>Jxt(t.palette)),Jxt=t=>Ps(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,n])=>`${e}: ${n};`).join(`
`)),f2e=Q.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),Qxt=({children:t,open:e,onClick:n,...r})=>g.jsx(Lfe,{show:e,as:Ve.Fragment,children:g.jsxs(dit,{onClose:n,...r,as:eEt,children:[g.jsx(Ix,{as:Ve.Fragment,enterFrom:"entering",leaveTo:"leaving",children:g.jsx(Xxt,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),g.jsx(tEt,{children:g.jsx(Ix,{as:Ve.Fragment,enterFrom:"entering",leaveTo:"leaving",children:g.jsx(Ffe,{as:nEt,children:t})})})]})});let Xxt=Q.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),eEt=Q.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),tEt=Q.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const nEt=Q.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),rEt=Q.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let p2e=()=>{let{ready:t,isModalOpen:e}=Sn(),{headless:n}=qn(),{currentScreen:r}=it(),{status:i,execute:s,reset:o,enabled:a}=Hc(),c=cT(d=>d.inProgressMfaFlow),l=()=>cT.setState({inProgressMfaFlow:void 0}),u=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return k.useEffect(()=>{u&&s()},[u]),k.useEffect(()=>{!e&&a&&o()},[e,a]),r&&!t&&r.isShownBeforeReady?g.jsxs(g.Fragment,{children:[g.jsx(vn,{}),g.jsx(lh,{}),g.jsx(rEt,{children:g.jsx(Qu,{})}),g.jsx(Kl,{}),g.jsx(es,{})]}):r||c!=="txn"?r?g.jsxs(g.Fragment,{children:[g.jsx(_3,{$if:!!c,children:g.jsx(r.component,{})}),c==="txn"&&g.jsx(h2e,{onClose:l}),c==="auth"&&g.jsx(Zxt.component,{})]}):null:g.jsx(h2e,{onClose:l})},iEt=()=>{let t=k.useRef(null);return g.jsx(oEt,{style:{height:l8t(t)},id:"privy-modal-content",children:g.jsx("div",{ref:t,children:g.jsx(p2e,{})})})};const sEt=({open:t})=>{let e=qn(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=Je(),{onUserCloseViaDialogOrKeybindRef:s}=it();return{gracefulClosePrivyModal:k.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),r=cT(i=>i.inProgressMfaFlow);return d8t({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||cT.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?g.jsx(f2e,{children:g.jsx(g2e,{id:"privy-modal-content",children:g.jsx(p2e,{})})}):g.jsx(Qxt,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:g.jsx(f2e,{children:g.jsx(iEt,{})})})};let g2e=Q.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),oEt=Q(g2e).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function aEt(t){let e=k.useRef(null),n=k.useRef();return k.useEffect(()=>{var r,i;(r=n.current)==null||r.remove(),n.current=function({botUsername:s,scriptHost:o}){let a=document.createElement("script"),{origin:c}=new URL(o);return a.async=!0,a.src=`${c}/js/telegram-login.js`,a.setAttribute("data-telegram-login",s),a.setAttribute("data-request-access","write"),a.setAttribute("data-lang","en"),a}(t),(i=e.current)==null||i.after(n.current)},[t]),g.jsx("div",{ref:e,hidden:!0})}const Cn=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,s]=k.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return k.useEffect(()=>{if(i){let a=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(a)}},[i]),g.jsxs(cEt,n?{children:[g.jsx(uEt,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:No(t)}),e&&g.jsx(oh,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:g.jsxs(g.Fragment,i?{children:["Copied",g.jsx(kx,{size:16})]}:{children:["Copy",g.jsx(XI,{size:16})]})})]}:{children:[g.jsx(lEt,{title:t,className:r,children:No(t)}),e&&g.jsx(oh,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:g.jsxs(g.Fragment,i?{children:["Copied",g.jsx(kx,{size:14})]}:{children:["Copy",g.jsx(XI,{size:14})]})})]})};let cEt=Q.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),lEt=Q.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),uEt=Q.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const dEt=()=>{let{solanaWallets:t}=Je(),{ready:e,wallets:n}=h0();return k.useEffect(()=>{if(e){let r=[...n,...t].map(i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id}));Rt.put(Mve,r)}},[e,n,t]),null};async function td(t,e,n,r,i,s=!1){var l,u,d;let o=s,a=async h=>{var f;if(o&&e&&e.length>0){h===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(f=r.current)==null||f.reject(new ki("missing_or_invalid_mfa","MFA verification failed, retry."));let p=await new Promise((m,w)=>{n.current={resolve:m,reject:w},setTimeout(()=>{var b;let y=new ki("mfa_timeout","Timed out waiting for MFA code");(b=r.current)==null||b.reject(y),w(y)},3e5)});return await t(p)}return await t()},c=null;for(let h=0;h<4;h++)try{c=await a(h),(l=r.current)==null||l.resolve(void 0);break}catch(f){if(f.type!=="missing_or_invalid_mfa")throw(u=r.current)==null||u.resolve(void 0),f;o=!0}if(c===null){let h=new ki("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(d=r.current)==null||d.reject(h),h}return c}var m2e;let hEt=(m2e=0,()=>"id-"+m2e++);function Bs(t){return t.error!==void 0}let vs=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},TH=new Map,fEt=(t,e)=>typeof e=="bigint"?e.toString():e;function Ds(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,c)=>`${a}${JSON.stringify(c,fEt)}`)(t,e);if(t==="privy:wallet:create"){let a=TH.get(s);if(a)return a}let o=new Promise((a,c)=>{let l=hEt();vs.enqueue(l,{resolve:a,reject:c}),i.postMessage({id:l,event:t,data:e},r)}).finally(()=>{TH.delete(s)});return TH.set(s,o),o}function pEt(t){let e=_be(),n=k.useRef(null),r=k.useRef(t.mfaMethods),i=d0(),[s,o]=k.useState(!1);return k.useEffect(()=>{r.current=t.mfaMethods},[t.mfaMethods]),k.useEffect(()=>{if(!s)return;let a=n.current;if(!a)return;function c(d){var h;d&&d.origin===t.origin&&typeof(h=d.data).event=="string"&&/^privy:.+/.test(h.event)&&function(f){switch(f.event){case"privy:iframe:ready":let p=vs.dequeue(f.event,f.id);return Bs(f)?p.reject(new ki(f.error.type,f.error.message)):p.resolve(f.data);case"privy:user-signer:sign":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:add":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:set-recovery":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:connect":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:recover":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallets:rpc":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:wallet:create":let m=vs.dequeue(f.event,f.id);return Bs(f)?m.reject(new ki(f.error.type,f.error.message)):m.resolve(f.data);case"privy:wallets:import":let w=vs.dequeue(f.event,f.id);return Bs(f)?w.reject(new ki(f.error.type,f.error.message)):w.resolve(f.data);case"privy:mfa:verify":let y=vs.dequeue(f.event,f.id);return Bs(f)?y.reject(new ki(f.error.type,f.error.message)):y.resolve(f.data);case"privy:mfa:init-enrollment":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:mfa:submit-enrollment":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:mfa:unenroll":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:mfa:clear":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:auth:unlink-passkey":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:solana-wallet:create":let b=vs.dequeue(f.event,f.id);return Bs(f)?b.reject(new ki(f.error.type,f.error.message)):b.resolve(f.data);case"privy:farcaster:init-signer":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:farcaster:sign":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}case"privy:delegated-actions:consent":{let v=vs.dequeue(f.event,f.id);return Bs(f)?v.reject(new ki(f.error.type,f.error.message)):v.resolve(f.data)}default:console.warn("Unsupported wallet proxy method:",f)}}(d.data)}let l={signWithUserSigner:d=>td(h=>Ds("privy:user-signer:sign",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:d=>td(h=>Ds("privy:wallets:add",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:d=>td(h=>Ds("privy:wallets:set-recovery",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:d=>td(h=>Ds("privy:wallets:connect",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:d=>td(h=>Ds("privy:wallets:recover",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!d.recoveryAccessToken&&!d.recoveryPassword&&!d.recoverySecretOverride),rpc:d=>td(h=>Ds("privy:wallets:rpc",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:d=>Ds("privy:wallet:create",d,a,t.origin),importWallet:d=>Ds("privy:wallets:import",d,a,t.origin),createSolana:d=>td(h=>Ds("privy:solana-wallet:create",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:d=>Ds("privy:delegated-actions:consent",d,a,t.origin),verifyMfa:d=>td(h=>Ds("privy:mfa:verify",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:d=>td(h=>Ds("privy:mfa:init-enrollment",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:d=>td(h=>Ds("privy:mfa:submit-enrollment",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:d=>td(h=>Ds("privy:mfa:unenroll",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:d=>Ds("privy:mfa:clear",d,a,t.origin),unlinkPasskeyAccount:d=>td(h=>Ds("privy:auth:unlink-passkey",{...d,...h},a,t.origin),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:d=>Ds("privy:farcaster:init-signer",d,a,t.origin),signFarcasterMessage:d=>Ds("privy:farcaster:sign",d,a,t.origin)};window.addEventListener("message",c);let u=new AbortController;return zq(()=>Ds("privy:iframe:ready",{},a,t.origin),{abortSignal:u.signal}).then(()=>t.onLoad(l),(...d)=>{console.warn("Privy iframe failed to load: ",...d),t.onLoadFailed()}),()=>{window.removeEventListener("message",c),u.abort()}},[s]),e?g.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:tbe(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function $3(t){return["ethereum","solana"].includes(t.chainType)}const gEt=({address:t,user:e})=>{let n=e.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t);if(!n)throw new oe("Address to delegate is not associated with current user.");if(!$3(n))throw new oe(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},mEt=({address:t,user:e})=>{let n=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!n)throw new oe("Address to delegate is not associated with current user.");let r=n.imported?n:Ru(e);if(!r)throw new oe("Unable to determine root address for delegated address.");if(!$3(r))throw new oe(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},y2e=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),yEt=()=>{let t=qn();k.useEffect(()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>z4t({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])};function w2e(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const v2e="popup-privy-oauth",b2e="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class wEt{async authenticate(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(ale,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw On(e)}}async link(){if(!this.api)throw new oe("Auth flow has no API instance");try{return await this.api.post(cle,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw On(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function x2e({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===n);if(!r)throw new oe("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const lT=()=>window.open(void 0,void 0,vEt({w:440,h:680}));let vEt=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`};const uT=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let o=t==null?void 0:t.linkedAccounts.find(d=>d.type==="cross_app"&&(d.embeddedWallets.some(h=>h.address===e)||d.smartWallets.some(h=>h.address===e)));if(!t||!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new oe("Cannot request a signature with this wallet address");let a=n.getProviderAccessToken(o.providerApp.id),c=await x2e({api:n.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(c.readOnly)throw console.error("cannot transact against a read-only provider app"),new oe("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=n.getProviderAccessToken(o.providerApp.id))}if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new oe("Transactions require a valid token");let l=lT();if(!l)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new oe("Failed to initialize signature request");let u=new URL(c.customAuthTransactUrl||`${c.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",bEt(r)),l.location=u.href,new Promise((d,h)=>{let f=setTimeout(()=>{w(),h(new oe("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),p=setInterval(()=>{l.closed&&(w(),h(new oe("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),m=y=>{var b,v,E;y.data&&(((b=y.data.token)==null?void 0:b.action)==="set"&&((v=y.data.token)==null?void 0:v.value)!==void 0?n.storeProviderAccessToken(o.providerApp.id,y.data.token.value):((E=y.data.token)==null?void 0:E.action)==="clear"&&n.storeProviderAccessToken(o.providerApp.id,null),y.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&y.data.result&&(w(),d(y.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),y.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&y.data.error&&(w(),h(y.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:y.data.error,address:e}})))};window.addEventListener("message",m);let w=()=>{l.close(),clearInterval(p),clearTimeout(f),window.removeEventListener("message",m)}})};let bEt=t=>JSON.stringify({content:{request:{request:PH(t,Cr)}},timestamp:Date.now(),callbackUrl:window.origin});const PH=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(n=>PH(n,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([n,r])=>[n,PH(r,e)])):t,xEt=({title:t,description:e,children:n,...r})=>g.jsx(E2e,{...r,children:g.jsxs(g.Fragment,{children:[g.jsx("h3",{children:t}),typeof e=="string"?g.jsx("p",{children:e}):e,n]})}),Gl=({title:t,description:e,icon:n,children:r,...i})=>g.jsxs(EEt,{...i,children:[n||null,g.jsx("h3",{children:t}),e&&typeof e=="string"?g.jsx("p",{children:e}):e,r]});let E2e=Q.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),EEt=Q(E2e).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const C2e=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[g.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),g.jsx("defs",{children:g.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"#3E82F4"}),g.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),_2e=({style:t,...e})=>g.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[g.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[g.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),g.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),g.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),g.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),g.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),g.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_2115_829",children:g.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function A2e({url:t,popup:e,provider:n}){return e.location=t,new Promise((r,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(r(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)})}async function CEt({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new oe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new oe("User denied confirmation during OAuth flow");try{return(await t.post(OZe,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(s){let o=On(s);throw o.privyErrorCode?new oe(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new oe("Invalid code during oauth flow.",void 0,le.OAUTH_USER_DENIED):new oe("Invalid code during OAuth flow.",void 0,le.UNKNOWN_AUTH_ERROR)}}async function S2e({api:t,provider:e}){let n=F$(),r=jq(),i=await Bq(n);try{return e==="icloud"?{url:(await t.post(NZe,{client_type:"web"})).url}:{url:(await t.post(PZe,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(s){throw On(s)}}const NH=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter(r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],I2e=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:c,chainType:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})=>{if(c===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await SD(i,{request:{chain_type:l}});else if(l==="ethereum"){let m=ly(t);m&&await o({address:m.address}),await n.create({accessToken:e,solanaAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}else{if(l!=="solana")throw Error("Invalid input to create wallet");{let m=sf(t);m&&await o({address:m.address}),await n.createSolana({accessToken:e,ethereumAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await SD(i,{request:{chain_type:l}});else{let{entropyId:m,entropyIdVerifier:w}=Oo(t);await o(),await n.addWallet({accessToken:e,entropyId:m,entropyIdVerifier:w,chainType:l,hdWalletIndex:c})}let f=await r(),p=NH(f,{chainType:l,walletIndex:c})[0];return a(f),{user:f,account:p}},OH=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=Je(),o=qn();return{create:async({walletIndex:a,chainType:c,latestUser:l,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})=>{let f=l;f||(f=await r());let p=await s.getAccessToken();if(!f||!p||!t)throw Error("User must be authenticated before creating a Privy wallet");return await I2e({appConfig:o,user:f,refreshSessionAndUser:r,privy:i,accessToken:p,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:a,chainType:c,recoveryMethod:u,recoveryPassword:d,recoveryAccessToken:h})}}},_Et=({title:t,description:e,onClose:n})=>g.jsx(Rn,{title:t,subtitle:e,icon:$x,iconVariant:"success",watermark:!0,onBack:n}),RH={component:()=>{let{user:t}=Sn(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=Je(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=it(),{onSuccess:a,onFailure:c,callAuthOnSuccessOnClose:l}=s.createWallet,u=()=>{let d=sf(t)??ly(t);t&&d?(r(),a({user:t,account:d})):c(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:l})};return k.useEffect(()=>{let d=setTimeout(u,kq);return()=>clearTimeout(d)},[]),o.current=u,g.jsx(_Et,{title:n?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},MH=Q.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),AEt=Q.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let k2e={"google-drive":{name:"Google Drive",component:_2e},icloud:{name:"iCloud",component:C2e}};const $2e={component:()=>{var B;let{logout:t}=Sn(),{navigate:e,setModalData:n,data:r}=it(),{closePrivyModal:i,createAnalyticsEvent:s}=Je(),{execute:o}=(()=>{let{client:j,walletProxy:U,refreshSessionAndUser:M}=Je(),{data:C}=it(),{user:x}=Sn(),A=d0(),{create:N}=OH();return{execute:async({provider:O,action:P,popup:D,shouldCreateEth:L,shouldCreateSol:$})=>{var Z,X;let q,V;if(!j)throw new oe("Missing client");function F(Y){if(!Y&&j)throw j.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:O}}),new oe("Recovery OAuth failed")}switch(O){case"google-drive":{let Y,te,{url:fe,codeVerifier:he,stateCode:pe}=await S2e({api:j.api,provider:O});F(fe);try{let be=await A2e({url:fe,popup:D,provider:O});if(Y=be.stateCode,te=be.authorizationCode,Y!==pe)throw j.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:O,storedStateCode:pe??"",returnedStateCode:Y??""}}),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,le.OAUTH_UNEXPECTED)}catch(be){throw j.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:be.toString(),provider:O}}),new oe("Recovery OAuth failed")}[q,V]=await Promise.all([j.getAccessToken(),CEt({api:j.api,provider:O,codeVerifier:he,stateCode:Y,authorizationCode:te})]);break}case"icloud":{let{url:Y}=await S2e({api:j.api,provider:O});F(Y);let{ckWebAuthToken:te}=await A2e({url:Y,popup:D,provider:O});V=te,q=await j.getAccessToken()}}if(!U)throw new oe("Cannot connect to wallet proxy");if(!q)throw new oe("Unable to authorize user");switch(P){case"recover":{let Y=(Z=C==null?void 0:C.recoverWallet)==null?void 0:Z.entropyId,te=(X=C==null?void 0:C.recoverWallet)==null?void 0:X.entropyIdVerifier;if(!Y||!te)throw new oe("Recovery OAuth failed");j.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:Y,recoveryMethod:O}}),await U.recover({accessToken:q,entropyId:Y,entropyIdVerifier:te,recoveryAccessToken:V}),j.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:Y,recoveryMethod:O}});break}case"create-wallet":{let Y;if(j.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),L&&$)Y=await N({recoveryMethod:O,recoveryAccessToken:V,chainType:"ethereum",walletIndex:0,latestUser:x}),Y=await N({chainType:"solana",walletIndex:0,latestUser:Y.user});else if($)Y=await N({recoveryMethod:O,recoveryAccessToken:V,chainType:"solana",walletIndex:0,latestUser:x});else{if(!L)throw Error("Invalid args to create wallet");Y=await N({recoveryMethod:O,recoveryAccessToken:V,chainType:"ethereum",walletIndex:0,latestUser:x})}if(!Y)throw A("createWallet","onError",le.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");j.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:Y.account.address}}),A("createWallet","onSuccess",{wallet:Y.account});break}case"set-recovery":{let Y=Ru(x);if(!Y)throw A("setWalletRecovery","onError",le.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");j.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:Y.address,existingRecoveryMethod:Y.recoveryMethod,targetRecoveryMethod:O}});let{entropyId:te,entropyIdVerifier:fe}=Oo(x);await U.setRecovery({accessToken:q,entropyId:te,entropyIdVerifier:fe,recoveryMethod:O,recoveryAccessToken:V});let he=Ru(await M());if(!he)throw A("createWallet","onError",le.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");j.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:Y.address,existingRecoveryMethod:Y.recoveryMethod,targetRecoveryMethod:O}}),A("setWalletRecovery","onSuccess",{method:O,wallet:he});break}default:throw new oe("Unsupported recovery action")}}}})(),[a,c]=k.useState(!1),{provider:l,action:u,isInAccountCreateFlow:d,shouldCreateEth:h,shouldCreateSol:f}=r==null?void 0:r.recoveryOAuthStatus,[p,m]=k.useState(void 0),[w,y]=k.useState(u==="create-wallet");if(l==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let b=k2e[l].name,v=k2e[l].component,E=(B=r==null?void 0:r.recoverWallet)==null?void 0:B.onCompleteNavigateTo,_=new ec(async(j="create-wallet")=>(y(!0),new Promise((U,M)=>{setTimeout(async()=>{try{let C=window.open();await o({provider:l,action:j,popup:C,shouldCreateEth:h,shouldCreateSol:f}),c(!0),U()}catch{m({message:`${j==="recover"?"Recovery":"Back up"} with ${b} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${b} account associated with your backup.`:"",retryable:!0}),M()}},0)})));k.useEffect(()=>{u!=="recover"&&_.execute(d?"create-wallet":"set-recovery")},[]),k.useEffect(()=>{if(!a)return;let j=setTimeout(()=>{d?(n({createWallet:{onSuccess:()=>{},onFailure:U=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:U,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(RH)):i({shouldCallAuthOnSuccess:!1})},di);return()=>clearTimeout(j)},[a]);let T=k.useCallback(async()=>{await _.execute("recover"),E?e(E):c(!0)},[]),I=l==="google-drive"?"Google Drive":"Apple iCloud",R=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${I}.`||p&&p.message||`${u==="recover"?"Recovering":"Backing up"} with ${I}...`,S=p?p.detail:"";return g.jsxs(g.Fragment,{children:[g.jsx(vn,{}),w?g.jsx(g.Fragment,{children:g.jsxs(MH,{children:[g.jsx(Gl,{title:R,icon:g.jsx(v,{style:{width:"38px",height:"38px"}}),description:S}),p&&(p!=null&&p.retryable)?g.jsx(wr,{onClick:()=>{Lq(),m(void 0),u==="create-wallet"?_.execute("create-wallet"):T()},disabled:!a&&!(p!=null&&p.retryable),children:"Try again"}):null]})}):g.jsxs(MH,{children:[g.jsx(Gl,{title:"Confirm it's really you",icon:g.jsx(v,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${I} where your account is backed up.`}),g.jsxs(wr,{onClick:T,children:["Confirm with ",I]})]}),g.jsx(Ln,{})]})}};let jH=Q.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),SEt={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},IEt=({onClose:t})=>g.jsxs(AEt,{children:[g.jsx(Gl,{title:"Why do I need to secure my account?",icon:g.jsx(t2,{width:48}),description:g.jsxs(g.Fragment,{children:[g.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),g.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),g.jsx(wr,{onClick:t,children:"Select backup method"})]});const BH={component:()=>{let[t,e]=k.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=it(),{user:c}=Sn(),{embeddedWallets:l}=qn(),{closePrivyModal:u}=Je(),d=Ru(c),h=d===null,{isInAccountCreateFlow:f,isResettingPassword:p,shouldCreateEth:m,shouldCreateSol:w}=o.recoverySelection,y=d&&d.recoveryMethod!=="privy",b=y?g.jsxs("span",{children:["Your account is currently secured using"," ",g.jsx("strong",{children:SEt[(d==null?void 0:d.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function v(_){s({recoveryOAuthStatus:{provider:_,action:h?"create-wallet":"set-recovery",isInAccountCreateFlow:f,shouldCreateEth:m,shouldCreateSol:w}}),n($2e)}function E(){var _,T;(_=o==null?void 0:o.setWalletPassword)==null||_.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:((T=o==null?void 0:o.setWalletPassword)==null?void 0:T.callAuthOnSuccessOnClose)??!1})}return a.current=E,g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:E,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?g.jsx(IEt,{onClose:()=>e(!1)}):g.jsxs(g.Fragment,{children:[g.jsx(Gl,{title:y?"Update backup method":"Secure your account",icon:g.jsx(nve,{width:48}),description:b}),g.jsx(MH,{children:l.userOwnedRecoveryOptions.filter(_=>!["icloud","google-drive"].includes((d==null?void 0:d.recoveryMethod)||"")||_!==(d==null?void 0:d.recoveryMethod)).sort().map(_=>{switch(_){case"google-drive":return g.jsxs(xi,{onClick:()=>v("google-drive"),children:[g.jsx(jH,{children:g.jsx(_2e,{style:{width:18}})}),"Back up to Google Drive"]},_);case"icloud":return g.jsxs(xi,{onClick:()=>v("icloud"),children:[g.jsx(jH,{children:g.jsx(C2e,{style:{width:24}})}),"Back up to Apple iCloud"]},_);case"user-passcode":return g.jsxs(xi,{onClick:()=>{n(N3e({isCreatingWallet:h,skipSplashScreen:!0}))},children:[g.jsx(jH,{children:g.jsx(y6t,{style:{width:18}})}),p?"Reset your":"Set a"," password"]},_);default:return null}})})]}),g.jsx(Ln,{})]})}};let kEt=Ps(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const T2e=Q.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],kEt,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),dT=Q.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),hT=Q(wr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&Ps(["&&{transition:none;}"]));let P2e=Ps(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const DH=Q.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],P2e),$Et=Q.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],P2e),fT=Q.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),pT=Q.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),LH=Q.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),UH=Q.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),N2e=Q(Xy).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),gT=Q.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),TEt=Q(D5t).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),mT=Q(i6t).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),yT=Q(o6t).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),PEt=Q.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),NEt=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[s,o]=k.useState(!0),[a,c]=k.useState(!1),[l,u]=k.useState(""),d=n===l;return k.useEffect(()=>{l&&!a&&c(!0)},[l]),g.jsxs(g.Fragment,{children:[g.jsx(vn,{closeable:!1,backFn:i}),g.jsx(lh,{}),g.jsxs(dT,{children:[g.jsxs(pT,{children:[g.jsx(yy,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),g.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),g.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),g.jsxs(fT,{children:[g.jsx(DH,{value:l,onChange:h=>u(h.target.value),onKeyUp:h=>{h.key==="Enter"&&r()},onBlur:()=>c(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),g.jsx(gT,{style:{right:"0.75rem"},children:s?g.jsx(mT,{onClick:()=>o(!1)}):g.jsx(yT,{onClick:()=>o(!0)})})]}),g.jsx(T2e,{"aria-hidden":!a||d,error:!0,children:"Passwords do not match"})]}),g.jsx(hT,{onClick:r,loading:e,disabled:!d,$hideAnimations:t,children:"Continue"}),g.jsx(Kl,{}),g.jsx(Ln,{})]})},O2e=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>g.jsx("label",{children:g.jsxs(OEt,{className:t,children:[g.jsx(M2e,{checked:e,...r}),g.jsx(REt,{color:n,checked:e,children:g.jsx(R2e,{viewBox:"0 0 24 24",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let OEt=Q.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),R2e=Q.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),M2e=Q.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),REt=Q.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",M2e,t=>t.color,R2e,t=>t.checked?"visible":"hidden");const MEt=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[s,o]=k.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx(vn,{closeable:!1,backFn:r}),g.jsx(lh,{}),g.jsxs(dT,{children:[g.jsxs(pT,{children:[g.jsx(yy,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),g.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),g.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),g.jsx(LH,{children:g.jsxs(UH,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o(c=>!c)},children:[g.jsx(O2e,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),g.jsx(g.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),g.jsxs(jEt,{children:[i.initiatedBy==="user"&&g.jsx(oh,{onClick:i.onCancel,disabled:e,children:"Cancel"}),g.jsx(hT,{onClick:n,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),g.jsx(Kl,{}),g.jsx(Ln,{})]})};let jEt=Q.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),BEt=/[a-z]/,DEt=/[A-Z]/,LEt=/[0-9]/,j2e="!@#$%^&*()\\-_+.",B2e=`a-zA-Z0-9${j2e}`,UEt=RegExp(`[${j2e}]`),FEt=RegExp(`[${B2e}]`);const zEt=RegExp(`^[${B2e}]{6,}$`),D2e=()=>C5t(4,A5t);function WEt(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function qEt(t=""){return(.3*function(e){if(e.length<8)return 0;let n=0;return BEt.test(e)&&(n+=1),DEt.test(e)&&(n+=1),LEt.test(e)&&(n+=1),UEt.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))}(t)+y5t(t)/95)/2}const HEt=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:c,onPasswordGenerate:l})=>{let[u,d]=k.useState(!1),[h,f]=k.useState(!1);k.useEffect(()=>{n&&!h&&f(!0)},[n]);let p=k.useMemo(()=>h?6>((n==null?void 0:n.length)||0)?"Password must be at least 6 characters":zEt.test(n||"")?null:`Invalid characters used ( ${((y="")=>[...new Set(y.split("").filter(b=>!FEt.test(b)).map(b=>b.replace(" ","SPACE")))])(n).join(" ")} )`:null,[n,h]),m=k.useMemo(()=>p?{value:0,label:"Weak"}:function(y=""){let b=qEt(y);return{value:b,label:WEt(b)}}(n),[n,p]),w=k.useMemo(()=>!(n!=null&&n.length)||!!p,[p,n]);return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:o,closeable:r.initiatedBy==="user",backFn:a}),g.jsx(lh,{}),g.jsxs(dT,{children:[g.jsxs(pT,{children:[g.jsx(d6t,{height:48,width:48,stroke:"var(--privy-color-accent)"}),g.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),g.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),g.jsxs(fT,{children:[g.jsx(DH,{value:n,onChange:y=>c(y.target.value),onKeyUp:y=>{y.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),g.jsxs(gT,{style:{width:"3.5rem"},children:[u?g.jsx(mT,{onClick:()=>d(!1)}):g.jsx(yT,{onClick:()=>d(!0)}),g.jsx(TEt,{onClick:l})]})]}),g.jsx(PEt,{value:m.value===0?.01:m.value,label:m.label}),g.jsx(T2e,{error:!!p,children:p||`Password Strength: ${h?m.label:"--"}`}),g.jsxs(KEt,{children:[g.jsx(VEt,{children:g.jsxs(LH,{children:[g.jsxs(UH,{children:[g.jsx(FE,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),g.jsxs(UH,{children:[g.jsx(FE,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),g.jsx(hT,{onClick:s,loading:e,disabled:w,$hideAnimations:t,children:"Continue"})]})]}),g.jsx(Kl,{}),g.jsx(Ln,{})]})};let VEt=Q(LH).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),KEt=Q.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const GEt=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:s})=>{let[o,a]=k.useState(!1),[c,l]=k.useState(!0),u=k.useCallback(()=>{a(!0),r&&navigator.clipboard.writeText(r)},[r]),d=k.useCallback(()=>{let h=document.createElement("a"),f=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),p=new Blob([ZEt(n,r)],{type:"text/plain"}),m=URL.createObjectURL(p);h.href=m,h.target="_blank",h.download=`${f}-privy-wallet-recovery.txt`,document.body.appendChild(h),h.click(),setTimeout(()=>{h.remove(),URL.revokeObjectURL(m)},5e3)},[r]);return g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:s,closeable:!1}),g.jsx(lh,{}),g.jsxs(dT,{children:[g.jsxs(pT,{children:[g.jsx(yy,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),g.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),g.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),g.jsxs(fT,{centered:!0,children:[g.jsx($Et,{children:c?"".repeat(r.length):r}),g.jsx(gT,{style:{right:"0.75rem"},children:c?g.jsx(mT,{onClick:()=>l(!1)}):g.jsx(yT,{onClick:()=>l(!0)})})]}),g.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[g.jsx(N2e,{onClick:u,children:g.jsxs(g.Fragment,o?{children:[g.jsx(eve,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[g.jsx(n6t,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),g.jsxs(N2e,{onClick:d,children:[g.jsx(j5t,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),g.jsx(hT,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),g.jsx(Kl,{}),g.jsx(Ln,{})]})};let ZEt=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const YEt=({error:t,onClose:e})=>g.jsxs(g.Fragment,{children:[g.jsx(vn,{closeable:!1}),g.jsx(lh,{}),g.jsxs(e9,t?{children:[g.jsx(c4t,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),g.jsx(Gl,{title:"Something went wrong",description:t})]}:{children:[g.jsx(FE,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),g.jsx(Gl,{title:"Success"})]}),g.jsx(wr,{onClick:e,children:"Close"}),g.jsx(Kl,{}),g.jsx(Ln,{})]});let JEt=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const L2e=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=it(),{send:i,state:s}=(()=>{let[l,u]=k.useReducer(JEt,"creating");return{send:u,state:l}})(),o=k.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);k.useEffect(()=>{let l;return s==="done"&&e.config.initiatedBy==="automatic"&&(l=setTimeout(()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)},di)),()=>{l&&clearTimeout(l)}},[s,e.config.initiatedBy,e.onClose]);let a=k.useCallback(()=>{i("back")},[i]),c=k.useCallback(()=>{r(BH)},[n,r]);return s==="creating"?g.jsx(HEt,{...e,onSubmit:o,onBack:n===BH?c:void 0}):s==="saving"?g.jsx(GEt,{...e,onSubmit:o,onBack:a}):s==="confirming"?g.jsx(NEt,{...e,onSubmit:o,onBack:a}):s==="finalizing"?g.jsx(MEt,{...e,onSubmit:o,onBack:a}):s==="done"?g.jsx(YEt,{...e,onSubmit:o}):null};let QEt={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const wT=t=>{let e=QEt[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let U2e=k.createContext({});const XEt=({children:t})=>{let e=qn(),[n,r]=k.useState({});return C3("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Rt.put(F2e(e.id),i.type),i.type==="wallet"?(Rt.put(FH(e.id),i.walletClientType),Rt.put(zH(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Rt.del(FH(e.id)),Rt.del(zH(e.id)),r({accountType:i.type})))}}),k.useEffect(()=>{if(!e.id)return;let i=Rt.get(F2e(e.id)),s=Rt.get(FH(e.id)),o=Rt.get(zH(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})},[e.id]),g.jsx(U2e.Provider,{value:n,children:t})};let F2e=t=>`privy:${t}:recent-login-method`,FH=t=>`privy:${t}:recent-login-wallet-client`,zH=t=>`privy:${t}:recent-login-chain-type`;const Nm=()=>k.useContext(U2e),z2e=()=>{var i;let{app:t}=it(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,n=`${t==null?void 0:t.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?g.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?Ve.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},e9t=t=>{let{app:e}=it();return e!=null&&e.appearance.logo?g.jsx(t9t,{...t,children:g.jsx(z2e,{})}):null},t9t=Q.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),n9t=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?g.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):g.jsx("span",{}),r9t=({appId:t})=>{let[e,n]=k.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=Sn(),{client:s}=Je();return k.useEffect(()=>{(async()=>s&&n(await s.getCrossAppProviderDetails(t)))()},[s]),g.jsx(xi,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?g.jsxs(g.Fragment,{children:[g.jsx(n9t,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):g.jsx($m,{})})};let i9t=Q.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const T3=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:s,...o})=>g.jsx(i9t,{as:r,$size:t,$variant:e,$disabled:n,onClick:a=>{n?a.preventDefault():s==null||s(a)},...o,children:i}),WH=(t,e)=>!sf(t)&&(e==="all-users"||e==="users-without-wallets"&&!s9t(t).length);let s9t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const qH=(t,e)=>!ly(t)&&(e==="all-users"||e==="users-without-wallets"&&!o9t(t).length);let o9t=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const Om=(t,e)=>WH(t,e.ethereum.createOnLogin)||qH(t,e.solana.createOnLogin),a9t=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>g.jsx(Rn,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:Wit,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),i9={component:()=>{let{navigate:t,app:e,setModalData:n,data:r}=it(),{getAuthMeta:i,client:s}=Je();return g.jsx(a9t,{appName:e==null?void 0:e.name,onRetry:()=>{let o=i();n({...r,login:{...r==null?void 0:r.login,...o!=null&&o.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(Aa)}})}},c9t=Q.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)");function l9t(t){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),g.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let W2e="0x0000000000000000000000000000000000000000";const P3=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??W2e,destinationCurrency:e??W2e,...n});let q2e="https://api.relay.link",H2e="https://api.testnets.relay.link";const s9=async({input:t,isTestnet:e})=>{let n=await fetch((e?H2e:q2e)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},vT=t=>{var n,r;let e=(r=(n=t.steps[0])==null?void 0:n.items)==null?void 0:r[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function HH({transactionHash:t,wallet:e,isTestnet:n,bridgingStatus:r,setBridgingStatus:i,onSuccess:s,onFailure:o}){k.useEffect(()=>{if(t&&e&&r){if(["delayed","waiting","pending"].includes(r)){let a=setInterval(async()=>{try{let c=await async function({transactionHash:l,isTestnet:u}){var f;let d=await fetch((u?H2e:q2e)+"/requests/v2?hash="+l),h=await d.json();if(!d.ok)throw"message"in h&&typeof h.message=="string"?Error(h.message):Error("Error fetching request from relay");return((f=h.requests.at(0))==null?void 0:f.status)??"pending"}({transactionHash:t,isTestnet:n});i(c)}catch(c){console.error(c)}},1e3);return()=>clearInterval(a)}r==="success"?s({transactionHash:t,wallet:e}):["refund","failure"].includes(r)&&o({error:new V2e(t,n)})}},[r,t,n,e])}class V2e extends oe{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,le.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const o9=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((o,a)=>{if(o instanceof V2e)return{title:"Transaction failed",detail:g.jsxs(g.Fragment,{children:[g.jsx("span",{children:o.message}),g.jsxs("span",{children:[" ","Check the"," ",g.jsx(u9t,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:jl};if(o instanceof oe)switch(o.privyErrorCode){case le.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:jl};case le.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:jl};case le.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:jl};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:jl}}else{if(o instanceof ki&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:Kit};if(!(o instanceof da))return o instanceof Pl&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:jl}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:jl};switch(o.privyErrorCode){case le.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:jl};case le.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:jl};case le.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:yF};case le.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case le.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case le.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:jl};case le.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:jl};case le.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:jl};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:jl}}}})(t,e);return g.jsx(Rn,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof da&&(t.privyErrorCode===le.INVALID_CAPTCHA&&(r==null||r()),t.privyErrorCode===le.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n==null||n()},variant:"error"},watermark:!0})},hi={component:()=>{var a,c;let{navigate:t,data:e,lastScreen:n,currentScreen:r,app:i}=it(),{reset:s}=Hc(),o=((a=e==null?void 0:e.errorModalData)==null?void 0:a.previousScreen)||(n===r?void 0:n);return g.jsx(o9,{error:((c=e==null?void 0:e.errorModalData)==null?void 0:c.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||Aa,!1)},onCaptchaReset:s})}};let u9t=Q.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const K2e=({onTransfer:t,isTransferring:e,transferSuccess:n})=>g.jsx(wr,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),G2e=Q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),VH=Q.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),Z2e=Q.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),d9t=Q(aq).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),h9t=Q(R5t).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),f9t=Q.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),Y2e=Q.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),p9t=Q.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let g9t=()=>g.jsx(p9t,{children:g.jsx(d9t,{$iconSize:60})});const m9t=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{var c;let{defaultChain:o}=qn(),a=((c=o.blockExplorers)==null?void 0:c.default.url)??"https://etherscan.io";return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:e,backFn:n}),g.jsxs(G2e,{children:[g.jsx(g9t,{}),g.jsxs(VH,{children:[g.jsx("h3",{children:"Check account assets before transferring"}),g.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),g.jsxs(f9t,{children:[g.jsx("p",{children:" To check your balance, you can:"}),g.jsx(Y2e,{children:"Log out and log back into the other account, or "}),g.jsxs(Y2e,{children:["Copy your wallet address and use a"," ",g.jsx("u",{children:g.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),g.jsxs(Z2e,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[g.jsx(S$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),g.jsx(Cn,{address:t,showCopyIcon:!1}),g.jsx(h9t,{})]}),g.jsx(K2e,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),g.jsx(Ln,{})]})},sw={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=Je(),{data:n,navigate:r,lastScreen:i,setModalData:s}=it(),[o,a]=k.useState(void 0),[c,l]=k.useState(!1),[u,d]=k.useState(!1),h=async()=>{var f,p,m,w,y,b,v,E,_,T;try{if(!((f=n==null?void 0:n.accountTransfer)!=null&&f.nonce)||!((p=n==null?void 0:n.accountTransfer)!=null&&p.account))throw Error("missing account transfer inputs");d(!0),await t({nonce:(m=n==null?void 0:n.accountTransfer)==null?void 0:m.nonce,account:(w=n==null?void 0:n.accountTransfer)==null?void 0:w.account,accountType:(y=n==null?void 0:n.accountTransfer)==null?void 0:y.linkMethod,externalWalletMetadata:(b=n==null?void 0:n.accountTransfer)==null?void 0:b.externalWalletMetadata,telegramWebAppData:(v=n==null?void 0:n.accountTransfer)==null?void 0:v.telegramWebAppData,telegramAuthResult:(E=n==null?void 0:n.accountTransfer)==null?void 0:E.telegramAuthResult,farcasterEmbeddedAddress:(_=n==null?void 0:n.accountTransfer)==null?void 0:_.farcasterEmbeddedAddress,oAuthUserInfo:(T=n==null?void 0:n.accountTransfer)==null?void 0:T.oAuthUserInfo}),l(!0),d(!1),setTimeout(e,1e3)}catch(I){s({errorModalData:{error:I,previousScreen:i||sw}}),r(hi,!0)}};return o?g.jsx(m9t,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:h,isTransferring:u,transferSuccess:c}):g.jsx(y9t,{onClose:e,onInfo:()=>{var f;return a((f=n==null?void 0:n.accountTransfer)==null?void 0:f.embeddedWalletAddress)},onContinue:()=>{var f;return a((f=n==null?void 0:n.accountTransfer)==null?void 0:f.embeddedWalletAddress)},onTransfer:h,isTransferring:u,transferSuccess:c,data:n})}},y9t=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:o})=>{var c,l,u,d,h,f,p;if(!((c=o==null?void 0:o.accountTransfer)!=null&&c.linkMethod)||!((l=o==null?void 0:o.accountTransfer)!=null&&l.displayName))return;let a={method:(u=o==null?void 0:o.accountTransfer)==null?void 0:u.linkMethod,handle:(d=o==null?void 0:o.accountTransfer)==null?void 0:d.displayName,disclosedAccount:(h=o==null?void 0:o.accountTransfer)!=null&&h.embeddedWalletAddress?{type:"wallet",handle:(f=o==null?void 0:o.accountTransfer)==null?void 0:f.embeddedWalletAddress}:void 0};return g.jsxs(g.Fragment,{children:[g.jsx(vn,{closeable:!0}),g.jsxs(G2e,{children:[g.jsx(AH,{children:g.jsxs("div",{children:[g.jsx(c9t,{color:"var(--privy-color-error)"}),g.jsx(yy,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),g.jsxs(VH,{children:[g.jsxs("h3",{children:[function(m){switch(m){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${Lve(m.replace("_oauth",""))} profile`;default:return m.startsWith("privy:")?"Cross-app account":m}}(a.method)," is associated with another account"]}),g.jsxs("p",{children:["Do you want to transfer",g.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),g.jsx(w9t,{onClick:n,disclosedAccount:a.disclosedAccount})]}),g.jsxs(VH,{style:{gap:12,marginTop:12},children:[(p=o==null?void 0:o.accountTransfer)!=null&&p.embeddedWalletAddress?g.jsx(wr,{onClick:e,children:"Continue"}):g.jsx(K2e,{onTransfer:r,transferSuccess:i,isTransferring:s}),g.jsx(oh,{onClick:t,children:"No thanks"})]})]}),g.jsx(Ln,{})]})};function w9t({disclosedAccount:t,onClick:e}){return t?g.jsxs(Z2e,{onClick:e,children:[g.jsx(S$,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),g.jsx(Cn,{address:t.handle,showCopyIcon:!1}),g.jsx(l9t,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const v9t=({errorMessage:t,onClose:e})=>g.jsx(Rn,t?{title:"Something went wrong",subtitle:t,icon:QI,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),f0={component:()=>{let{app:t,setModalData:e,navigate:n,data:r,onUserCloseViaDialogOrKeybindRef:i}=it(),[s,o]=k.useState(""),{embeddedWallets:a}=qn(),{authenticated:c,user:l}=Sn(),{closePrivyModal:u,walletProxy:d,client:h}=Je(),{onSuccess:f,onFailure:p,callAuthOnSuccessOnClose:m,shouldCreateEth:w,shouldCreateSol:y}=r.createWallet,b=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[v,E]=k.useState(null),{create:_}=OH(),T=w??(!!l&&WH(l,t.embeddedWallets.ethereum.createOnLogin)),I=y??(!!l&&qH(l,t.embeddedWallets.solana.createOnLogin)),R=new ec(async()=>{let S=await h.getAccessToken();if(l&&S&&d)try{let B;if(T&&I)B=await _({chainType:"ethereum",walletIndex:0,latestUser:l}),B=await _({chainType:"solana",walletIndex:0,latestUser:B.user});else if(I)B=await _({chainType:"solana",walletIndex:0,latestUser:l});else{if(!T)return void u({shouldCallAuthOnSuccess:m});B=await _({chainType:"ethereum",walletIndex:0,latestUser:l})}E(B),n(RH)}catch(B){o(B.message)}});return k.useEffect(()=>c&&l?b?(e({...r,createWallet:{...r.createWallet,shouldCreateEth:T,shouldCreateSol:I},recoverySelection:{...r==null?void 0:r.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:T,shouldCreateSol:I}}),n(O3e({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void R.execute():(n(Aa),void p(Error("User must be authenticated before creating a Privy wallet"))),[b,c]),i.current=()=>null,g.jsx(v9t,{errorMessage:s||void 0,onClose:()=>{v?(f(v),u({shouldCallAuthOnSuccess:m})):(p(new Fg("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},ow={component:()=>{let{user:t,logout:e}=Sn(),{app:n,onUserCloseViaDialogOrKeybindRef:r,setModalData:i,navigate:s}=it(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:c}=Je(),l=u=>{u==null||u.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return r.current=l,g.jsx(b9t,{termsAndConditionsUrl:n==null?void 0:n.legal.termsAndConditionsUrl,privacyPolicyUrl:n==null?void 0:n.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await o(),t&&Om(t,n.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:d=>{console.error(d),c({eventName:"embedded_wallet_creation_failure_logout",payload:{error:d,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(f0)):a()},onDecline:l})}},b9t=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>g.jsx(Rn,{title:i,subtitle:s,icon:Vit,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&g.jsxs(x9t,{children:[t&&g.jsxs(Xy,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",g.jsx(mF,{width:16,height:16,strokeWidth:2.25})]}),e&&g.jsxs(Xy,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",g.jsx(mF,{width:16,height:16,strokeWidth:2.25})]})]})});let x9t=Q.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const J2e=({color:t,...e})=>g.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:g.jsx("g",{children:g.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let E9t=Q.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),C9t=Q.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),_9t=Q(H5t).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),A9t=Q(J2e).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function S9t({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[s,o]=k.useState(!1);return g.jsxs(E9t,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[t," ",s?g.jsxs(C9t,{children:[g.jsx(_9t,{})," ",!e&&"Copied"]}):!r&&g.jsx(A9t,{})]})}const I9t=()=>g.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:g.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let KH=(t,e,n,r,i)=>{for(let s=e;s<e+r;s++)for(let o=n;o<n+i;o++){let a=t==null?void 0:t[o];a&&a[s]&&(a[s]=0)}return t},k9t=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>g.jsx(g.Fragment,{children:[0,1,2].map(s=>g.jsx("circle",{r:n*(7-2*s)/2,cx:t+7*n/2,cy:e+7*n/2,fill:s%2!=0?r:i},`finder-${t}-${e}-${s}`))}),$9t=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>g.jsx(g.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>g.jsx(k9t,{x:i,y:s,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${s}`))}),T9t=({matrix:t,cellSize:e,color:n})=>g.jsx(g.Fragment,{children:t.map((r,i)=>r.map((s,o)=>s?g.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${o}`):g.jsx(Ve.Fragment,{},`circle-${i}-${o}`)))}),P9t=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return g.jsx(g.Fragment,{});let s=e*(r||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let c=(a-o)*t,l=c-.2*c,u=o*t;return g.jsxs(g.Fragment,{children:[g.jsx("rect",{x:o*t,y:o*t,width:c,height:c,fill:i}),g.jsx(n,{x:u+.1*c,y:u+.1*c,height:l,width:l})]})},N9t=t=>{var s;let e=t.outputSize,n=((o,a)=>{let c=BE.create(o,{errorCorrectionLevel:a}).modules,l=((u,d)=>{let h=u.slice(0),f=[];for(;h.length;)f.push(h.splice(0,d));return f})(Array.from(c.data),c.size);return l=KH(l,0,0,7,7),l=KH(l,l.length-7,0,7,7),KH(l,0,l.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=function(o,{min:a,max:c}){return Math.min(Math.max(o,a),c)}(2*r,{min:.025*e,max:.036*e});return g.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[g.jsx(T9t,{matrix:n,cellSize:r,color:t.fgColor}),g.jsx($9t,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),g.jsx(P9t,{cellSize:r,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:n.length})]})},O9t=Q.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const a9=t=>{let{appearance:e}=qn(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?n:r;return g.jsx(O9t,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:g.jsx(N9t,{url:t.url,logo:{element:t.squareLogoElement??I9t},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},p0=Q.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let Q2e=Q.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const X2e=Q(Q2e).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),R9t=Q(Q2e).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),e3e=Q.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],p0),t3e=({...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),g.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),g.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),N3={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:Gq,md:Gq}}};class Zl{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(n=>n.startsWith("eip155:"))}isSol(e){return e.chains.some(n=>n.startsWith("solana:"))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=Zl.normalize(e);return this.normalizedAllowList.some(i=>r===Zl.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){var c;let r=new Map,i=l=>{let u=r.get(l.id);if(u){u.chainType!==l.chainType&&(u.chainType="multi");let d=new Set(u.chains);l.chains.forEach(h=>d.add(h)),u.chains=Array.from(d),!u.icon&&l.icon&&(u.icon=l.icon),!u.url&&l.url&&(u.url=l.url),!u.listing&&l.listing&&(u.listing=l.listing)}else r.set(l.id,l)};e.filter(l=>this.connectorOk(l)).forEach(l=>{var d,h;let u=Zl.normalize(l.walletClientType);i({id:u,label:((d=l.walletBranding)==null?void 0:d.name)??u,source:"connector",connector:l,chainType:l.chainType,icon:(h=l.walletBranding)==null?void 0:h.icon,url:void 0,chains:[l.chainType==="ethereum"?"eip155":"solana"]})}),n.filter(l=>this.listingOk(l)).forEach(l=>{var m,w;let u=this.isEth(l),d=this.isSol(l),h=Zl.normalize(l.slug),f=N3[l.slug],p=((m=f==null?void 0:f.image_url)==null?void 0:m.sm)||((w=l.image_url)==null?void 0:w.sm);i({id:h,label:l.name||h,source:"listing",listing:l,chainType:u&&d?"multi":u?"ethereum":"solana",icon:p,url:l.homepage,chains:l.chains})});let s=e.find(l=>l.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:Sbe,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(r.values());o.forEach(l=>{var d,h;let u=N3[((d=l.listing)==null?void 0:d.slug)||l.id];(h=u==null?void 0:u.image_url)!=null&&h.sm&&(l.icon=u.image_url.sm)});let a=new Map;return(c=this.normalizedAllowList)==null||c.forEach((l,u)=>{a.set(Zl.normalize(l),u)}),{wallets:o.slice().sort((l,u)=>{let d=Zl.normalize(l.id),h=Zl.normalize(u.id);d==="binance-defi"?d="binance":d==="universalprofiles"?d="universal_profile":d==="cryptocom-defi"&&(d="cryptocom"),h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom");let f=a.has(d),p=a.has(h);return f&&p?a.get(d)-a.get(h):f?-1:p?1:l.source==="connector"&&u.source==="listing"?-1:l.source==="listing"&&u.source==="connector"?1:l.label.toLowerCase().localeCompare(u.label.toLowerCase())}),walletCount:o.length}}constructor(e,n){var r,i,s,o,a;this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=((r=this.normalizedAllowList)==null?void 0:r.includes("detected_wallets"))??!1,this.detectedEth=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((s=this.normalizedAllowList)==null?void 0:s.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((o=this.normalizedAllowList)==null?void 0:o.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((a=this.normalizedAllowList)==null?void 0:a.includes("wallet_connect_qr"))??!1}}var GH=t=>g.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),g.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),g.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),g.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),g.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),g.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),g.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),ZH=t=>g.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[g.jsx("stop",{offset:"0",stopColor:"#9945ff"}),g.jsx("stop",{offset:".2",stopColor:"#7962e7"}),g.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),g.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),g.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const M9t=Q.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),c9=Q.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),j9t=Q.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),B9t=n2(()=>({isModalOpen:!1,resolvers:null}));n2(()=>({}));const D9t=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&Rt.put(L9t(n),r),B9t.setState({wallet:r})},L9t=t=>`privy:${t}:active-wallet-connection`;function n3e({walletList:t,walletChainType:e}){var m;let n=qn(),{connectors:r}=Je(),i=YE(w=>w.listings),s=e??n.appearance.walletChainType,o=t??((m=n.appearance)==null?void 0:m.walletList),a=k.useMemo(()=>new Zl(s,o),[s,o]),{wallets:c,walletCount:l}=k.useMemo(()=>a.getWallets(r,i),[a,r,i]),[u,d]=k.useState(""),h=k.useMemo(()=>u?c.filter(w=>w.label.toLowerCase().includes(u.toLowerCase())):c,[u,c]),[f,p]=k.useState();return{selected:f,setSelected:p,search:u,setSearch:d,wallets:h,walletCount:l}}let r3e=t=>!t||typeof t!="string"&&(t instanceof Vq||t instanceof Qq);const YH=({index:t,style:e,data:n,recent:r})=>{var c,l;let i=n.wallets[t],{walletChainType:s,handleWalletClick:o}=n,a={...e,boxSizing:"border-box"};return i?g.jsxs(bT,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!r3e(i.connector)?g.jsx(M9t,{children:typeof i.icon=="string"?g.jsx(c9,{src:i.icon}):g.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?g.jsx(c9,{src:i.icon}):g.jsx(i.icon,{style:{width:"32px",height:"32px"}})),g.jsx(ET,{children:i.label}),r?g.jsxs(g.Fragment,{children:[g.jsx(j9t,{children:"Last used"}),g.jsx(xT,{children:g.jsxs(g.Fragment,{children:[s==="ethereum-only"&&g.jsx(GH,{}),s==="solana-only"&&g.jsx(ZH,{})]})})]}):g.jsx(xT,{children:!(s==="ethereum-only"||s==="solana-only")&&g.jsxs(g.Fragment,{children:[((c=i.chains)==null?void 0:c.some(u=>u.startsWith("eip155")))&&g.jsx(GH,{}),((l=i.chains)==null?void 0:l.some(u=>u.startsWith("solana")))&&g.jsx(ZH,{})]})})]}):null};var i3e=({className:t,suggestedAddress:e,customDescription:n,connectOnly:r,preSelectedWalletId:i,...s})=>{var O;let o=qn(),{connectors:a}=Je(),c=s.walletChainType||o.appearance.walletChainType,l=s.walletList||((O=o.appearance)==null?void 0:O.walletList),{onBack:u,onClose:d,app:h}=s,{selected:f,setSelected:p,qrUrl:m,setQrUrl:w,connecting:y,uiState:b,wallets:v,walletCount:E,handleConnect:_,handleBack:T,showSearchBar:I,isInitialConnectView:R,title:S,search:B,setSearch:j}=function({onConnect:P,onBack:D,onClose:L,onConnectError:$,walletList:q,walletChainType:V,app:F}){let Z=qn(),{connectors:X}=Je(),{wallets:Y,walletCount:te,search:fe,setSearch:he,selected:pe,setSelected:be}=n3e({walletList:q,walletChainType:V}),[ge,ye]=k.useState(),[ft,we]=k.useState(),[Me,Oe]=k.useState(),Ee=!pe&&!ft&&!Me,$e=Ee&&(te>6||fe.length>0),zt=X.find(kt=>kt.connectorType==="wallet_connect_v2"),Se=k.useCallback(async(kt,K)=>{var z,W;if(kt){if((Me==null?void 0:Me.connector)===kt)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(ye("loading"),typeof kt=="string")return Oe({connector:kt,name:(K==null?void 0:K.name)??"Wallet",icon:K==null?void 0:K.icon}),void window.open(kt,"_blank");Oe({connector:kt,name:(K==null?void 0:K.name)??kt.walletBranding.name??"Wallet",icon:(K==null?void 0:K.icon)??kt.walletBranding.icon});try{let J=await kt.connect({showPrompt:!0});if(!J)return ye("error"),void($==null?void 0:$(new Lr("Unable to connect wallet")));ye("success"),D9t({address:J.address,client:J.walletClientType,appId:Z.id}),setTimeout(()=>{P({connector:kt,wallet:J})},di)}catch(J){if(console.error("ERROR: ",{e:J}),((z=J==null?void 0:J.message)==null?void 0:z.includes("already pending for origin"))||((W=J==null?void 0:J.message)==null?void 0:W.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");ye("error"),$==null||$(new Lr("Unable to connect wallet"))}}},[Z.id,P,Me]),qe=k.useCallback(()=>ft?(ye(void 0),Oe(void 0),void we(void 0)):Me?(ye(void 0),void Oe(void 0)):pe?(ye(void 0),Oe(void 0),void be(void 0)):ge==="error"||ge==="loading"?(ye(void 0),void Oe(void 0)):void(D==null?void 0:D()),[ft,Me,pe,ge,D]),Ye=k.useMemo(()=>(Me==null?void 0:Me.connector)===zt&&ft&&Zr?`Go to ${Me.name} to continue`:(Me==null?void 0:Me.connector)===zt&&ft?`Scan code to connect to ${Me.name}`:typeof(Me==null?void 0:Me.connector)=="string"?`Open or install ${Me.name}`:pe&&!Me?"Select network":Me?null:"Select your wallet",[Me,ft,pe,zt]);return{selected:pe,setSelected:be,qrUrl:ft,setQrUrl:we,connecting:Me,uiState:ge,search:fe,setSearch:he,wallets:Y,walletCount:te,wc:zt,isInitialConnectView:Ee,showSearchBar:$e,title:Ye,handleConnect:Se,handleBack:qe,onClose:L,onConnect:P,app:F}}({...s,walletList:l,walletChainType:c}),U=a.find(P=>P.connectorType==="wallet_connect_v2"),M=k.useRef(null),C=ntt({count:v.length,getScrollElement:()=>M.current,estimateSize:()=>56,overscan:6,gap:5}),x=k.useCallback(async P=>{var V,F,Z,X,Y,te,fe;let D,L=c!=="solana-only"&&((V=P.chains)==null?void 0:V.some(he=>he.startsWith("eip155"))),$=c!=="ethereum-only"&&((F=P.chains)==null?void 0:F.some(he=>he.startsWith("solana"))),q=Jq[P.id];if($&&q)D=q.getMobileRedirect({isSolana:!0,connectOnly:!!r,useUniversalLink:!1});else{let he=(X=(Z=P.listing)==null?void 0:Z.mobile)==null?void 0:X.native;D=((te=(Y=P.listing)==null?void 0:Y.mobile)==null?void 0:te.universal)||he||P.url}if(L&&$){let he=Zl.normalize(P.id),pe=a.filter(ye=>Zl.normalize(ye.walletClientType)===he&&!(ye.chainType==="ethereum"&&ye instanceof Vq||ye.chainType==="solana"&&ye instanceof Qq)),be=pe.find(ye=>ye.chainType==="ethereum"),ge=pe.find(ye=>ye.chainType==="solana");if(!be&&P.listing){let ye=N3[P.listing.slug]?{...P.listing,...N3[P.listing.slug]}:P.listing;U.setWalletEntry(ye,w),await U.resetConnection(P.id),be=U}if(!ge&&D&&(ge=D),be||ge)return void p({eth:be,sol:ge,name:P.label,icon:P.icon})}if(!r3e(P.connector))return((fe=P.connector)==null?void 0:fe.connectorType)==="wallet_connect_v2"&&(await U.resetConnection(P.id),U.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},w)),void await _(P.connector,{name:P.label,icon:P.icon});if(L||$||P.url||P.listing){if(L&&P.listing){let he=N3[P.listing.slug]?{...P.listing,...N3[P.listing.slug]}:P.listing;U.setWalletEntry(he,w),await U.resetConnection(P.id)}if(L&&$)return void p({eth:U,sol:D,name:P.label,icon:P.icon});if($)return void await _(D,{name:P.label,icon:P.icon});if(L)return void(P.listing?await _(U,{name:P.label,icon:P.icon}):P.url?await _(P.url,{name:P.label,icon:P.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",P.label));if(P.url)return void await _(P.url,{name:P.label,icon:P.icon})}},[U,_,p,w,T,d,h,R,S,n,e,o,a]),A=u||T,N=!!u||!R;return k.useEffect(()=>{if(!i)return;let P=v.find(({id:D})=>D===i);P&&x(P).catch(console.error)},[i]),g.jsxs(Sr,{className:t,children:[g.jsx(Sr.Header,{icon:y&&!m||m&&Zr&&(y!=null&&y.icon)?y.icon:y?void 0:t3e,iconVariant:y&&!m||m&&Zr?"loading":void 0,iconLoadingStatus:y&&!m||m&&Zr?{success:b==="success",fail:b==="error"}:void 0,title:y&&!m?`Waiting for ${y.name}`:m&&Zr?`Waiting for ${(y==null?void 0:y.name)??"connection"}`:S,subtitle:y&&!m&&typeof y.connector=="string"?`To connect to ${y.name}, install and open the app. Then confirm the connection when prompted.`:y&&!m&&typeof y.connector!="string"?b==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":R?n??(e?g.jsxs("span",{children:["Connect the wallet with address ",g.jsx(Cn,{address:e})," ",h!=null&&h.name?`to ${h.name}.`:"."]}):h?`Connect a wallet to your ${h.name} account`:null):null,showBack:N,showClose:!0,onBack:A,onClose:d}),g.jsxs(Sr.Body,{ref:M,$colorScheme:o.appearance.palette.colorScheme,style:{marginBottom:m?"0.5rem":void 0},children:[I&&g.jsx(U9t,{children:g.jsxs(X2e,{style:{background:"transparent"},children:[g.jsx(Nf,{children:g.jsx(p6t,{})}),g.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:P=>j(P.target.value),value:B})]})}),m&&Zr&&b==="loading"&&g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:g.jsx(Xy,{variant:"primary",onClick:()=>window.open(m.universal??m.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),m&&!Zr&&b==="loading"&&g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:g.jsx(W9t,{value:m.universal??m.native,iconOnly:!0,children:"Copy link"})}),m&&!Zr&&g.jsx(a9,{size:280,url:m.universal??m.native,squareLogoElement:y!=null&&y.icon?typeof y.icon=="string"?P=>g.jsx("svg",{...P,children:g.jsx("image",{href:y.icon,height:P.height,width:P.width})}):y.icon:Z4t}),g.jsxs(F9t,{children:[y&&!m&&typeof y.connector=="string"&&g.jsxs(bT,{onClick:()=>window.open(y.connector,"_blank"),children:[y.icon&&(typeof y.icon=="string"?g.jsx(c9,{src:y.icon}):g.jsx(y.icon,{})),g.jsx(ET,{children:y.name})]}),(f==null?void 0:f.eth)&&!y&&g.jsxs(bT,{onClick:()=>_(f.eth,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?g.jsx(c9,{src:f.icon}):g.jsx(f.icon,{})),g.jsx(ET,{children:f.name}),g.jsx(xT,{children:g.jsx(GH,{})})]}),(f==null?void 0:f.sol)&&!y&&g.jsxs(bT,{onClick:()=>_(f.sol,{name:f.name,icon:f.icon}),children:[f.icon&&(typeof f.icon=="string"?g.jsx(c9,{src:f.icon}):g.jsx(f.icon,{})),g.jsx(ET,{children:f.name}),g.jsx(xT,{children:g.jsx(ZH,{})})]}),R&&g.jsxs(g.Fragment,{children:[!(E>0)&&g.jsx(z9t,{children:"No wallets found. Try another search."}),E>0&&!m&&g.jsx("div",{style:{maxHeight:56*Math.min(v.length,5)+5,width:"100%"},children:g.jsx("div",{style:{height:`${C.getTotalSize()}px`,width:"100%",position:"relative"},children:C.getVirtualItems().map(P=>g.jsx(YH,{index:P.index,style:{position:"absolute",top:0,left:0,height:`${P.size}px`,transform:`translateY(${P.start}px)`},data:{wallets:v,walletChainType:c,handleWalletClick:x}},P.key))})})]})]})]}),g.jsxs(Sr.Footer,{children:[y&&!m&&typeof y.connector!="string"&&b==="error"&&g.jsx(Sr.Actions,{children:g.jsx(Xy,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>_(y.connector,{name:y.name,icon:y.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&g.jsx(lH,{app:h,alwaysShowImplicitConsent:!0}),g.jsx(Sr.Watermark,{})]})]})};let U9t=Q.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),F9t=Q.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),bT=Q.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),xT=Q.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),z9t=Q.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),ET=Q.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),W9t=Q(S9t).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const q9t=({...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[g.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[g.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_2856_1743",children:g.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),s3e=t=>{var n;let e=(n=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:n.split(" ").filter(r=>Si(r,{strict:!0})).map(r=>Gi(r));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(r=>r.type=="wallet"&&e.includes(r.address)).length)};let o3e=k.createContext({plugins:{current:{}}});const H9t=({children:t})=>{let e=k.useRef({});return g.jsx(o3e.Provider,{value:{plugins:e},children:t})},O3=()=>{let{plugins:t}=k.useContext(o3e);return k.useCallback(e=>t.current[e],[t])},a3e=Symbol("solana-ledger-plugin"),V9t=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>g.jsx(Rn,{title:t,subtitle:e,icon:yF,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i==null||i()}},watermark:!0}),CT={component:()=>{let{navigate:t,app:e}=it(),n=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",r=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return g.jsx(V9t,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(Aa)}})}},K9t=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let c=k.useMemo(()=>{switch(t){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}},[t,s,o,a]),l=k.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return g.jsx(Rn,{icon:t==="loading"||t==="ready"?void 0:t==="success"?$x:QI,iconVariant:l,title:e,subtitle:n,primaryCta:c,watermark:!0})},uh={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=it(),{status:i,token:s,waitForResult:o,reset:a,execute:c}=Hc(),l=k.useRef([]),u=I=>{l.current=[I,...l.current]},[d,h]=k.useState(!0);k.useEffect(()=>(u(setTimeout(h,1e3,!1)),()=>{l.current.forEach(I=>clearTimeout(I)),l.current=[]}),[]);let[f,p]=k.useState(""),[m,w]=k.useState("Checking that you are a human..."),[y,b]=k.useState(!1),[v,E]=k.useState(3),_=e==null?void 0:e.captchaModalData,T=async I=>{try{await(_==null?void 0:_.callback(I)),_!=null&&_.onSuccessNavigateTo&&n(_==null?void 0:_.onSuccessNavigateTo,!1)}catch(R){if(R instanceof H$)return;r({errorModalData:{error:R,previousScreen:t||Aa}}),n((_==null?void 0:_.onErrorNavigateTo)||hi,!1)}};return k.useEffect(()=>{i==="success"?u(setTimeout(async()=>{let I=await o();!I||_!=null&&_.userIntentRequired||T(I)},1e3)):i==="ready"&&u(setTimeout(()=>{i==="ready"&&c()},500))},[i]),k.useEffect(()=>{if(!d)switch(i){case"success":p("Success!"),w("CAPTCHA passed successfully."),_!=null&&_.userIntentRequired||setTimeout(()=>{b(!0),T(s)},2e3);break;case"loading":p(""),w("Checking that you are a human...");break;case"error":p("Something went wrong"),w(v<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,d,y]),g.jsx(K9t,{status:i,title:f,description:m,userIntentRequired:_==null?void 0:_.userIntentRequired,retriesRemaining:v,hasSelectedCta:y,onContinue:()=>{b(!0),T(s)},onRetry:async()=>{if(v<=0)return;E(R=>R-1),a(),c();let I=await o();!I||_!=null&&_.userIntentRequired||T(I)}})}},G9t=t=>g.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:g.jsx("g",{children:g.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),Z9t=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>g.jsx(Rn,{title:n,subtitle:g.jsx(Q9t,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:g.jsxs(J9t,{children:[g.jsx(gbe,{style:{width:"48px",height:"48px"}}),g.jsx(Fit,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),g.jsx(G9t,{style:{width:"48px",height:"48px"}})]})}),Y9t={component:function(){let{data:t,setModalData:e,navigate:n}=it();return g.jsx(Z9t,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),n(g0)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),n(g0)}})}};let J9t=Q.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),Q9t=Q.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const X9t=({style:t,...e})=>g.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:g.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),eCt=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>g.jsx(Rn,{title:t,subtitle:e,icon:X9t,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),l9={component:()=>{let{navigate:t}=it();return g.jsx(eCt,{onGoBack:()=>{t(Aa)}})}},c3e=t=>(t==null?void 0:t.privyErrorCode)===le.LINKED_TO_ANOTHER_USER?Sm.ERROR_USER_EXISTS:t instanceof _a&&!t.details.default?t.details:t instanceof lbe?Sm.ERROR_TIMED_OUT:t instanceof ube?Sm.ERROR_USER_REJECTED_CONNECTION:(t==null?void 0:t.privyErrorCode)===le.CANNOT_LINK_MORE_OF_TYPE?Sm.ERROR_USER_LIMIT_REACHED:Sm.ERROR_WALLET_CONNECTION,tCt=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:c,walletConnectFallbackUniversalUri:l,hasTabbedAway:u,showCoinbaseWalletResetCta:d,numRetries:h,onBack:f,onSign:p,onRetry:m,onCoinbaseReset:w,onDifferentWallet:y})=>{let b=d?{label:"Use a different wallet",onClick:w,disabled:r}:i===Sm.ERROR_USER_EXISTS&&f?{label:"Use a different wallet",onClick:y}:s&&!r&&o?{label:a?"Signing":"Sign with your wallet",onClick:p,disabled:a}:!r&&(i!=null&&i.retryable)&&h<2?{label:"Retry",onClick:m,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return g.jsx(Rn,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:b,onBack:f,watermark:!0,children:!s&&c&&!u&&g.jsxs(nCt,{children:["Still here?"," ",g.jsx(T3,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),l&&g.jsxs(g.Fragment,{children:[" ","or"," ",g.jsx(T3,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},g0={component:()=>{var ft,we,Me,Oe,Ee,$e,zt,Se,qe,Ye,kt,K,z,W,J;let t,[e,n]=k.useState(!1),[r,i]=k.useState(!1),[s,o]=k.useState(void 0),{authenticated:a,logout:c}=Sn(),{app:l,navigate:u,navigateBack:d,lastScreen:h,currentScreen:f,setModalData:p,data:m}=it(),{getAuthFlow:w,walletConnectionStatus:y,closePrivyModal:b,initLoginWithWallet:v,loginWithWallet:E,updateWallets:_,createAnalyticsEvent:T}=Je(),{walletConnectors:I}=Sn(),[R,S]=k.useState(0),{user:B}=Sn(),j=O3(),[U]=k.useState((B==null?void 0:B.linkedAccounts.length)||0),[M,C]=k.useState(""),[x,A]=k.useState(""),[N,O]=k.useState(!1),{hasTabbedAway:P}=function(){let[ee,ce]=k.useState(!1),se=k.useCallback(()=>{document.hidden&&ce(!0)},[]);return k.useEffect(()=>(document.addEventListener("visibilitychange",se),()=>document.removeEventListener("visibilitychange",se)),[se]),{hasTabbedAway:ee,reset:()=>ce(!1)}}(),{enabled:D,token:L}=Hc(),$=u0(((ft=y==null?void 0:y.connector)==null?void 0:ft.walletClientType)||"unknown"),q=Zr&&((we=y==null?void 0:y.connector)==null?void 0:we.connectorType)==="wallet_connect_v2"||Zr&&((Me=y==null?void 0:y.connector)==null?void 0:Me.connectorType)==="coinbase_wallet"||Zr&&((Oe=y==null?void 0:y.connector)==null?void 0:Oe.connectorType)==="base_account"||Zr&&((Ee=y==null?void 0:y.connector)==null?void 0:Ee.connectorType)==="injected"&&(($e=y==null?void 0:y.connector)==null?void 0:$e.walletClientType)==="phantom"||Zr&&((zt=y==null?void 0:y.connector)==null?void 0:zt.connectorType)==="solana_adapter"&&y.connector.walletClientType==="mobile_wallet_adapter",V=(y==null?void 0:y.status)==="connected",F=(y==null?void 0:y.status)==="switching_to_supported_chain";k.useEffect(()=>{var se,Re,et,He,nt,Pe;let ee=w(),ce=ee instanceof g3||ee instanceof z$?ee:void 0;V&&((se=y.connector)==null?void 0:se.chainType)==="solana"&&((Re=y.connector)==null?void 0:Re.walletClientType)==="phantom"&&j(a3e)&&((et=m==null?void 0:m.login)==null?void 0:et.isSigningInWithLedgerSolana)===void 0?u(Y9t,!1):(V&&!ce&&(!D||L||a?v(y.connectedWallet,L,(He=m==null?void 0:m.login)==null?void 0:He.disableSignup,(nt=m==null?void 0:m.login)!=null&&nt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{O(!0)}):(p({captchaModalData:{callback:Wt=>{var sn,nn;return v(y.connectedWallet,Wt,(sn=m==null?void 0:m.login)==null?void 0:sn.disableSignup,(nn=m==null?void 0:m.login)!=null&&nn.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{O(!0)})},userIntentRequired:!1,onSuccessNavigateTo:g0,onErrorNavigateTo:hi}}),u(uh,!1))),ce instanceof z$&&((Pe=m==null?void 0:m.login)!=null&&Pe.isSigningInWithLedgerSolana)&&(ce.messageType="transaction"),ce&&q&&V&&!ce.preparedMessage?ce.buildMessage():ce&&!q&&V&&(r||(async()=>{var Wt,sn;i(!0),o(void 0);try{((Wt=y==null?void 0:y.connector)==null?void 0:Wt.connectorType)==="wallet_connect_v2"&&((sn=y==null?void 0:y.connector)==null?void 0:sn.walletClientType)==="metamask"&&await W$(2500),await X()}catch(nn){console.warn("Auto-prompted signature failed",nn)}finally{i(!1)}})()))},[R,V,N]),k.useEffect(()=>{if(B&&e){let ee=900;if(l!=null&&l.legal.requireUsersAcceptTerms&&!B.hasAcceptedTerms){let se=setTimeout(()=>{u(ow)},ee);return()=>clearTimeout(se)}if(Om(B,l.embeddedWallets)){let se=setTimeout(()=>{p({createWallet:{onSuccess:()=>{},onFailure:Re=>{console.error(Re),T({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Re,screen:"ConnectionStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),u(f0)},ee);return()=>clearTimeout(se)}_();let ce=setTimeout(()=>b({shouldCallAuthOnSuccess:!0,isSuccess:!0}),di);return()=>clearTimeout(ce)}},[B,e]);let Z=ee=>{var ce,se,Re,et,He,nt,Pe,Wt,sn,nn,pt,ri,xt,$n;if((ee==null?void 0:ee.privyErrorCode)!==le.ALLOWLIST_REJECTED){if((ee==null?void 0:ee.privyErrorCode)===le.USER_LIMIT_REACHED)return console.error(new Z8(ee).toString()),void u(l9);if((ee==null?void 0:ee.privyErrorCode)!==le.USER_DOES_NOT_EXIST)return(ee==null?void 0:ee.privyErrorCode)===le.ACCOUNT_TRANSFER_REQUIRED&&((se=(ce=ee.data)==null?void 0:ce.data)!=null&&se.nonce)?(p({accountTransfer:{nonce:(et=(Re=ee.data)==null?void 0:Re.data)==null?void 0:et.nonce,account:(He=w())==null?void 0:He.meta.address,displayName:(Wt=(Pe=(nt=ee.data)==null?void 0:nt.data)==null?void 0:Pe.account)==null?void 0:Wt.displayName,externalWalletMetadata:{walletClientType:(sn=w())==null?void 0:sn.meta.walletClientType,chainId:(nn=w())==null?void 0:nn.meta.chainId,connectorType:(pt=w())==null?void 0:pt.meta.connectorType},linkMethod:w()instanceof g3?"siwe":"siws",embeddedWalletAddress:($n=(xt=(ri=ee.data)==null?void 0:ri.data)==null?void 0:xt.otherUser)==null?void 0:$n.embeddedWalletAddress}}),void u(sw)):void o(c3e(ee));u(i9)}else u(CT)};async function X(){try{await E(),n(!0)}catch(ee){Z(ee)}finally{i(!1)}}k.useEffect(()=>{y!=null&&y.connectError&&Z(y==null?void 0:y.connectError)},[y]),((ee,ce)=>{let se=k.useRef(()=>{});k.useEffect(()=>{se.current=ee}),k.useEffect(()=>{if(ce!==null){let Re=setInterval(()=>se.current(),ce||0);return()=>clearInterval(Re)}},[ce])})(()=>{let ee=Y==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof E3?y.connector.redirectUri:void 0;ee&&C(ee);let ce=Y==="wallet_connect_v2"&&(y==null?void 0:y.connector)instanceof E3?y.connector.fallbackUniversalRedirectUri:void 0;ce&&A(ce)},(y==null?void 0:y.connector)instanceof E3&&!M?500:null);let Y=((Se=y==null?void 0:y.connector)==null?void 0:Se.connectorType)||"injected",te=((qe=y==null?void 0:y.connector)==null?void 0:qe.walletClientType)||"unknown",fe=((Ye=$==null?void 0:$.metadata)==null?void 0:Ye.shortName)||($==null?void 0:$.name)||((kt=y==null?void 0:y.connector)==null?void 0:kt.walletBranding.name)||"Browser Extension",he=((K=$==null?void 0:$.image_url)==null?void 0:K.md)||((z=y==null?void 0:y.connector)==null?void 0:z.walletBranding.icon)||(ee=>g.jsx(Kq,{...ee})),pe=fe==="Browser Extension"?fe.toLowerCase():fe;t=e?`Successfully connected with ${pe}`:s?s.message:F?"Switching networks":V?r&&q?"Signing":"Sign to verify":`Waiting for ${pe}`;let be="Dont see your wallet? Check your other browser windows.";e?be=U===((B==null?void 0:B.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":R>=2&&s?be="Unable to connect wallet":s?be=s.detail:F?be="Switch your wallet to the requested network.":V&&q?be="Sign the message in your wallet to verify it belongs to you.":te==="metamask"&&Zr?be="Click continue to open and connect MetaMask.":te==="metamask"?be="For the best experience, connect only one wallet at a time.":Y==="wallet_connect"?be="Open your mobile wallet app to continue":Y==="coinbase_wallet"?Xve()||(be=s3e(B)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(W=m==null?void 0:m.login)!=null&&W.isSigningInWithLedgerSolana&&(be="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let ge=(J=I==null?void 0:I.walletConnectors)==null?void 0:J.find(ee=>ee.walletClientType==="coinbase_wallet"),ye=te==="coinbase_wallet"&&(s3e(B)||s===Sm.ERROR_USER_EXISTS);return g.jsx(tCt,{walletLogo:he,title:t,subtitle:be,signSuccess:e,errorMessage:s,connectSuccess:V,separateConnectAndSign:q,signing:r,walletConnectRedirectUri:M,walletConnectFallbackUniversalUri:x,hasTabbedAway:P,showCoinbaseWalletResetCta:ye,numRetries:R,onBack:h&&f!==h?d:void 0,onSign:()=>{i(!0),X()},onRetry:()=>{S(R+1),o(void 0),V?(i(!0),X()):y==null||y.connectRetry()},onCoinbaseReset:()=>{ge&&(ge==null||ge.disconnect())},onDifferentWallet:d})}};let nCt=Q.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const _T={component:()=>{var p,m,w,y,b,v,E;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=Je(),{app:r,data:i,navigate:s}=it(),o=d0(),a=(p=i==null?void 0:i.externalConnectWallet)==null?void 0:p.description,c=k.useRef((m=i==null?void 0:i.externalConnectWallet)==null?void 0:m.suggestedAddress).current,l=k.useRef(((w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.walletList)??r.appearance.walletList),u=k.useRef(((y=i==null?void 0:i.externalConnectWallet)==null?void 0:y.walletChainType)??r.appearance.walletChainType),d=l.current,h=u.current,f=n.current==="link"?void 0:()=>s(Aa);return g.jsx(i3e,{walletList:d,walletChainType:h,onClose:e,onConnect:k.useCallback(({connector:_,wallet:T})=>{var I;o("connectWallet","onSuccess",{wallet:T}),t({status:"connected",connectedWallet:T,connector:_,connectError:null,connectRetry:()=>null}),s(g0,!((I=i==null?void 0:i.externalConnectWallet)!=null&&I.preSelectedWalletId))},[t,s,(b=i==null?void 0:i.login)==null?void 0:b.disableSignup,(v=i==null?void 0:i.externalConnectWallet)==null?void 0:v.preSelectedWalletId]),onConnectError:_=>{_ instanceof da?(console.warn(_.cause?_.cause:_.message),o("connectWallet","onError",_.privyErrorCode||le.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(_),o("connectWallet","onError",le.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:f,suggestedAddress:c,customDescription:a||"",preSelectedWalletId:(E=i==null?void 0:i.externalConnectWallet)==null?void 0:E.preSelectedWalletId,app:r})},isUnauthenticatedScreem:!0},JH={component:()=>{var c,l,u,d;let{closePrivyModal:t}=Je(),{app:e,data:n}=it(),r=d0(),i=(c=n==null?void 0:n.externalConnectWallet)==null?void 0:c.description,s=k.useRef((l=n==null?void 0:n.externalConnectWallet)==null?void 0:l.suggestedAddress).current,o=k.useRef(((u=n==null?void 0:n.externalConnectWallet)==null?void 0:u.walletList)??e.appearance.walletList),a=k.useRef(((d=n==null?void 0:n.externalConnectWallet)==null?void 0:d.walletChainType)??e.appearance.walletChainType);return g.jsx(i3e,{walletList:o.current,walletChainType:a.current,onClose:()=>{r("connectWallet","onError",le.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:h})=>{r("connectWallet","onSuccess",{wallet:h}),t()},onConnectError:h=>{h instanceof da?(console.warn(h.cause?h.cause:h.message),r("connectWallet","onError",h.privyErrorCode||le.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(h),r("connectWallet","onError",le.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:s,customDescription:i,app:e})},isUnauthenticatedScreem:!0},l3e=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",g.jsx(g8t,{$withPadding:e,children:g.jsxs(m8t,{children:[g.jsx(t2,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),g.jsx("h3",{children:"No wallets available"}),g.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")};let rCt=xde(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const AT=Ps(["",""],t=>t.$isLoading?Ps(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],rCt):""),Of=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>g.jsx(iCt,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let iCt=Q.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=xde(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return Ps(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&Ps(["animation:"," 3s linear infinite;"],r))},AT);const aw=t=>g.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),g.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[g.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),g.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),g.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),g.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_1715_1960",children:g.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),u3e=t=>{let[e,n]=k.useState(!1);return g.jsx(sCt,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout(()=>n(!1),1500)},justOpened:e,children:t.text})};let sCt=Q.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const Kc=Q.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let oCt=Q.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),aCt=Q.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),cCt=Q.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),d3e=Q.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),lCt=Q(d3e).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),uCt=Q(Kc).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),dCt=Q(oh).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const hCt=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[c,l]=k.useState(!1),u=s&&t?((d,h,f)=>{if((d=d.startsWith("https://")?d.slice(8):d).length<=f)return d;if(h==="middle"){let p=Math.ceil(f/2)-2,m=Math.floor(f/2)-1;return`${d.slice(0,p)}...${d.slice(-m)}`}return`${d.slice(0,f-3)}...`})(t,s,o):t;return k.useEffect(()=>{if(c){let d=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(d)}},[c]),g.jsxs(oCt,{className:r,children:[e&&g.jsx(uCt,{children:e}),g.jsxs(aCt,{$disabled:a,children:[g.jsx(cCt,{children:t?g.jsx(d3e,{$disabled:a,title:t,children:u}):g.jsx(lCt,{$disabled:a,children:n||"No value"})}),i&&t&&g.jsx(dCt,{onClick:function(d){d.stopPropagation(),navigator.clipboard.writeText(t).then(()=>l(!0)).catch(console.error)},size:"sm",children:g.jsxs(g.Fragment,c?{children:["Copied",g.jsx(kx,{size:14})]}:{children:["Copy",g.jsx(XI,{size:14})]})})]})]})},fCt=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:o})=>g.jsx(Rn,Zr||e?XM?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:aw,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:aw,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:t&&Zr&&g.jsx(pCt,{children:g.jsx(u3e,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:g.jsxs(gCt,{children:[g.jsx(mCt,{children:t?g.jsx(a9,{url:t,size:275,squareLogoElement:aw}):g.jsx(vCt,{children:g.jsx(Qu,{})})}),g.jsxs(yCt,{children:[g.jsx(wCt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&g.jsx(hCt,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),QH={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:c}=it(),{getAuthFlow:l,loginWithFarcaster:u,closePrivyModal:d,createAnalyticsEvent:h}=Je(),[f,p]=k.useState(void 0),[m,w]=k.useState(!1),[y,b]=k.useState(!1),v=k.useRef([]),E=l(),_=E==null?void 0:E.meta.connectUri;return k.useEffect(()=>{let T=Date.now(),I=setInterval(async()=>{var B,j,U,M,C,x,A,N,O,P,D,L,$,q,V;let R=await E.pollForReady.execute(),S=Date.now()-T;if(R){clearInterval(I),w(!0);try{await u(),b(!0)}catch(F){let Z={retryable:!1,message:"Authentication failed"};if((F==null?void 0:F.privyErrorCode)===le.ALLOWLIST_REJECTED)return void s(CT);if((F==null?void 0:F.privyErrorCode)===le.USER_LIMIT_REACHED)return console.error(new Z8(F).toString()),void s(l9);if((F==null?void 0:F.privyErrorCode)===le.USER_DOES_NOT_EXIST)return void s(i9);if((F==null?void 0:F.privyErrorCode)===le.LINKED_TO_ANOTHER_USER)Z.detail=F.message??"This account has already been linked to another user.";else{if((F==null?void 0:F.privyErrorCode)===le.ACCOUNT_TRANSFER_REQUIRED&&((j=(B=F.data)==null?void 0:B.data)!=null&&j.nonce))return a({accountTransfer:{nonce:(M=(U=F.data)==null?void 0:U.data)==null?void 0:M.nonce,account:(x=(C=F.data)==null?void 0:C.data)==null?void 0:x.subject,displayName:(O=(N=(A=F.data)==null?void 0:A.data)==null?void 0:N.account)==null?void 0:O.displayName,linkMethod:"farcaster",embeddedWalletAddress:(L=(D=(P=F.data)==null?void 0:P.data)==null?void 0:D.otherUser)==null?void 0:L.embeddedWalletAddress,farcasterEmbeddedAddress:(V=(q=($=F.data)==null?void 0:$.data)==null?void 0:q.otherUser)==null?void 0:V.farcasterEmbeddedAddress}}),void s(sw);(F==null?void 0:F.privyErrorCode)===le.INVALID_CREDENTIALS?(Z.retryable=!0,Z.detail="Something went wrong. Try again."):(F==null?void 0:F.privyErrorCode)===le.TOO_MANY_REQUESTS&&(Z.detail="Too many requests. Please wait before trying again.")}p(Z)}}else S>12e4&&(clearInterval(I),p({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(I),v.current.forEach(R=>clearTimeout(R))}},[]),k.useEffect(()=>{if(n&&t&&y&&r){if(c!=null&&c.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let T=setTimeout(()=>{s(ow)},di);return()=>clearTimeout(T)}y&&(Om(r,c.embeddedWallets)?v.current.push(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:T=>{console.error(T),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:T,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(f0)},di)):v.current.push(setTimeout(()=>d({shouldCallAuthOnSuccess:!0,isSuccess:!0}),di)))}},[y,n,t,r]),g.jsx(fCt,{connectUri:_,loading:m,success:y,errorMessage:f,onBack:i?o:void 0,onClose:d,onOpenFarcaster:()=>{_&&(window.location.href=_)}})}};let pCt=Q.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),gCt=Q.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),mCt=Q.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),yCt=Q.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),wCt=Q.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),vCt=Q.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const h3e=()=>{let[t,e]=k.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=it(),{enabled:o,token:a}=Hc(),{initLoginWithFarcaster:c}=Je(),{accountType:l}=Nm();return g.jsxs(xi,{onClick:async()=>{var u;e(!0);try{o&&!a?(i({captchaModalData:{callback:d=>{var h;return c(d,(h=s==null?void 0:s.login)==null?void 0:h.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:QH,onErrorNavigateTo:hi}}),r(uh)):(await c(a,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),r(QH))}catch(d){i({errorModalData:{error:d,previousScreen:n||Aa}}),r(hi)}finally{e(!1)}},disabled:!1,children:[g.jsx(aw,{width:32,height:32})," Farcaster",t&&g.jsx($m,{}),l==="farcaster"&&g.jsx(bCt,{color:"gray",children:"Recent"})]})};let bCt=Q(Of).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const xCt=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>g.jsx(Rn,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:g.jsx(ECt,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof da){if(n.privyErrorCode===le.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===le.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:ek,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),R3={component:()=>{let{app:t,data:e,setModalData:n,navigate:r}=it(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=Je(),{user:c,logout:l}=Sn(),{passkeySignupFlow:u}=(e==null?void 0:e.passkeyAuthModalData)??{},[d,h]=k.useState("loading"),[f,p]=k.useState(null),m=k.useRef([]),w=b=>{m.current=[b,...m.current]};k.useEffect(()=>()=>{m.current.forEach(b=>clearTimeout(b)),m.current=[]},[]);let y=async()=>{h("loading");try{u?await s():await i(),h("success")}catch(b){p(b),h("error")}};return k.useEffect(()=>{if(d==="success"&&c){if(t!=null&&t.legal.requireUsersAcceptTerms&&!c.hasAcceptedTerms)return void w(setTimeout(()=>{r(ow)},900));if(!Om(c,t==null?void 0:t.embeddedWallets))return void w(setTimeout(()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})},di));w(setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:b=>{console.error(b),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:b,screen:"PasskeyStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),r(f0)},900))}},[c,d]),k.useEffect(()=>{y()},[]),g.jsx(xCt,{status:d,passkeySignupFlow:u,error:f,onRetry:y})}};let ECt=Q.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const CCt=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>g.jsx(Rn,{title:t,subtitle:e,icon:ek,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),_Ct={component:()=>{let{enabled:t,token:e}=Hc(),{navigate:n,setModalData:r}=it(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=Je();return g.jsx(CCt,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:R3,onErrorNavigateTo:hi}}),n(uh)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(R3))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:R3,onErrorNavigateTo:hi}}),n(uh)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(R3))}})}},f3e=()=>{let{enabled:t,token:e}=Hc(),{navigate:n,setModalData:r,app:i,data:s}=it(),{initLoginWithPasskey:o}=Je(),a=()=>{i.loginConfig.passkeysForSignupEnabled?n(_Ct):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:c=>o({captchaToken:c,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:R3,onErrorNavigateTo:hi}}),n(uh)):(await o({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(R3)))()};return k.useMemo(()=>{var l;let c=(l=s==null?void 0:s.login)==null?void 0:l.loginMethods;return c?c.filter(u=>u!=="passkey").length:Object.entries(i.loginMethods).filter(([u,d])=>d).filter(([u])=>u!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?g.jsxs(xi,{onClick:a,children:[g.jsx(TU,{})," Continue with passkey"]}):g.jsx(T3,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},ACt=({value:t,onChange:e})=>g.jsx("select",{value:t,onChange:e,children:VKe.map(n=>g.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code))}),ST=k.forwardRef((t,e)=>{let{app:n}=it(),[r,i]=k.useState(!1),{accountType:s}=Nm(),[o,a]=k.useState(""),[c,l]=k.useState((n==null?void 0:n.intl.defaultCountry)??"US"),u=OS(o,c),d=HKe(c),h=KKe(c),f=$L(c),p=!u,[m,w]=k.useState(!1),y=f.length,b=_=>{let T=_.target.value;l(T),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:TL(o,T),countryCode:T,isValid:OS(o,c)})},v=(_,T)=>{try{let I=_.replace(/\D/g,"")===o.replace(/\D/g,"")?_:d.input(_);a(I),t.onChange&&t.onChange({rawPhoneNumber:I,qualifiedPhoneNumber:TL(_,T),countryCode:T,isValid:OS(_,T)})}catch(I){console.error("Error processing phone number:",I)}},E=()=>{w(!0);let _=TL(o,c);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:_,countryCode:c,isValid:OS(o,c)}).finally(()=>w(!1))};return k.useEffect(()=>{if(t.defaultValue){let _=GKe(t.defaultValue);d.reset(),b({target:{value:_.countryCode}}),v(_.phone,_.countryCode)}},[t.defaultValue]),g.jsxs(g.Fragment,{children:[g.jsx(SCt,{children:g.jsxs(ICt,{$callingCodeLength:y,$stacked:t.stacked,children:[g.jsx(ACt,{value:c,onChange:b}),g.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:h,onFocus:()=>i(!0),onChange:_=>{v(_.target.value,c)},onKeyUp:_=>{_.key==="Enter"&&E()},value:o,autoComplete:"tel"}),s!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?g.jsx("span",{}):g.jsx(eT,{isSubmitting:m,onClick:E,disabled:p,children:"Submit"}):g.jsx(Of,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?g.jsx(wr,{loading:m,loadingText:null,onClick:E,disabled:p,children:"Submit"}):null]})});let SCt=Q.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),ICt=Q.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const p3e=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=k.useRef(null),{authenticated:i}=Sn(),{navigate:s,setModalData:o,currentScreen:a,data:c}=it(),{initLoginWithSms:l}=Je(),{enabled:u,token:d}=Hc(),{whatsAppEnabled:h}=qn();return g.jsxs(g.Fragment,{children:[g.jsx(_3,{$if:!t,children:g.jsx(ST,{ref:r,onSubmit:async function({qualifiedPhoneNumber:f}){var p;if(!u||d||i)try{await l({phoneNumber:f,captchaToken:d,withPrivyUi:!0,disableSignup:(p=c==null?void 0:c.login)==null?void 0:p.disableSignup}),s(m0)}catch(m){o({errorModalData:{error:m,previousScreen:a||Aa}}),s(hi)}else o({captchaModalData:{callback:m=>{var w;return l({phoneNumber:f,captchaToken:m,withPrivyUi:!0,disableSignup:(w=c==null?void 0:c.login)==null?void 0:w.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:m0,onErrorNavigateTo:hi}}),s(uh)},defaultValue:n})}),g.jsx(_3,{$if:t,children:g.jsxs(xi,{onClick:()=>{e(),setTimeout(()=>{var f;(f=r.current)==null||f.focus()},0)},children:[g.jsx(Nf,{children:g.jsx(Xfe,{})}),"Continue with ",h?"WhatsApp":"SMS"]})})]})};let kCt={apple:{logo:Uve,displayName:"Apple"},discord:{logo:Fve,displayName:"Discord"},github:{logo:zve,displayName:"GitHub"},google:{logo:Wve,displayName:"Google"},linkedin:{logo:Vve,displayName:"LinkedIn"},spotify:{logo:Kve,displayName:"Spotify"},instagram:{logo:qve,displayName:"Instagram"},twitter:{logo:Zve,displayName:"Twitter"},tiktok:{logo:Gve,displayName:"TikTok"},line:{logo:Hve,displayName:"LINE"}};const bs=({provider:t})=>{let{enabled:e,token:n}=Hc(),{navigate:r,setModalData:i,data:s}=it(),[o,a]=k.useState(!1),{initLoginWithOAuth:c}=Je(),{accountType:l}=Nm(),u=k.useMemo(()=>l&&l!=="guest"&&l!=="authorization_key"&&l!=="cross_app"?wT(l):null,[l]),{displayName:d,logo:h}=kCt[t];return g.jsxs(xi,{onClick:()=>{var f;a(!0),setTimeout(()=>{a(!1)},2e3),e&&!n?(i({captchaModalData:{callback:p=>{var m;return c(t,p,(m=s==null?void 0:s.login)==null?void 0:m.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:hi}}),r(uh)):c(t,void 0,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},disabled:o,children:[g.jsx(Nf,{$fullSize:!0,children:g.jsx(h,{style:{width:"32px",height:"32px"}})}),d,(u==null?void 0:u.loginMethod)===t&&g.jsx($Ct,{color:"gray",children:"Recent"})]})};let $Ct=Q(Of).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function g3e(t){return g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[g.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),g.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),g.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),g.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const TCt=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return g.jsx(Rn,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:g3e,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},IT={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:c}=it(),{initLoginWithTelegram:l,loginWithTelegram:u,updateWallets:d,setReadyToTrue:h,closePrivyModal:f,createAnalyticsEvent:p,getAuthMeta:m}=Je(),[w,y]=k.useState(!1),[b,v]=k.useState(void 0),E=Hc();async function _(){var T,I,R,S,B,j,U,M,C,x,A,N,O,P;try{let D=await async function(){let L;if(!t){if(E.enabled&&E.status==="error")throw new H$(E.error,null,le.CAPTCHA_FAILURE);return E.enabled&&E.status!=="success"&&(E.execute(),L=await E.waitForResult()),L}}();await u({captchaToken:D}),y(!0),h(!0)}catch(D){if((D==null?void 0:D.privyErrorCode)===le.ALLOWLIST_REJECTED)return v(void 0),a(),void o(CT);if((D==null?void 0:D.privyErrorCode)===le.USER_LIMIT_REACHED)return console.error(new Z8(D).toString()),v(void 0),a(),void o(l9);if((D==null?void 0:D.privyErrorCode)===le.USER_DOES_NOT_EXIST)return v(void 0),a(),void o(i9);if((D==null?void 0:D.privyErrorCode)===le.ACCOUNT_TRANSFER_REQUIRED&&((I=(T=D.data)==null?void 0:T.data)!=null&&I.nonce))return v(void 0),a(),s({accountTransfer:{nonce:(S=(R=D.data)==null?void 0:R.data)==null?void 0:S.nonce,account:(j=(B=D.data)==null?void 0:B.data)==null?void 0:j.subject,telegramAuthResult:(U=m())==null?void 0:U.telegramAuthResult,telegramWebAppData:(M=m())==null?void 0:M.telegramWebAppData,displayName:(A=(x=(C=D.data)==null?void 0:C.data)==null?void 0:x.account)==null?void 0:A.displayName,linkMethod:"telegram",embeddedWalletAddress:(P=(O=(N=D.data)==null?void 0:N.data)==null?void 0:O.otherUser)==null?void 0:P.embeddedWalletAddress}}),void o(sw);let{retryable:L,detail:$}=rbe(D);v({retryable:L,detail:$,message:"Authentication failed"})}}return k.useEffect(()=>{_()},[]),k.useEffect(()=>{if(!(n&&t&&w&&r))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let I=setTimeout(()=>{o(ow)},di);return()=>clearTimeout(I)}if(Om(r,i.embeddedWallets)){let I=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),p({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(f0)},di);return()=>clearTimeout(I)}d();let T=setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),di);return()=>clearTimeout(T)},[n,t,w,r]),g.jsx(TCt,{success:w,errorMessage:b,onRetry:b!=null&&b.retryable?async()=>{var T,I;try{v(void 0),(T=c==null?void 0:c.telegramAuthModalData)!=null&&T.seamlessAuth||await l(void 0,(I=c==null?void 0:c.login)==null?void 0:I.disableSignup),await _()}catch(R){let{retryable:S,detail:B}=rbe(R);v({retryable:S,detail:B,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},m3e=()=>{let{enabled:t,token:e}=Hc(),{navigate:n,setModalData:r,data:i}=it(),[s,o]=k.useState(!1),{initLoginWithTelegram:a}=Je(),{accountType:c}=Nm();async function l(u){var d;try{await a(u,(d=i==null?void 0:i.login)==null?void 0:d.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(IT)}catch(h){console.error(h),o(!1)}}return g.jsxs(xi,{onClick:async function(){if(o(!0),t&&!e)return r({captchaModalData:{callback:l,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:hi}}),void n(uh);await l(e)},disabled:s,children:[g.jsx(g3e,{width:32,height:32}),"Telegram",c==="telegram"&&g.jsx(PCt,{color:"gray",children:"Recent"})]})};let PCt=Q(Of).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const y3e=({onClick:t,text:e})=>g.jsxs(xi,{onClick:t,children:[g.jsx(Nf,{children:g.jsx(Yit,{})}),g.jsx(km,{children:e})]}),w3e=({onClick:t,text:e,icon:n})=>g.jsxs(xi,{onClick:t,children:[g.jsx(Nf,{children:n}),g.jsx(km,{children:e})]}),v3e=({connectOnly:t})=>{var zt;let{closePrivyModal:e}=Je(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=it(),o=qn(),a=n==null?void 0:n.login,c=o.appearance.walletList,l=(a==null?void 0:a.walletChainType)??o.appearance.walletChainType,{accountType:u,walletClientType:d,chainType:h}=Nm(),{wallets:f}=n3e({walletList:c,walletChainType:l}),p=k.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?wT(u):null,[u]),{email:m,sms:w,google:y,twitter:b,discord:v,github:E,spotify:_,instagram:T,tiktok:I,line:R,linkedin:S,apple:B,wallet:j,farcaster:U,telegram:M}=k.useMemo(()=>a!=null&&a.loginMethods?ZKe(a.loginMethods,!0):null,[a])??o.loginMethods,{passkey:C}=o.loginMethods,x=[m&&"email",w&&"sms",y&&"google",b&&"twitter",v&&"discord",E&&"github",_&&"spotify",T&&"instagram",I&&"tiktok",R&&"line",S&&"linkedin",B&&"apple",U&&"farcaster",M&&"telegram"].filter(Se=>!!Se),A=x.length>0,N=k.useMemo(()=>j&&!A?"web3-first":j&&(o==null?void 0:o.appearance.loginGroupPriority)||"web2-first",[j,A,o==null?void 0:o.appearance.loginGroupPriority]),O=o==null?void 0:o.appearance.hideDirectWeb2Inputs,[P,D]=k.useState("default"),[L,$]=k.useState(kT({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(zt=a==null?void 0:a.prefill)==null?void 0:zt.type}));k.useEffect(()=>{var Se;$(kT({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(Se=a==null?void 0:a.prefill)==null?void 0:Se.type}))},[m,w,u]);let q=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{D("default")},150)};i.current=q;let V=[];d&&j?V.push(d):p!=null&&p.loginMethod&&x.includes(p.loginMethod)&&V.push(p.loginMethod);let F=Se=>{var kt,K;if(Se==="email")return g.jsx(A3e,{isEditable:L==="email",setIsEditable:()=>{$("email")},defaultValue:((kt=a==null?void 0:a.prefill)==null?void 0:kt.type)==="email"?a.prefill.value:void 0},Se);if(Se==="sms")return g.jsx(p3e,{isEditable:L==="sms",setIsEditable:()=>{$("sms")},defaultValue:((K=a==null?void 0:a.prefill)==null?void 0:K.type)==="phone"?a.prefill.value:void 0},Se);if(Se==="apple")return g.jsx(bs,{provider:"apple"},Se);if(Se==="discord")return g.jsx(bs,{provider:"discord"},Se);if(Se==="farcaster")return g.jsx(h3e,{},Se);if(Se==="github")return g.jsx(bs,{provider:"github"},Se);if(Se==="google")return g.jsx(bs,{provider:"google"},Se);if(Se==="linkedin")return g.jsx(bs,{provider:"linkedin"},Se);if(Se==="tiktok")return g.jsx(bs,{provider:"tiktok"},Se);if(Se==="line")return g.jsx(bs,{provider:"line"},Se);if(Se==="spotify")return g.jsx(bs,{provider:"spotify"},Se);if(Se==="instagram")return g.jsx(bs,{provider:"instagram"},Se);if(Se==="twitter")return g.jsx(bs,{provider:"twitter"},Se);if(Se==="telegram")return g.jsx(m3e,{},Se);let qe=f.findIndex(({id:z})=>z===Zl.normalize(Se)),Ye=h==="solana"?"solana-only":"ethereum-only";return g.jsx(YH,{recent:!0,index:qe,data:{wallets:f,walletChainType:Ye,handleWalletClick(z){r(W=>({...W,externalConnectWallet:{walletList:c,walletChainType:Ye,preSelectedWalletId:z.id}})),s(t?JH:_T)}}})},Z=f.filter(Se=>Se.id!==Zl.normalize(d||"")),X=Z.map((Se,qe)=>g.jsx(YH,{index:qe,data:{walletChainType:l,wallets:Z,handleWalletClick(Ye){r(kt=>({...kt,externalConnectWallet:{walletList:c,walletChainType:l,preSelectedWalletId:Ye.id}})),s(t?JH:_T)}}},Se.id)),Y=x.filter(Se=>Se!==(p==null?void 0:p.loginMethod)).flatMap(F),te=V.flatMap(F);N==="web3-first"&&P==="default"?X.unshift(...te):N==="web2-first"&&Y.unshift(...te);let fe=P==="web2-overflow"?()=>D("default"):void 0,he=x.filter(Se=>Se!=="email"&&Se!=="sms"),pe=RCt({priority:N,email:m,sms:w,social:he}),be=MCt({priority:N,email:m,sms:w,social:he}),ge=g.jsx(y3e,{text:jCt({priority:N}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:(a==null?void 0:a.walletChainType)??o.appearance.walletChainType}}),s(_T)}}),ye=g.jsx(w3e,{text:pe,icon:be,onClick:()=>D("web2-overflow")}),ft=O?0:1,we=j&&X.length>0,Me=Y.length===0&&j&&X.length===0,Oe=5-(we?1:0),Ee=P==="default"&&(o==null?void 0:o.appearance.logo),$e=P==="default"&&o.appearance.loginMessage;return g.jsxs(Rn,{title:o.appearance.landingHeader,icon:Ee?g.jsx(z2e,{}):void 0,iconVariant:Ee?"logo":void 0,onClose:q,showClose:!0,onBack:fe,showBack:!!fe,helpText:o||C&&P==="default"?g.jsxs(g.Fragment,{children:[C&&P==="default"&&g.jsx(f3e,{}),o&&g.jsx(lH,{app:o})]}):void 0,watermark:!0,children:[$e&&(typeof o.appearance.loginMessage=="string"?g.jsx(NCt,{children:o.appearance.loginMessage}):g.jsx(OCt,{children:o.appearance.loginMessage})),g.jsx(Nbe,{$colorScheme:o.appearance.palette.colorScheme,children:P==="default"&&N==="web2-first"?g.jsxs(g.Fragment,{children:[Y.length>Oe?Y.slice(0,Oe-1):Y,Y.length>Oe&&ye,we&&ge,Me&&g.jsx(l3e,{chainType:o.appearance.walletChainType})]}):P==="default"&&N==="web3-first"?g.jsxs(g.Fragment,{children:[j&&g.jsxs(g.Fragment,{children:[X.length>Oe?X.slice(0,Oe-1):X,X.length>Oe&&ge]}),Y.length>ft&&ye,Y.length===ft&&Y[0],Me&&g.jsx(l3e,{chainType:o.appearance.walletChainType})]}):P==="web2-overflow"?g.jsx(g.Fragment,{children:N==="web3-first"?Y:Y.slice(3)}):null})]})};let NCt=Q.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),OCt=Q.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),RCt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",MCt=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?g.jsx(qit,{}):e&&n?g.jsx(q9t,{}):e?g.jsx(wF,{}):n?g.jsx(Xfe,{}):null,jCt=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const kT=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",b3e={component:()=>{let{app:t}=it();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?g.jsx(T3e,{connectOnly:!0}):g.jsx(v3e,{connectOnly:!0})}},BCt=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:c=!1,resendCountdown:l=0,onInvalidInput:u,onClearError:d})=>{let[h,f]=k.useState(E3e);k.useEffect(()=>{a||f(E3e)},[a]);let p=async m=>{var _;m.preventDefault();let w=m.currentTarget.value.replace(" ","");if(w==="")return;if(isNaN(Number(w)))return void(u==null?void 0:u("Code should be numeric"));d==null||d();let y=Number((_=m.currentTarget.name)==null?void 0:_.charAt(5)),b=[...w||[""]].slice(0,x3e-y),v=[...h.slice(0,y),...b,...h.slice(y+b.length)];f(v);let E=Math.min(Math.max(y+b.length,0),x3e-1);if(!isNaN(Number(m.currentTarget.value))){let T=document.querySelector(`input[name=code-${E}]`);T==null||T.focus()}if(v.every(T=>T&&!isNaN(+T))){let T=document.querySelector(`input[name=code-${E}]`);T==null||T.blur(),await(s==null?void 0:s(v.join("")))}};return g.jsx(Rn,{title:"Enter confirmation code",subtitle:g.jsxs("span",e==="email"?{children:["Please check ",g.jsx(C3e,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",g.jsx(C3e,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?A$:Yg,onBack:i,showBack:!0,helpText:g.jsxs(WCt,{children:[g.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),l?g.jsxs(qCt,{children:[g.jsx($5t,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),g.jsx("span",{children:"Code sent"})]}):g.jsx(T3,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:g.jsx(UCt,{children:g.jsx(xxt,{children:g.jsxs(FCt,{children:[g.jsx("div",{children:h.map((m,w)=>g.jsx("input",{name:`code-${w}`,type:"text",value:h[w],onChange:p,onKeyUp:y=>{y.key==="Backspace"&&(b=>{if(d==null||d(),f([...h.slice(0,b),"",...h.slice(b+1)]),b>0){let v=document.querySelector(`input[name=code-${b-1}]`);v==null||v.focus()}})(w)},inputMode:"numeric",autoFocus:w===0,pattern:"[0-9]",className:`${c?"success":""} ${a?"fail":""}`,autoComplete:Zr?"one-time-code":"off"},w))}),g.jsx(zCt,{$fail:!!a,$success:c,children:g.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(c?"Success!":"")})})]})})})})};let x3e=6,E3e=Array(6).fill("");var u9,d9,DCt=((u9=DCt||{})[u9.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",u9[u9.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",u9),LCt=((d9=LCt||{})[d9.EMAIL=0]="EMAIL",d9[d9.SMS=1]="SMS",d9);const m0={component:()=>{var j,U,M;let{app:t,navigate:e,lastScreen:n,navigateBack:r,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=it(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:c,getAuthMeta:l,loginWithCode:u,updateWallets:d,createAnalyticsEvent:h}=Je(),{authenticated:f,logout:p,user:m}=Sn(),{whatsAppEnabled:w}=qn(),[y,b]=k.useState(!1),[v,E]=k.useState(null),[_,T]=k.useState(null),[I,R]=k.useState(0);s.current=()=>null;let S=(j=l())!=null&&j.email?0:1,B=S===0?((U=l())==null?void 0:U.email)||"":((M=l())==null?void 0:M.phoneNumber)||"";return k.useEffect(()=>{if(I){let C=setTimeout(()=>{R(I-1)},1e3);return()=>clearTimeout(C)}},[I]),k.useEffect(()=>{if(f&&y&&m){if(t!=null&&t.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let C=setTimeout(()=>{e(ow)},900);return()=>clearTimeout(C)}if(Om(m,t.embeddedWallets)){let C=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:x=>{console.error(x),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:x,screen:"AwaitingPasswordlessCodeScreen"}}),p()},callAuthOnSuccessOnClose:!0}}),e(f0)},900);return()=>clearTimeout(C)}{d();let C=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),di);return()=>clearTimeout(C)}}},[f,y,m]),k.useEffect(()=>{if(v&&_===0){let C=setTimeout(()=>{E(null),T(null);let x=document.querySelector("input[name=code-0]");x==null||x.focus()},1400);return()=>clearTimeout(C)}},[v,_]),g.jsx(BCt,{contactMethod:B,authFlow:S===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:w,onBack:()=>r(),onCodeSubmit:async C=>{var x,A,N,O,P,D,L,$,q,V;try{await u(C),b(!0)}catch(F){if(F instanceof Pl&&F.privyErrorCode===le.INVALID_CREDENTIALS)E("Invalid or expired verification code"),T(0);else if(F instanceof Pl&&F.privyErrorCode===le.CANNOT_LINK_MORE_OF_TYPE)E(F.message);else{if(F instanceof Pl&&F.privyErrorCode===le.USER_LIMIT_REACHED)return console.error(new Z8(F).toString()),void e(l9);if(F instanceof Pl&&F.privyErrorCode===le.USER_DOES_NOT_EXIST)return void e(i9);if(F instanceof Pl&&F.privyErrorCode===le.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:F,previousScreen:n??m0}}),void e(hi,!1);if(F instanceof Pl&&F.privyErrorCode===le.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:F}}),void e(b3e,!1);if(F instanceof Pl&&F.privyErrorCode===le.ACCOUNT_TRANSFER_REQUIRED&&((A=(x=F.data)==null?void 0:x.data)!=null&&A.nonce))return i({accountTransfer:{nonce:(O=(N=F.data)==null?void 0:N.data)==null?void 0:O.nonce,account:B,displayName:(L=(D=(P=F.data)==null?void 0:P.data)==null?void 0:D.account)==null?void 0:L.displayName,linkMethod:S===0?"email":"sms",embeddedWalletAddress:(V=(q=($=F.data)==null?void 0:$.data)==null?void 0:q.otherUser)==null?void 0:V.embeddedWalletAddress}}),void e(sw);E("Issue verifying code"),T(0)}}},onResend:async()=>{R(30),S===0?await a():await c()},errorMessage:v||void 0,success:y,resendCountdown:I,onInvalidInput:C=>{E(C),T(1)},onClearError:()=>{_===1&&(E(null),T(null))}})}};let UCt=Q.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),FCt=Q.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),zCt=Q.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),WCt=Q.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),qCt=Q.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),C3e=Q.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const _3e=k.forwardRef((t,e)=>{let[n,r]=k.useState(t.defaultValue||""),[i,s]=k.useState(""),[o,a]=k.useState(!1),{authenticated:c}=Sn(),{initLoginWithEmail:l}=Je(),{navigate:u,setModalData:d,currentScreen:h,data:f}=it(),{enabled:p,token:m}=Hc(),[w,y]=k.useState(!1),{accountType:b}=Nm(),v=qn();k.useEffect(()=>{var I,R;!n&&v.disablePlusEmails&&((I=f==null?void 0:f.inlineError)==null?void 0:I.error)instanceof da&&((R=f==null?void 0:f.inlineError)==null?void 0:R.error.privyErrorCode)===le.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[n]);let E=ebe(n),_=o||!E,T=()=>{d({login:f==null?void 0:f.login,inlineError:void 0}),!p||m||c?(I=>{var R;a(!0),l({email:n,captchaToken:I,disableSignup:(R=f==null?void 0:f.login)==null?void 0:R.disableSignup,withPrivyUi:!0}).then(()=>{u(m0)}).catch(S=>{d({errorModalData:{error:S,previousScreen:h||Aa}}),u(hi)}).finally(()=>{a(!1)})})(m):(d({captchaModalData:{callback:I=>l({email:n,captchaToken:I,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:m0,onErrorNavigateTo:hi}}),u(uh))};return g.jsxs(g.Fragment,{children:[g.jsxs(HCt,{children:[i&&g.jsx(p0,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),g.jsxs(VCt,{stacked:t.stacked,$error:!!i,children:[g.jsx(KCt,{children:g.jsx(wF,{})}),g.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>y(!0),onChange:I=>r(I.target.value),onKeyUp:I=>{I.key==="Enter"&&T()},value:n,autoComplete:"email"}),b!=="email"||w?t.stacked?g.jsx("span",{}):g.jsx(eT,{isSubmitting:o,onClick:T,disabled:_,children:"Submit"}):g.jsx(Of,{color:"gray",children:"Recent"})]})]}),t.stacked?g.jsx(wr,{loadingText:null,loading:o,disabled:_,onClick:T,style:{width:"100%"},children:"Submit"}):null]})});let HCt=e3e,VCt=R9t,KCt=Q(Nf).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const A3e=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=k.useRef(null);return g.jsxs(g.Fragment,{children:[g.jsx(_3,{$if:!t,children:g.jsx(_3e,{ref:r,defaultValue:n})}),g.jsx(_3,{$if:t,children:g.jsxs(xi,{onClick:()=>{e(),setTimeout(()=>{var i;(i=r.current)==null||i.focus()},0)},children:[g.jsx(Nf,{children:g.jsx(wF,{})}),"Continue with Email"]})})]})},S3e=({icon:t,name:e})=>typeof t=="string"?g.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?g.jsx(S$,{style:{height:24,width:24}}):t?g.jsx(t,{}):null;function XH(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const GCt=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:c,maxRetries:l})=>g.jsx(Rn,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===Sm.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&(n!=null&&n.retryable)&&c<l?{label:"Retry",onClick:s,disabled:!(n!=null&&n.retryable)||c>=l}:!e&&n&&c>=l?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),eV={component:()=>{var T,I,R,S,B,j,U;let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:o}=it(),{walletConnectionStatus:a,closePrivyModal:c}=Je(),[l,u]=k.useState(void 0),[d,h]=k.useState(0),f=u0(((T=a==null?void 0:a.connector)==null?void 0:T.walletClientType)||"unknown"),p=(a==null?void 0:a.status)==="connected",m=(a==null?void 0:a.status)==="switching_to_supported_chain";k.useEffect(()=>{var M,C;if(p){let x;if((M=s==null?void 0:s.externalConnectWallet)!=null&&M.onCompleteNavigateTo){let A=s.externalConnectWallet.onCompleteNavigateTo,N=(C=a.connectedWallet)==null?void 0:C.address;x=setTimeout(()=>{var O,P;s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:N}}),n(A({address:N,walletClientType:(O=a.connector)==null?void 0:O.walletClientType,walletChainType:(P=a.connector)==null?void 0:P.chainType}))},di)}else x=setTimeout(c,di);return()=>clearTimeout(x)}},[p]),k.useEffect(()=>{a!=null&&a.connectError&&(M=>{u(c3e(M))})(a==null?void 0:a.connectError)},[a]);let w=((I=a==null?void 0:a.connector)==null?void 0:I.connectorType)||"injected",y=((R=a==null?void 0:a.connector)==null?void 0:R.walletClientType)||"unknown",b=((S=f==null?void 0:f.metadata)==null?void 0:S.shortName)||(f==null?void 0:f.name)||((B=a==null?void 0:a.connector)==null?void 0:B.walletBranding.name)||"Browser Extension",v=((j=f==null?void 0:f.image_url)==null?void 0:j.md)||((U=a==null?void 0:a.connector)==null?void 0:U.walletBranding.icon)||(M=>g.jsx(Kq,{...M})),E=b==="Browser Extension"?b.toLowerCase():b;t=p?`Successfully connected with ${E}`:l?l.message:m?"Switching networks":`Waiting for ${E}`;let _="Dont see your wallet? Check your other browser windows.";return p?_="Youre good to go!":d>=2&&l?_="Unable to connect wallet":l?_=l.detail:m?_="Switch your wallet to the requested network.":y==="metamask"&&Zr?_="Click to continue to open and connect MetaMask.":y==="metamask"?_="For the best experience, connect only one wallet at a time.":w==="wallet_connect_v2"?_="Open your mobile wallet app to continue":w==="coinbase_wallet"&&(_="Open the Coinbase app on your phone to continue."),g.jsx(GCt,{walletName:b,walletLogo:v,success:p,errorMessage:l,title:t,subtitle:_,onRetry:()=>{h(d+1),u(void 0),a==null||a.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:d,maxRetries:2})}},I3e=Q.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),M3=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return g.jsxs(YCt,{children:[g.jsx(ZCt,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ve.isValidElement(n)?Ve.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return g.jsx(kx,{size:12,stroke:r(),strokeWidth:3});case"error":return g.jsx(Jit,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let ZCt=Q.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),YCt=Q.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const JCt=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return g.jsx(Rn,{title:o,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Still not sure? "}),g.jsx(T3,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:g.jsxs(I3e,{children:[g.jsx(M3,{children:g.jsxs("div",{children:[g.jsx("span",{children:"Install the "})," ",g.jsxs(T3,{href:e,target:"_blank",children:[t," browser extension"]})]})}),g.jsx(M3,{children:"Set up your first wallet"}),g.jsx(M3,{children:"Store your recovery phrase in a safe place!"})]})})},QCt={component:()=>{let{navigateBack:t,data:e}=it();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return g.jsx(JCt,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},XCt=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:o})=>g.jsx(Rn,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),o==null||o()},disabled:i},helpText:s,watermark:!0}),e7t={component:()=>{let{ready:t}=Sn(),{data:e}=it(),[n,r]=k.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!n,isSolana:o==="solana",connectOnly:s}),c=i.name.replace(/ wallet/gi,""),l={title:`Redirecting to ${c} Mobile Wallet`,description:`We'll take you to the ${c} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(l.description=`For the best experience, we'll automatically log you into the ${c} Mobile Wallet in-app browser.`,l.footnote="You can always return here to login via other methods."),n&&(l.title="Still here?",l.description=`You may need to install the ${i.name} mobile app.`,l.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),g.jsx(XCt,{title:l.title,subtitle:l.description,buttonText:n?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:l.footnote||void 0,onButtonClick:()=>{setTimeout(()=>r(!0),1e3)}})}},Rf=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{var m,w,y;let s,{navigate:o,setModalData:a}=it(),{connectWallet:c}=Je(),l=Nm(),u=u0(t),d=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,h=window.matchMedia("(display-mode: standalone)").matches,f=ybe({connectorType:i.connectorType,walletClientType:d});s=f&&f.chainTypes.includes(i.chainType)?()=>{f.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(c(i,d),o(r?eV:g0)):Zr?(a({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),o(e7t)):(a({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),o(QCt))}:i.connectorType!=="coinbase_wallet"||((m=i.coinbaseWalletConfig.preference)==null?void 0:m.options)!=="eoaOnly"||!Zr||h||Xve()?()=>{(!XH(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(c(i,d),o(r?eV:g0))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let p=e||((w=u==null?void 0:u.metadata)==null?void 0:w.shortName)||(u==null?void 0:u.name)||i.walletClientType;return g.jsxs(t7t,{onClick:s,children:[g.jsx(S3e,{icon:n||((y=u==null?void 0:u.image_url)==null?void 0:y.md),name:p}),g.jsx("span",{children:p}),g.jsxs(n7t,{id:"chip-container",children:[(l==null?void 0:l.walletClientType)===d&&(l==null?void 0:l.chainType)===i.chainType?g.jsx(k3e,{color:"gray",children:"Recent"}):g.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&g.jsx(k3e,{color:"gray",children:"Solana"})]})]})};let t7t=Q(xi).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),k3e=Q(Of).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),n7t=Q.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const r7t=["coinbase_wallet","base_account"];let i7t=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const s7t=["safe"],o7t=["phantom","backpack","solflare","universal_profile"],$3e=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{var h,f;let a=[],c=[],l=[],u=n.filter(p=>e==="ethereum-only"?p.chainType==="ethereum":e!=="solana-only"||p.chainType==="solana"),d=u.find(p=>p.connectorType==="wallet_connect_v2");for(let[p,m]of(o?[o.wallet]:t).entries()){if(m==="detected_ethereum_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:b,connectorType:v,walletClientType:E})=>b!=="solana"&&(E==="uniswap_wallet_extension"||E==="uniswap_extension"?!i.includes("uniswap"):E==="crypto.com_wallet_extension"||E==="crypto.com_onchain"?!i.includes("cryptocom"):v==="injected"&&!i.includes(E))).entries()){let{walletClientType:b,walletBranding:v,chainType:E}=y;(b==="unknown"?c:a).push(g.jsx(Rf,{connectOnly:r,provider:b,logo:v.icon,displayName:v.name,connector:y},`${p}-${m}-${b}-${E}-${w}`))}if(m==="detected_solana_wallets"||m==="detected_wallets")for(let[w,y]of u.filter(({chainType:b,walletClientType:v})=>{if(b==="solana")return e!=="ethereum-only"&&!i.includes(v)}).entries()){let{walletClientType:b,walletBranding:v,chainType:E}=y;(b==="unknown"?c:a).push(g.jsx(Rf,{connectOnly:r,provider:b,logo:v.icon,displayName:v.name,connector:y},`${p}-${m}-${b}-${E}-${w}`))}if(o7t.includes(m)){let w=u.find(y=>y.connectorType==="injected"&&y.walletClientType===m||y.connectorType===m);if(w&&a.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:w},`${p}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);y&&a.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:y},`${m}-solana`))}}else if(i7t.includes(m)){let w=u.find(y=>m==="uniswap"?y.walletClientType==="uniswap_wallet_extension"||y.walletClientType==="uniswap_extension":m==="cryptocom"?y.walletClientType==="crypto.com_wallet_extension"||y.walletClientType==="crypto.com_onchain":y.connectorType==="injected"&&y.walletClientType===m);if(s&&!w&&(w=d),w&&a.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:w,logo:w.connectorType==="injected"?w.walletBranding.icon:void 0,displayName:w.connectorType==="injected"?w.walletBranding.name:void 0},`${p}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let y=u.find(({chainType:b,walletClientType:v})=>b==="solana"&&v===m);y&&a.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:y},`${m}-solana`))}}else if(r7t.includes(m)){let w=u.find(({connectorType:y})=>y===m);w&&a.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:w,displayName:w.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:w.walletClientType==="coinbase_wallet"?abe:cbe},`${p}-${m}`))}else if(s7t.includes(m))d&&l.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:d},`${p}-${m}`));else if(m==="wallet_connect")d&&l.push(g.jsx(Rf,{connectOnly:r,provider:m,connector:d,logo:d.walletBranding.icon,displayName:"WalletConnect"},`${p}-${m}`));else if(m===(o==null?void 0:o.wallet)){let w=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),y=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||w||y){let b=u.find(({walletClientType:v})=>v===m);b&&a.push(g.jsx(Rf,{connectOnly:r,provider:m,displayName:(h=b.walletBranding)==null?void 0:h.name,logo:(f=b.walletBranding)==null?void 0:f.icon,connector:b},`${p}-${m}`))}}}return[...c,...a,...l]},T3e=({connectOnly:t})=>{var U,M,C;let{closePrivyModal:e,connectors:n}=Je(),{app:r,onUserCloseViaDialogOrKeybindRef:i,data:s}=it(),{appearance:{palette:{colorScheme:o}}}=qn(),{accountType:a,walletClientType:c,chainType:l}=Nm(),u=k.useMemo(()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?wT(a):null,[a]),d=((U=r.loginMethodsAndOrder)==null?void 0:U.primary)??[],h=((M=r.loginMethodsAndOrder)==null?void 0:M.overflow)??[],f=k.useMemo(()=>[...d,...h],[d,h]),p=r.loginMethods.passkey,m=s==null?void 0:s.login,w=[];c&&f.includes(c)?w.push(c):a&&f.includes(u==null?void 0:u.loginMethod)&&w.push(u==null?void 0:u.loginMethod);let[y,b]=k.useState("default"),[v,E]=k.useState(kT({mostRecentlyUsedAccountType:a,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(C=m==null?void 0:m.prefill)==null?void 0:C.type}));k.useEffect(()=>{var x;E(kT({mostRecentlyUsedAccountType:a,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(x=m==null?void 0:m.prefill)==null?void 0:x.type}))},[f,a]),k.useEffect(()=>{a==="phone"&&E("sms");let x=f.indexOf("sms"),A=f.indexOf("email");x>-1&&x<A&&E("sms")},[a,d,h]);let _=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{b("default")},150)};i.current=_;let T=x=>{var A,N;return x==="email"?g.jsx(A3e,{isEditable:v==="email",setIsEditable:()=>{E("email")},defaultValue:((A=m==null?void 0:m.prefill)==null?void 0:A.type)==="email"?m.prefill.value:void 0},x):x==="sms"?g.jsx(p3e,{isEditable:v==="sms",setIsEditable:()=>{E("sms")},defaultValue:((N=m==null?void 0:m.prefill)==null?void 0:N.type)==="phone"?m.prefill.value:void 0},x):x==="apple"?g.jsx(bs,{provider:"apple"},x):x==="discord"?g.jsx(bs,{provider:"discord"},x):x==="farcaster"?g.jsx(h3e,{},x):x==="github"?g.jsx(bs,{provider:"github"},x):x==="google"?g.jsx(bs,{provider:"google"},x):x==="linkedin"?g.jsx(bs,{provider:"linkedin"},x):x==="spotify"?g.jsx(bs,{provider:"spotify"},x):x==="instagram"?g.jsx(bs,{provider:"instagram"},x):x==="tiktok"?g.jsx(bs,{provider:"tiktok"},x):x==="line"?g.jsx(bs,{provider:"line"},x):x==="twitter"?g.jsx(bs,{provider:"twitter"},x):x==="telegram"?g.jsx(m3e,{},x):x.startsWith("privy:")?g.jsx(r9t,{appId:x.replace("privy:","")},x):$3e({walletList:r.appearance.walletList,walletChainType:(m==null?void 0:m.walletChainType)??r.appearance.walletChainType,connectors:n,connectOnly:t,ignore:f,walletConnectEnabled:r.externalWallets.walletConnect.enabled,forceWallet:{wallet:x,chainType:l??"ethereum"}})},I=w.flatMap(T),R=d.filter(x=>x!==c&&x!==(u==null?void 0:u.loginMethod)).flatMap(T),S=h.filter(x=>x!==c&&x!==(u==null?void 0:u.loginMethod)).flatMap(T),[B,j]=((x,A)=>{let N=[],O=[];for(let[P,D]of x.entries())P<A?N.push(D):O.push(D);return[N,O]})([...I,...R,...S],a7t({primary:R.length+I.length,overflow:S.length}));return g.jsxs(g.Fragment,{children:[g.jsx(vn,{title:r.appearance.landingHeader,onClose:_,backFn:y==="default"?void 0:()=>{b("default")}}),y==="default"&&g.jsx(c7t,{}),y==="default"&&(typeof r.appearance.loginMessage=="string"?g.jsx(p8t,{children:r.appearance.loginMessage}):r.appearance.loginMessage),g.jsx(h8t,{style:{overflow:"hidden"},children:g.jsxs(Nbe,{$colorScheme:o,children:[y==="default"&&g.jsxs(g.Fragment,{children:[B,j.length>0&&g.jsx(w3e,{text:"More options",icon:g.jsx(I5t,{}),onClick:()=>b("overflow")})]}),y==="overflow"&&g.jsx(g.Fragment,{children:j}),p&&y==="default"&&g.jsx(f3e,{})]})}),r&&g.jsx(lH,{app:r}),g.jsx(Ln,{})]})};let a7t=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,c7t=Q(e9t).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const Aa={component:()=>{let{app:t}=it();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?g.jsx(T3e,{connectOnly:!1}):g.jsx(v3e,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},P3e={component:()=>{let[t,e]=k.useState(null),[n,r]=k.useState(!1),[i,s]=k.useState(null),[o,a]=k.useState(""),{authenticated:c,user:l}=Sn(),{client:u,walletProxy:d,refreshSessionAndUser:h,closePrivyModal:f,createAnalyticsEvent:p}=Je(),{app:m,navigate:w,data:y,onUserCloseViaDialogOrKeybindRef:b}=it(),{onSuccess:v,onFailure:E}=y.setWalletPassword,_=Ru(l),T=(t==null?void 0:t.recoveryMethod)==="user-passcode",I=(_==null?void 0:_.recoveryMethod)==="user-passcode";k.useEffect(()=>{c||(w(Aa),E(new XGe("User must be authenticated before setting a password on a Privy wallet")))},[c]);let R=()=>i?(E(i),void f({shouldCallAuthOnSuccess:!1})):T?(v(t),void f({shouldCallAuthOnSuccess:!1})):(E(new Fg("Exited before password was added to wallet")),void f({shouldCallAuthOnSuccess:!1}));return b.current=R,g.jsx(L2e,{appName:(m==null?void 0:m.name)||"privy",config:{initiatedBy:"user",onCancel:R},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:o,isResettingPassword:I,onPasswordGenerate:()=>a(D2e()),onPasswordChange:a,onSubmit:async()=>{T?(v(t),f({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let S=await u.getAccessToken();if(S&&l&&(_!=null&&_.address)&&o&&d)try{p({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:I}});let{entropyId:B,entropyIdVerifier:j}=Oo(l);if(!(await d.setRecovery({accessToken:S,entropyId:B,entropyIdVerifier:j,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new Fg("Error setting password on privy wallet")),void p({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:I,reason:"error setting password"}});let U=await h(),M=Ru(U);if(!M)return s(new Fg("Error setting password on privy wallet")),void p({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:I,reason:"wallet disconnected"}});e(M),p({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:_.address,existingRecoveryMethod:_.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:I}})}catch(B){console.warn(B),s(B instanceof Error?B:Error("Error setting password on privy wallet")),p({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:_.address,reason:B}})}})(),r(!1))},onClose:R})}},l7t=({onClose:t,onProceed:e})=>g.jsx(Rn,{title:"Secure Your Account",subtitle:g.jsxs(g.Fragment,{children:["Please set a password to secure your account.",g.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:yF,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),u7t={component:()=>{let{closePrivyModal:t}=Je(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=it(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new Fg("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=s,g.jsx(l7t,{onClose:s,onProceed:()=>{n(P3e)}})}},d7t={component:()=>{let[t,e]=k.useState(!0),{authenticated:n,user:r}=Sn(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=Je(),{navigate:c,data:l,onUserCloseViaDialogOrKeybindRef:u}=it(),[d,h]=k.useState(void 0),[f,p]=k.useState(""),[m,w]=k.useState(!1),{entropyId:y,entropyIdVerifier:b,onCompleteNavigateTo:v,onSuccess:E,onFailure:_}=l.recoverWallet,T=(I="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),_(typeof I=="string"?new Fg(I):I)};return u.current=T,k.useEffect(()=>{if(!n)return T("User must be authenticated and have a Privy wallet before it can be recovered")},[n]),g.jsxs(Sr,{children:[g.jsx(Sr.Header,{icon:my,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:T}),g.jsx(Sr.Body,{children:g.jsx(h7t,{children:g.jsxs("div",{children:[g.jsxs(fT,{children:[g.jsx(DH,{type:t?"password":"text",onChange:I=>(R=>{R&&h(R)})(I.target.value),disabled:m,style:{paddingRight:"2.3rem"}}),g.jsx(gT,{style:{right:"0.75rem"},children:t?g.jsx(mT,{onClick:()=>e(!1)}):g.jsx(yT,{onClick:()=>e(!0)})})]}),!!f&&g.jsx(f7t,{children:f})]})})}),g.jsxs(Sr.Footer,{children:[g.jsx(Sr.HelpText,{children:g.jsxs(Cxt,{children:[g.jsx("h4",{children:"Why is this necessary?"}),g.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),g.jsx(Sr.Actions,{children:g.jsx(p7t,{loading:m||!i,disabled:!d,onClick:async()=>{w(!0);let I=await a.getAccessToken(),R=Ou(r,y);if(!I||!R||d===null)return T("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:R.address}}),await(i==null?void 0:i.recover({accessToken:I,entropyId:y,entropyIdVerifier:b,recoveryPassword:d})),p(""),v?c(v):s({shouldCallAuthOnSuccess:!1}),E==null||E(R),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:R.address}})}catch(S){(function(B){return k3(B)&&(B.type==="invalid_recovery_pin"||B.type==="invalid_request_arguments")})(S)?p("Invalid recovery password, please try again."):p("An error has occurred, please try again.")}finally{w(!1)}},$hideAnimations:!y&&m,children:"Recover your account"})}),g.jsx(Sr.Watermark,{})]})]})}};let h7t=Q.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),f7t=Q.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),p7t=Q(wr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&Ps(["&&{transition:none;}"]));const g7t={component:()=>{let{app:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=it(),[i,s]=k.useState(""),[o,a]=k.useState(!1),[c,l]=k.useState(),[u,d]=k.useState(null),{create:h}=OH(),{authenticated:f,user:p}=Sn(),{closePrivyModal:m,isNewUserThisSession:w,initializeWalletProxy:y}=Je(),{onSuccess:b,onFailure:v,callAuthOnSuccessOnClose:E,shouldCreateEth:_,shouldCreateSol:T}=n.createWallet,[I,R]=k.useState(null),S=new ec(async()=>{try{let B;if(_&&T)B=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"ethereum",walletIndex:0,latestUser:p}),B=await h({chainType:"solana",walletIndex:0,latestUser:B.user});else if(T)B=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"solana",walletIndex:0,latestUser:p});else{if(!_)throw Error("Invalid args to create wallet");B=await h({recoveryMethod:"user-passcode",recoveryPassword:c,chainType:"ethereum",walletIndex:0,latestUser:p})}R(B),w?e(RH):(b(B),m({shouldCallAuthOnSuccess:E}))}catch(B){s(B.message)}});return k.useEffect(()=>{u||y(3e4).then(B=>d(B))},[u]),k.useEffect(()=>{if(!f||!p)return e(Aa),void v(Error("User must be authenticated before creating a Privy wallet"))},[f]),r.current=()=>null,g.jsx(L2e,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!I&&o,isResettingPassword:!1,error:i,password:c||"",onClose:()=>{I&&I.account.recoveryMethod!=="user-passcode"?(v(new Fg("User created a wallet but failed to set a password for it")),m({shouldCallAuthOnSuccess:!1})):I?(b(I),m({shouldCallAuthOnSuccess:E})):(v(new Fg("User wallet creation failed")),m({shouldCallAuthOnSuccess:!1}))},onPasswordChange:l,onPasswordGenerate:()=>l(D2e()),onSubmit:async()=>(a(!0),S.execute().then(()=>new Promise(B=>setTimeout(B,250))).finally(()=>a(!1)))})}},m7t=Q.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),Rm=Q.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),y0=Q.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),y7t={component:()=>{var w;let{user:t}=Sn(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=Je(),s=it(),{entropyId:o,entropyIdVerifier:a}=(w=s.data)==null?void 0:w.recoverWallet,[c,l]=k.useState(!1),[u,d]=k.useState(null),[h,f]=k.useState(null);function p(){var y,b,v,E;if(!c){if(h)return(b=(y=s.data)==null?void 0:y.setWalletPassword)==null||b.onFailure(h),void i();if(!u)return(E=(v=s.data)==null?void 0:v.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=p;let m=!(!c&&!u);return g.jsxs(g.Fragment,h?{children:[g.jsx(vn,{onClose:p},"header"),g.jsx(m7t,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:g.jsx(yy,{height:38,width:38,stroke:"var(--privy-color-error)"})}),g.jsx(y0,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),g.jsx(km,{style:{minHeight:"2rem"}}),g.jsx(X$,{onClick:()=>f(null),children:"Try again"}),g.jsx(Ln,{})]}:{children:[g.jsx(vn,{onClose:p},"header"),g.jsx(nve,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),g.jsx(y0,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),g.jsx(Rm,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),g.jsx(km,{style:{minHeight:"2rem"}}),g.jsx(X$,{loading:c,disabled:m,onClick:()=>async function(){l(!0);try{let y=await e.getAccessToken(),b=Ou(t,o);if(!y||!n||!b)return;if(!(await n.setRecovery({accessToken:y,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:b.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let v=await r();if(!v)throw Error("Unable to set recovery on wallet");let E=Ou(v,b.address);if(!E)throw Error("Unabled to set recovery on wallet");d(!!v),setTimeout(()=>{var _,T;(T=(_=s.data)==null?void 0:_.setWalletPassword)==null||T.onSuccess(E),i()},di)}catch(y){f(y)}finally{l(!1)}}(),children:u?"Success":"Confirm"}),g.jsx(Ln,{})]})}};function N3e({isCreatingWallet:t,skipSplashScreen:e}){return t?g7t:e?P3e:u7t}function O3e({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?y7t:n||e.length===1?N3e({isCreatingWallet:t==="create",skipSplashScreen:r}):BH}function R3e(t){switch(t){case"user-passcode":return d7t;case"google-drive":case"icloud":return $2e;default:throw Error("Recovery method not supported")}}const M3e=({children:t,theme:e})=>g.jsxs(w7t,{$theme:e,children:[g.jsx(l6t,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),g.jsx(v7t,{$theme:e,children:t})]});let w7t=Q.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),v7t=Q.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const j3e=Ps(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),$T=Q.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],j3e);let b7t=Q($T).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),x7t=Q.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),E7t=Q.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),C7t=Q.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),_7t=Q(Kc).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),A7t=Q(p0).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),S7t=Q(oh).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const TT=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[o,a]=k.useState(!1);return k.useEffect(()=>{if(o){let c=setTimeout(()=>a(!1),3e3);return()=>clearTimeout(c)}},[o]),g.jsxs("div",{children:[i&&g.jsx(_7t,{children:i}),g.jsx(b7t,{className:r,$state:t?"error":void 0,children:g.jsxs(x7t,{children:[g.jsxs(E7t,{children:[g.jsx(Cn,{address:n,showCopyIcon:!1}),e!==void 0&&g.jsx(C7t,{children:e})]}),s&&g.jsx(S7t,{onClick:function(c){c.stopPropagation(),navigator.clipboard.writeText(n).then(()=>a(!0)).catch(console.error)},size:"sm",children:g.jsxs(g.Fragment,o?{children:["Copied",g.jsx(kx,{size:14})]}:{children:["Copy",g.jsx(XI,{size:14})]})})]})}),t&&g.jsx(A7t,{children:t})]})};function B3e({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=Je(),[s,o]=k.useState(0n),[a,c]=k.useState(!1),l=k.useMemo(()=>{let d=r||i[0];if(d)return Hh({chain:r,transport:Ua(c0(d,t,e))})},[r,t,e]),u=k.useCallback(async()=>{if(!n||!l)return;c(!0);let d=await l.getBalance({address:n}).catch(console.error);return d?(o(d),c(!1),d):void 0},[l,n,o]);return k.useEffect(()=>{u().catch(console.error)},[]),{balance:s,isLoading:a,reloadBalance:u}}const dh="sdk_fiat_on_ramp_completed_with_status",tV=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await Hh({chain:t,transport:Ua(c0(t,r,n))}).readContract({address:i,abi:I7t,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let I7t=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const h9=Symbol("solana-funding-plugin"),k7t=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",le.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new oe("User must be authenticated before linking an account.");let[c,l]=await Promise.all([e(),n(15e3)]);if(!l||!c)throw t("linkAccount","onError",le.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new oe("User must be authenticated before linking an account.");await l.importWallet({privateKey:o,accessToken:c,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await r(),d=a==="solana"?BS(u):RL(u);if(!d)throw t("createWallet","onError",le.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:d}),d};class $7t{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let n=await this.signMessage(Ca(e.params.message,"base64"));return{signature:Ca(n).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await Ir())throw Error("User must be authenticated to use embedded Solana wallet");if(!await YSt({address:this.address}))throw new oe("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,n,r){this.walletProxy=e,this.address=n,this.signMessage=r}}async function nV({tx:t,accessToken:e,walletProxy:n,entropyId:r,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=nT(t,s),c=Pm(t)?Ca(t.message.serialize()):t.serializeMessage(),{response:l}=await n.rpc({accessToken:e,entropyId:r,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:c.toString("base64")}}}),u=Ca(l.data.signature,"base64");return t.addSignature(a,u),t}const T7t=t=>t.reduce((e,n)=>!e||e.walletIndex<n.walletIndex?n:e,null);let D3e=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:c,setModalData:l,openModal:u,chainType:d,setUser:h})=>{if(c<0)throw r("createWallet","onError",le.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${c}) is invalid.`);let f=Ru(a);if(c>0&&!f)throw r("createWallet","onError",le.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",le.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!f&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await L3e({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});let p=NH(a,{chainType:d,walletIndex:c})[0];if(p)return{user:a,account:p};if(c===0&&!i)return L3e({emitPrivyEvent:r,setModalData:l,openModal:u,chainType:d});if(!i)throw r("createWallet","onError",le.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return I2e({appConfig:e,walletIndex:c,chainType:d,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:o,setUser:h})},L3e=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",le.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(f0)});const U3e=()=>{let t=qn(),e=d0(),{setModalData:n}=it(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:c,client:l}=Je();return{create:async({chainType:u,options:d,latestUser:h})=>{let f=h;if(f||(f=await a()),!f)throw e("createWallet","onError",le.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:p,getAccessToken:m,initializeWalletProxy:w,user:y,privy:b,emitPrivyEvent:v,recoverEmbeddedWallet:E,setModalData:_,openModal:T,setUser:I,options:R,timeoutDuration:S,refreshSessionAndUser:B,chainType:j})=>{var A,N;let[U,M]=await Promise.all([w(S),m()]);if(!M||!y)throw v("createWallet","onError",le.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!U&&((A=p.customAuth)!=null&&A.enabled))throw v("createWallet","onError",le.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(R&&"walletIndex"in R&&typeof R.walletIndex=="number"){if(p.embeddedWallets.mode==="user-controlled-server-wallets-only")throw v("createWallet","onError",le.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return D3e({accessToken:M,appConfig:p,privy:b,emitPrivyEvent:v,openModal:T,proxy:U,refreshSessionAndUser:B,recoverEmbeddedWallet:E,setModalData:_,user:y,walletIndex:R.walletIndex,chainType:j,setUser:I})}let C=R&&"createAdditional"in R&&R.createAdditional,x=NH(y,{chainType:j});if(x[0]&&!C)throw v("createWallet","onError",le.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return D3e({accessToken:M,appConfig:p,privy:b,emitPrivyEvent:v,openModal:T,proxy:U,recoverEmbeddedWallet:E,setModalData:_,user:y,walletIndex:(((N=T7t(x))==null?void 0:N.walletIndex)??-1)+1,chainType:j,refreshSessionAndUser:B,setUser:I})})({appConfig:t,privy:c,getAccessToken:()=>l.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:r,user:f,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:o,setUser:s,options:d,timeoutDuration:jve,chainType:u})}}};function P7t(t){let{create:e}=U3e();return C3("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const N7t=()=>{let{user:t}=Sn(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=Je(),i=d0(),s=qn();return{importWallet:k.useCallback(({privateKey:o})=>k7t({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"}),[t,e,n,r,i])}},f9=()=>{let{importWallet:t}=N7t(),{createWallet:e}=P7t();return{...k.useContext(Lb),importWallet:t,createWallet:e}},rV=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),F3e=t=>!!t.fundingConfig&&rV(t.fundingConfig.options).length>=1,iV=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let O7t=2n**256n-1n;const PT=({amount:t,decimals:e})=>t===O7t?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),z3e=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map(async s=>{let o=Hh({chain:s,transport:Ua(c0(s,r,e))}),a=await o.getBalance({address:n}).catch(()=>0n),c=null,l=YKe[s.id];if(i&&l){let{balance:u}=await tV({address:n,chain:s,rpcConfig:r,appId:e,erc20Address:l});c=u}return{balance:a,erc20Balance:c,erc20Address:l,chain:s}})),j3=Q.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),st=Q.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),yt=Q.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),R7t=Q(yt).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),$t=Q.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],AT),M7t=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[g.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[g.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),g.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),g.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),g.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[g.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),g.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),g.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),g.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[g.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),g.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),g.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let j7t={[Au.id]:t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:g.jsx("g",{id:"Layer_x0020_1",children:g.jsxs("g",{id:"_2405588477232",children:[g.jsx("rect",{fill:"none",width:"2500",height:"2500"}),g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),g.jsx("g",{children:g.jsxs("g",{children:[g.jsx("g",{children:g.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),g.jsx("g",{children:g.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),g.jsx("g",{children:g.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),g.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),g.jsxs("g",{children:[g.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),g.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[Eb.id]:t=>g.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[Su.id]:t=>g.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),g.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[ZA.id]:t=>g.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),g.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[voe.id]:t=>g.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),g.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[g.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),g.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_2303_643",children:g.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[Iu.id]:t=>g.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[g.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),g.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),g.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),g.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),g.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[Vh.id]:t=>g.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),g.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),g.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[_c.id]:t=>g.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[g.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),g.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[ED.id]:t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[g.jsx("g",{clipPath:"url(#clip0)",children:g.jsx("g",{clipPath:"url(#clip1)",children:g.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),g.jsxs("defs",{children:[g.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[g.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),g.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),g.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),g.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),g.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),g.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),g.jsx("clipPath",{id:"clip0",children:g.jsx("rect",{width:"30",height:"30",fill:"white"})}),g.jsx("clipPath",{id:"clip1",children:g.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const W3e=({chainId:t,...e})=>{if(t==="solana")return g.jsx(M7t,{...e});let n=j7t[t];return g.jsx(n||tve,{...e})},B7t=({balance:t,className:e,chain:n})=>g.jsx($T,{className:e,$state:void 0,children:g.jsx(sV,{balance:t,chain:n})}),sV=({balance:t,chain:e})=>g.jsxs(g.Fragment,{children:[g.jsxs(D7t,{children:[g.jsx(U7t,{chainId:"id"in e?e.id:"solana"}),g.jsx($t,{children:e.name})]}),g.jsxs(Of,{isLoading:!1,isPulsing:!1,color:"gray",children:[g.jsx(L7t,{children:g.jsx(S$,{})}),t]})]});let D7t=Q.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),L7t=Q.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),U7t=Q(W3e).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const F7t=({options:t,onSelect:e,selected:n,className:r})=>g.jsxs(Bit,{as:z7t,children:[g.jsxs(Gfe,{as:H7t,children:[g.jsx(sV,{balance:n.balance,chain:n.chain}),g.jsx(oV,{height:16})]}),g.jsx(Zfe,{as:W7t,className:r,children:t.map((i,s)=>g.jsx(Yfe,{as:q7t,onClick:()=>e(s),children:g.jsx(sV,{balance:i.balance,chain:i.chain})},s))})]});let z7t=Q.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),W7t=Q.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),q7t=Q.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),oV=Q(vI).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),H7t=Q.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],j3e,oV,oV);const V7t=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:c,onClose:l})=>g.jsx(Rn,r?{title:"Passkeys updated",icon:$x,iconVariant:"success",primaryCta:{label:"Done",onClick:l},onClose:l,watermark:!0}:i?{icon:ek,title:"Your passkeys",onBack:c,onClose:l,watermark:!0,children:g.jsx(q3e,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:ek,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:l,watermark:!0,helpText:n||void 0,children:t.length===0?g.jsx(G7t,{}):g.jsx(K7t,{children:g.jsx(q3e,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let K7t=Q.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),q3e=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,s]=k.useState([]),o=e?t.length:2,a=c=>c.authenticatorName?c.createdWithBrowser?`${c.authenticatorName} on ${c.createdWithBrowser}`:c.authenticatorName:c.createdWithBrowser?c.createdWithOs?`${c.createdWithBrowser} on ${c.createdWithOs}`:`${c.createdWithBrowser}`:"Unknown device";return g.jsxs("div",{children:[g.jsx(X7t,{children:"Your passkeys"}),g.jsxs(Q7t,{children:[t.slice(0,o).map(c=>g.jsxs(n_t,{children:[g.jsxs("div",{children:[g.jsx(e_t,{children:a(c)}),g.jsxs(t_t,{children:["Last used: ",(c.latestVerifiedAt??c.verifiedAt).toLocaleString()]})]}),g.jsx(i_t,{disabled:i.includes(c.credentialId),onClick:()=>(async l=>{s(u=>u.concat([l])),await n(l),s(u=>u.filter(d=>d!==l))})(c.credentialId),children:i.includes(c.credentialId)?g.jsx($m,{}):g.jsx(Zit,{size:16})})]},c.credentialId)),t.length>2&&!e&&g.jsx(J7t,{onClick:r,children:"View all"})]})]})},G7t=()=>g.jsxs(I3e,{style:{color:"var(--privy-color-foreground)"},children:[g.jsx(M3,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),g.jsx(M3,{children:"Takes seconds to set up and use"}),g.jsx(M3,{children:"Use your passkey to verify transactions and login to your account"})]});const Z7t={component:()=>{let{user:t,unlinkPasskey:e}=Sn(),{linkWithPasskey:n,closePrivyModal:r}=Je(),i=t==null?void 0:t.linkedAccounts.filter(f=>f.type==="passkey"),[s,o]=k.useState(!1),[a,c]=k.useState(""),[l,u]=k.useState(!1),[d,h]=k.useState(!1);return k.useEffect(()=>{i.length===0&&h(!1)},[i.length]),g.jsx(V7t,{passkeys:i,isLoading:s,errorReason:a,success:l,expanded:d,onLinkPasskey:()=>{o(!0),n().then(()=>u(!0)).catch(f=>{if(f instanceof da){if(f.privyErrorCode===le.CANNOT_LINK_MORE_OF_TYPE)return void c("Cannot link more passkeys to account.");if(f.privyErrorCode===le.PASSKEY_NOT_ALLOWED)return void c("Passkey request timed out or rejected by user.")}c("Unknown error occurred.")}).finally(()=>{o(!1)})},onUnlinkPasskey:async f=>(o(!0),await e(f).then(()=>u(!0)).catch(p=>{p instanceof da&&p.privyErrorCode===le.MISSING_MFA_CREDENTIALS?c("Cannot unlink a passkey enrolled in MFA"):c("Unknown error occurred.")}).finally(()=>{o(!1)})),onExpand:()=>h(!0),onBack:()=>h(!1),onClose:()=>r()})}},H3e=Q.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let Y7t=Ps(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const J7t=Q.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],Y7t);let Q7t=Q.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),X7t=Q.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),e_t=Q.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),t_t=Q.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),n_t=Q.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),r_t=Ps([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),i_t=Q.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],r_t);const s_t=Q.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),p9=Q.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),V3e=Q.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),K3e=Q.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),G3e=Q.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),o_t=Q(G3e).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),Z3e=Q.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),Y3e=Q.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),a_t=Q.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),c_t=Q.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),J3e=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:c,isPreparing:l,isSubmitting:u,addressToFund:d,fundingWalletAddress:h,onSubmit:f,onSelect:p,onAmountChange:m,erc20ContractInfo:w})=>{let y=k.useRef(null);return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(lh,{}),g.jsx(y0,{children:"Transfer from another network"}),g.jsxs(Rm,{children:["You need more funds on the ",n.name," network. Bridge from another blockchain network."]}),g.jsxs(V3e,{style:{marginTop:"2rem"},children:[g.jsxs(K3e,{onClick:()=>{var b;return(b=y.current)==null?void 0:b.focus()},children:[g.jsx(G3e,{ref:y,value:i,onChange:b=>{let v=b.target.value;if(/^[0-9.]*$/.test(v)&&v.split(".").length-1<=1){let E=/\.$/.test(v)?".":"",_=Number(v.replace(/\.$/,"")||"0");if(Number.isNaN(_))return void m("0");m(_.toString()+E)}}}),g.jsx(Z3e,{children:s})]}),o&&g.jsx(Y3e,{children:o})]}),g.jsxs(st,{style:{marginTop:"1.5rem"},children:[g.jsx(yt,{children:"From"}),g.jsx(yt,{children:Zce(h)})]}),g.jsx(F7t,{selected:{chain:c.chain,balance:c.isErc20Quote?PT({amount:c.erc20Balance??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:ah(c.balance,c.chain.nativeCurrency.symbol,3,!0)},options:a.map(({chain:b,balance:v,isErc20Quote:E,erc20Balance:_})=>({chain:b,balance:E?PT({amount:_??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:ah(v,b.nativeCurrency.symbol,3,!0)})),onSelect:p}),g.jsxs(st,{style:{marginTop:"1.5rem"},children:[g.jsx(yt,{children:"To"}),g.jsx(yt,{children:Zce(d)})]}),g.jsx(B7t,{chain:n,balance:r}),g.jsx(p0,{style:{marginTop:"1rem"},children:e}),g.jsxs(X$,{style:{marginTop:"1rem"},loading:u||l,disabled:l||u,onClick:f,children:["Confirm with ",t]}),g.jsx(Kl,{}),g.jsx(Ln,{})]})},NT=({wallet:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:c,gasPriceInNativeCurrency:l,gasPriceInUsd:u})=>{var h;let d=u0(t.walletClientType);return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(ew,{}),g.jsx(xH,{style:{marginTop:"16px"},children:g.jsx(S3e,{icon:(h=d==null?void 0:d.image_url)==null?void 0:h.md,name:t.walletClientType})}),g.jsx(Gl,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&g.jsxs(j3,{children:[g.jsxs(st,{children:[g.jsx(yt,{children:"Total"}),g.jsx($t,{children:c||a})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"To"}),g.jsx($t,{children:g.jsx(Cn,{address:n,showCopyIcon:!1})})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Network"}),g.jsx($t,{children:g.jsxs(l_t,{children:[g.jsx(W3e,{chainId:r,height:16,width:16})," ",i]})})]}),l&&g.jsxs(st,{children:[g.jsx(yt,{children:"Estimated fee"}),g.jsx($t,{children:u||l})]})]}),g.jsx(_xt,{height:24}),g.jsx(Ln,{})]})};let l_t=Q.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const Q3e={component:()=>{var z,W,J,ee,ce;let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=Je(),{navigate:i,setModalData:s,app:o,data:a}=it(),{wallets:c}=h0(),[l,u]=k.useState(!1),[d,h]=k.useState(0n),[f,p]=k.useState(!1),[m,w]=k.useState(null),[y,b]=k.useState(null),[v,E]=k.useState([]),[_,T]=k.useState(0),[I,R]=k.useState(!1),[S,B]=k.useState(!1),[j,U]=k.useState(!1),[M,C]=k.useState(!1),[x,A]=k.useState(),[N,O]=k.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:P,chain:D,connectedWalletAddress:L}=a.funding,$=a.funding.address,q=a.funding.erc20Address,[V,F]=k.useState(a.funding.amount);k.useEffect(()=>{q&&!P&&w(Error("Unable to fetch token details"))},[]);let Z=!!q&&!!P,X=Z?BigInt(parseFloat(V)*10**P.decimals):Fie(V),Y=L?c.find(({address:se})=>se===L):c[0],te=u0((Y==null?void 0:Y.walletClientType)||"unknown"),fe=(te==null?void 0:te.name)||"wallet",[he,pe]=k.useState(null);k.useEffect(()=>{(async()=>{if(!Y)return;let se=await Y.getEthereumProvider();pe(poe({account:Y.address,transport:goe(se)}).extend(gD))})().catch(console.error)},[Y]);let[be,ge]=k.useState(0n);k.useEffect(()=>{Hh({chain:D,transport:Ua(c0(D,t,e))}).getBalance({address:$}).then(ge).catch(console.error)},[]);let[ye,ft]=k.useState(0n);k.useEffect(()=>{Z&&tV({chain:D,address:$,appId:e,rpcConfig:t,erc20Address:q}).then(se=>ft(se.balance)).catch(console.error)},[]);let{tokenPrice:we}=I3(D.id),[Me,Oe]=k.useState({to:$,chain:D,value:X,data:void 0});k.useEffect(()=>{(async()=>{let se,Re;if(!he||!Y||I||j)return;R(!0);let et=Hh({chain:Me.chain,transport:Ua(c0(Me.chain,t,e))});if(Z&&!Me.data)return await et.simulateContract({address:q,chain:Me.chain,abi:iV,functionName:"transfer",args:[$,X],account:Y.address}).catch(He=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",He)})?(R(!1),void Oe({to:q,chain:Me.chain,data:wi({abi:iV,functionName:"transfer",args:[$,X]}),value:"0x0"})):(R(!1),void p(!0));try{se=await et.prepareTransactionRequest({account:Y.address,to:Me.to,chain:Me.chain,data:Me.data,value:BigInt(Me.value??0)})}catch(He){if(console.error(He),v.length>1)b(He.shortMessage??"Something went wrong");else if(S&&v.length===0)return void w(new oe(`Wallet ${No(Y.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE))}if(!se)return R(!1),void p(!0);R(!1),U(!0),u(!0),h(se.gas);try{await he.switchChain({id:Me.chain.id})}catch{await he.addChain({chain:Me.chain}),await he.switchChain({id:Me.chain.id})}try{Re=await he.sendTransaction(se)}catch(He){if(console.error(He),He.name==="TransactionExecutionError")if(v.length<1){let nt=He.shortMessage;(He.shortMessage.includes("rejected the request")||He.details.includes("rejected the request"))&&(nt="User rejected the request."),w(new oe(nt,void 0,le.TRANSACTION_FAILURE))}else b(He.shortMessage??"Something went wrong")}if(Re)return await he.waitForTransactionReceipt({hash:Re}),U(!1),S?(A(Re),void O("pending")):(C(!0),void r({eventName:dh,payload:{provider:"external",status:"success",txHash:Re,address:Y.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?ks(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??q??"ETH",destinationAddress:$,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:X?ks(X,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??q??D.nativeCurrency.name}}));U(!1)})().catch(console.error)},[he,Me]),k.useEffect(()=>{(async()=>{var nn;if(!f||!he||!Y)return;let se=CD(o.chains).filter(pt=>pt.id!==D.id&&!!pt.testnet==!!D.testnet);Z&&se.unshift(D);let Re=await z3e({chains:se,address:Y.address,appId:e,rpcConfig:t,includeUsdc:(nn=a.funding)==null?void 0:nn.isUSDC}),et=Z?Re.filter(pt=>pt.balance>0n):Re.filter(pt=>pt.balance>X),He=Z&&Re.every(pt=>pt.balance===0n);if(et.length<1)return void w(new oe(He?`Wallet ${No(Y.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${No(Y.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE));et.sort((pt,ri)=>Number(Z?(ri.erc20Balance??0n)-(pt.erc20Balance??0n):ri.balance-pt.balance));let nt=et.flatMap(pt=>{let ri=[{...pt,isErc20Quote:!1,isTestnet:!!D.testnet,input:P3({amount:X.toString(),user:Y.address,recipient:$,destinationChainId:D.id,destinationCurrency:q,originChainId:pt.chain.id})}];return Z&&q&&(pt.erc20Balance??0n)>=X&&ri.push({...pt,isErc20Quote:!0,isTestnet:!!D.testnet,input:P3({amount:X.toString(),user:Y.address,recipient:$,destinationChainId:D.id,destinationCurrency:q,originChainId:pt.chain.id,originCurrency:pt.erc20Address})}),ri}),Pe=(await Promise.allSettled(nt.map(async pt=>({...pt,quote:await s9(pt)})))).filter(pt=>pt.status==="fulfilled").map(pt=>pt.value);if(Pe.length<1)return void w(new oe(`Wallet ${No(Y.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE));let Wt=Pe.map(pt=>({bridgeTx:vT(pt.quote),balance:pt.balance,chain:pt.chain,erc20Balance:pt.erc20Balance,isErc20Quote:pt.isErc20Quote})).filter(pt=>!!pt.bridgeTx);if(Wt.length>1)return void E(Wt);let sn=Wt[0];sn?(B(!0),Oe({data:sn.bridgeTx.data,to:sn.bridgeTx.to,value:sn.bridgeTx.value,chain:sn.chain})):w(new oe(`Wallet ${No(Y.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE))})().catch(console.error)},[f]),HH({transactionHash:x,wallet:Y,isTestnet:!!D.testnet,bridgingStatus:N,setBridgingStatus:O,onSuccess({transactionHash:se,wallet:Re}){B(!1),C(!0),r({eventName:dh,payload:{provider:"external",status:"success",txHash:se,address:Re.address,chainId:Me.chain.id,chainType:"ethereum",value:Me.value?ks(BigInt(Me.value),(P==null?void 0:P.decimals)??18):void 0,token:(P==null?void 0:P.symbol)??q??"ETH",destinationAddress:$,destinationChainId:D.id,destinationChainType:"ethereum",destinationValue:X?ks(X,(P==null?void 0:P.decimals)??18):void 0,destinationToken:(P==null?void 0:P.symbol)??q??D.nativeCurrency.name}})},onFailure({error:se}){B(!1),w(se)}}),k.useEffect(()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:B3}}),i(hi,!1))},[m]);let Ee=!Z&&we?Wbe(V??"0",we):void 0,$e=Z?d:vH([d,X]),zt=$e&&we?iw($e,we):void 0,Se=$e?ah($e,(z=a==null?void 0:a.funding)!=null&&z.erc20Address?((J=(W=a==null?void 0:a.funding)==null?void 0:W.erc20ContractInfo)==null?void 0:J.symbol)||"ETH":((ee=a==null?void 0:a.funding)==null?void 0:ee.chain.nativeCurrency.symbol)||"ETH"):void 0,qe=d&&we?iw(d,we):void 0,Ye=d?ah(d,((ce=D==null?void 0:D.nativeCurrency)==null?void 0:ce.symbol)||"ETH"):void 0;if(k.useEffect(()=>{if(!M)return;let se=setTimeout(n,M$);return()=>clearTimeout(se)},[M]),M)return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(lh,{}),g.jsxs(e9,{children:[g.jsx(a3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),g.jsx(Gl,{title:"Success!",description:`Youve successfully added ${V} ${Z?P.symbol:D.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),g.jsx(Kl,{}),g.jsx(Ln,{})]});let kt=Z?`${PT({amount:ye,decimals:P.decimals})}  ${P.symbol}`:ah(be,D.nativeCurrency.symbol,3,!0),K=v[_];return v.length>1&&K?g.jsx(J3e,{displayName:fe,configuredFundingChain:D,erc20ContractInfo:P,formattedBalance:kt,fundingAmount:V,fundingCurrency:Z?P.symbol:D.nativeCurrency.symbol,fundingAmountInUsd:Ee,options:v,selectedOption:K,isPreparing:I,isSubmitting:j,addressToFund:$,fundingWalletAddress:(Y==null?void 0:Y.address)||"",errorMessage:y,onSubmit:()=>{var se;((se=a.funding)==null?void 0:se.amount)!==V?async function(){if(Y&&K)try{let Re=await s9({isTestnet:!!D.testnet,input:P3({amount:X.toString(),user:Y.address,recipient:$,destinationChainId:D.id,destinationCurrency:q,originChainId:K.chain.id})}),et=vT(Re);if(!et)throw Error("Invalid transaction request");B(!0),Oe({data:et.data,to:et.to,value:et.value,chain:K.chain})}catch(Re){console.error(Re),w(new oe("Unable to fetch quotes for bridging",Re,le.INSUFFICIENT_BALANCE))}}().catch(console.error):Oe({to:K.bridgeTx.to,data:K.bridgeTx.data,value:K.bridgeTx.value,chain:K.chain})},onSelect:se=>{se!==_&&(b(null),T(se))},onAmountChange:F}):l&&d&&Y&&(a!=null&&a.funding)?g.jsx(NT,{wallet:Y,displayName:fe,addressToFund:$,isBridging:S,isErc20Flow:Z,totalPriceInUsd:zt,totalPriceInNativeCurrency:Se,gasPriceInUsd:qe,gasPriceInNativeCurrency:Ye,chainId:D.id,chainName:D.name}):g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(ew,{}),g.jsx("div",{style:{marginTop:"1rem"}}),g.jsx(Ln,{})]})}},X3e={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=Je(),{navigate:n,setModalData:r,app:i,data:s}=it(),{wallets:o}=D3(),a=k.useRef(!1),c=O3(),[l,u]=k.useState(!1),[d,h]=k.useState(!1),[f,p]=k.useState(null),[m,w]=k.useState(),[y,b]=k.useState();if(!(s!=null&&s.funding)||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:v,connectedWalletAddress:E,chain:_,cluster:T,isUSDC:I}=s.funding,R=s.funding.address,S=s.funding.erc20Address,B=s.funding.isUSDC?"USDC":_.nativeCurrency.symbol,j=T??{name:"mainnet-beta"},U=E?o.find(({address:x})=>x===E):o[0],M=u0((U==null?void 0:U.walletClientType)||"unknown"),C=(M==null?void 0:M.name)||"wallet";return k.useEffect(()=>{(async function(){var P;if(!U||!_||a.current)return;let x=c(h9);if(!x)return void p(new oe("Unable to solana plugin"));a.current=!0,_!=null&&_.testnet&&console.warn("Solana testnets are not supported for bridging");let A=I?1e6*parseFloat(v):Fie(v),N=await s9({isTestnet:!!_.testnet,input:P3({amount:A.toString(),user:U.address,recipient:R,destinationChainId:_.id,originChainId:eH,originCurrency:I?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":tH,destinationCurrency:I?S:void 0})}).catch(console.error);if(!N)return void p(new oe(`Unable to fetch quotes for bridging. Wallet ${Fq(U.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE));let O=await x.createBridgeTransactionFromRelayQuote({quote:N,from:U.address,cluster:j});if(O)try{u(!0);let{connection:D,transaction:L}=O,$=await D.simulateTransaction(L);if($.value.err)return(P=$.value.logs)!=null&&P.find(F=>/insufficient (lamports|funds)/gi.test(F))?void p(new oe(`Wallet ${Fq(U==null?void 0:U.address)} does not have enough funds. ${N.details.currencyIn.amountFormatted} ${B} are needed to complete the transaction.`,void 0,le.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",$.value.err),void p(new oe("Something went wrong",void 0,le.TRANSACTION_FAILURE)));let q=await U.sendTransaction(L,D),V=await D.confirmTransaction(q);if(V.value.err)return console.error("Transaction failed:",V.value.err),void p(new oe("Something went wrong",void 0,le.TRANSACTION_FAILURE));w(q),b("pending")}catch(D){if(console.error(D),/user rejected the request/gi.test(D.message||""))return void p(new oe("Transaction was rejected by the user",void 0,le.TRANSACTION_FAILURE));p(new oe("Something went wrong",void 0,le.TRANSACTION_FAILURE))}else p(new oe(`Unable to select bridge option from quotes. Wallet ${Fq(U.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),HH({transactionHash:m,wallet:U,isTestnet:!1,bridgingStatus:y,setBridgingStatus:b,onSuccess({transactionHash:x,wallet:A}){u(!1),h(!0),e({eventName:dh,payload:{provider:"external",status:"success",txHash:x,address:A.address,chainType:"solana",clusterName:j.name,token:"SOL",destinationAddress:R,destinationChainId:_.id,destinationChainType:"ethereum",destinationValue:v,destinationToken:I?"USDC":"ETH"}})},onFailure({error:x}){u(!1),p(x)}}),k.useEffect(()=>{if(!d)return;let x=setTimeout(t,M$);return()=>clearTimeout(x)},[d]),k.useEffect(()=>{f&&(r({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:f,previousScreen:B3}}),n(hi,!1))},[f]),d?g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(lh,{}),g.jsxs(e9,{children:[g.jsx(a3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),g.jsx(Gl,{title:"Success!",description:`Youve successfully added ${v} ${B} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),g.jsx(Kl,{}),g.jsx(Ln,{})]}):l&&U?g.jsx(NT,{wallet:U,displayName:C,addressToFund:R,isBridging:l,isErc20Flow:!1,chainId:_.id,chainName:_.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(ew,{}),g.jsx("div",{style:{marginTop:"1rem"}}),g.jsx(Ln,{})]})}},e5e={component:()=>{var h;let{data:t,setModalData:e}=it(),n=t==null?void 0:t.funding,r=n.chainType==="solana",i=k.useRef(null),{tokenPrice:s}=I3(r?"solana":n.chain.id),o=r?void 0:n,a=!(!(o!=null&&o.erc20Address)||o!=null&&o.erc20ContractInfo),c=r?n.isUSDC?"USDC":"SOL":n.erc20Address?(h=n.erc20ContractInfo)==null?void 0:h.symbol:n.chain.nativeCurrency.symbol||"ETH",l=parseFloat(n.amount),u=!isNaN(l)&&l>0,d=s?Wbe(n.amount,s):void 0;return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(y0,{children:"Confirm or edit amount"}),g.jsxs(rT,{style:{marginTop:"32px"},children:[g.jsx(V3e,{children:a?g.jsx(ew,{size:"50px"}):g.jsxs(g.Fragment,{children:[g.jsxs(K3e,{onClick:()=>{var f;return(f=i.current)==null?void 0:f.focus()},children:[g.jsx(o_t,{ref:i,value:n.amount,onChange:f=>{let p=f.target.value;/^[0-9.]*$/.test(p)&&p.split(".").length-1<=1&&e({...t,funding:{...n,amount:p},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:p}:void 0})}}),g.jsx(Z3e,{children:c})]}),!(o!=null&&o.erc20Address)&&g.jsx(Y3e,{children:d&&u?`${d} USD`:""})]})}),g.jsx(X$,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),g.jsx(Ln,{})]})}},B3={component:()=>{var _,T,I,R;let t,{connectors:e}=Je(),{app:n,setModalData:r,data:i,navigate:s}=it(),{wallets:o}=h0(),{wallets:a}=D3(),[c,l]=k.useState("default"),u=((_=i==null?void 0:i.funding)==null?void 0:_.chainType)==="solana",d=!!((T=i==null?void 0:i.funding)!=null&&T.crossChainBridgingEnabled);t=((I=i==null?void 0:i.funding)==null?void 0:I.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":d&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":d&&!((R=i.funding)!=null&&R.isUSDC)?"ethereum-and-solana":"solana-only";let h=o.filter(S=>S.walletClientType!=="privy"),f=h.map(S=>S.walletClientType),p=a.filter(S=>S.walletClientType!=="privy"),m=p.map(S=>S.walletClientType),w=[],y={...i.funding};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1);let b=({address:S,walletChainType:B,walletClientType:j})=>{r({...i,funding:{...y,connectedWalletAddress:S,onContinueWithExternalWallet:()=>s(E({destChainType:u?"solana":"ethereum",sourceChainType:B}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:S,walletClientType:j}}:void 0}),s(e5e)};t!=="solana-only"&&w.push(...h.map((S,B)=>g.jsx(t5e,{onClick:()=>b({address:S.address,walletChainType:"ethereum",walletClientType:S.walletClientType}),icon:S.meta.icon,name:S.meta.name,chainType:S.type},B))),t!=="ethereum-only"&&w.push(...p.map((S,B)=>g.jsx(t5e,{onClick:()=>b({address:S.address,walletChainType:"solana",walletClientType:S.walletClientType}),icon:S.meta.icon,name:S.meta.name,chainType:S.type},B))),w.push(...$3e({walletList:n.appearance.walletList.filter(S=>!h.some(B=>B.walletClientType===S)&&!p.some(B=>B.walletClientType===S)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...n.appearance.walletList,...f,...m],walletConnectEnabled:n.externalWallets.walletConnect.enabled}));let v=g.jsx(y3e,{text:"More wallets",onClick:()=>l("overflow")}),E=({sourceChainType:S,destChainType:B})=>S==="ethereum"&&B==="solana"?N5e:S==="ethereum"&&B==="ethereum"?Q3e:S==="solana"&&B==="ethereum"?X3e:y.externalSolanaFundingScreen;return k.useEffect(()=>{r({...i,externalConnectWallet:{onCompleteNavigateTo:({address:S,walletClientType:B,walletChainType:j})=>(r({...i,funding:{...y,onContinueWithExternalWallet:()=>{s(E({destChainType:u?"solana":"ethereum",sourceChainType:j??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:S||"",walletClientType:B||""}}:void 0}),e5e)}})},[]),g.jsxs(g.Fragment,c==="overflow"?{children:[g.jsx(vn,{backFn:()=>l("default")},"header"),g.jsxs(cH,{children:[g.jsx(Rm,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),g.jsx(Ln,{})]}:{children:[g.jsx(Zc,{}),g.jsx(Gl,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),g.jsxs(cH,{children:[w.length>4?w.slice(0,3):w,w.length>4&&v]}),g.jsx(Ln,{})]})}};let t5e=({onClick:t,icon:e,name:n,chainType:r})=>g.jsxs(xi,{onClick:t,children:[g.jsx(p9,{style:{width:20},children:g.jsx("img",{src:e})}),n,g.jsx(Of,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&g.jsx(Of,{color:"gray",children:"Solana"})]});const aV={component:()=>{var x,A;let{closePrivyModal:t,createAnalyticsEvent:e}=Je(),{navigate:n,setModalData:r,app:i,data:s}=it(),{wallets:o}=D3(),a=O3(),[c,l]=k.useState(0n),[u,d]=k.useState(null),[h,f]=k.useState(!1),[p,m]=k.useState(!1),w=k.useRef(!1);if(!(s!=null&&s.funding)||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:y,amount:b,cluster:v,connectedWalletAddress:E}=s.funding,_=function({name:N,rpcUrl:O}){if(O)return O;switch(N){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}(v),{tokenPrice:T}=I3("solana"),{fundingAmountInBaseUnit:I,totalPriceInUsd:R,totalPriceInNativeCurrency:S,feePriceInNativeCurrency:B,feePriceInUsd:j}=Hbe({amount:b,fee:c,tokenPrice:T,isUsdc:s.funding.isUSDC}),U=E?o.find(({address:N})=>N===E):o[0],M=u0((U==null?void 0:U.walletClientType)||"unknown"),C=(M==null?void 0:M.name)||"wallet";return k.useEffect(()=>{(async()=>{var N,O,P,D;if((U==null?void 0:U.type)==="solana"&&U.sendTransaction&&!h&&!w.current){w.current=!0;try{let L=a(h9);if(!L)throw new oe("Unable to load solana plugin");let{connection:$,transaction:q}=(N=s.funding)!=null&&N.isUSDC?await L.createSplTransferTransaction({from:U.address,to:y,amount:I,mintAddress:RS[v.name],cluster:v}):await L.createTransferTransaction({from:U.address,to:y,amount:I,cluster:v}),V=await q.getEstimatedFee($);V!=null&&l(BigInt(V)),f(!0);let F=await $.simulateTransaction(q);if(F.value.err){let te=(O=F.value.logs)==null?void 0:O.find(he=>/insufficient funds/gi.test(he)),fe=(P=F.value.logs)==null?void 0:P.find(he=>/insufficient lamports/gi.test(he));return te?void d(new oe(`Wallet ${No(U.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE)):fe?void d(new oe(`Wallet ${No(U.address,void 0,void 0,"solana")} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`,void 0,le.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",F.value.err),void d(new oe("Something went wrong",void 0,le.TRANSACTION_FAILURE)))}let Z=await U.sendTransaction(q,$),{value:X,token:Y}=(D=s.funding)!=null&&D.isUSDC?{value:ks(I,6),token:"USDC"}:{value:ks(I,9),token:"SOL"};e({eventName:dh,payload:{provider:"external",status:"success",txHash:Z,rpcEndpoint:_,address:U.address,value:X,chainType:"solana",clusterName:v.name,token:Y,destinationAddress:y,destinationValue:X,destinationChainType:"solana",destinationClusterName:v.name,destinationToken:Y}}),f(!1),m(!0)}catch(L){if(console.error(L),f(!1),/user rejected the request/gi.test(L.message||""))return void d(new oe("Transaction was rejected by the user",void 0,le.TRANSACTION_FAILURE));d(new oe("Something went wrong",void 0,le.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>w.current=!1)},[]),k.useEffect(()=>{u&&(r({funding:s==null?void 0:s.funding,solanaFundingData:s==null?void 0:s.solanaFundingData,sendTransaction:s==null?void 0:s.sendTransaction,errorModalData:{error:u,previousScreen:B3}}),n(hi,!1))},[u]),k.useEffect(()=>{if(!p)return;let N=setTimeout(t,M$);return()=>clearTimeout(N)},[p]),p?g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(lh,{}),g.jsxs(e9,{children:[g.jsx(a3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),g.jsx(Gl,{title:"Success!",description:`Youve successfully added ${b} ${(x=s.funding)!=null&&x.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),g.jsx(Kl,{}),g.jsx(Ln,{})]}):U&&h?g.jsx(NT,{wallet:U,displayName:C,addressToFund:y,isBridging:!1,isErc20Flow:!!((A=s.funding)!=null&&A.isUSDC),totalPriceInUsd:R,totalPriceInNativeCurrency:S,gasPriceInUsd:j,gasPriceInNativeCurrency:B,chainId:"solana",chainName:v.name}):g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(ew,{}),g.jsx("div",{style:{marginTop:"1rem"}}),g.jsx(Ln,{})]})}},n5e=({children:t,theme:e})=>g.jsxs(u_t,{$theme:e,children:[g.jsx(aq,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),g.jsx(d_t,{$theme:e,children:t})]});let u_t=Q.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),d_t=Q.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const h_t=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:g.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),f_t=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[g.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),g.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),g.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),g.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),g.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),g.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),g.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),r5e=t=>{let[e,n]=k.useState();return k.useEffect(()=>{t().then(r=>{n(r)}).catch(()=>{})},[]),e},i5e=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=Hh({chain:e,transport:Ua(c0(e,n,r))}),[s,o]=await Promise.all([i.readContract({abi:s5e,address:t,functionName:"symbol"}),i.readContract({abi:s5e,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let s5e=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const p_t={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=it(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=Je(),[a,c]=k.useState("pending-in-flow"),l=k.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:d,popup:h}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return k.useEffect(()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let f=setInterval(async()=>{if(d)try{let{status:p}=await o.getCoinbaseOnRampStatus({partnerUserId:d});if(p==="success")return void c("success");if(p==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(l.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void n(Gc);h!=null&&h.closed&&(l.current=l.current+1,c("pending-after-flow"))}catch(p){console.error(p),c("error"),s({eventName:dh,payload:{status:"failure",provider:"coinbase-onramp",error:p.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(Gc)}},1500);return()=>clearInterval(f)}},[d,h,a]),g.jsxs(g.Fragment,{children:[g.jsx(vn,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),r()}},"header"),g.jsx(g_t,{status:a,onClickCta:i}),g.jsx(Ln,{})]})}};let g_t=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=k.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return g.jsxs(g.Fragment,{children:[g.jsxs(w_t,{children:[g.jsx(m_t,{isSucccess:t==="success"}),g.jsxs(EH,{children:[g.jsx("h3",{children:n}),g.jsx(y_t,{children:r})]})]}),i&&g.jsx(wr,{onClick:e,children:i})]})},m_t=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Qu,{color:r,style:{position:"absolute"}}),g.jsx(uH,{color:r}),g.jsx(P4t,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?FE:()=>g.jsx(Cq,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return g.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&g.jsx(e,{width:"4rem",height:"4rem",color:n})})},y_t=Q.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),w_t=Q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),v_t={[Iu.id]:"ethereum",[Su.id]:"base",[Vh.id]:"optimism",[_c.id]:"polygon",[Au.id]:"arbitrum"};const o5e=(t,e,n,r,i,s)=>new Promise(async(o,a)=>{let c=lT();if(!c)return void a(Error("Unable to initialize flow"));let l=e.chainType==="ethereum"?function(p){let m=v_t[p];if(!m)throw new oe(`Unsupported chainId: ${p} for Coinbase Onramp`);return m}(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?rGe(e.chain.id):"SOL",d=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[l]}],assets:[u]}),{url:h}=tGe({appId:t.getAppId(),input:d,amount:e.amount,blockchain:l,asset:u,experience:s});c.location=h.toString();let f={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),n({funding:f,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:c}}),r(p_t),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout(()=>{n({funding:f,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:d.partner_user_id,popup:c}})},5e3),o()}),b_t=({size:t=61,...e})=>g.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:g.jsxs("g",{id:"moonpay_symbol_wht 2",children:[g.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),g.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),a5e={component:()=>{let{app:t,data:e,setModalData:n,navigateBack:r}=it(),{closePrivyModal:i}=Je(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,o=function(a,c=!1){let[l,u]=k.useState(null),{createAnalyticsEvent:d}=Je(),{data:h,navigate:f,setModalData:p}=it(),m=h==null?void 0:h.funding,w=k.useRef(0);return k.useEffect(()=>{let y=setInterval(async()=>{var b,v;if(a)try{let[E]=await async function(T,I){return rle(`${I?v4t:w4t}/transactions/ext/${T}`,{query:{apiKey:I?x4t:b4t}})}(a,c),_=E.status==="waitingAuthorization"&&E.paymentMethod==="credit_debit_card"?"pending":E.status;if(["failed","completed","awaitingAuthorization"].includes(_)&&(d({eventName:dh,payload:{status:_,provider:l5e,paymentMethod:E.paymentMethod,cardPaymentType:E.cardPaymentType,currency:(b=E.currency)==null?void 0:b.code,baseCurrencyAmount:E.baseCurrencyAmount,quoteCurrencyAmount:E.quoteCurrencyAmount,feeAmount:E.feeAmount,extraFeeAmount:E.extraFeeAmount,networkFeeAmount:E.networkFeeAmount,isSandbox:c}}),clearInterval(y)),_==="failed"||_==="serviceFailure")return p({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:h==null?void 0:h.solanaFundingData}),void f(Gc);u(_)}catch(E){((v=E.response)==null?void 0:v.status)!==404&&(w.current+=1),w.current>=3&&(d({eventName:dh,payload:{status:"serviceFailure",provider:l5e}}),clearInterval(y),p({funding:{...m,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:h==null?void 0:h.solanaFundingData}),f(Gc))}},3e3);return()=>clearInterval(y)},[a,w]),l}(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return g.jsxs(g.Fragment,{children:[g.jsx(vn,{title:"Fund account",backFn:()=>{let a={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),n({funding:a,solanaFundingData:e==null?void 0:e.solanaFundingData}),r()}}),g.jsx(x_t,{status:o,onClickCta:i}),g.jsx(Ln,{})]})}};let x_t=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=k.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return g.jsxs(g.Fragment,{children:[g.jsxs(__t,{children:[g.jsx(E_t,{status:t}),g.jsxs(EH,{children:[g.jsx("h3",{children:n}),g.jsx(C_t,{children:r})]})]}),i&&g.jsx(wr,{onClick:e,children:i})]})},E_t=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return g.jsxs("div",{style:{position:"relative"},children:[g.jsx(Qu,{color:r,style:{position:"absolute"}}),g.jsx(uH,{color:r}),g.jsx(b_t,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return FE;case"waitingAuthorization":return()=>g.jsx(Cq,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return g.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&g.jsx(e,{width:"4rem",height:"4rem",color:n})})},C_t=Q.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),__t=Q.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const A_t=async(t,e,n,r,i,s,o,a)=>{var f,p;let c=lT();if(!c)throw Error("Unable to initialize flow");let l=e.chainType==="ethereum"?((f=e.moonpayConfigOverride)==null?void 0:f.currencyCode)??TKe(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:d}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:l,quoteCurrencyAmount:((p=e.moonpayConfigOverride)==null?void 0:p.quoteCurrencyAmount)??k_t(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),c.location=u;let h={...o==null?void 0:o.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:h,solanaFundingData:o==null?void 0:o.solanaFundingData}),s(a5e),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:d},funding:h,solanaFundingData:o==null?void 0:o.solanaFundingData})},8e3)};let c5e=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const S_t=()=>c5e("https://apple.com/apple-pay"),I_t=()=>c5e("https://google.com/pay"),Gc={component:()=>{var v,E,_,T;let{wallets:t}=h0(),{wallets:e}=D3(),{navigate:n,data:r,setModalData:i}=it(),{client:s}=Je(),o=qn(),a=r==null?void 0:r.funding,c=r5e(S_t),l=r5e(I_t),u=a.chainType==="solana",d=u?void 0:a,h=k.useMemo(()=>((I,R,S,B,j,U)=>{var L;let M,C,x=S.chainType==="solana",A=x?void 0:S,N=S.isUSDC?"USDC":A!=null&&A.erc20Address?void 0:"native-currency",O=!!x||N&&$Ke(Number(S.chain.id),N),P=!!x||N&&nGe(Number(S.chain.id),N),D=[];for(let $ of(S.preferredCardProvider&&S.supportedOptions.sort(q=>q.provider===S.preferredCardProvider?-1:1),S.supportedOptions))$.method==="card"&&$.provider==="coinbase"&&P&&D.push(()=>o5e(R,S,B,j,U,"buy")),$.method==="card"&&$.provider==="moonpay"&&O&&N&&D.push(()=>A_t(R,S,I,N,B,j,U,"credit_debit_card"));for(let $ of S.supportedOptions)$.method==="exchange"&&$.provider==="coinbase"&&P&&(M=()=>o5e(R,S,B,j,U,"buy"));for(let $ of((L=U==null?void 0:U.funding)==null?void 0:L.supportedOptions)??[])$.method==="wallets"&&(C=()=>j(B3));return{onFundWithCard:D,onFundWithExchange:M,onFundWithWallet:C}})(o,s,a,i,n,r),[o,s,a,r,i,n]),f=u?e.find(({address:I})=>I===a.address):t.find(({address:I})=>Gi(I)===Gi(a.address)),p=u0((f==null?void 0:f.walletClientType)||"unknown"),m=(p==null?void 0:p.name)||"wallet",w=f&&f.walletClientType!=="privy"?m:o.name,y=k.useMemo(()=>{var I,R,S,B;return(R=(I=a.uiConfig)==null?void 0:I.landing)!=null&&R.title?(B=(S=a.uiConfig)==null?void 0:S.landing)==null?void 0:B.title:`Add funds to your ${w!=null&&w.toLowerCase().endsWith("wallet")?w:w+" wallet"}`},[(E=(v=a.uiConfig)==null?void 0:v.landing)==null?void 0:E.title,w]);k.useEffect(()=>{if(a!=null&&a.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1},solanaFundingData:r==null?void 0:r.solanaFundingData}),a==null?void 0:a.defaultFundingMethod){case"card":h.onFundWithCard[0]&&h.onFundWithCard[0]();break;case"exchange":h.onFundWithExchange&&h.onFundWithExchange();break;case"wallet":h.onFundWithWallet&&h.onFundWithWallet();break;case"manual":n(OT)}},[]),k.useEffect(()=>{d!=null&&d.erc20Address&&!d.erc20ContractInfo&&i5e({address:d.erc20Address,chain:d.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then(I=>{i({...r,funding:{...d,erc20ContractInfo:I?{symbol:I.symbol,decimals:I.decimals}:void 0}})}).catch(console.error)},[d==null?void 0:d.erc20Address,d==null?void 0:d.chain]);let b=!(!(d!=null&&d.erc20Address)||d!=null&&d.erc20ContractInfo);return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx("h3",{children:y}),g.jsxs(s_t,{children:[a.errorMessage&&g.jsx(n5e,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),((_=h.onFundWithCard)==null?void 0:_[0])&&g.jsxs(xi,{disabled:b,onClick:h.onFundWithCard[0],children:[g.jsx(p9,{children:g.jsx(e6t,{style:{width:24}})}),"Pay with card",c?g.jsx(h_t,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):l?g.jsx(f_t,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),h.onFundWithExchange&&g.jsxs(xi,{disabled:b,onClick:h.onFundWithExchange,children:[g.jsx(p9,{children:g.jsx(Cq,{style:{width:24}})}),"Transfer from an exchange"]}),h.onFundWithWallet&&g.jsxs(xi,{disabled:b,onClick:h.onFundWithWallet,children:[g.jsx(p9,{children:g.jsx(t3e,{style:{width:24}})}),"Transfer from wallet"]}),g.jsxs(xi,{disabled:b,onClick:()=>n(OT),children:[g.jsx(p9,{children:g.jsx(v6t,{style:{width:24}})}),"Receive funds"]}),(a==null?void 0:a.showAlternateFundingMethod)&&((T=h.onFundWithCard)==null?void 0:T[1])&&g.jsx(M3e,{theme:o.appearance.palette.colorScheme,children:g.jsxs(a_t,{children:["Having trouble or facing location restrictions?"," ",g.jsx(c_t,{onClick:h.onFundWithCard[1],children:"Try a different provider."})]})})]}),g.jsx(Ln,{})]})}},l5e="moonpay";function k_t(t){return parseFloat(t)}function $_t(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function cV(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const u5e={[Iu.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[xD.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[Vh.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[YA.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[_c.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[k8.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[Su.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[GA.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Eb.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bD.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[Au.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[KA.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},d5e=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var p;let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let c=rV(e.fundingConfig.options);if(c.length<1)throw Error("Wallet funding is not enabled");o=i||(cV(n)&&n.chain?n.chain.id:w2e(e.fundingConfig.defaultRecommendedCurrency.chain));let l=e.chains.find(m=>m.id===o);if(!l)throw new oe(`Funding chain ${o} is not in PrivyProvider chains list`);let u=cV(n)&&n.amount?n.amount:e.fundingConfig.defaultRecommendedAmount,d=!1;function h(){if(!o)return;let m=u5e[o];c.find(w=>w.method==="wallets")&&!m&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=m,d=!0}cV(n)&&"asset"in n?n.asset==="USDC"?h():typeof n.asset!="string"&&"erc20"in n.asset&&(d=((m,w)=>m===u5e[w.id])(a=n.asset.erc20,l)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&h();let f=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:l,erc20Address:a,erc20ContractInfo:d?{symbol:"USDC",decimals:6}:void 0,isUSDC:d,methodScreen:r,supportedOptions:c,comingFromSendTransactionScreen:s,defaultFundingMethod:f,usingDefaultFundingMethod:!!f,preferredCardProvider:(p=n==null?void 0:n.card)==null?void 0:p.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},...$_t(n)?{moonpayConfigOverride:n.config}:{},uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:aV}};function T_t({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){var l,u,d,h;if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let o=rV(n.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");if((e==null?void 0:e.asset)==="USDC"&&((l=e==null?void 0:e.cluster)==null?void 0:l.name)==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let a=(e==null?void 0:e.amount)??n.fundingConfig.defaultRecommendedAmount,c=e==null?void 0:e.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:o,amount:a,isUSDC:(e==null?void 0:e.asset)==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,cluster:{name:((u=e==null?void 0:e.cluster)==null?void 0:u.name)??"mainnet-beta",rpcUrl:n.solanaClusters[((d=e==null?void 0:e.cluster)==null?void 0:d.name)??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:c,preferredCardProvider:(h=e==null?void 0:e.card)==null?void 0:h.preferredProvider,usingDefaultFundingMethod:!!c,uiConfig:e==null?void 0:e.uiConfig,externalSolanaFundingScreen:i}}const h5e=({children:t,theme:e})=>g.jsxs(P_t,{$theme:e,children:[g.jsx(yy,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),g.jsx(N_t,{$theme:e,children:t})]});let P_t=Q.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),N_t=Q.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const O_t=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>g.jsx(Rn,{title:"Export wallet",subtitle:g.jsxs(g.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",g.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:g.jsxs(R_t,{children:[g.jsx(h5e,{theme:n,children:"Never share your private key or seed phrase with anyone."}),g.jsx(TT,{title:"Your wallet",address:t,showCopyButton:!0}),g.jsx("div",{style:{width:"100%"},children:i?g.jsx(M_t,{}):e&&s&&g.jsx(D_t,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let R_t=Q.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),M_t=()=>g.jsx(j_t,{children:g.jsx(B_t,{children:"Loading..."})}),j_t=Q.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),B_t=Q.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function D_t(t){let[e,n]=k.useState(t.dimensions.width),[r,i]=k.useState(void 0),s=k.useRef(null);k.useEffect(()=>{if(s.current&&e===void 0){let{width:c}=s.current.getBoundingClientRect();n(c)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})},[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return g.jsx("div",{ref:s,children:e&&g.jsxs(L_t,{children:[g.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:tbe(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...r},{token:t.accessToken})}),g.jsx(f5e,{children:"Loading..."}),o&&g.jsx(f5e,{children:"Loading..."})]})})}const lV={component:()=>{let[t,e]=k.useState(null),{authenticated:n,user:r}=Sn(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=Je(),c=qn(),{data:l,onUserCloseViaDialogOrKeybindRef:u}=it(),{onFailure:d,onSuccess:h,origin:f,appId:p,appClientId:m,entropyId:w,entropyIdVerifier:y,walletId:b,hdWalletIndex:v,chainType:E,address:_,isUnifiedWallet:T,imported:I}=l.keyExport,R=B=>{i({shouldCallAuthOnSuccess:!1}),d(typeof B=="string"?Error(B):B)},S=()=>{i({shouldCallAuthOnSuccess:!1}),h(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:_}})};return k.useEffect(()=>{if(!n)return R("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(R)},[n,r]),u.current=S,g.jsx(O_t,{address:_,accessToken:t,appConfigTheme:c.appearance.palette.colorScheme,onClose:S,isLoading:!t,exportButtonProps:t?{origin:f,appId:p,appClientId:m,clientAnalyticsId:o,entropyId:w,entropyIdVerifier:y,walletId:b,hdWalletIndex:v,isUnifiedWallet:T,imported:I,chainType:E}:void 0})}};let L_t=Q.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),f5e=Q.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const U_t=({connectionFailed:t,onClose:e})=>g.jsx(Rn,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:QI,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),Mm={component:()=>{let{authenticated:t,user:e}=Sn(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=Je(),{navigate:o,data:a,setModalData:c,onUserCloseViaDialogOrKeybindRef:l}=it(),u=k.useMemo(()=>Date.now(),[]),[d,h]=k.useState(!1),{onCompleteNavigateTo:f,onFailure:p,shouldForceMFA:m,entropyId:w,entropyIdVerifier:y,recoveryMethod:b,connectingWalletAddress:v,isUnifiedWallet:E=!1}=a==null?void 0:a.connectWallet,_=T=>{d||(h(!0),p(typeof T=="string"?Error(T):T))};return k.useEffect(()=>{let T;return t?s?((async()=>{let I=await n.getAccessToken();if(!I)return _("User must be authenticated and have a Privy wallet before it can be connected");try{E||await s.connect({accessToken:I,entropyId:w,entropyIdVerifier:y}),m&&await s.verifyMfa({accessToken:I});let R=(Date.now()-u)/1e3;f===lV&&R<1?T=setTimeout(()=>{o(f,!1)},1e3*(1-R)):o(f,!1)}catch(R){if(r9(R)&&b==="privy"){let S=await n.getAccessToken();if(!S)return _("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:v}});let B=await(s==null?void 0:s.recover({accessToken:S,entropyId:w,entropyIdVerifier:y}));B!=null&&B.entropyId||_(Error("Unable to recover wallet")),f?o(f):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:v}}),o(f)}catch{_("An error has occurred, please try again.")}}else r9(R)&&b!=="privy"&&b!=="privy-v2"?(c({...a,recoverWallet:{entropyId:w,entropyIdVerifier:y,onCompleteNavigateTo:f,onFailure:p},recoveryOAuthStatus:{provider:b,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(R3e(b))):_(R)}})(),()=>clearTimeout(T)):void 0:_("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),l.current=()=>{_("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},g.jsx(U_t,{connectionFailed:d,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},p5e=Q(yt).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var g5e=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return g.jsx(m5e,{$isLoading:a});let c=e&&r&&o?function(l,u,d){let h=parseFloat(l),f=parseFloat(d);if(h===0||f===0||Number.isNaN(h)||Number.isNaN(f))return l;let p=Math.ceil(-Math.log10(.01/(f/h))),m=Math.pow(10,p=Math.max(p=Math.min(p,u),1)),w=+(Math.floor(h*m)/m).toFixed(p).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(w)}(e,o,r):e;return g.jsxs("div",{children:[g.jsxs(m5e,{$isLoading:a,children:[t&&g.jsx(z_t,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,c," ",n]}),r&&g.jsxs(F_t,{$isLoading:a,children:["$",r]})]})};let m5e=Q.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],AT);const F_t=Q.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],AT);let z_t=Q.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const W_t=t=>{var a,c,l,u,d,h,f,p;let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:s,functionName:o}=n;return g.jsx($T,{children:g.jsxs(j3,{children:[s!=="transaction"&&g.jsxs(st,{children:[g.jsx(yt,{children:"Action"}),g.jsx($t,{children:o})]}),o==="mint"&&"args"in n&&n.args.filter(m=>m).map((m,w)=>{var y,b;return g.jsxs(st,{children:[g.jsx(yt,{children:`Param ${w}`}),g.jsx($t,{children:typeof m=="string"&&us(m)?g.jsx(Cn,{address:m,url:(b=(y=e==null?void 0:e.blockExplorers)==null?void 0:y.default)==null?void 0:b.url,showCopyIcon:!1}):m==null?void 0:m.toString()})]},w)}),o==="setApprovalForAll"&&n.operator&&g.jsxs(st,{children:[g.jsx(yt,{children:"Operator"}),g.jsx($t,{children:g.jsx(Cn,{address:n.operator,url:(c=(a=e==null?void 0:e.blockExplorers)==null?void 0:a.default)==null?void 0:c.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&n.approved!==void 0&&g.jsxs(st,{children:[g.jsx(yt,{children:"Set approval to"}),g.jsx($t,{children:n.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?g.jsxs(g.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&g.jsxs(st,{children:[g.jsx(yt,{children:"Amount"}),g.jsxs($t,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token ID"}),g.jsx($t,{children:n.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&g.jsxs(g.Fragment,{children:["amounts"in n&&n.amounts&&g.jsxs(st,{children:[g.jsx(yt,{children:"Amounts"}),g.jsx($t,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token IDs"}),g.jsx($t,{children:n.tokenIds.join(", ")})]})]}),o==="approve"&&n.spender&&g.jsxs(st,{children:[g.jsx(yt,{children:"Spender"}),g.jsx($t,{children:g.jsx(Cn,{address:n.spender,url:(u=(l=e==null?void 0:e.blockExplorers)==null?void 0:l.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferFrom&&g.jsxs(st,{children:[g.jsx(yt,{children:"Transferring from"}),g.jsx($t,{children:g.jsx(Cn,{address:n.transferFrom,url:(h=(d=e==null?void 0:e.blockExplorers)==null?void 0:d.default)==null?void 0:h.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&n.transferTo&&g.jsxs(st,{children:[g.jsx(yt,{children:"Transferring to"}),g.jsx($t,{children:g.jsx(Cn,{address:n.transferTo,url:(p=(f=e==null?void 0:e.blockExplorers)==null?void 0:f.default)==null?void 0:p.url,showCopyIcon:!1})})]})]})})},q_t=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?g.jsx(y5e,{children:g.jsxs(h5e,{theme:n,children:[g.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),g.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?g.jsx(g.Fragment,{children:g.jsxs(y5e,{children:[g.jsx(n5e,{theme:n,children:g.jsxs("div",{children:[g.jsx("strong",{children:"This is a malicious transaction"}),g.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),g.jsxs(H_t,{children:[g.jsx(O2e,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),g.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let y5e=Q.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),H_t=Q.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const V_t=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,K_t=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:s,subtitle:o,to:a,tokenAddress:c,network:l,missingFunds:u,fee:d,from:h,cta:f,disabled:p,chain:m,isSubmitting:w,isPreparing:y,isTokenPriceLoading:b,isTokenContractInfoLoading:v,isSponsored:E,symbol:_,balance:T,onClick:I,transactionDetails:R,transactionIndex:S,maxIndex:B,onBack:j,chainName:U,validation:M,hasScanDetails:C,setIsScanDetailsOpen:x,preventMaliciousTransaction:A,setPreventMaliciousTransaction:N,tokensSent:O,tokensReceived:P,isScanning:D,isCancellable:L,functionName:$})=>{var te,fe,he,pe,be,ge;let{showTransactionDetails:q,setShowTransactionDetails:V,hasMoreDetails:F,isErc20Ish:Z}=(ye=>{let[ft,we]=k.useState(!1),Me=!0,Oe=!1;return(!ye||ye.isErc20Ish||ye.action==="transaction")&&(Me=!1),Me&&(Oe=Object.entries(ye||{}).some(([Ee,$e])=>$e&&!["action","isErc20Ish","isNFTIsh"].includes(Ee))),{showTransactionDetails:ft,setShowTransactionDetails:we,hasMoreDetails:Me&&Oe,isErc20Ish:ye==null?void 0:ye.isErc20Ish}})(R),X=qn(),Y=Z&&v||y||b||D;return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:r,backFn:j}),t&&g.jsx(b5e,{children:t}),g.jsxs(y0,{style:{marginTop:t?"1.5rem":0},children:[s,g.jsx(V_t,{maxIndex:B,transactionIndex:S})]}),g.jsx(Rm,{children:o}),g.jsxs(j3,{style:{marginTop:"2rem"},children:[(!!O[0]||Y)&&g.jsxs(st,{children:[P.length>0?g.jsx(yt,{children:"Send"}):g.jsx(yt,{children:i==="approve"?"Approval amount":"Amount"}),g.jsx("div",{className:"flex flex-col",children:O.map((ye,ft)=>g.jsx(g5e,{iconUrl:ye.iconUrl,value:$==="setApprovalForAll"?"All":ye.value,usdValue:ye.usdValue,symbol:ye.symbol,nftName:ye.nftName,nftCount:ye.nftCount,decimals:ye.decimals},ft))})]}),P.length>0&&g.jsxs(st,{children:[g.jsx(yt,{children:"Receive"}),g.jsx("div",{className:"flex flex-col",children:P.map((ye,ft)=>g.jsx(g5e,{iconUrl:ye.iconUrl,value:ye.value,usdValue:ye.usdValue,symbol:ye.symbol,nftName:ye.nftName,nftCount:ye.nftCount,decimals:ye.decimals},ft))})]}),R&&"spender"in R&&(R!=null&&R.spender)?g.jsxs(st,{children:[g.jsx(yt,{children:"Spender"}),g.jsx($t,{children:g.jsx(Cn,{address:R.spender,url:(fe=(te=m==null?void 0:m.blockExplorers)==null?void 0:te.default)==null?void 0:fe.url})})]}):null,a&&g.jsxs(st,{children:[g.jsx(yt,{children:"To"}),g.jsx($t,{children:g.jsx(Cn,{address:a,url:(pe=(he=m==null?void 0:m.blockExplorers)==null?void 0:he.default)==null?void 0:pe.url,showCopyIcon:!0})})]}),c&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token address"}),g.jsx($t,{children:g.jsx(Cn,{address:c,url:(ge=(be=m==null?void 0:m.blockExplorers)==null?void 0:be.default)==null?void 0:ge.url})})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Network"}),g.jsx($t,{children:l})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Estimated fee"}),g.jsx($t,{$isLoading:y||b||E===void 0,children:E?g.jsxs(Z_t,{children:[g.jsxs(Y_t,{children:["Sponsored by ",X.name]}),g.jsx(z5t,{height:16,width:16})]}):d})]}),F&&!C&&g.jsxs(g.Fragment,{children:[g.jsx(st,{className:"cursor-pointer",onClick:()=>V(!q),children:g.jsxs(R7t,{className:"flex items-center gap-x-1",children:["Details"," ",g.jsx(vI,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:q?"rotate(180deg)":void 0}})]})}),q&&R&&g.jsx(W_t,{action:i,chain:m,transactionDetails:R,isTokenContractInfoLoading:v,symbol:_})]}),C&&g.jsx(st,{children:g.jsxs(p5e,{onClick:()=>x(!0),children:[g.jsx("span",{className:"text-color-primary",children:"Details"}),g.jsx(SXe,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),g.jsx(km,{}),e?g.jsx(p0,{style:{marginTop:"2rem"},children:e.message}):n&&S===0?g.jsx(p0,{style:{marginTop:"2rem"},children:n.shortMessage??v5e}):null,g.jsx(q_t,{variant:M,preventMaliciousTransaction:A,setPreventMaliciousTransaction:N}),g.jsx(w5e,{$useSmallMargins:!(!n&&!e&&M!=="warn"&&M!=="error"),address:h,balance:T,errMsg:y||n||e||!u?void 0:`Add funds on ${(m==null?void 0:m.name)??U} to complete transaction.`}),g.jsx(wr,{style:{marginTop:"1rem"},loading:w,disabled:p||y,onClick:I,children:f}),L&&g.jsx(eT,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),g.jsx(Ln,{})]})},G_t=({img:t,title:e,subtitle:n,cta:r,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:c,parseError:l,total:u,swap:d,transactingWalletAddress:h,fee:f,balance:p,disabled:m,isSubmitting:w,isPreparing:y,isTokenPriceLoading:b,onClick:v,onClose:E,onBack:_})=>{let T=y||b,[I,R]=k.useState(!1);return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:E,backFn:_}),t&&g.jsx(b5e,{children:t}),g.jsx(y0,{style:{marginTop:t?"1.5rem":0},children:e}),g.jsx(Rm,{children:n}),g.jsxs(j3,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(u||T)&&g.jsxs(st,{children:[g.jsx(yt,{children:"Amount"}),g.jsx($t,{$isLoading:T,children:u})]}),d&&g.jsxs(st,{children:[g.jsx(yt,{children:"Swap"}),g.jsx($t,{children:d})]}),s&&g.jsxs(st,{children:[g.jsx(yt,{children:"Network"}),g.jsx($t,{children:s})]}),(f||T)&&g.jsxs(st,{children:[g.jsx(yt,{children:"Estimated fee"}),g.jsx($t,{$isLoading:T,children:f})]})]}),g.jsx(st,{children:g.jsxs(p5e,{onClick:()=>R(S=>!S),children:[g.jsx("span",{children:"Advanced"}),g.jsx(vI,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:I?"rotate(180deg)":void 0}})]})}),I&&g.jsx(g.Fragment,{children:i.map((S,B)=>S.type==="sol-transfer"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Transfer ",S.withSeed?"with seed":""]})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Amount"}),g.jsxs($t,{children:[qa({amount:S.value,decimals:S.token.decimals})," ",S.token.symbol]})]}),!!S.toAccount&&g.jsxs(st,{children:[g.jsx(yt,{children:"Destination"}),g.jsx($t,{children:g.jsx(Cn,{address:S.toAccount,url:o})})]})]},B):S.type==="spl-transfer"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Transfer ",S.token.symbol]})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Amount"}),g.jsx($t,{children:S.value.toString()})]}),!!S.fromAta&&g.jsxs(st,{children:[g.jsx(yt,{children:"Source"}),g.jsx($t,{children:g.jsx(Cn,{address:S.fromAta,url:o})})]}),!!S.toAta&&g.jsxs(st,{children:[g.jsx(yt,{children:"Destination"}),g.jsx($t,{children:g.jsx(Cn,{address:S.toAta,url:o})})]}),!!S.token.address&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token"}),g.jsx($t,{children:g.jsx(Cn,{address:S.token.address,url:o})})]})]},B):S.type==="ata-creation"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsx(Kc,{children:"Create token account"})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Program ID"}),g.jsx($t,{children:g.jsx(Cn,{address:S.program,url:o})})]}),!!S.owner&&g.jsxs(st,{children:[g.jsx(yt,{children:"Owner"}),g.jsx($t,{children:g.jsx(Cn,{address:S.owner,url:o})})]})]},B):S.type==="create-account"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Create account ",S.withSeed?"with seed":""]})}),!!S.account&&g.jsxs(st,{children:[g.jsx(yt,{children:"Account"}),g.jsx($t,{children:g.jsx(Cn,{address:S.account,url:o})})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Amount"}),g.jsxs($t,{children:[qa({amount:S.value,decimals:9})," SOL"]})]})]},B):S.type==="spl-init-account"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsx(Kc,{children:"Initialize token account"})}),!!S.account&&g.jsxs(st,{children:[g.jsx(yt,{children:"Account"}),g.jsx($t,{children:g.jsx(Cn,{address:S.account,url:o})})]}),!!S.mint&&g.jsxs(st,{children:[g.jsx(yt,{children:"Mint"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mint,url:o})})]}),!!S.owner&&g.jsxs(st,{children:[g.jsx(yt,{children:"Owner"}),g.jsx($t,{children:g.jsx(Cn,{address:S.owner,url:o})})]})]},B):S.type==="spl-close-account"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsx(Kc,{children:"Close token account"})}),!!S.source&&g.jsxs(st,{children:[g.jsx(yt,{children:"Source"}),g.jsx($t,{children:g.jsx(Cn,{address:S.source,url:o})})]}),!!S.destination&&g.jsxs(st,{children:[g.jsx(yt,{children:"Destination"}),g.jsx($t,{children:g.jsx(Cn,{address:S.destination,url:o})})]}),!!S.owner&&g.jsxs(st,{children:[g.jsx(yt,{children:"Owner"}),g.jsx($t,{children:g.jsx(Cn,{address:S.owner,url:o})})]})]},B):S.type==="spl-sync-native"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsx(Kc,{children:"Sync native"})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Program ID"}),g.jsx($t,{children:g.jsx(Cn,{address:S.program,url:o})})]})]},B):S.type==="raydium-swap-base-input"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Raydium swap"," ",S.tokenIn&&S.tokenOut?`${S.tokenIn.symbol}  ${S.tokenOut.symbol}`:""]})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Amount in"}),g.jsx($t,{children:S.amountIn.toString()})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Minimum amount out"}),g.jsx($t,{children:S.minimumAmountOut.toString()})]}),S.mintIn&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token in"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintIn,url:o})})]}),S.mintOut&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token out"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintOut,url:o})})]})]},B):S.type==="raydium-swap-base-output"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Raydium swap"," ",S.tokenIn&&S.tokenOut?`${S.tokenIn.symbol}  ${S.tokenOut.symbol}`:""]})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Max amount in"}),g.jsx($t,{children:S.maxAmountIn.toString()})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Amount out"}),g.jsx($t,{children:S.amountOut.toString()})]}),S.mintIn&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token in"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintIn,url:o})})]}),S.mintOut&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token out"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintOut,url:o})})]})]},B):S.type==="jupiter-swap-shared-accounts-route"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Jupiter swap"," ",S.tokenIn&&S.tokenOut?`${S.tokenIn.symbol}  ${S.tokenOut.symbol}`:""]})}),g.jsxs(st,{children:[g.jsx(yt,{children:"In amount"}),g.jsx($t,{children:S.inAmount.toString()})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Quoted out amount"}),g.jsx($t,{children:S.quotedOutAmount.toString()})]}),S.mintIn&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token in"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintIn,url:o})})]}),S.mintOut&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token out"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintOut,url:o})})]})]},B):S.type==="jupiter-swap-exact-out-route"?g.jsxs(nd,{children:[g.jsx(st,{children:g.jsxs(Kc,{children:["Jupiter swap"," ",S.tokenIn&&S.tokenOut?`${S.tokenIn.symbol}  ${S.tokenOut.symbol}`:""]})}),g.jsxs(st,{children:[g.jsx(yt,{children:"Quoted in amount"}),g.jsx($t,{children:S.quotedInAmount.toString()})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Amount out"}),g.jsx($t,{children:S.outAmount.toString()})]}),S.mintIn&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token in"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintIn,url:o})})]}),S.mintOut&&g.jsxs(st,{children:[g.jsx(yt,{children:"Token out"}),g.jsx($t,{children:g.jsx(Cn,{address:S.mintOut,url:o})})]})]},B):g.jsxs(nd,{children:[g.jsxs(st,{children:[g.jsx(yt,{children:"Program ID"}),g.jsx($t,{children:g.jsx(Cn,{address:S.program,url:o})})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Data"}),g.jsx($t,{children:S.discriminator})]})]},B))}),g.jsx(km,{}),c?g.jsx(p0,{style:{marginTop:"2rem"},children:c.message}):l?g.jsx(p0,{style:{marginTop:"2rem"},children:v5e}):null,g.jsx(w5e,{$useSmallMargins:!(!l&&!c),title:"Your wallet",address:h,balance:p,errMsg:y||l||c||!a?void 0:"Add funds on Solana to complete transaction."}),g.jsx(wr,{style:{marginTop:"1rem"},loading:w,disabled:m||y,onClick:v,children:r}),g.jsx(Ln,{})]})};let w5e=Q(TT).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),nd=Q(j3).withConfig({displayName:"InstructionRows",componentId:"sc-4e16a794-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),v5e="There was an error preparing your transaction. Your transaction request will likely fail.",b5e=Q.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),Z_t=Q.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),Y_t=Q.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),J_t=()=>g.jsxs(tAt,{children:[g.jsx(rAt,{}),g.jsx(nAt,{})]});const x5e=({transactionError:t,chainId:e,onClose:n,onRetry:r,network:i,rpcEndpoint:s,transactionHash:o})=>{let{chains:a}=Je(),[c,l]=k.useState(!1),{errorCode:u,errorMessage:d}=((f,p)=>{if(p==="ethereum")return{errorCode:f.details??f.message,errorMessage:f.shortMessage};let m=f.txSignature,w=(f==null?void 0:f.transactionMessage)||"Something went wrong.";if(Array.isArray(f.logs)){let y=f.logs.find(b=>/insufficient (lamports|funds)/gi.test(b));y&&(w=y)}return{transactionHash:m,errorMessage:w}})(t,i),h=(({chains:f,chainId:p,network:m,rpcEndpoint:w,transactionHash:y})=>{var b,v;return m==="ethereum"?((v=(b=f.find(E=>E.id===p))==null?void 0:b.blockExplorers)==null?void 0:v.default.url)??"https://etherscan.io":function(E,_){return`https://explorer.solana.com/tx/${E}?cluster=${_}`}(y||"",x3(w||""))})({chains:a,chainId:e,network:i,rpcEndpoint:s,transactionHash:o});return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:n}),g.jsxs(Q_t,{children:[g.jsx(J_t,{}),g.jsx(X_t,{children:u}),g.jsx(eAt,{children:"Please try again."}),g.jsxs(C5e,{children:[g.jsx(E5e,{children:"Error message"}),g.jsx(_5e,{$clickable:!1,children:d})]}),o&&g.jsxs(C5e,{children:[g.jsx(E5e,{children:"Transaction hash"}),g.jsxs(sAt,{children:["Copy this hash to view details about the transaction on a"," ",g.jsx("u",{children:g.jsx("a",{href:h,children:"block explorer"})}),"."]}),g.jsxs(_5e,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),l(!0)},children:[o,g.jsx(cAt,{clicked:c})]})]}),g.jsx(iAt,{onClick:()=>r({resetNonce:!!o}),children:"Retry transaction"})]}),g.jsx(es,{})]})};let Q_t=Q.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),X_t=Q.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),eAt=Q.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),tAt=Q.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),nAt=Q(aq).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),rAt=Q.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),iAt=Q(wr).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),E5e=Q.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),C5e=Q.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),sAt=Q.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),_5e=Q.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),oAt=Q(Y5t).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),aAt=Q(eve).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),cAt=({clicked:t})=>g.jsx(t?aAt:oAt,{});const lAt=Q.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),uAt=({instruction:t,fees:e,transactionInfo:n,solPrice:r,rpcEndpoint:i})=>g.jsxs(j3,{children:[(n==null?void 0:n.action)&&g.jsxs(st,{children:[g.jsx(yt,{children:"Action"}),g.jsx($t,{children:n.action})]}),(t==null?void 0:t.total)!=null&&g.jsxs(st,{children:[g.jsx(yt,{children:"Total"}),g.jsx($t,{children:t.total})]}),!(t!=null&&t.total)&&(t==null?void 0:t.amount)!=null&&g.jsxs(st,{children:[g.jsx(yt,{children:"Total"}),g.jsx($t,{children:g.jsx(Zbe,{quantities:[t.amount,e],tokenPrice:r})})]}),g.jsxs(st,{children:[g.jsx(yt,{children:"Fees"}),g.jsx($t,{children:g.jsx(Zbe,{quantities:[e],tokenPrice:r})})]}),(t==null?void 0:t.to)&&g.jsxs(st,{children:[g.jsx(yt,{children:"To"}),g.jsx($t,{children:g.jsx(CH,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),dAt=({fees:t,onClose:e,receiptHeader:n,receiptDescription:r,transactionInfo:i,solPrice:s,rpcEndpoint:o,signOnly:a,instruction:c})=>g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:e}),g.jsx(AH,{style:{marginBottom:"16px"},children:g.jsxs("div",{children:[g.jsx(lAt,{color:"var(--privy-color-success-light)"}),g.jsx(a3,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),g.jsx(Gl,{title:n??`Transaction ${a?"signed":"complete"}!`,description:r??"You're all set."}),g.jsx(uAt,{solPrice:s,instruction:c,fees:t,transactionInfo:i,rpcEndpoint:o}),g.jsx(km,{}),g.jsx(hAt,{loading:!1,onClick:e,children:"Close"}),g.jsx(Kl,{}),g.jsx(Ln,{})]});let hAt=Q(wr).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const fAt={component:()=>{var L,$,q,V,F,Z,X,Y,te,fe,he,pe,be,ge,ye,ft,we,Me;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=it(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=Je(),c=qn(),{user:l}=Sn(),[u,d]=k.useState((L=t==null?void 0:t.sendSolanaTransaction)==null?void 0:L.transactionRequest),[h,f]=k.useState(),[p,m]=k.useState(),[w,y]=k.useState({value:0n,isLoading:!1}),[b,v]=k.useState(!1),[E,_]=k.useState(),[T,I]=k.useState(),R=($=t==null?void 0:t.sendSolanaTransaction)==null?void 0:$.connection,S=(q=t==null?void 0:t.sendSolanaTransaction)==null?void 0:q.transactingWallet,B=!!((V=t==null?void 0:t.sendSolanaTransaction)!=null&&V.signOnly),j=S!=null&&S.imported?BS(l):Ru(l),U=x3((R==null?void 0:R.rpcEndpoint)||""),{solPrice:M,isSolPriceLoading:C}=i2e({enabled:a}),x=k.useMemo(()=>{if(!h)return;let Oe=h.spender,Ee=Tm(h.fee),$e=Tm(w.value,3,!0),zt=h.instructions.filter(qe=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(qe.type)),Se=zt.at(0);return!Se||zt.length>1?{fee:Ee,spender:Oe,balance:$e}:Se.type==="sol-transfer"?{fee:Ee,spender:Oe,balance:$e,total:Tm(Se.value)}:Se.type==="spl-transfer"?{fee:Ee,spender:Oe,balance:$e,total:`${qa({amount:Se.value,decimals:Se.token.decimals})} ${Se.token.symbol}`}:Se.type==="raydium-swap-base-input"&&Se.tokenIn&&Se.tokenOut?{fee:Ee,spender:Oe,balance:$e,swap:`${`${qa({amount:Se.amountIn,decimals:Se.tokenIn.decimals})} ${Se.tokenIn.symbol}`}  ${`${qa({amount:Se.minimumAmountOut,decimals:Se.tokenOut.decimals})} ${Se.tokenOut.symbol}`}`}:Se.type==="raydium-swap-base-output"&&Se.tokenIn&&Se.tokenOut?{fee:Ee,spender:Oe,balance:$e,swap:`${`${qa({amount:Se.maxAmountIn,decimals:Se.tokenIn.decimals})} ${Se.tokenIn.symbol}`}  ${`${qa({amount:Se.amountOut,decimals:Se.tokenOut.decimals})} ${Se.tokenOut.symbol}`}`}:Se.type==="jupiter-swap-shared-accounts-route"&&Se.tokenIn&&Se.tokenOut?{fee:Ee,spender:Oe,balance:$e,swap:`${`${qa({amount:Se.inAmount,decimals:Se.tokenIn.decimals})} ${Se.tokenIn.symbol}`}  ${`${qa({amount:Se.quotedOutAmount,decimals:Se.tokenOut.decimals})} ${Se.tokenOut.symbol}`}`}:Se.type==="jupiter-swap-exact-out-route"&&Se.tokenIn&&Se.tokenOut?{fee:Ee,spender:Oe,balance:$e,swap:`${`${qa({amount:Se.quotedInAmount,decimals:Se.tokenIn.decimals})} ${Se.tokenIn.symbol}`}  ${`${qa({amount:Se.outAmount,decimals:Se.tokenOut.decimals})} ${Se.tokenOut.symbol}`}`}:{fee:Ee,spender:Oe,balance:$e}},[h,S==null?void 0:S.address,w]),A=k.useMemo(()=>{let Oe;if(!h||!a||!M||C)return;function Ee(...Se){return QE(Se.reduce((qe,Ye)=>qe+Ye,0n),M??0)}(S==null?void 0:S.address)===h.spender&&(Oe=Ee(h.fee));let $e=Ee(w.value),zt=h.instructions.filter(Se=>Se.type==="sol-transfer"||Se.type==="spl-transfer").at(0);return!zt||h.instructions.length>1?{fee:Oe,balance:$e}:zt.type==="sol-transfer"?{fee:Oe,balance:$e,total:Ee(zt.value,(S==null?void 0:S.address)===h.spender?h.fee:0n)}:zt.type==="spl-transfer"?{fee:Oe,balance:$e,total:`${qa({amount:zt.value,decimals:zt.token.decimals})} ${zt.token.symbol}`}:{fee:Oe,balance:$e}},[h,a,M,C,S==null?void 0:S.address,w]);if(k.useEffect(()=>{(async function(){if(u&&R&&i)try{m(void 0);let Oe=await pxt({tx:u,connection:R,client:i,checkFunds:!B});f(Oe)}catch(Oe){console.error("Failed to prepare transaction",Oe),m(Oe)}})()},[u,R,i,B]),k.useEffect(()=>{(async function(){if(!S||!R)return;y({value:w.value,isLoading:!0});let Oe=new iGe({name:"mainnet-beta",rpcUrl:R.rpcEndpoint});y({value:await Oe.getBalance(S.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[h,R]),!(u&&(t!=null&&t.sendSolanaTransaction)&&S&&R)){let Oe=Error("Invalid transaction request");return g.jsx(o9,{error:Oe,allowlistConfig:c.allowlistConfig,onRetry:()=>{var Ee;(Ee=t==null?void 0:t.sendSolanaTransaction)==null||Ee.onFailure(Oe),s({shouldCallAuthOnSuccess:!1})}})}let N=()=>{var Oe,Ee;if(!b)return E?(Oe=t==null?void 0:t.sendSolanaTransaction)==null||Oe.onSuccess(E):(Ee=t==null?void 0:t.sendSolanaTransaction)==null||Ee.onFailure(T??p??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};e.current=N;let O=(Y=(X=(Z=(F=t.sendSolanaTransaction)==null?void 0:F.uiOptions)==null?void 0:Z.transactionInfo)==null?void 0:X.contractInfo)!=null&&Y.imgUrl?g.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,P=!!(t.funding&&t.funding.supportedOptions.length>0),D=!(h!=null&&h.hasFunds)&&P;if(E){let Oe=h==null?void 0:h.instructions.filter($e=>$e.type==="sol-transfer"||$e.type==="spl-transfer"),Ee=(Oe==null?void 0:Oe.length)===1?Oe==null?void 0:Oe.at(0):void 0;return g.jsx(dAt,{fees:E.fees,onClose:N,transactionInfo:(te=t.sendSolanaTransaction)==null?void 0:te.uiOptions.transactionInfo,solPrice:M,receiptHeader:(fe=t.sendSolanaTransaction)==null?void 0:fe.uiOptions.successHeader,receiptDescription:(he=t.sendSolanaTransaction)==null?void 0:he.uiOptions.successDescription,rpcEndpoint:R.rpcEndpoint,signOnly:B,instruction:(Ee==null?void 0:Ee.type)==="sol-transfer"?{to:Ee.toAccount,amount:Ee.value}:{to:(Ee==null?void 0:Ee.toAccount)||(Ee==null?void 0:Ee.toAta),total:x==null?void 0:x.total}})}return T?g.jsx(x5e,{transactionError:T,rpcEndpoint:R.rpcEndpoint,onClose:N,network:"solana",onRetry:async()=>{I(void 0);let{blockhash:Oe}=await R.getLatestBlockhash();Pm(u)?u.message.recentBlockhash=Oe:u.recentBlockhash=Oe,d(u)}}):g.jsx(G_t,{img:O,title:((ge=(be=(pe=t.sendSolanaTransaction)==null?void 0:pe.uiOptions)==null?void 0:be.transactionInfo)==null?void 0:ge.title)||"Confirm transaction",subtitle:((ft=(ye=t.sendSolanaTransaction)==null?void 0:ye.uiOptions)==null?void 0:ft.description)||`${c.name} wants your permission to approve the following transaction.`,cta:D?"Add funds":((Me=(we=t.sendSolanaTransaction)==null?void 0:we.uiOptions)==null?void 0:Me.buttonText)||"Approve",instructions:(h==null?void 0:h.instructions)??[],network:U=="mainnet-beta"?"Solana":U,blockExplorerUrl:c.solanaClusters[U].blockExplorerUrl,total:a?A==null?void 0:A.total:x==null?void 0:x.total,fee:a?A==null?void 0:A.fee:x==null?void 0:x.fee,balance:a?A==null?void 0:A.balance:x==null?void 0:x.balance,swap:x==null?void 0:x.swap,transactingWalletAddress:S.address,disabled:!(h!=null&&h.hasFunds)&&!P,isSubmitting:b,isPreparing:!h||w.isLoading,isTokenPriceLoading:a&&C,isMissingFunds:!(h!=null&&h.hasFunds),submitError:T??void 0,parseError:p,onClick:D?async()=>{if(S){if(!P)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:Gc},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(Gc)}}:async()=>{try{if(v(!0),b||!S||!o||!l||!j)return;let Oe=await t.sendSolanaTransaction.onConfirm();_(Oe)}catch(Oe){console.warn({transaction:u,error:Oe}),I(Oe)}finally{v(!1)}},onClose:N})}},pAt=({privy:t,appConfig:e,getAccessToken:n,isHeadlessSigning:r,emitPrivyEvent:i,setModalData:s,openModal:o,walletProxy:a,user:c,signWithUserSigner:l,recoverEmbeddedWallet:u,connectedExternalWallet:d},{transaction:h,connection:f,transactionOptions:p,fundWalletConfig:m,uiOptions:w,address:y,signOnly:b})=>new Promise(async(v,E)=>{let{requesterAppId:_}=w||{},T="sendSolanaTransaction",I=y?Ou(c,y):ly(c);if(!I&&y&&d)try{{let B=await d.sendTransaction(h,f,p),j=await f.getParsedTransaction(B,{maxSupportedTransactionVersion:0}),U=Vbe(B,h,j??null);return i(T,"onSuccess",{response:U}),void v(U)}}catch(B){throw i(T,"onError",le.TRANSACTION_FAILURE),E(B),B}if(!I)return i(T,"onError",le.EMBEDDED_WALLET_NOT_FOUND),void E(new oe("No wallet found for address",le.EMBEDDED_WALLET_NOT_FOUND));if(!c)return i(T,"onError",le.MUST_BE_AUTHENTICATED),void E(new oe("User must be authenticated before signing with a Privy wallet",le.MUST_BE_AUTHENTICATED));let R=Vs(I);if(!await u({address:I.address}).catch(()=>!1))throw i(T,"onError",le.EMBEDDED_WALLET_NOT_FOUND),new oe(`Cannot sendSolanaTransaction before embedded wallet ${I.address} is connected`,le.EMBEDDED_WALLET_NOT_FOUND);let S=async()=>{let B=await n();if(!B||!a)throw i(T,"onError",le.EMBEDDED_WALLET_NOT_FOUND),E(new oe("Must have valid access token and Privy wallet to send transaction",le.EMBEDDED_WALLET_NOT_FOUND)),new oe("Must have valid access token and Privy wallet to send transaction",le.EMBEDDED_WALLET_NOT_FOUND);try{let j,U;if(!await u({address:I.address}))throw i(T,"onError",le.UNKNOWN_CONNECT_WALLET_ERROR),E(new oe("Unable to connect to wallet",le.UNKNOWN_CONNECT_WALLET_ERROR)),new oe("Unable to connect to wallet",le.UNKNOWN_CONNECT_WALLET_ERROR);if(r({showWalletUIs:w==null?void 0:w.showWalletUIs})&&!b)try{if(!await Kbe(h,f))throw i(T,"onError",le.INSUFFICIENT_BALANCE),E(new oe("Solana wallet has insufficient funds for this transaction.",le.INSUFFICIENT_BALANCE)),new oe("Solana wallet has insufficient funds for this transaction.",le.INSUFFICIENT_BALANCE)}catch(x){throw console.error(x),i(T,"onError",le.TRANSACTION_FAILURE),E(new oe(x instanceof Error?x.message:"Transaction failed.",le.TRANSACTION_FAILURE)),new oe(x instanceof Error?x.message:"Transaction failed.",le.TRANSACTION_FAILURE)}let{entropyId:M,entropyIdVerifier:C}=Oo(c);if(R){let x=Pm(h)?Ca(h.message.serialize()):h.serializeMessage(),A=await Wa(t,l,{chain_type:"solana",method:"signMessage",params:{message:x.toString("base64"),encoding:"base64"},wallet_id:I.id});if(!A.data||!("signature"in A.data))throw Error("Failed to sign transaction");h.addSignature(nT(h,I.address),Ca(A.data.signature,"base64")),j=h}else j=await nV({accessToken:B,tx:h,walletProxy:a,entropyId:M,entropyIdVerifier:C,transactingWalletAddress:I.address,transactingWalletIndex:I.walletIndex??0});{let{signature:x,receipt:A}=await async function({tx:N,connection:O,transactionOptions:P}){let D;try{let L=N.serialize();D=await O.sendRawTransaction(L,P);let $=await O.confirmTransaction(D);if($.value.err||$.value.err){let q=$.value.err||$.value.err;throw typeof q=="string"?Error(q):q}return{signature:D,signedTransaction:N,receipt:await O.getParsedTransaction(D,{maxSupportedTransactionVersion:0})}}catch(L){throw L.txSignature=D,L}}({tx:j,connection:f,transactionOptions:p});U=Vbe(x,h,A),i("sendSolanaTransaction","onSuccess",{response:U})}return v(U),U}catch(j){throw i(T,"onError",le.TRANSACTION_FAILURE),E(j),j}};if(r({showWalletUIs:w==null?void 0:w.showWalletUIs}))S();else{let{entropyId:B,entropyIdVerifier:j}=Oo(c,I),U={recoveryMethod:I.recoveryMethod,connectingWalletAddress:I.address,entropyId:B,entropyIdVerifier:j,isUnifiedWallet:R,onCompleteNavigateTo:fAt,onFailure:C=>{i(T,"onError",le.UNKNOWN_CONNECT_WALLET_ERROR),E(C)}},M=F3e(e)?T_t({address:I.address,appConfig:e,methodScreen:Gc,fundWalletConfig:m,comingFromSendTransactionScreen:!0,externalSolanaFundingScreen:aV}):void 0;s({connectWallet:U,sendSolanaTransaction:{transactionRequest:h,connection:f,transactionOptions:p,transactingWallet:I,onConfirm:S,onSuccess:C=>{i("sendSolanaTransaction","onSuccess",{response:C}),v(C)},onFailure:C=>{i(T,"onError",le.TRANSACTION_FAILURE),E(C)},uiOptions:w||{},requesterAppId:_,signOnly:b},funding:M}),o(Mm)}});function gAt(t){let e=qn(),{user:n}=f9(),{setModalData:r}=it(),{client:i,isHeadlessSigning:s,openModal:o,walletProxy:a,recoverEmbeddedWallet:c,privy:l,solanaWallets:u}=Je(),d=d0(),{signWithUserSigner:h}=jL();return C3("sendSolanaTransaction",t),{sendTransaction:async({transaction:f,connection:p,uiOptions:m,transactionOptions:w,fundWalletConfig:y,address:b})=>{let v=b?u.find(E=>E.address===b&&E.walletClientType!=="privy"):void 0;return await pAt({privy:l,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:s,emitPrivyEvent:d,setModalData:r,openModal:o,walletProxy:a,user:n,signWithUserSigner:h,recoverEmbeddedWallet:c,connectedExternalWallet:v},{transaction:f,connection:p,transactionOptions:w,uiOptions:m,fundWalletConfig:y,address:b,signOnly:!1})}}}const mAt=({style:t,color:e,...n})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),uV=t=>{let[e,n]=k.useState(!1);return g.jsxs(yAt,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>n(!1),1500)},$justCopied:e,children:[e?g.jsx(mAt,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):g.jsx(J2e,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let yAt=Q.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const wAt=Q.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let vAt=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?g.jsx(bAt,{children:Object.entries(n).map(([r,i])=>g.jsxs("li",{children:[g.jsxs("strong",{children:[r,":"]})," ",e(i)]},r))}):g.jsx("span",{children:String(n)});return g.jsx("div",{children:e(t)})};const A5e=Q.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let bAt=Q.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const S5e=({data:t,className:e})=>g.jsx(A5e,{className:e,children:g.jsx(vAt,{data:t})});let xAt=t=>{if(!Si(t))return t;try{let e=aj(t);return e.includes("")?t:e}catch{return t}},EAt=t=>JSON.stringify(t,null,2),CAt=t=>{let{types:e,primaryType:n,...r}=t.typedData;return g.jsxs(g.Fragment,{children:[g.jsx(IAt,{data:r}),g.jsx(uV,{text:EAt(t.typedData),itemName:"full payload to clipboard"})," "]})};const _At=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:c,onSign:l,onCancel:u,onClose:d})=>g.jsx(Rn,{title:n.title,subtitle:n.description,showClose:!0,onClose:d,icon:Git,iconVariant:"subtle",helpText:a?g.jsx(SAt,{children:a}):void 0,primaryCta:{label:n.buttonText,onClick:l,disabled:i||s||o,loading:i},secondaryCta:c?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:g.jsxs(EH,{children:[r?g.jsx(wAt,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,g.jsxs(AAt,{children:[t==="personal_sign"&&g.jsx(I5e,{children:xAt(e)}),t==="eth_signTypedData_v4"&&g.jsx(CAt,{typedData:e}),t==="solana_signMessage"&&g.jsx(I5e,{children:e})]})]})}),dV={component:()=>{let{authenticated:t}=Sn(),{initializeWalletProxy:e,closePrivyModal:n}=Je(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=it(),[o,a]=k.useState(!0),[c,l]=k.useState(""),[u,d]=k.useState(),[h,f]=k.useState(null),[p,m]=k.useState(!1);k.useEffect(()=>{t||r(Aa)},[t]),k.useEffect(()=>{e(jve).then(R=>{a(!1),R||(l("An error has occurred, please try again."),d(new _a(new v3(c,Md.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:w,data:y,confirmAndSign:b,onSuccess:v,onFailure:E,uiOptions:_}=i.signMessage,T={title:(_==null?void 0:_.title)||"Sign message",description:(_==null?void 0:_.description)||"Signing this message will not cost you any fees.",buttonText:(_==null?void 0:_.buttonText)||"Sign and continue"},I=R=>{R?v(R):E(u||new _a(new v3("The user rejected the request.",Md.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{f(null),l(""),d(void 0)},200)};return s.current=()=>{I(h)},g.jsx(_At,{method:w,messageData:y,copy:T,iconUrl:_!=null&&_.iconUrl&&typeof _.iconUrl=="string"?_.iconUrl:void 0,isLoading:p,success:h!==null,walletProxyIsLoading:o,errorMessage:c,isCancellable:_==null?void 0:_.isCancellable,onSign:async()=>{m(!0),l("");try{let R=await b();f(R),m(!1),setTimeout(()=>{I(R)},di)}catch(R){console.error(R),l("An error has occurred, please try again."),d(new _a(new v3(c,Md.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},onCancel:()=>I(null),onClose:()=>I(h)})}};let AAt=Q.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),SAt=Q.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),IAt=Q(S5e).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),I5e=Q(A5e).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function kAt(t){let{isHeadlessSigning:e,walletProxy:n,initializeWalletProxy:r,recoverEmbeddedWallet:i,openModal:s,privy:o,solanaWallets:a,client:c}=Je(),{user:l}=f9(),u=d0(),{setModalData:d}=it(),{signWithUserSigner:h}=jL();return C3("signSolanaMessage",t),{signMessage:({message:f,options:p})=>new Promise(async(m,w)=>{var I;let y=p!=null&&p.address?Ou(l,p.address):ly(l);if(!y&&(p!=null&&p.address)){let R=a.find(S=>S.address===p.address&&S.walletClientType!=="privy");if(R)try{let S=await R.signMessage(f);u("signSolanaMessage","onSuccess",{signature:S}),m(S)}catch(S){u("signSolanaMessage","onError",le.UNABLE_TO_SIGN),w(S)}}if(!y)return u("signSolanaMessage","onError",le.UNABLE_TO_SIGN),void w(Error("No embedded or connected wallet found for address."));if(!l)return u("signSolanaMessage","onError",le.MUST_BE_AUTHENTICATED),void w(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:b,entropyIdVerifier:v}=Oo(l,y),E=Vs(y),_=Ca(f).toString("base64");if(_.length<1)return u("signMessage","onError",le.INVALID_MESSAGE),void w(Error("Message must be a non-empty string"));let T=async()=>{let R;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let S=await c.getAccessToken();if(!S)throw Error("User must be authenticated to use their embedded wallet.");let B=n??await r(15e3);if(!B)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:y.address}))throw Error("Unable to connect to wallet");if(E){let j=await Wa(o,h,{chain_type:"solana",method:"signMessage",params:{message:_,encoding:"base64"},wallet_id:y.id});if(!j.data||!("signature"in j.data))throw Error("Failed to sign message");R=j.data.signature}else{let{response:j}=await B.rpc({accessToken:S,entropyId:b,entropyIdVerifier:v,chainType:"solana",hdWalletIndex:y.walletIndex??0,request:{method:"signMessage",params:{message:_}}});R=j.data.signature}return R};if(e({showWalletUIs:(I=p==null?void 0:p.uiOptions)==null?void 0:I.showWalletUIs}))try{let R=await T(),S=new Uint8Array(Ca(R,"base64"));u("signSolanaMessage","onSuccess",{signature:S}),m(S)}catch(R){w(R)}else d({signMessage:{method:"solana_signMessage",data:_,confirmAndSign:T,onSuccess:R=>{let S=new Uint8Array(Ca(R,"base64"));u("signSolanaMessage","onSuccess",{signature:S}),m(S)},onFailure:R=>{w(R)},uiOptions:p==null?void 0:p.uiOptions},connectWallet:{recoveryMethod:y.recoveryMethod,connectingWalletAddress:y.address,entropyId:b,entropyIdVerifier:v,isUnifiedWallet:E,onCompleteNavigateTo:dV,onFailure:R=>{u("signSolanaMessage","onError",le.UNKNOWN_CONNECT_WALLET_ERROR),w(R)}}}),s(Mm)})}}const D3=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:n,walletProxy:r,recoverEmbeddedWallet:i,privy:s}=Je(),{sendTransaction:o}=gAt(),{signMessage:a}=kAt(),{create:c}=U3e(),{signWithUserSigner:l}=jL(),{user:u}=f9(),{ready:d}=h0(),h=k.useMemo(()=>{if(!r)return n;let f=[...fle(u),BS(u)].filter(p=>!!p).map(p=>({type:"solana",imported:p.imported,address:p.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:p.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new oe("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new oe("Cannot unlink an embedded Solana wallet")},async getProvider(){return new $7t(r,p.address,this.signMessage)},signMessage:async m=>await a({message:m,options:{address:p.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(m,w,y){let{signature:b}=await o({transaction:m,connection:w,transactionOptions:y,address:p.address});return b},async signTransaction(m){let w=await t.getAccessToken();if(!w||!r)throw new oe("Must have valid access token and Privy wallet to send transaction",le.MUST_BE_AUTHENTICATED);if(!await i({address:p.address}).catch(()=>!1))throw new oe("Wallet couldn't be connected",le.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:y,entropyIdVerifier:b}=Oo(u,p);if(Vs(p)){let v=Pm(m)?Ca(m.message.serialize()):m.serializeMessage(),E=await Wa(s,l,{chain_type:"solana",method:"signMessage",params:{message:v.toString("base64"),encoding:"base64"},wallet_id:p.id});if(E.data&&"signature"in E.data)return m.addSignature(nT(m,p.address),Ca(E.data.signature,"base64")),m;throw Error("Failed to sign transaction")}return await nV({tx:m,accessToken:w,walletProxy:r,entropyId:y,entropyIdVerifier:b,transactingWalletAddress:p.address,transactingWalletIndex:p.walletIndex??0})},async signAllTransactions(m){let w=await t.getAccessToken();if(!w||!r)throw new oe("Must have valid access token and Privy wallet to send transaction",le.MUST_BE_AUTHENTICATED);if(!await i({address:p.address}).catch(()=>!1))throw new oe("Wallet couldn't be connected",le.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:y,entropyIdVerifier:b}=Oo(u,p);if(Vs(p))return await Promise.all(m.map(async v=>{let E=Pm(v)?Ca(v.message.serialize()):v.serializeMessage(),_=await Wa(s,l,{chain_type:"solana",method:"signMessage",params:{message:E.toString("base64"),encoding:"base64"},wallet_id:p.id});if(_.data&&"signature"in _.data)return v.addSignature(nT(v,p.address),Ca(_.data.signature,"base64")),v;throw Error("Failed to sign transaction")}));for(let v of m)await nV({tx:v,accessToken:w,walletProxy:r,entropyId:y,entropyIdVerifier:b,transactingWalletAddress:p.address,transactingWalletIndex:p.walletIndex??0});return m},loginOrLink:async()=>{throw new oe("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0}));return n.concat(f)},[u,r,t,n]);return{ready:!(!d||!r),createWallet:async f=>{f&&"target"in f&&f&&(f=void 0);let{account:p}=await c({chainType:"solana",options:f});return p},exportWallet:e,wallets:h}},OT={component:()=>{var B,j,U;let{wallets:t}=h0(),{wallets:e}=D3(),{data:n,setModalData:r,navigate:i,lastScreen:s}=it(),{rpcConfig:o,appId:a,createAnalyticsEvent:c,closePrivyModal:l}=Je(),u=qn(),[d,h]=k.useState(void 0),[f,p]=k.useState(!1),m=O3(),w=n==null?void 0:n.funding,{reloadBalance:y}=B3e({rpcConfig:o,appId:a,address:w.chainType==="ethereum"?w.address:void 0,chain:w.chainType==="ethereum"?w.chain:void 0}),b=w.chainType==="solana",v=b?w.isUSDC?"USDC":"SOL":w.erc20Address?(B=w.erc20ContractInfo)==null?void 0:B.symbol:w.chain.nativeCurrency.symbol,E=b?e.find(({address:M})=>M===w.address):t.find(({address:M})=>No(M)===No(w.address));if(!w)return r({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||Gc},funding:n==null?void 0:n.funding,solanaFundingData:n==null?void 0:n.solanaFundingData,sendTransaction:n==null?void 0:n.sendTransaction}),i(hi),g.jsx(g.Fragment,{});k.useEffect(()=>{let M=b?async function(){if(w.chainType!=="solana")return;let x=m(h9);x?(w.isUSDC?x.getTokenBalance({address:w.address,cluster:w.cluster,mintAddress:RS[w.cluster.name]}).then(({amount:A})=>A):x.getBalance({address:w.address,cluster:w.cluster})).then(A=>{let N=BigInt(A);d&&N>d&&(p(!0),c({eventName:dh,payload:{provider:"manual",status:"success",chainType:"solana",address:E==null?void 0:E.address,value:w.isUSDC?ks(N-d,6):ks(N-d,9),token:w.isUSDC?"USDC":"SOL"}})),h(N)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){w.chainType==="ethereum"&&(async()=>{if(!w.erc20Address)return await y()??BigInt(0);{let{balance:x}=await tV({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:o,appId:a});return x}})().then(x=>{var A,N;d&&x>d&&(p(!0),c({eventName:dh,payload:{provider:"manual",status:"success",chainType:"ethereum",address:E==null?void 0:E.address,chainId:w.chain.id,value:ks(x-d,((A=w.erc20ContractInfo)==null?void 0:A.decimals)??18),token:((N=w.erc20ContractInfo)==null?void 0:N.symbol)??w.erc20Address??"ETH"}})),h(x)}).catch(()=>h(void 0))},C=setInterval(M,2e3);return M(),()=>clearInterval(C)},[d]);let _=k.useMemo(()=>{var M;return d==null?"":w.isUSDC?qa({amount:d,decimals:6}):b?Tm(d,3,!0,!0):((M=w.erc20ContractInfo)==null?void 0:M.decimals)!=null?qa({amount:d,decimals:w.erc20ContractInfo.decimals}):sGe({wei:d})},[d,b,w]),T=w.chainType==="ethereum"?w.chain.name:TAt[w.cluster.name],I=k.useMemo(()=>{var M,C;return((M=w.uiConfig)==null?void 0:M.receiveFundsTitle)===""?null:g.jsx(y0,{children:((C=w.uiConfig)==null?void 0:C.receiveFundsTitle)??`Receive ${w.amount} ${v??""}`.trim()})},[(j=w.uiConfig)==null?void 0:j.receiveFundsTitle,w.amount,v]),R=k.useMemo(()=>{var M,C;return((M=w.uiConfig)==null?void 0:M.receiveFundsSubtitle)===""?null:g.jsx(Rm,{children:((C=w.uiConfig)==null?void 0:C.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${T}.`})},[(U=w.uiConfig)==null?void 0:U.receiveFundsSubtitle,T]),S=w.chainType==="solana"&&w.isUSDC&&RS[w.cluster.name]?`?spl-token=${RS[w.cluster.name]}`:"";return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),I,R,g.jsxs(rT,{style:{gap:"1rem",margin:I||R?"1rem 0":"0"},children:[g.jsx(a9,{url:`${w.chainType}:${w.address}${S}`,size:200,squareLogoElement:$At}),g.jsxs(M3e,{theme:u.appearance.palette.colorScheme,children:["Make sure to send funds on ",T,"."]}),g.jsx(TT,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${_} ${v}`,address:w.address}),f&&g.jsx(wr,{onClick:()=>l({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),g.jsx(Ln,{})]})}};let $At=({...t})=>g.jsx(hbe,{color:"black",...t}),TAt={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},PAt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],NAt=Q.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var OAt=({onBack:t,details:e})=>g.jsxs(NAt,{children:[g.jsx(vn,{backFn:t}),g.jsx(S5e,{data:e}),g.jsx(Ln,{})]});let RAt=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return Cr(t*e)}catch{return}};const MAt=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:r}),g.jsx(xEt,{title:o??"Transaction complete!",description:a??"You're all set."}),g.jsx(r2e,{tokenPrice:i,from:e.from,to:e.to,gas:RAt(e),txn:t,transactionInfo:n,tokenSymbol:s}),g.jsx(km,{}),g.jsx(jAt,{loading:!1,onClick:r,children:"All Done"}),g.jsx(Kl,{}),g.jsx(Ln,{})]});let jAt=Q(wr).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const BAt=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],DAt=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],LAt=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],UAt=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],FAt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],zAt=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],WAt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],qAt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],HAt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],k5e=(t,e)=>{let n=w0(LAt,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=w0(iV,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=w0(BAt,t);if(i&&typeof i.args[1]=="string"){let d=VAt(i.args[1]);if(d&&d[4].encodedInitData)return k5e(d[4].encodedInitData,e)}let s=w0(zAt,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=w0(WAt,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=w0(FAt,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let c=w0(HAt,t);if(c)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenId:c.args[2],amount:c.args[3]};let l=w0(qAt,t);if(l)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenIds:l.args[2],amounts:l.args[3]};let u=w0(UAt,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let w0=(t,e)=>{try{let n=sA({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},VAt=t=>{try{if(typeof t=="string")return Cg(DAt,`0x${t.slice(10)}`)}catch{return null}},hV=t=>`${parseFloat(t).toFixed(2)}`;const KAt=(t,e,n,r)=>{let[i,s]=k.useState(null),{walletProxy:o}=Je();return k.useEffect(()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],c=!0,l=await sT(t,n,e,r).catch(u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?c=!1:a.push(u),t));return{tx:l,totalGasEstimate:l.gas,hasFunds:c,errors:a}})().then(s)},[t]),i};let $5e=new _a(new v3("There was an issue preparing your transaction",Md.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),T5e=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const P5e={component:()=>{var nn,pt,ri,xt,$n,uc,Yn,Hn,H,G,ne,re,ae,de,Te,Ie,gt,rn;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=it(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:c,showFiatPrices:l}=Je(),{user:u}=Sn(),d=qn(),[h,f]=k.useState(0),[p,m]=k.useState(0),[w,y]=k.useState(T5e(t,h)),[b,v]=k.useState(null),[E,_]=k.useState(),[T,I]=k.useState(!1),[R,S]=k.useState(null),[B,j]=k.useState(null),[U,M]=k.useState(null),[C,x]=k.useState(void 0),[A,N]=k.useState(void 0),[O,P]=k.useState(!1),[D,L]=k.useState(!1),[$,q]=k.useState([]),[V,F]=k.useState([]),[Z,X]=k.useState("uninitiated"),[Y,te]=k.useState(void 0);if(!w||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return g.jsx(o9,{error:Error("Invalid transaction request"),allowlistConfig:d.allowlistConfig,onRetry:()=>{var Be;(Be=t==null?void 0:t.sendTransaction)==null||Be.onFailure($5e),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:fe}=t.sendTransaction,he=k.useMemo(()=>o.find(Be=>Number(Be.id)===Number(w.chainId)),[w.chainId]),pe=(he==null?void 0:he.nativeCurrency.symbol)??"ETH",be=k.useMemo(()=>k5e(w.data,!!d.embeddedWallets.extendedCalldataDecoding),[w.data]),{action:ge,isErc20Ish:ye,isNFTIsh:ft,functionName:we}=be,{toAddress:Me,tokenAddress:Oe}=k.useMemo(()=>({toAddress:be.isErc20Ish?be.transferTo:w.to??void 0,tokenAddress:be.isErc20Ish?w.to:void 0}),[be]);k.useEffect(()=>{w.to&&he&&ye&&i5e({address:w.to,chain:he,rpcConfig:d.rpcConfig,privyAppId:d.id}).then(v).catch(console.error)},[w.to,he]);let{tokenPrice:Ee,isTokenPriceLoading:$e}=I3(w.chainId),{balance:zt}=B3e({rpcConfig:d.rpcConfig,appId:d.id,address:fe,chain:he}),Se=function({rpcConfig:Be,appId:ct,address:Dt,chain:dt,tokenInfo:je}){let{chains:Kt}=Je(),[un,In]=k.useState(null),[zn,Vn]=k.useState(!1),Wn=k.useMemo(()=>{let Ot=dt||Kt[0];if(Ot)return Hh({chain:dt,transport:Ua(bVe(Ot,Be,ct))})},[dt,Be,ct]),Nr=k.useCallback(async()=>{if(Dt&&Wn&&je.address)try{return Vn(!0),await Wn.readContract({address:je.address,abi:PAt,functionName:"balanceOf",args:[Dt]})}catch(Ot){console.error(Ot)}finally{Vn(!1)}},[Wn,Dt,je==null?void 0:je.address,dt]);return k.useEffect(()=>{Nr().then(Ot=>Ot!=null&&In(Ot))},[Nr]),{balance:un,isLoading:zn&&un==null,formattedBalance:qa({amount:un??BigInt(0),decimals:je.decimals})}}({rpcConfig:d.rpcConfig,appId:d.id,address:fe,tokenInfo:{address:Oe||"",decimals:(b==null?void 0:b.decimals)??18},chain:he}),qe=k.useMemo(()=>y3(Number(w.chainId),o,s,{appId:d.id}),[w.chainId,s]),Ye=KAt(w,fe,qe,(nn=t==null?void 0:t.sendTransaction)==null?void 0:nn.prepareTransactionRequest);k.useEffect(()=>{y(T5e(t,h))},[h]),k.useEffect(()=>{var Be;(Be=t.sendTransaction)!=null&&Be.getIsSponsored?t.sendTransaction.getIsSponsored().then(_).catch(console.error):_(!1)},[t.sendTransaction.getIsSponsored]);let kt=()=>{var Be,ct,Dt;if(!T)return R?(Be=t==null?void 0:t.sendTransaction)==null||Be.onSuccess({hash:R}):U||Ye!=null&&Ye.errors[0]?(ct=t==null?void 0:t.sendTransaction)==null||ct.onFailure(U??(Ye==null?void 0:Ye.errors[0])??$5e):(Dt=t==null?void 0:t.sendTransaction)==null||Dt.onFailure(new _a(new v3("The user rejected the request",Md.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=kt;let K=!!(t.funding&&t.funding.supportedOptions.length>0),z=ah(BigInt((Ye==null?void 0:Ye.totalGasEstimate)??0n),pe),W=l&&Ee?iw(BigInt((Ye==null?void 0:Ye.totalGasEstimate)??0n),Ee):void 0,J=ah(zt??0n,pe,void 0,!0),ee=l&&Ee?iw(zt??0n,Ee):void 0,ce=b&&!Se.isLoading&&ye&&ge!=="approve"?`${Se.formattedBalance} ${b.symbol}`:void 0,se=(xt=(ri=(pt=t.sendTransaction)==null?void 0:pt.uiOptions)==null?void 0:ri.transactionInfo)==null?void 0:xt.title;se||(se=ge==="approve"?ye?"Confirm address":"Confirm action":`Approve ${ge}`);let Re=k.useMemo(()=>{var Be,ct,Dt,dt,je,Kt,un,In;if((ct=(Be=t.sendTransaction)==null?void 0:Be.uiOptions)!=null&&ct.description)return(dt=(Dt=t.sendTransaction)==null?void 0:Dt.uiOptions)==null?void 0:dt.description;if(ge==="approve"&&we==="setApprovalForAll"&&be.approved){let zn=g.jsx(Cn,{address:be.operator||"",url:(Kt=(je=he==null?void 0:he.blockExplorers)==null?void 0:je.default)==null?void 0:Kt.url});return g.jsxs(g.Fragment,{children:[d.name," would like your permission for ",zn," to transfer tokens on your behalf."]})}if(ge==="approve"&&we==="setApprovalForAll"&&!be.approved){let zn=g.jsx(Cn,{address:be.operator||"",url:(In=(un=he==null?void 0:he.blockExplorers)==null?void 0:un.default)==null?void 0:In.url});return g.jsxs(g.Fragment,{children:[d.name," would like your permission to revoke permissions of ",zn," from transferring tokens on your behalf."]})}return ye&&ge==="approve"||ye&&ge==="approve"?`${d.name} would like your permission for ${No(be.spender)} to spend tokens on your behalf.`:`${d.name} wants your permission to approve the following transaction.`},[d.name,ye,be,($n=t.sendSolanaTransaction)==null?void 0:$n.uiOptions.description,we]),et=(H=(Hn=(Yn=(uc=t.sendTransaction)==null?void 0:uc.uiOptions)==null?void 0:Yn.transactionInfo)==null?void 0:Hn.contractInfo)!=null&&H.imgUrl?g.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,He=!(!Ye||Ye.errors[0]||Ye.hasFunds||E!==!1),nt=He&&K,Pe=nt?"Add funds":((ne=(G=t.sendTransaction)==null?void 0:G.uiOptions)==null?void 0:ne.buttonText)||(h<p?"Continue":"Approve"),Wt=Be=>{if(!Be)throw Error("Transaction scan failed");if(Be.validation.status==="Success"&&(Be.validation.result_type==="Benign"?N("safe"):Be.validation.result_type==="Warning"?N("warn"):Be.validation.result_type==="Malicious"&&(N("error"),L(!0))),Be.simulation.status!=="Success")throw Error("Simulation failed");{x(Be.simulation.params);let{assetsIn:ct,assetsOut:Dt}=function(dt,je){var In,zn,Vn,Wn,Nr;let Kt=[],un=new Map;if(dt){for(let Ot of dt)if(Ot.in[0]){let qi;qi=Ot.asset.type==="ERC721"||Ot.in[0].value==="approve_for_all"?{id:`nft:${Ot.asset.name}`,nftName:Ot.asset.name,nftCount:Ot.in.length}:{id:`token:${Ot.asset.type}:${Ot.asset.symbol}:${Ot.asset.name}`,iconUrl:Ot.asset.logo_url,value:Ot.in[0].value,symbol:Ot.asset.symbol,usdValue:Ot.in[0].usd_price?hV(Ot.in[0].usd_price):void 0,decimals:Ot.asset.decimals},Kt.push(qi)}else if((In=Ot.out[0])!=null&&In.value){let qi;qi=Ot.asset.type==="ERC721"||Ot.out[0].value==="approve_for_all"?{id:`nft:${Ot.asset.name}`,nftName:Ot.asset.name}:{id:`token:${Ot.asset.type}:${Ot.asset.symbol}:${Ot.asset.name}`,iconUrl:Ot.asset.logo_url,value:Ot.out[0].value,symbol:Ot.asset.symbol,usdValue:Ot.out[0].usd_price?hV(Ot.out[0].usd_price):void 0,decimals:Ot.asset.decimals},un.has(qi.id)||un.set(qi.id,qi)}}for(let Ot of je)for(let qi of Object.keys(Ot.spenders)){let dn;dn=Ot.asset.type==="ERC721"||((zn=Ot.spenders[qi])==null?void 0:zn.value)==="approve_for_all"?{id:`nft:${Ot.asset.name}`,nftName:Ot.asset.name}:{id:`token:${Ot.asset.type}:${Ot.asset.symbol}:${Ot.asset.name}`,iconUrl:Ot.asset.logo_url,value:(Vn=Ot.spenders[qi])==null?void 0:Vn.value,symbol:Ot.asset.symbol,usdValue:(Wn=Ot.spenders[qi])!=null&&Wn.usd_price?hV((Nr=Ot.spenders[qi])==null?void 0:Nr.usd_price):void 0,decimals:Ot.asset.decimals},un.has(dn.id)||un.set(dn.id,dn)}return{assetsIn:Kt,assetsOut:Array.from(un.values())}}(Be.simulation.assets_diffs,Be.simulation.exposures);if(Dt.length===0&&ct.length===0)throw Error("No tokens found");q(Dt),F(ct)}};if(k.useEffect(()=>{var Be;(Be=t.sendTransaction)!=null&&Be.scanTransaction&&d.embeddedWallets.transactionScanning.enabled&&Z==="uninitiated"&&(X("in progress"),t.sendTransaction.scanTransaction().then(ct=>{Wt(ct),X("completed")}).catch(()=>X("failed")))},[!!((re=t.sendTransaction)!=null&&re.scanTransaction)]),k.useEffect(()=>{var Be;(Be=t.sendTransaction)!=null&&Be.scanTransaction&&Z!=="failed"||((ct,Dt,dt)=>{if(m((je=>je!=null&&je.sendTransaction?"transactionRequest"in je.sendTransaction?0:je.sendTransaction.transactionRequests.length-1:0)(t)),Dt.isErc20Ish&&Dt.amount&&dt){let je=PT({amount:Dt.amount,decimals:dt.decimals});te(je),q([{value:je,symbol:dt==null?void 0:dt.symbol,decimals:dt==null?void 0:dt.decimals}])}else if(ct.value){let je=BigInt(ct.value),Kt=Ee?iw(je,Ee):void 0;q(l&&Kt?[{value:Kt}]:[{value:qbe(je),symbol:pe,decimals:18,usdValue:Kt}])}else q(l?[{value:"$0"}]:[{value:"0",symbol:pe,decimals:18}])})((Ye==null?void 0:Ye.tx)??w,be,b)},[w,Ye==null?void 0:Ye.tx,be,b,Z]),B)return g.jsx(MAt,{txn:(Ye==null?void 0:Ye.tx)??w,onClose:kt,receipt:B,transactionInfo:(ae=t.sendTransaction)==null?void 0:ae.uiOptions.transactionInfo,tokenPrice:Ee,tokenSymbol:pe,receiptHeader:(de=t.sendTransaction)==null?void 0:de.uiOptions.successHeader,receiptDescription:(Te=t.sendTransaction)==null?void 0:Te.uiOptions.successDescription});if(U)return g.jsx(x5e,{transactionError:U,transactionHash:R??void 0,network:"ethereum",chainId:(Ye==null?void 0:Ye.tx.chainId)??w.chainId,onClose:kt,onRetry:({resetNonce:Be})=>{M(null);let ct={...(Ye==null?void 0:Ye.tx)??w};Be&&(ct.nonce=void 0),y(ct)}});let sn=p!==0&&typeof h=="number"&&h!==0?()=>{f(h-1)}:void 0;return O&&C?g.jsx(OAt,{details:C,onBack:()=>P(!1)}):g.jsx(K_t,{transactionIndex:h,onBack:sn,maxIndex:p,disabled:He&&!K||D,isSubmitting:T,submitError:U,isPreparing:!Ye,isTokenPriceLoading:$e,isTokenContractInfoLoading:!ft&&!b,prepareError:Ye==null?void 0:Ye.errors[0],symbol:b==null?void 0:b.symbol,chain:he,img:et,title:se,subtitle:Re,txValue:w.value,fee:W??z,isSponsored:E,from:fe??"",to:Me,tokenAddress:Oe??void 0,network:((Ie=d.chains.find(Be=>Be.id===w.chainId))==null?void 0:Ie.name)??"",transactionDetails:{...be,formattedAmount:Y},cta:Pe,missingFunds:He,action:ge,balance:ce??ee??J,onClose:kt,onClick:nt?async()=>{var Be;if(fe){if(!K)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:Gc,chainType:"ethereum",amount:L1(BigInt((Ye==null?void 0:Ye.tx.value)??0)+BigInt(((Be=Ye==null?void 0:Ye.totalGasEstimate)==null?void 0:Be.toString())??0)),chain:he},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(Gc)}}:async()=>{var Be,ct;if(h<p)f(h+1);else{I(!0);try{let Dt=await i.getAccessToken();if(T||!Dt||!c||!u)return;let dt=await t.sendTransaction.onConfirm({transactionRequest:(Ye==null?void 0:Ye.tx)??w});if(S(dt),(Be=t.sendTransaction)==null?void 0:Be.signOnly)return await new Promise(Kt=>setTimeout(Kt,di)),(ct=t==null?void 0:t.sendTransaction)==null||ct.onSuccess({hash:dt}),a({shouldCallAuthOnSuccess:!1});let je=await qe.waitForTransactionReceipt({hash:dt});if(je.status==="reverted")throw Error("Transaction failed");j(je)}catch(Dt){console.warn({transaction:(Ye==null?void 0:Ye.tx)??w,error:Dt}),M(Dt)}finally{I(!1)}}},validation:A,hasScanDetails:!!C,setIsScanDetailsOpen:P,preventMaliciousTransaction:D,setPreventMaliciousTransaction:L,tokensSent:$,tokensReceived:V,isScanning:Z==="in progress",isCancellable:((rn=(gt=t.sendTransaction)==null?void 0:gt.uiOptions)==null?void 0:rn.isCancellable)??!1,functionName:we})}};function Zc({title:t}){var o,a;let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:s}=it();return g.jsx(vn,{title:t,backFn:e===OT?n:e===((o=i==null?void 0:i.funding)==null?void 0:o.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>r(P5e):void 0:(a=i==null?void 0:i.funding)!=null&&a.methodScreen?()=>{let c=i.funding;c.usingDefaultFundingMethod&&(c.usingDefaultFundingMethod=!1),s({funding:c,solanaFundingData:i==null?void 0:i.solanaFundingData}),r(c.methodScreen)}:void 0})}const N5e={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=Je(),{navigate:i,setModalData:s,app:o,data:a}=it(),{wallets:c}=h0(),l=O3(),[u,d]=k.useState(null),[h,f]=k.useState(null),[p,m]=k.useState([]),[w,y]=k.useState(0),[b,v]=k.useState(!1),[E,_]=k.useState(!1),[T,I]=k.useState(!1),[R,S]=k.useState(!1),[B,j]=k.useState(),[U,M]=k.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:C,cluster:x,connectedWalletAddress:A}=a.funding,[N,O]=k.useState(a.funding.amount),P=A?c.find(({address:be})=>be===A):c[0],D=u0((P==null?void 0:P.walletClientType)||"unknown"),L=(D==null?void 0:D.name)||"wallet",[$,q]=k.useState(null);k.useEffect(()=>{(async()=>{if(!P)return;let be=await P.getEthereumProvider();q(poe({account:P.address,transport:goe(be)}).extend(gD))})().catch(console.error)},[P]);let[V,F]=k.useState(0n),Z=Tm(V);k.useEffect(()=>{let be=l(h9);be?be.getBalance({address:C,cluster:x}).then(ge=>F(BigInt(ge))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[X,Y]=k.useState(),{tokenPrice:te}=I3("solana"),{fundingAmountInBaseUnit:fe,fundingAmountInUsd:he}=Hbe({amount:N,fee:0n,tokenPrice:te,isUsdc:a.funding.isUSDC});if(k.useEffect(()=>{(async()=>{if(!$||!P)return;let be=["testnet","devnet"].includes(x.name);be&&console.warn("Solana testnets are not supported for bridging");let ge=CD(o.chains).filter(({testnet:Oe})=>!!Oe===be),ye=(await z3e({chains:ge,address:P.address,appId:e,rpcConfig:t})).filter(Oe=>Oe.balance>0n);if(ye.length<1)return void d(new oe(`Wallet ${No(P.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE));ye.sort((Oe,Ee)=>Number(Ee.balance-Oe.balance));let ft=(await Promise.allSettled(ye.map(async Oe=>({...Oe,quote:await s9({isTestnet:!1,input:P3({amount:fe.toString(),user:P.address,recipient:C,destinationChainId:eH,destinationCurrency:tH,originChainId:Oe.chain.id})})})))).filter(Oe=>Oe.status==="fulfilled").map(Oe=>Oe.value);if(ft.length<1)return void d(new oe(`Unable to fetch quotes for bridging. Wallet ${No(P.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE));let we=ft.map(({quote:Oe,balance:Ee,chain:$e})=>({bridgeTx:vT(Oe),balance:Ee,chain:$e,isErc20Quote:!1})).filter(({bridgeTx:Oe})=>!!Oe);if(we.length>1)return void m(we);let Me=we.at(0);Me?(_(!0),Y({data:Me.bridgeTx.data,to:Me.bridgeTx.to,value:Me.bridgeTx.value,chain:Me.chain})):d(new oe(`Unable to select bridge option from quotes. Wallet ${No(P.address)} does not have enough funds.`,void 0,le.INSUFFICIENT_BALANCE))})().catch(console.error)},[$]),k.useEffect(()=>{(async()=>{let be,ge;if(!$||!P||b||T||!X)return;v(!0);let ye=Hh({chain:X.chain,transport:Ua(c0(X.chain,t,e))});try{be=await ye.prepareTransactionRequest({account:P.address,to:X.to,chain:X.chain,data:X.data,value:BigInt(X.value??0)})}catch(ft){console.error(ft),p.length>1&&f(ft.shortMessage??"Something went wrong")}if(be){v(!1),I(!0);try{await $.switchChain({id:X.chain.id})}catch{await $.addChain({chain:X.chain}),await $.switchChain({id:X.chain.id})}try{ge=await $.sendTransaction(be)}catch(ft){console.error(ft),ft.name==="TransactionExecutionError"&&(p.length<1?d(new oe(ft.shortMessage,void 0,le.TRANSACTION_FAILURE)):f(ft.shortMessage??"Something went wrong"))}if(ge)return await $.waitForTransactionReceipt({hash:ge}),E?(M("pending"),void j(ge)):(I(!1),S(!0),void r({eventName:dh,payload:{provider:"external",status:"success",txHash:ge,address:P.address,chainId:X.chain.id,chainType:"ethereum",value:X.value?ks(BigInt(X.value),18):void 0,token:"ETH",destination:C,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:ks(fe,9),destinationToken:"SOL"}}));I(!1)}else v(!1)})().catch(console.error)},[$,X]),HH({transactionHash:B,wallet:P,isTestnet:!1,bridgingStatus:U,setBridgingStatus:M,onSuccess({transactionHash:be,wallet:ge}){_(!1),S(!0),r({eventName:dh,payload:{provider:"external",status:"success",txHash:be,address:ge.address,chainId:X==null?void 0:X.chain.id,chainType:"ethereum",value:X!=null&&X.value?ks(BigInt(X.value),18):void 0,token:"ETH",destination:C,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:ks(fe,9),destinationToken:"SOL"}})},onFailure({error:be}){_(!1),d(be)}}),k.useEffect(()=>{u&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:u,previousScreen:B3}}),i(hi,!1))},[u]),k.useEffect(()=>{if(!R)return;let be=setTimeout(n,M$);return()=>clearTimeout(be)},[R]),R)return g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(lh,{}),g.jsxs(e9,{children:[g.jsx(a3,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),g.jsx(Gl,{title:"Success!",description:`Youve successfully added ${N} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),g.jsx(Kl,{}),g.jsx(Ln,{})]});let pe=p[w];return p.length>1&&pe?g.jsx(J3e,{displayName:L,configuredFundingChain:x,formattedBalance:Z,fundingAmount:N,fundingCurrency:"SOL",fundingAmountInUsd:he,options:p,selectedOption:pe,isPreparing:b,isSubmitting:T,addressToFund:C,fundingWalletAddress:(P==null?void 0:P.address)||"",errorMessage:h,onSubmit:()=>{var be;((be=a.funding)==null?void 0:be.amount)!==N?async function(){if(P&&pe)try{let ge=await s9({isTestnet:!1,input:P3({amount:fe.toString(),user:P.address,recipient:C,destinationChainId:eH,destinationCurrency:tH,originChainId:pe.chain.id})}),ye=vT(ge);if(!ye)throw Error("Invalid transaction request");_(!0),Y({data:ye.data,to:ye.to,value:ye.value,chain:pe.chain})}catch(ge){console.error(ge),d(new oe("Unable to fetch quotes for bridging",ge,le.INSUFFICIENT_BALANCE))}}().catch(console.error):Y({to:pe.bridgeTx.to,data:pe.bridgeTx.data,value:pe.bridgeTx.value,chain:pe.chain})},onSelect:be=>{be!==w&&(f(null),y(be))},onAmountChange:O}):T&&P?g.jsx(NT,{wallet:P,displayName:L,addressToFund:C,isBridging:E,isErc20Flow:!1,chainId:"solana",chainName:x.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):g.jsxs(g.Fragment,{children:[g.jsx(Zc,{}),g.jsx(ew,{}),g.jsx("div",{style:{marginTop:"1rem"}}),g.jsx(Ln,{})]})}},fV=new Map([[Gc,null],[B3,"external"],[Q3e,"external"],[aV,"external"],[N5e,"external"],[X3e,"external"],[OT,"manual"],[a5e,"moonpay"]]),GAt=()=>{let t=qn(),{user:e}=Sn(),{client:n,refreshSessionAndUser:r,walletProxy:i}=Je();return{migrate:k.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new oe("User must be authenticated before migrating wallets",le.MUST_BE_AUTHENTICATED);let s=Ru(e);if(!s||Vs(s)||!$3(s))return{success:!0};if(!i)throw new oe("Cannot connect to wallet proxy");let o=await n.getAccessToken();if(!o)throw new oe("User must be authenticated before migrating wallets",le.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter(u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported).filter($3),{entropyId:c,entropyIdVerifier:l}=Oo(e,s);try{await i.connect({accessToken:o,entropyId:c,entropyIdVerifier:l})}catch(u){if(!r9(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:c,entropyIdVerifier:l})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await r(),{success:!0}},[t.embeddedWallets.mode,e,i,n,r])}},ZAt=({disabled:t})=>{let{migrate:e}=GAt(),{user:n}=Sn(),{walletProxy:r}=Je();return k.useEffect(()=>{!t&&n&&r&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[n,r,t,e]),null},YAt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function JAt(t){let{logout:e}=k.useContext(Lb);return C3("logout",t),{logout:e}}const QAt=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:s}=k.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,n,t.name]);return g.jsx(Rn,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},XAt={component:()=>{let t=qn(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=it(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:c}=Je(),{logout:l}=JAt(),[u,d]=k.useState({}),h=e==null?void 0:e.crossAppAuth,f={id:h.appId,name:h.name,logoUrl:h.logoUrl},p=new oe(`There was an issue connecting your ${f.name} account. Please try again.`),m=new ec(async y=>{var b,v,E,_,T,I,R,S,B,j,U,M,C,x,A;if(h.popup)try{let N=await s({appId:y,popup:h.popup,action:h.action});d({data:N})}catch(N){if(N instanceof oe)d({error:N});else if(N instanceof Pl){if(N.privyErrorCode===le.ACCOUNT_TRANSFER_REQUIRED&&((v=(b=N.data)==null?void 0:b.data)!=null&&v.nonce))return r({accountTransfer:{nonce:(_=(E=N.data)==null?void 0:E.data)==null?void 0:_.nonce,account:(I=(T=N.data)==null?void 0:T.data)==null?void 0:I.subject,displayName:(B=(S=(R=N.data)==null?void 0:R.data)==null?void 0:S.account)==null?void 0:B.displayName,linkMethod:`privy:${f.id}`,embeddedWalletAddress:(M=(U=(j=N.data)==null?void 0:j.data)==null?void 0:U.otherUser)==null?void 0:M.embeddedWalletAddress,oAuthUserInfo:(A=(x=(C=N.data)==null?void 0:C.data)==null?void 0:x.otherUser)==null?void 0:A.oAuthUserInfo}}),void n(sw);h.popup&&h.popup.close(),d({error:p})}else d({error:p})}else d({error:p})}),w=()=>{u.data&&(o(),h.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),h.onError(u.error??new oe("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=w,k.useEffect(()=>{f.id.length&&m.execute(f.id)},[f.id]),k.useEffect(()=>{if(!u.data)return;let y=u.data;if(t.legal.requireUsersAcceptTerms&&!y.hasAcceptedTerms){let v=setTimeout(()=>{n(ow)},di);return()=>clearTimeout(v)}if(Om(y,t.embeddedWallets)){let v=setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:E=>{console.error(E),c({eventName:"embedded_wallet_creation_failure_logout",payload:{error:E,provider:`privy:${f.id}`,screen:"CrossAppAuthScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),n(f0)},di);return()=>clearTimeout(v)}let b=setTimeout(w,di);return()=>clearTimeout(b)},[u.data]),g.jsx(QAt,{providerApp:f,success:!!u.data,error:u.error,onClose:w})}},eSt=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:s,onClose:o})=>g.jsx(Rn,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?Qfe:$x,iconVariant:r?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:Hit,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:g.jsx(TT,{address:e,title:"Wallet"})}),tSt={component:()=>{let{app:t,data:e}=it(),{closePrivyModal:n}=Je(),[r,i]=k.useState(!1),[s,o]=k.useState(),{address:a,onDelegate:c,onSuccess:l,onError:u}=e.delegatedActions.consent,d=async()=>{r?l():u(s??new oe("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return k.useEffect(()=>{if(!r&&!s)return;let h=setTimeout(d,kq);return()=>clearTimeout(h)},[r,s]),g.jsx(eSt,{appName:t.name,address:a,success:r,error:s,onAccept:async()=>{try{await c(),i(!0)}catch(h){o(h)}},onDecline:()=>{d()},onClose:d})}},nSt=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:s})=>g.jsx(Rn,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?Qfe:$x,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:zit,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),rSt={component:()=>{let{app:t,data:e}=it(),{closePrivyModal:n}=Je(),[r,i]=k.useState(!1),[s,o]=k.useState(),{onRevoke:a,onSuccess:c,onError:l}=e.delegatedActions.revoke,u=async()=>{r?c():l(s??new oe("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return k.useEffect(()=>{if(!r&&!s)return;let d=setTimeout(u,kq);return()=>clearTimeout(d)},[r,s]),g.jsx(nSt,{appName:t.name,success:r,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(d){o(d)}},onDeny:()=>{u()},onClose:u})}};let O5e="#8a63d2";const iSt=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>g.jsx(Rn,Zr||e?XM?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:aw,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:aw,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:o,watermark:!0,children:i&&Zr&&g.jsx(sSt,{children:g.jsx(u3e,{text:"Take me to Farcaster",url:i,color:O5e})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:g.jsxs(oSt,{children:[g.jsx(aSt,{children:i?g.jsx(a9,{url:i,size:275,squareLogoElement:aw}):g.jsx(uSt,{children:g.jsx(Qu,{})})}),g.jsxs(cSt,{children:[g.jsx(lSt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&g.jsx(uV,{text:i,itemName:"link",color:O5e})]})]})});let sSt=Q.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),oSt=Q.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),aSt=Q.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),cSt=Q.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),lSt=Q.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),uSt=Q.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const dSt={component:()=>{let{lastScreen:t,navigateBack:e,data:n,app:r}=it(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Je(),[o,a]=k.useState(void 0),[c,l]=k.useState(!1),[u,d]=k.useState(!1),h=k.useRef([]),f=n==null?void 0:n.farcasterSigner;k.useEffect(()=>{let m=Date.now(),w=setInterval(async()=>{if(!(f!=null&&f.public_key))return clearInterval(w),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});f.status==="approved"&&(clearInterval(w),l(!1),d(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),di)));let y=await i(f==null?void 0:f.public_key),b=Date.now()-m;y.status==="approved"?(clearInterval(w),l(!1),d(!0),h.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),di))):b>3e5?(clearInterval(w),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):y.status==="revoked"&&(clearInterval(w),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(w),h.current.forEach(y=>clearTimeout(y))}},[]);let p=(f==null?void 0:f.status)==="pending_approval"?f.signer_approval_url:void 0;return g.jsx(iSt,{appName:r.name,loading:c,success:u,errorMessage:o,connectUri:p,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{p&&(window.location.href=p)}})}},hSt=({onClose:t})=>g.jsx(Rn,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:mF,primaryCta:{label:"Close",onClick:t},watermark:!0}),R5e={component:()=>{let{closePrivyModal:t}=Je();return g.jsx(hSt,{onClose:()=>t()})}},fSt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>g.jsx(Rn,{title:t,subtitle:e,icon:A$,watermark:!0,children:g.jsx(Qbe,{children:g.jsx(_3e,{stacked:!0})})}),pSt={component:()=>{let{app:t}=it();return g.jsx(fSt,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},gSt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=k.useState(null),o=async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)};return g.jsx(Rn,{title:t,subtitle:e,icon:Yg,primaryCta:{label:r?"Submitting":"Submit",onClick:o,disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:g.jsx(ST,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},pV={component:()=>{let{app:t,currentScreen:e,data:n,navigate:r,setModalData:i}=it(),{initLoginWithSms:s}=Je(),[o,a]=k.useState(!1);return g.jsx(gSt,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async c=>{var l;a(!0);try{await s({phoneNumber:c.qualifiedPhoneNumber,withPrivyUi:!0}),r(m0)}catch(u){i({errorModalData:{error:u,previousScreen:((l=n==null?void 0:n.errorModalData)==null?void 0:l.previousScreen)||e||pV}}),r(hi)}finally{a(!1)}},isSubmitting:o})}},mSt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>g.jsx(Rn,{title:t,subtitle:e,icon:QI,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),ySt={component:()=>{let{closePrivyModal:t}=Je(),{navigate:e}=it();return g.jsx(mSt,{onTryAgain:()=>{e(Aa)},onCancel:async()=>{await t()}})}};function M5e(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=k.useContext(Lb);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:c=>o("passkey",c),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const wSt=t=>g.jsxs(vSt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[g.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let vSt=Q.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const bSt=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:c,handleSelectMethod:l,setRemovingMfaMethod:u})=>{let d=e.reduce((f,p)=>({...f,[p]:!0}),{}),h=n.reduce((f,p)=>({...f,[p]:!0}),{});return g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:t?c:void 0,onClose:a},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(my,{})}),g.jsx(Vc,{children:"Choose a verification method"}),e.length>0?g.jsx(Xu,{children:"To add or delete verification methods, verification is required."}):g.jsx(Xu,{children:"How would you like to verify your identity?"}),o&&g.jsx(Ube,{style:{marginTop:"1.25rem"},children:o.message}),g.jsxs(Bbe,{children:[(h.passkey||d.passkey)&&g.jsxs(fH,{children:[g.jsx(xi,{style:{justifyContent:"center"},onClick:()=>l("passkey"),disabled:d.passkey||s,children:s?g.jsx(Qu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):g.jsxs(mH,{children:[g.jsxs(gH,{children:[g.jsx(TU,{}),"Passkey"]}),d.passkey?g.jsx(gV,{color:"green",children:"Enabled"}):g.jsx(Dbe,{$isAccent:!0,children:g.jsx(K5t,{})})]})}),d.passkey&&g.jsx(pH,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:g.jsx(cq,{})})]},"passkey"),(h.totp||d.totp)&&g.jsxs(fH,{children:[g.jsx(xi,{style:{justifyContent:"center"},disabled:d.totp||i,onClick:()=>l("totp"),children:i?g.jsx(Qu,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):g.jsxs(mH,{children:[g.jsxs(gH,{children:[g.jsx(wI,{}),"Authenticator app"]}),d.totp&&g.jsx(gV,{color:"green",children:"Enabled"})]})}),d.totp&&g.jsx(pH,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:g.jsx(cq,{})})]},"totp"),(h.sms||d.sms)&&g.jsxs(fH,{children:[g.jsx(xi,{disabled:d.sms||r,onClick:()=>l("sms"),children:g.jsxs(mH,{children:[g.jsxs(gH,{children:[g.jsx(Yg,{}),"SMS"]}),d.sms&&g.jsx(gV,{color:"green",children:"Enabled"}),r&&g.jsx(Dbe,{children:"Disabled"})]})}),d.sms&&g.jsx(pH,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:g.jsx(cq,{})})]},"sms")]}),g.jsx(xSt,{children:"You can always change your selection later"}),g.jsx(es,{})]})};let gV=Q(Of).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),xSt=Q(Lbe).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const j5e=({style:t,...e})=>g.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[g.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[g.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),g.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),g.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),g.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),g.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),g.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),g.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),g.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),g.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),g.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),g.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),g.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),g.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),g.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),g.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),g.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),g.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),g.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),g.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),g.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),g.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),g.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),g.jsx("defs",{children:g.jsx("clipPath",{id:"clip0_113_33841",children:g.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),ESt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=Sn(),{initLinkWithPasskey:i,linkWithPasskey:s}=Je(),{app:o}=it(),[a,c]=k.useState(!1),[l,u]=k.useState(!1),[d,h]=k.useState(null),f=k.useMemo(()=>(r==null?void 0:r.linkedAccounts.filter(w=>w.type==="passkey"))??[],[r]),p=async w=>{c(!0);try{await n(w)}catch(y){h(y)}finally{c(!1)}},m=async()=>{u(!0),h(null);try{await i();let w=await s(),y=(w==null?void 0:w.linkedAccounts.filter(b=>b.type==="passkey").map(b=>b.credentialId))??[];await p(y)}catch(w){h(w)}finally{u(!1)}};return f.length===0||l?g.jsx(CSt,{onReset:e,onClose:t,onClick:m,isCreating:l}):d?g.jsx(o9,{allowlistConfig:o.allowlistConfig,error:d,onBack:()=>h(null),onRetry:()=>h(null)}):g.jsx(_St,{passkeys:f,isSubmitting:a,isCreating:l,onReset:e,onClose:t,onSubmitEnrollment:()=>p(f.map(w=>w.credentialId)),onAddPasskey:m})};let CSt=({onReset:t,onClose:e,onClick:n,isCreating:r})=>g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:t,onClose:e},"header"),g.jsx(hH,{children:g.jsxs(H3e,{children:[g.jsx(SH,{}),g.jsx(j5e,{})]})}),g.jsx(Vc,{children:"Set up passkey verification"}),g.jsxs(tT,{children:[g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(my,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(Q5t,{})}),"Takes seconds to set up and use"]}),g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(U5t,{})}),"Use your passkey to verify transactions and login to your account"]})]}),g.jsx(wr,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),g.jsx(es,{})]}),_St=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,c]=k.useState(!1),l=a?i.length:i.length>3?2:3;return g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:a?()=>c(!1):t,onClose:e},"header"),!a&&g.jsx(hH,{children:g.jsxs(H3e,{children:[g.jsx(SH,{}),g.jsx(j5e,{})]})}),g.jsx(Vc,{children:"Enable your passkeys for verification"}),g.jsxs(tT,{children:[i.slice(0,l).map(u=>{var d;return g.jsxs(ASt,{children:[g.jsx(SSt,{children:kSt(u)}),g.jsxs(ISt,{children:["Last used: ",(d=u.latestVerifiedAt)==null?void 0:d.toLocaleString()]})]},u.credentialId)}),!a&&i.length>3&&g.jsx(B5e,{onClick:()=>c(!0),children:"View All"})]}),g.jsx(wr,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&g.jsx(B5e,{style:{marginTop:"0.5rem"},onClick:n,disabled:o,children:o?g.jsx(Qu,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),g.jsx(es,{})]})},ASt=Q.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),SSt=Q.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),ISt=Q.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),kSt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const B5e=Q.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),$St=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,s]=k.useState(""),[o,a]=k.useState(!1),[c,l]=k.useState(null),[u,d]=k.useState("enroll"),{initEnrollmentWithSms:h,submitEnrollmentWithSms:f}=M5e(),{app:p,data:m}=it();function w(){var y;(y=m==null?void 0:m.mfaEnrollmentFlow)==null||y.onSuccess(),e()}return c?g.jsx(o9,{allowlistConfig:p.allowlistConfig,error:c,onBack:()=>l(null),onRetry:()=>l(null)}):g.jsxs(g.Fragment,u==="enroll"?{children:[g.jsx(vn,{backFn:n,onClose:r},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(Yg,{})}),g.jsx(Vc,{children:"Set up SMS verification"}),g.jsxs(Xu,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),g.jsxs(tw,{children:[g.jsx(ST,{onSubmit:async function({qualifiedPhoneNumber:y}){try{await h({phoneNumber:y}),s(y),d("verify")}catch(b){l(b)}},hideRecent:!0}),g.jsxs(Lbe,{children:["By providing your mobile number, you agree to receive text messages from ",p==null?void 0:p.name,". Some carrier charges may apply"]})]}),g.jsx(es,{})]}:o?{children:[g.jsx(vn,{onClose:w},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(a3,{})}),g.jsx(Vc,{children:"SMS verification added"}),g.jsxs(Xu,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),g.jsx(A3,{children:g.jsx(wr,{onClick:w,children:"Done"})}),g.jsx(es,{})]}:{children:[g.jsx(vn,{backFn:function(){u==="verify"?d("enroll"):n()},onClose:r},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(Yg,{})}),g.jsx(Vc,{children:"Enter enrollment code"}),g.jsxs(tw,{children:[g.jsx(oT,{onChange:async function(y){try{if(!y)return;await f({phoneNumber:i,mfaCode:y}),a(!0)}catch(b){throw l2e(b)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):$H(b)?Error("The code you entered is not valid"):kH(b)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):u2e(b)?Error("Verification canceled"):Error("Unknown error")}}}),g.jsxs(Xu,{children:["To continue, enter the 6-digit code sent to ",g.jsx("strong",{children:qKe(i)})]})]}),g.jsx(es,{})]})},TSt=Q.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),PSt=({size:t,authUrl:e})=>g.jsx(a9,{url:e,squareLogoElement:g4t,size:t,fgColor:"#1F1F1F"}),NSt=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,o]=k.useState("enroll");return g.jsxs(g.Fragment,s==="enroll"?{children:[g.jsx(vn,{backFn:e,onClose:t},"header"),g.jsx(y0,{children:"Scan QR code"}),g.jsx(Rm,{children:"Open your authenticator app and scan this code to continue"}),g.jsx(Ext,{children:g.jsx(PSt,{authUrl:n.authUrl,size:240})}),g.jsx(Kc,{style:{textAlign:"left"},children:"Setup key"}),g.jsxs($T,{style:{marginTop:"0.25rem"},children:[g.jsx(TSt,{children:"".repeat(16)}),g.jsx(uV,{itemName:" ",text:n.secret})]}),g.jsx(wr,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),g.jsx(es,{})]}:{children:[g.jsx(vn,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(wI,{})}),g.jsx(y0,{children:"Enter enrollment code"}),g.jsx(Rm,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),g.jsx(tw,{children:g.jsx(oT,{onChange:async function(a){try{if(!a)return;await r({mfaCode:a})}catch(c){throw l2e(c)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):$H(c)?Error("The code you entered is not valid"):kH(c)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):u2e(c)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),g.jsx(es,{})]})},OSt={component:()=>{var L;let{user:t,enrollInMfa:e,ready:n}=Sn(),[r,i]=k.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:c,initEnrollmentWithPasskey:l,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:d}=M5e(),{app:h,data:f,onUserCloseViaDialogOrKeybindRef:p}=it(),{closePrivyModal:m}=Je(),{promptMfa:w}=d2e(),[y,b]=k.useState(!1),[v,E]=k.useState(null),[_,T]=k.useState(null),I=()=>{m({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),E(null)},500)},[R,S]=k.useState(!1),[B,j]=k.useState();p.current=I;let U=t==null?void 0:t.mfaMethods.includes("sms"),M=!!(t!=null&&t.phone),C=t==null?void 0:t.mfaMethods.includes("totp"),x=t==null?void 0:t.mfaMethods.includes("passkey"),A=U||C||x,N=(t==null?void 0:t.linkedAccounts.filter($=>$.type==="passkey").map($=>$.credentialId))??[];function O(){i(null),E(null)}async function P($=N){var q,V;S(!0);try{return await l(),await u({credentialIds:$},{removeForLogin:(q=f==null?void 0:f.mfaEnrollmentFlow)==null?void 0:q.shouldUnlinkOnUnenrollMfa}),(V=f==null?void 0:f.mfaEnrollmentFlow)==null||V.onSuccess(),I()}catch(F){j(F)}finally{S(!1)}}if(k.useEffect(()=>{A&&b(!0)},[A]),!n||!t||!h)return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:I},"header"),g.jsx(hH,{children:g.jsx(wSt,{})}),g.jsx(tw,{children:g.jsx(Qu,{})}),g.jsx(es,{})]});if(r==="sms")return g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:O,onClose:I},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(t2,{})}),g.jsx(Vc,{children:"Remove SMS verification?"}),g.jsxs(Xu,{children:["MFA adds an extra layer of security to your ",h==null?void 0:h.name," account. Make sure you have other methods to secure your account."]}),g.jsx(A3,{children:g.jsx(wr,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),g.jsx(es,{})]});if(r==="totp")return g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:O,onClose:I},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(t2,{})}),g.jsx(Vc,{children:"Remove authenticator app verification?"}),g.jsxs(Xu,{children:["MFA adds an extra layer of security to your ",h==null?void 0:h.name," account. Make sure you have other methods to secure your account."]}),g.jsx(A3,{children:g.jsx(wr,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),g.jsx(es,{})]});if(r==="passkey"){let $=((L=f==null?void 0:f.mfaEnrollmentFlow)==null?void 0:L.shouldUnlinkOnUnenrollMfa)??!0;return g.jsxs(g.Fragment,{children:[g.jsx(vn,{backFn:O,onClose:I},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(t2,{})}),g.jsx(Vc,{children:"Are you sure you want to remove this passkey?"}),g.jsx(Xu,{children:$?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),g.jsx(A3,{children:g.jsx(wr,{$warn:!0,onClick:async function(){var q;i(null);try{await a({removeForLogin:(q=f==null?void 0:f.mfaEnrollmentFlow)==null?void 0:q.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),g.jsx(es,{})]})}if(f.mfaEnrollmentFlow.mfaMethods.length===0&&!A)return g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:I},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(my,{})}),g.jsx(Vc,{children:"Add more security"}),g.jsxs(Xu,{children:[h==null?void 0:h.name," does not have any verification methods enabled."]}),g.jsx(A3,{children:g.jsx(wr,{onClick:I,children:"Close"})}),g.jsx(es,{})]});let D=!A&&!y;return D?g.jsxs(g.Fragment,{children:[g.jsx(vn,{onClose:I},"header"),g.jsx(ed,{style:{marginBottom:"1.5rem"},children:g.jsx(my,{})}),g.jsx(Vc,{children:"Transaction Protection"}),g.jsx(Xu,{children:"Set up transaction protection to add an extra layer of security to your account"}),g.jsxs(tT,{children:[g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(d4t,{})}),"Enable 2-Step verification for your ",h==null?void 0:h.name," wallet."]}),g.jsxs(rw,{children:[g.jsx(nw,{children:g.jsx(f4t,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),g.jsxs(A3,{children:[g.jsx(wr,{onClick:()=>b(!0),children:"Continue"}),g.jsx(oh,{onClick:I,children:"Not now"})]}),g.jsx(es,{})]}):v==="sms"?g.jsx($St,{appName:(h==null?void 0:h.name)||"Privy",onComplete:I,onReset:O,onClose:I}):v==="totp"&&_?g.jsx(NSt,{onClose:I,onReset:O,submitEnrollmentWithTotp:({mfaCode:$})=>async function(q){var V;try{return j(void 0),await c({mfaCode:q}),(V=f==null?void 0:f.mfaEnrollmentFlow)==null||V.onSuccess(),I()}catch(F){j(F)}finally{i(null)}}($),totpInfo:{..._,appName:(h==null?void 0:h.name)||"Privy"}}):v==="passkey"?g.jsx(ESt,{onReset:O,onClose:I,submitEnrollmentWithPasskey:P}):g.jsx(bSt,{showIntro:D,userMfaMethods:t.mfaMethods,appMfaMethods:h.mfa.methods,userHasAuthSms:M,onBackToIntro:function(){b(!1)},handleSelectMethod:async function($){try{await w()}catch(q){return void j(q)}return $==="totp"?(E($),T(null),void d().then(q=>{T(q)}).catch(()=>{T(null),O()})):$==="passkey"&&N.length===1?await P():void E($)},isTotpLoading:v==="totp"&&!_,isPasskeyLoading:R,error:B,onClose:I,setRemovingMfaMethod:async $=>{try{await w()}catch(q){return void j(q)}i($)}})}},RSt=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return g.jsx(Rn,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r!=null&&r.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},D5e={component:()=>{var T;let{authenticated:t,logout:e,ready:n,user:r}=Sn(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=it(),{getAuthMeta:c,initLoginWithOAuth:l,loginWithOAuth:u,updateWallets:d,setReadyToTrue:h,closePrivyModal:f,createAnalyticsEvent:p}=Je(),[m,w]=k.useState(!1),[y,b]=k.useState(void 0),v=((T=c())==null?void 0:T.provider)||"google",{name:E,component:_}=Dq(v);return k.useEffect(()=>{u(v).then(()=>{w(!0),h(!0)}).catch(I=>{var B,j,U,M,C,x,A,N,O,P,D,L,$,q,V,F;if(h(!1),(I==null?void 0:I.privyErrorCode)===le.ALLOWLIST_REJECTED)return b(void 0),a(),void o(CT);if((I==null?void 0:I.privyErrorCode)===le.USER_LIMIT_REACHED)return console.error(new Z8(I).toString()),b(void 0),a(),void o(l9);if((I==null?void 0:I.privyErrorCode)===le.USER_DOES_NOT_EXIST)return b(void 0),a(),void o(i9);if((I==null?void 0:I.privyErrorCode)===le.ACCOUNT_TRANSFER_REQUIRED&&((j=(B=I.data)==null?void 0:B.data)!=null&&j.nonce))return b(void 0),a(),s({accountTransfer:{nonce:(M=(U=I.data)==null?void 0:U.data)==null?void 0:M.nonce,account:(x=(C=I.data)==null?void 0:C.data)==null?void 0:x.subject,displayName:(O=(N=(A=I.data)==null?void 0:A.data)==null?void 0:N.account)==null?void 0:O.displayName,linkMethod:(P=c())==null?void 0:P.provider,embeddedWalletAddress:($=(L=(D=I.data)==null?void 0:D.data)==null?void 0:L.otherUser)==null?void 0:$.embeddedWalletAddress,oAuthUserInfo:(F=(V=(q=I.data)==null?void 0:q.data)==null?void 0:V.otherUser)==null?void 0:F.oAuthUserInfo}}),void o(sw);let{retryable:R,detail:S}=function(Z,X){let Y={detail:"",retryable:!1},te=Lve(X);if((Z==null?void 0:Z.privyErrorCode)===le.LINKED_TO_ANOTHER_USER&&(Y.detail="This account has already been linked to another user."),(Z==null?void 0:Z.privyErrorCode)===le.INVALID_CREDENTIALS&&(Y.retryable=!0,Y.detail="Something went wrong. Try again."),Z.privyErrorCode===le.OAUTH_USER_DENIED&&(Y.detail=`Retry and check ${te} to finish connecting your account.`,Y.retryable=!0),(Z==null?void 0:Z.privyErrorCode)===le.TOO_MANY_REQUESTS&&(Y.detail="Too many requests. Please wait before trying again."),(Z==null?void 0:Z.privyErrorCode)===le.TOO_MANY_REQUESTS&&Z.message.includes("provider rate limit")){let fe=Dq(X).name;Y.detail=`Request limit reached for ${fe}. Please wait a moment and try again.`}if((Z==null?void 0:Z.privyErrorCode)===le.OAUTH_ACCOUNT_SUSPENDED){let fe=Dq(X).name;Y.detail=`Your ${fe} account is suspended. Please try another login method.`}return(Z==null?void 0:Z.privyErrorCode)===le.CANNOT_LINK_MORE_OF_TYPE&&(Y.detail="You cannot authorize more than one account for this user."),(Z==null?void 0:Z.privyErrorCode)===le.OAUTH_UNEXPECTED&&X.startsWith("privy:")&&(Y.detail="Something went wrong. Please try again."),Y}(I,v);b({retryable:R,detail:S,message:"Authentication failed"})}).finally(()=>{Lq()})},[E,v]),k.useEffect(()=>{if(n&&t&&m&&r){if(i!=null&&i.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let I=setTimeout(()=>{o(ow)},di);return()=>clearTimeout(I)}if(Om(r,i.embeddedWallets)){let I=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:R=>{console.error(R),p({eventName:"embedded_wallet_creation_failure_logout",payload:{error:R,provider:v,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(f0)},di);return()=>clearTimeout(I)}{let I=setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),di);return d(),()=>clearTimeout(I)}}},[n,t,m,r]),g.jsx(RSt,{providerName:E,ProviderLogo:_,success:m,errorMessage:y,onRetry:y!=null&&y.retryable?()=>{Lq(),l(v),b(void 0)}:void 0})}},MSt=k.forwardRef((t,e)=>{let[n,r]=k.useState(""),[i,s]=k.useState(""),[o,a]=k.useState(!1),{authenticated:c,user:l}=Sn(),{initUpdateEmail:u}=Je(),{navigate:d,setModalData:h,currentScreen:f}=it(),{enabled:p,token:m}=Hc(),w=qn(),y=ebe(n)&&(w.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),b=o||!y,v=()=>{!p||m||c?(async E=>{if(!(l!=null&&l.email))throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:l.email.address,newAddress:n,captchaToken:E}),d(m0)}catch(_){h({errorModalData:{error:_,previousScreen:f||Aa}})}a(!1)})(m):(h({captchaModalData:{callback:E=>{if(!(l!=null&&l.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:l.email.address,newAddress:n,captchaToken:E})},userIntentRequired:!1,onSuccessNavigateTo:m0,onErrorNavigateTo:hi}}),d(uh))};return g.jsxs(g.Fragment,{children:[g.jsxs(jSt,{children:[i&&g.jsx(p0,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),g.jsxs(BSt,{$error:!!i,children:[g.jsx(A$,{}),g.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:E=>r(E.target.value),onKeyUp:E=>{E.key==="Enter"&&v()},value:n,autoComplete:"email"}),t.stacked?null:g.jsx(eT,{isSubmitting:o,onClick:v,disabled:b,children:"Submit"})]})]}),t.stacked?g.jsx(wr,{loadingText:null,loading:o,disabled:b,onClick:v,style:{width:"100%"},children:"Submit"}):null]})});let jSt=e3e,BSt=X2e;const DSt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>g.jsx(Rn,{title:t,subtitle:e,icon:A$,watermark:!0,children:g.jsx(Qbe,{children:g.jsx(MSt,{stacked:!0})})}),LSt={component:()=>g.jsx(DSt,{})},USt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=k.useState(null);return g.jsx(Rn,{title:t,subtitle:e,icon:Yg,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)},disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:g.jsx(ST,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},FSt={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=it(),{user:i}=Sn(),{initUpdatePhone:s}=Je(),[o,a]=k.useState(!1);return g.jsx(USt,{onSubmit:async c=>{var l,u,d;a(!0);try{if(!((l=i==null?void 0:i.phone)!=null&&l.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,c.qualifiedPhoneNumber),n(m0)}catch(h){r({errorModalData:{error:h,previousScreen:((d=e==null?void 0:e.errorModalData)==null?void 0:d.previousScreen)||t||pV}}),n(hi)}finally{a(!1)}},isSubmitting:o})}};function zSt({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=Je(),{logout:c,authenticated:l,ready:u}=f9();if(!o)throw new oe("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[d,h]=k.useState({status:"initial"}),f=k.useRef(),p=k.useRef(!1),m=k.useRef(e);k.useEffect(()=>{m.current=e},[e]);let w=k.useRef(r);k.useEffect(()=>{w.current=r},[r]);let y=k.useRef(i);k.useEffect(()=>{y.current=i},[i]);let b=k.useRef(s);return k.useEffect(()=>{b.current=s},[s]),k.useEffect(()=>{if(!n||!u)return;let v=async()=>{var E,_,T,I;if(!p.current){p.current=!0;try{h({status:"loading"});let R=await m.current();if(f.current!==void 0&&f.current===R)return void h({status:"done"});if(!R)return l&&(await c(),(E=y.current)==null||E.call(y)),f.current=R,void h({status:"done"});o.startAuthFlow(new Ibe(R));let{user:S,isNewUser:B=!1}=await o.authenticate();if(!S)throw new oe("Failed to sync with custom auth provider");(_=w.current)==null||_.call(w,{user:S,isNewUser:B}),a(S,B),f.current=R,h({status:"done"})}catch(R){if(console.warn(R),await c().catch(()=>{}),(T=y.current)==null||T.call(y),R instanceof Pl&&R.privyErrorCode===le.LINKED_TO_ANOTHER_USER)return h({status:"initial"}),void setTimeout(()=>{v()},0);(I=b.current)==null||I.call(b,R),h({status:"error",error:R})}finally{p.current=!1}}};return v(),t(v)},[t,o,a,l,c,n,u]),n?{state:d}:{state:{status:"not-enabled"}}}let WSt=n2(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function qSt({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:n}){let r=d0(),i=k.useRef(),s=k.useCallback(c=>(i.current=c,()=>{i.current=void 0}),[]),o=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:a}=zSt({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:c,isNewUser:l})=>{r("login","onComplete",{user:c,isNewUser:l,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:c})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:c=>{r("login","onError",c.privyErrorCode||le.UNKNOWN_AUTH_ERROR)}});return k.useEffect(()=>{(async()=>{var c;n&&!n.isLoading&&((c=i.current)==null||c.call(i))})()},[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:a}}({customAuth:t});return k.useEffect(()=>{WSt.setState({jwtAuthFlowState:e})},[e]),null}const L5e=k.createContext(!1);let L3,U5e,F5e,z5e,W5e,q5e,H5e;async function Ir(){return L3?L3.getAccessToken():Promise.resolve(Rt.get(j$)||Rt.get(WE)||null)}const HSt=(t,e)=>U5e(t,e),VSt=(t,e)=>F5e(t,e),KSt=(t,e)=>z5e(t,e),GSt=(t,e)=>W5e(t,e),ZSt=t=>q5e(t),YSt=t=>H5e(t),JSt=({config:t,...e})=>{var n;if((()=>{if(k.useContext(L5e))throw new oe("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new oe("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new oe("Cannot initialize the Privy provider with an invalid Privy app ID");L3||(L3=new o8t({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=k.useMemo(()=>new LKe({appId:e.appId,clientId:e.clientId,storage:Rt,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.25.0"}),[]);return g.jsx(K4t,{client:i,legacyClient:L3,clientConfig:r,children:g.jsx(H9t,{children:g.jsx(QSt,{...e,client:L3,privy:i})})})};let QSt=t=>{var Hn;let e=t.client,n=t.privy,r=O3();yEt();let[i,s]=k.useState(!1),[o,a]=k.useState(!1),[c,l]=k.useState(!1),[u,d]=k.useState(null),[h,f]=k.useState([]),[p,m]=k.useState([]),[w,y]=k.useState(void 0),[b,v]=k.useState(!1),[E,_]=k.useState(null),[T,I]=k.useState(!1),[R,S]=k.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:_e}),[B,j]=k.useState({status:"initial"}),[U,M]=k.useState({status:"initial"}),[C,x]=k.useState({status:"initial"}),[A,N]=k.useState({status:"initial"}),[O,P]=k.useState({status:"initial"}),[D,L]=k.useState({status:"initial"}),[$,q]=k.useState(null),V=qn(),F=_be(),[Z,X]=k.useState({}),[Y,te]=k.useState(null),fe=k.useRef(null),[he,pe]=k.useState(!1),[be,ge]=k.useState(!1),ye=k.useRef(null),ft=k.useRef(null),we=k.useRef(u8t),[Me,Oe]=k.useState(!1);e.onStoreCustomerAccessToken=H=>{H&&Le(we,"accessToken","onAccessTokenGranted",{accessToken:H})},e.onDeleteCustomerAccessToken=()=>{d(null),l(!1),Le(we,"accessToken","onAccessTokenRemoved")};let Ee=k.useRef(null),$e=k.useRef(null),zt=k.useRef(!1),Se=({showWalletUIs:H})=>zt.current?zt.current:H!==void 0?!H:!V.embeddedWallets.showWalletUIs,qe=H=>{_(H),setTimeout(()=>{s(!0)},15)};k.useEffect(()=>{var re,ae,de;if(!u)return void((re=e.connectors)==null?void 0:re.removeEmbeddedWalletConnectors());let H=sf(u),G=dle(u),ne=RL(u);H&&G.length||((ae=e.connectors)==null||ae.removeEmbeddedWalletConnectors()),ne||((de=e.connectors)==null||de.removeImportedWalletConnector()),e.connectors?$?(H&&e.connectors.addEmbeddedWalletConnectors({walletProxy:$,user:u,embeddedWallets:G,defaultChain:V.defaultChain,appId:t.appId,privyClient:n}),ne&&e.connectors.addImportedWalletConnector($,ne.address,V.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[$,u]),k.useEffect(()=>{var H;$&&((H=fe.current)==null||H.call(fe,$))},[$]);let Ye=k.useCallback((H,G)=>{d(H),v(G),l(!0),ge(!0)},[]);k.useEffect(()=>{be&&$&&u&&(async()=>{var re;let H=WH(u,V.embeddedWallets.ethereum.createOnLogin),G=qH(u,V.embeddedWallets.solana.createOnLogin),ne=await Ir();if(ne){if(H&&G){let ae=await $.create({accessToken:ne});return await $.createSolana({accessToken:ne,ethereumAddress:ae==null?void 0:ae.address}),void ge(!1)}if(G)return await $.createSolana({accessToken:ne,ethereumAddress:(re=sf(u))==null?void 0:re.address}),await xt.refreshSessionAndUser(),void ge(!1);if(H)return await $.create({accessToken:ne}),void ge(!1)}})().catch(console.error)},[be&&$&&u]),k.useEffect(()=>{if(V.externalWallets.solana.connectors)return V.externalWallets.solana.connectors.onMount(),()=>{var H;return(H=V.externalWallets.solana.connectors)==null?void 0:H.onUnmount()}},[V.externalWallets.solana.connectors]),k.useEffect(()=>{!o&&F&&async function(){var Te,Ie,gt;let H,G=kt(),ne=K(),re=wke();e.initializeConnectorManager({walletConnectCloudProjectId:V.walletConnectCloudProjectId,rpcConfig:V.rpcConfig,chains:V.chains,defaultChain:V.defaultChain,store:re,walletList:V.appearance.walletList,shouldEnforceDefaultChainOnConnect:V.shouldEnforceDefaultChainOnConnect,externalWalletConfig:V.externalWallets,appName:V.name??"Privy",walletChainType:V.appearance.walletChainType,appKit:V.externalWallets.walletConnect.appKit,setBaseAccountSdk:y}),(Te=e.connectors)==null||Te.on("connectorInitialized",()=>{H&&clearTimeout(H);let rn=e.connectors.walletConnectors.length,Be=e.connectors.walletConnectors.reduce((ct,Dt)=>ct+(Dt.initialized?1:0),0);Be===rn?Oe(!0):H=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Be,expected:rn}),Oe(!0)},1500)}),(Ie=e.connectors)==null||Ie.initialize().then(()=>{ce()});let ae=await e.getAuthenticatedUser(),de=!!ae;V.legal.requireUsersAcceptTerms&&ae&&!ae.hasAcceptedTerms?(await e.logout(),xt.setReadyToTrue(!0),Le(we,"logout","onSuccess")):((gt=V.customAuth)!=null&&gt.enabled||(l(!!ae),ae&&Le(we,"login","onComplete",{user:ae,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),d(ae)),G?$e.current=de?"link":"login":ne&&!de?($e.current="login",X({telegramAuthModalData:{seamlessAuth:!0}}),qe(IT)):xt.setReadyToTrue(!!ae))}()},[e,Y,o,F]),k.useEffect(()=>{if(o){if(!u||!u.linkedAccounts.find(H=>H.type==="wallet"&&H.walletClientType==="privy"))return void pe(!!$);if([...h].some(H=>H.walletClientType==="privy"))return void pe(!0);pe(!!$)}},[o,u,h,$]),k.useEffect(()=>{var H;(H=e.connectors)==null||H.setWalletList(V.appearance.walletList)},[V.appearance.walletList.join()]);let kt=()=>{let H=C4t();return H.inProgress&&H.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):H.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:H.stateCode,authorizationCode:H.authorizationCode}):(H.inProgress&&function(G){return G.startsWith("privy:")}(H.provider)&&!H.popupFlow&&(new BroadcastChannel(v2e).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:H.stateCode,authorizationCode:H.authorizationCode}),window.close()),!!H.inProgress&&!!H.withPrivyUi&&(e.startAuthFlow(new f3({...H,customOAuthRedirectUrl:V.customOAuthRedirectUrl})),qe(D5e),!0))},K=()=>{var ne;let H=function(){let re;return(re=function(){let ae=new URLSearchParams(window.location.search),de=Number(ae.get("id")||""),Te=ae.get("hash"),Ie=Number(ae.get("auth_date")||""),gt=ae.get("first_name");if(de&&gt&&Ie&&Te)return Object.fromEntries(ae.entries())}())?(sbe(),{flowType:"login-url",authData:re}):(re=function(){let ae=window.location.hash;if(!ae||!ae.startsWith("#tgWebAppData"))return;let de=ibe(ae.replace("#tgWebAppData=","")),{user:Te,auth_date:Ie,hash:gt}=de;return Te&&Ie&&gt?de:void 0}())?(sbe(),{flowType:"web-app",authData:re}):void 0}();if(!H||!V.loginMethods.telegram||!((ne=V.loginConfig.telegramAuthConfiguration)!=null&&ne.seamlessAuthEnabled))return;let G=new KE;return e.startAuthFlow(G),H.flowType==="login-url"&&(G.meta.telegramWebAppData=void 0,G.meta.telegramAuthResult=H.authData),H.flowType==="web-app"&&(G.meta.telegramAuthResult=void 0,G.meta.telegramWebAppData=H.authData),!0},z=async(H,G,ne,re)=>{var ae,de;if(H!=="solana_adapter")W(await((ae=e.connectors)==null?void 0:ae.createEthereumWalletConnector({connectorType:H,walletClientType:G}))||null,G,ne,re);else{let Te=(de=e.connectors)==null?void 0:de.findSolanaWalletConnector(G);if(!Te)return;W(Te,G,ne,re)}};async function W(H,G,ne,re){if(!H)return S({status:"disconnected",connectedWallet:null,connectError:new Lr("Unable to connect to wallet."),connector:null,connectRetry:_e}),re==null?void 0:re(null,ne);S({status:"disconnected",connectedWallet:null,connectError:null,connector:H,connectRetry:_e}),H instanceof E3&&G&&await H.resetConnection(G),S({connector:H,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>W(H,G,ne,re)});try{let ae=await H.connect({showPrompt:!0});if((!ae||l0(ae))&&V.shouldEnforceDefaultChainOnConnect&&!V.chains.find(de=>de.id===Number(ae==null?void 0:ae.chainId.replace("eip155:","")))&&((ae==null?void 0:ae.connectorType)!=="wallet_connect_v2"||(ae==null?void 0:ae.walletClientType)!=="metamask")){S(de=>({...de,connector:H,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:_e}));try{await(ae==null?void 0:ae.switchChain(V.defaultChain.id)),ae&&(ae.chainId=VE(Cr(V.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${V.defaultChain.id}`)}}return S(de=>({...de,status:"connected",connectedWallet:ae,connectError:null,connectRetry:_e})),ae&&Le(we,"connectWallet","onSuccess",{wallet:ae}),re==null?void 0:re(ae,ne)}catch(ae){return ae instanceof da?(console.warn(ae.cause?ae.cause:ae.message),Le(we,"connectWallet","onError",ae.privyErrorCode||le.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ae),Le(we,"connectWallet","onError",le.UNKNOWN_CONNECT_WALLET_ERROR)),S(de=>({...de,status:"disconnected",connectedWallet:null,connectError:ae})),re==null?void 0:re(null,ne)}}let J=async(H,G,ne)=>{if(H===null||!l0(H))return;let re=new g3(e,H,G,ne);e.startAuthFlow(re)},ee=async(H,G,ne,re="plain")=>{let ae=r(a3e);if(re==="transaction"&&!ae)throw new oe("useSolanaLedger plugin hook must be mounted");if(H===null||!wbe(H))return;let de=new z$(H,e,G,ne,re,ae?{deserializeTransactionFromB64String:ae.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:ae.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(de)},ce=()=>{let H=new URLSearchParams(window.location.search),G=H.get("privy_connector"),ne=H.get("privy_wallet_client"),re=H.get("privy_connect_only")==="true";if(!G||!ne)return;let ae=ybe({connectorType:G,walletClientType:ne});if(!ae||!ae.isInstalled)return qe(ySt);if(!e.connectors)throw new oe("Connector not initialized");qe(re?eV:g0);let de=new URL(window.location.href);de.searchParams.delete("privy_connector"),de.searchParams.delete("privy_wallet_client"),de.searchParams.delete("privy_connect_only"),window.history.pushState({},"",de),z(G,ne,void 0,re?void 0:G==="solana_adapter"?ee:J)};k.useEffect(()=>{o&&c&&u===null&&e.getAuthenticatedUser().then(d)},[o,c,u,e]);let se=H=>{if(!c)throw Le(we,"linkAccount","onError",le.MUST_BE_AUTHENTICATED,{linkMethod:H}),new oe("User must be authenticated before linking an account.")},Re=H=>{if(!c||!u)return!1;if(H.walletClientType==="privy")return!0;for(let G of u.linkedAccounts)if(G.type==="wallet"&&G.address===H.address&&G.walletClientType!=="privy")return!0;return!1},et=async H=>{let G;if(!e.connectors)throw new oe("Connector not initialized");G=H.type==="ethereum"?e.connectors.findWalletConnector(H.connectorType,H.walletClientType)||null:e.connectors.findSolanaWalletConnector(H.walletClientType)||null,S(ne=>({...ne,connector:G,status:"connected",connectedWallet:H,connectError:null,connectRetry:_e})),V.captchaEnabled&&!c?(X({captchaModalData:{callback:ne=>l0(H)?J(H,ne):ee(H,ne),userIntentRequired:!1,onSuccessNavigateTo:g0,onErrorNavigateTo:hi}}),qe(uh)):(l0(H)?await J(H):await ee(H),qe(g0))},He=()=>{f(H=>{var ne;let G=((ne=e.connectors)==null?void 0:ne.wallets.filter(l0).map(re=>({...re,linked:Re(re),loginOrLink:async()=>{if(!await re.isConnected())throw new oe("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new oe("Cannot link or login with embedded wallet");et(re)},fund:async ae=>{await xt.fundWallet(re.address,ae)},unlink:async()=>{if(!c)throw new oe("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new oe("Cannot unlink an embedded wallet");d(await e.unlinkEthereumWallet(re.address))}})))||[];return qq(H,G)?H:G}),m(H=>{var ne;let G=(((ne=e.connectors)==null?void 0:ne.wallets)??[]).filter(wbe).map(re=>({...re,linked:Re(re),loginOrLink:async()=>{if(!await re.isConnected())throw new oe("Wallet is not connected");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new oe("Cannot link or login with embedded wallet");et(re)},fund:async()=>{throw new oe("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!c)throw new oe("User is not authenticated.");if(re.connectorType==="embedded"&&re.walletClientType==="privy")throw new oe("Cannot unlink an embedded wallet");d(await e.unlinkSolanaWallet(re.address))}}));return qq(H,G)?H:G})};k.useEffect(()=>{He()},[u==null?void 0:u.linkedAccounts,c,o]),k.useEffect(()=>{if(o){if(!e.connectors)throw new oe("Connector not initialized");He(),e.connectors.on("walletsUpdated",He)}},[o]),k.useEffect(()=>{var H,G;[...((H=V.loginMethodsAndOrder)==null?void 0:H.primary)??[],...((G=V.loginMethodsAndOrder)==null?void 0:G.overflow)??[]].filter(ne=>ne.startsWith("privy:")).forEach(ne=>e.getCrossAppProviderDetails(ne.replace("privy:","")))},[!!e]);let nt=({transaction:H,sponsor:G,uiOptions:ne,fundWalletConfig:re,address:ae,signOnly:de})=>new Promise(async(Te,Ie)=>{let{requesterAppId:gt}=ne||{},rn=de?"signTransaction":"sendTransaction",Be=ae?Ou(u,ae):sf(u);if(!Be&&ae){let dn=ML(h,ae);if(dn){if(G)throw new oe("Cannot sponsor transactions for externally connected wallet.");try{let Or=await dn.getEthereumProvider(),Lt={...H,from:ae,chainId:H.chainId||Number(dn.chainId.replace("eip155:","")),value:H.value!==void 0?Cr(H.value):void 0},fn=await Or.request({method:rn==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Lt]});return Le(we,rn,"onSuccess",{hash:fn}),void Te({hash:fn})}catch(Or){return Le(we,rn,"onError",le.TRANSACTION_FAILURE),void Ie(Or??new _a("Unable to "+rn+Or))}}}if(!Be)return Le(we,rn,"onError",le.EMBEDDED_WALLET_NOT_FOUND),void Ie(new oe("No embedded or connected wallet found for address."));if(!c||!u)return Le(we,rn,"onError",le.MUST_BE_AUTHENTICATED),void Ie(Error("User must be authenticated before signing with a Privy wallet"));let ct=Be.address,Dt=Be.walletIndex??0,{entropyId:dt,entropyIdVerifier:je}=Oo(u,Be),Kt=$n.wallets.find(dn=>dn.walletClientType==="privy"&&Gi(dn.address)===Gi(ct));if(!Kt)return Le(we,rn,"onError",le.EMBEDDED_WALLET_NOT_FOUND),void Ie(Error("Must have a Privy wallet before signing"));let un=await Kt.getEthereumProvider(),In=await un.request({method:"eth_chainId"}),zn=H.chainId?Number(H.chainId):w2e(In);(dn=>{if(!V.chains.map(Or=>Or.id).includes(dn))throw new Lr(`Chain ID ${dn} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,le.UNSUPPORTED_CHAIN_ID)})(zn);let Vn={...H,from:H.from??ct,chainId:zn},Wn=await Ir();if(!Wn||!$)return Le(we,rn,"onError",le.EMBEDDED_WALLET_NOT_FOUND),void Ie(Error("Must have valid access token and Privy wallet to send transaction"));let Nr=y3(Vn.chainId,V.chains,V.rpcConfig,{appId:t.appId}),Ot=Vs(Be),qi=async({transactionRequest:dn})=>{try{let Or;if(!await xt.recoverEmbeddedWallet({address:ct}))throw Le(we,rn,"onError",le.UNKNOWN_CONNECT_WALLET_ERROR),Ie(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(G){let Lt=await(async({transactionRequest:fn})=>{if(!Ot)throw new oe("Sponsoring is only supported for wallets on the TEE stack");if(de)throw new oe("Cannot sponsor a sign transaction request");let jr=Pa=>Pa==null?void 0:Cr(Pa),gi=await Wa(n,async({message:Pa})=>await $.signWithUserSigner({accessToken:Wn,requesterAppId:gt,message:Pa}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:VE(Cr(fn.chainId)),sponsor:!0,params:{transaction:{from:fn.from,to:fn.to,chain_id:jr(fn.chainId),data:Si(fn.data)?fn.data?fn.data:Cr(Uint8Array.from(fn.data)):void 0,value:jr(fn.value)}},wallet_id:Be.id});if(gi.data&&"hash"in gi.data)return gi.data.hash;throw new _a("Unable to sign transaction")})({transactionRequest:dn});return Le(we,"sendTransaction","onSuccess",{hash:Lt}),Lt}if(Ot){let Lt=jr=>jr==null?void 0:Cr(jr),fn=await Wa(n,async({message:jr})=>await $.signWithUserSigner({accessToken:Wn,requesterAppId:gt,message:jr}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:dn.from,to:dn.to,nonce:Lt(dn.nonce),chain_id:Lt(dn.chainId),data:Si(dn.data)?dn.data?dn.data:Cr(Uint8Array.from(dn.data)):void 0,value:Lt(dn.value),type:dn.type,gas_limit:Lt(dn.gasLimit??dn.gas),gas_price:Lt(dn.gasPrice??dn.gas),max_fee_per_gas:Lt(dn.maxFeePerGas),max_priority_fee_per_gas:Lt(dn.maxPriorityFeePerGas)}},wallet_id:Be.id});if(!fn.data||!("signed_transaction"in fn.data))throw new _a("Unable to sign transaction");Or=fn.data.signed_transaction}else Or=await async function({accessToken:Lt,entropyId:fn,entropyIdVerifier:jr,transactingWalletIndex:gi,walletProxy:Pa,transactionRequest:bv,requesterAppId:k7}){return(await Pa.rpc({entropyId:fn,entropyIdVerifier:jr,hdWalletIndex:gi??0,chainType:"ethereum",accessToken:Lt,requesterAppId:k7,request:{method:"eth_signTransaction",params:[bv]}})).response.data}({accessToken:Wn,entropyId:dt,entropyIdVerifier:je,transactingWalletIndex:Dt,walletProxy:$,transactionRequest:dn,requesterAppId:gt});if(de)return Le(we,"signTransaction","onSuccess",{signature:Or}),Or;{let Lt=await Nr.sendRawTransaction({serializedTransaction:Or});return Le(we,"sendTransaction","onSuccess",{hash:Lt}),Lt}}catch(Or){throw Le(we,rn,"onError",le.TRANSACTION_FAILURE),Or}};if(Se({showWalletUIs:ne==null?void 0:ne.showWalletUIs})){let dn=de||G?Vn:await sT(Vn,Nr,Vn.from);try{let Or=await qi({transactionRequest:dn});de?Le(we,"signTransaction","onSuccess",{signature:Or}):Le(we,"sendTransaction","onSuccess",{hash:Or}),Te({hash:Or})}catch(Or){Le(we,rn,"onError",le.TRANSACTION_FAILURE),Ie(Or)}}else{let dn={connectingWalletAddress:ct,recoveryMethod:Be.recoveryMethod,entropyId:dt,entropyIdVerifier:je,onCompleteNavigateTo:P5e,isUnifiedWallet:Ot,onFailure:Lt=>{Le(we,rn,"onError",le.UNKNOWN_CONNECT_WALLET_ERROR),Ie(Lt)}},Or=F3e(V)?d5e({address:ct,appConfig:V,fundWalletConfig:re,methodScreen:Gc,chainIdOverride:Vn.chainId,comingFromSendTransactionScreen:!0}):void 0;X({connectWallet:dn,sendTransaction:{transactionRequest:Vn,transactingWalletIndex:Dt,transactingWalletAddress:ct,entropyId:dt,entropyIdVerifier:je,signOnly:de,scanTransaction:async()=>{var fn,jr,gi,Pa;let Lt=await sT(Vn,Nr,Vn.from);return await e.scanTransaction({metadata:{domain:V.embeddedWallets.transactionScanning.domain},chain_id:Lt.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Lt.from,to:Lt.to,value:(fn=Lt.value)==null?void 0:fn.toString(),gas:(jr=Lt.gas)==null?void 0:jr.toString(),gasPrice:(gi=Lt.gasPrice)==null?void 0:gi.toString(),nonce:(Pa=Lt.nonce)==null?void 0:Pa.toString(),data:Lt.data}]}})},getIsSponsored:async()=>!!G,onConfirm:({transactionRequest:Lt})=>qi({transactionRequest:Lt}),onSuccess:Lt=>{de?Le(we,"signTransaction","onSuccess",{signature:Lt.hash}):Le(we,"sendTransaction","onSuccess",{hash:Lt.hash}),Te(Lt)},onFailure:Lt=>{Le(we,rn,"onError",le.TRANSACTION_FAILURE),Ie(Lt)},uiOptions:ne||{},fundWalletConfig:re,requesterAppId:gt},funding:Or}),qe(Mm)}});function Pe(){return new Promise(async(H,G)=>{let ne=await Ir();if(!ne||!$)throw Error("Must have valid access token to enroll in MFA");try{await $.verifyMfa({accessToken:ne}),H()}catch(re){G(re)}})}let Wt=H=>H==null?void 0:H.linkedAccounts.filter(G=>G.latestVerifiedAt!==null&&!(G.type==="wallet"&&G.walletClientType==="privy")).sort((G,ne)=>ne.latestVerifiedAt.getTime()-G.latestVerifiedAt.getTime())[0],sn=H=>{let G=(u==null?void 0:u.linkedAccounts.filter(ae=>ae.type===H).length)??0,{displayName:ne,loginMethod:re}=wT(H);if(H==="passkey"&&G>=5||H!=="passkey"&&G>=1)throw Le(we,"linkAccount","onError",le.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:re}),new oe(`User already has an account of type ${ne} linked.`)};async function nn({showAutomaticRecovery:H=!1,legacySetWalletPasswordFlow:G=!1}){_(null);let ne=G?"setWalletPassword":"setWalletRecovery";if(!c||!u)throw Le(we,ne,"onError",le.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let re=Ru(u);if(!re||!$)throw Le(we,ne,"onError",le.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ae=Vs(re);if(ae)throw Le(we,ne,"onError",le.UNSUPPORTED_WALLET_TYPE),new oe("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Pe()}catch(de){throw Le(we,ne,"onError",le.MISSING_MFA_CREDENTIALS),de}return new Promise((de,Te)=>{let Ie=re.recoveryMethod==="user-passcode",gt=O3e({walletAction:"update",availableRecoveryMethods:V.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:G,isResettingPassword:Ie,showAutomaticRecovery:H}),{entropyId:rn,entropyIdVerifier:Be}=Oo(u),ct={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,onCompleteNavigateTo:gt,shouldForceMFA:!1,entropyId:rn,isUnifiedWallet:ae,entropyIdVerifier:Be,onFailure:Dt=>{Le(we,ne,"onError",le.UNKNOWN_CONNECT_WALLET_ERROR),Te(Dt)}};X({setWalletPassword:{onSuccess:Dt=>{Le(we,ne,"onSuccess",{method:"user-passcode",wallet:Dt}),de(Dt)},onFailure:Dt=>{Le(we,ne,"onError",le.USER_EXITED_SET_PASSWORD_FLOW),Te(Dt)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:rn,entropyIdVerifier:Be,onFailure:Te},connectWallet:ct,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ie,shouldCreateEth:!1,shouldCreateSol:!1}}),qe(Mm)})}async function pt({appId:H,action:G}){let ne=await Ir();if(G==="link"&&!ne)throw Le(we,"linkAccount","onError",le.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${H}`}),new oe("User must be authenticated before linking an account.");if(G==="login"&&ne)throw Le(we,"login","onError",le.UNKNOWN_AUTH_ERROR),new oe("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ee.current=`privy:${H}`,$e.current=G;let re=lT();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:H}}),new Promise(async(ae,de)=>{let{name:Te,logoUrl:Ie}=await x2e({api:e.api,providerAppId:H,requesterAppId:V.id});X({crossAppAuth:{appId:H,name:Te,logoUrl:Ie,action:G,popup:re,onSuccess:ae,onError:de}}),qe(XAt)})}let ri={ready:o,authenticated:c,user:u,walletConnectors:e.connectors||null,connectWallet:H=>{H&&"target"in H&&H&&(H=void 0),X({externalConnectWallet:{walletList:H!=null&&H.walletList&&(H==null?void 0:H.walletList.length)>0?H.walletList:void 0,suggestedAddress:H==null?void 0:H.suggestedAddress,walletChainType:H==null?void 0:H.walletChainType,description:H==null?void 0:H.description}}),qe(JH)},linkWallet:H=>{H&&"target"in H&&H&&(H=void 0),se("siwe"),Ee.current="siwe",$e.current="link",X({...Z,externalConnectWallet:{...Z.externalConnectWallet,suggestedAddress:H==null?void 0:H.suggestedAddress,walletList:H==null?void 0:H.walletList,walletChainType:H==null?void 0:H.walletChainType,description:H!=null&&H.suggestedAddress?g.jsxs("span",{children:["Link the wallet with address"," ",g.jsx(Cn,{showCopyIcon:!1,address:H==null?void 0:H.suggestedAddress})," ",V!=null&&V.name?`to ${V.name}.`:"."]}):`Link a wallet to your ${V==null?void 0:V.name} account`}}),qe(_T)},startCrossAppAuthFlow:pt,linkEmail:()=>{se("email"),sn("email"),Ee.current="email",$e.current="link",qe(pSt)},linkPhone:()=>{se("sms"),sn("phone"),Ee.current="sms",$e.current="link",qe(pV)},linkGoogle:async()=>{se("google"),sn("google_oauth"),$e.current="link",await xt.initLoginWithOAuth("google")},linkTwitter:async()=>{se("twitter"),sn("twitter_oauth"),$e.current="link",await xt.initLoginWithOAuth("twitter")},linkDiscord:async()=>{se("discord"),sn("discord_oauth"),$e.current="link",await xt.initLoginWithOAuth("discord")},linkGithub:async()=>{se("github"),sn("github_oauth"),$e.current="link",await xt.initLoginWithOAuth("github")},linkSpotify:async()=>{se("spotify"),sn("spotify_oauth"),$e.current="link",await xt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{se("instagram"),sn("instagram_oauth"),$e.current="link",await xt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{se("tiktok"),sn("tiktok_oauth"),$e.current="link",await xt.initLoginWithOAuth("tiktok")},linkLine:async()=>{se("line"),sn("line_oauth"),$e.current="link",await xt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{se("linkedin"),sn("linkedin_oauth"),$e.current="link",await xt.initLoginWithOAuth("linkedin")},linkApple:async()=>{se("apple"),sn("apple_oauth"),$e.current="link",await xt.initLoginWithOAuth("apple")},linkPasskey:async()=>{se("passkey"),sn("passkey"),await xt.initLinkWithPasskey(),qe(Z7t)},linkTelegram:async H=>{if(se("telegram"),sn("telegram"),$e.current="link",Ee.current="telegram",H==null?void 0:H.launchParams)if(H.launchParams.initDataRaw){let G=new KE;e.startAuthFlow(G),G.meta.telegramAuthResult=void 0,G.meta.telegramWebAppData=ibe(H.launchParams.initDataRaw),X({telegramAuthModalData:{seamlessAuth:!0}}),qe(IT)}else Le(we,"linkAccount","onError",le.INVALID_DATA,{linkMethod:"telegram"});else await xt.initLoginWithTelegram();qe(IT)},linkFarcaster:async()=>{se("farcaster"),sn("farcaster"),await xt.initLoginWithFarcaster(),$e.current="link",Ee.current="farcaster",qe(QH)},updateEmail:()=>{if(se("email"),!(u!=null&&u.email))throw new oe("User does not have an email linked to their account.");$e.current="update",Ee.current="email",qe(LSt)},updatePhone:()=>{if(se("sms"),!(u!=null&&u.phone))throw new oe("User does not have a phone number linked to their account.");$e.current="update",Ee.current="sms",qe(FSt)},login:async H=>{H&&"target"in H&&H&&(H=void 0);let G="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let ne=await new Promise(re=>{te(ae=>re.bind(ae))});if(te(null),ne)return void console.warn(G)}!u||u.isGuest?($e.current="login",X({login:H}),qe(Aa)):console.warn(G)},connectOrCreateWallet:async()=>{o||(await new Promise(H=>{te(()=>H)}),te(null)),c?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):($e.current="connect-or-create",qe(b3e))},logout:async()=>{if($e.current=null,Ee.current=null,u&&e.clearProviderAcccessTokens(u),_(null),await e.logout(),u&&$)try{await $.clearMfa({userId:u.id})}catch{}d(null),l(!1),Le(we,"logout","onSuccess"),s(!1),Rt.del(Pq),Rt.del(Ove(V.id))},getAccessToken:k.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async H=>{let G;return d(G=H.startsWith("0x")?await e.unlinkEthereumWallet(H):await e.unlinkSolanaWallet(H)),G},unlinkEmail:async H=>{let G=await e.unlinkEmail(H);return d(G),G},unlinkPhone:async H=>{let G=await e.unlinkPhone(H);return d(G),G},unlinkGoogle:async H=>{let G=await e.unlinkOAuth("google",H);return d(G),G},unlinkTwitter:async H=>{let G=await e.unlinkOAuth("twitter",H);return d(G),G},unlinkDiscord:async H=>{let G=await e.unlinkOAuth("discord",H);return d(G),G},unlinkGithub:async H=>{let G=await e.unlinkOAuth("github",H);return d(G),G},unlinkSpotify:async H=>{let G=await e.unlinkOAuth("spotify",H);return d(G),G},unlinkInstagram:async H=>{let G=await e.unlinkOAuth("instagram",H);return d(G),G},unlinkTiktok:async H=>{let G=await e.unlinkOAuth("tiktok",H);return d(G),G},unlinkLine:async H=>{let G=await e.unlinkOAuth("line",H);return d(G),G},unlinkLinkedIn:async H=>{let G=await e.unlinkOAuth("linkedin",H);return d(G),G},unlinkApple:async H=>{let G=await e.unlinkOAuth("apple",H);return d(G),G},unlinkFarcaster:async H=>{let G=await e.unlinkFarcaster(H);return d(G),G},unlinkTelegram:async H=>{let G=await e.unlinkTelegram(H);return d(G),G},unlinkPasskey:async H=>{let G=await Ir();if(!G)throw Error("Must have valid access token to enroll in MFA");if(!$)throw Error("Wallet proxy not initialized.");let ne=V.passkeys.shouldUnenrollMfaOnUnlink;await $.unlinkPasskeyAccount({credentialId:H,accessToken:G,removeAsMfa:ne});let re=await e.getAuthenticatedUser();return d(re),re},unlinkCrossAppAccount:async({subject:H})=>{var re;let G=(re=u==null?void 0:u.linkedAccounts.find(ae=>ae.type==="cross_app"&&ae.subject===H))==null?void 0:re.providerApp;if(!G)throw new oe("Invalid subject");e.storeProviderAccessToken(G.id,null);let ne=await e.unlinkOAuth(`privy:${G.id}`,H);return d(ne),ne},setWalletRecovery:async H=>nn({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(H==null?void 0:H.showAutomaticRecovery)??!1}),setWalletPassword:async()=>nn({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(H,G)=>new Promise(async(ne,re)=>{var dt;let{requesterAppId:ae}=(G==null?void 0:G.uiOptions)||{},de=H.message,Te=G!=null&&G.address?Ou(u,G.address):sf(u);if(!Te&&(G==null?void 0:G.address)!==void 0){let je=ML(h,G.address);if(je)try{let Kt=await je.getEthereumProvider(),un=await Kt.request({method:"personal_sign",params:[de,je.address]});return Le(we,"signMessage","onSuccess",{signature:un}),void ne({signature:un})}catch(Kt){return Le(we,"signMessage","onError",le.UNABLE_TO_SIGN),void re(Kt??new _a("Unable to sign message"))}}if(!Te)throw new oe("No embedded or connected wallet found for address.");if(!c||!u)return Le(we,"signMessage","onError",le.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let Ie=Te.address,gt=Te.walletIndex??0,{entropyId:rn,entropyIdVerifier:Be}=Oo(u,Te),ct=Vs(Te);if(typeof de!="string"||de.length<1)return Le(we,"signMessage","onError",le.INVALID_MESSAGE),void re(Error("Message must be a non-empty string"));let Dt=async()=>{let je;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let Kt=await Ir();if(!$||!Kt||!await xt.recoverEmbeddedWallet({address:Ie}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ie,requesterAppId:ae}}),ct){let un=Si(H.message,{strict:!0}),In=await Wa(n,async({message:zn})=>await $.signWithUserSigner({accessToken:Kt,requesterAppId:ae,message:zn}),{chain_type:"ethereum",method:"personal_sign",params:un?{message:de.slice(2),encoding:"hex"}:{message:de,encoding:"utf-8"},wallet_id:Te.id});if(!In.data||!("signature"in In.data))throw new _a("Unable to sign message");je=In.data.signature}else{let{response:un}=await $.rpc({accessToken:Kt,entropyId:rn,entropyIdVerifier:Be,chainType:"ethereum",hdWalletIndex:gt,requesterAppId:ae,request:{method:"personal_sign",params:[de,Ie]}});je=un.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ie,requesterAppId:ae}}),je};if(Se({showWalletUIs:(dt=G==null?void 0:G.uiOptions)==null?void 0:dt.showWalletUIs}))try{let je=await Dt();Le(we,"signMessage","onSuccess",{signature:je}),ne({signature:je})}catch(je){Le(we,"signMessage","onError",le.UNABLE_TO_SIGN),re(je??new _a("Unable to sign message"))}else X({signMessage:{method:"personal_sign",data:de,confirmAndSign:Dt,onSuccess:je=>{Le(we,"signMessage","onSuccess",{signature:je}),ne({signature:je})},onFailure:je=>{Le(we,"signMessage","onError",le.UNABLE_TO_SIGN),re(je)},uiOptions:(G==null?void 0:G.uiOptions)||{}},connectWallet:{recoveryMethod:Te.recoveryMethod,connectingWalletAddress:Ie,entropyId:rn,entropyIdVerifier:Be,onCompleteNavigateTo:dV,isUnifiedWallet:ct,onFailure:je=>{Le(we,"signMessage","onError",le.UNKNOWN_CONNECT_WALLET_ERROR),re(je)}}}),qe(Mm)}),signTypedData:(H,G)=>new Promise(async(ne,re)=>{var dt;let{requesterAppId:ae}=(G==null?void 0:G.uiOptions)||{},de=G!=null&&G.address?Ou(u,G.address):sf(u);if(!de&&(G!=null&&G.address)){let je=ML(h,G.address);if(je)try{let Kt=await je.getEthereumProvider(),un=q$(H),In=await Kt.request({method:"eth_signTypedData_v4",params:[je.address,un]});return Le(we,"signTypedData","onSuccess",{signature:In}),void ne({signature:In})}catch(Kt){return Le(we,"signTypedData","onError",le.UNABLE_TO_SIGN),void re(Kt??new _a("Unable to sign typed data "+Kt))}}if(!de)throw new oe("No embedded or connected wallet found for address.");if(!c||!u)return Le(we,"signTypedData","onError",le.MUST_BE_AUTHENTICATED),void re(Error("User must be authenticated before signing with a Privy wallet"));let Te=de.address,Ie=de.walletIndex??0,{entropyId:gt,entropyIdVerifier:rn}=Oo(u,de),Be=Vs(de),ct=q$(H),Dt=async()=>{let je;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let Kt=await Ir();if(!$||!Kt||!await xt.recoverEmbeddedWallet({address:Te}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Te,requesterAppId:ae}}),Be){let{domain:un,types:In,primaryType:zn,message:Vn}=ct,Wn=await Wa(n,async({message:Nr})=>await $.signWithUserSigner({accessToken:Kt,requesterAppId:ae,message:Nr}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:un,types:In,primary_type:zn,message:Vn}},wallet_id:de.id});if(!Wn.data||!("signature"in Wn.data))throw new _a("Unable to sign message");je=Wn.data.signature}else{let{response:un}=await $.rpc({accessToken:Kt,entropyId:gt,entropyIdVerifier:rn,chainType:"ethereum",hdWalletIndex:Ie,requesterAppId:ae,request:{method:"eth_signTypedData_v4",params:[Te,ct]}});je=un.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Te,requesterAppId:ae}}),je};if(Se({showWalletUIs:(dt=G==null?void 0:G.uiOptions)==null?void 0:dt.showWalletUIs}))try{let je=await Dt();Le(we,"signTypedData","onSuccess",{signature:je}),ne({signature:je})}catch(je){Le(we,"signTypedData","onError",le.UNABLE_TO_SIGN),re(je??new _a("Unable to sign message"))}else X({signMessage:{method:"eth_signTypedData_v4",data:ct,confirmAndSign:Dt,onSuccess:je=>{Le(we,"signTypedData","onSuccess",{signature:je}),ne({signature:je})},onFailure:je=>{Le(we,"signTypedData","onError",le.UNABLE_TO_SIGN),re(je)},uiOptions:(G==null?void 0:G.uiOptions)||{}},connectWallet:{recoveryMethod:de.recoveryMethod,connectingWalletAddress:de.address,entropyId:gt,isUnifiedWallet:Be,entropyIdVerifier:rn,onCompleteNavigateTo:dV,onFailure:je=>{Le(we,"signMessage","onError",le.UNKNOWN_CONNECT_WALLET_ERROR),re(je)}}}),qe(Mm)}),sendTransaction:async(H,G)=>await nt({transaction:H,sponsor:G==null?void 0:G.sponsor,uiOptions:G==null?void 0:G.uiOptions,fundWalletConfig:G==null?void 0:G.fundWalletConfig,address:G==null?void 0:G.address,signOnly:!1}),signTransaction:async(H,G)=>({signature:(await nt({transaction:H,uiOptions:G==null?void 0:G.uiOptions,address:G==null?void 0:G.address,signOnly:!0})).hash}),exportWallet:H=>new Promise(async(G,ne)=>{if(!c||!u)return void ne(Error("User must be authenticated before exporting their Privy wallet"));H&&"target"in H&&H&&(H=void 0);let re=H!=null&&H.address?Ou(u,H.address):sf(u);if(!re)return void ne(new oe("User must have an embedded wallet."));let ae=re.address,{entropyId:de,entropyIdVerifier:Te}=Oo(u,re),Ie=Vs(re);if(!ae)return void ne(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!us(ae))return void ne(Error("Must provide a valid Ethereum address."));let gt={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,isUnifiedWallet:Ie,entropyId:de,entropyIdVerifier:Te,onCompleteNavigateTo:lV,onFailure:ne,shouldForceMFA:!0};X(Z),await Ir()&&$?$?$3(re)?(X({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:re.address,entropyId:de,entropyIdVerifier:Te,hdWalletIndex:re.walletIndex,chainType:re.chainType,walletId:re.id,isUnifiedWallet:Ie,imported:re.imported,onSuccess:G,onFailure:ne},connectWallet:gt}),qe(Mm)):ne(Error(`Export is not supported for ${re.chainType} wallets`)):ne(Error("Must have a Privy wallet before exporting")):ne(Error("Must have valid access token to enroll in MFA"))}),promptMfa:Pe,async init(H){switch(H){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${H}`)}},async submit(H,G){var ne,re,ae;switch(H){case"totp":case"sms":if(typeof G!="string")throw new oe("Invalid MFA code");(ne=ye.current)==null||ne.resolve({mfaMethod:H,mfaCode:G,relyingParty:window.origin}),await new Promise((Ie,gt)=>{ft.current={resolve:Ie,reject:gt}});break;case"passkey":if(typeof G=="string")throw new oe("Invalid authenticator response");let de=await Ge(()=>Promise.resolve().then(()=>n7),void 0),Te=YAt(await de.startAuthentication(G));(re=ye.current)==null||re.resolve({mfaMethod:H,mfaCode:Te,relyingParty:window.origin}),await new Promise((Ie,gt)=>{ft.current={resolve:Ie,reject:gt}});break;default:throw(ae=ye.current)==null||ae.reject(new oe("Unsupported MFA method")),new oe(`Unsupported MFA method: ${H}`)}},cancel(){var H;(H=ye.current)==null||H.reject(new oe("MFA canceled"))},async initEnrollmentWithSms(H){let G=await Ir();if(!G||!$)throw Error("Must have valid access token to enroll in MFA");await $.initEnrollMfa({method:"sms",accessToken:G,phoneNumber:H.phoneNumber})},enrollInMfa:H=>new Promise((G,ne)=>{if(!H)return xt.closePrivyModal(),void G();V.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),X({mfaEnrollmentFlow:{mfaMethods:V.mfa.methods,shouldUnlinkOnUnenrollMfa:V.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:G,onFailure:ne}}),qe(OSt)}),async initEnrollmentWithTotp(){let H=await Ir();if(!H||!$)throw Error("Must have valid access token to enroll in MFA");let G=await $.initEnrollMfa({method:"totp",accessToken:H});return{secret:G.secret,authUrl:G.authUrl}},async submitEnrollmentWithSms(H){let G=await Ir();if(!G||!$)throw Error("Must have valid access token to enroll in MFA");await $.submitEnrollMfa({method:"sms",accessToken:G,phoneNumber:H.phoneNumber,code:H.mfaCode}),d(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(H){let G=await Ir();if(!G||!$)throw Error("Must have valid access token to enroll in MFA");await $.submitEnrollMfa({method:"totp",accessToken:G,code:H.mfaCode}),d(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:H},G={}){let ne=await Ir();if(!ne||!$)throw Error("Must have valid access token to enroll in MFA");await $.submitEnrollMfa({method:"passkey",accessToken:ne,credentialIds:H,removeForLogin:G.removeForLogin}),d(await e.getAuthenticatedUser())},async unenroll(H,G={}){let ne=await Ir();if(!ne||!$)throw Error("Must have valid access token to remove MFA");H==="passkey"?await $.submitEnrollMfa({method:"passkey",accessToken:ne,credentialIds:[],removeForLogin:G.removeForLogin}):await $.unenrollMfa({method:H,accessToken:ne}),d(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var re;let H=await Ir(),G=u==null?void 0:u.linkedAccounts.find(ae=>ae.type==="wallet"&&ae.walletClientType==="privy");if(!H)throw Error("Must have valid access token to connect with Farcaster");if(!$||!G)throw Error("Must have an embedded wallet to use Farcaster signers");if(Vs(G))throw new oe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=u==null?void 0:u.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await xt.recoverEmbeddedWallet({address:G.address}))throw Error("Unable to connect to wallet");let ne=await $.initFarcasterSigner({address:G.address,hdWalletIndex:null,accessToken:H,mfaCode:null,mfaMethod:null,relyingParty:window.origin});ne.status==="approved"&&d(await e.getAuthenticatedUser()||u||null),X({farcasterSigner:ne}),qe(dSt)},getFarcasterSignerPublicKey:async()=>{var re,ae;let H,G=await Ir(),ne=u==null?void 0:u.linkedAccounts.find(de=>de.type==="wallet"&&de.walletClientType==="privy");if(!G)throw Error("Must have valid access token to connect with Farcaster");if(!$||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(Vs(ne))throw new oe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((re=u==null?void 0:u.farcaster)!=null&&re.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await xt.recoverEmbeddedWallet({address:ne.address}))throw Error("Unable to connect to wallet");if(!((ae=u.farcaster)!=null&&ae.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return H=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(H.match(/.{1,2}/g).map(de=>parseInt(de,16)))},signFarcasterMessage:async H=>{var de,Te;let G=await Ir(),ne=u==null?void 0:u.linkedAccounts.find(Ie=>Ie.type==="wallet"&&Ie.walletClientType==="privy");if(!G)throw Error("Must have valid access token to connect with Farcaster");if(!$||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(Vs(ne))throw new oe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((de=u==null?void 0:u.farcaster)!=null&&de.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await xt.recoverEmbeddedWallet({address:ne.address}))throw Error("Unable to connect to wallet");if(!((Te=u.farcaster)!=null&&Te.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let re=await Ge(()=>Promise.resolve().then(()=>n7),void 0),ae=await $.signFarcasterMessage({address:ne.address,hdWalletIndex:null,accessToken:G,mfaCode:null,mfaMethod:null,payload:{hash:re.bufferToBase64URLString(H)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(re.base64URLStringToBuffer(ae.signature))},signMessageWithCrossAppWallet(H,{address:G,chainId:ne}){let re=u==null?void 0:u.linkedAccounts.some(ae=>ae.type==="cross_app"&&ae.smartWallets.some(de=>de.address===G));return uT({user:u,client:e,address:G,requesterAppId:V.id,request:{method:re?"privy_signSmartWalletMessage":"personal_sign",params:[H,G],chainId:ne},reconnect:pt})},signTypedDataWithCrossAppWallet(H,{address:G,chainId:ne}){let re=u==null?void 0:u.linkedAccounts.some(de=>de.type==="cross_app"&&de.smartWallets.some(Te=>Te.address===G)),ae=q$(H);return uT({user:u,client:e,address:G,requesterAppId:V.id,request:{method:re?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[G,ae],chainId:ne},reconnect:pt})},sendTransactionWithCrossAppWallet(H,{address:G}){let ne=u==null?void 0:u.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(ae=>ae.address===G));return uT({user:u,client:e,address:G,requesterAppId:V.id,request:{method:ne?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[H],chainId:H.chainId},reconnect:pt})},signTransactionWithCrossAppWallet(H,{address:G}){let ne=u==null?void 0:u.linkedAccounts.some(re=>re.type==="cross_app"&&re.smartWallets.some(ae=>ae.address===G));return uT({user:u,client:e,address:G,requesterAppId:V.id,request:{method:ne?"privy_signSmartWalletTx":"eth_signTransaction",params:[H],chainId:H.chainId},reconnect:pt})},isModalOpen:i,mfaMethods:V.mfa.methods};U5e=ri.signMessage,F5e=ri.signTypedData,W5e=async(H,G)=>await nt({transaction:H,...G,signOnly:!1}),z5e=async(H,G)=>({signature:(await nt({transaction:H,...G,signOnly:!0})).hash});let xt={privy:n,setAuthenticated:l,setUser:d,setIsNewUser:v,isNewUserThisSession:b,pendingTransaction:null,walletConnectionStatus:R,setWalletConnectionStatus:S,connectors:((Hn=e.connectors)==null?void 0:Hn.walletConnectors)??[],solanaWallets:p,rpcConfig:V.rpcConfig,chains:V.chains,appId:t.appId,showFiatPrices:V.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:Ye,hideWalletUIs:zt,isHeadlessSigning:k.useCallback(Se,[V.embeddedWallets.showWalletUIs]),emailOtpState:U,setEmailOtpState:M,smsOtpState:C,setSmsOtpState:x,oAuthState:O,setOAuthState:P,telegramAuthState:D,setTelegramAuthState:L,siweState:A,setSiweState:N,isHeadlessOAuthLoading:T,baseAccountSdk:w,setBaseAccountSdk:y,nativeTokenSymbolForChainId:H=>{var G;return(G=V.chains.find(ne=>ne.id===Number(H)))==null?void 0:G.nativeCurrency.symbol},initializeWalletProxy:async H=>{if($)return $;let G=new Promise(ae=>{fe.current=ae}),ne=new Promise(ae=>setTimeout(()=>ae(null),H)),re=await Promise.race([G,ne]);return fe.current=null,re},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var H;return(H=e.authFlow)==null?void 0:H.meta},client:e,closePrivyModal:async(H={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let G,ne=o&&c&&u;ne&&Ee.current&&(G=Wt(u)),$e.current==="login"?H.shouldCallAuthOnSuccess&&ne&&Ee.current?Le(we,"login","onComplete",{user:u,isNewUser:b,wasAlreadyAuthenticated:!1,loginMethod:Ee.current,loginAccount:G??null}):Le(we,"login","onError",le.USER_EXITED_AUTH_FLOW):$e.current==="link"&&G?H.isSuccess&&ne&&Ee.current?Le(we,"linkAccount","onSuccess",{user:u,linkMethod:Ee.current,linkedAccount:G}):Ee.current&&Le(we,"linkAccount","onError",le.USER_EXITED_LINK_FLOW,{linkMethod:Ee.current}):$e.current==="update"&&G?H.isSuccess&&ne&&Ee.current?Le(we,"update","onSuccess",{user:u,updateMethod:Ee.current,updatedAccount:G}):Ee.current&&Le(we,"update","onError",le.USER_EXITED_UPDATE_FLOW,{linkMethod:Ee.current}):$e.current==="connect-or-create"&&(h[0]?Le(we,"connectOrCreateWallet","onSuccess",{wallet:h[0]}):Le(we,"connectOrCreateWallet","onError",le.USER_EXITED_AUTH_FLOW));let re=E&&fV.has(E),ae=E===hi&&Z.errorModalData&&fV.has(Z.errorModalData.previousScreen);if((re||ae)&&Z.funding){let de,Te=fV.get(E)??null;if(Z.funding.chainType==="solana"){let Ie=r(h9);if(Ie)try{de=BigInt(await Ie.getBalance({address:Z.funding.address,cluster:Z.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Le(we,"fundSolanaWallet","onUserExited",{address:Z.funding.address,cluster:Z.funding.cluster,fundingMethod:Te,balance:de})}else{let Ie=y3(Z.funding.chain.id,V.chains,V.rpcConfig,{appId:t.appId});try{de=await Ie.getBalance({address:Z.funding.address})}catch{console.error("Unable to pull wallet balance")}Le(we,"fundWallet","onUserExited",{address:Z.funding.address,chain:Z.funding.chain,fundingMethod:Te,balance:de})}}X(de=>({...de,externalConnectWallet:{suggestedAddress:void 0}})),$e.current=null,Ee.current=null,v(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:qe,connectWallet:W,initLoginWithWallet:async(H,G,ne,re)=>{l0(H)?(Ee.current="siwe",J(H,G,ne)):(Ee.current="siws",ee(H,G,ne,re))},loginWithWallet:async()=>{let H,G,ne;if(!o)throw new cy;if(e.authFlow instanceof g3?H="siwe":e.authFlow instanceof z$&&(H="siws"),!H)throw new oe("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:G}=await e.link()),Ee.current=H}catch(re){throw Le(we,"linkAccount","onError",re.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:H}),re}else try{({user:G,isNewUser:ne}=await e.authenticate()),Ee.current=H}catch(re){throw Le(we,"login","onError",re.privyErrorCode||le.GENERIC_CONNECT_WALLET_ERROR),re}d(G||u||null),v(ne||!1),l(!0)},delegateWallet:async({address:H,chainType:G,showDelegationUIs:ne})=>new Promise(async(re,ae)=>{let de=await Ir();if(!c||!u||!de)throw new oe("User must be authenticated and have an embedded wallet to delegate actions.");if(G!=="solana"&&G!=="ethereum")throw new oe("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Te=xt.walletProxy??await xt.initializeWalletProxy(15e3);if(!Te)throw new oe("Wallet proxy not initialized.");if((({address:ct,user:Dt})=>!!y2e(Dt).find(dt=>dt.address===ct))({address:H,user:u}))return re();let Ie=Ou(u,H);if(!Ie)throw new oe("Address to delegate is not associated with current user.");if(Vs(Ie))throw new oe("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let gt=gEt({address:H,user:u}),rn=mEt({address:H,user:u}),Be=async()=>{await Te.createDelegatedAction({accessToken:de,rootWallet:rn,delegatedWallets:[gt]}),await xt.refreshSessionAndUser()};if(await xt.recoverEmbeddedWallet({address:H}),ne)X({delegatedActions:{consent:{address:H,onDelegate:Be,onSuccess:async()=>{re()},onError:async ct=>{ae(ct)}}}}),qe(tSt);else try{await Be(),re()}catch(ct){ae(ct)}}),revokeDelegatedWallets:async({showDelegationUIs:H})=>new Promise(async(G,ne)=>{if(!c||!u)throw new oe("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let re=y2e(u);if(re.length===0)throw new oe("User has no delegated wallets to revoke.");if(re.some(Vs))throw new oe("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ae=async()=>{await e.revokeDelegatedWallet(),await xt.refreshSessionAndUser()};if(H)X({delegatedActions:{revoke:{onRevoke:ae,onSuccess:async()=>{G()},onError:async de=>{ne(de)}}}}),qe(rSt);else try{await ae(),G()}catch(de){ne(de)}}),initLoginWithFarcaster:async(H,G)=>{let ne=new $ve(H,G);e.startAuthFlow(ne);try{Ee.current="farcaster",await ne.initializeFarcasterConnect()}catch(re){throw $e.current==="login"?Le(we,"login","onError",re.privyErrorCode||le.UNKNOWN_AUTH_ERROR):$e.current==="link"&&Le(we,"linkAccount","onError",re.privyErrorCode||le.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),re}},loginWithFarcaster:async()=>{let H,G;if(!o)throw new cy;if(!(e.authFlow instanceof $ve))throw new oe("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:H}=await e.link()),Ee.current="farcaster"}catch(ne){throw Le(we,"linkAccount","onError",ne.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),ne}else try{({user:H,isNewUser:G}=await e.authenticate()),Ee.current="farcaster"}catch(ne){throw Le(we,"login","onError",ne.privyErrorCode||le.UNKNOWN_AUTH_ERROR),ne}d(H||null),v(G||!1),l(!0)},async crossAppAuthFlow({appId:H,popup:G,action:ne}){let re=`privy:${H}`;Ee.current=re;let{url:ae,stateCode:de,codeVerifier:Te}=await async function({api:Ie,appId:gt}){let rn=F$(),Be=jq(),ct=await Bq(rn);try{let{url:Dt}=await Ie.post(ole,{provider:`privy:${gt}`,redirect_to:window.location.href,code_challenge:ct,state_code:Be});return{url:Dt,stateCode:Be,codeVerifier:rn}}catch(Dt){throw On(Dt)}}({api:e.api,appId:H});if(!ae)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:H}}),new oe("No authorization URL returned for cross-app auth.");try{let Ie=await async function({url:Dt,popup:dt}){return dt.location=Dt,new Promise((je,Kt)=>{let un,In=setTimeout(()=>{Kt(new oe("Authorization request timed out after 2 minutes.")),zn()},12e4);function zn(){dt==null||dt.close(),window.removeEventListener("message",Wn)}let Vn=setInterval(()=>{dt!=null&&dt.closed&&!un&&(zn(),clearInterval(Vn),clearTimeout(In),Kt(new oe("User rejected request")))},300);function Wn(Nr){Nr.data&&(Nr.data.type==="PRIVY_OAUTH_RESPONSE"&&Nr.data.stateCode&&Nr.data.authorizationCode&&(clearTimeout(In),je(Nr.data),zn()),Nr.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(In),Kt(new oe(Nr.data.error)),zn()),Nr.data.type===b2e&&((un=new BroadcastChannel(v2e)).onmessage=Wn))}window.addEventListener("message",Wn)})}({url:ae,popup:G,provider:re}),gt=Ie.stateCode,rn=Ie.authorizationCode;if(gt!==de)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:re,storedStateCode:de??"",returnedStateCode:gt??""}}),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,le.OAUTH_UNEXPECTED);let Be=await async function({appId:Dt,stateCode:dt,codeVerifier:je,authorizationCode:Kt,action:un,client:In}){var zn;if(!Kt||!dt)throw new oe("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(Kt==="undefined")throw new oe("User denied confirmation during cross-app auth flow");try{let Vn=new wEt({authorizationCode:Kt,stateCode:dt,codeVerifier:je,provider:`privy:${Dt}`});In.startAuthFlow(Vn);let Wn=un==="link"?await In.link():await In.authenticate(),Nr=(zn=Wn.oAuthTokens)==null?void 0:zn.accessToken;return console.debug(),Nr}catch(Vn){let Wn=On(Vn);throw Wn.privyErrorCode===le.ACCOUNT_TRANSFER_REQUIRED?Wn:Wn.privyErrorCode?new oe(Wn.message||"Invalid code during cross-app auth flow.",void 0,Wn.privyErrorCode):Wn.message==="User denied confirmation during cross-app auth flow"?new oe("Invalid code during cross-app auth flow.",void 0,le.OAUTH_USER_DENIED):new oe("Invalid code during cross-app auth flow.",void 0,le.UNKNOWN_AUTH_ERROR)}}({appId:H,codeVerifier:Te,stateCode:gt,authorizationCode:rn,action:ne,client:e});Be&&e.storeProviderAccessToken(H,Be);let ct=await xt.refreshSessionAndUser();if(!ct)throw new oe("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:H}}),ct}catch(Ie){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ie.toString(),provider:re}}),Ie}},async initLoginWithOAuth(H,G,ne){if(Ee.current=H,!_q()||H==="google"&&XH(window.navigator.userAgent))return void qe(R5e);H==="twitter"&&window.opener&&window.opener.postMessage({type:b2e},"*"),Rt.del(L$),Rt.del(HE);let re=new f3({provider:H,disableSignup:!!ne,withPrivyUi:!0,customOAuthRedirectUrl:V.customOAuthRedirectUrl});G&&re.addCaptchaToken(G),e.startAuthFlow(re);let ae=await e.authFlow.getAuthorizationUrl();if(ae&&ae.url)if(H==="twitter"&&D$e&&(ae.url=ae.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&Rq())try{let{privyOAuthCode:de,privyOAuthState:Te}=await Dve(ae.url);qe(D5e),re.meta.stateCode=Te,re.meta.authorizationCode=de}catch(de){throw console.error("OAuth in chrome extension flow failed:",de),de}else window.location.assign(ae.url)},async initLoginWithTelegram(H,G){if(!o)throw new cy;Ee.current="telegram";let ne=new KE(H,G);e.startAuthFlow(ne),L({status:"loading"}),ne.meta.telegramWebAppData=void 0,ne.meta.telegramAuthResult=await new Promise((re,ae)=>V.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:V.loginConfig.telegramAuthConfiguration.botId,request_access:!0},de=>de?re(de):ae(new oe("Telegram auth failed or was canceled by the client"))):ae(new oe("Telegram was not initialized")):ae(new oe("Telegram Auth configuration is not loaded")))},async loginWithTelegram(H){var Te;let G,ne;if(!(e.authFlow instanceof KE))throw new oe("Must initialize Telegram flow before calling loginWithTelegram");(Te=e.authFlow.meta).captchaToken||(Te.captchaToken=H==null?void 0:H.captchaToken);let re=await Ir(),ae=(H==null?void 0:H.intent)||$e.current;if(ae==="login")try{let Ie=await e.authenticate();G=Ie.user,ne=Ie.isNewUser,Ee.current="telegram"}catch(Ie){throw Le(we,"login","onError",Ie.privyErrorCode||le.UNKNOWN_AUTH_ERROR),Ie}else{if(ae!=="link")throw new oe("Unknown auth intent");try{G=(await e.link()).user,Ee.current="telegram"}catch(Ie){throw Le(we,"linkAccount","onError",Ie.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Ie}}d(G),v(ne||!1),l(!0),L({status:"done"});let de=(G==null?void 0:G.linkedAccounts.find(({type:Ie})=>Ie==="telegram"))||null;return{user:G,isNewUser:ne||!1,wasAlreadyAuthenticated:!!re,loginAccount:de}},async loginWithOAuth(H){let G,ne,re;if(!(e.authFlow instanceof f3))throw new oe("Must initialize OAuth flow before calling loginWithOAuth");let ae=Rt.get(D$),de=e.authFlow.meta.stateCode;if(ae!==de)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:H,storedStateCode:ae??"",returnedStateCode:de??""}}),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,le.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Te=await e.link();G=Te.user,re=Te.oAuthTokens,Ee.current=H}catch(Te){throw Le(we,"linkAccount","onError",Te.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:H}),Te}else try{let Te=await e.authenticate();G=Te.user,ne=Te.isNewUser,re=Te.oAuthTokens,Ee.current=H}catch(Te){throw $e.current==="login"?Le(we,"login","onError",Te.privyErrorCode||le.UNKNOWN_AUTH_ERROR):$e.current==="link"&&Le(we,"linkAccount","onError",Te.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:H}),Te}return d(G),v(ne||!1),l(!0),re&&G&&Le(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:G}),re},passkeyAuthState:B,setPasskeyAuthState:j,async initSignupWithPasskey({captchaToken:H,withPrivyUi:G}){let ne=new p3({captchaToken:H,setPasskeyAuthState:j});e.startAuthFlow(ne),$e.current="login";try{Ee.current="passkey",j({status:"generating-challenge"}),await ne.initRegisterFlow(G),j({status:"awaiting-passkey"})}catch(re){throw j({status:"error",error:re}),Le(we,"login","onError",re.privyErrorCode||le.UNKNOWN_AUTH_ERROR),re}},async signupWithPasskey(){let H,G;if(!o)throw new cy;if(!(e.authFlow instanceof p3))throw new oe("Must initialize Passkey flow first.");if(Ee.current!=="passkey"){let ae=new oe("Must init login with Passkey flow first.");throw j({status:"error",error:ae}),ae}let ne=await Ir();try{Ee.current="passkey",j({status:"awaiting-passkey"}),{user:H,isNewUser:G}=await e.authenticate()}catch(ae){throw j({status:"error",error:ae}),Le(we,"login","onError",ae.privyErrorCode||le.UNKNOWN_AUTH_ERROR),ae}d(H),v(G||!1),l(!0),j({status:"done"});let re=(H==null?void 0:H.linkedAccounts.find(({type:ae})=>ae==="passkey"))||null;return{user:H,isNewUser:G||!1,wasAlreadyAuthenticated:!!ne,loginAccount:re}},async initLoginWithPasskey({captchaToken:H,withPrivyUi:G}){let ne=new p3({captchaToken:H,setPasskeyAuthState:j});e.startAuthFlow(ne),$e.current="login";try{Ee.current="passkey",j({status:"generating-challenge"}),await ne.initAuthenticationFlow(G),j({status:"awaiting-passkey"})}catch(re){throw j({status:"error",error:re}),Le(we,"login","onError",re.privyErrorCode||le.UNKNOWN_AUTH_ERROR),re}},async loginWithPasskey(H){let G,ne;if(!o)throw new cy;if(!(e.authFlow instanceof p3))throw new oe("Must initialize Passkey flow first.");if(H!=null&&H.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=H.credentialIds),Ee.current!=="passkey"){let de=new oe("Must init login with Passkey flow first.");throw j({status:"error",error:de}),de}let re=await Ir();try{Ee.current="passkey",j({status:"awaiting-passkey"}),{user:G,isNewUser:ne}=await e.authenticate()}catch(de){throw j({status:"error",error:de}),Le(we,"login","onError",de.privyErrorCode||le.UNKNOWN_AUTH_ERROR),de}d(G),v(ne||!1),l(!0),j({status:"done"});let ae=(G==null?void 0:G.linkedAccounts.find(({type:de})=>de==="passkey"))||null;return{user:G,isNewUser:ne||!1,wasAlreadyAuthenticated:!!re,loginAccount:ae}},async initLinkWithPasskey(H){let G=new p3({captchaToken:H});e.startAuthFlow(G),$e.current="link",Ee.current="passkey",j({status:"generating-challenge"});try{await G.initLinkFlow(),j({status:"awaiting-passkey"})}catch(ne){throw Le(we,"linkAccount","onError",ne.privyErrorCode||le.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),j({status:"error",error:ne}),ne}},async linkWithPasskey(){let H;if(!o)throw new cy;if(!(e.authFlow instanceof p3))throw new oe("Must initialize Passkey flow first.");if(Ee.current!=="passkey")throw new oe("Must init login with Passkey flow first.");try{Ee.current="passkey",{user:H}=await e.link()}catch(G){throw Le(we,"linkAccount","onError",G.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),G}return d(H||u||null),j({status:"done"}),H},async initLoginWithHeadlessOAuth(H,G,ne){if(!_q()||H==="google"&&XH(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let re=new f3({provider:H,withPrivyUi:!1,disableSignup:ne??!1,customOAuthRedirectUrl:V.customOAuthRedirectUrl});G&&re.addCaptchaToken(G),P({status:"loading"});let ae=await e.startAuthFlow(re).getAuthorizationUrl();if(ae!=null&&ae.url)if(window.location.protocol==="chrome-extension:"&&Rq())try{let{privyOAuthCode:de,privyOAuthState:Te}=await Dve(ae.url);re.meta.stateCode=Te,re.meta.authorizationCode=de,await this.loginWithHeadlessOAuth(re.meta)}catch(de){throw P({status:"error",error:de}),de}else window.location.assign(ae.url)},async loginWithHeadlessOAuth(H){let G,ne,re;I(!0),P({status:"loading"}),e.startAuthFlow(new f3({...H,customOAuthRedirectUrl:V.customOAuthRedirectUrl}));let ae=Rt.get(D$),de=H.stateCode;if(ae!==de)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:H.provider,storedStateCode:ae??"",returnedStateCode:de??""}}),I(!1),new oe("Unexpected auth flow. This may be a phishing attempt.",void 0,le.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:G,oAuthTokens:re}=await e.link()),Ee.current=H.provider;let Te=Wt(G);G&&Te&&Le(we,"linkAccount","onSuccess",{user:G,linkMethod:Ee.current,linkedAccount:Te})}catch(Te){throw I(!1),Le(we,"linkAccount","onError",Te.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:H.provider}),Te}else try{({user:G,isNewUser:ne,oAuthTokens:re}=await e.authenticate()),Ee.current=H.provider;let Te=Wt(G);G&&Te&&ne!==void 0&&Le(we,"login","onComplete",{user:G,isNewUser:ne,wasAlreadyAuthenticated:!1,loginMethod:Ee.current,loginAccount:Te})}catch(Te){throw I(!1),P({status:"error",error:Te}),Le(we,"login","onError",Te.privyErrorCode||le.UNKNOWN_AUTH_ERROR),Te}return d(G),v(ne||!1),l(!0),I(!1),P({status:"done"}),re&&G&&Le(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:re,user:G}),G??void 0},initLoginWithEmail:async({email:H,captchaToken:G,disableSignup:ne,withPrivyUi:re})=>{let ae=new h3({email:H,captchaToken:G,disableSignup:ne});e.startAuthFlow(ae);try{Ee.current="email",M({status:"sending-code"}),await ae.sendCodeEmail({withPrivyUi:re}),M({status:"awaiting-code-input"})}catch(de){throw M({status:"error",error:de}),$e.current==="login"?Le(we,"login","onError",de.privyErrorCode||le.UNKNOWN_AUTH_ERROR):$e.current==="link"&&Le(we,"linkAccount","onError",de.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),de}},initUpdateEmail:async({oldAddress:H,newAddress:G,captchaToken:ne})=>{let re=new m4t(H,G,ne);e.startAuthFlow(re);try{await re.sendCodeEmail({withPrivyUi:!0})}catch(ae){Le(we,"update","onError",ae.privyErrorCode||le.UNKNOWN_AUTH_ERROR,{linkMethod:Ee.current})}},initUpdatePhone:async(H,G,ne)=>{let re=new A4t(H,G,ne);e.startAuthFlow(re);try{await re.sendSmsCode({withPrivyUi:!0})}catch(ae){Le(we,"update","onError",ae.privyErrorCode||le.UNKNOWN_AUTH_ERROR,{linkMethod:Ee.current})}},initLoginWithSms:async({phoneNumber:H,captchaToken:G,disableSignup:ne,withPrivyUi:re})=>{x({status:"sending-code"});let ae=new m3({phoneNumber:H,captchaToken:G,disableSignup:ne});e.startAuthFlow(ae);try{Ee.current="sms",await ae.sendSmsCode({withPrivyUi:re}),x({status:"awaiting-code-input"})}catch(de){throw x({status:"error",error:de}),$e.current==="login"?Le(we,"login","onError",de.privyErrorCode||le.UNKNOWN_AUTH_ERROR):$e.current==="link"&&Le(we,"linkAccount","onError",de.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),de}},resendEmailCode:async()=>{var H;await((H=e.authFlow)==null?void 0:H.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var H;await((H=e.authFlow)==null?void 0:H.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async H=>{let G,ne;function re(Ie){e.authFlow instanceof h3?M(Ie):e.authFlow instanceof m3&&x(Ie)}if(re({status:"submitting-code"}),!o){let Ie=new cy;throw re({status:"error",error:Ie}),Ie}if(e.authFlow instanceof h3)e.authFlow.meta.emailCode=H.trim();else{if(!(e.authFlow instanceof m3)){let Ie=new oe("Must initialize a passwordless code flow first");throw re({status:"error",error:Ie}),Ie}e.authFlow.meta.smsCode=H.trim()}let ae=await Ir();if($e.current==="link")try{({user:G}=await e.link())}catch(Ie){throw re({status:"error",error:Ie}),Le(we,"linkAccount","onError",Ie.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ee.current}),Ie}else if($e.current==="update")try{({user:G}=await e.link())}catch(Ie){throw re({status:"error",error:Ie}),Le(we,"update","onError",Ie.privyErrorCode||le.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ee.current}),Ie}else try{({user:G,isNewUser:ne}=await e.authenticate())}catch(Ie){throw re({status:"error",error:Ie}),Le(we,"login","onError",Ie.privyErrorCode||le.UNKNOWN_AUTH_ERROR),Ie}let de=G||u;d(de||null),v(ne||!1),l(!0),re({status:"done"});let Te=null;return e.authFlow instanceof h3?Te=(de==null?void 0:de.linkedAccounts.find(({type:Ie})=>Ie==="email"))||null:e.authFlow instanceof m3&&(Te=(de==null?void 0:de.linkedAccounts.find(({type:Ie})=>Ie==="phone"))||null),{user:de,isNewUser:ne||!1,wasAlreadyAuthenticated:!!ae,linkedAccount:Te}},generateSiweMessage:async({address:H,chainId:G,captchaToken:ne})=>{$e.current=c?"link":"login",Ee.current="siwe",N({status:"generating-message"});let re=await e.generateSiweNonce({address:H,captchaToken:ne});return N({status:"awaiting-signature"}),Uq({address:H,chainId:G.replace("eip155:",""),nonce:re})},generateSiweMessageForSmartWallet:async({address:H,chainId:G})=>{let ne=await e.generateSiweNonce({address:H});return Uq({address:H,chainId:G.replace("eip155:",""),nonce:ne})},linkSmartWallet:async({message:H,signature:G,smartWalletType:ne,smartWalletVersion:re})=>{let ae;ae=await e.linkSmartWallet({message:H,signature:G,smartWalletType:ne,smartWalletVersion:re}),d((ae=await xt.refreshSessionAndUser()??ae)||u||null)},loginWithSiwe:async({message:H,signature:G,captchaToken:ne,disableSignup:re})=>{let ae,de=null;try{if(u)throw Error("User already authenticated");let Te=new g3(e,void 0,ne,re,{message:H,signature:G});if(e.startAuthFlow(Te),Ee.current="siwe",$e.current="login",N({status:"submitting-signature"}),{user:de,isNewUser:ae}=await e.authenticate(),!de)throw Error("Authentication failed - no user returned")}catch(Te){throw Le(we,"login","onError",Te.privyErrorCode||le.UNKNOWN_AUTH_ERROR),N({status:"error",error:Te}),Te}return d(de),v(ae||!1),l(!0),N({status:"done"}),$e.current=null,Ee.current=null,de},linkWithSiwe:async({message:H,signature:G,chainId:ne,walletClientType:re,connectorType:ae})=>{let de;se("siwe");let Te=null;try{N({status:"submitting-signature"}),de=await e.linkWithSiwe({message:H,signature:G,chainId:ne,walletClientType:re,connectorType:ae}),de=await xt.refreshSessionAndUser()??de,N({status:"done"}),(Te=Wt(de)||null)&&Le(we,"linkAccount","onSuccess",{user:de,linkMethod:"siwe",linkedAccount:Te})}catch(gt){throw Le(we,"linkAccount","onError",gt.privyErrorCode||le.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),$e.current=null,Ee.current=null,N({status:"error",error:gt}),gt}let Ie=de||u;return d(Ie||null),$e.current=null,Ee.current=null,{user:Ie,linkedAccount:Te}},refreshSessionAndUser:async()=>{let H=await e.getAuthenticatedUser();return l(!!H),d(H),H},walletProxy:$,createAnalyticsEvent:({eventName:H,payload:G,timestamp:ne})=>e.createAnalyticsEvent({eventName:H,payload:G,timestamp:ne}),acceptTerms:async()=>{let H=await e.acceptTerms();return d(H),H},getUsdTokenPrice:H=>e.getUsdTokenPrice(H),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:H=>e.getSplTokenMetadata(H),recoverEmbeddedWallet:async H=>new Promise(async(G,ne)=>{if(!u)return void G(!0);let re=H!=null&&H.address?Ou(u,H.address):Ru(u)||RL(u)||BS(u);if(!re||Vs(re))return void G(!0);let ae=await Ir();if(!ae||!$||!re)return void ne(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:de,entropyIdVerifier:Te}=Oo(u,re);try{await $.connect({accessToken:ae,entropyId:de,entropyIdVerifier:Te}),G(!0)}catch(Ie){if(r9(Ie)&&re.recoveryMethod==="privy"){let gt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:re.address}});try{gt=await $.recover({entropyId:de,entropyIdVerifier:Te,accessToken:ae})}catch(rn){return void ne(rn)}gt.entropyId||ne(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:re.address}}),G(!0)}else r9(Ie)&&re.recoveryMethod!=="privy"&&re.recoveryMethod!=="privy-v2"?(X({recoverWallet:{entropyId:de,entropyIdVerifier:Te,onFailure:ne,onSuccess:()=>G(!0)},recoveryOAuthStatus:{provider:re.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),qe(R3e(re.recoveryMethod))):ne(Ie)}}),exportSolanaWallet:H=>new Promise(async(G,ne)=>{if(!c||!u)return void ne(Error("User must be authenticated before exporting their Privy wallet"));let re=H!=null&&H.address?Ou(u,H.address):ly(u);if(!re)return void ne(new oe("User must have an embedded wallet."));let{entropyId:ae,entropyIdVerifier:de}=Oo(u,re),Te=Vs(re);if(!await Ir()||!$)return void ne(Error("Must have valid access token to enroll in MFA"));if(!$)return void ne(Error("Must have a Privy wallet before exporting"));let Ie={recoveryMethod:re.recoveryMethod,connectingWalletAddress:re.address,isUnifiedWallet:Te,entropyId:ae,entropyIdVerifier:de,onCompleteNavigateTo:lV,onFailure:ne,shouldForceMFA:!0};$3(re)?(X({connectWallet:Ie,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:re.address,entropyId:ae,entropyIdVerifier:de,hdWalletIndex:re.walletIndex,chainType:re.chainType,walletId:re.id,isUnifiedWallet:Te,imported:re.imported,onSuccess:G,onFailure:ne}}),qe(Mm)):ne(Error(`Export is not supported for ${re.chainType} wallets`))}),setReadyToTrue:H=>{a(!0),Y==null||Y(H)},updateWallets:()=>He(),fundWallet:async(H,G)=>{X({funding:d5e({address:H,appConfig:V,fundWalletConfig:G,methodScreen:Gc})}),qe(Gc)},openModal:qe,requestFarcasterSignerStatus:async H=>{var ae;let G=await Ir(),ne=u==null?void 0:u.linkedAccounts.find(de=>de.type==="wallet"&&de.walletClientType==="privy");if(!G)throw Error("Must have valid access token to connect with Farcaster");if(!$||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((ae=u==null?void 0:u.farcaster)!=null&&ae.fid))throw Error("Must have Farcaster account to use Farcaster signers");let re=await e.requestFarcasterSignerStatus(H);return re.status==="approved"&&d(await e.getAuthenticatedUser()||u||null),re},connectCoinbaseSmartWallet:async()=>{var G,ne;V.externalWallets.coinbaseWallet.config.preference={...V.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let H=((G=e.connectors)==null?void 0:G.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((ne=e.connectors)==null?void 0:ne.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(H)return H.updateConnectionPreference("smartWalletOnly"),W(H);await z("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var G;let H=(G=e.connectors)==null?void 0:G.findWalletConnector("base_account","base_account");if(H)return W(H);await z("base_account","base_account")},initiateAccountTransfer:async({nonce:H,account:G,accountType:ne,externalWalletMetadata:re,telegramAuthResult:ae,telegramWebAppData:de,farcasterEmbeddedAddress:Te,oAuthUserInfo:Ie})=>{let gt=await e.sendAccountTransferRequest({nonce:H,account:G,accountType:ne,externalWalletMetadata:re,telegramAuthResult:ae,telegramWebAppData:de,farcasterEmbeddedAddress:Te,oAuthUserInfo:Ie});return d(gt),gt},inProgressAuthFlowRef:$e,inProgressLoginOrLinkMethodRef:Ee};q5e=xt.recoverEmbeddedWallet,H5e=xt.recoverEmbeddedWallet;let $n=k.useMemo(()=>({wallets:h,ready:he&&Me}),[h,he,Me]),uc=e.authFlow instanceof KE,Yn=!V.headless&&V.captchaEnabled&&!c&&(o||uc);return g.jsx(L5e.Provider,{value:!0,children:g.jsx(Lb.Provider,{value:ri,children:g.jsx(Tbe.Provider,{value:we,children:g.jsx(s2e.Provider,{value:$n,children:g.jsx($4t,{...V,children:g.jsxs(ule.Provider,{value:xt,children:[g.jsx(XEt,{children:g.jsxs(G4t,{data:Z,setModalData:X,setInitialScreen:_,initialScreen:E,authenticated:c,open:i,children:[t.children,g.jsx(qSt,{customAuth:V.customAuth}),Yn&&g.jsx(c8t,{delayedExecution:!1}),g.jsx(dEt,{}),g.jsx(ZAt,{disabled:V.embeddedWallets.disableAutomaticMigration}),g.jsx(Yxt,{palette:V.appearance.palette||{}}),!V.render.standalone&&g.jsx(sEt,{open:i})]})}),g.jsx(pEt,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u==null?void 0:u.mfaMethods,mfaPromise:ye,mfaSubmitPromise:ft,onLoad:q,onLoadFailed:()=>null}),V.loginConfig.telegramAuthConfiguration&&g.jsx(_3,{$if:!0,children:g.jsx(aEt,{scriptHost:t.apiUrl||Iq,botUsername:V.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};var XSt=8078e3,eIt=8078001,tIt=8078004,nIt=8078005,rIt=8078006,iIt=8078011;function V5e(t){return Array.isArray(t)?"%5B"+t.map(V5e).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function sIt([t,e]){return`${t}=${V5e(e)}`}function oIt(t){const e=Object.entries(t).map(sIt).join("&");return btoa(e)}function aIt(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${oIt(e)}'`),`${n}\``}}var U3=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=aIt(e,r);super(s,i);cJ(this,"cause",this.cause);cJ(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function cIt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function lIt(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(cIt(e,t));return t.write(e,n,0),n}})}function uIt(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function F3(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function dIt(t,e){if(F3(t)!==F3(e))throw new U3(tIt);if(F3(t)&&F3(e)&&t.fixedSize!==e.fixedSize)throw new U3(nIt,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!F3(t)&&!F3(e)&&t.maxSize!==e.maxSize)throw new U3(rIt,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function hIt(t,e,n=0){if(e.length-n<=0)throw new U3(XSt,{codecDescription:t})}function fIt(t,e,n,r=0){const i=n.length-r;if(i<e)throw new U3(eIt,{bytesLength:i,codecDescription:t,expected:e})}function pIt(t,e,n,r){if(r<e||r>n)throw new U3(iIt,{codecDescription:t,max:n,min:e,value:r})}function K5e(t){return(t==null?void 0:t.endian)!==1}function gIt(t){return lIt({fixedSize:t.size,write(e,n,r){t.range&&pIt(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,K5e(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function mIt(t){return uIt({fixedSize:t.size,read(e,n=0){hIt(t.name,e,n),fIt(t.name,t.size,e,n);const r=new DataView(yIt(e,n,t.size));return[t.get(r,K5e(t.config)),n+t.size]}})}function yIt(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var wIt=(t={})=>gIt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),vIt=(t={})=>mIt({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),bIt=(t={})=>dIt(wIt(t),vIt(t)),En={},RT={};RT.byteLength=CIt,RT.toByteArray=AIt,RT.fromByteArray=kIt;for(var Mf=[],rd=[],xIt=typeof Uint8Array<"u"?Uint8Array:Array,mV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z3=0,EIt=mV.length;z3<EIt;++z3)Mf[z3]=mV[z3],rd[mV.charCodeAt(z3)]=z3;rd[45]=62,rd[95]=63;function G5e(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function CIt(t){var e=G5e(t),n=e[0],r=e[1];return(n+r)*3/4-r}function _It(t,e,n){return(e+n)*3/4-n}function AIt(t){var e,n=G5e(t),r=n[0],i=n[1],s=new xIt(_It(t,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=rd[t.charCodeAt(c)]<<18|rd[t.charCodeAt(c+1)]<<12|rd[t.charCodeAt(c+2)]<<6|rd[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=rd[t.charCodeAt(c)]<<2|rd[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=rd[t.charCodeAt(c)]<<10|rd[t.charCodeAt(c+1)]<<4|rd[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function SIt(t){return Mf[t>>18&63]+Mf[t>>12&63]+Mf[t>>6&63]+Mf[t&63]}function IIt(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(SIt(r));return i.join("")}function kIt(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(IIt(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Mf[e>>2]+Mf[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Mf[e>>10]+Mf[e>>4&63]+Mf[e<<2&63]+"=")),i.join("")}var yV={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */yV.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=s*256+t[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+d],d+=h,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(f?-1:1)*o*Math.pow(2,s-r)},yV.write=function(t,e,n,r,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=a&255,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+f]=o&255,f+=p,o/=256,l-=8);t[n+f-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=RT,n=yV,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const K=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(K,z),K.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');const z=new Uint8Array(K);return Object.setPrototypeOf(z,a.prototype),z}function a(K,z,W){if(typeof K=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(K)}return c(K,z,W)}a.poolSize=8192;function c(K,z,W){if(typeof K=="string")return h(K,z);if(ArrayBuffer.isView(K))return p(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(zt(K,ArrayBuffer)||K&&zt(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(zt(K,SharedArrayBuffer)||K&&zt(K.buffer,SharedArrayBuffer)))return m(K,z,W);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=K.valueOf&&K.valueOf();if(J!=null&&J!==K)return a.from(J,z,W);const ee=w(K);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return a.from(K[Symbol.toPrimitive]("string"),z,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}a.from=function(K,z,W){return c(K,z,W)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function u(K,z,W){return l(K),K<=0?o(K):z!==void 0?typeof W=="string"?o(K).fill(z,W):o(K).fill(z):o(K)}a.alloc=function(K,z,W){return u(K,z,W)};function d(K){return l(K),o(K<0?0:y(K)|0)}a.allocUnsafe=function(K){return d(K)},a.allocUnsafeSlow=function(K){return d(K)};function h(K,z){if((typeof z!="string"||z==="")&&(z="utf8"),!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const W=v(K,z)|0;let J=o(W);const ee=J.write(K,z);return ee!==W&&(J=J.slice(0,ee)),J}function f(K){const z=K.length<0?0:y(K.length)|0,W=o(z);for(let J=0;J<z;J+=1)W[J]=K[J]&255;return W}function p(K){if(zt(K,Uint8Array)){const z=new Uint8Array(K);return m(z.buffer,z.byteOffset,z.byteLength)}return f(K)}function m(K,z,W){if(z<0||K.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<z+(W||0))throw new RangeError('"length" is outside of buffer bounds');let J;return z===void 0&&W===void 0?J=new Uint8Array(K):W===void 0?J=new Uint8Array(K,z):J=new Uint8Array(K,z,W),Object.setPrototypeOf(J,a.prototype),J}function w(K){if(a.isBuffer(K)){const z=y(K.length)|0,W=o(z);return W.length===0||K.copy(W,0,0,z),W}if(K.length!==void 0)return typeof K.length!="number"||Se(K.length)?o(0):f(K);if(K.type==="Buffer"&&Array.isArray(K.data))return f(K.data)}function y(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function b(K){return+K!=K&&(K=0),a.alloc(+K)}a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,W){if(zt(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),zt(W,Uint8Array)&&(W=a.from(W,W.offset,W.byteLength)),!a.isBuffer(z)||!a.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===W)return 0;let J=z.length,ee=W.length;for(let ce=0,se=Math.min(J,ee);ce<se;++ce)if(z[ce]!==W[ce]){J=z[ce],ee=W[ce];break}return J<ee?-1:ee<J?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,W){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);let J;if(W===void 0)for(W=0,J=0;J<z.length;++J)W+=z[J].length;const ee=a.allocUnsafe(W);let ce=0;for(J=0;J<z.length;++J){let se=z[J];if(zt(se,Uint8Array))ce+se.length>ee.length?(a.isBuffer(se)||(se=a.from(se)),se.copy(ee,ce)):Uint8Array.prototype.set.call(ee,se,ce);else if(a.isBuffer(se))se.copy(ee,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=se.length}return ee};function v(K,z){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||zt(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const W=K.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&W===0)return 0;let ee=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return we(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return Ee(K).length;default:if(ee)return J?-1:we(K).length;z=(""+z).toLowerCase(),ee=!0}}a.byteLength=v;function E(K,z,W){let J=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,z>>>=0,W<=z))return"";for(K||(K="utf8");;)switch(K){case"hex":return P(this,z,W);case"utf8":case"utf-8":return C(this,z,W);case"ascii":return N(this,z,W);case"latin1":case"binary":return O(this,z,W);case"base64":return M(this,z,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,z,W);default:if(J)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),J=!0}}a.prototype._isBuffer=!0;function _(K,z,W){const J=K[z];K[z]=K[W],K[W]=J}a.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<z;W+=2)_(this,W,W+1);return this},a.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<z;W+=4)_(this,W,W+3),_(this,W+1,W+2);return this},a.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<z;W+=8)_(this,W,W+7),_(this,W+1,W+6),_(this,W+2,W+5),_(this,W+3,W+4);return this},a.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?C(this,0,z):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:a.compare(this,z)===0},a.prototype.inspect=function(){let z="";const W=t.INSPECT_MAX_BYTES;return z=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(z+=" ... "),"<Buffer "+z+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(z,W,J,ee,ce){if(zt(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(W===void 0&&(W=0),J===void 0&&(J=z?z.length:0),ee===void 0&&(ee=0),ce===void 0&&(ce=this.length),W<0||J>z.length||ee<0||ce>this.length)throw new RangeError("out of range index");if(ee>=ce&&W>=J)return 0;if(ee>=ce)return-1;if(W>=J)return 1;if(W>>>=0,J>>>=0,ee>>>=0,ce>>>=0,this===z)return 0;let se=ce-ee,Re=J-W;const et=Math.min(se,Re),He=this.slice(ee,ce),nt=z.slice(W,J);for(let Pe=0;Pe<et;++Pe)if(He[Pe]!==nt[Pe]){se=He[Pe],Re=nt[Pe];break}return se<Re?-1:Re<se?1:0};function T(K,z,W,J,ee){if(K.length===0)return-1;if(typeof W=="string"?(J=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,Se(W)&&(W=ee?0:K.length-1),W<0&&(W=K.length+W),W>=K.length){if(ee)return-1;W=K.length-1}else if(W<0)if(ee)W=0;else return-1;if(typeof z=="string"&&(z=a.from(z,J)),a.isBuffer(z))return z.length===0?-1:I(K,z,W,J,ee);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(K,z,W):Uint8Array.prototype.lastIndexOf.call(K,z,W):I(K,[z],W,J,ee);throw new TypeError("val must be string, number or Buffer")}function I(K,z,W,J,ee){let ce=1,se=K.length,Re=z.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(K.length<2||z.length<2)return-1;ce=2,se/=2,Re/=2,W/=2}function et(nt,Pe){return ce===1?nt[Pe]:nt.readUInt16BE(Pe*ce)}let He;if(ee){let nt=-1;for(He=W;He<se;He++)if(et(K,He)===et(z,nt===-1?0:He-nt)){if(nt===-1&&(nt=He),He-nt+1===Re)return nt*ce}else nt!==-1&&(He-=He-nt),nt=-1}else for(W+Re>se&&(W=se-Re),He=W;He>=0;He--){let nt=!0;for(let Pe=0;Pe<Re;Pe++)if(et(K,He+Pe)!==et(z,Pe)){nt=!1;break}if(nt)return He}return-1}a.prototype.includes=function(z,W,J){return this.indexOf(z,W,J)!==-1},a.prototype.indexOf=function(z,W,J){return T(this,z,W,J,!0)},a.prototype.lastIndexOf=function(z,W,J){return T(this,z,W,J,!1)};function R(K,z,W,J){W=Number(W)||0;const ee=K.length-W;J?(J=Number(J),J>ee&&(J=ee)):J=ee;const ce=z.length;J>ce/2&&(J=ce/2);let se;for(se=0;se<J;++se){const Re=parseInt(z.substr(se*2,2),16);if(Se(Re))return se;K[W+se]=Re}return se}function S(K,z,W,J){return $e(we(z,K.length-W),K,W,J)}function B(K,z,W,J){return $e(Me(z),K,W,J)}function j(K,z,W,J){return $e(Ee(z),K,W,J)}function U(K,z,W,J){return $e(Oe(z,K.length-W),K,W,J)}a.prototype.write=function(z,W,J,ee){if(W===void 0)ee="utf8",J=this.length,W=0;else if(J===void 0&&typeof W=="string")ee=W,J=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(J)?(J=J>>>0,ee===void 0&&(ee="utf8")):(ee=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-W;if((J===void 0||J>ce)&&(J=ce),z.length>0&&(J<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let se=!1;for(;;)switch(ee){case"hex":return R(this,z,W,J);case"utf8":case"utf-8":return S(this,z,W,J);case"ascii":case"latin1":case"binary":return B(this,z,W,J);case"base64":return j(this,z,W,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,z,W,J);default:if(se)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),se=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(K,z,W){return z===0&&W===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(z,W))}function C(K,z,W){W=Math.min(K.length,W);const J=[];let ee=z;for(;ee<W;){const ce=K[ee];let se=null,Re=ce>239?4:ce>223?3:ce>191?2:1;if(ee+Re<=W){let et,He,nt,Pe;switch(Re){case 1:ce<128&&(se=ce);break;case 2:et=K[ee+1],(et&192)===128&&(Pe=(ce&31)<<6|et&63,Pe>127&&(se=Pe));break;case 3:et=K[ee+1],He=K[ee+2],(et&192)===128&&(He&192)===128&&(Pe=(ce&15)<<12|(et&63)<<6|He&63,Pe>2047&&(Pe<55296||Pe>57343)&&(se=Pe));break;case 4:et=K[ee+1],He=K[ee+2],nt=K[ee+3],(et&192)===128&&(He&192)===128&&(nt&192)===128&&(Pe=(ce&15)<<18|(et&63)<<12|(He&63)<<6|nt&63,Pe>65535&&Pe<1114112&&(se=Pe))}}se===null?(se=65533,Re=1):se>65535&&(se-=65536,J.push(se>>>10&1023|55296),se=56320|se&1023),J.push(se),ee+=Re}return A(J)}const x=4096;function A(K){const z=K.length;if(z<=x)return String.fromCharCode.apply(String,K);let W="",J=0;for(;J<z;)W+=String.fromCharCode.apply(String,K.slice(J,J+=x));return W}function N(K,z,W){let J="";W=Math.min(K.length,W);for(let ee=z;ee<W;++ee)J+=String.fromCharCode(K[ee]&127);return J}function O(K,z,W){let J="";W=Math.min(K.length,W);for(let ee=z;ee<W;++ee)J+=String.fromCharCode(K[ee]);return J}function P(K,z,W){const J=K.length;(!z||z<0)&&(z=0),(!W||W<0||W>J)&&(W=J);let ee="";for(let ce=z;ce<W;++ce)ee+=qe[K[ce]];return ee}function D(K,z,W){const J=K.slice(z,W);let ee="";for(let ce=0;ce<J.length-1;ce+=2)ee+=String.fromCharCode(J[ce]+J[ce+1]*256);return ee}a.prototype.slice=function(z,W){const J=this.length;z=~~z,W=W===void 0?J:~~W,z<0?(z+=J,z<0&&(z=0)):z>J&&(z=J),W<0?(W+=J,W<0&&(W=0)):W>J&&(W=J),W<z&&(W=z);const ee=this.subarray(z,W);return Object.setPrototypeOf(ee,a.prototype),ee};function L(K,z,W){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+z>W)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(z,W,J){z=z>>>0,W=W>>>0,J||L(z,W,this.length);let ee=this[z],ce=1,se=0;for(;++se<W&&(ce*=256);)ee+=this[z+se]*ce;return ee},a.prototype.readUintBE=a.prototype.readUIntBE=function(z,W,J){z=z>>>0,W=W>>>0,J||L(z,W,this.length);let ee=this[z+--W],ce=1;for(;W>0&&(ce*=256);)ee+=this[z+--W]*ce;return ee},a.prototype.readUint8=a.prototype.readUInt8=function(z,W){return z=z>>>0,W||L(z,1,this.length),this[z]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(z,W){return z=z>>>0,W||L(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(z,W){return z=z>>>0,W||L(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(z,W){return z=z>>>0,W||L(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(z,W){return z=z>>>0,W||L(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readBigUInt64LE=Ye(function(z){z=z>>>0,be(z,"offset");const W=this[z],J=this[z+7];(W===void 0||J===void 0)&&ge(z,this.length-8);const ee=W+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,ce=this[++z]+this[++z]*2**8+this[++z]*2**16+J*2**24;return BigInt(ee)+(BigInt(ce)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(z){z=z>>>0,be(z,"offset");const W=this[z],J=this[z+7];(W===void 0||J===void 0)&&ge(z,this.length-8);const ee=W*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],ce=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+J;return(BigInt(ee)<<BigInt(32))+BigInt(ce)}),a.prototype.readIntLE=function(z,W,J){z=z>>>0,W=W>>>0,J||L(z,W,this.length);let ee=this[z],ce=1,se=0;for(;++se<W&&(ce*=256);)ee+=this[z+se]*ce;return ce*=128,ee>=ce&&(ee-=Math.pow(2,8*W)),ee},a.prototype.readIntBE=function(z,W,J){z=z>>>0,W=W>>>0,J||L(z,W,this.length);let ee=W,ce=1,se=this[z+--ee];for(;ee>0&&(ce*=256);)se+=this[z+--ee]*ce;return ce*=128,se>=ce&&(se-=Math.pow(2,8*W)),se},a.prototype.readInt8=function(z,W){return z=z>>>0,W||L(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},a.prototype.readInt16LE=function(z,W){z=z>>>0,W||L(z,2,this.length);const J=this[z]|this[z+1]<<8;return J&32768?J|4294901760:J},a.prototype.readInt16BE=function(z,W){z=z>>>0,W||L(z,2,this.length);const J=this[z+1]|this[z]<<8;return J&32768?J|4294901760:J},a.prototype.readInt32LE=function(z,W){return z=z>>>0,W||L(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,W){return z=z>>>0,W||L(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readBigInt64LE=Ye(function(z){z=z>>>0,be(z,"offset");const W=this[z],J=this[z+7];(W===void 0||J===void 0)&&ge(z,this.length-8);const ee=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(J<<24);return(BigInt(ee)<<BigInt(32))+BigInt(W+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),a.prototype.readBigInt64BE=Ye(function(z){z=z>>>0,be(z,"offset");const W=this[z],J=this[z+7];(W===void 0||J===void 0)&&ge(z,this.length-8);const ee=(W<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(ee)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+J)}),a.prototype.readFloatLE=function(z,W){return z=z>>>0,W||L(z,4,this.length),n.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,W){return z=z>>>0,W||L(z,4,this.length),n.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,W){return z=z>>>0,W||L(z,8,this.length),n.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,W){return z=z>>>0,W||L(z,8,this.length),n.read(this,z,!1,52,8)};function $(K,z,W,J,ee,ce){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>ee||z<ce)throw new RangeError('"value" argument is out of bounds');if(W+J>K.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(z,W,J,ee){if(z=+z,W=W>>>0,J=J>>>0,!ee){const Re=Math.pow(2,8*J)-1;$(this,z,W,J,Re,0)}let ce=1,se=0;for(this[W]=z&255;++se<J&&(ce*=256);)this[W+se]=z/ce&255;return W+J},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(z,W,J,ee){if(z=+z,W=W>>>0,J=J>>>0,!ee){const Re=Math.pow(2,8*J)-1;$(this,z,W,J,Re,0)}let ce=J-1,se=1;for(this[W+ce]=z&255;--ce>=0&&(se*=256);)this[W+ce]=z/se&255;return W+J},a.prototype.writeUint8=a.prototype.writeUInt8=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,1,255,0),this[W]=z&255,W+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,2,65535,0),this[W]=z&255,this[W+1]=z>>>8,W+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,2,65535,0),this[W]=z>>>8,this[W+1]=z&255,W+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,4,4294967295,0),this[W+3]=z>>>24,this[W+2]=z>>>16,this[W+1]=z>>>8,this[W]=z&255,W+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,4,4294967295,0),this[W]=z>>>24,this[W+1]=z>>>16,this[W+2]=z>>>8,this[W+3]=z&255,W+4};function q(K,z,W,J,ee){pe(z,J,ee,K,W,7);let ce=Number(z&BigInt(4294967295));K[W++]=ce,ce=ce>>8,K[W++]=ce,ce=ce>>8,K[W++]=ce,ce=ce>>8,K[W++]=ce;let se=Number(z>>BigInt(32)&BigInt(4294967295));return K[W++]=se,se=se>>8,K[W++]=se,se=se>>8,K[W++]=se,se=se>>8,K[W++]=se,W}function V(K,z,W,J,ee){pe(z,J,ee,K,W,7);let ce=Number(z&BigInt(4294967295));K[W+7]=ce,ce=ce>>8,K[W+6]=ce,ce=ce>>8,K[W+5]=ce,ce=ce>>8,K[W+4]=ce;let se=Number(z>>BigInt(32)&BigInt(4294967295));return K[W+3]=se,se=se>>8,K[W+2]=se,se=se>>8,K[W+1]=se,se=se>>8,K[W]=se,W+8}a.prototype.writeBigUInt64LE=Ye(function(z,W=0){return q(this,z,W,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(z,W=0){return V(this,z,W,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(z,W,J,ee){if(z=+z,W=W>>>0,!ee){const et=Math.pow(2,8*J-1);$(this,z,W,J,et-1,-et)}let ce=0,se=1,Re=0;for(this[W]=z&255;++ce<J&&(se*=256);)z<0&&Re===0&&this[W+ce-1]!==0&&(Re=1),this[W+ce]=(z/se>>0)-Re&255;return W+J},a.prototype.writeIntBE=function(z,W,J,ee){if(z=+z,W=W>>>0,!ee){const et=Math.pow(2,8*J-1);$(this,z,W,J,et-1,-et)}let ce=J-1,se=1,Re=0;for(this[W+ce]=z&255;--ce>=0&&(se*=256);)z<0&&Re===0&&this[W+ce+1]!==0&&(Re=1),this[W+ce]=(z/se>>0)-Re&255;return W+J},a.prototype.writeInt8=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,1,127,-128),z<0&&(z=255+z+1),this[W]=z&255,W+1},a.prototype.writeInt16LE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,2,32767,-32768),this[W]=z&255,this[W+1]=z>>>8,W+2},a.prototype.writeInt16BE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,2,32767,-32768),this[W]=z>>>8,this[W+1]=z&255,W+2},a.prototype.writeInt32LE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,4,2147483647,-2147483648),this[W]=z&255,this[W+1]=z>>>8,this[W+2]=z>>>16,this[W+3]=z>>>24,W+4},a.prototype.writeInt32BE=function(z,W,J){return z=+z,W=W>>>0,J||$(this,z,W,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[W]=z>>>24,this[W+1]=z>>>16,this[W+2]=z>>>8,this[W+3]=z&255,W+4},a.prototype.writeBigInt64LE=Ye(function(z,W=0){return q(this,z,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(z,W=0){return V(this,z,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function F(K,z,W,J,ee,ce){if(W+J>K.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Z(K,z,W,J,ee){return z=+z,W=W>>>0,ee||F(K,z,W,4),n.write(K,z,W,J,23,4),W+4}a.prototype.writeFloatLE=function(z,W,J){return Z(this,z,W,!0,J)},a.prototype.writeFloatBE=function(z,W,J){return Z(this,z,W,!1,J)};function X(K,z,W,J,ee){return z=+z,W=W>>>0,ee||F(K,z,W,8),n.write(K,z,W,J,52,8),W+8}a.prototype.writeDoubleLE=function(z,W,J){return X(this,z,W,!0,J)},a.prototype.writeDoubleBE=function(z,W,J){return X(this,z,W,!1,J)},a.prototype.copy=function(z,W,J,ee){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ee&&ee!==0&&(ee=this.length),W>=z.length&&(W=z.length),W||(W=0),ee>0&&ee<J&&(ee=J),ee===J||z.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),z.length-W<ee-J&&(ee=z.length-W+J);const ce=ee-J;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,J,ee):Uint8Array.prototype.set.call(z,this.subarray(J,ee),W),ce},a.prototype.fill=function(z,W,J,ee){if(typeof z=="string"){if(typeof W=="string"?(ee=W,W=0,J=this.length):typeof J=="string"&&(ee=J,J=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!a.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(z.length===1){const se=z.charCodeAt(0);(ee==="utf8"&&se<128||ee==="latin1")&&(z=se)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(W<0||this.length<W||this.length<J)throw new RangeError("Out of range index");if(J<=W)return this;W=W>>>0,J=J===void 0?this.length:J>>>0,z||(z=0);let ce;if(typeof z=="number")for(ce=W;ce<J;++ce)this[ce]=z;else{const se=a.isBuffer(z)?z:a.from(z,ee),Re=se.length;if(Re===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ce=0;ce<J-W;++ce)this[ce+W]=se[ce%Re]}return this};const Y={};function te(K,z,W){Y[K]=class extends W{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(K,z){return`The "${K}" argument must be of type number. Received type ${typeof z}`},TypeError),te("ERR_OUT_OF_RANGE",function(K,z,W){let J=`The value of "${K}" is out of range.`,ee=W;return Number.isInteger(W)&&Math.abs(W)>2**32?ee=fe(String(W)):typeof W=="bigint"&&(ee=String(W),(W>BigInt(2)**BigInt(32)||W<-(BigInt(2)**BigInt(32)))&&(ee=fe(ee)),ee+="n"),J+=` It must be ${z}. Received ${ee}`,J},RangeError);function fe(K){let z="",W=K.length;const J=K[0]==="-"?1:0;for(;W>=J+4;W-=3)z=`_${K.slice(W-3,W)}${z}`;return`${K.slice(0,W)}${z}`}function he(K,z,W){be(z,"offset"),(K[z]===void 0||K[z+W]===void 0)&&ge(z,K.length-(W+1))}function pe(K,z,W,J,ee,ce){if(K>W||K<z){const se=typeof z=="bigint"?"n":"";let Re;throw z===0||z===BigInt(0)?Re=`>= 0${se} and < 2${se} ** ${(ce+1)*8}${se}`:Re=`>= -(2${se} ** ${(ce+1)*8-1}${se}) and < 2 ** ${(ce+1)*8-1}${se}`,new Y.ERR_OUT_OF_RANGE("value",Re,K)}he(J,ee,ce)}function be(K,z){if(typeof K!="number")throw new Y.ERR_INVALID_ARG_TYPE(z,"number",K)}function ge(K,z,W){throw Math.floor(K)!==K?(be(K,W),new Y.ERR_OUT_OF_RANGE("offset","an integer",K)):z<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,K)}const ye=/[^+/0-9A-Za-z-_]/g;function ft(K){if(K=K.split("=")[0],K=K.trim().replace(ye,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function we(K,z){z=z||1/0;let W;const J=K.length;let ee=null;const ce=[];for(let se=0;se<J;++se){if(W=K.charCodeAt(se),W>55295&&W<57344){if(!ee){if(W>56319){(z-=3)>-1&&ce.push(239,191,189);continue}else if(se+1===J){(z-=3)>-1&&ce.push(239,191,189);continue}ee=W;continue}if(W<56320){(z-=3)>-1&&ce.push(239,191,189),ee=W;continue}W=(ee-55296<<10|W-56320)+65536}else ee&&(z-=3)>-1&&ce.push(239,191,189);if(ee=null,W<128){if((z-=1)<0)break;ce.push(W)}else if(W<2048){if((z-=2)<0)break;ce.push(W>>6|192,W&63|128)}else if(W<65536){if((z-=3)<0)break;ce.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((z-=4)<0)break;ce.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return ce}function Me(K){const z=[];for(let W=0;W<K.length;++W)z.push(K.charCodeAt(W)&255);return z}function Oe(K,z){let W,J,ee;const ce=[];for(let se=0;se<K.length&&!((z-=2)<0);++se)W=K.charCodeAt(se),J=W>>8,ee=W%256,ce.push(ee),ce.push(J);return ce}function Ee(K){return e.toByteArray(ft(K))}function $e(K,z,W,J){let ee;for(ee=0;ee<J&&!(ee+W>=z.length||ee>=K.length);++ee)z[ee+W]=K[ee];return ee}function zt(K,z){return K instanceof z||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===z.name}function Se(K){return K!==K}const qe=function(){const K="0123456789abcdef",z=new Array(256);for(let W=0;W<16;++W){const J=W*16;for(let ee=0;ee<16;++ee)z[J+ee]=K[W]+K[ee]}return z}();function Ye(K){return typeof BigInt>"u"?kt:K}function kt(){throw new Error("BigInt not supported")}})(En);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wV=BigInt(0),vV=BigInt(1);function cw(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function hh(t,e,n=""){const r=C4(t),i=t==null?void 0:t.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",c=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function MT(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Z5e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?wV:BigInt("0x"+t)}function jT(t){return Z5e(xg(t))}function g9(t){return bp(t),Z5e(xg(Uint8Array.from(t).reverse()))}function bV(t,e){return X_(t.toString(16).padStart(e*2,"0"))}function Y5e(t,e){return bV(t,e).reverse()}function Ui(t,e,n){let r;if(typeof e=="string")try{r=X_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(C4(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function J5e(t){return Uint8Array.from(t)}const xV=t=>typeof t=="bigint"&&wV<=t;function $It(t,e,n){return xV(t)&&xV(e)&&xV(n)&&e<=t&&t<n}function EV(t,e,n,r){if(!$It(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Q5e(t){let e;for(e=0;t>wV;t>>=vV,e+=1);return e}const m9=t=>(vV<<BigInt(t))-vV;function TIt(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=r(t),o=r(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...f)=>n(o,s,...f),u=(f=r(0))=>{o=l(i(0),f),s=l(),f.length!==0&&(o=l(i(1),f),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=l();const m=s.slice();p.push(m),f+=s.length}return Eu(...p)};return(f,p)=>{c(),u(f);let m;for(;!(m=p(d()));)u();return c(),m}}function y9(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function BT(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yc=BigInt(0),Ro=BigInt(1),lw=BigInt(2),X5e=BigInt(3),e6e=BigInt(4),t6e=BigInt(5),PIt=BigInt(7),n6e=BigInt(8),NIt=BigInt(9),r6e=BigInt(16);function xs(t,e){const n=t%e;return n>=Yc?n:e+n}function Fi(t,e,n){let r=t;for(;e-- >Yc;)r*=r,r%=n;return r}function i6e(t,e){if(t===Yc)throw new Error("invert: expected non-zero number");if(e<=Yc)throw new Error("invert: expected positive modulus, got "+e);let n=xs(t,e),r=e,i=Yc,s=Ro;for(;n!==Yc;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Ro)throw new Error("invert: does not exist");return xs(i,e)}function CV(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function s6e(t,e){const n=(t.ORDER+Ro)/e6e,r=t.pow(e,n);return CV(t,r,e),r}function OIt(t,e){const n=(t.ORDER-t6e)/n6e,r=t.mul(e,lw),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,lw),i),a=t.mul(s,t.sub(o,t.ONE));return CV(t,a,e),a}function RIt(t){const e=jf(t),n=o6e(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+PIt)/r6e;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,r);const d=a.mul(l,i),h=a.mul(l,s),f=a.eql(a.sqr(u),c),p=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(h,d,p);const m=a.eql(a.sqr(u),c),w=a.cmov(l,u,m);return CV(a,w,c),w}}function o6e(t){if(t<X5e)throw new Error("sqrt is not defined for small field");let e=t-Ro,n=0;for(;e%lw===Yc;)e/=lw,n++;let r=lw;const i=jf(t);for(;c6e(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return s6e;let s=i.pow(r,e);const o=(e+Ro)/lw;return function(c,l){if(c.is0(l))return l;if(c6e(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const w=Ro<<BigInt(u-p-1),y=c.pow(d,w);u=p,d=c.sqr(y),h=c.mul(h,d),f=c.mul(f,y)}return f}}function MIt(t){return t%e6e===X5e?s6e:t%n6e===t6e?OIt:t%r6e===NIt?RIt(t):o6e(t)}const jIt=(t,e)=>(xs(t,e)&Ro)===Ro,BIt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DIt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=BIt.reduce((r,i)=>(r[i]="function",r),e);return y9(t,n),t}function LIt(t,e,n){if(n<Yc)throw new Error("invalid exponent, negatives unsupported");if(n===Yc)return t.ONE;if(n===Ro)return e;let r=t.ONE,i=e;for(;n>Yc;)n&Ro&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ro;return r}function a6e(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function c6e(t,e){const n=(t.ORDER-Ro)/lw,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function l6e(t,e){e!==void 0&&O1(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function jf(t,e,n=!1,r={}){if(t<=Yc)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:c,nByteLength:l}=l6e(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:m9(c),ZERO:Yc,ONE:Ro,allowedLengths:a,create:h=>xs(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Yc<=h&&h<t},is0:h=>h===Yc,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&Ro)===Ro,neg:h=>xs(-h,t),eql:(h,f)=>h===f,sqr:h=>xs(h*h,t),add:(h,f)=>xs(h+f,t),sub:(h,f)=>xs(h-f,t),mul:(h,f)=>xs(h*f,t),pow:(h,f)=>LIt(d,h,f),div:(h,f)=>xs(h*i6e(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>i6e(h,t),sqrt:s||(h=>(u||(u=MIt(t)),u(d,h))),toBytes:h=>n?Y5e(h,l):bV(h,l),fromBytes:(h,f=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,n?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let p=n?g9(h):jT(h);if(o&&(p=xs(p,t)),!f&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:h=>a6e(d,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(d)}function u6e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function d6e(t){const e=u6e(t);return e+Math.ceil(e/2)}function UIt(t,e,n=!1){const r=t.length,i=u6e(e),s=d6e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?g9(t):jT(t),a=xs(o,e-Ro)+Ro;return n?Y5e(a,i):bV(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W3=BigInt(0),uw=BigInt(1);function DT(t,e){const n=e.negate();return t?n:e}function dw(t,e){const n=a6e(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function h6e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function _V(t,e){h6e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=m9(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function f6e(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=uw);const l=e*r,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function FIt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function zIt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const AV=new WeakMap,p6e=new WeakMap;function SV(t){return p6e.get(t)||1}function g6e(t){if(t!==W3)throw new Error("invalid wNAF")}let m6e=class{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>W3;)n&uw&&(r=r.add(i)),i=i.double(),n>>=uw;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=_V(n,this.bits),s=[];let o=e,a=o;for(let c=0;c<r;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=_V(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=f6e(r,a,o);r=c,u?s=s.add(DT(h,n[f])):i=i.add(DT(d,n[l]))}return g6e(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=_V(e,this.bits);for(let o=0;o<s.windows&&r!==W3;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=f6e(r,o,s);if(r=a,!l){const d=n[c];i=i.add(u?d.negate():d)}}return g6e(r),i}getPrecomputes(e,n,r){let i=AV.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),AV.set(n,i))),i}cached(e,n,r){const i=SV(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=SV(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){h6e(n,this.bits),p6e.set(e,n),AV.delete(e)}hasCache(e){return SV(e)!==1}};function WIt(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>W3||r>W3;)n&uw&&(s=s.add(i)),r&uw&&(o=o.add(i)),i=i.double(),n>>=uw,r>>=uw;return{p1:s,p2:o}}function y6e(t,e,n,r){FIt(n,t),zIt(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Q5e(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=m9(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const w=r[m],y=Number(w>>BigInt(f)&l);u[y]=u[y].add(n[m])}let p=o;for(let m=u.length-1,w=o;m>0;m--)w=w.add(u[m]),p=p.add(w);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function w6e(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return DIt(e),e}else return jf(t,{isLE:n})}function v6e(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>W3))throw new Error(`CURVE.${c} must be positive bigint`)}const i=w6e(e.p,n.Fp,r),s=w6e(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jm=BigInt(0),Xs=BigInt(1),IV=BigInt(2),qIt=BigInt(8);function HIt(t,e,n,r){const i=t.sqr(n),s=t.sqr(r),o=t.add(t.mul(e.a,i),s),a=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(o,a)}function VIt(t,e={}){const n=v6e("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;y9(e,{},{uvRatio:"function"});const a=IV<<BigInt(i.BYTES*8)-Xs,c=w=>r.create(w),l=e.uvRatio||((w,y)=>{try{return{isValid:!0,value:r.sqrt(r.div(w,y))}}catch{return{isValid:!1,value:jm}}});if(!HIt(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function u(w,y,b=!1){const v=b?Xs:jm;return EV("coordinate "+w,y,v,a),y}function d(w){if(!(w instanceof p))throw new Error("ExtendedPoint expected")}const h=BT((w,y)=>{const{X:b,Y:v,Z:E}=w,_=w.is0();y==null&&(y=_?qIt:r.inv(E));const T=c(b*y),I=c(v*y),R=r.mul(E,y);if(_)return{x:jm,y:Xs};if(R!==Xs)throw new Error("invZ was invalid");return{x:T,y:I}}),f=BT(w=>{const{a:y,d:b}=s;if(w.is0())throw new Error("bad point: ZERO");const{X:v,Y:E,Z:_,T}=w,I=c(v*v),R=c(E*E),S=c(_*_),B=c(S*S),j=c(I*y),U=c(S*c(j+R)),M=c(B+c(b*c(I*R)));if(U!==M)throw new Error("bad point: equation left != right (1)");const C=c(v*E),x=c(_*T);if(C!==x)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(y,b,v,E){this.X=u("x",y),this.Y=u("y",b),this.Z=u("z",v,!0),this.T=u("t",E),Object.freeze(this)}static CURVE(){return s}static fromAffine(y){if(y instanceof p)throw new Error("extended point not allowed");const{x:b,y:v}=y||{};return u("x",b),u("y",v),new p(b,v,Xs,c(b*v))}static fromBytes(y,b=!1){const v=r.BYTES,{a:E,d:_}=s;y=J5e(hh(y,v,"point")),cw(b,"zip215");const T=J5e(y),I=y[v-1];T[v-1]=I&-129;const R=g9(T),S=b?a:r.ORDER;EV("point.y",R,jm,S);const B=c(R*R),j=c(B-Xs),U=c(_*B-E);let{isValid:M,value:C}=l(j,U);if(!M)throw new Error("bad point: invalid y coordinate");const x=(C&Xs)===Xs,A=(I&128)!==0;if(!b&&C===jm&&A)throw new Error("bad point: x=0 and x_0=1");return A!==x&&(C=c(-C)),p.fromAffine({x:C,y:R})}static fromHex(y,b=!1){return p.fromBytes(Ui("point",y),b)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(y=8,b=!0){return m.createCache(this,y),b||this.multiply(IV),this}assertValidity(){f(this)}equals(y){d(y);const{X:b,Y:v,Z:E}=this,{X:_,Y:T,Z:I}=y,R=c(b*I),S=c(_*E),B=c(v*I),j=c(T*E);return R===S&&B===j}is0(){return this.equals(p.ZERO)}negate(){return new p(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:y}=s,{X:b,Y:v,Z:E}=this,_=c(b*b),T=c(v*v),I=c(IV*c(E*E)),R=c(y*_),S=b+v,B=c(c(S*S)-_-T),j=R+T,U=j-I,M=R-T,C=c(B*U),x=c(j*M),A=c(B*M),N=c(U*j);return new p(C,x,N,A)}add(y){d(y);const{a:b,d:v}=s,{X:E,Y:_,Z:T,T:I}=this,{X:R,Y:S,Z:B,T:j}=y,U=c(E*R),M=c(_*S),C=c(I*v*j),x=c(T*B),A=c((E+_)*(R+S)-U-M),N=x-C,O=x+C,P=c(M-b*U),D=c(A*N),L=c(O*P),$=c(A*P),q=c(N*O);return new p(D,L,q,$)}subtract(y){return this.add(y.negate())}multiply(y){if(!i.isValidNot0(y))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:b,f:v}=m.cached(this,y,E=>dw(p,E));return dw(p,[b,v])[0]}multiplyUnsafe(y,b=p.ZERO){if(!i.isValid(y))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return y===jm?p.ZERO:this.is0()||y===Xs?this:m.unsafe(this,y,v=>dw(p,v),b)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return m.unsafe(this,s.n).is0()}toAffine(y){return h(this,y)}clearCofactor(){return o===Xs?this:this.multiplyUnsafe(o)}toBytes(){const{x:y,y:b}=this.toAffine(),v=r.toBytes(b);return v[v.length-1]|=y&Xs?128:0,v}toHex(){return xg(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(y){return dw(p,y)}static msm(y,b){return y6e(p,i,y,b)}_setWindowSize(y){this.precompute(y)}toRawBytes(){return this.toBytes()}}p.BASE=new p(s.Gx,s.Gy,Xs,c(s.Gx*s.Gy)),p.ZERO=new p(jm,Xs,Xs,jm),p.Fp=r,p.Fn=i;const m=new m6e(p,i.BITS);return p.BASE.precompute(8),p}function KIt(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');y9(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=t,a=n.randomBytes||A4,c=n.adjustScalarBytes||(S=>S),l=n.domain||((S,B,j)=>{if(cw(j,"phflag"),B.length||j)throw new Error("Contexts/pre-hash are not supported");return S});function u(S){return o.create(g9(S))}function d(S){const B=v.secretKey;S=Ui("private key",S,B);const j=Ui("hashed private key",e(S),2*B),U=c(j.slice(0,B)),M=j.slice(B,2*B),C=u(U);return{head:U,prefix:M,scalar:C}}function h(S){const{head:B,prefix:j,scalar:U}=d(S),M=i.multiply(U),C=M.toBytes();return{head:B,prefix:j,scalar:U,point:M,pointBytes:C}}function f(S){return h(S).pointBytes}function p(S=Uint8Array.of(),...B){const j=Eu(...B);return u(e(l(j,Ui("context",S),!!r)))}function m(S,B,j={}){S=Ui("message",S),r&&(S=r(S));const{prefix:U,scalar:M,pointBytes:C}=h(B),x=p(j.context,U,S),A=i.multiply(x).toBytes(),N=p(j.context,A,C,S),O=o.create(x+N*M);if(!o.isValid(O))throw new Error("sign failed: invalid s");const P=Eu(A,o.toBytes(O));return hh(P,v.signature,"result")}const w={zip215:!0};function y(S,B,j,U=w){const{context:M,zip215:C}=U,x=v.signature;S=Ui("signature",S,x),B=Ui("message",B),j=Ui("publicKey",j,v.publicKey),C!==void 0&&cw(C,"zip215"),r&&(B=r(B));const A=x/2,N=S.subarray(0,A),O=g9(S.subarray(A,x));let P,D,L;try{P=t.fromBytes(j,C),D=t.fromBytes(N,C),L=i.multiplyUnsafe(O)}catch{return!1}if(!C&&P.isSmallOrder())return!1;const $=p(M,D.toBytes(),P.toBytes(),B);return D.add(P.multiplyUnsafe($)).subtract(L).clearCofactor().is0()}const b=s.BYTES,v={secretKey:b,publicKey:b,signature:2*b,seed:b};function E(S=a(v.seed)){return hh(S,v.seed,"seed")}function _(S){const B=R.randomSecretKey(S);return{secretKey:B,publicKey:f(B)}}function T(S){return C4(S)&&S.length===o.BYTES}function I(S,B){try{return!!t.fromBytes(S,B)}catch{return!1}}const R={getExtendedPublicKey:h,randomSecretKey:E,isValidSecretKey:T,isValidPublicKey:I,toMontgomery(S){const{y:B}=t.fromBytes(S),j=v.publicKey,U=j===32;if(!U&&j!==57)throw new Error("only defined for 25519 and 448");const M=U?s.div(Xs+B,Xs-B):s.div(B-Xs,B+Xs);return s.toBytes(M)},toMontgomerySecret(S){const B=v.secretKey;hh(S,B);const j=e(S.subarray(0,B));return c(j).subarray(0,B)},randomPrivateKey:E,precompute(S=8,B=t.BASE){return B.precompute(S,!1)}};return Object.freeze({keygen:_,getPublicKey:f,sign:m,verify:y,utils:R,Point:t,lengths:v})}function GIt(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=jf(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:s}}function ZIt(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function YIt(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=GIt(t),s=VIt(e,n),o=KIt(s,r,i);return ZIt(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JIt=BigInt(1),b6e=BigInt(2);BigInt(3);const QIt=BigInt(5),XIt=BigInt(8),kV=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),x6e={p:kV,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:XIt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ekt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=kV,a=t*t%s*t%s,c=Fi(a,b6e,s)*a%s,l=Fi(c,JIt,s)*t%s,u=Fi(l,QIt,s)*l%s,d=Fi(u,e,s)*u%s,h=Fi(d,n,s)*d%s,f=Fi(h,r,s)*h%s,p=Fi(f,i,s)*f%s,m=Fi(p,i,s)*f%s,w=Fi(m,e,s)*u%s;return{pow_p_5_8:Fi(w,b6e,s)*t%s,b2:a}}function tkt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const E6e=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function nkt(t,e){const n=kV,r=xs(e*e*e,n),i=xs(r*r*e,n),s=ekt(t*i).pow_p_5_8;let o=xs(t*r*s,n);const a=xs(e*o*o,n),c=o,l=xs(o*E6e,n),u=a===t,d=a===xs(-t,n),h=a===xs(-t*E6e,n);return u&&(o=c),(d||h)&&(o=l),jIt(o,n)&&(o=xs(-o,n)),{isValid:u||d,value:o}}const rkt=jf(x6e.p,{isLE:!0}),ikt={...x6e,Fp:rkt,hash:ore,adjustScalarBytes:tkt,uvRatio:nkt},w9=YIt(ikt);var $V={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=En,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=r(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})($V,$V.exports);var C6e=$V.exports,LT=C6e.Buffer;function skt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=LT.from(f)),!LT.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var p=0,m=0,w=0,y=f.length;w!==y&&f[w]===0;)w++,p++;for(var b=(y-w)*l+1>>>0,v=new Uint8Array(b);w!==y;){for(var E=f[w],_=0,T=b-1;(E!==0||_<m)&&T!==-1;T--,_++)E+=256*v[T]>>>0,v[T]=E%o>>>0,E=E/o>>>0;if(E!==0)throw new Error("Non-zero carry");m=_,w++}for(var I=b-m;I!==b&&v[I]===0;)I++;for(var R=a.repeat(p);I<b;++I)R+=t.charAt(v[I]);return R}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return LT.alloc(0);for(var p=0,m=0,w=0;f[p]===a;)m++,p++;for(var y=(f.length-p)*c+1>>>0,b=new Uint8Array(y);p<f.length;){var v=f.charCodeAt(p);if(v>255)return;var E=e[v];if(E===255)return;for(var _=0,T=y-1;(E!==0||_<w)&&T!==-1;T--,_++)E+=o*b[T]>>>0,b[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,p++}for(var I=y-w;I!==y&&b[I]===0;)I++;var R=LT.allocUnsafe(m+(y-I));R.fill(0,0,m);for(var S=m;I!==y;)R[S++]=b[I++];return R}function h(f){var p=d(f);if(p)return p;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:h}}var okt=skt,akt=okt,ckt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",lkt=akt(ckt);const nc=Hi(lkt);var Mo={},UT=C6e.Buffer;function ukt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=UT.from(f)),!UT.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var p=0,m=0,w=0,y=f.length;w!==y&&f[w]===0;)w++,p++;for(var b=(y-w)*l+1>>>0,v=new Uint8Array(b);w!==y;){for(var E=f[w],_=0,T=b-1;(E!==0||_<m)&&T!==-1;T--,_++)E+=256*v[T]>>>0,v[T]=E%o>>>0,E=E/o>>>0;if(E!==0)throw new Error("Non-zero carry");m=_,w++}for(var I=b-m;I!==b&&v[I]===0;)I++;for(var R=a.repeat(p);I<b;++I)R+=t.charAt(v[I]);return R}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return UT.alloc(0);for(var p=0,m=0,w=0;f[p]===a;)m++,p++;for(var y=(f.length-p)*c+1>>>0,b=new Uint8Array(y);p<f.length;){var v=f.charCodeAt(p);if(v>255)return;var E=e[v];if(E===255)return;for(var _=0,T=y-1;(E!==0||_<w)&&T!==-1;T--,_++)E+=o*b[T]>>>0,b[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");w=_,p++}for(var I=y-w;I!==y&&b[I]===0;)I++;var R=UT.allocUnsafe(m+(y-I));R.fill(0,0,m);for(var S=m;I!==y;)R[S++]=b[I++];return R}function h(f){var p=d(f);if(p)return p;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:h}}var dkt=ukt,hkt=dkt,fkt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pkt=hkt(fkt);function v0(t,e,n){return e<=t&&t<=n}function FT(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function gkt(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function mkt(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var zT=-1;function TV(t){this.tokens=[].slice.call(t)}TV.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():zT},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var q3=-1;function PV(t,e){if(t)throw TypeError("Decoder error");return e||65533}var WT="utf-8";function qT(t,e){if(!(this instanceof qT))return new qT(t,e);if(t=t!==void 0?String(t).toLowerCase():WT,t!==WT)throw new Error("Encoding not supported. Only utf-8 is supported");e=FT(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}qT.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=FT(n),this._streaming||(this._decoder=new ykt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new TV(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==q3);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===q3)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),mkt(s)}};function HT(t,e){if(!(this instanceof HT))return new HT(t,e);if(t=t!==void 0?String(t).toLowerCase():WT,t!==WT)throw new Error("Encoding not supported. Only utf-8 is supported");e=FT(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}HT.prototype={encode:function(e,n){e=e?String(e):"",n=FT(n),this._streaming||(this._encoder=new wkt(this._options)),this._streaming=!!n.stream;for(var r=[],i=new TV(gkt(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==q3);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==q3;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function ykt(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===zT&&i!==0)return i=0,PV(e);if(c===zT)return q3;if(i===0){if(v0(c,0,127))return c;if(v0(c,194,223))i=1,n=c-192;else if(v0(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,n=c-224;else if(v0(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,n=c-240;else return PV(e);return n=n<<6*i,null}if(!v0(c,s,o))return n=i=r=0,s=128,o=191,a.prepend(c),PV(e);if(s=128,o=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var l=n;return n=i=r=0,l}}function wkt(t){t.fatal,this.handler=function(e,n){if(n===zT)return q3;if(v0(n,0,127))return n;var r,i;v0(n,128,2047)?(r=1,i=192):v0(n,2048,65535)?(r=2,i=224):v0(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const vkt=xv(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:qT,TextEncoder:HT},Symbol.toStringTag,{value:"Module"})));var bkt=Jn&&Jn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xkt=Jn&&Jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bf=Jn&&Jn.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ekt=Jn&&Jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&bkt(e,t,n);return xkt(e,t),e},_6e=Jn&&Jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mo,"__esModule",{value:!0});var A6e=Mo.deserializeUnchecked=P6e=Mo.deserialize=T6e=Mo.serialize=Mo.BinaryReader=Mo.BinaryWriter=Mo.BorshError=Mo.baseDecode=Mo.baseEncode=void 0;const Bm=_6e(Ooe),S6e=_6e(pkt),Ckt=Ekt(vkt),_kt=typeof TextDecoder!="function"?Ckt.TextDecoder:TextDecoder,Akt=new _kt("utf-8",{fatal:!0});function Skt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),S6e.default.encode(Buffer.from(t))}Mo.baseEncode=Skt;function Ikt(t){return Buffer.from(S6e.default.decode(t))}Mo.baseDecode=Ikt;const NV=1024;class rc extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Mo.BorshError=rc;class I6e{constructor(){this.buf=Buffer.alloc(NV),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(NV)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Bm.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(NV)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Mo.BinaryWriter=I6e;function Df(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new rc("Reached the end of buffer when deserializing")}throw s}}}class Yl{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Bm.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Bm.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Bm.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Bm.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new rc(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return Akt.decode(n)}catch(r){throw new rc(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Bf([Df],Yl.prototype,"readU8",null),Bf([Df],Yl.prototype,"readU16",null),Bf([Df],Yl.prototype,"readU32",null),Bf([Df],Yl.prototype,"readU64",null),Bf([Df],Yl.prototype,"readU128",null),Bf([Df],Yl.prototype,"readU256",null),Bf([Df],Yl.prototype,"readU512",null),Bf([Df],Yl.prototype,"readString",null),Bf([Df],Yl.prototype,"readFixedArray",null),Bf([Df],Yl.prototype,"readArray",null),Mo.BinaryReader=Yl;function k6e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function hw(t,e,n,r,i){try{if(typeof r=="string")i[`write${k6e(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new rc(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new rc(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)hw(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{hw(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),hw(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{hw(t,e,o,r.key,i),hw(t,e,s,r.value,i)});break}default:throw new rc(`FieldType ${r} unrecognized`)}else $6e(t,n,i)}catch(s){throw s instanceof rc&&s.addToFieldPath(e),s}}function $6e(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new rc(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{hw(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),hw(t,o,e[o],a,n);break}}}else throw new rc(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function kkt(t,e,n=I6e){const r=new n;return $6e(t,e,r),r.toArray()}var T6e=Mo.serialize=kkt;function fw(t,e,n,r){try{if(typeof n=="string")return r[`read${k6e(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(fw(t,null,n[0],r));return i}else return r.readArray(()=>fw(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?fw(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=fw(t,e,n.key,r),c=fw(t,e,n.value,r);i.set(a,c)}return i}return OV(t,n,r)}catch(i){throw i instanceof rc&&i.addToFieldPath(e),i}}function OV(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new rc(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=fw(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new rc(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=fw(t,s,o,n);return new e({[s]:a})}throw new rc(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function $kt(t,e,n,r=Yl){const i=new r(n),s=OV(t,e,i);if(i.offset<n.length)throw new rc(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var P6e=Mo.deserialize=$kt;function Tkt(t,e,n,r=Yl){const i=new r(n);return OV(t,e,i)}A6e=Mo.deserializeUnchecked=Tkt;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.s16=Ae.s8=Ae.nu64be=Ae.u48be=Ae.u40be=Ae.u32be=Ae.u24be=Ae.u16be=jo=Ae.nu64=Ae.u48=Ae.u40=Vt=Ae.u32=Ae.u24=sd=Ae.u16=pr=Ae.u8=gw=Ae.offset=Ae.greedy=Ae.Constant=Ae.UTF8=Ae.CString=Ae.Blob=Ae.Boolean=Ae.BitField=Ae.BitStructure=Ae.VariantLayout=Ae.Union=Ae.UnionLayoutDiscriminator=Ae.UnionDiscriminator=Ae.Structure=Ae.Sequence=Ae.DoubleBE=Ae.Double=Ae.FloatBE=Ae.Float=Ae.NearInt64BE=Ae.NearInt64=Ae.NearUInt64BE=Ae.NearUInt64=Ae.IntBE=Ae.Int=Ae.UIntBE=Ae.UInt=Ae.OffsetLayout=Ae.GreedyCount=Ae.ExternalLayout=Ae.bindConstructorLayout=Ae.nameWithProperty=Ae.Layout=Ae.uint8ArrayToBuffer=Ae.checkUint8Array=void 0,Ae.constant=Ae.utf8=Ae.cstr=fi=Ae.blob=Ae.unionLayoutDiscriminator=Ae.union=ic=Ae.seq=Ae.bits=jt=Ae.struct=Ae.f64be=Ae.f64=Ae.f32be=Ae.f32=Ae.ns64be=Ae.s48be=Ae.s40be=Ae.s32be=Ae.s24be=Ae.s16be=Jl=Ae.ns64=Ae.s48=Ae.s40=Ae.s32=Ae.s24=void 0;const RV=En;function H3(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ae.checkUint8Array=H3;function rr(t){return H3(t),RV.Buffer.from(t.buffer,t.byteOffset,t.length)}Ae.uint8ArrayToBuffer=rr;class kr{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Ae.Layout=kr;function MV(t,e){return e.property?t+"["+e.property+"]":t}Ae.nameWithProperty=MV;function Pkt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof kr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Ae.bindConstructorLayout=Pkt;class Jc extends kr{isCount(){throw new Error("ExternalLayout is abstract")}}Ae.ExternalLayout=Jc;class N6e extends Jc{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){H3(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Ae.GreedyCount=N6e;class jV extends Jc{constructor(e,n=0,r){if(!(e instanceof kr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof id||this.layout instanceof fh}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Ae.OffsetLayout=jV;class id extends kr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rr(e).readUIntLE(n,this.span)}encode(e,n,r=0){return rr(n).writeUIntLE(e,r,this.span),this.span}}Ae.UInt=id;class fh extends kr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rr(e).readUIntBE(n,this.span)}encode(e,n,r=0){return rr(n).writeUIntBE(e,r,this.span),this.span}}Ae.UIntBE=fh;class pw extends kr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rr(e).readIntLE(n,this.span)}encode(e,n,r=0){return rr(n).writeIntLE(e,r,this.span),this.span}}Ae.Int=pw;class V3 extends kr{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return rr(e).readIntBE(n,this.span)}encode(e,n,r=0){return rr(n).writeIntBE(e,r,this.span),this.span}}Ae.IntBE=V3;const BV=Math.pow(2,32);function VT(t){const e=Math.floor(t/BV),n=t-e*BV;return{hi32:e,lo32:n}}function KT(t,e){return t*BV+e}class O6e extends kr{constructor(e){super(8,e)}decode(e,n=0){const r=rr(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return KT(s,i)}encode(e,n,r=0){const i=VT(e),s=rr(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}Ae.NearUInt64=O6e;class R6e extends kr{constructor(e){super(8,e)}decode(e,n=0){const r=rr(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return KT(i,s)}encode(e,n,r=0){const i=VT(e),s=rr(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Ae.NearUInt64BE=R6e;class M6e extends kr{constructor(e){super(8,e)}decode(e,n=0){const r=rr(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return KT(s,i)}encode(e,n,r=0){const i=VT(e),s=rr(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}Ae.NearInt64=M6e;class j6e extends kr{constructor(e){super(8,e)}decode(e,n=0){const r=rr(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return KT(i,s)}encode(e,n,r=0){const i=VT(e),s=rr(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Ae.NearInt64BE=j6e;class B6e extends kr{constructor(e){super(4,e)}decode(e,n=0){return rr(e).readFloatLE(n)}encode(e,n,r=0){return rr(n).writeFloatLE(e,r),4}}Ae.Float=B6e;class D6e extends kr{constructor(e){super(4,e)}decode(e,n=0){return rr(e).readFloatBE(n)}encode(e,n,r=0){return rr(n).writeFloatBE(e,r),4}}Ae.FloatBE=D6e;class L6e extends kr{constructor(e){super(8,e)}decode(e,n=0){return rr(e).readDoubleLE(n)}encode(e,n,r=0){return rr(n).writeDoubleLE(e,r),8}}Ae.Double=L6e;class U6e extends kr{constructor(e){super(8,e)}decode(e,n=0){return rr(e).readDoubleBE(n)}encode(e,n,r=0){return rr(n).writeDoubleBE(e,r),8}}Ae.DoubleBE=U6e;class F6e extends kr{constructor(e,n,r){if(!(e instanceof kr))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Jc&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Jc)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Jc&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Jc&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Jc&&this.count.encode(e.length,n,r),s}}Ae.Sequence=F6e;class z6e extends kr{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof kr,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){H3(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(o=a.encode(l,n,r),0>c&&(c=a.getSpan(n,r)))}s=r,r+=c}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Ae.Structure=z6e;class DV{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Ae.UnionDiscriminator=DV;class GT extends DV{constructor(e,n){if(!(e instanceof Jc&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Ae.UnionLayoutDiscriminator=GT;class LV extends kr{constructor(e,n,r){let i;if(e instanceof id||e instanceof fh)i=new GT(new jV(e));else if(e instanceof Jc&&e.isCount())i=new GT(e);else if(e instanceof DV)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof kr))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof id||e instanceof fh)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof id||e instanceof fh,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new W6e(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Ae.Union=LV;class W6e extends kr{constructor(e,n,r,i){if(!(e instanceof LV))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof kr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Ae.VariantLayout=W6e;function K3(t){return 0>t&&(t+=4294967296),t}class UV extends kr{constructor(e,n,r){if(!(e instanceof id||e instanceof fh))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=K3(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new FV(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new q6e(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Ae.BitStructure=UV;class FV{constructor(e,n,r){if(!(e instanceof UV))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=K3(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return K3(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==K3(e&this.valueMask))throw new TypeError(MV("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=K3(e<<this.start);this.container._packedSetValue(K3(n&~this.wordMask)|r)}}Ae.BitField=FV;let q6e=class extends FV{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ae.Boolean=q6e;let H6e=class extends kr{constructor(e,n){if(!(e instanceof Jc&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Jc||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),rr(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Jc&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(MV("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=rr(e);return rr(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Jc&&this.length.encode(i,n,r),i}};Ae.Blob=H6e;class V6e extends kr{constructor(e){super(-1,e)}getSpan(e,n=0){H3(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return rr(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=RV.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=rr(n);return i.copy(o,r),o[r+s]=0,s+1}}Ae.CString=V6e;class K6e extends kr{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return H3(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return rr(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=RV.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(rr(n),r),s}}Ae.UTF8=K6e;class G6e extends kr{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Ae.Constant=G6e,Ae.greedy=(t,e)=>new N6e(t,e);var gw=Ae.offset=(t,e,n)=>new jV(t,e,n),pr=Ae.u8=t=>new id(1,t),sd=Ae.u16=t=>new id(2,t);Ae.u24=t=>new id(3,t);var Vt=Ae.u32=t=>new id(4,t);Ae.u40=t=>new id(5,t),Ae.u48=t=>new id(6,t);var jo=Ae.nu64=t=>new O6e(t);Ae.u16be=t=>new fh(2,t),Ae.u24be=t=>new fh(3,t),Ae.u32be=t=>new fh(4,t),Ae.u40be=t=>new fh(5,t),Ae.u48be=t=>new fh(6,t),Ae.nu64be=t=>new R6e(t),Ae.s8=t=>new pw(1,t),Ae.s16=t=>new pw(2,t),Ae.s24=t=>new pw(3,t),Ae.s32=t=>new pw(4,t),Ae.s40=t=>new pw(5,t),Ae.s48=t=>new pw(6,t);var Jl=Ae.ns64=t=>new M6e(t);Ae.s16be=t=>new V3(2,t),Ae.s24be=t=>new V3(3,t),Ae.s32be=t=>new V3(4,t),Ae.s40be=t=>new V3(5,t),Ae.s48be=t=>new V3(6,t),Ae.ns64be=t=>new j6e(t),Ae.f32=t=>new B6e(t),Ae.f32be=t=>new D6e(t),Ae.f64=t=>new L6e(t),Ae.f64be=t=>new U6e(t);var jt=Ae.struct=(t,e,n)=>new z6e(t,e,n);Ae.bits=(t,e,n)=>new UV(t,e,n);var ic=Ae.seq=(t,e,n)=>new F6e(t,e,n);Ae.union=(t,e,n)=>new LV(t,e,n),Ae.unionLayoutDiscriminator=(t,e)=>new GT(t,e);var fi=Ae.blob=(t,e)=>new H6e(t,e);Ae.cstr=t=>new V6e(t),Ae.utf8=(t,e)=>new K6e(t,e),Ae.constant=(t,e)=>new G6e(t,e);class Nkt extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function Okt(t){return v9(t)&&typeof t[Symbol.iterator]=="function"}function v9(t){return typeof t=="object"&&t!=null}function ZT(t){return v9(t)&&!Array.isArray(t)}function ph(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Rkt(t){const{done:e,value:n}=t.next();return e?void 0:n}function Mkt(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ph(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Z6e(t,e,n,r){Okt(t)||(t=[t]);for(const i of t){const s=Mkt(i,e,n,r);s&&(yield s)}}function*zV(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,a)){const h=zV(u,d,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const f of h)f[0]?(c=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):s&&(u=f[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):v9(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}let Lf=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return Z6e(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return Z6e(u,l,this,c)}:this.refiner=()=>[]}assert(e,n){return jkt(e,this,n)}create(e,n){return b9(e,this,n)}is(e){return Y6e(e,this)}mask(e,n){return Bkt(e,this,n)}validate(e,n={}){return x9(e,this,n)}};function jkt(t,e,n){const r=x9(t,e,{message:n});if(r[0])throw r[0]}function b9(t,e,n){const r=x9(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Bkt(t,e,n){const r=x9(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Y6e(t,e){return!x9(t,e)[0]}function x9(t,e,n={}){const r=zV(t,e,n),i=Rkt(r);return i[0]?[new Nkt(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function mw(t,e){return new Lf({type:t,schema:null,validator:e})}function Dkt(){return mw("any",()=>!0)}function Ct(t){return new Lf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ph(e)}`}})}function Uf(){return mw("boolean",t=>typeof t=="boolean")}function WV(t){return mw("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ph(e)}`)}function $i(t){const e=ph(t),n=typeof t;return new Lf({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${ph(r)}`}})}function Lkt(){return mw("never",()=>!1)}function _t(t){return new Lf({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Ce(){return mw("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ph(t)}`)}function qt(t){return new Lf({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function J6e(t,e){return new Lf({type:"record",schema:null,*entries(n){if(v9(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return ZT(n)||`Expected an object, but received: ${ph(n)}`},coercer(n){return ZT(n)?{...n}:n}})}function tt(){return mw("string",t=>typeof t=="string"||`Expected a string, but received: ${ph(t)}`)}function qV(t){const e=Lkt();return new Lf({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ph(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Ue(t){const e=Object.keys(t);return new Lf({type:"type",schema:t,*entries(n){if(v9(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return ZT(n)||`Expected an object, but received: ${ph(n)}`},coercer(n){return ZT(n)?{...n}:n}})}function sc(t){const e=t.map(n=>n.type).join(" | ");return new Lf({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=zV(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ph(n)}`,...i]}})}function G3(){return mw("unknown",()=>!0)}function E9(t,e,n){return new Lf({...t,coercer:(r,i)=>Y6e(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}const Q6e=xv(tKe),Ukt=Q6e.v4;var Fkt=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Ukt()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};const zkt=Q6e.v4,Wkt=Fkt,YT=function(t,e){if(!(this instanceof YT))return new YT(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return zkt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};YT.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const l=typeof r=="function";try{s=Wkt(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l){r(u);return}throw u}if(!l)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(l){r(l);return}return this.callServer(c,function(l,u){i._parseResponse(l,u,r)}),s},YT.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e){n();return}let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){n(i);return}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};n(null,r.filter(i),r.filter(s));return}else{n(null,r.error,r.result);return}n(null,r)};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X6e=(t,e)=>(t+(t>=0?e:-e)/e4e)/e;function qkt(t,e,n){const[[r,i],[s,o]]=e,a=X6e(o*t,n),c=X6e(-i*t,n);let l=t-a*r-c*s,u=-a*i-c*o;const d=l<x0,h=u<x0;d&&(l=-l),h&&(u=-u);const f=m9(Math.ceil(Q5e(n)/2))+Z3;if(l<x0||l>=f||u<x0||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function HV(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function VV(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return cw(n.lowS,"lowS"),cw(n.prehash,"prehash"),n.format!==void 0&&HV(n.format),n}const b0={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=b0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=MT(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?MT(i.length/2|128):"";return MT(t)+s+i+e},decode(t,e){const{Err:n}=b0;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=b0;if(t<x0)throw new e("integer: negative integers are not allowed");let n=MT(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=b0;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jT(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=b0,i=Ui("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=b0,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},x0=BigInt(0),Z3=BigInt(1),e4e=BigInt(2),JT=BigInt(3),Hkt=BigInt(4);function Y3(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ui("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Vkt(t,e={}){const n=v6e("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;y9(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=n4e(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(U,M,C){const{x,y:A}=M.toAffine(),N=r.toBytes(x);if(cw(C,"isCompressed"),C){u();const O=!r.isOdd(A);return Eu(t4e(O),N)}else return Eu(Uint8Array.of(4),N,r.toBytes(A))}function h(U){hh(U,void 0,"Point");const{publicKey:M,publicKeyUncompressed:C}=l,x=U.length,A=U[0],N=U.subarray(1);if(x===M&&(A===2||A===3)){const O=r.fromBytes(N);if(!r.isValid(O))throw new Error("bad point: is not on curve, wrong x");const P=m(O);let D;try{D=r.sqrt(P)}catch(q){const V=q instanceof Error?": "+q.message:"";throw new Error("bad point: is not on curve, sqrt error"+V)}u();const L=r.isOdd(D);return(A&1)===1!==L&&(D=r.neg(D)),{x:O,y:D}}else if(x===C&&A===4){const O=r.BYTES,P=r.fromBytes(N.subarray(0,O)),D=r.fromBytes(N.subarray(O,O*2));if(!w(P,D))throw new Error("bad point: is not on curve");return{x:P,y:D}}else throw new Error(`bad point: got length ${x}, expected compressed=${M} or uncompressed=${C}`)}const f=e.toBytes||d,p=e.fromBytes||h;function m(U){const M=r.sqr(U),C=r.mul(M,U);return r.add(r.add(C,r.mul(U,s.a)),s.b)}function w(U,M){const C=r.sqr(M),x=m(U);return r.eql(C,x)}if(!w(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const y=r.mul(r.pow(s.a,JT),Hkt),b=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(y,b)))throw new Error("bad curve params: a or b");function v(U,M,C=!1){if(!r.isValid(M)||C&&r.is0(M))throw new Error(`bad point coordinate ${U}`);return M}function E(U){if(!(U instanceof S))throw new Error("ProjectivePoint expected")}function _(U){if(!c||!c.basises)throw new Error("no endo");return qkt(U,c.basises,i.ORDER)}const T=BT((U,M)=>{const{X:C,Y:x,Z:A}=U;if(r.eql(A,r.ONE))return{x:C,y:x};const N=U.is0();M==null&&(M=N?r.ONE:r.inv(A));const O=r.mul(C,M),P=r.mul(x,M),D=r.mul(A,M);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(D,r.ONE))throw new Error("invZ was invalid");return{x:O,y:P}}),I=BT(U=>{if(U.is0()){if(e.allowInfinityPoint&&!r.is0(U.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:C}=U.toAffine();if(!r.isValid(M)||!r.isValid(C))throw new Error("bad point: x or y not field elements");if(!w(M,C))throw new Error("bad point: equation left != right");if(!U.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(U,M,C,x,A){return C=new S(r.mul(C.X,U),C.Y,C.Z),M=DT(x,M),C=DT(A,C),M.add(C)}class S{constructor(M,C,x){this.X=v("x",M),this.Y=v("y",C,!0),this.Z=v("z",x),Object.freeze(this)}static CURVE(){return s}static fromAffine(M){const{x:C,y:x}=M||{};if(!M||!r.isValid(C)||!r.isValid(x))throw new Error("invalid affine point");if(M instanceof S)throw new Error("projective point not allowed");return r.is0(C)&&r.is0(x)?S.ZERO:new S(C,x,r.ONE)}static fromBytes(M){const C=S.fromAffine(p(hh(M,void 0,"point")));return C.assertValidity(),C}static fromHex(M){return S.fromBytes(Ui("pointHex",M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,C=!0){return j.createCache(this,M),C||this.multiply(JT),this}assertValidity(){I(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){E(M);const{X:C,Y:x,Z:A}=this,{X:N,Y:O,Z:P}=M,D=r.eql(r.mul(C,P),r.mul(N,A)),L=r.eql(r.mul(x,P),r.mul(O,A));return D&&L}negate(){return new S(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:C}=s,x=r.mul(C,JT),{X:A,Y:N,Z:O}=this;let P=r.ZERO,D=r.ZERO,L=r.ZERO,$=r.mul(A,A),q=r.mul(N,N),V=r.mul(O,O),F=r.mul(A,N);return F=r.add(F,F),L=r.mul(A,O),L=r.add(L,L),P=r.mul(M,L),D=r.mul(x,V),D=r.add(P,D),P=r.sub(q,D),D=r.add(q,D),D=r.mul(P,D),P=r.mul(F,P),L=r.mul(x,L),V=r.mul(M,V),F=r.sub($,V),F=r.mul(M,F),F=r.add(F,L),L=r.add($,$),$=r.add(L,$),$=r.add($,V),$=r.mul($,F),D=r.add(D,$),V=r.mul(N,O),V=r.add(V,V),$=r.mul(V,F),P=r.sub(P,$),L=r.mul(V,q),L=r.add(L,L),L=r.add(L,L),new S(P,D,L)}add(M){E(M);const{X:C,Y:x,Z:A}=this,{X:N,Y:O,Z:P}=M;let D=r.ZERO,L=r.ZERO,$=r.ZERO;const q=s.a,V=r.mul(s.b,JT);let F=r.mul(C,N),Z=r.mul(x,O),X=r.mul(A,P),Y=r.add(C,x),te=r.add(N,O);Y=r.mul(Y,te),te=r.add(F,Z),Y=r.sub(Y,te),te=r.add(C,A);let fe=r.add(N,P);return te=r.mul(te,fe),fe=r.add(F,X),te=r.sub(te,fe),fe=r.add(x,A),D=r.add(O,P),fe=r.mul(fe,D),D=r.add(Z,X),fe=r.sub(fe,D),$=r.mul(q,te),D=r.mul(V,X),$=r.add(D,$),D=r.sub(Z,$),$=r.add(Z,$),L=r.mul(D,$),Z=r.add(F,F),Z=r.add(Z,F),X=r.mul(q,X),te=r.mul(V,te),Z=r.add(Z,X),X=r.sub(F,X),X=r.mul(q,X),te=r.add(te,X),F=r.mul(Z,te),L=r.add(L,F),F=r.mul(fe,te),D=r.mul(Y,D),D=r.sub(D,F),F=r.mul(Y,Z),$=r.mul(fe,$),$=r.add($,F),new S(D,L,$)}subtract(M){return this.add(M.negate())}is0(){return this.equals(S.ZERO)}multiply(M){const{endo:C}=e;if(!i.isValidNot0(M))throw new Error("invalid scalar: out of range");let x,A;const N=O=>j.cached(this,O,P=>dw(S,P));if(C){const{k1neg:O,k1:P,k2neg:D,k2:L}=_(M),{p:$,f:q}=N(P),{p:V,f:F}=N(L);A=q.add(F),x=R(C.beta,$,V,O,D)}else{const{p:O,f:P}=N(M);x=O,A=P}return dw(S,[x,A])[0]}multiplyUnsafe(M){const{endo:C}=e,x=this;if(!i.isValid(M))throw new Error("invalid scalar: out of range");if(M===x0||x.is0())return S.ZERO;if(M===Z3)return x;if(j.hasCache(this))return this.multiply(M);if(C){const{k1neg:A,k1:N,k2neg:O,k2:P}=_(M),{p1:D,p2:L}=WIt(S,x,N,P);return R(C.beta,D,L,A,O)}else return j.unsafe(x,M)}multiplyAndAddUnsafe(M,C,x){const A=this.multiplyUnsafe(C).add(M.multiplyUnsafe(x));return A.is0()?void 0:A}toAffine(M){return T(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return o===Z3?!0:M?M(S,this):j.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=e;return o===Z3?this:M?M(S,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(M=!0){return cw(M,"isCompressed"),this.assertValidity(),f(S,this,M)}toHex(M=!0){return xg(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(M=!0){return this.toBytes(M)}_setWindowSize(M){this.precompute(M)}static normalizeZ(M){return dw(S,M)}static msm(M,C){return y6e(S,i,M,C)}static fromPrivateKey(M){return S.BASE.multiply(Y3(i,M))}}S.BASE=new S(s.Gx,s.Gy,r.ONE),S.ZERO=new S(r.ZERO,r.ONE,r.ZERO),S.Fp=r,S.Fn=i;const B=i.BITS,j=new m6e(S,e.endo?Math.ceil(B/2):B);return S.BASE.precompute(8),S}function t4e(t){return Uint8Array.of(t?2:3)}function n4e(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Kkt(t,e={}){const{Fn:n}=t,r=e.randomBytes||A4,i=Object.assign(n4e(t.Fp,n),{seed:d6e(n.ORDER)});function s(f){try{return!!Y3(n,f)}catch{return!1}}function o(f,p){const{publicKey:m,publicKeyUncompressed:w}=i;try{const y=f.length;return p===!0&&y!==m||p===!1&&y!==w?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=r(i.seed)){return UIt(hh(f,i.seed,"seed"),n.ORDER)}function c(f,p=!0){return t.BASE.multiply(Y3(n,f)).toBytes(p)}function l(f){const p=a(f);return{secretKey:p,publicKey:c(p)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:p,publicKey:m,publicKeyUncompressed:w}=i;if(n.allowedLengths||p===m)return;const y=Ui("key",f).length;return y===m||y===w}function d(f,p,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const w=Y3(n,f);return t.fromHex(p).multiply(w).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:f=>Y3(n,f),precompute(f=8,p=t.BASE){return p.precompute(f,!1)}},lengths:i})}function Gkt(t,e,n={}){cne(e),y9(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||A4,i=n.hmac||((C,...x)=>IA(e,C,Eu(...x))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=Kkt(t,n),p={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function w(C){const x=a>>Z3;return C>x}function y(C,x){if(!o.isValidNot0(x))throw new Error(`invalid signature ${C}: out of range 1..Point.Fn.ORDER`);return x}function b(C,x){HV(x);const A=f.signature,N=x==="compact"?A:x==="recovered"?A+1:void 0;return hh(C,N,`${x} signature`)}class v{constructor(x,A,N){this.r=y("r",x),this.s=y("s",A),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(x,A=m){b(x,A);let N;if(A==="der"){const{r:L,s:$}=b0.toSig(hh(x));return new v(L,$)}A==="recovered"&&(N=x[0],A="compact",x=x.subarray(1));const O=o.BYTES,P=x.subarray(0,O),D=x.subarray(O,O*2);return new v(o.fromBytes(P),o.fromBytes(D),N)}static fromHex(x,A){return this.fromBytes(X_(x),A)}addRecoveryBit(x){return new v(this.r,this.s,x)}recoverPublicKey(x){const A=s.ORDER,{r:N,s:O,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(a*e4e<A&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=P===2||P===3?N+a:N;if(!s.isValid(L))throw new Error("recovery id 2 or 3 invalid");const $=s.toBytes(L),q=t.fromBytes(Eu(t4e((P&1)===0),$)),V=o.inv(L),F=_(Ui("msgHash",x)),Z=o.create(-F*V),X=o.create(O*V),Y=t.BASE.multiplyUnsafe(Z).add(q.multiplyUnsafe(X));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return w(this.s)}toBytes(x=m){if(HV(x),x==="der")return X_(b0.hexFromSig(this));const A=o.toBytes(this.r),N=o.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Eu(Uint8Array.of(this.recovery),A,N)}return Eu(A,N)}toHex(x){return xg(this.toBytes(x))}assertValidity(){}static fromCompact(x){return v.fromBytes(Ui("sig",x),"compact")}static fromDER(x){return v.fromBytes(Ui("sig",x),"der")}normalizeS(){return this.hasHighS()?new v(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return xg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return xg(this.toBytes("compact"))}}const E=n.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const A=jT(x),N=x.length*8-c;return N>0?A>>BigInt(N):A},_=n.bits2int_modN||function(x){return o.create(E(x))},T=m9(c);function I(C){return EV("num < 2^"+c,C,x0,T),o.toBytes(C)}function R(C,x){return hh(C,void 0,"message"),x?hh(e(C),void 0,"prehashed message"):C}function S(C,x,A){if(["recovered","canonical"].some(Z=>Z in A))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:O,extraEntropy:P}=VV(A,p);C=R(C,O);const D=_(C),L=Y3(o,x),$=[I(L),I(D)];if(P!=null&&P!==!1){const Z=P===!0?r(f.secretKey):P;$.push(Ui("extraEntropy",Z))}const q=Eu(...$),V=D;function F(Z){const X=E(Z);if(!o.isValidNot0(X))return;const Y=o.inv(X),te=t.BASE.multiply(X).toAffine(),fe=o.create(te.x);if(fe===x0)return;const he=o.create(Y*o.create(V+fe*L));if(he===x0)return;let pe=(te.x===fe?0:2)|Number(te.y&Z3),be=he;return N&&w(he)&&(be=o.neg(he),pe^=1),new v(fe,be,pe)}return{seed:q,k2sig:F}}function B(C,x,A={}){C=Ui("message",C);const{seed:N,k2sig:O}=S(C,x,A);return TIt(e.outputLen,o.BYTES,i)(N,O)}function j(C){let x;const A=typeof C=="string"||C4(C),N=!A&&C!==null&&typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!A&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)x=new v(C.r,C.s);else if(A){try{x=v.fromBytes(Ui("sig",C),"der")}catch(O){if(!(O instanceof b0.Err))throw O}if(!x)try{x=v.fromBytes(Ui("sig",C),"compact")}catch{return!1}}return x||!1}function U(C,x,A,N={}){const{lowS:O,prehash:P,format:D}=VV(N,p);if(A=Ui("publicKey",A),x=R(Ui("message",x),P),"strict"in N)throw new Error("options.strict was renamed to lowS");const L=D===void 0?j(C):v.fromBytes(Ui("sig",C),D);if(L===!1)return!1;try{const $=t.fromBytes(A);if(O&&L.hasHighS())return!1;const{r:q,s:V}=L,F=_(x),Z=o.inv(V),X=o.create(F*Z),Y=o.create(q*Z),te=t.BASE.multiplyUnsafe(X).add($.multiplyUnsafe(Y));return te.is0()?!1:o.create(te.x)===q}catch{return!1}}function M(C,x,A={}){const{prehash:N}=VV(A,p);return x=R(x,N),v.fromBytes(C,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:B,verify:U,recoverPublicKey:M,Signature:v,hash:e})}function Zkt(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=jf(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Ykt(t){const{CURVE:e,curveOpts:n}=Zkt(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function Jkt(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,l6e(n.Fn.ORDER,n.Fn.BITS))})}function Qkt(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=Ykt(t),s=Vkt(e,n),o=Gkt(s,r,i);return Jkt(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function QT(t,e){const n=r=>Qkt({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KV={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Xkt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},r4e=BigInt(2);function e$t(t){const e=KV.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Fi(u,n,e)*u%e,h=Fi(d,n,e)*u%e,f=Fi(h,r4e,e)*l%e,p=Fi(f,i,e)*f%e,m=Fi(p,s,e)*p%e,w=Fi(m,a,e)*m%e,y=Fi(w,c,e)*w%e,b=Fi(y,a,e)*m%e,v=Fi(b,n,e)*u%e,E=Fi(v,o,e)*p%e,_=Fi(E,r,e)*l%e,T=Fi(_,r4e,e);if(!GV.eql(GV.sqr(T),t))throw new Error("Cannot find square root");return T}const GV=jf(KV.p,{sqrt:e$t}),t$t=QT({...KV,Fp:GV,lowS:!0,endo:Xkt},O4);w9.utils.randomPrivateKey,w9.getPublicKey;function i4e(t){try{return w9.ExtendedPoint.fromHex(t),!0}catch{return!1}}const s4e=(t,e)=>w9.sign(t,e.slice(0,32)),n$t=w9.verify,ZV=t=>En.Buffer.isBuffer(t)?t:t instanceof Uint8Array?En.Buffer.from(t.buffer,t.byteOffset,t.byteLength):En.Buffer.from(t);class r$t{constructor(e){Object.assign(this,e)}encode(){return En.Buffer.from(T6e(XT,this))}static decode(e){return P6e(XT,this,e)}static decodeUnchecked(e){return A6e(XT,this,e)}}const XT=new Map;var o4e;const i$t=32,Dm=32;function s$t(t){return t._bn!==void 0}let a4e=1;class ln extends r$t{constructor(e){if(super({}),this._bn=void 0,s$t(e))this._bn=e._bn;else{if(typeof e=="string"){const n=nc.decode(e);if(n.length!=Dm)throw new Error("Invalid public key input");this._bn=new en(n)}else this._bn=new en(e);if(this._bn.byteLength()>Dm)throw new Error("Invalid public key input")}}static unique(){const e=new ln(a4e);return a4e+=1,new ln(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return nc.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(En.Buffer);if(e.length===Dm)return e;const n=En.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=En.Buffer.concat([e.toBuffer(),En.Buffer.from(n),r.toBuffer()]),s=R4(i);return new ln(s)}static createProgramAddressSync(e,n){let r=En.Buffer.alloc(0);e.forEach(function(s){if(s.length>i$t)throw new TypeError("Max seed length exceeded");r=En.Buffer.concat([r,ZV(s)])}),r=En.Buffer.concat([r,n.toBuffer(),En.Buffer.from("ProgramDerivedAddress")]);const i=R4(r);if(i4e(i))throw new Error("Invalid seeds, address must fall off the curve");return new ln(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(En.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new ln(e);return i4e(n.toBytes())}}o4e=ln,ln.default=new o4e("11111111111111111111111111111111"),XT.set(ln,{kind:"struct",fields:[["_bn","u256"]]}),new ln("BPFLoader1111111111111111111111111111111111");const J3=1232,YV=127,eP=64;class tP{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Mn=(t="publicKey")=>fi(32,t),o$t=(t="signature")=>fi(64,t),Q3=(t="string")=>{const e=jt([Vt("length"),Vt("lengthPadding"),fi(gw(Vt(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:En.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>Vt().span+Vt().span+En.Buffer.from(s,"utf8").length,i},a$t=(t="authorized")=>jt([Mn("staker"),Mn("withdrawer")],t),c$t=(t="lockup")=>jt([Jl("unixTimestamp"),Jl("epoch"),Mn("custodian")],t),l$t=(t="voteInit")=>jt([Mn("nodePubkey"),Mn("authorizedVoter"),Mn("authorizedWithdrawer"),pr("commission")],t),u$t=(t="voteAuthorizeWithSeedArgs")=>jt([Vt("voteAuthorizationType"),Mn("currentAuthorityDerivedKeyOwnerPubkey"),Q3("currentAuthorityDerivedKeySeed"),Mn("newAuthorized")],t);function Ql(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Xl(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Ls(t,e){if(!t)throw new Error(e||"Assertion failed")}class nP{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new nP(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ls(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Ls(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Ls(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new ln(c)),...r.map(([c])=>new ln(c)),...i.map(([c])=>new ln(c)),...s.map(([c])=>new ln(c))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new ln(s),c=e.findIndex(l=>l.equals(a));c>=0&&(Ls(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const c4e="Reached end of buffer unexpectedly";function E0(t){if(t.length===0)throw new Error(c4e);return t.shift()}function eu(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(c4e);return t.splice(...e)}class X3{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new ln(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:nc.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new tP(this.staticAccountKeys)}static compile(e){const n=nP.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new tP(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:nc.encode(a.data)}));return new X3({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Xl(n,e);const r=this.instructions.map(d=>{const{accounts:h,programIdIndex:f}=d,p=Array.from(nc.decode(d.data));let m=[];Xl(m,h.length);let w=[];return Xl(w,p.length),{programIdIndex:f,keyIndicesCount:En.Buffer.from(m),keyIndices:h,dataLength:En.Buffer.from(w),data:p}});let i=[];Xl(i,r.length);let s=En.Buffer.alloc(J3);En.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const f=jt([pr("programIdIndex"),fi(d.keyIndicesCount.length,"keyIndicesCount"),ic(pr("keyIndex"),d.keyIndices.length,"keyIndices"),fi(d.dataLength.length,"dataLength"),ic(pr("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=f}),s=s.slice(0,o);const a=jt([fi(1,"numRequiredSignatures"),fi(1,"numReadonlySignedAccounts"),fi(1,"numReadonlyUnsignedAccounts"),fi(n.length,"keyCount"),ic(Mn("key"),e,"keys"),Mn("recentBlockhash")]),c={numRequiredSignatures:En.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:En.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:En.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:En.Buffer.from(n),keys:this.accountKeys.map(d=>ZV(d.toBytes())),recentBlockhash:nc.decode(this.recentBlockhash)};let l=En.Buffer.alloc(2048);const u=a.encode(c,l);return s.copy(l,u),l.slice(0,u+s.length)}static from(e){let n=[...e];const r=E0(n);if(r!==(r&YV))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=E0(n),s=E0(n),o=Ql(n);let a=[];for(let h=0;h<o;h++){const f=eu(n,0,Dm);a.push(new ln(En.Buffer.from(f)))}const c=eu(n,0,Dm),l=Ql(n);let u=[];for(let h=0;h<l;h++){const f=E0(n),p=Ql(n),m=eu(n,0,p),w=Ql(n),y=eu(n,0,w),b=nc.encode(En.Buffer.from(y));u.push({programIdIndex:f,accounts:m,data:b})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:nc.encode(En.Buffer.from(c)),accountKeys:a,instructions:u};return new X3(d)}}class rP{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new tP(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=nP.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const d=n.extractTableLookup(u);if(d!==void 0){const[h,{writable:f,readonly:p}]=d;r.push(h),i.writable.push(...f),i.readonly.push(...p)}}const[o,a]=n.getMessageComponents(),l=new tP(a,i).compileInstructions(e.instructions);return new rP({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const e=Array();Xl(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Xl(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Xl(s,this.addressTableLookups.length);const o=jt([pr("prefix"),jt([pr("numRequiredSignatures"),pr("numReadonlySignedAccounts"),pr("numReadonlyUnsignedAccounts")],"header"),fi(e.length,"staticAccountKeysLength"),ic(Mn(),this.staticAccountKeys.length,"staticAccountKeys"),Mn("recentBlockhash"),fi(r.length,"instructionsLength"),fi(n.length,"serializedInstructions"),fi(s.length,"addressTableLookupsLength"),fi(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(J3),l=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:nc.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0;const n=new Uint8Array(J3);for(const r of this.compiledInstructions){const i=Array();Xl(i,r.accountKeyIndexes.length);const s=Array();Xl(s,r.data.length);const o=jt([pr("programIdIndex"),fi(i.length,"encodedAccountKeyIndexesLength"),ic(pr(),r.accountKeyIndexes.length,"accountKeyIndexes"),fi(s.length,"encodedDataLength"),fi(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(J3);for(const r of this.addressTableLookups){const i=Array();Xl(i,r.writableIndexes.length);const s=Array();Xl(s,r.readonlyIndexes.length);const o=jt([Mn("accountKey"),fi(i.length,"encodedWritableIndexesLength"),ic(pr(),r.writableIndexes.length,"writableIndexes"),fi(s.length,"encodedReadonlyIndexesLength"),ic(pr(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=E0(n),i=r&YV;Ls(r!==i,"Expected versioned message but received legacy message");const s=i;Ls(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:E0(n),numReadonlySignedAccounts:E0(n),numReadonlyUnsignedAccounts:E0(n)},a=[],c=Ql(n);for(let p=0;p<c;p++)a.push(new ln(eu(n,0,Dm)));const l=nc.encode(eu(n,0,Dm)),u=Ql(n),d=[];for(let p=0;p<u;p++){const m=E0(n),w=Ql(n),y=eu(n,0,w),b=Ql(n),v=new Uint8Array(eu(n,0,b));d.push({programIdIndex:m,accountKeyIndexes:y,data:v})}const h=Ql(n),f=[];for(let p=0;p<h;p++){const m=new ln(eu(n,0,Dm)),w=Ql(n),y=eu(n,0,w),b=Ql(n),v=eu(n,0,b);f.push({accountKey:m,writableIndexes:y,readonlyIndexes:v})}return new rP({header:o,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:d,addressTableLookups:f})}}const l4e={deserializeMessageVersion(t){const e=t[0],n=e&YV;return n===e?"legacy":n},deserialize:t=>{const e=l4e.deserializeMessageVersion(t);if(e==="legacy")return X3.from(t);if(e===0)return rP.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},d$t=En.Buffer.alloc(eP).fill(0);class u4e{constructor(e){this.keys=void 0,this.programId=void 0,this.data=En.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class C9{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new u4e(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<n.length;m++)if(n[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);const i=[],s=[];n.forEach(m=>{m.keys.forEach(y=>{s.push({...y})});const w=m.programId.toString();i.includes(w)||i.push(w)}),i.forEach(m=>{s.push({pubkey:new ln(m),isSigner:!1,isWritable:!1})});const o=[];s.forEach(m=>{const w=m.pubkey.toString(),y=o.findIndex(b=>b.pubkey.toString()===w);y>-1?(o[y].isWritable=o[y].isWritable||m.isWritable,o[y].isSigner=o[y].isSigner||m.isSigner):o.push(m)}),o.sort(function(m,w){if(m.isSigner!==w.isSigner)return m.isSigner?-1:1;if(m.isWritable!==w.isWritable)return m.isWritable?-1:1;const y={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",y)});const a=o.findIndex(m=>m.pubkey.equals(r));if(a>-1){const[m]=o.splice(a,1);m.isSigner=!0,m.isWritable=!0,o.unshift(m)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const m of this.signatures){const w=o.findIndex(y=>y.pubkey.equals(m.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let c=0,l=0,u=0;const d=[],h=[];o.forEach(({pubkey:m,isSigner:w,isWritable:y})=>{w?(d.push(m.toString()),c+=1,y||(l+=1)):(h.push(m.toString()),y||(u+=1))});const f=d.concat(h),p=n.map(m=>{const{data:w,programId:y}=m;return{programIdIndex:f.indexOf(y.toString()),accounts:m.keys.map(b=>f.indexOf(b.pubkey.toString())),data:nc.encode(w)}});return p.forEach(m=>{Ls(m.programIdIndex>=0),m.accounts.forEach(w=>Ls(w>=0))}),new X3({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=s4e(r,i.secretKey);this._addSignature(i.publicKey,ZV(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Ls(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=En.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):n$t(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Xl(r,n.length);const i=r.length+n.length*64+e.length,s=En.Buffer.alloc(i);return Ls(n.length<256),En.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Ls(o.length===64,"signature has invalid length"),En.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Ls(s.length<=J3,`Transaction too large: ${s.length} > ${J3}`),s}get keys(){return Ls(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ls(this.instructions.length===1),this.instructions[0].programId}get data(){return Ls(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Ql(n);let i=[];for(let s=0;s<r;s++){const o=eu(n,0,eP);i.push(nc.encode(En.Buffer.from(o)))}return C9.populate(X3.from(n),i)}static populate(e,n=[]){const r=new C9;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==nc.encode(d$t)?null:nc.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new u4e({keys:s,programId:e.accountKeys[i.programIdIndex],data:nc.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class iP{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Ls(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(eP));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Xl(n,this.signatures.length);const r=jt([fi(n.length,"encodedSignaturesLength"),ic(o$t(),this.signatures.length,"signatures"),fi(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Ql(n);for(let o=0;o<i;o++)r.push(new Uint8Array(eu(n,0,eP)));const s=l4e.deserialize(new Uint8Array(n));return new iP(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));Ls(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=s4e(n,i.secretKey)}}addSignature(e,n){Ls(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ls(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}new ln("SysvarC1ock11111111111111111111111111111111"),new ln("SysvarEpochSchedu1e111111111111111111111111"),new ln("Sysvar1nstructions1111111111111111111111111"),new ln("SysvarRecentB1ockHashes11111111111111111111"),new ln("SysvarRent111111111111111111111111111111111"),new ln("SysvarRewards111111111111111111111111111111"),new ln("SysvarS1otHashes111111111111111111111111111"),new ln("SysvarS1otHistory11111111111111111111111111"),new ln("SysvarStakeHistory1111111111111111111111111");const h$t=jo("lamportsPerSignature");jt([Vt("version"),Vt("state"),Mn("authorizedPubkey"),Mn("nonce"),jt([h$t],"feeCalculator")]).span;function e5(t){const e=fi(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=bIt();return i.decode=(o,a)=>{const c=n(o,a);return s.decode(c)},i.encode=(o,a,c)=>{const l=s.encode(o);return r(l,a,c)},i}Object.freeze({Create:{index:0,layout:jt([Vt("instruction"),Jl("lamports"),Jl("space"),Mn("programId")])},Assign:{index:1,layout:jt([Vt("instruction"),Mn("programId")])},Transfer:{index:2,layout:jt([Vt("instruction"),e5("lamports")])},CreateWithSeed:{index:3,layout:jt([Vt("instruction"),Mn("base"),Q3("seed"),Jl("lamports"),Jl("space"),Mn("programId")])},AdvanceNonceAccount:{index:4,layout:jt([Vt("instruction")])},WithdrawNonceAccount:{index:5,layout:jt([Vt("instruction"),Jl("lamports")])},InitializeNonceAccount:{index:6,layout:jt([Vt("instruction"),Mn("authorized")])},AuthorizeNonceAccount:{index:7,layout:jt([Vt("instruction"),Mn("authorized")])},Allocate:{index:8,layout:jt([Vt("instruction"),Jl("space")])},AllocateWithSeed:{index:9,layout:jt([Vt("instruction"),Mn("base"),Q3("seed"),Jl("space"),Mn("programId")])},AssignWithSeed:{index:10,layout:jt([Vt("instruction"),Mn("base"),Q3("seed"),Mn("programId")])},TransferWithSeed:{index:11,layout:jt([Vt("instruction"),e5("lamports"),Q3("seed"),Mn("programId")])},UpgradeNonceAccount:{index:12,layout:jt([Vt("instruction")])}}),new ln("11111111111111111111111111111111"),new ln("BPFLoader2111111111111111111111111111111111"),jt([Vt("typeIndex"),e5("deactivationSlot"),jo("lastExtendedSlot"),pr("lastExtendedStartIndex"),pr(),ic(Mn(),gw(pr(),-1),"authority")]);const zi=E9(WV(ln),tt(),t=>new ln(t)),d4e=qV([tt(),$i("base64")]),JV=E9(WV(En.Buffer),d4e,t=>En.Buffer.from(t[0],"base64"));function h4e(t){return sc([Ue({jsonrpc:$i("2.0"),id:tt(),result:t}),Ue({jsonrpc:$i("2.0"),id:tt(),error:Ue({code:G3(),message:tt(),data:qt(Dkt())})})])}const f$t=h4e(G3());function Xr(t){return E9(h4e(t),f$t,e=>"error"in e?e:{...e,result:b9(e.result,t)})}function gh(t){return Xr(Ue({context:Ue({slot:Ce()}),value:t}))}function sP(t){return Ue({context:Ue({slot:Ce()}),value:t})}const p$t=Ue({foundation:Ce(),foundationTerm:Ce(),initial:Ce(),taper:Ce(),terminal:Ce()});Xr(Ct(_t(Ue({epoch:Ce(),effectiveSlot:Ce(),amount:Ce(),postBalance:Ce(),commission:qt(_t(Ce()))}))));const g$t=Ct(Ue({slot:Ce(),prioritizationFee:Ce()})),m$t=Ue({total:Ce(),validator:Ce(),foundation:Ce(),epoch:Ce()}),y$t=Ue({epoch:Ce(),slotIndex:Ce(),slotsInEpoch:Ce(),absoluteSlot:Ce(),blockHeight:qt(Ce()),transactionCount:qt(Ce())}),w$t=Ue({slotsPerEpoch:Ce(),leaderScheduleSlotOffset:Ce(),warmup:Uf(),firstNormalEpoch:Ce(),firstNormalSlot:Ce()}),v$t=J6e(tt(),Ct(Ce())),yw=_t(sc([Ue({}),tt()])),b$t=Ue({err:yw}),x$t=$i("receivedSignature");Ue({"solana-core":tt(),"feature-set":qt(Ce())});const E$t=Ue({program:tt(),programId:zi,parsed:G3()}),C$t=Ue({programId:zi,accounts:Ct(zi),data:tt()});gh(Ue({err:_t(sc([Ue({}),tt()])),logs:_t(Ct(tt())),accounts:qt(_t(Ct(_t(Ue({executable:Uf(),owner:tt(),lamports:Ce(),data:Ct(tt()),rentEpoch:qt(Ce())}))))),unitsConsumed:qt(Ce()),returnData:qt(_t(Ue({programId:tt(),data:qV([tt(),$i("base64")])}))),innerInstructions:qt(_t(Ct(Ue({index:Ce(),instructions:Ct(sc([E$t,C$t]))}))))})),gh(Ue({byIdentity:J6e(tt(),Ct(Ce())),range:Ue({firstSlot:Ce(),lastSlot:Ce()})})),Xr(p$t),Xr(m$t),Xr(g$t),Xr(y$t),Xr(w$t),Xr(v$t),Xr(Ce()),gh(Ue({total:Ce(),circulating:Ce(),nonCirculating:Ce(),nonCirculatingAccounts:Ct(zi)}));const _$t=Ue({amount:tt(),uiAmount:_t(Ce()),decimals:Ce(),uiAmountString:qt(tt())});gh(Ct(Ue({address:zi,amount:tt(),uiAmount:_t(Ce()),decimals:Ce(),uiAmountString:qt(tt())}))),gh(Ct(Ue({pubkey:zi,account:Ue({executable:Uf(),owner:zi,lamports:Ce(),data:JV,rentEpoch:Ce()})})));const QV=Ue({program:tt(),parsed:G3(),space:Ce()});gh(Ct(Ue({pubkey:zi,account:Ue({executable:Uf(),owner:zi,lamports:Ce(),data:QV,rentEpoch:Ce()})}))),gh(Ct(Ue({lamports:Ce(),address:zi})));const XV=Ue({executable:Uf(),owner:zi,lamports:Ce(),data:JV,rentEpoch:Ce()});Ue({pubkey:zi,account:XV});const A$t=E9(sc([WV(En.Buffer),QV]),sc([d4e,QV]),t=>Array.isArray(t)?b9(t,JV):t),S$t=Ue({executable:Uf(),owner:zi,lamports:Ce(),data:A$t,rentEpoch:Ce()});Ue({pubkey:zi,account:S$t}),Ue({state:sc([$i("active"),$i("inactive"),$i("activating"),$i("deactivating")]),active:Ce(),inactive:Ce()}),Xr(Ct(Ue({signature:tt(),slot:Ce(),err:yw,memo:_t(tt()),blockTime:qt(_t(Ce()))}))),Xr(Ct(Ue({signature:tt(),slot:Ce(),err:yw,memo:_t(tt()),blockTime:qt(_t(Ce()))}))),Ue({subscription:Ce(),result:sP(XV)});const I$t=Ue({pubkey:zi,account:XV});Ue({subscription:Ce(),result:sP(I$t)});const k$t=Ue({parent:Ce(),slot:Ce(),root:Ce()});Ue({subscription:Ce(),result:k$t});const $$t=sc([Ue({type:sc([$i("firstShredReceived"),$i("completed"),$i("optimisticConfirmation"),$i("root")]),slot:Ce(),timestamp:Ce()}),Ue({type:$i("createdBank"),parent:Ce(),slot:Ce(),timestamp:Ce()}),Ue({type:$i("frozen"),slot:Ce(),timestamp:Ce(),stats:Ue({numTransactionEntries:Ce(),numSuccessfulTransactions:Ce(),numFailedTransactions:Ce(),maxTransactionsPerEntry:Ce()})}),Ue({type:$i("dead"),slot:Ce(),timestamp:Ce(),err:tt()})]);Ue({subscription:Ce(),result:$$t}),Ue({subscription:Ce(),result:sP(sc([b$t,x$t]))}),Ue({subscription:Ce(),result:Ce()}),Ue({pubkey:tt(),gossip:_t(tt()),tpu:_t(tt()),rpc:_t(tt()),version:_t(tt())});const f4e=Ue({votePubkey:tt(),nodePubkey:tt(),activatedStake:Ce(),epochVoteAccount:Uf(),epochCredits:Ct(qV([Ce(),Ce(),Ce()])),commission:Ce(),lastVote:Ce(),rootSlot:_t(Ce())});Xr(Ue({current:Ct(f4e),delinquent:Ct(f4e)}));const T$t=sc([$i("processed"),$i("confirmed"),$i("finalized")]),P$t=Ue({slot:Ce(),confirmations:_t(Ce()),err:yw,confirmationStatus:qt(T$t)});gh(Ct(_t(P$t))),Xr(Ce());const p4e=Ue({accountKey:zi,writableIndexes:Ct(Ce()),readonlyIndexes:Ct(Ce())}),eK=Ue({signatures:Ct(tt()),message:Ue({accountKeys:Ct(tt()),header:Ue({numRequiredSignatures:Ce(),numReadonlySignedAccounts:Ce(),numReadonlyUnsignedAccounts:Ce()}),instructions:Ct(Ue({accounts:Ct(Ce()),data:tt(),programIdIndex:Ce()})),recentBlockhash:tt(),addressTableLookups:qt(Ct(p4e))})}),g4e=Ue({pubkey:zi,signer:Uf(),writable:Uf(),source:qt(sc([$i("transaction"),$i("lookupTable")]))}),m4e=Ue({accountKeys:Ct(g4e),signatures:Ct(tt())}),y4e=Ue({parsed:G3(),program:tt(),programId:zi}),w4e=Ue({accounts:Ct(zi),data:tt(),programId:zi}),N$t=sc([w4e,y4e]),O$t=sc([Ue({parsed:G3(),program:tt(),programId:tt()}),Ue({accounts:Ct(tt()),data:tt(),programId:tt()})]),v4e=E9(N$t,O$t,t=>"accounts"in t?b9(t,w4e):b9(t,y4e)),b4e=Ue({signatures:Ct(tt()),message:Ue({accountKeys:Ct(g4e),instructions:Ct(v4e),recentBlockhash:tt(),addressTableLookups:qt(_t(Ct(p4e)))})}),oP=Ue({accountIndex:Ce(),mint:tt(),owner:qt(tt()),programId:qt(tt()),uiTokenAmount:_$t}),x4e=Ue({writable:Ct(zi),readonly:Ct(zi)}),aP=Ue({err:yw,fee:Ce(),innerInstructions:qt(_t(Ct(Ue({index:Ce(),instructions:Ct(Ue({accounts:Ct(Ce()),data:tt(),programIdIndex:Ce()}))})))),preBalances:Ct(Ce()),postBalances:Ct(Ce()),logMessages:qt(_t(Ct(tt()))),preTokenBalances:qt(_t(Ct(oP))),postTokenBalances:qt(_t(Ct(oP))),loadedAddresses:qt(x4e),computeUnitsConsumed:qt(Ce()),costUnits:qt(Ce())}),tK=Ue({err:yw,fee:Ce(),innerInstructions:qt(_t(Ct(Ue({index:Ce(),instructions:Ct(v4e)})))),preBalances:Ct(Ce()),postBalances:Ct(Ce()),logMessages:qt(_t(Ct(tt()))),preTokenBalances:qt(_t(Ct(oP))),postTokenBalances:qt(_t(Ct(oP))),loadedAddresses:qt(x4e),computeUnitsConsumed:qt(Ce()),costUnits:qt(Ce())}),t5=sc([$i(0),$i("legacy")]),ww=Ue({pubkey:tt(),lamports:Ce(),postBalance:_t(Ce()),rewardType:_t(tt()),commission:qt(_t(Ce()))});Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),transactions:Ct(Ue({transaction:eK,meta:_t(aP),version:qt(t5)})),rewards:qt(Ct(ww)),blockTime:_t(Ce()),blockHeight:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),rewards:qt(Ct(ww)),blockTime:_t(Ce()),blockHeight:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),transactions:Ct(Ue({transaction:m4e,meta:_t(aP),version:qt(t5)})),rewards:qt(Ct(ww)),blockTime:_t(Ce()),blockHeight:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),transactions:Ct(Ue({transaction:b4e,meta:_t(tK),version:qt(t5)})),rewards:qt(Ct(ww)),blockTime:_t(Ce()),blockHeight:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),transactions:Ct(Ue({transaction:m4e,meta:_t(tK),version:qt(t5)})),rewards:qt(Ct(ww)),blockTime:_t(Ce()),blockHeight:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),rewards:qt(Ct(ww)),blockTime:_t(Ce()),blockHeight:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),transactions:Ct(Ue({transaction:eK,meta:_t(aP)})),rewards:qt(Ct(ww)),blockTime:_t(Ce())}))),Xr(_t(Ue({blockhash:tt(),previousBlockhash:tt(),parentSlot:Ce(),signatures:Ct(tt()),blockTime:_t(Ce())}))),Xr(_t(Ue({slot:Ce(),meta:_t(aP),blockTime:qt(_t(Ce())),transaction:eK,version:qt(t5)}))),Xr(_t(Ue({slot:Ce(),transaction:b4e,meta:_t(tK),blockTime:qt(_t(Ce())),version:qt(t5)}))),gh(Ue({blockhash:tt(),lastValidBlockHeight:Ce()})),gh(Uf());const R$t=Ue({slot:Ce(),numTransactions:Ce(),numSlots:Ce(),samplePeriodSecs:Ce()});Xr(Ct(R$t)),gh(_t(Ue({feeCalculator:Ue({lamportsPerSignature:Ce()})}))),Xr(tt()),Xr(tt());const M$t=Ue({err:yw,logs:Ct(tt()),signature:tt()});Ue({result:sP(M$t),subscription:Ce()}),Object.freeze({CreateLookupTable:{index:0,layout:jt([Vt("instruction"),e5("recentSlot"),pr("bumpSeed")])},FreezeLookupTable:{index:1,layout:jt([Vt("instruction")])},ExtendLookupTable:{index:2,layout:jt([Vt("instruction"),e5(),ic(Mn(),gw(Vt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:jt([Vt("instruction")])},CloseLookupTable:{index:4,layout:jt([Vt("instruction")])}}),new ln("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:jt([pr("instruction"),Vt("units"),Vt("additionalFee")])},RequestHeapFrame:{index:1,layout:jt([pr("instruction"),Vt("bytes")])},SetComputeUnitLimit:{index:2,layout:jt([pr("instruction"),Vt("units")])},SetComputeUnitPrice:{index:3,layout:jt([pr("instruction"),e5("microLamports")])}}),new ln("ComputeBudget111111111111111111111111111111"),jt([pr("numSignatures"),pr("padding"),sd("signatureOffset"),sd("signatureInstructionIndex"),sd("publicKeyOffset"),sd("publicKeyInstructionIndex"),sd("messageDataOffset"),sd("messageDataSize"),sd("messageInstructionIndex")]),new ln("Ed25519SigVerify111111111111111111111111111"),t$t.utils.isValidPrivateKey,jt([pr("numSignatures"),sd("signatureOffset"),pr("signatureInstructionIndex"),sd("ethAddressOffset"),pr("ethAddressInstructionIndex"),sd("messageDataOffset"),sd("messageDataSize"),pr("messageInstructionIndex"),fi(20,"ethAddress"),fi(64,"signature"),pr("recoveryId")]),new ln("KeccakSecp256k11111111111111111111111111111");var E4e;new ln("StakeConfig11111111111111111111111111111111");class C4e{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}E4e=C4e,C4e.default=new E4e(0,0,ln.default),Object.freeze({Initialize:{index:0,layout:jt([Vt("instruction"),a$t(),c$t()])},Authorize:{index:1,layout:jt([Vt("instruction"),Mn("newAuthorized"),Vt("stakeAuthorizationType")])},Delegate:{index:2,layout:jt([Vt("instruction")])},Split:{index:3,layout:jt([Vt("instruction"),Jl("lamports")])},Withdraw:{index:4,layout:jt([Vt("instruction"),Jl("lamports")])},Deactivate:{index:5,layout:jt([Vt("instruction")])},Merge:{index:7,layout:jt([Vt("instruction")])},AuthorizeWithSeed:{index:8,layout:jt([Vt("instruction"),Mn("newAuthorized"),Vt("stakeAuthorizationType"),Q3("authoritySeed"),Mn("authorityOwner")])}}),new ln("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:jt([Vt("instruction"),l$t()])},Authorize:{index:1,layout:jt([Vt("instruction"),Mn("newAuthorized"),Vt("voteAuthorizationType")])},Withdraw:{index:3,layout:jt([Vt("instruction"),Jl("lamports")])},UpdateValidatorIdentity:{index:4,layout:jt([Vt("instruction")])},AuthorizeWithSeed:{index:10,layout:jt([Vt("instruction"),u$t()])}}),new ln("Vote111111111111111111111111111111111111111"),new ln("Va1idator1nfo111111111111111111111111111111"),Ue({name:tt(),website:qt(tt()),details:qt(tt()),iconUrl:qt(tt()),keybaseUsername:qt(tt())}),new ln("Vote111111111111111111111111111111111111111"),jt([Mn("nodePubkey"),Mn("authorizedWithdrawer"),pr("commission"),jo(),ic(jt([jo("slot"),Vt("confirmationCount")]),gw(Vt(),-8),"votes"),pr("rootSlotValid"),jo("rootSlot"),jo(),ic(jt([jo("epoch"),Mn("authorizedVoter")]),gw(Vt(),-8),"authorizedVoters"),jt([ic(jt([Mn("authorizedPubkey"),jo("epochOfLastAuthorizedSwitch"),jo("targetEpoch")]),32,"buf"),jo("idx"),pr("isEmpty")],"priorVoters"),jo(),ic(jt([jo("epoch"),jo("credits"),jo("prevCredits")]),gw(Vt(),-8),"epochCredits"),jt([jo("slot"),jo("timestamp")],"lastTimestamp")]);const Lm="solana:signAndSendTransaction",nK="solana:signIn",_9="solana:signMessage",Bo="solana:signTransaction",_4e="standard:connect",A4e="standard:disconnect",S4e="standard:events";function j$t(t){return _4e in t.features&&S4e in t.features&&(Lm in t.features||Bo in t.features)}class Qc extends Error{constructor(e,n){super(e),this.error=n}}class B$t extends Qc{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class A9 extends Qc{constructor(){super(...arguments),this.name="WalletConfigError"}}class D$t extends Qc{constructor(){super(...arguments),this.name="WalletConnectionError"}}class L$t extends Qc{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class U$t extends Qc{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class n5 extends Qc{constructor(){super(...arguments),this.name="WalletAccountError"}}class F$t extends Qc{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class S9 extends Qc{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class I4e extends Qc{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class k4e extends Qc{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class z$t extends Qc{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class $4e extends Qc{constructor(){super(...arguments),this.name="WalletSignInError"}}var I9;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(I9||(I9={}));class W$t extends rf{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new S9;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function k9(t){return"version"in t}function rK(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const T4e="solana:mainnet",q$t="solana:devnet",H$t="solana:testnet",V$t="solana:localnet",K$t="https://api.mainnet-beta.solana.com";function G$t(t){return t.includes(K$t)?T4e:/\bdevnet\b/i.test(t)?q$t:/\btestnet\b/i.test(t)?H$t:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?V$t:T4e}function Z$t(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Bt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Es=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Do,Xc,vw,bw,xw,$9,cP,ir,lP,iK,uP,sK,T9,oK,P4e,N4e,O4e,R4e;class Y$t extends W$t{get name(){return Bt(this,ir,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Bt(this,ir,"f").icon}get readyState(){return Bt(this,lP,"f")}get publicKey(){return Bt(this,vw,"f")}get connecting(){return Bt(this,bw,"f")}get supportedTransactionVersions(){return Bt(this,cP,"f")}get wallet(){return Bt(this,ir,"f")}get standard(){return!0}constructor({wallet:e}){super(),Do.add(this),Xc.set(this,void 0),vw.set(this,void 0),bw.set(this,void 0),xw.set(this,void 0),$9.set(this,void 0),cP.set(this,void 0),ir.set(this,void 0),lP.set(this,typeof window>"u"||typeof document>"u"?I9.Unsupported:I9.Installed),oK.set(this,n=>{if("accounts"in n){const r=Bt(this,ir,"f").accounts[0];Bt(this,Xc,"f")&&!Bt(this,xw,"f")&&r!==Bt(this,Xc,"f")&&(r?Bt(this,Do,"m",uP).call(this,r):(this.emit("error",new L$t),Bt(this,Do,"m",sK).call(this)))}"features"in n&&Bt(this,Do,"m",T9).call(this)}),Es(this,ir,e,"f"),Es(this,Xc,null,"f"),Es(this,vw,null,"f"),Es(this,bw,!1,"f"),Es(this,xw,!1,"f"),Es(this,$9,Bt(this,ir,"f").features[S4e].on("change",Bt(this,oK,"f")),"f"),Bt(this,Do,"m",T9).call(this)}destroy(){Es(this,Xc,null,"f"),Es(this,vw,null,"f"),Es(this,bw,!1,"f"),Es(this,xw,!1,"f");const e=Bt(this,$9,"f");e&&(Es(this,$9,null,"f"),e())}async autoConnect(){return Bt(this,Do,"m",iK).call(this,{silent:!0})}async connect(){return Bt(this,Do,"m",iK).call(this)}async disconnect(){if(A4e in Bt(this,ir,"f").features)try{Es(this,xw,!0,"f"),await Bt(this,ir,"f").features[A4e].disconnect()}catch(e){this.emit("error",new U$t(e==null?void 0:e.message,e))}finally{Es(this,xw,!1,"f")}Bt(this,Do,"m",sK).call(this)}async sendTransaction(e,n,r={}){try{const i=Bt(this,Xc,"f");if(!i)throw new S9;let s;if(Lm in Bt(this,ir,"f").features)if(i.features.includes(Lm))s=Lm;else if(Bo in Bt(this,ir,"f").features&&i.features.includes(Bo))s=Bo;else throw new n5;else if(Bo in Bt(this,ir,"f").features){if(!i.features.includes(Bo))throw new n5;s=Bo}else throw new A9;const o=G$t(n.rpcEndpoint);if(!i.chains.includes(o))throw new I4e;try{const{signers:a,...c}=r;let l;if(k9(e)?(a!=null&&a.length&&e.sign(a),l=e.serialize()):(e=await this.prepareTransaction(e,n,c),a!=null&&a.length&&e.partialSign(...a),l=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Lm){const[u]=await Bt(this,ir,"f").features[Lm].signAndSendTransaction({account:i,chain:o,transaction:l,options:{preflightCommitment:rK(c.preflightCommitment||n.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return nm.encode(u.signature)}else{const[u]=await Bt(this,ir,"f").features[Bo].signTransaction({account:i,chain:o,transaction:l,options:{preflightCommitment:rK(c.preflightCommitment||n.commitment),minContextSlot:c.minContextSlot}});return await n.sendRawTransaction(u.signedTransaction,{...c,preflightCommitment:rK(c.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Qc?a:new I4e(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Xc=new WeakMap,vw=new WeakMap,bw=new WeakMap,xw=new WeakMap,$9=new WeakMap,cP=new WeakMap,ir=new WeakMap,lP=new WeakMap,oK=new WeakMap,Do=new WeakSet,iK=async function(e){try{if(this.connected||this.connecting)return;if(Bt(this,lP,"f")!==I9.Installed)throw new B$t;if(Es(this,bw,!0,"f"),!Bt(this,ir,"f").accounts.length)try{await Bt(this,ir,"f").features[_4e].connect(e)}catch(r){throw new D$t(r==null?void 0:r.message,r)}const n=Bt(this,ir,"f").accounts[0];if(!n)throw new n5;Bt(this,Do,"m",uP).call(this,n)}catch(n){throw this.emit("error",n),n}finally{Es(this,bw,!1,"f")}},uP=function(e){let n;try{n=new ln(e.address)}catch(r){throw new F$t(r==null?void 0:r.message,r)}Es(this,Xc,e,"f"),Es(this,vw,n,"f"),Bt(this,Do,"m",T9).call(this),this.emit("connect",n)},sK=function(){Es(this,Xc,null,"f"),Es(this,vw,null,"f"),Bt(this,Do,"m",T9).call(this),this.emit("disconnect")},T9=function(){var n,r;const e=Lm in Bt(this,ir,"f").features?Bt(this,ir,"f").features[Lm].supportedTransactionVersions:Bt(this,ir,"f").features[Bo].supportedTransactionVersions;Es(this,cP,Z$t(e,["legacy"])?null:new Set(e),"f"),Bo in Bt(this,ir,"f").features&&((n=Bt(this,Xc,"f"))!=null&&n.features.includes(Bo))?(this.signTransaction=Bt(this,Do,"m",P4e),this.signAllTransactions=Bt(this,Do,"m",N4e)):(delete this.signTransaction,delete this.signAllTransactions),_9 in Bt(this,ir,"f").features&&((r=Bt(this,Xc,"f"))!=null&&r.features.includes(_9))?this.signMessage=Bt(this,Do,"m",O4e):delete this.signMessage,nK in Bt(this,ir,"f").features?this.signIn=Bt(this,Do,"m",R4e):delete this.signIn},P4e=async function(e){try{const n=Bt(this,Xc,"f");if(!n)throw new S9;if(!(Bo in Bt(this,ir,"f").features))throw new A9;if(!n.features.includes(Bo))throw new n5;try{const i=(await Bt(this,ir,"f").features[Bo].signTransaction({account:n,transaction:k9(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return k9(e)?iP.deserialize(i):C9.from(i)}catch(r){throw r instanceof Qc?r:new k4e(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},N4e=async function(e){try{const n=Bt(this,Xc,"f");if(!n)throw new S9;if(!(Bo in Bt(this,ir,"f").features))throw new A9;if(!n.features.includes(Bo))throw new n5;try{const r=await Bt(this,ir,"f").features[Bo].signTransaction(...e.map(i=>({account:n,transaction:k9(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return k9(i)?iP.deserialize(o):C9.from(o)})}catch(r){throw new k4e(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},O4e=async function(e){try{const n=Bt(this,Xc,"f");if(!n)throw new S9;if(!(_9 in Bt(this,ir,"f").features))throw new A9;if(!n.features.includes(_9))throw new n5;try{return(await Bt(this,ir,"f").features[_9].signMessage({account:n,message:e}))[0].signature}catch(r){throw new z$t(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},R4e=async function(e={}){try{if(!(nK in Bt(this,ir,"f").features))throw new A9;let n;try{[n]=await Bt(this,ir,"f").features[nK].signIn(e)}catch(r){throw new $4e(r==null?void 0:r.message,r)}if(!n)throw new $4e;return Bt(this,Do,"m",uP).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};var J$t=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Q$t=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},dP;let P9;const hP=new Set;function X$t(t){N9=void 0,hP.add(t)}function eTt(t){N9=void 0,hP.delete(t)}const r5={};function tTt(){if(P9||(P9=Object.freeze({register:M4e,get:nTt,on:rTt}),typeof window>"u"))return P9;const t=Object.freeze({register:M4e});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new iTt(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return P9}function M4e(...t){var e;return t=t.filter(n=>!hP.has(n)),t.length?(t.forEach(n=>X$t(n)),(e=r5.register)==null||e.forEach(n=>j4e(()=>n(...t))),function(){var r;t.forEach(i=>eTt(i)),(r=r5.unregister)==null||r.forEach(i=>j4e(()=>i(...t)))}):()=>{}}let N9;function nTt(){return N9||(N9=[...hP]),N9}function rTt(t,e){var n;return(n=r5[t])!=null&&n.push(e)||(r5[t]=[e]),function(){var i;r5[t]=(i=r5[t])==null?void 0:i.filter(s=>e!==s)}}function j4e(t){try{t()}catch(e){console.error(e)}}class iTt extends Event{get detail(){return J$t(this,dP,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),dP.set(this,void 0),Q$t(this,dP,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}dP=new WeakMap;const sTt=t=>{let e,{get:n,on:r}=tTt(),i=(t==null?void 0:t.shouldAutoConnect)??!0,s=new Map,o=[];function a(...u){B4e(u).forEach(d=>!s.has(d.wallet)&&s.set(d.wallet,d)),o=Array.from(s.values()).map(d=>new G$(d,i)),e==null||e(o)}function c(...u){Array.from(s.keys()).forEach(d=>!u.includes(d)&&s.delete(d)),o=Array.from(s.values()).map(d=>new G$(d,i)),e==null||e(o)}let l=[r("register",a),r("unregister",c)];return B4e(n()).forEach(u=>!s.has(u.wallet)&&s.set(u.wallet,u)),o=Array.from(s.values()).map(u=>new G$(u,i)),{_setOnConnectorsUpdated:u=>{e=u},onMount:()=>{l[0]||(l[0]=r("register",a)),l[1]||(l[1]=r("unregister",c))},onUnmount:()=>{let u=l.pop();for(;u;)u(),u=l.pop()},get:()=>o}};let B4e=t=>t.filter(e=>j$t(e)&&!(e.features["privy:"]&&"isPrivyWallet"in e&&e.isPrivyWallet)).map(e=>new Y$t({wallet:e}));const D4e=["solana:mainnet","solana:devnet","solana:testnet"];function O9(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var oTt=0,mh="__private_"+oTt+++"__implementation";function od(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var aTt=0;function i5(t){return"__private_"+aTt+++"_"+t}var R9=i5("_address"),M9=i5("_publicKey"),j9=i5("_chains"),B9=i5("_features"),D9=i5("_label"),L9=i5("_icon");let cTt=class FAe{get address(){return od(this,R9)[R9]}get publicKey(){return od(this,M9)[M9].slice()}get chains(){return od(this,j9)[j9].slice()}get features(){return od(this,B9)[B9].slice()}get label(){return od(this,D9)[D9]}get icon(){return od(this,L9)[L9]}constructor({address:e,publicKey:n,label:r,icon:i}){Object.defineProperty(this,R9,{writable:!0,value:void 0}),Object.defineProperty(this,M9,{writable:!0,value:void 0}),Object.defineProperty(this,j9,{writable:!0,value:void 0}),Object.defineProperty(this,B9,{writable:!0,value:void 0}),Object.defineProperty(this,D9,{writable:!0,value:void 0}),Object.defineProperty(this,L9,{writable:!0,value:void 0}),od(this,R9)[R9]=e,od(this,M9)[M9]=n,od(this,j9)[j9]=D4e,od(this,D9)[D9]=r,od(this,L9)[L9]=i,od(this,B9)[B9]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===FAe&&Object.freeze(this)}};function hn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var lTt=0;function Sa(t){return"__private_"+lTt+++"_"+t}var tu=Sa("_listeners"),U9=Sa("_version"),F9=Sa("_name"),z9=Sa("_icon"),oc=Sa("_injection"),W9=Sa("_isPrivyWallet"),Ew=Sa("_accounts"),q9=Sa("_on"),Cw=Sa("_emit"),aK=Sa("_off"),_w=Sa("_connected"),H9=Sa("_connect"),V9=Sa("_disconnect"),K9=Sa("_signMessage"),G9=Sa("_signAndSendTransaction"),Z9=Sa("_signTransaction");function uTt(t,...e){var n;(n=hn(this,tu)[tu][t])==null||n.forEach(r=>r.apply(null,e))}function dTt(t,e){var n;hn(this,tu)[tu][t]=(n=hn(this,tu)[tu][t])==null?void 0:n.filter(r=>e!==r)}let hTt=new class extends rf{setImplementation(t){O9(this,mh)[mh]=t}async signMessage(t){return O9(this,mh)[mh].signMessage(t)}async signAndSendTransaction(t){return O9(this,mh)[mh].signAndSendTransaction(t)}async signTransaction(t){return O9(this,mh)[mh].signTransaction(t)}constructor(t){super(),Object.defineProperty(this,mh,{writable:!0,value:void 0}),O9(this,mh)[mh]=t}}({signTransaction:zg("signTransaction was not injected"),signAndSendTransaction:zg("signAndSendTransaction was not injected"),signMessage:zg("signMessage was not injected")});new class{get version(){return hn(this,U9)[U9]}get name(){return hn(this,F9)[F9]}get icon(){return hn(this,z9)[z9]}get chains(){return D4e.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:hn(this,H9)[H9]},"standard:disconnect":{version:"1.0.0",disconnect:hn(this,V9)[V9]},"standard:events":{version:"1.0.0",on:hn(this,q9)[q9]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:hn(this,G9)[G9]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:hn(this,Z9)[Z9]},"solana:signMessage":{version:"1.0.0",signMessage:hn(this,K9)[K9]},"privy:":{privy:{signMessage:hn(this,oc)[oc].signMessage,signTransaction:hn(this,oc)[oc].signTransaction,signAndSendTransaction:hn(this,oc)[oc].signAndSendTransaction}}}}get accounts(){return hn(this,Ew)[Ew].slice()}get isPrivyWallet(){return hn(this,W9)[W9]}constructor({name:t,icon:e,version:n,injection:r,wallets:i}){Object.defineProperty(this,Cw,{value:uTt}),Object.defineProperty(this,aK,{value:dTt}),Object.defineProperty(this,tu,{writable:!0,value:void 0}),Object.defineProperty(this,U9,{writable:!0,value:void 0}),Object.defineProperty(this,F9,{writable:!0,value:void 0}),Object.defineProperty(this,z9,{writable:!0,value:void 0}),Object.defineProperty(this,oc,{writable:!0,value:void 0}),Object.defineProperty(this,W9,{writable:!0,value:void 0}),Object.defineProperty(this,Ew,{writable:!0,value:void 0}),Object.defineProperty(this,q9,{writable:!0,value:void 0}),Object.defineProperty(this,_w,{writable:!0,value:void 0}),Object.defineProperty(this,H9,{writable:!0,value:void 0}),Object.defineProperty(this,V9,{writable:!0,value:void 0}),Object.defineProperty(this,K9,{writable:!0,value:void 0}),Object.defineProperty(this,G9,{writable:!0,value:void 0}),Object.defineProperty(this,Z9,{writable:!0,value:void 0}),hn(this,tu)[tu]={},hn(this,q9)[q9]=(s,o)=>{var a;return(a=hn(this,tu)[tu][s])!=null&&a.push(o)||(hn(this,tu)[tu][s]=[o]),()=>hn(this,aK)[aK](s,o)},hn(this,_w)[_w]=s=>{s!=null&&(hn(this,Ew)[Ew]=s.map(({address:o})=>new cTt({address:o,publicKey:Mat.decode(o)}))),hn(this,Cw)[Cw]("change",{accounts:this.accounts})},hn(this,H9)[H9]=async()=>(hn(this,Cw)[Cw]("change",{accounts:this.accounts}),{accounts:this.accounts}),hn(this,V9)[V9]=async()=>{hn(this,Cw)[Cw]("change",{accounts:this.accounts})},hn(this,K9)[K9]=async(...s)=>{let o=[];for(let{account:a,...c}of s){let{signature:l}=await hn(this,oc)[oc].signMessage({...c,address:a.address});o.push({signedMessage:c.message,signature:l})}return o},hn(this,G9)[G9]=async(...s)=>{let o=[];for(let{transaction:a,account:c,options:l,chain:u}of s){let{signature:d}=await hn(this,oc)[oc].signAndSendTransaction({transaction:a,address:c.address,chain:u||"solana:mainnet",options:l});o.push({signature:d})}return o},hn(this,Z9)[Z9]=async(...s)=>{let o=[];for(let{transaction:a,account:c,options:l,chain:u}of s){let{signedTransaction:d}=await hn(this,oc)[oc].signTransaction({transaction:a,address:c.address,chain:u||"solana:mainnet",options:l});o.push({signedTransaction:d})}return o},hn(this,F9)[F9]=t,hn(this,z9)[z9]=e,hn(this,U9)[U9]=n,hn(this,oc)[oc]=r,hn(this,Ew)[Ew]=[],hn(this,W9)[W9]=!0,r.on("accountChanged",hn(this,_w)[_w],this),hn(this,_w)[_w](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:hTt});let fP="cmkdyx5cg02hvlb0cexfoj8sj";console.log("Current origin:",window.location.origin),console.log("Current hostname:",window.location.hostname),fetch("/api/privy-config").then(t=>t.json()).then(t=>{fP=t.appId,console.log("Privy App ID loaded:",fP)}).catch(t=>{console.warn("Failed to fetch Privy config, using default:",t)});function fTt(){const{ready:t,authenticated:e,login:n,logout:r,connectWallet:i}=f9(),{wallets:s}=h0(),{wallets:o,connect:a}=D3();Ve.useEffect(()=>{console.log("Wallet state changed:",{ready:t,authenticated:e,walletCount:s.length,solanaWalletCount:o.length});const u=s.find(d=>d.chainType==="solana")||o[0];if(t&&u&&u.address){if(console.log("Found Solana wallet:",{address:u.address,walletClientType:u.walletClientType,chainType:u.chainType,isExternal:u.walletClientType==="phantom"||u.walletClientType==="solflare",authenticated:e}),window.userWalletAddress!==u.address){window.userWalletAddress=u.address,console.log(" Setting wallet address:",u.address),console.log(" Dispatching privy-wallet-connected event");const d=new CustomEvent("privy-wallet-connected",{detail:{address:u.address}});window.dispatchEvent(d),setTimeout(()=>{const h=document.getElementById("play-button"),f=document.getElementById("create-button");h&&(h.disabled=!1,h.style.opacity="1",h.style.cursor="pointer",console.log(" Enabled play button")),f&&(f.disabled=!1,f.style.opacity="1",f.style.cursor="pointer",console.log(" Enabled create button"))},100)}}else if(t&&e&&s.length>0){const d=s.filter(h=>h.chainType!=="solana");d.length>0&&console.warn("User authenticated but no Solana wallet found. Other wallets:",d.map(h=>({chainType:h.chainType,walletClientType:h.walletClientType})))}else t&&!e&&o.length===0&&s.length===0&&window.userWalletAddress&&(console.log("No wallets found and not authenticated, clearing wallet address"),window.userWalletAddress=null,window.dispatchEvent(new CustomEvent("privy-wallet-disconnected")))},[t,e,s,o]);const c=async()=>{var u;try{console.log(" Attempting to connect wallet..."),console.log("Current origin:",window.location.origin),console.log("Privy App ID:",fP),console.log("Current authenticated state:",e);const d=window.solana&&window.solana.isPhantom,h=window.solana&&window.solana.isSolflare;if((d||h)&&a){console.log(" Detected external Solana wallet, attempting direct connection to bypass SIWS issue...");try{console.log(" Step 1: Connecting Solana wallet directly (bypassing SIWS)..."),await a(),console.log(" Direct wallet connection successful"),await new Promise(y=>setTimeout(y,1500));const w=o[0]||s.find(y=>y.chainType==="solana");if(w&&w.address){console.log(" Solana wallet connected successfully:",w.address);return}else console.warn(" Wallet connection completed but wallet not detected yet, falling back to login modal")}catch(w){console.warn(" Direct wallet connection failed, falling back to login modal:",w)}}if(e){console.log(" User already authenticated, logging out first to clear session...");try{await r(),await new Promise(w=>setTimeout(w,500))}catch(w){console.warn("Logout error (may be fine):",w)}}console.log(" Opening Privy login modal...");const f=n(),p=new Promise((w,y)=>setTimeout(()=>y(new Error("Login timeout after 30 seconds")),3e4));await Promise.race([f,p]),console.log(" Login modal closed"),await new Promise(w=>setTimeout(w,1e3)),console.log("After login - authenticated:",e,"wallets:",s.length,"solanaWallets:",o.length);const m=s.find(w=>w.chainType==="solana")||o[0];m?console.log(" Solana wallet connected successfully:",m.address):e&&s.length>0?console.warn(" User authenticated but no Solana wallet. Available wallets:",s.map(w=>w.walletClientType)):e||console.warn(" Login completed but user not authenticated")}catch(d){console.error(" Error connecting wallet:",d),console.error("Error type:",(u=d==null?void 0:d.constructor)==null?void 0:u.name),console.error("Error message:",d==null?void 0:d.message),console.error("Error code:",d==null?void 0:d.code),console.error("Error name:",d==null?void 0:d.name),console.error("Error stack:",d==null?void 0:d.stack),d!=null&&d.response&&console.error("Error response:",d.response),d!=null&&d.data&&console.error("Error data:",d.data);try{const p={};Object.getOwnPropertyNames(d).forEach(m=>{try{p[m]=d[m]}catch{p[m]="[Unable to serialize]"}}),console.error("Full error details:",JSON.stringify(p,null,2))}catch{console.error("Could not stringify error")}const h=document.createElement("div");h.style.cssText="position: fixed; bottom: 20px; right: 20px; background: #dc3545; color: #fff; padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 10000; max-width: 300px; font-family: Nunito, sans-serif; font-weight: 600;";const f=(d==null?void 0:d.message)||"Unknown error";h.innerHTML=`<div style="position: absolute; top: 5px; right: 5px; background: transparent; border: 1px solid rgba(255,255,255,0.5); color: #fff; width: 24px; height: 24px; border-radius: 4px; cursor: pointer; font-size: 18px; line-height: 1; display: flex; align-items: center; justify-content: center; padding: 0;" onclick="this.parentElement.remove()"></div><div style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">Connection Error</div><div style="font-size: 14px;">${f}</div>`,document.body.appendChild(h),setTimeout(()=>h.remove(),5e3)}},l=()=>{r()};if(!t)return null;if(e){const u=s.find(d=>d.chainType==="solana")||o[0];if(u){const d=u.address||"",h=d?`${d.substring(0,4)}...${d.substring(d.length-4)}`:"",f=u.walletClientType==="phantom"||u.walletClientType==="solflare";return g.jsxs("div",{id:"header-wallet-info",style:{display:"block",color:"#fff",fontSize:"0.9em",marginTop:"5px",textAlign:"center"},children:[g.jsxs("div",{id:"header-wallet-address",style:{marginBottom:"5px"},children:[h,f&&g.jsxs("span",{style:{fontSize:"0.8em",opacity:.7,marginLeft:"5px"},children:["(",u.walletClientType,")"]})]}),g.jsx("button",{id:"header-wallet-disconnect",onClick:l,style:{padding:"5px 10px",fontSize:"0.8em",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"5px",color:"#fff",cursor:"pointer"},children:"Disconnect"})]})}else return console.warn("User authenticated but no Solana wallet found. Available wallets:",s),g.jsxs("div",{id:"header-wallet-info",style:{display:"block",color:"#fff",fontSize:"0.9em",marginTop:"5px",textAlign:"center"},children:[g.jsx("div",{style:{marginBottom:"5px",color:"#ffa500"},children:"No Solana wallet"}),g.jsx("button",{onClick:()=>i("solana"),style:{padding:"5px 10px",fontSize:"0.8em",background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"5px",color:"#fff",cursor:"pointer"},children:"Connect Wallet"})]})}return g.jsx("button",{id:"header-wallet-connect-btn",onClick:c,style:{background:"linear-gradient(135deg, #9945FF 0%, #14F195 100%)",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"8px",fontWeight:"700",cursor:"pointer",boxShadow:"0 3px 8px rgba(0,0,0,0.3)"},children:g.jsx("span",{id:"wallet-btn-text",children:"Connect Wallet"})})}function pTt(){return Ve.useEffect(()=>{const t=()=>{document.querySelectorAll('[data-privy-modal], [class*="privy"], [id*="privy"]').forEach(o=>{const a=o.textContent||"";(a.includes("Could not log in")||a.includes("Error authenticating")||a.includes("Please try connecting again"))&&(console.log(" Hiding Privy error modal"),o.style.display="none",o.remove())}),document.querySelectorAll('[class*="overlay"], [class*="backdrop"], [class*="modal"]').forEach(o=>{const a=o.textContent||"";if(a.includes("Could not log in")||a.includes("privy")){const c=window.getComputedStyle(o);(c.position==="fixed"||c.position==="absolute")&&(o.style.display="none",o.remove())}})},e=console.error;console.error=function(...i){const s=i.join(" ");if(s.includes("Error authenticating session")||s.includes("authenticating session")){console.warn(" Caught Privy authentication session error. Suppressing error modal."),setTimeout(t,100),setTimeout(t,500),setTimeout(t,1e3),setTimeout(()=>{if(window.userWalletAddress){console.log(" Wallet is connected despite authentication error:",window.userWalletAddress);const o=document.getElementById("play-button"),a=document.getElementById("create-button");o&&(o.disabled=!1,o.style.opacity="1",o.style.cursor="pointer"),a&&(a.disabled=!1,a.style.opacity="1",a.style.cursor="pointer")}},500);return}e.apply(console,i)};const n=i=>{const s=i.error||i.reason||i;if(s&&s.message&&s.message.includes("authenticating session"))return console.warn(" Caught authentication session error. Suppressing."),setTimeout(t,100),i.preventDefault(),!1},r=new MutationObserver(i=>{i.forEach(s=>{s.addedNodes.forEach(o=>{if(o.nodeType===1){const a=o.textContent||"";(a.includes("Could not log in")||a.includes("Error authenticating")||a.includes("privy")&&a.includes("Retry"))&&(console.log(" Detected Privy error modal, hiding it"),t())}})})});return r.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("error",n,!0),window.addEventListener("unhandledrejection",n,!0),()=>{console.error=e,r.disconnect(),window.removeEventListener("error",n,!0),window.removeEventListener("unhandledrejection",n,!0)}},[]),g.jsx(JSt,{appId:fP,config:{loginMethods:["email","wallet"],appearance:{theme:"dark",accentColor:"#9945FF",logo:"/img/doodllogo.gif",walletChainType:"solana-only"},embeddedWallets:{solana:{createOnLogin:"users-without-wallets"}},externalWallets:{solana:{connectors:sTt(["phantom","solflare"])}},onError:t=>{console.error(" Privy Provider Error:",t),console.error("Error details:",{message:t==null?void 0:t.message,code:t==null?void 0:t.code,name:t==null?void 0:t.name,stack:t==null?void 0:t.stack}),t!=null&&t.cause&&console.error("Error cause:",t.cause),t!=null&&t.response&&console.error("Error response:",t.response)},session:{persist:!0,timeout:7*24*60*60}},children:g.jsx(fTt,{})})}let L4e=!1;function cK(){if(L4e)return;const t=document.getElementById("wallet-connect-header");t&&!t.hasChildNodes()&&(L4e=!0,DO.createRoot(t).render(Ve.createElement(pTt)))}typeof window<"u"&&(window.PrivyApp={initPrivyApp:cK},document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){setTimeout(cK,100)}):setTimeout(cK,100));var U4e={};const Ft={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof U4e<"u"?U4e.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},F4e={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var i;if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return((i=Ft.CHAIN_NAME_MAP)==null?void 0:i[r])||void 0}};var gTt=20,mTt=1,Aw=1e6,z4e=1e6,yTt=-7,wTt=21,vTt=!1,Y9="[big.js] ",Sw=Y9+"Invalid ",pP=Sw+"decimal places",bTt=Sw+"rounding mode",W4e=Y9+"Division by zero",$r={},Ff=void 0,xTt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function q4e(){function t(e){var n=this;if(!(n instanceof t))return e===Ff?q4e():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Sw+"value");e=e===0&&1/e<0?"-0":String(e)}ETt(n,e)}n.constructor=t}return t.prototype=$r,t.DP=gTt,t.RM=mTt,t.NE=yTt,t.PE=wTt,t.strict=vTt,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function ETt(t,e){var n,r,i;if(!xTt.test(e))throw Error(Sw+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function Iw(t,e,n,r){var i=t.c;if(n===Ff&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(bTt);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Ff))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==Ff||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function kw(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}$r.abs=function(){var t=new this.constructor(this);return t.s=1,t},$r.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1},$r.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Aw)throw Error(pP);if(!i[0])throw Error(W4e);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,d,h=i.slice(),f=a=i.length,p=r.length,m=r.slice(0,a),w=m.length,y=t,b=y.c=[],v=0,E=o+(y.e=e.e-t.e)+1;for(y.s=s,s=E<0?0:E,h.unshift(0);w++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(w=m.length))u=a>w?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=m[d]){u=i[d]>m[d]?1:-1;break}if(u<0){for(c=w==a?i:h;w;){if(m[--w]<c[w]){for(d=w;d&&!m[--d];)m[d]=9;--m[d],m[w]+=10}m[w]-=c[w]}for(;!m[0];)m.shift()}else break}b[v++]=u?l:++l,m[0]&&u?m[w]=r[f]||0:m=[r[f]]}while((f++<p||m[0]!==Ff)&&s--);return!b[0]&&v!=1&&(b.shift(),y.e--,E--),v>E&&Iw(y,E,n.RM,m[0]!==Ff),y},$r.eq=function(t){return this.cmp(t)===0},$r.gt=function(t){return this.cmp(t)>0},$r.gte=function(t){return this.cmp(t)>-1},$r.lt=function(t){return this.cmp(t)<0},$r.lte=function(t){return this.cmp(t)<1},$r.minus=$r.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-h){for((i=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t},$r.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(W4e);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))},$r.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},$r.plus=$r.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t},$r.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-z4e||t>z4e)throw Error(Sw+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r},$r.prec=function(t,e){if(t!==~~t||t<1||t>Aw)throw Error(Sw+"precision");return Iw(new this.constructor(this),t,e)},$r.round=function(t,e){if(t===Ff)t=0;else if(t!==~~t||t<-Aw||t>Aw)throw Error(pP);return Iw(new this.constructor(this),t+this.e+1,e)},$r.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Y9+"No square root");s=Math.sqrt(+kw(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Iw(t,(i.DP-=4)+t.e+1,i.RM)},$r.times=$r.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},$r.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Ff){if(t!==~~t||t<0||t>Aw)throw Error(pP);for(n=Iw(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return kw(n,!0,!!r)},$r.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Ff){if(t!==~~t||t<0||t>Aw)throw Error(pP);for(n=Iw(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return kw(n,!1,!!r)},$r[Symbol.for("nodejs.util.inspect.custom")]=$r.toJSON=$r.toString=function(){var t=this,e=t.constructor;return kw(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},$r.toNumber=function(){var t=+kw(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Y9+"Imprecise conversion");return t},$r.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==Ff){if(t!==~~t||t<1||t>Aw)throw Error(Sw+"precision");for(n=Iw(new r(n),t,e);n.c.length<t;)n.c.push(0)}return kw(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},$r.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Y9+"valueOf disallowed");return kw(t,t.e<=e.NE||t.e>=e.PE,!0)};var J9=q4e();const CTt={bigNumber(t){return t?new J9(t):new J9(0)},multiply(t,e){if(t===void 0||e===void 0)return new J9(0);const n=new J9(t),r=new J9(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},_Tt=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ATt=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],STt=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ITt={getERC20Abi:t=>Ft.USDT_CONTRACT_ADDRESSES.includes(t)?STt:_Tt,getSwapAbi:()=>ATt},Um={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},gn={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function lK(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const an={setItem(t,e){Q9()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Q9())return localStorage.getItem(t)||void 0},removeItem(t){Q9()&&localStorage.removeItem(t)},clear(){Q9()&&localStorage.clear()}};function Q9(){return typeof window<"u"&&typeof localStorage<"u"}function Fm(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const kTt=Symbol(),H4e=Object.getPrototypeOf,uK=new WeakMap,$Tt=t=>t&&(uK.has(t)?uK.get(t):H4e(t)===Object.prototype||H4e(t)===Array.prototype),TTt=t=>$Tt(t)&&t[kTt]||null,V4e=(t,e=!0)=>{uK.set(t,e)},gP={},dK=t=>typeof t=="object"&&t!==null,zm=new WeakMap,X9=new WeakSet,PTt=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>dK(l)&&!X9.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,d=r)=>{const h=i.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return V4e(f,!0),i.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const m=Reflect.get(l,p),{enumerable:w}=Reflect.getOwnPropertyDescriptor(l,p),y={value:m,enumerable:w,configurable:!0};if(X9.has(m))V4e(m,!1);else if(m instanceof Promise)delete y.value,y.get=()=>d(m);else if(zm.has(m)){const[b,v]=zm.get(m);y.value=s(b,v(),d)}Object.defineProperty(f,p,y)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!dK(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(S,B=++a[0])=>{d!==B&&(d=B,h.forEach(j=>j(S,B)))};let p=a[1];const m=(S=++a[1])=>(p!==S&&!h.size&&(p=S,y.forEach(([B])=>{const j=B[1](S);j>d&&(d=j)})),d),w=S=>(B,j)=>{const U=[...B];U[1]=[S,...U[1]],f(U,j)},y=new Map,b=(S,B)=>{if((gP?"production":void 0)!=="production"&&y.has(S))throw new Error("prop listener already exists");if(h.size){const j=B[3](w(S));y.set(S,[B,j])}else y.set(S,[B])},v=S=>{var B;const j=y.get(S);j&&(y.delete(S),(B=j[1])==null||B.call(j))},E=S=>(h.add(S),h.size===1&&y.forEach(([j,U],M)=>{if((gP?"production":void 0)!=="production"&&U)throw new Error("remove already exists");const C=j[3](w(M));y.set(M,[j,C])}),()=>{h.delete(S),h.size===0&&y.forEach(([j,U],M)=>{U&&(U(),y.set(M,[j]))})}),_=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),I=e(_,{deleteProperty(S,B){const j=Reflect.get(S,B);v(B);const U=Reflect.deleteProperty(S,B);return U&&f(["delete",[B],j]),U},set(S,B,j,U){const M=Reflect.has(S,B),C=Reflect.get(S,B,U);if(M&&(t(C,j)||o.has(j)&&t(C,o.get(j))))return!0;v(B),dK(j)&&(j=TTt(j)||j);let x=j;if(j instanceof Promise)j.then(A=>{j.status="fulfilled",j.value=A,f(["resolve",[B],A])}).catch(A=>{j.status="rejected",j.reason=A,f(["reject",[B],A])});else{!zm.has(j)&&n(j)&&(x=c(j));const A=!X9.has(x)&&zm.get(x);A&&b(B,A)}return Reflect.set(S,B,x,U),f(["set",[B],j,C]),!0}});o.set(l,I);const R=[_,m,s,E];return zm.set(I,R),Reflect.ownKeys(l).forEach(S=>{const B=Object.getOwnPropertyDescriptor(l,S);"value"in B&&(I[S]=l[S],delete B.value,delete B.writable),Object.defineProperty(_,S,B)}),I})=>[c,zm,X9,t,e,n,r,i,s,o,a],[NTt]=PTt();function ei(t={}){return NTt(t)}function Lo(t,e,n){const r=zm.get(t);(gP?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function eC(t,e){const n=zm.get(t);(gP?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function $w(t){return X9.add(t),t}function Uo(t,e,n,r){let i=t[e];return Lo(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function OTt(t){const e=ei({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const K4e=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],RTt="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Tr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:["eip155","solana"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},Tt={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Tt.getActiveNamespace(),e=Tt.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{an.setItem(gn.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=an.getItem(gn.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{an.removeItem(gn.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{an.setItem(gn.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{an.setItem(gn.ACTIVE_CAIP_NETWORK_ID,t),Tt.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return an.getItem(gn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{an.removeItem(gn.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=lK(t);an.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Tt.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),an.setItem(gn.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=an.getItem(gn.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=lK(t);an.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return an.getItem(gn.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=lK(t);return an.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{an.setItem(gn.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return an.getItem(gn.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{an.removeItem(gn.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return an.getItem(gn.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=an.getItem(gn.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{an.setItem(gn.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return an.getItem(gn.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=an.getItem(gn.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));an.setItem(gn.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Tt.getConnectedNamespaces();e.includes(t)||(e.push(t),Tt.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Tt.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Tt.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return an.getItem(gn.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{an.setItem(gn.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{an.removeItem(gn.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=an.getItem(gn.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Tt.getBalanceCache();an.setItem(gn.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Tt.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Tt.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Tt.getBalanceCache();e[t.caipAddress]=t,an.setItem(gn.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=an.getItem(gn.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Tt.getBalanceCache();an.setItem(gn.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Tt.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Tt.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Tt.getNativeBalanceCache();e[t.caipAddress]=t,an.setItem(gn.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=an.getItem(gn.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Tt.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Tt.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Tt.getEnsCache();e[t.address]=t,an.setItem(gn.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Tt.getEnsCache();an.setItem(gn.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=an.getItem(gn.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Tt.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Tt.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Tt.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},an.setItem(gn.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Tt.getIdentityCache();an.setItem(gn.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{an.removeItem(gn.PORTFOLIO_CACHE),an.removeItem(gn.NATIVE_BALANCE_CACHE),an.removeItem(gn.ENS_CACHE),an.removeItem(gn.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{an.setItem(gn.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=an.getItem(gn.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...Tt.getConnections(),[e]:t};an.setItem(gn.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=an.getItem(gn.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},Ze={isMobile(){var t;return this.isClient()?!!(typeof(window==null?void 0:window.matchMedia)=="function"&&((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ze.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Tr.TEN_SEC_MS:!0},isAllowedRetry(t,e=Tr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Ze.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(n){const i=new URL(n),s=new URL(r);return i.hostname===s.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Tr.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Ze.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!(i!=null&&i.endsWith("/"))&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Ze.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Tt.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r,i;if(typeof window>"u")return!1;const t=(r=(n=window.matchMedia)==null?void 0:n.call(window,"(display-mode: standalone)"))==null?void 0:r.matches,e=(i=window==null?void 0:window.navigator)==null?void 0:i.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Ze.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Ft.W3M_API_URL},getBlockchainApiUrl(){return Ft.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ft.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?Tr.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Ft.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};async function tC(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class nC{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await tC(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await tC(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await tC(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await tC(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await tC(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const MTt={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Tr.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ze.isTelegram()){if(Ze.isIos())return t.filter(e=>e!=="google");if(Ze.isMac())return t.filter(e=>e!=="x");if(Ze.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Zt=ei({features:Tr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Tr.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Ne={state:Zt,subscribeKey(t,e){return Uo(Zt,t,e)},setOptions(t){Object.assign(Zt,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...Zt.remoteFeatures,...t};Zt.remoteFeatures=e,(n=Zt.remoteFeatures)!=null&&n.socials&&(Zt.remoteFeatures.socials=MTt.filterSocialsByPlatform(Zt.remoteFeatures.socials))},setFeatures(t){if(!t)return;Zt.features||(Zt.features=Tr.DEFAULT_FEATURES);const e={...Zt.features,...t};Zt.features=e},setProjectId(t){Zt.projectId=t},setCustomRpcUrls(t){Zt.customRpcUrls=t},setAllWallets(t){Zt.allWallets=t},setIncludeWalletIds(t){Zt.includeWalletIds=t},setExcludeWalletIds(t){Zt.excludeWalletIds=t},setFeaturedWalletIds(t){Zt.featuredWalletIds=t},setTokens(t){Zt.tokens=t},setTermsConditionsUrl(t){Zt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Zt.privacyPolicyUrl=t},setCustomWallets(t){Zt.customWallets=t},setIsSiweEnabled(t){Zt.isSiweEnabled=t},setIsUniversalProvider(t){Zt.isUniversalProvider=t},setSdkVersion(t){Zt.sdkVersion=t},setMetadata(t){Zt.metadata=t},setDisableAppend(t){Zt.disableAppend=t},setEIP6963Enabled(t){Zt.enableEIP6963=t},setDebug(t){Zt.debug=t},setEnableWalletConnect(t){Zt.enableWalletConnect=t},setEnableWalletGuide(t){Zt.enableWalletGuide=t},setEnableAuthLogger(t){Zt.enableAuthLogger=t},setEnableWallets(t){Zt.enableWallets=t},setPreferUniversalLinks(t){Zt.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){Zt.hasMultipleAddresses=t},setSIWX(t){Zt.siwx=t},setConnectMethodsOrder(t){Zt.features={...Zt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Zt.features={...Zt.features,walletFeaturesOrder:t}},setSocialsOrder(t){Zt.remoteFeatures={...Zt.remoteFeatures,socials:t}},setCollapseWallets(t){Zt.features={...Zt.features,collapseWallets:t}},setEnableEmbedded(t){Zt.enableEmbedded=t},setAllowUnsupportedChain(t){Zt.allowUnsupportedChain=t},setManualWCControl(t){Zt.manualWCControl=t},setEnableNetworkSwitch(t){Zt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Zt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Zt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Zt.universalProviderConfigOverride},getSnapshot(){return eC(Zt)}},jTt=Object.freeze({enabled:!0,events:[]}),BTt=new nC({baseUrl:Ze.getAnalyticsUrl(),clientId:null}),DTt=5,LTt=60*1e3,Wm=ei({...jTt}),UTt={state:Wm,subscribeKey(t,e){return Uo(Wm,t,e)},async sendError(t,e){if(!Wm.enabled)return;const n=Date.now();if(Wm.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<LTt}).length>=DTt)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Wm.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=Ne.state;await BTt.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ze.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){Wm.enabled=!0},disable(){Wm.enabled=!1},clearEvents(){Wm.events=[]}};class s5 extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,s5.prototype);let i=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const s=r.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,s5):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function G4e(t,e){const n=t instanceof s5?t:new s5(t instanceof Error?t.message:String(t),e,t);throw UTt.sendError(n,n.category),n}function el(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return G4e(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return G4e(a,e)}},n[r]=s}else n[r]=i}),n}const zf={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},FTt={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===zf.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",s=n.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${zf.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===zf.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${zf.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===Ft.CHAIN.SOLANA&&t===zf.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${zf.COINBASE.url}/dapp?cb_url=${r}`)}},nu=ei({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),tl=el({state:nu,subscribeNetworkImages(t){return Lo(nu.networkImages,()=>t(nu.networkImages))},subscribeKey(t,e){return Uo(nu,t,e)},subscribe(t){return Lo(nu,()=>t(nu))},setWalletImage(t,e){nu.walletImages[t]=e},setNetworkImage(t,e){nu.networkImages[t]=e},setChainImage(t,e){nu.chainImages[t]=e},setConnectorImage(t,e){nu.connectorImages={...nu.connectorImages,[t]:e}},setTokenImage(t,e){nu.tokenImages[t]=e},setCurrencyImage(t,e){nu.currencyImages[t]=e}}),zTt={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},hK=ei({networkImagePromises:{}}),Us={async fetchWalletImage(t){if(t)return await Xe._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(hK.networkImagePromises[t]||(hK.networkImagePromises[t]=Xe._fetchNetworkImage(t)),await hK.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return tl.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return tl.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return tl.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return tl.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return tl.state.connectorImages[t.imageId]},getChainImage(t){return tl.state.networkImages[zTt[t]]}},qm=ei({message:"",variant:"info",open:!1}),yh=el({state:qm,subscribeKey(t,e){return Uo(qm,t,e)},open(t,e){const{debug:n}=Ne.state,{shortMessage:r,longMessage:i}=t;n&&(qm.message=r,qm.variant=e,qm.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){qm.open=!1,qm.message="",qm.variant="info"}}),WTt=Ze.getAnalyticsUrl(),qTt=new nC({baseUrl:WTt,clientId:null}),HTt=["MODAL_CREATED"],C0=ei({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),jn={state:C0,subscribe(t){return Lo(C0,()=>t(C0))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Ne.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Mt.state.address;if(HTt.includes(t.data.event)||typeof window>"u")return;await qTt.post({path:"/e",params:jn.getSdkProperties(),body:{eventId:Ze.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),C0.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ft.HTTP_STATUS_CODES.FORBIDDEN&&!C0.reportedErrors.FORBIDDEN&&(yh.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Q9()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),C0.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;C0.timestamp=Date.now(),C0.data=t,(e=Ne.state.features)!=null&&e.analytics&&jn._sendAnalyticsEvent(C0)}},VTt=Ze.getApiUrl(),nl=new nC({baseUrl:VTt,clientId:null}),KTt=40,Z4e=4,GTt=20,mn=ei({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Xe={state:mn,subscribeKey(t,e){return Uo(mn,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Ne.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Ne.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${nl.baseUrl}/getWalletImage/${t}`,n=await nl.getBlob({path:e,params:Xe._getSdkProperties()});tl.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${nl.baseUrl}/public/getAssetImage/${t}`,n=await nl.getBlob({path:e,params:Xe._getSdkProperties()});tl.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${nl.baseUrl}/public/getAssetImage/${t}`,n=await nl.getBlob({path:e,params:Xe._getSdkProperties()});tl.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${nl.baseUrl}/public/getCurrencyImage/${t}`,n=await nl.getBlob({path:e,params:Xe._getSdkProperties()});tl.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${nl.baseUrl}/public/getTokenImage/${t}`,n=await nl.getBlob({path:e,params:Xe._getSdkProperties()});tl.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Ze.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===zf.COINBASE.id?!0:ie.state.activeChain==="solana"&&(n.id===zf.SOLFLARE.id||n.id===zf.PHANTOM.id)):t},async fetchProjectConfig(){return(await nl.get({path:"/appkit/v1/config",params:Xe._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await nl.get({path:"/projects/v1/origins",params:Xe._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=ie.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!Us.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Xe._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=We.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Xe._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Xe._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Xe._fetchTokenImage(e)))},async fetchWallets(t){var s;const e=t.exclude??[];Xe._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(zf).map(o=>o.id));const r=await nl.get({path:"/getWallets",params:{...Xe._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(s=t.include)==null?void 0:s.join(","),exclude:e.join(",")}});return{data:Xe._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Ne.state;if(t!=null&&t.length){const e={...Xe._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??Z4e,include:t},{data:n}=await Xe.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Xe._fetchWalletImage(s))),mn.featured=r,mn.allFeatured=r}},async fetchRecommendedWallets(){try{mn.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Ne.state,r=[...e??[],...n??[]].filter(Boolean),i=ie.getRequestedCaipNetworkIds().join(","),s={page:1,entries:Z4e,include:t,exclude:r,chains:i},{data:o,count:a}=await Xe.fetchWallets(s),c=Tt.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Xe._fetchWalletImage(d))),mn.recommended=o,mn.allRecommended=o,mn.count=a??0}catch{}finally{mn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Ne.state,i=ie.getRequestedCaipNetworkIds().join(","),s=[...mn.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:KTt,include:e,exclude:s,chains:i},{data:a,count:c}=await Xe.fetchWallets(o),l=a.slice(0,GTt).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Xe._fetchWalletImage(u))),mn.wallets=Ze.uniqueBy([...mn.wallets,...Xe._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(h=>i.includes(h))}),mn.count=c>mn.count?c:mn.count,mn.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Xe.fetchWallets(e);n&&n.forEach(r=>{mn.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Ne.state,i=ie.getRequestedCaipNetworkIds().join(",");mn.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Xe.fetchWallets(s);jn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Xe._fetchWalletImage(c)),Ze.wait(300)]),mn.search=Xe._filterOutExtensions(o)},initPromise(t,e){const n=mn.promises[t];return n||(mn.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&Xe.initPromise("connectorImages",Xe.fetchConnectorImages),e&&Xe.initPromise("featuredWallets",Xe.fetchFeaturedWallets),n&&Xe.initPromise("recommendedWallets",Xe.fetchRecommendedWallets),r&&Xe.initPromise("networkImages",Xe.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Ne.state.features)!=null&&t.analytics&&Xe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await nl.get({path:"/getAnalyticsConfig",params:Xe._getSdkProperties()});Ne.setFeatures({analytics:t})}catch{Ne.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){mn.featured=mn.allFeatured,mn.recommended=mn.allRecommended;return}const e=ie.getRequestedCaipNetworkIds().join(",");mn.featured=mn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),mn.recommended=mn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),mn.filteredWallets=mn.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})},clearFilterByNamespaces(){mn.filteredWallets=[]},setFilterByNamespace(t){if(!t){mn.featured=mn.allFeatured,mn.recommended=mn.allRecommended;return}const e=ie.getRequestedCaipNetworkIds().join(",");mn.featured=mn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),mn.recommended=mn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),mn.filteredWallets=mn.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},Mr=ei({view:"Connect",history:["Connect"],transactionStack:[]}),Qe=el({state:Mr,subscribeKey(t,e){return Uo(Mr,t,e)},pushTransactionStack(t){Mr.transactionStack.push(t)},popTransactionStack(t){const e=Mr.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case"success":n==null||n();break;case"error":r==null||r(),Qe.goBack();break;case"cancel":i==null||i(),Qe.goBack();break}},push(t,e){t!==Mr.view&&(Mr.view=t,Mr.history.push(t),Mr.data=e)},reset(t,e){Mr.view=t,Mr.history=[t],Mr.data=e},replace(t,e){Mr.history.at(-1)===t||(Mr.view=t,Mr.history[Mr.history.length-1]=t,Mr.data=e)},goBack(){var r;const t=ie.state.activeCaipAddress,e=Qe.state.view==="ConnectingFarcaster",n=!t&&e;if(Mr.history.length>1){Mr.history.pop();const[i]=Mr.history.slice(-1);i&&(t&&i==="Connect"?Mr.view="Account":Mr.view=i)}else vr.close();(r=Mr.data)!=null&&r.wallet&&(Mr.data.wallet=void 0),setTimeout(()=>{var i,s,o;if(n){Mt.setFarcasterUrl(void 0,ie.state.activeChain);const a=We.getAuthConnector();(i=a==null?void 0:a.provider)==null||i.reload();const c=eC(Ne.state);(o=(s=a==null?void 0:a.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Mr.history.length>1){Mr.history=Mr.history.slice(0,t+1);const[e]=Mr.history.slice(-1);e&&(Mr.view=e)}},goBackOrCloseModal(){Qe.state.history.length>1?Qe.goBack():vr.close()}}),_0=ei({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),fK={state:_0,subscribe(t){return Lo(_0,()=>t(_0))},setThemeMode(t){_0.themeMode=t;try{const e=We.getAuthConnector();if(e){const n=fK.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Fm(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){_0.themeVariables={..._0.themeVariables,...t};try{const e=We.getAuthConnector();if(e){const n=fK.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Fm(_0.themeVariables,_0.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return eC(_0)}},Fo=el(fK),Y4e={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},sr=ei({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...Y4e},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),We=el({state:sr,subscribe(t){return Lo(sr,()=>{t(sr)})},subscribeKey(t,e){return Uo(sr,t,e)},initialize(t){t.forEach(e=>{const n=Tt.getConnectedConnectorId(e);n&&We.setConnectorId(n,e)})},setActiveConnector(t){t&&(sr.activeConnector=$w(t))},setConnectors(t){t.filter(i=>!sr.allConnectors.some(s=>s.id===i.id&&We.getConnectorName(s.name)===We.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&sr.allConnectors.push($w(i))});const n=We.getEnabledNamespaces(),r=We.getEnabledConnectors(n);sr.connectors=We.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(sr.filterByNamespaceMap).forEach(e=>{sr.filterByNamespaceMap[e]=!1}),t.forEach(e=>{sr.filterByNamespaceMap[e]=!0}),We.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){sr.filterByNamespaceMap[t]=e,We.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=We.getEnabledNamespaces(),e=We.getEnabledConnectors(t),n=We.areAllNamespacesEnabled();sr.connectors=We.mergeMultiChainConnectors(e),n?Xe.clearFilterByNamespaces():Xe.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(sr.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return sr.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(sr.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=We.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===Ft.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=We.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Ft.CONNECTOR_ID.AUTH){const i=t,s=eC(Ne.state),o=Fo.getSnapshot().themeMode,a=Fo.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Fm(a,o)}),We.setConnectors([t])}else We.setConnectors([t])},getAuthConnector(t){var r;const e=t||ie.state.activeChain,n=sr.connectors.find(i=>i.id===Ft.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return sr.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return sr.allConnectors.find(e=>e.id===t)},getConnector(t,e){return sr.allConnectors.filter(r=>r.chain===ie.state.activeChain).find(r=>{var i;return r.explorerId===t||((i=r.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=eC(Ne.state),r=Fo.getSnapshot().themeMode,i=Fo.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Fm(i,r)})},getConnectorsByNamespace(t){const e=sr.allConnectors.filter(n=>n.chain===t);return We.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=We.getConnector(t.id,t.rdns),n=ie.state.activeChain;FTt.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?Qe.push("ConnectingExternal",{connector:e}):Qe.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?We.getConnectorsByNamespace(t):We.mergeMultiChainConnectors(sr.allConnectors)},setFilterByNamespace(t){sr.filterByNamespace=t,sr.connectors=We.getConnectors(t),Xe.setFilterByNamespace(t)},setConnectorId(t,e){t&&(sr.activeConnectorIds={...sr.activeConnectorIds,[e]:t},Tt.setConnectedConnectorId(e,t))},removeConnectorId(t){sr.activeConnectorIds={...sr.activeConnectorIds,[t]:void 0},Tt.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return sr.activeConnectorIds[t]},isConnected(t){return t?!!sr.activeConnectorIds[t]:Object.values(sr.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){sr.activeConnectorIds={...Y4e}}}),rC={ACCOUNT_TYPES:{SMART_ACCOUNT:"smartAccount"}},Tw=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Fs=ei({...Tw}),ts={state:Fs,subscribeKey(t,e){return Uo(Fs,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ze.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Fs.message=Tw.message,Fs.variant=Tw.variant,Fs.svg=Tw.svg,Fs.open=Tw.open,Fs.autoClose=Tw.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Tw.autoClose}){Fs.open?(Fs.open=!1,setTimeout(()=>{Fs.message=t,Fs.variant=n,Fs.svg=e,Fs.open=!0,Fs.autoClose=r},150)):(Fs.message=t,Fs.variant=n,Fs.svg=e,Fs.open=!0,Fs.autoClose=r)}},ti=ei({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),iC=el({state:ti,subscribe(t){return Lo(ti,()=>t(ti))},setLastNetworkInView(t){ti.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");ti.loading=!0;try{const i=await Xt.fetchTransactions({account:t,cursor:ti.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=iC.filterSpamTransactions(i.data),o=iC.filterByConnectedChain(s),a=[...ti.transactions,...o];ti.loading=!1,e==="coinbase"?ti.coinbaseTransactions=iC.groupTransactionsByYearAndMonth(ti.coinbaseTransactions,i.data):(ti.transactions=a,ti.transactionsByYear=iC.groupTransactionsByYearAndMonth(ti.transactionsByYear,o)),ti.empty=a.length===0,ti.next=i.next?i.next:void 0}catch{const s=ie.state.activeChain;jn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Ne.state.projectId,cursor:ti.next,isSmartAccount:((r=Mt.state.preferredAccountTypes)==null?void 0:r[s])===rC.ACCOUNT_TYPES.SMART_ACCOUNT}}),ts.showError("Failed to fetch transactions"),ti.loading=!1,ti.empty=!0,ti.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=ie.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){ti.next=void 0},resetTransactions(){ti.transactions=[],ti.transactionsByYear={},ti.lastNetworkInView=void 0,ti.loading=!1,ti.empty=!1,ti.next=void 0}},"API_ERROR"),Wr=ei({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let Pw;const at=el({state:Wr,subscribeKey(t,e){return Uo(Wr,t,e)},_getClient(){return Wr._client},setClient(t){Wr._client=$w(t)},async connectWalletConnect(){var t,e,n,r;if(Ze.isTelegram()||Ze.isSafari()&&Ze.isIos()){if(Pw){await Pw,Pw=void 0;return}if(!Ze.isPairingExpired(Wr==null?void 0:Wr.wcPairingExpiry)){const i=Wr.wcUri;Wr.wcUri=i;return}Pw=(e=(t=at._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),at.state.status="connecting",await Pw,Pw=void 0,Wr.wcPairingExpiry=void 0,at.state.status="connected"}else await((r=(n=at._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=at._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&ie.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=at._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||ie.state.activeChain;e&&We.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;vr.setLoading(!0,ie.state.activeChain);const n=We.getAuthConnector();n&&(Mt.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Tt.setPreferredAccountTypes(Mt.state.preferredAccountTypes??{[e]:t}),await at.reconnectExternal(n),vr.setLoading(!1,ie.state.activeChain),jn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=ie.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=at._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=at._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=at._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=at._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=at._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=at._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=at._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=at._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=at._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=at._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=at._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=at._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Wr.wcUri=void 0,Wr.wcPairingExpiry=void 0,Wr.wcLinking=void 0,Wr.recentWallet=void 0,Wr.status="disconnected",iC.resetTransactions(),Tt.deleteWalletConnectDeepLink()},resetUri(){Wr.wcUri=void 0,Wr.wcPairingExpiry=void 0,Pw=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=at.state;t&&Tt.setWalletConnectDeepLink(t),e&&Tt.setAppKitRecent(e),jn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Qe.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){Wr.wcBasic=t},setUri(t){Wr.wcUri=t,Wr.wcPairingExpiry=Ze.getPairingExpiry()},setWcLinking(t){Wr.wcLinking=t},setWcError(t){Wr.wcError=t,Wr.buffering=!1},setRecentWallet(t){Wr.recentWallet=t},setBuffering(t){Wr.buffering=t},setStatus(t){Wr.status=t},async disconnect(t){var e;try{await((e=at._getClient())==null?void 0:e.disconnect(t))}catch(n){throw new s5("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){Wr.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(We.state.activeConnectorIds[n]===t.connectorId){const s=ie.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;Mt.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=We.getConnector(t.connectorId);s?at.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}}),o5=ei({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Hm={state:o5,subscribe(t){return Lo(o5,()=>t(o5))},subscribeOpen(t){return Uo(o5,"open",t)},set(t){Object.assign(o5,{...o5,...t})}},pK={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return ks(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},J4e={async getMyTokensWithBalance(t){const e=Mt.state.address,n=ie.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await Xt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=pK.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await at.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await at.walletGetAssets({account:t,chainFilter:[i]});return pK.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>pK.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:ie.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Pr=ei({tokenBalances:[],loading:!1}),gr=el({state:Pr,subscribe(t){return Lo(Pr,()=>t(Pr))},subscribeKey(t,e){return Uo(Pr,t,e)},setToken(t){t&&(Pr.token=$w(t))},setTokenAmount(t){Pr.sendTokenAmount=t},setReceiverAddress(t){Pr.receiverAddress=t},setReceiverProfileImageUrl(t){Pr.receiverProfileImageUrl=t},setReceiverProfileName(t){Pr.receiverProfileName=t},setNetworkBalanceInUsd(t){Pr.networkBalanceInUSD=t},setLoading(t){Pr.loading=t},async sendToken(){var t;try{switch(gr.setLoading(!0),(t=ie.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await gr.sendEvmToken();return;case"solana":await gr.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{gr.setLoading(!1)}},async sendEvmToken(){var n,r,i,s;const t=ie.state.activeChain,e=(n=Mt.state.preferredAccountTypes)==null?void 0:n[t];if(!gr.state.sendTokenAmount||!gr.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!gr.state.token)throw new Error("A token is required");(r=gr.state.token)!=null&&r.address?(jn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===rC.ACCOUNT_TYPES.SMART_ACCOUNT,token:gr.state.token.address,amount:gr.state.sendTokenAmount,network:((i=ie.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),await gr.sendERC20Token({receiverAddress:gr.state.receiverAddress,tokenAddress:gr.state.token.address,sendTokenAmount:gr.state.sendTokenAmount,decimals:gr.state.token.quantity.decimals})):(jn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===rC.ACCOUNT_TYPES.SMART_ACCOUNT,token:gr.state.token.symbol||"",amount:gr.state.sendTokenAmount,network:((s=ie.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await gr.sendNativeToken({receiverAddress:gr.state.receiverAddress,sendTokenAmount:gr.state.sendTokenAmount,decimals:gr.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;Pr.loading=!0;const e=(s=ie.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=ie.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=ie.state.activeCaipAddress,i=r?Ze.getPlainAddress(r):void 0;if(Pr.lastRetry&&!Ze.isAllowedRetry(Pr.lastRetry,30*Tr.ONE_SEC_MS))return Pr.loading=!1,[];try{if(i&&e&&n){const a=await J4e.getMyTokensWithBalance();return Pr.tokenBalances=a,Pr.lastRetry=void 0,a}}catch(a){Pr.lastRetry=Date.now(),t==null||t(a),ts.showError("Token Balance Unavailable")}finally{Pr.loading=!1}return[]},fetchNetworkBalance(){if(Pr.tokenBalances.length===0)return;const t=J4e.mapBalancesToSwapTokens(Pr.tokenBalances);if(!t)return;const e=t.find(n=>n.address===ie.getActiveNetworkTokenAddress());e&&(Pr.networkBalanceInUSD=e?CTt.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var s,o,a,c;Qe.pushTransactionStack({});const e=t.receiverAddress,n=Mt.state.address,r=at.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await at.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),jn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((s=Mt.state.preferredAccountTypes)==null?void 0:s.eip155)===rC.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=gr.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((a=ie.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(c=at._getClient())==null||c.updateBalance("eip155"),gr.resetSend()},async sendERC20Token(t){Qe.pushTransactionStack({onSuccess(){Qe.replace("Account")}});const e=at.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Mt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Ze.getPlainAddress(t.tokenAddress);await at.writeContract({fromAddress:Mt.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:ITt.getERC20Abi(n),chainNamespace:"eip155"}),gr.resetSend()}},async sendSolanaToken(){var t;if(!gr.state.sendTokenAmount||!gr.state.receiverAddress)throw new Error("An amount and receiver address are required");Qe.pushTransactionStack({onSuccess(){Qe.replace("Account")}}),await at.sendTransaction({chainNamespace:"solana",to:gr.state.receiverAddress,value:gr.state.sendTokenAmount}),(t=at._getClient())==null||t.updateBalance("solana"),gr.resetSend()},resetSend(){Pr.token=void 0,Pr.sendTokenAmount=void 0,Pr.receiverAddress=void 0,Pr.receiverProfileImageUrl=void 0,Pr.receiverProfileName=void 0,Pr.loading=!1,Pr.tokenBalances=[]}}),gK={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},mP={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},wt=ei({chains:OTt(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),ie=el({state:wt,subscribe(t){return Lo(wt,()=>{t(wt)})},subscribeKey(t,e){return Uo(wt,t,e)},subscribeChainProp(t,e,n){let r;return Lo(wt.chains,()=>{var s;const i=n||wt.activeChain;if(i){const o=(s=wt.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=Tt.getActiveNetworkProps(),s=e==null?void 0:e.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=t.find(u=>(u==null?void 0:u.namespace)===i)||(t==null?void 0:t[0]),c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=Ne.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(u=>u.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(wt.noAdapters=!0),wt.noAdapters||(wt.activeChain=a==null?void 0:a.namespace,wt.activeCaipNetwork=s,ie.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),wt.activeChain&&Hm.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=e==null?void 0:e.filter(h=>h.chainNamespace===u);ie.state.chains.set(u,{namespace:u,networkState:ei({...mP,caipNetwork:d==null?void 0:d[0]}),accountState:ei(gK),caipNetworks:d??[],...n}),ie.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){var e,n;if(wt.activeChain===t){const r=Array.from(wt.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&ie.setActiveCaipNetwork(i)}}wt.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){wt.chains.set(t.namespace,{namespace:t.namespace,networkState:{...mP,caipNetwork:r[0]},accountState:gK,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),ie.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=wt.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),wt.chains.set(t.chainNamespace,{...e,caipNetworks:r}),ie.setRequestedCaipNetworks(r,t.chainNamespace),We.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,i,s;const n=wt.chains.get(t);if(n){const o=((r=wt.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&ie.setActiveCaipNetwork(n.caipNetworks[0]),wt.chains.set(t,{...n,caipNetworks:a}),ie.setRequestedCaipNetworks(a||[],t),a.length===0&&We.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=wt.chains.get(t);n&&(n.networkState={...n.networkState||mP,...e},wt.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=wt.chains.get(t);if(r){const i={...r.accountState||gK,...e};wt.chains.set(t,{...r,accountState:i}),(wt.chains.size===1||wt.activeChain===t)&&(e.caipAddress&&(wt.activeCaipAddress=e.caipAddress),Mt.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=wt.chains.get(t);if(n){const r={...n.networkState||mP,...e};wt.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){ie.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&We.removeConnectorId(n)},setActiveNamespace(t){var r,i;wt.activeChain=t;const e=t?wt.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(wt.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,wt.activeCaipNetwork=n,ie.setChainNetworkData(t,{caipNetwork:n}),Tt.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Hm.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;wt.activeChain!==t.chainNamespace&&ie.setIsSwitchingNamespace(!0);const e=wt.chains.get(t.chainNamespace);wt.activeChain=t.chainNamespace,wt.activeCaipNetwork=t,ie.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?wt.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:wt.activeCaipAddress=void 0,ie.setAccountProp("caipAddress",wt.activeCaipAddress,t.chainNamespace),e&&Mt.replaceState(e.accountState),gr.resetSend(),Hm.set({activeChain:wt.activeChain,selectedNetworkId:(s=wt.activeCaipNetwork)==null?void 0:s.caipNetworkId}),Tt.setActiveCaipNetworkId(t.caipNetworkId),!ie.checkIfSupportedNetwork(t.chainNamespace)&&Ne.state.enableNetworkSwitch&&!Ne.state.allowUnsupportedChain&&!at.state.wcBasic&&ie.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=wt.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==ie.state.activeChain,n=(i=ie.getNetworkData(t))==null?void 0:i.caipNetwork,r=ie.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await ie.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=ie.state.chains.get(ie.state.activeChain),n=!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=wt.activeCaipNetwork)==null?void 0:o.id)})),r=ie.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&vr.close()}catch{Qe.goBack()}jn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||wt.activeChain,n=wt.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||wt.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=wt.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=wt.activeChain;if(e&&(n=e),!n)return;const r=(i=wt.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=wt.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=wt.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Ze.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return wt.chains.forEach(e=>{const n=ie.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){ie.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=ie.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));We.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return wt.chains.forEach(e=>{const n=ie.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return wt.activeCaipNetwork},getActiveCaipAddress(){return wt.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=wt.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=ie.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());ie.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||wt.activeCaipNetwork,r=ie.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!wt.activeChain)return!0;const e=ie.getRequestedCaipNetworks(wt.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){ie.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=F4e.caipNetworkIdToNumber((r=wt.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=wt.activeChain;if(!e||!t)return!1;const n=ie.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=wt.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=wt.activeCaipNetwork)==null?void 0:i.id)||1,n=Tr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){vr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=wt.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Tr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){ie.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");wt.activeCaipAddress=void 0,ie.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),We.removeConnectorId(e)},setIsSwitchingNamespace(t){wt.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(wt.chains.forEach(i=>{Ft.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=wt.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=ie.state.chains.get(t))==null?void 0:e.accountState:Mt.state},getNetworkData(t){var n;const e=t||wt.activeChain;if(e)return(n=ie.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=ie.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=We.state.filterByNamespace;return(t?[wt.chains.get(t)]:Array.from(wt.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?ie.getRequestedCaipNetworks(t):ie.getAllRequestedCaipNetworks()}}),ZTt={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Q4e=Ze.getBlockchainApiUrl(),rl=ei({clientId:null,api:new nC({baseUrl:Q4e,clientId:null}),supportedChains:{http:[],ws:[]}}),Xt={state:rl,async get(t){const{st:e,sv:n}=Xt.getSdkProperties(),r=Ne.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return rl.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Ne.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{rl.supportedChains.http.length||await Xt.getSupportedNetworks()}catch{return!1}return rl.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Xt.get({path:"v1/supported-chains"});return rl.supportedChains=t,t}catch{return rl.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Xt.isNetworkSupported(e))return{avatar:"",name:""};const r=Tt.getIdentityFromCacheForAddress(t);if(r)return r;const i=await Xt.get({path:`/v1/identity/${t}`,params:{sender:ie.state.activeCaipAddress?Ze.getPlainAddress(ie.state.activeCaipAddress):void 0}});return Tt.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await Xt.isNetworkSupported((a=ie.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Xt.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await Xt.isNetworkSupported((o=ie.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Xt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Xt.isNetworkSupported((n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Xt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Xt.isNetworkSupported((n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?rl.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Ne.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Xt.isNetworkSupported((r=ie.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Xt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=Xt.getSdkProperties();if(!await Xt.isNetworkSupported((i=ie.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return Xt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await Xt.isNetworkSupported((o=ie.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return rl.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Tr.CONVERT_SLIPPAGE_TOLERANCE},projectId:Ne.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=Xt.getSdkProperties();if(!await Xt.isNetworkSupported((o=ie.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Xt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=Xt.getSdkProperties();if(!await Xt.isNetworkSupported((l=ie.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return ts.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Tt.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Xt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return Tt.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await Xt.isNetworkSupported((n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Xt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Xt.isNetworkSupported((n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Xt.get({path:`/v1/profile/reverse/${t}`,params:{sender:Mt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Xt.isNetworkSupported((n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Xt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await Xt.isNetworkSupported((s=ie.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?rl.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await Xt.isNetworkSupported((a=ie.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await rl.api.post({path:"/v1/generators/onrampurl",params:{projectId:Ne.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await Xt.isNetworkSupported((e=ie.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Xt.get({path:"/v1/onramp/options"})}catch{return ZTt}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await Xt.isNetworkSupported((i=ie.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await rl.api.post({path:"/v1/onramp/quote",params:{projectId:Ne.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Xt.isNetworkSupported((n=ie.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Xt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await Xt.isNetworkSupported((i=ie.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?rl.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Ne.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){rl.clientId=t,rl.api=new nC({baseUrl:Q4e,clientId:t})}},ad=ei({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Mt=el({state:ad,replaceState(t){t&&Object.assign(ad,$w(t))},subscribe(t){return ie.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return ie.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){ie.setAccountProp("status",t,e)},getCaipAddress(t){return ie.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Ze.getPlainAddress(t):void 0;e===ie.state.activeChain&&(ie.state.activeCaipAddress=t),ie.setAccountProp("caipAddress",t,e),ie.setAccountProp("address",n,e)},setBalance(t,e,n){ie.setAccountProp("balance",t,n),ie.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){ie.setAccountProp("profileName",t,e)},setProfileImage(t,e){ie.setAccountProp("profileImage",t,e)},setUser(t,e){ie.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){ie.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){ie.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){ie.setAccountProp("currentTab",t,ie.state.activeChain)},setTokenBalance(t,e){t&&ie.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){ie.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){ie.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=ie.getAccountProp("addressLabels",n)||new Map;r.set(t,e),ie.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=ie.getAccountProp("addressLabels",e)||new Map;n.delete(t),ie.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){ie.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){ie.setAccountProp("preferredAccountTypes",{...ad.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){ad.preferredAccountTypes=t},setSocialProvider(t,e){t&&ie.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){ie.setAccountProp("socialWindow",t?$w(t):void 0,e)},setFarcasterUrl(t,e){ie.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;ad.balanceLoading=!0;const e=(s=ie.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=ie.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=ie.state.activeCaipAddress,i=r?Ze.getPlainAddress(r):void 0;if(ad.lastRetry&&!Ze.isAllowedRetry(ad.lastRetry,30*Tr.ONE_SEC_MS))return ad.balanceLoading=!1,[];try{if(i&&e&&n){const c=(await Xt.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!=="0");return Mt.setTokenBalance(c,n),ad.lastRetry=void 0,ad.balanceLoading=!1,c}}catch(a){ad.lastRetry=Date.now(),t==null||t(a),ts.showError("Token Balance Unavailable")}finally{ad.balanceLoading=!1}return[]},resetAccount(t){ie.resetAccount(t)}}),YTt={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=ie.state.activeCaipNetwork,r=Qe.state.data;if(t.id===(n==null?void 0:n.id))return;const s=Mt.getCaipAddress(ie.state.activeChain),o=t.chainNamespace!==ie.state.activeChain,a=Mt.getCaipAddress(t.chainNamespace),l=We.getConnectorId(ie.state.activeChain)===Ft.CONNECTOR_ID.AUTH,u=Ft.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?Qe.push("SwitchNetwork",{...r,network:t}):s&&o&&!a?Qe.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Qe.push("SwitchNetwork",{...r,network:t})}},il=ei({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),vr=el({state:il,subscribe(t){return Lo(il,()=>t(il))},subscribeKey(t,e){return Uo(il,t,e)},async open(t){var o,a;const e=Mt.state.status==="connected",n=t==null?void 0:t.namespace,r=ie.state.activeChain,i=n&&n!==r,s=(o=ie.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(at.state.wcBasic?Xe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Xe.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),We.setFilterByNamespace(t==null?void 0:t.namespace),vr.setLoading(!0,n),n&&i){const c=((a=ie.getNetworkData(n))==null?void 0:a.caipNetwork)||ie.getRequestedCaipNetworks(n)[0];c&&YTt.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=ie.state.noAdapters;Ne.state.manualWCControl||c&&!s?Ze.isMobile()?Qe.reset("AllWallets"):Qe.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Qe.reset(t.view,t.data):s?Qe.reset("Account"):Qe.reset("Connect")}il.open=!0,Hm.set({open:!0}),jn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=Ne.state.enableEmbedded,e=!!ie.state.activeCaipAddress;il.open&&jn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),il.open=!1,Qe.reset("Connect"),vr.clearLoading(),t?e?Qe.replace("Account"):Qe.push("Connect"):Hm.set({open:!1}),at.resetUri()},setLoading(t,e){e&&il.loadingNamespaceMap.set(e,t),il.loading=t,Hm.set({loading:t})},clearLoading(){il.loadingNamespaceMap.clear(),il.loading=!1},shake(){il.shake||(il.shake=!0,setTimeout(()=>{il.shake=!1},500))}}),sC={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},mK={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Zn=ei({providers:K4e,selectedProvider:null,error:null,purchaseCurrency:sC,paymentCurrency:mK,purchaseCurrencies:[sC],paymentCurrencies:[],quotesLoading:!1}),yK=el({state:Zn,subscribe(t){return Lo(Zn,()=>t(Zn))},subscribeKey(t,e){return Uo(Zn,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=ie.state.activeChain===Ft.CHAIN.SOLANA?"SOL":"USDC",n=Mt.state.address??"",r=new URL(t.url);r.searchParams.append("publicKey",RTt),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",n),r.searchParams.append("externalCustomerId",Ne.state.projectId),Zn.selectedProvider={...t,url:r.toString()}}else Zn.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=K4e.filter(r=>e.includes(r.name));Zn.providers=n}else Zn.providers=[]},setPurchaseCurrency(t){Zn.purchaseCurrency=t},setPaymentCurrency(t){Zn.paymentCurrency=t},setPurchaseAmount(t){yK.state.purchaseAmount=t},setPaymentAmount(t){yK.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Xt.getOnrampOptions();Zn.purchaseCurrencies=t.purchaseCurrencies,Zn.paymentCurrencies=t.paymentCurrencies,Zn.paymentCurrency=t.paymentCurrencies[0]||mK,Zn.purchaseCurrency=t.purchaseCurrencies[0]||sC,await Xe.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Xe.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Zn.quotesLoading=!0;try{const n=await Xt.getOnrampQuote({purchaseCurrency:Zn.purchaseCurrency,paymentCurrency:Zn.paymentCurrency,amount:((t=Zn.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Zn.purchaseCurrency)==null?void 0:e.symbol});return Zn.quotesLoading=!1,Zn.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Zn.error=n.message,Zn.quotesLoading=!1,null}finally{Zn.quotesLoading=!1}},resetState(){Zn.selectedProvider=null,Zn.error=null,Zn.purchaseCurrency=sC,Zn.paymentCurrency=mK,Zn.purchaseCurrencies=[sC],Zn.paymentCurrencies=[],Zn.paymentAmount=void 0,Zn.purchaseAmount=void 0,Zn.quotesLoading=!1}}),wh=ei({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),a5=el({state:wh,subscribe(t){return Lo(wh,()=>t(wh))},subscribeKey(t,e){return Uo(wh,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){wh.open=!0,wh.message=t,wh.triggerRect=e,wh.variant=n},hide(){wh.open=!1,wh.message="",wh.triggerRect={width:0,height:0,top:0,left:0}}}),X4e=2147483648,JTt={convertEVMChainIdToCoinType(t){if(t>=X4e)throw new Error("Invalid chainId");return(X4e|t)>>>0}},cd=ei({suggestions:[],loading:!1}),oC=el({state:cd,subscribe(t){return Lo(cd,()=>t(cd))},subscribeKey(t,e){return Uo(cd,t,e)},async resolveName(t){var e,n;try{return await Xt.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Xt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{cd.loading=!0,cd.suggestions=[];const e=await Xt.getEnsNameSuggestions(t);return cd.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],cd.suggestions}catch(e){const n=oC.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{cd.loading=!1}},async getNamesForAddress(t){try{if(!ie.state.activeCaipNetwork)return[];const n=Tt.getEnsFromCacheForAddress(t);if(n)return n;const r=await Xt.reverseLookupEnsName({address:t});return Tt.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=oC.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=ie.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Mt.state.address,r=We.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");cd.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Qe.pushTransactionStack({onCancel(){Qe.replace("RegisterAccountName")}});const s=await at.signMessage(i);cd.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=JTt.convertEVMChainIdToCoinType(Number(o));await Xt.registerEnsName({coinType:a,address:n,signature:s,message:i}),Mt.setProfileName(t,e.chainNamespace),Qe.replace("RegisterAccountNameSuccess")}catch(i){const s=oC.parseEnsApiError(i,`Error registering name ${t}`);throw Qe.replace("RegisterAccountName"),new Error(s)}finally{cd.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}});function QTt(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function eo(t,...e){try{return QTt(t(...e))}catch(n){return Promise.reject(n)}}function XTt(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function ePt(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function yP(t){if(XTt(t))return String(t);if(ePt(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return yP(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const wK="base64:";function tPt(t){return typeof t=="string"?t:wK+iPt(t)}function nPt(t){return typeof t!="string"||!t.startsWith(wK)?t:rPt(t.slice(wK.length))}function rPt(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function iPt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function sl(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function sPt(...t){return sl(t.join(":"))}function wP(t){return t=sl(t),t?t+":":""}function oPt(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function aPt(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}function ctn(t){return t}const cPt="memory",lPt=()=>{const t=new Map;return{name:cPt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function uPt(t={}){const e={mounts:{"":t.driver||lPt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=sl(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await e8e(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",w=sl(m?p:p.key),y=m?void 0:p.value,b=m||!p.options?u:{...u,...p.options},v=n(w);f(v).items.push({key:w,value:y,relativeKey:v.relativeKey,options:b})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=sl(l);const{relativeKey:d,driver:h}=n(l);return eo(h.hasItem,d,u)},getItem(l,u={}){l=sl(l);const{relativeKey:d,driver:h}=n(l);return eo(h.getItem,d,u).then(f=>Dp(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?eo(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:sPt(d.base,f.key),value:Dp(f.value)}))):Promise.all(d.items.map(h=>eo(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:Dp(f)})))))},getItemRaw(l,u={}){l=sl(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?eo(h.getItemRaw,d,u):eo(h.getItem,d,u).then(f=>nPt(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=sl(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await eo(f.setItem,h,yP(u),d),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return eo(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:yP(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>eo(d.driver.setItem,h.relativeKey,yP(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=sl(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await eo(f.setItemRaw,h,u,d);else if(f.setItem)await eo(f.setItem,h,tPt(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=sl(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await eo(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await eo(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=sl(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await eo(h.getMeta,d,u)),!u.nativeOnly){const p=await eo(h.getItem,d+"$",u).then(m=>Dp(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var w;l=wP(l);const d=r(l,!0);let h=[];const f=[];let p=!0;for(const y of d){(w=y.driver.flags)!=null&&w.maxDepth||(p=!1);const b=await eo(y.driver.getKeys,y.relativeBase,u);for(const v of b){const E=y.mountpoint+sl(v);h.some(_=>E.startsWith(_))||f.push(E)}h=[y.mountpoint,...h.filter(v=>!v.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(y=>(!m||oPt(y,u.maxDepth))&&aPt(y,l))},async clear(l,u={}){l=wP(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return eo(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>t8e(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=wP(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(e8e(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=wP(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await t8e(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=sl(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=sl(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function e8e(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function t8e(t){typeof t.dispose=="function"&&await eo(t.dispose)}const dPt="idb-keyval";var hPt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=r$(t.dbName,t.storeName)),{name:dPt,options:t,async hasItem(i){return!(typeof await pE(n(i),r)>"u")},async getItem(i){return await pE(n(i),r)??null},setItem(i,s){return hW(n(i),s,r)},removeItem(i){return fW(n(i),r)},getKeys(){return P1e(r)},clear(){return T1e(r)}}};const fPt="WALLET_CONNECT_V2_INDEXED_DB",pPt="keyvaluestorage";let gPt=class{constructor(){this.indexedDb=uPt({driver:hPt({dbName:fPt,storeName:pPt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Nc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var vK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vP={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof vK<"u"&&vK.localStorage?vP.exports=vK.localStorage:typeof window<"u"&&window.localStorage?vP.exports=window.localStorage:vP.exports=new e})();function mPt(t){var e;return[t[0],Xd((e=t[1])!=null?e:"")]}let yPt=class{constructor(){this.localStorage=vP.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(mPt)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Xd(n)}async setItem(e,n){this.localStorage.setItem(e,Nc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const wPt="wc_storage_version",n8e=1,vPt=async(t,e,n)=>{const r=wPt,i=await e.getItem(r);if(i&&i>=n8e){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,n8e),n(e),bPt(t,o)},bPt=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let xPt=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new yPt;this.storage=e;try{const n=new gPt;vPt(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var EPt=Object.defineProperty,CPt=(t,e,n)=>e in t?EPt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r8e=(t,e,n)=>CPt(t,typeof e!="symbol"?e+"":e,n);let _Pt=class extends Ll{constructor(e){super(),this.opts=e,r8e(this,"protocol","wc"),r8e(this,"version",2)}};var APt=Object.defineProperty,SPt=(t,e,n)=>e in t?APt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IPt=(t,e,n)=>SPt(t,e+"",n);let kPt=class extends Ll{constructor(e,n){super(),this.core=e,this.logger=n,IPt(this,"records",new Map)}},$Pt=class{constructor(e,n){this.logger=e,this.core=n}},TPt=class extends Ll{constructor(e,n){super(),this.relayer=e,this.logger=n}},PPt=class extends Ll{constructor(e){super()}},NPt=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},OPt=class extends Ll{constructor(e,n){super(),this.relayer=e,this.logger=n}},RPt=class extends Ll{constructor(e,n){super(),this.core=e,this.logger=n}},MPt=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},jPt=class{constructor(e,n){this.projectId=e,this.logger=n}},BPt=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};function bP(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function DPt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function aC(t,...e){if(!DPt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function LPt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bP(t.outputLen),bP(t.blockLen)}function c5(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i8e(t,e){aC(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const xP=BigInt(2**32-1),s8e=BigInt(32);function UPt(t,e=!1){return e?{h:Number(t&xP),l:Number(t>>s8e&xP)}:{h:Number(t>>s8e&xP)|0,l:Number(t&xP)|0}}function FPt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=UPt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const zPt=(t,e,n)=>t<<n|e>>>32-n,WPt=(t,e,n)=>e<<n|t>>>32-n,qPt=(t,e,n)=>e<<n-32|t>>>64-n,HPt=(t,e,n)=>t<<n-32|e>>>64-n,l5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VPt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function bK(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Wf(t,e){return t<<32-e|t>>>e}const o8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function KPt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function a8e(t){for(let e=0;e<t.length;e++)t[e]=KPt(t[e])}function GPt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function EP(t){return typeof t=="string"&&(t=GPt(t)),aC(t),t}function ZPt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];aC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class xK{clone(){return this._cloneInto()}}function c8e(t){const e=r=>t().update(EP(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function YPt(t=32){if(l5&&typeof l5.getRandomValues=="function")return l5.getRandomValues(new Uint8Array(t));if(l5&&typeof l5.randomBytes=="function")return l5.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const l8e=[],u8e=[],d8e=[],JPt=BigInt(0),cC=BigInt(1),QPt=BigInt(2),XPt=BigInt(7),eNt=BigInt(256),tNt=BigInt(113);for(let t=0,e=cC,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],l8e.push(2*(5*r+n)),u8e.push((t+1)*(t+2)/2%64);let i=JPt;for(let s=0;s<7;s++)e=(e<<cC^(e>>XPt)*tNt)%eNt,e&QPt&&(i^=cC<<(cC<<BigInt(s))-cC);d8e.push(i)}const[nNt,rNt]=FPt(d8e,!0),h8e=(t,e,n)=>n>32?qPt(t,e,n):zPt(t,e,n),f8e=(t,e,n)=>n>32?HPt(t,e,n):WPt(t,e,n);function iNt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=h8e(l,u,1)^n[a],h=f8e(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=u8e[o],c=h8e(i,s,a),l=f8e(i,s,a),u=l8e[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=nNt[r],t[1]^=rNt[r]}n.fill(0)}class EK extends xK{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,bP(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=VPt(this.state)}keccak(){o8e||a8e(this.state32),iNt(this.state32,this.rounds),o8e||a8e(this.state32),this.posOut=0,this.pos=0}update(e){c5(this);const{blockLen:n,state:r}=this;e=EP(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){c5(this,!1),aC(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return bP(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i8e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new EK(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const sNt=((t,e,n)=>c8e(()=>new EK(e,t,n)))(1,136,256/8);function oNt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function aNt(t,e,n){return t&e^~t&n}function cNt(t,e,n){return t&e^t&n^e&n}class lNt extends xK{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bK(this.buffer)}update(e){c5(this);const{view:n,buffer:r,blockLen:i}=this;e=EP(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=bK(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){c5(this),i8e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;oNt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=bK(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const uNt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Km=new Uint32Array(64);class dNt extends lNt{constructor(){super(64,32,8,!1),this.A=Vm[0]|0,this.B=Vm[1]|0,this.C=Vm[2]|0,this.D=Vm[3]|0,this.E=Vm[4]|0,this.F=Vm[5]|0,this.G=Vm[6]|0,this.H=Vm[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Km[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Km[d-15],f=Km[d-2],p=Wf(h,7)^Wf(h,18)^h>>>3,m=Wf(f,17)^Wf(f,19)^f>>>10;Km[d]=m+Km[d-7]+p+Km[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Wf(a,6)^Wf(a,11)^Wf(a,25),f=u+h+aNt(a,c,l)+uNt[d]+Km[d]|0,m=(Wf(r,2)^Wf(r,13)^Wf(r,22))+cNt(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Km.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const hNt=c8e(()=>new dNt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CP=BigInt(0),_P=BigInt(1),fNt=BigInt(2);function Nw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lC(t){if(!Nw(t))throw new Error("Uint8Array expected")}function u5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const pNt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function d5(t){lC(t);let e="";for(let n=0;n<t.length;n++)e+=pNt[t[n]];return e}function h5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function CK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?CP:BigInt("0x"+t)}const A0={_0:48,_9:57,A:65,F:70,a:97,f:102};function p8e(t){if(t>=A0._0&&t<=A0._9)return t-A0._0;if(t>=A0.A&&t<=A0.F)return t-(A0.A-10);if(t>=A0.a&&t<=A0.f)return t-(A0.a-10)}function f5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=p8e(t.charCodeAt(s)),a=p8e(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ow(t){return CK(d5(t))}function _K(t){return lC(t),CK(d5(Uint8Array.from(t).reverse()))}function p5(t,e){return f5(t.toString(16).padStart(e*2,"0"))}function AK(t,e){return p5(t,e).reverse()}function gNt(t){return f5(h5(t))}function vh(t,e,n){let r;if(typeof e=="string")try{r=f5(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Nw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function uC(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];lC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function mNt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function yNt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const SK=t=>typeof t=="bigint"&&CP<=t;function AP(t,e,n){return SK(t)&&SK(e)&&SK(n)&&e<=t&&t<n}function Rw(t,e,n,r){if(!AP(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function g8e(t){let e;for(e=0;t>CP;t>>=_P,e+=1);return e}function wNt(t,e){return t>>BigInt(e)&_P}function vNt(t,e,n){return t|(n?_P:CP)<<BigInt(e)}const IK=t=>(fNt<<BigInt(t-1))-_P,kK=t=>new Uint8Array(t),m8e=t=>Uint8Array.from(t);function y8e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=kK(t),i=kK(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=kK())=>{i=a(m8e([0]),d),r=a(),d.length!==0&&(i=a(m8e([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return uC(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const bNt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Nw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dC(t,e,n={}){const r=(i,s,o)=>{const a=bNt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const xNt=()=>{throw new Error("not implemented")};function $K(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const ENt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Rw,abool:u5,abytes:lC,bitGet:wNt,bitLen:g8e,bitMask:IK,bitSet:vNt,bytesToHex:d5,bytesToNumberBE:Ow,bytesToNumberLE:_K,concatBytes:uC,createHmacDrbg:y8e,ensureBytes:vh,equalBytes:mNt,hexToBytes:f5,hexToNumber:CK,inRange:AP,isBytes:Nw,memoized:$K,notImplemented:xNt,numberToBytesBE:p5,numberToBytesLE:AK,numberToHexUnpadded:h5,numberToVarBytesBE:gNt,utf8ToBytes:yNt,validateObject:dC},Symbol.toStringTag,{value:"Module"}));class w8e extends xK{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,LPt(e);const r=EP(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return c5(this),this.iHash.update(e),this}digestInto(e){c5(this),aC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const v8e=(t,e,n)=>new w8e(t,e).update(n).digest();v8e.create=(t,e)=>new w8e(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const to=BigInt(0),ns=BigInt(1),Mw=BigInt(2),CNt=BigInt(3),TK=BigInt(4),b8e=BigInt(5),x8e=BigInt(8);function ol(t,e){const n=t%e;return n>=to?n:e+n}function _Nt(t,e,n){if(e<to)throw new Error("invalid exponent, negatives unsupported");if(n<=to)throw new Error("invalid modulus");if(n===ns)return to;let r=ns;for(;e>to;)e&ns&&(r=r*t%n),t=t*t%n,e>>=ns;return r}function ld(t,e,n){let r=t;for(;e-- >to;)r*=r,r%=n;return r}function PK(t,e){if(t===to)throw new Error("invert: expected non-zero number");if(e<=to)throw new Error("invert: expected positive modulus, got "+e);let n=ol(t,e),r=e,i=to,s=ns;for(;n!==to;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==ns)throw new Error("invert: does not exist");return ol(i,e)}function ANt(t){const e=(t-ns)/Mw;let n,r,i;for(n=t-ns,r=0;n%Mw===to;n/=Mw,r++);for(i=Mw;i<t&&_Nt(i,e,t)!==t-ns;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ns)/TK;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+ns)/Mw;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(h);f<l&&!a.eql(m,a.ONE);f++)m=a.sqr(m);const p=a.pow(u,ns<<BigInt(l-f-1));u=a.sqr(p),d=a.mul(d,p),h=a.mul(h,u),l=f}return d}}function SNt(t){if(t%TK===CNt){const e=(t+ns)/TK;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%x8e===b8e){const e=(t-b8e)/x8e;return function(r,i){const s=r.mul(i,Mw),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,Mw),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return ANt(t)}const INt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kNt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=INt.reduce((r,i)=>(r[i]="function",r),e);return dC(t,n)}function $Nt(t,e,n){if(n<to)throw new Error("invalid exponent, negatives unsupported");if(n===to)return t.ONE;if(n===ns)return e;let r=t.ONE,i=e;for(;n>to;)n&ns&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ns;return r}function TNt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function E8e(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function C8e(t,e,n=!1,r={}){if(t<=to)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=E8e(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:IK(i),ZERO:to,ONE:ns,create:c=>ol(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return to<=c&&c<t},is0:c=>c===to,isOdd:c=>(c&ns)===ns,neg:c=>ol(-c,t),eql:(c,l)=>c===l,sqr:c=>ol(c*c,t),add:(c,l)=>ol(c+l,t),sub:(c,l)=>ol(c-l,t),mul:(c,l)=>ol(c*l,t),pow:(c,l)=>$Nt(a,c,l),div:(c,l)=>ol(c*PK(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>PK(c,t),sqrt:r.sqrt||(c=>(o||(o=SNt(t)),o(a,c))),invertBatch:c=>TNt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?AK(c,s):p5(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?_K(c):Ow(c)}});return Object.freeze(a)}function _8e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function A8e(t){const e=_8e(t);return e+Math.ceil(e/2)}function PNt(t,e,n=!1){const r=t.length,i=_8e(e),s=A8e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?_K(t):Ow(t),a=ol(o,e-ns)+ns;return n?AK(a,i):p5(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S8e=BigInt(0),SP=BigInt(1);function NK(t,e){const n=e.negate();return t?n:e}function I8e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function OK(t,e){I8e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function NNt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ONt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const RK=new WeakMap,k8e=new WeakMap;function MK(t){return k8e.get(t)||1}function RNt(t,e){return{constTimeNegate:NK,hasPrecomputes(n){return MK(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>S8e;)r&SP&&(i=i.add(s)),s=s.double(),r>>=SP;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=OK(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=OK(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let p=Number(i&l);i>>=d,p>o&&(p-=u,i+=SP);const m=f,w=f+Math.abs(p)-1,y=h%2!==0,b=p<0;p===0?c=c.add(NK(y,r[m])):a=a.add(NK(b,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=OK(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===S8e)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=SP),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=RK.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&RK.set(r,i(s))),s},wNAFCached(n,r,i){const s=MK(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=MK(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){I8e(r,e),k8e.set(n,r),RK.delete(n)}}}function MNt(t,e,n,r){if(NNt(n,t),ONt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=g8e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function $8e(t){return kNt(t.Fp),dC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...E8e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function T8e(t){t.lowS!==void 0&&u5("lowS",t.lowS),t.prehash!==void 0&&u5("prehash",t.prehash)}function jNt(t){const e=$8e(t);dC(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:BNt,hexToBytes:DNt}=ENt;class LNt extends Error{constructor(e=""){super(e)}}const S0={Err:LNt,_tlv:{encode:(t,e)=>{const{Err:n}=S0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=h5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?h5(i.length/2|128):"";return h5(t)+s+i+e},decode(t,e){const{Err:n}=S0;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=S0;if(t<I0)throw new e("integer: negative integers are not allowed");let n=h5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=S0;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return BNt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=S0,i=typeof t=="string"?DNt(t):t;lC(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=S0,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},I0=BigInt(0),no=BigInt(1);BigInt(2);const P8e=BigInt(3);BigInt(4);function UNt(t){const e=jNt(t),{Fp:n}=e,r=C8e(e.n,e.nBitLength),i=e.toBytes||((m,w,y)=>{const b=w.toAffine();return uC(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const w=m.subarray(1),y=n.fromBytes(w.subarray(0,n.BYTES)),b=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function o(m){const{a:w,b:y}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,w)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return AP(m,no,e.n)}function c(m){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:b,n:v}=e;if(w&&typeof m!="bigint"){if(Nw(m)&&(m=d5(m)),typeof m!="string"||!w.includes(m.length))throw new Error("invalid private key");m=m.padStart(y*2,"0")}let E;try{E=typeof m=="bigint"?m:Ow(vh("private key",m,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof m)}return b&&(E=ol(E,v)),Rw("private key",E,no,v),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const u=$K((m,w)=>{const{px:y,py:b,pz:v}=m;if(n.eql(v,n.ONE))return{x:y,y:b};const E=m.is0();w==null&&(w=E?n.ONE:n.inv(v));const _=n.mul(y,w),T=n.mul(b,w),I=n.mul(v,w);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:_,y:T}}),d=$K(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=m.toAffine();if(!n.isValid(w)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),v=o(w);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(w,y,b){if(this.px=w,this.py=y,this.pz=b,w==null||!n.isValid(w))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:y,y:b}=w||{};if(!w||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(y)&&v(b)?h.ZERO:new h(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=n.invertBatch(w.map(b=>b.pz));return w.map((b,v)=>b.toAffine(y[v])).map(h.fromAffine)}static fromHex(w){const y=h.fromAffine(s(vh("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return h.BASE.multiply(c(w))}static msm(w,y){return MNt(h,r,w,y)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:y,py:b,pz:v}=this,{px:E,py:_,pz:T}=w,I=n.eql(n.mul(y,T),n.mul(E,v)),R=n.eql(n.mul(b,T),n.mul(_,v));return I&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:y}=e,b=n.mul(y,P8e),{px:v,py:E,pz:_}=this;let T=n.ZERO,I=n.ZERO,R=n.ZERO,S=n.mul(v,v),B=n.mul(E,E),j=n.mul(_,_),U=n.mul(v,E);return U=n.add(U,U),R=n.mul(v,_),R=n.add(R,R),T=n.mul(w,R),I=n.mul(b,j),I=n.add(T,I),T=n.sub(B,I),I=n.add(B,I),I=n.mul(T,I),T=n.mul(U,T),R=n.mul(b,R),j=n.mul(w,j),U=n.sub(S,j),U=n.mul(w,U),U=n.add(U,R),R=n.add(S,S),S=n.add(R,S),S=n.add(S,j),S=n.mul(S,U),I=n.add(I,S),j=n.mul(E,_),j=n.add(j,j),S=n.mul(j,U),T=n.sub(T,S),R=n.mul(j,B),R=n.add(R,R),R=n.add(R,R),new h(T,I,R)}add(w){l(w);const{px:y,py:b,pz:v}=this,{px:E,py:_,pz:T}=w;let I=n.ZERO,R=n.ZERO,S=n.ZERO;const B=e.a,j=n.mul(e.b,P8e);let U=n.mul(y,E),M=n.mul(b,_),C=n.mul(v,T),x=n.add(y,b),A=n.add(E,_);x=n.mul(x,A),A=n.add(U,M),x=n.sub(x,A),A=n.add(y,v);let N=n.add(E,T);return A=n.mul(A,N),N=n.add(U,C),A=n.sub(A,N),N=n.add(b,v),I=n.add(_,T),N=n.mul(N,I),I=n.add(M,C),N=n.sub(N,I),S=n.mul(B,A),I=n.mul(j,C),S=n.add(I,S),I=n.sub(M,S),S=n.add(M,S),R=n.mul(I,S),M=n.add(U,U),M=n.add(M,U),C=n.mul(B,C),A=n.mul(j,A),M=n.add(M,C),C=n.sub(U,C),C=n.mul(B,C),A=n.add(A,C),U=n.mul(M,A),R=n.add(R,U),U=n.mul(N,A),I=n.mul(x,I),I=n.sub(I,U),U=n.mul(x,M),S=n.mul(N,S),S=n.add(S,U),new h(I,R,S)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return p.wNAFCached(this,w,h.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:b}=e;Rw("scalar",w,I0,b);const v=h.ZERO;if(w===I0)return v;if(this.is0()||w===no)return this;if(!y||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,h.normalizeZ);let{k1neg:E,k1:_,k2neg:T,k2:I}=y.splitScalar(w),R=v,S=v,B=this;for(;_>I0||I>I0;)_&no&&(R=R.add(B)),I&no&&(S=S.add(B)),B=B.double(),_>>=no,I>>=no;return E&&(R=R.negate()),T&&(S=S.negate()),S=new h(n.mul(S.px,y.beta),S.py,S.pz),R.add(S)}multiply(w){const{endo:y,n:b}=e;Rw("scalar",w,no,b);let v,E;if(y){const{k1neg:_,k1:T,k2neg:I,k2:R}=y.splitScalar(w);let{p:S,f:B}=this.wNAF(T),{p:j,f:U}=this.wNAF(R);S=p.constTimeNegate(_,S),j=p.constTimeNegate(I,j),j=new h(n.mul(j.px,y.beta),j.py,j.pz),v=S.add(j),E=B.add(U)}else{const{p:_,f:T}=this.wNAF(w);v=_,E=T}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(w,y,b){const v=h.BASE,E=(T,I)=>I===I0||I===no||!T.equals(v)?T.multiplyUnsafe(I):T.multiply(I),_=E(this,y).add(E(w,b));return _.is0()?void 0:_}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=e;if(w===no)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=e;return w===no?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return u5("isCompressed",w),this.assertValidity(),i(h,this,w)}toHex(w=!0){return u5("isCompressed",w),d5(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=RNt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function FNt(t){const e=$8e(t);return dC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function zNt(t){const e=FNt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return ol(C,r)}function a(C){return PK(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=UNt({...e,toBytes(C,x,A){const N=x.toAffine(),O=n.toBytes(N.x),P=uC;return u5("isCompressed",A),A?P(Uint8Array.from([x.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,n.toBytes(N.y))},fromBytes(C){const x=C.length,A=C[0],N=C.subarray(1);if(x===i&&(A===2||A===3)){const O=Ow(N);if(!AP(O,no,n.ORDER))throw new Error("Point is not on curve");const P=u(O);let D;try{D=n.sqrt(P)}catch(q){const V=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+V)}const L=(D&no)===no;return(A&1)===1!==L&&(D=n.neg(D)),{x:O,y:D}}else if(x===s&&A===4){const O=n.fromBytes(N.subarray(0,n.BYTES)),P=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:O,y:P}}else{const O=i,P=s;throw new Error("invalid Point, expected length of "+O+", or uncompressed "+P+", got "+x)}}}),h=C=>d5(p5(C,e.nByteLength));function f(C){const x=r>>no;return C>x}function p(C){return f(C)?o(-C):C}const m=(C,x,A)=>Ow(C.slice(x,A));class w{constructor(x,A,N){this.r=x,this.s=A,this.recovery=N,this.assertValidity()}static fromCompact(x){const A=e.nByteLength;return x=vh("compactSignature",x,A*2),new w(m(x,0,A),m(x,A,2*A))}static fromDER(x){const{r:A,s:N}=S0.toSig(vh("DER",x));return new w(A,N)}assertValidity(){Rw("r",this.r,no,r),Rw("s",this.s,no,r)}addRecoveryBit(x){return new w(this.r,this.s,x)}recoverPublicKey(x){const{r:A,s:N,recovery:O}=this,P=T(vh("msgHash",x));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?A+e.n:A;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const L=O&1?"03":"02",$=c.fromHex(L+h(D)),q=a(D),V=o(-P*q),F=o(N*q),Z=c.BASE.multiplyAndAddUnsafe($,V,F);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return f5(this.toDERHex())}toDERHex(){return S0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return f5(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const C=A8e(e.n);return PNt(e.randomBytes(C),e.n)},precompute(C=8,x=c.BASE){return x._setWindowSize(C),x.multiply(BigInt(3)),x}};function b(C,x=!0){return c.fromPrivateKey(C).toRawBytes(x)}function v(C){const x=Nw(C),A=typeof C=="string",N=(x||A)&&C.length;return x?N===i||N===s:A?N===2*i||N===2*s:C instanceof c}function E(C,x,A=!0){if(v(C))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(C)).toRawBytes(A)}const _=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const x=Ow(C),A=C.length*8-e.nBitLength;return A>0?x>>BigInt(A):x},T=e.bits2int_modN||function(C){return o(_(C))},I=IK(e.nBitLength);function R(C){return Rw("num < 2^"+e.nBitLength,C,I0,I),p5(C,e.nByteLength)}function S(C,x,A=B){if(["recovered","canonical"].some(Y=>Y in A))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:L}=A;P==null&&(P=!0),C=vh("msgHash",C),T8e(A),D&&(C=vh("prehashed msgHash",N(C)));const $=T(C),q=l(x),V=[R(q),R($)];if(L!=null&&L!==!1){const Y=L===!0?O(n.BYTES):L;V.push(vh("extraEntropy",Y))}const F=uC(...V),Z=$;function X(Y){const te=_(Y);if(!d(te))return;const fe=a(te),he=c.BASE.multiply(te).toAffine(),pe=o(he.x);if(pe===I0)return;const be=o(fe*o(Z+pe*q));if(be===I0)return;let ge=(he.x===pe?0:2)|Number(he.y&no),ye=be;return P&&f(be)&&(ye=p(be),ge^=1),new w(pe,ye,ge)}return{seed:F,k2sig:X}}const B={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function U(C,x,A=B){const{seed:N,k2sig:O}=S(C,x,A),P=e;return y8e(P.hash.outputLen,P.nByteLength,P.hmac)(N,O)}c.BASE._setWindowSize(8);function M(C,x,A,N=j){var ge;const O=C;x=vh("msgHash",x),A=vh("publicKey",A);const{lowS:P,prehash:D,format:L}=N;if(T8e(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(L!==void 0&&L!=="compact"&&L!=="der")throw new Error("format must be compact or der");const $=typeof O=="string"||Nw(O),q=!$&&!L&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!$&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,F;try{if(q&&(V=new w(O.r,O.s)),$){try{L!=="compact"&&(V=w.fromDER(O))}catch(ye){if(!(ye instanceof S0.Err))throw ye}!V&&L!=="der"&&(V=w.fromCompact(O))}F=c.fromHex(A)}catch{return!1}if(!V||P&&V.hasHighS())return!1;D&&(x=e.hash(x));const{r:Z,s:X}=V,Y=T(x),te=a(X),fe=o(Y*te),he=o(Z*te),pe=(ge=c.BASE.multiplyAndAddUnsafe(F,fe,he))==null?void 0:ge.toAffine();return pe?o(pe.x)===Z:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:U,verify:M,ProjectivePoint:c,Signature:w,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WNt(t){return{hash:t,hmac:(e,...n)=>v8e(t,e,ZPt(...n)),randomBytes:YPt}}function qNt(t,e){const n=r=>zNt({...t,...WNt(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N8e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),O8e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),HNt=BigInt(1),jK=BigInt(2),R8e=(t,e)=>(t+e/jK)/e;function VNt(t){const e=N8e,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=ld(u,n,e)*u%e,h=ld(d,n,e)*u%e,f=ld(h,jK,e)*l%e,p=ld(f,i,e)*f%e,m=ld(p,s,e)*p%e,w=ld(m,a,e)*m%e,y=ld(w,c,e)*w%e,b=ld(y,a,e)*m%e,v=ld(b,n,e)*u%e,E=ld(v,o,e)*p%e,_=ld(E,r,e)*l%e,T=ld(_,jK,e);if(!BK.eql(BK.sqr(T),t))throw new Error("Cannot find square root");return T}const BK=C8e(N8e,void 0,void 0,{sqrt:VNt}),M8e=qNt({a:BigInt(0),b:BigInt(7),Fp:BK,n:O8e,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=O8e,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-HNt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=R8e(s*t,e),c=R8e(-r*t,e);let l=ol(t-a*n-c*i,e),u=ol(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},hNt);BigInt(0),M8e.ProjectivePoint;const KNt=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:M8e},Symbol.toStringTag,{value:"Module"}));function j8e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function hC(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=j8e(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function B8e(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const D8e=B8e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),DK=B8e("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=j8e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),L8e={utf8:D8e,"utf-8":D8e,hex:kk.base16,latin1:DK,ascii:DK,binary:DK,...kk};function al(t,e="utf8"){const n=L8e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Ia(t,e="utf8"){const n=L8e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var GNt={};const ZNt="ReactNative",bh={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},YNt="js";function IP(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function jw(){return!Za()&&!!Py()&&navigator.product===ZNt}function JNt(){return jw()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function QNt(){return jw()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function fC(){return!IP()&&!!Py()&&!!Za()}function kP(){return jw()?bh.reactNative:IP()?bh.node:fC()?bh.browser:bh.unknown}function U8e(){var t;try{return jw()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function XNt(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function eOt(){return ik()||{name:"",description:"",url:"",icons:[""]}}function tOt(){if(kP()===bh.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=fpe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function nOt(){var t;const e=kP();return e===bh.browser?[e,((t=IF())==null?void 0:t.host)||"unknown"].join(":"):e}function F8e(t,e,n){const r=tOt(),i=nOt();return[[t,e].join("-"),[YNt,n].join("-"),r,i].join("/")}function rOt({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=F8e(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=XNt(l[1]||"",d);return l[0]+"?"+h}function LK(t){return Object.fromEntries(t.entries())}function UK(t){return new Map(Object.entries(t))}function iOt(t=me.FIVE_MINUTES,e){const n=me.toMiliseconds(t||me.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Gm(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function z8e(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function sOt(t){return z8e("topic",t)}function oOt(t){return z8e("id",t)}function aOt(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function pC(t,e){return me.fromMiliseconds(Date.now()+me.toMiliseconds(t))}function W8e(t){return Date.now()>=me.toMiliseconds(t)}function FK(t,e){return`${t}${e?`:${e}`:""}`}function q8e(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function H8e(){return typeof process<"u"&&GNt.IS_VITEST==="true"}function V8e(t){return Buffer.from(t,"base64").toString("utf-8")}function cOt(t){return new Promise(e=>setTimeout(e,t))}function gC(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lOt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mC(t,...e){if(!lOt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function zK(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gC(t.outputLen),gC(t.blockLen)}function g5(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function K8e(t,e){mC(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const $P=BigInt(2**32-1),G8e=BigInt(32);function uOt(t,e=!1){return e?{h:Number(t&$P),l:Number(t>>G8e&$P)}:{h:Number(t>>G8e&$P)|0,l:Number(t&$P)|0}}function dOt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=uOt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const hOt=(t,e,n)=>t<<n|e>>>32-n,fOt=(t,e,n)=>e<<n|t>>>32-n,pOt=(t,e,n)=>e<<n-32|t>>>64-n,gOt=(t,e,n)=>t<<n-32|e>>>64-n,m5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function mOt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function WK(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qf(t,e){return t<<32-e|t>>>e}const Z8e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yOt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Y8e(t){for(let e=0;e<t.length;e++)t[e]=yOt(t[e])}function wOt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function y5(t){return typeof t=="string"&&(t=wOt(t)),mC(t),t}function vOt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];mC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let qK=class{clone(){return this._cloneInto()}};function J8e(t){const e=r=>t().update(y5(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function w5(t=32){if(m5&&typeof m5.getRandomValues=="function")return m5.getRandomValues(new Uint8Array(t));if(m5&&typeof m5.randomBytes=="function")return m5.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Q8e=[],X8e=[],exe=[],bOt=BigInt(0),yC=BigInt(1),xOt=BigInt(2),EOt=BigInt(7),COt=BigInt(256),_Ot=BigInt(113);for(let t=0,e=yC,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Q8e.push(2*(5*r+n)),X8e.push((t+1)*(t+2)/2%64);let i=bOt;for(let s=0;s<7;s++)e=(e<<yC^(e>>EOt)*_Ot)%COt,e&xOt&&(i^=yC<<(yC<<BigInt(s))-yC);exe.push(i)}const[AOt,SOt]=dOt(exe,!0),txe=(t,e,n)=>n>32?pOt(t,e,n):hOt(t,e,n),nxe=(t,e,n)=>n>32?gOt(t,e,n):fOt(t,e,n);function IOt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=txe(l,u,1)^n[a],h=nxe(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=X8e[o],c=txe(i,s,a),l=nxe(i,s,a),u=Q8e[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=AOt[r],t[1]^=SOt[r]}n.fill(0)}let kOt=class zAe extends qK{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gC(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=mOt(this.state)}keccak(){Z8e||Y8e(this.state32),IOt(this.state32,this.rounds),Z8e||Y8e(this.state32),this.posOut=0,this.pos=0}update(e){g5(this);const{blockLen:n,state:r}=this;e=y5(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){g5(this,!1),mC(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return gC(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(K8e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new zAe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};((t,e,n)=>J8e(()=>new kOt(e,t,n)))(1,136,256/8);function HK(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function rxe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ru(t,...e){if(!rxe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ixe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function $Ot(t,e){ru(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function sxe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Zm=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),TOt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function POt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function VK(t){if(typeof t=="string")t=POt(t);else if(rxe(t))t=KK(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function NOt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function OOt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const ROt=(t,e)=>{function n(r,...i){if(ru(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?ru(l):ru(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ru(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ru(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ru(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ru(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function oxe(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!MOt(e))throw new Error("invalid output, must be aligned");return e}function axe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function MOt(t){return t.byteOffset%4===0}function KK(t){return Uint8Array.from(t)}function v5(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const cxe=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),jOt=cxe("expand 16-byte k"),BOt=cxe("expand 32-byte k"),DOt=Zm(jOt),LOt=Zm(BOt);function or(t,e){return t<<e|t>>>32-e}function GK(t){return t.byteOffset%4===0}const TP=64,UOt=16,lxe=2**32-1,uxe=new Uint32Array;function FOt(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(TP),u=Zm(l),d=GK(i)&&GK(s),h=d?Zm(i):uxe,f=d?Zm(s):uxe;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=lxe)throw new Error("arx: counter overflow");const m=Math.min(TP,c-p);if(d&&m===TP){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<UOt;y++)b=w+y,f[b]=h[b]^u[y];p+=TP;continue}for(let w=0,y;w<m;w++)y=p+w,s[y]=i[y]^l[w];p+=m}}function zOt(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=NOt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return HK(i),HK(o),sxe(s),sxe(n),(a,c,l,u,d=0)=>{ru(a),ru(c),ru(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),ru(u),HK(d),d<0||d>=lxe)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,w;if(p===32)f.push(m=KK(a)),w=LOt;else if(p===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),w=DOt,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);GK(c)||f.push(c=KK(c));const y=Zm(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,Zm(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const v=Zm(c);return FOt(t,w,y,v,l,u,d,o),v5(...f),u}}const zo=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let WOt=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=VK(e),ru(e,32);const n=zo(e,0),r=zo(e,2),i=zo(e,4),s=zo(e,6),o=zo(e,8),a=zo(e,10),c=zo(e,12),l=zo(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=zo(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],w=o[9],y=zo(e,n+0),b=zo(e,n+2),v=zo(e,n+4),E=zo(e,n+6),_=zo(e,n+8),T=zo(e,n+10),I=zo(e,n+12),R=zo(e,n+14);let S=s[0]+(y&8191),B=s[1]+((y>>>13|b<<3)&8191),j=s[2]+((b>>>10|v<<6)&8191),U=s[3]+((v>>>7|E<<9)&8191),M=s[4]+((E>>>4|_<<12)&8191),C=s[5]+(_>>>1&8191),x=s[6]+((_>>>14|T<<2)&8191),A=s[7]+((T>>>11|I<<5)&8191),N=s[8]+((I>>>8|R<<8)&8191),O=s[9]+(R>>>5|i),P=0,D=P+S*a+B*(5*w)+j*(5*m)+U*(5*p)+M*(5*f);P=D>>>13,D&=8191,D+=C*(5*h)+x*(5*d)+A*(5*u)+N*(5*l)+O*(5*c),P+=D>>>13,D&=8191;let L=P+S*c+B*a+j*(5*w)+U*(5*m)+M*(5*p);P=L>>>13,L&=8191,L+=C*(5*f)+x*(5*h)+A*(5*d)+N*(5*u)+O*(5*l),P+=L>>>13,L&=8191;let $=P+S*l+B*c+j*a+U*(5*w)+M*(5*m);P=$>>>13,$&=8191,$+=C*(5*p)+x*(5*f)+A*(5*h)+N*(5*d)+O*(5*u),P+=$>>>13,$&=8191;let q=P+S*u+B*l+j*c+U*a+M*(5*w);P=q>>>13,q&=8191,q+=C*(5*m)+x*(5*p)+A*(5*f)+N*(5*h)+O*(5*d),P+=q>>>13,q&=8191;let V=P+S*d+B*u+j*l+U*c+M*a;P=V>>>13,V&=8191,V+=C*(5*w)+x*(5*m)+A*(5*p)+N*(5*f)+O*(5*h),P+=V>>>13,V&=8191;let F=P+S*h+B*d+j*u+U*l+M*c;P=F>>>13,F&=8191,F+=C*a+x*(5*w)+A*(5*m)+N*(5*p)+O*(5*f),P+=F>>>13,F&=8191;let Z=P+S*f+B*h+j*d+U*u+M*l;P=Z>>>13,Z&=8191,Z+=C*c+x*a+A*(5*w)+N*(5*m)+O*(5*p),P+=Z>>>13,Z&=8191;let X=P+S*p+B*f+j*h+U*d+M*u;P=X>>>13,X&=8191,X+=C*l+x*c+A*a+N*(5*w)+O*(5*m),P+=X>>>13,X&=8191;let Y=P+S*m+B*p+j*f+U*h+M*d;P=Y>>>13,Y&=8191,Y+=C*u+x*l+A*c+N*a+O*(5*w),P+=Y>>>13,Y&=8191;let te=P+S*w+B*m+j*p+U*f+M*h;P=te>>>13,te&=8191,te+=C*d+x*u+A*l+N*c+O*a,P+=te>>>13,te&=8191,P=(P<<2)+P|0,P=P+D|0,D=P&8191,P=P>>>13,L+=P,s[0]=D,s[1]=L,s[2]=$,s[3]=q,s[4]=V,s[5]=F,s[6]=Z,s[7]=X,s[8]=Y,s[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;v5(r)}update(e){ixe(this);const{buffer:n,blockLen:r}=this;e=VK(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){v5(this.h,this.r,this.buffer,this.pad)}digestInto(e){ixe(this),$Ot(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function qOt(t){const e=(r,i)=>t(i).update(VK(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const HOt=qOt(t=>new WOt(t));function VOt(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],w=e[6],y=e[7],b=i,v=n[0],E=n[1],_=n[2],T=o,I=a,R=c,S=l,B=u,j=d,U=h,M=f,C=p,x=m,A=w,N=y,O=b,P=v,D=E,L=_;for(let q=0;q<s;q+=2)T=T+B|0,O=or(O^T,16),C=C+O|0,B=or(B^C,12),T=T+B|0,O=or(O^T,8),C=C+O|0,B=or(B^C,7),I=I+j|0,P=or(P^I,16),x=x+P|0,j=or(j^x,12),I=I+j|0,P=or(P^I,8),x=x+P|0,j=or(j^x,7),R=R+U|0,D=or(D^R,16),A=A+D|0,U=or(U^A,12),R=R+U|0,D=or(D^R,8),A=A+D|0,U=or(U^A,7),S=S+M|0,L=or(L^S,16),N=N+L|0,M=or(M^N,12),S=S+M|0,L=or(L^S,8),N=N+L|0,M=or(M^N,7),T=T+j|0,L=or(L^T,16),A=A+L|0,j=or(j^A,12),T=T+j|0,L=or(L^T,8),A=A+L|0,j=or(j^A,7),I=I+U|0,O=or(O^I,16),N=N+O|0,U=or(U^N,12),I=I+U|0,O=or(O^I,8),N=N+O|0,U=or(U^N,7),R=R+M|0,P=or(P^R,16),C=C+P|0,M=or(M^C,12),R=R+M|0,P=or(P^R,8),C=C+P|0,M=or(M^C,7),S=S+B|0,D=or(D^S,16),x=x+D|0,B=or(B^x,12),S=S+B|0,D=or(D^S,8),x=x+D|0,B=or(B^x,7);let $=0;r[$++]=o+T|0,r[$++]=a+I|0,r[$++]=c+R|0,r[$++]=l+S|0,r[$++]=u+B|0,r[$++]=d+j|0,r[$++]=h+U|0,r[$++]=f+M|0,r[$++]=p+C|0,r[$++]=m+x|0,r[$++]=w+A|0,r[$++]=y+N|0,r[$++]=b+O|0,r[$++]=v+P|0,r[$++]=E+D|0,r[$++]=_+L|0}const KOt=zOt(VOt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),GOt=new Uint8Array(16),dxe=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(GOt.subarray(n))},ZOt=new Uint8Array(32);function hxe(t,e,n,r,i){const s=t(e,n,ZOt),o=HOt.create(s);i&&dxe(o,i),dxe(o,r);const a=new Uint8Array(16),c=TOt(a);axe(c,0,BigInt(i?i.length:0),!0),axe(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return v5(s,a),l}const YOt=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=oxe(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=hxe(t,e,n,a,r);return s.set(c,o),v5(c),s},decrypt(i,s){s=oxe(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=hxe(t,e,n,o,r);if(!OOt(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),v5(c),s}}),fxe=ROt({blockSize:64,nonceLength:12,tagLength:16},YOt(KOt));let pxe=class extends qK{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,zK(e);const r=y5(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return g5(this),this.iHash.update(e),this}digestInto(e){g5(this),mC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const PP=(t,e,n)=>new pxe(t,e).update(n).digest();PP.create=(t,e)=>new pxe(t,e);function JOt(t,e,n){return zK(t),n===void 0&&(n=new Uint8Array(t.outputLen)),PP(t,y5(n),y5(e))}const ZK=new Uint8Array([0]),gxe=new Uint8Array;function QOt(t,e,n,r=32){if(zK(t),gC(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=gxe);const s=new Uint8Array(i*t.outputLen),o=PP.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)ZK[0]=l+1,a.update(l===0?gxe:c).update(n).update(ZK).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),ZK.fill(0),s.slice(0,r)}const XOt=(t,e,n,r,i)=>QOt(t,JOt(t,e,n),r,i);function eRt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function tRt(t,e,n){return t&e^~t&n}function nRt(t,e,n){return t&e^t&n^e&n}let rRt=class extends qK{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=WK(this.buffer)}update(e){g5(this);const{view:n,buffer:r,blockLen:i}=this;e=y5(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=WK(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){g5(this),K8e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;eRt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=WK(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const iRt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ym=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jm=new Uint32Array(64);let sRt=class extends rRt{constructor(){super(64,32,8,!1),this.A=Ym[0]|0,this.B=Ym[1]|0,this.C=Ym[2]|0,this.D=Ym[3]|0,this.E=Ym[4]|0,this.F=Ym[5]|0,this.G=Ym[6]|0,this.H=Ym[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Jm[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Jm[d-15],f=Jm[d-2],p=qf(h,7)^qf(h,18)^h>>>3,m=qf(f,17)^qf(f,19)^f>>>10;Jm[d]=m+Jm[d-7]+p+Jm[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=qf(a,6)^qf(a,11)^qf(a,25),f=u+h+tRt(a,c,l)+iRt[d]+Jm[d]|0,p=(qf(r,2)^qf(r,13)^qf(r,22))+nRt(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Jm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const wC=J8e(()=>new sRt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NP=BigInt(0),OP=BigInt(1),oRt=BigInt(2);function Bw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vC(t){if(!Bw(t))throw new Error("Uint8Array expected")}function b5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const aRt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x5(t){vC(t);let e="";for(let n=0;n<t.length;n++)e+=aRt[t[n]];return e}function E5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function YK(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?NP:BigInt("0x"+t)}const k0={_0:48,_9:57,A:65,F:70,a:97,f:102};function mxe(t){if(t>=k0._0&&t<=k0._9)return t-k0._0;if(t>=k0.A&&t<=k0.F)return t-(k0.A-10);if(t>=k0.a&&t<=k0.f)return t-(k0.a-10)}function C5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=mxe(t.charCodeAt(s)),a=mxe(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Dw(t){return YK(x5(t))}function bC(t){return vC(t),YK(x5(Uint8Array.from(t).reverse()))}function _5(t,e){return C5(t.toString(16).padStart(e*2,"0"))}function RP(t,e){return _5(t,e).reverse()}function cRt(t){return C5(E5(t))}function iu(t,e,n){let r;if(typeof e=="string")try{r=C5(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Bw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function xC(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];vC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function lRt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function uRt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const JK=t=>typeof t=="bigint"&&NP<=t;function MP(t,e,n){return JK(t)&&JK(e)&&JK(n)&&e<=t&&t<n}function $0(t,e,n,r){if(!MP(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function yxe(t){let e;for(e=0;t>NP;t>>=OP,e+=1);return e}function dRt(t,e){return t>>BigInt(e)&OP}function hRt(t,e,n){return t|(n?OP:NP)<<BigInt(e)}const QK=t=>(oRt<<BigInt(t-1))-OP,XK=t=>new Uint8Array(t),wxe=t=>Uint8Array.from(t);function vxe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=XK(t),i=XK(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=XK())=>{i=a(wxe([0]),u),r=a(),u.length!==0&&(i=a(wxe([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return xC(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const fRt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Bw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function A5(t,e,n={}){const r=(i,s,o)=>{const a=fRt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const pRt=()=>{throw new Error("not implemented")};function eG(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var gRt=Object.freeze({__proto__:null,isBytes:Bw,abytes:vC,abool:b5,bytesToHex:x5,numberToHexUnpadded:E5,hexToNumber:YK,hexToBytes:C5,bytesToNumberBE:Dw,bytesToNumberLE:bC,numberToBytesBE:_5,numberToBytesLE:RP,numberToVarBytesBE:cRt,ensureBytes:iu,concatBytes:xC,equalBytes:lRt,utf8ToBytes:uRt,inRange:MP,aInRange:$0,bitLen:yxe,bitGet:dRt,bitSet:hRt,bitMask:QK,createHmacDrbg:vxe,validateObject:A5,notImplemented:pRt,memoized:eG});const ro=BigInt(0),rs=BigInt(1),Lw=BigInt(2),mRt=BigInt(3),tG=BigInt(4),bxe=BigInt(5),xxe=BigInt(8);function cl(t,e){const n=t%e;return n>=ro?n:e+n}function Exe(t,e,n){if(e<ro)throw new Error("invalid exponent, negatives unsupported");if(n<=ro)throw new Error("invalid modulus");if(n===rs)return ro;let r=rs;for(;e>ro;)e&rs&&(r=r*t%n),t=t*t%n,e>>=rs;return r}function xh(t,e,n){let r=t;for(;e-- >ro;)r*=r,r%=n;return r}function nG(t,e){if(t===ro)throw new Error("invert: expected non-zero number");if(e<=ro)throw new Error("invert: expected positive modulus, got "+e);let n=cl(t,e),r=e,i=ro,s=rs;for(;n!==ro;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==rs)throw new Error("invert: does not exist");return cl(i,e)}function yRt(t){const e=(t-rs)/Lw;let n,r,i;for(n=t-rs,r=0;n%Lw===ro;n/=Lw,r++);for(i=Lw;i<t&&Exe(i,e,t)!==t-rs;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+rs)/tG;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+rs)/Lw;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,rs<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function wRt(t){if(t%tG===mRt){const e=(t+rs)/tG;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%xxe===bxe){const e=(t-bxe)/xxe;return function(n,r){const i=n.mul(r,Lw),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Lw),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return yRt(t)}const vRt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bRt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=vRt.reduce((r,i)=>(r[i]="function",r),e);return A5(t,n)}function xRt(t,e,n){if(n<ro)throw new Error("invalid exponent, negatives unsupported");if(n===ro)return t.ONE;if(n===rs)return e;let r=t.ONE,i=e;for(;n>ro;)n&rs&&(r=t.mul(r,i)),i=t.sqr(i),n>>=rs;return r}function ERt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Cxe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function _xe(t,e,n=!1,r={}){if(t<=ro)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Cxe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:QK(i),ZERO:ro,ONE:rs,create:c=>cl(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ro<=c&&c<t},is0:c=>c===ro,isOdd:c=>(c&rs)===rs,neg:c=>cl(-c,t),eql:(c,l)=>c===l,sqr:c=>cl(c*c,t),add:(c,l)=>cl(c+l,t),sub:(c,l)=>cl(c-l,t),mul:(c,l)=>cl(c*l,t),pow:(c,l)=>xRt(a,c,l),div:(c,l)=>cl(c*nG(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>nG(c,t),sqrt:r.sqrt||(c=>(o||(o=wRt(t)),o(a,c))),invertBatch:c=>ERt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?RP(c,s):_5(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?bC(c):Dw(c)}});return Object.freeze(a)}function Axe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Sxe(t){const e=Axe(t);return e+Math.ceil(e/2)}function CRt(t,e,n=!1){const r=t.length,i=Axe(e),s=Sxe(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?bC(t):Dw(t),a=cl(o,e-rs)+rs;return n?RP(a,i):_5(a,i)}const Ixe=BigInt(0),jP=BigInt(1);function rG(t,e){const n=e.negate();return t?n:e}function kxe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function iG(t,e){kxe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function _Rt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ARt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const sG=new WeakMap,$xe=new WeakMap;function oG(t){return $xe.get(t)||1}function SRt(t,e){return{constTimeNegate:rG,hasPrecomputes(n){return oG(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Ixe;)r&jP&&(i=i.add(s)),s=s.double(),r>>=jP;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=iG(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=iG(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let p=Number(i&l);i>>=d,p>o&&(p-=u,i+=jP);const m=f,w=f+Math.abs(p)-1,y=h%2!==0,b=p<0;p===0?c=c.add(rG(y,r[m])):a=a.add(rG(b,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=iG(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===Ixe)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=jP),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=sG.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&sG.set(r,i(s))),s},wNAFCached(n,r,i){const s=oG(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=oG(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){kxe(r,e),$xe.set(n,r),sG.delete(n)}}}function IRt(t,e,n,r){if(_Rt(n,t),ARt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=yxe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Txe(t){return bRt(t.Fp),A5(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Cxe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const S5=BigInt(0),aG=BigInt(1);function kRt(t){return A5(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function $Rt(t){const e=kRt(t),{P:n}=e,r=b=>cl(b,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>Exe(b,n-BigInt(2),n));function l(b,v,E){const _=r(b*(v-E));return v=r(v-_),E=r(E+_),[v,E]}const u=(e.a-BigInt(2))/BigInt(4);function d(b,v){$0("u",b,S5,n),$0("scalar",v,S5,n);const E=v,_=b;let T=aG,I=S5,R=b,S=aG,B=S5,j;for(let M=BigInt(i-1);M>=S5;M--){const C=E>>M&aG;B^=C,j=l(B,T,R),T=j[0],R=j[1],j=l(B,I,S),I=j[0],S=j[1],B=C;const x=T+I,A=r(x*x),N=T-I,O=r(N*N),P=A-O,D=R+S,L=R-S,$=r(L*x),q=r(D*N),V=$+q,F=$-q;R=r(V*V),S=r(_*r(F*F)),T=r(A*O),I=r(P*(A+r(u*P)))}j=l(B,T,R),T=j[0],R=j[1],j=l(B,I,S),I=j[0],S=j[1];const U=c(I);return r(T*U)}function h(b){return RP(r(b),s)}function f(b){const v=iu("u coordinate",b,s);return o===32&&(v[31]&=127),bC(v)}function p(b){const v=iu("scalar",b),E=v.length;if(E!==s&&E!==o){let _=""+s+" or "+o;throw new Error("invalid scalar, expected "+_+" bytes, got "+E)}return bC(a(v))}function m(b,v){const E=f(v),_=p(b),T=d(E,_);if(T===S5)throw new Error("invalid private or public key received");return h(T)}const w=h(e.Gu);function y(b){return m(b,w)}return{scalarMult:m,scalarMultBase:y,getSharedSecret:(b,v)=>m(b,v),getPublicKey:b=>y(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}const cG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const TRt=BigInt(1),Pxe=BigInt(2),PRt=BigInt(3),NRt=BigInt(5);BigInt(8);function ORt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=cG,o=t*t%s*t%s,a=xh(o,Pxe,s)*o%s,c=xh(a,TRt,s)*t%s,l=xh(c,NRt,s)*c%s,u=xh(l,e,s)*l%s,d=xh(u,n,s)*u%s,h=xh(d,r,s)*d%s,f=xh(h,i,s)*h%s,p=xh(f,i,s)*h%s,m=xh(p,e,s)*l%s;return{pow_p_5_8:xh(m,Pxe,s)*t%s,b2:o}}function RRt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const lG=$Rt({P:cG,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=cG,{pow_p_5_8:n,b2:r}=ORt(t);return cl(xh(n,PRt,e)*r,e)},adjustScalarBytes:RRt,randomBytes:w5});function Nxe(t){t.lowS!==void 0&&b5("lowS",t.lowS),t.prehash!==void 0&&b5("prehash",t.prehash)}function MRt(t){const e=Txe(t);A5(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:jRt,hexToBytes:BRt}=gRt,T0={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=T0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=E5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?E5(i.length/2|128):"";return E5(t)+s+i+e},decode(t,e){const{Err:n}=T0;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=T0;if(t<P0)throw new e("integer: negative integers are not allowed");let n=E5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=T0;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jRt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=T0,i=typeof t=="string"?BRt(t):t;vC(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=T0,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},P0=BigInt(0),io=BigInt(1);BigInt(2);const Oxe=BigInt(3);BigInt(4);function DRt(t){const e=MRt(t),{Fp:n}=e,r=_xe(e.n,e.nBitLength),i=e.toBytes||((m,w,y)=>{const b=w.toAffine();return xC(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const w=m.subarray(1),y=n.fromBytes(w.subarray(0,n.BYTES)),b=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function o(m){const{a:w,b:y}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,w)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return MP(m,io,e.n)}function c(m){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:b,n:v}=e;if(w&&typeof m!="bigint"){if(Bw(m)&&(m=x5(m)),typeof m!="string"||!w.includes(m.length))throw new Error("invalid private key");m=m.padStart(y*2,"0")}let E;try{E=typeof m=="bigint"?m:Dw(iu("private key",m,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof m)}return b&&(E=cl(E,v)),$0("private key",E,io,v),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const u=eG((m,w)=>{const{px:y,py:b,pz:v}=m;if(n.eql(v,n.ONE))return{x:y,y:b};const E=m.is0();w==null&&(w=E?n.ONE:n.inv(v));const _=n.mul(y,w),T=n.mul(b,w),I=n.mul(v,w);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:_,y:T}}),d=eG(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=m.toAffine();if(!n.isValid(w)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),v=o(w);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(w,y,b){if(this.px=w,this.py=y,this.pz=b,w==null||!n.isValid(w))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:y,y:b}=w||{};if(!w||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(y)&&v(b)?h.ZERO:new h(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=n.invertBatch(w.map(b=>b.pz));return w.map((b,v)=>b.toAffine(y[v])).map(h.fromAffine)}static fromHex(w){const y=h.fromAffine(s(iu("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return h.BASE.multiply(c(w))}static msm(w,y){return IRt(h,r,w,y)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:y,py:b,pz:v}=this,{px:E,py:_,pz:T}=w,I=n.eql(n.mul(y,T),n.mul(E,v)),R=n.eql(n.mul(b,T),n.mul(_,v));return I&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:y}=e,b=n.mul(y,Oxe),{px:v,py:E,pz:_}=this;let T=n.ZERO,I=n.ZERO,R=n.ZERO,S=n.mul(v,v),B=n.mul(E,E),j=n.mul(_,_),U=n.mul(v,E);return U=n.add(U,U),R=n.mul(v,_),R=n.add(R,R),T=n.mul(w,R),I=n.mul(b,j),I=n.add(T,I),T=n.sub(B,I),I=n.add(B,I),I=n.mul(T,I),T=n.mul(U,T),R=n.mul(b,R),j=n.mul(w,j),U=n.sub(S,j),U=n.mul(w,U),U=n.add(U,R),R=n.add(S,S),S=n.add(R,S),S=n.add(S,j),S=n.mul(S,U),I=n.add(I,S),j=n.mul(E,_),j=n.add(j,j),S=n.mul(j,U),T=n.sub(T,S),R=n.mul(j,B),R=n.add(R,R),R=n.add(R,R),new h(T,I,R)}add(w){l(w);const{px:y,py:b,pz:v}=this,{px:E,py:_,pz:T}=w;let I=n.ZERO,R=n.ZERO,S=n.ZERO;const B=e.a,j=n.mul(e.b,Oxe);let U=n.mul(y,E),M=n.mul(b,_),C=n.mul(v,T),x=n.add(y,b),A=n.add(E,_);x=n.mul(x,A),A=n.add(U,M),x=n.sub(x,A),A=n.add(y,v);let N=n.add(E,T);return A=n.mul(A,N),N=n.add(U,C),A=n.sub(A,N),N=n.add(b,v),I=n.add(_,T),N=n.mul(N,I),I=n.add(M,C),N=n.sub(N,I),S=n.mul(B,A),I=n.mul(j,C),S=n.add(I,S),I=n.sub(M,S),S=n.add(M,S),R=n.mul(I,S),M=n.add(U,U),M=n.add(M,U),C=n.mul(B,C),A=n.mul(j,A),M=n.add(M,C),C=n.sub(U,C),C=n.mul(B,C),A=n.add(A,C),U=n.mul(M,A),R=n.add(R,U),U=n.mul(N,A),I=n.mul(x,I),I=n.sub(I,U),U=n.mul(x,M),S=n.mul(N,S),S=n.add(S,U),new h(I,R,S)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return p.wNAFCached(this,w,h.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:b}=e;$0("scalar",w,P0,b);const v=h.ZERO;if(w===P0)return v;if(this.is0()||w===io)return this;if(!y||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,h.normalizeZ);let{k1neg:E,k1:_,k2neg:T,k2:I}=y.splitScalar(w),R=v,S=v,B=this;for(;_>P0||I>P0;)_&io&&(R=R.add(B)),I&io&&(S=S.add(B)),B=B.double(),_>>=io,I>>=io;return E&&(R=R.negate()),T&&(S=S.negate()),S=new h(n.mul(S.px,y.beta),S.py,S.pz),R.add(S)}multiply(w){const{endo:y,n:b}=e;$0("scalar",w,io,b);let v,E;if(y){const{k1neg:_,k1:T,k2neg:I,k2:R}=y.splitScalar(w);let{p:S,f:B}=this.wNAF(T),{p:j,f:U}=this.wNAF(R);S=p.constTimeNegate(_,S),j=p.constTimeNegate(I,j),j=new h(n.mul(j.px,y.beta),j.py,j.pz),v=S.add(j),E=B.add(U)}else{const{p:_,f:T}=this.wNAF(w);v=_,E=T}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(w,y,b){const v=h.BASE,E=(T,I)=>I===P0||I===io||!T.equals(v)?T.multiplyUnsafe(I):T.multiply(I),_=E(this,y).add(E(w,b));return _.is0()?void 0:_}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=e;if(w===io)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=e;return w===io?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return b5("isCompressed",w),this.assertValidity(),i(h,this,w)}toHex(w=!0){return b5("isCompressed",w),x5(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=SRt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function LRt(t){const e=Txe(t);return A5(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function URt(t){const e=LRt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return cl(C,r)}function a(C){return nG(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=DRt({...e,toBytes(C,x,A){const N=x.toAffine(),O=n.toBytes(N.x),P=xC;return b5("isCompressed",A),A?P(Uint8Array.from([x.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,n.toBytes(N.y))},fromBytes(C){const x=C.length,A=C[0],N=C.subarray(1);if(x===i&&(A===2||A===3)){const O=Dw(N);if(!MP(O,io,n.ORDER))throw new Error("Point is not on curve");const P=u(O);let D;try{D=n.sqrt(P)}catch($){const q=$ instanceof Error?": "+$.message:"";throw new Error("Point is not on curve"+q)}const L=(D&io)===io;return(A&1)===1!==L&&(D=n.neg(D)),{x:O,y:D}}else if(x===s&&A===4){const O=n.fromBytes(N.subarray(0,n.BYTES)),P=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:O,y:P}}else{const O=i,P=s;throw new Error("invalid Point, expected length of "+O+", or uncompressed "+P+", got "+x)}}}),h=C=>x5(_5(C,e.nByteLength));function f(C){const x=r>>io;return C>x}function p(C){return f(C)?o(-C):C}const m=(C,x,A)=>Dw(C.slice(x,A));class w{constructor(x,A,N){this.r=x,this.s=A,this.recovery=N,this.assertValidity()}static fromCompact(x){const A=e.nByteLength;return x=iu("compactSignature",x,A*2),new w(m(x,0,A),m(x,A,2*A))}static fromDER(x){const{r:A,s:N}=T0.toSig(iu("DER",x));return new w(A,N)}assertValidity(){$0("r",this.r,io,r),$0("s",this.s,io,r)}addRecoveryBit(x){return new w(this.r,this.s,x)}recoverPublicKey(x){const{r:A,s:N,recovery:O}=this,P=T(iu("msgHash",x));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?A+e.n:A;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const L=O&1?"03":"02",$=c.fromHex(L+h(D)),q=a(D),V=o(-P*q),F=o(N*q),Z=c.BASE.multiplyAndAddUnsafe($,V,F);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return C5(this.toDERHex())}toDERHex(){return T0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return C5(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const C=Sxe(e.n);return CRt(e.randomBytes(C),e.n)},precompute(C=8,x=c.BASE){return x._setWindowSize(C),x.multiply(BigInt(3)),x}};function b(C,x=!0){return c.fromPrivateKey(C).toRawBytes(x)}function v(C){const x=Bw(C),A=typeof C=="string",N=(x||A)&&C.length;return x?N===i||N===s:A?N===2*i||N===2*s:C instanceof c}function E(C,x,A=!0){if(v(C))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(C)).toRawBytes(A)}const _=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const x=Dw(C),A=C.length*8-e.nBitLength;return A>0?x>>BigInt(A):x},T=e.bits2int_modN||function(C){return o(_(C))},I=QK(e.nBitLength);function R(C){return $0("num < 2^"+e.nBitLength,C,P0,I),_5(C,e.nByteLength)}function S(C,x,A=B){if(["recovered","canonical"].some(Y=>Y in A))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:L}=A;P==null&&(P=!0),C=iu("msgHash",C),Nxe(A),D&&(C=iu("prehashed msgHash",N(C)));const $=T(C),q=l(x),V=[R(q),R($)];if(L!=null&&L!==!1){const Y=L===!0?O(n.BYTES):L;V.push(iu("extraEntropy",Y))}const F=xC(...V),Z=$;function X(Y){const te=_(Y);if(!d(te))return;const fe=a(te),he=c.BASE.multiply(te).toAffine(),pe=o(he.x);if(pe===P0)return;const be=o(fe*o(Z+pe*q));if(be===P0)return;let ge=(he.x===pe?0:2)|Number(he.y&io),ye=be;return P&&f(be)&&(ye=p(be),ge^=1),new w(pe,ye,ge)}return{seed:F,k2sig:X}}const B={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function U(C,x,A=B){const{seed:N,k2sig:O}=S(C,x,A),P=e;return vxe(P.hash.outputLen,P.nByteLength,P.hmac)(N,O)}c.BASE._setWindowSize(8);function M(C,x,A,N=j){var be;const O=C;x=iu("msgHash",x),A=iu("publicKey",A);const{lowS:P,prehash:D,format:L}=N;if(Nxe(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(L!==void 0&&L!=="compact"&&L!=="der")throw new Error("format must be compact or der");const $=typeof O=="string"||Bw(O),q=!$&&!L&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!$&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,F;try{if(q&&(V=new w(O.r,O.s)),$){try{L!=="compact"&&(V=w.fromDER(O))}catch(ge){if(!(ge instanceof T0.Err))throw ge}!V&&L!=="der"&&(V=w.fromCompact(O))}F=c.fromHex(A)}catch{return!1}if(!V||P&&V.hasHighS())return!1;D&&(x=e.hash(x));const{r:Z,s:X}=V,Y=T(x),te=a(X),fe=o(Y*te),he=o(Z*te),pe=(be=c.BASE.multiplyAndAddUnsafe(F,fe,he))==null?void 0:be.toAffine();return pe?o(pe.x)===Z:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:U,verify:M,ProjectivePoint:c,Signature:w,utils:y}}function FRt(t){return{hash:t,hmac:(e,...n)=>PP(t,e,vOt(...n)),randomBytes:w5}}function zRt(t,e){const n=r=>URt({...t,...FRt(r)});return{...n(e),create:n}}const Rxe=_xe(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),WRt=Rxe.create(BigInt("-3")),qRt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),HRt=zRt({a:WRt,b:qRt,Fp:Rxe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},wC),Mxe="base10",ac="base16",Uw="base64pad",uG="base64url",EC="utf8",jxe=0,I5=1,BP=2,VRt=0,Bxe=1,CC=12,dG=32;function KRt(){const t=lG.utils.randomPrivateKey(),e=lG.getPublicKey(t);return{privateKey:Ia(t,ac),publicKey:Ia(e,ac)}}function hG(){const t=w5(dG);return Ia(t,ac)}function GRt(t,e){const n=lG.getSharedSecret(al(t,ac),al(e,ac)),r=XOt(wC,n,void 0,void 0,dG);return Ia(r,ac)}function ZRt(t){const e=wC(al(t,ac));return Ia(e,ac)}function DP(t){const e=wC(al(t,EC));return Ia(e,ac)}function Dxe(t){return al(`${t}`,Mxe)}function Fw(t){return Number(Ia(t,Mxe))}function Lxe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Uxe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function YRt(t){const e=Dxe(typeof t.type<"u"?t.type:jxe);if(Fw(e)===I5&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?al(t.senderPublicKey,ac):void 0,r=typeof t.iv<"u"?al(t.iv,ac):w5(CC),i=al(t.symKey,ac),s=fxe(i,r).encrypt(al(t.message,EC)),o=Fxe({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===uG?Lxe(o):o}function JRt(t){const e=al(t.symKey,ac),{sealed:n,iv:r}=_C({encoded:t.encoded,encoding:t.encoding}),i=fxe(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Ia(i,EC)}function QRt(t,e){const n=Dxe(BP),r=w5(CC),i=al(t,EC),s=Fxe({type:n,sealed:i,iv:r});return e===uG?Lxe(s):s}function XRt(t,e){const{sealed:n}=_C({encoded:t,encoding:e});return Ia(n,EC)}function Fxe(t){if(Fw(t.type)===BP)return Ia(hC([t.type,t.sealed]),Uw);if(Fw(t.type)===I5){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ia(hC([t.type,t.senderPublicKey,t.iv,t.sealed]),Uw)}return Ia(hC([t.type,t.iv,t.sealed]),Uw)}function _C(t){const e=(t.encoding||Uw)===uG?Uxe(t.encoded):t.encoded,n=al(e,Uw),r=n.slice(VRt,Bxe),i=Bxe;if(Fw(r)===I5){const c=i+dG,l=c+CC,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(Fw(r)===BP){const c=n.slice(i),l=w5(CC);return{type:r,sealed:c,iv:l}}const s=i+CC,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function eMt(t,e){const n=_C({encoded:t,encoding:e==null?void 0:e.encoding});return zxe({type:Fw(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ia(n.senderPublicKey,ac):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function zxe(t){const e=(t==null?void 0:t.type)||jxe;if(e===I5){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Wxe(t){return t.type===I5&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function qxe(t){return t.type===BP}function tMt(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return hC([new Uint8Array([4]),e,n])}function nMt(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Uxe(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=wC(c),u=tMt(e);if(!HRt.verify(hC([o,a]),l,u))throw new Error("Invalid signature");return C2(t).payload}const rMt="irn";function LP(t){return(t==null?void 0:t.relay)||{protocol:rMt}}function AC(t){const e=bge[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function iMt(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function Hxe(t){if(!t.includes("wc:")){const l=V8e(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:sMt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:iMt(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function sMt(t){return t.startsWith("//")?t.substring(2):t}function oMt(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function Vxe(t){const e=new URLSearchParams,n=oMt(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}const aMt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cMt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function br(t,e){const{message:n,code:r}=cMt[t];return{message:e?`${n} ${e}`:n,code:r}}function SC(t,e){const{message:n,code:r}=aMt[t];return{message:e?`${n} ${e}`:n,code:r}}function fG(t){return typeof t>"u"}function Kxe(t,e){return typeof t=="string"&&!!t.trim().length}function lMt(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Kxe(t,!1)){if(e(t))return!0;const n=V8e(t);return e(n)}}catch{}return!1}function uMt(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function dMt(t){return t==null?void 0:t.topic}function pG(t){return typeof t<"u"&&typeof t!==null}function Gxe(){const t=kP();return new Promise(e=>{switch(t){case bh.browser:e(hMt());break;case bh.reactNative:e(fMt());break;case bh.node:e(pMt());break;default:e(!0)}})}function hMt(){return fC()&&(navigator==null?void 0:navigator.onLine)}async function fMt(){if(jw()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function pMt(){return!0}function gMt(t){switch(kP()){case bh.browser:mMt(t);break;case bh.reactNative:yMt(t);break}}function mMt(t){!jw()&&fC()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function yMt(t){jw()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function wMt(){var t;return fC()&&Za()?((t=Za())==null?void 0:t.visibilityState)==="visible":!0}var vMt={};const Zxe="wc",Yxe=2,gG="core",Hf=`${Zxe}@2:${gG}:`,bMt={logger:"error"},xMt={database:":memory:"},EMt="crypto",Jxe="client_ed25519_seed",CMt=me.ONE_DAY,_Mt="keychain",AMt="0.3",SMt="messages",IMt="0.3",Qxe=me.SIX_HOURS,kMt="publisher",Xxe="irn",$Mt="error",eEe="wss://relay.walletconnect.org",TMt="relayer",so={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},PMt="_subscription",ud={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},NMt=.1,mG="2.21.0",pi={link_mode:"link_mode",relay:"relay"},UP={inbound:"inbound",outbound:"outbound"},OMt="0.3",RMt="WALLETCONNECT_CLIENT_ID",tEe="WALLETCONNECT_LINK_MODE_APPS",su={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},MMt="subscription",jMt="0.3",BMt="pairing",DMt="0.3",IC={wc_pairingDelete:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:me.ONE_DAY,prompt:!1,tag:0},res:{ttl:me.ONE_DAY,prompt:!1,tag:0}}},zw={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Eh={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},LMt="history",UMt="0.3",FMt="expirer",dd={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},zMt="0.3",WMt="verify-api",qMt="https://verify.walletconnect.com",nEe="https://verify.walletconnect.org",kC=nEe,HMt=`${kC}/v3`,VMt=[qMt,nEe],KMt="echo",GMt="https://echo.walletconnect.com",Vf={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},N0={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ch={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ww={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},qw={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},$C={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},ZMt=.1,YMt="event-client",JMt=86400,QMt="https://pulse.walletconnect.org/batch";function XMt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,w=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,m++;for(var v=(b-y)*u+1>>>0,E=new Uint8Array(v);y!==b;){for(var _=p[y],T=0,I=v-1;(_!==0||T<w)&&I!==-1;I--,T++)_+=256*E[I]>>>0,E[I]=_%a>>>0,_=_/a>>>0;if(_!==0)throw new Error("Non-zero carry");w=T,y++}for(var R=v-w;R!==v&&E[R]===0;)R++;for(var S=c.repeat(m);R<v;++R)S+=t.charAt(E[R]);return S}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var w=0,y=0;p[m]===c;)w++,m++;for(var b=(p.length-m)*l+1>>>0,v=new Uint8Array(b);p[m];){var E=n[p.charCodeAt(m)];if(E===255)return;for(var _=0,T=b-1;(E!==0||_<y)&&T!==-1;T--,_++)E+=a*v[T]>>>0,v[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=_,m++}if(p[m]!==" "){for(var I=b-y;I!==b&&v[I]===0;)I++;for(var R=new Uint8Array(w+(b-I)),S=w;I!==b;)R[S++]=v[I++];return R}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var ejt=XMt,tjt=ejt;const rEe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},njt=t=>new TextEncoder().encode(t),rjt=t=>new TextDecoder().decode(t);let ijt=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},sjt=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return iEe(this,e)}},ojt=class{constructor(e){this.decoders=e}or(e){return iEe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const iEe=(t,e)=>new ojt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let ajt=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new ijt(e,n,r),this.decoder=new sjt(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const FP=({name:t,prefix:e,encode:n,decode:r})=>new ajt(t,e,n,r),TC=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=tjt(n,e);return FP({prefix:t,name:e,encode:r,decode:s=>rEe(i(s))})},cjt=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},ljt=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Wo=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>FP({prefix:e,name:t,encode(i){return ljt(i,r,n)},decode(i){return cjt(i,r,n,t)}}),ujt=FP({prefix:"\0",name:"identity",encode:t=>rjt(t),decode:t=>njt(t)});var djt=Object.freeze({__proto__:null,identity:ujt});const hjt=Wo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var fjt=Object.freeze({__proto__:null,base2:hjt});const pjt=Wo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gjt=Object.freeze({__proto__:null,base8:pjt});const mjt=TC({prefix:"9",name:"base10",alphabet:"0123456789"});var yjt=Object.freeze({__proto__:null,base10:mjt});const wjt=Wo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vjt=Wo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var bjt=Object.freeze({__proto__:null,base16:wjt,base16upper:vjt});const xjt=Wo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ejt=Wo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Cjt=Wo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_jt=Wo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ajt=Wo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Sjt=Wo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ijt=Wo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kjt=Wo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$jt=Wo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Tjt=Object.freeze({__proto__:null,base32:xjt,base32upper:Ejt,base32pad:Cjt,base32padupper:_jt,base32hex:Ajt,base32hexupper:Sjt,base32hexpad:Ijt,base32hexpadupper:kjt,base32z:$jt});const Pjt=TC({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Njt=TC({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ojt=Object.freeze({__proto__:null,base36:Pjt,base36upper:Njt});const Rjt=TC({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mjt=TC({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var jjt=Object.freeze({__proto__:null,base58btc:Rjt,base58flickr:Mjt});const Bjt=Wo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Djt=Wo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ljt=Wo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ujt=Wo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Fjt=Object.freeze({__proto__:null,base64:Bjt,base64pad:Djt,base64url:Ljt,base64urlpad:Ujt});const sEe=Array.from(""),zjt=sEe.reduce((t,e,n)=>(t[n]=e,t),[]),Wjt=sEe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function qjt(t){return t.reduce((e,n)=>(e+=zjt[n],e),"")}function Hjt(t){const e=[];for(const n of t){const r=Wjt[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Vjt=FP({prefix:"",name:"base256emoji",encode:qjt,decode:Hjt});var Kjt=Object.freeze({__proto__:null,base256emoji:Vjt}),Gjt=aEe,oEe=128,Zjt=-128,Yjt=Math.pow(2,31);function aEe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Yjt;)e[n++]=t&255|oEe,t/=128;for(;t&Zjt;)e[n++]=t&255|oEe,t>>>=7;return e[n]=t|0,aEe.bytes=n-r+1,e}var Jjt=yG,Qjt=128,cEe=127;function yG(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw yG.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&cEe)<<i:(o&cEe)*Math.pow(2,i),i+=7}while(o>=Qjt);return yG.bytes=s-r,n}var Xjt=Math.pow(2,7),eBt=Math.pow(2,14),tBt=Math.pow(2,21),nBt=Math.pow(2,28),rBt=Math.pow(2,35),iBt=Math.pow(2,42),sBt=Math.pow(2,49),oBt=Math.pow(2,56),aBt=Math.pow(2,63),cBt=function(t){return t<Xjt?1:t<eBt?2:t<tBt?3:t<nBt?4:t<rBt?5:t<iBt?6:t<sBt?7:t<oBt?8:t<aBt?9:10},lBt={encode:Gjt,decode:Jjt,encodingLength:cBt},lEe=lBt;const uEe=(t,e,n=0)=>(lEe.encode(t,e,n),e),dEe=t=>lEe.encodingLength(t),wG=(t,e)=>{const n=e.byteLength,r=dEe(t),i=r+dEe(n),s=new Uint8Array(i+n);return uEe(t,s,0),uEe(n,s,r),s.set(e,i),new uBt(t,n,e,s)};let uBt=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const hEe=({name:t,code:e,encode:n})=>new dBt(t,e,n);class dBt{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?wG(this.code,n):n.then(r=>wG(this.code,r))}else throw Error("Unknown type, must be binary type")}}const fEe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),hBt=hEe({name:"sha2-256",code:18,encode:fEe("SHA-256")}),fBt=hEe({name:"sha2-512",code:19,encode:fEe("SHA-512")});var pBt=Object.freeze({__proto__:null,sha256:hBt,sha512:fBt});const pEe=0,gBt="identity",gEe=rEe;var mBt=Object.freeze({__proto__:null,identity:{code:pEe,name:gBt,encode:gEe,digest:t=>wG(pEe,gEe(t))}});new TextEncoder,new TextDecoder;const mEe={...djt,...fjt,...gjt,...yjt,...bjt,...Tjt,...Ojt,...jjt,...Fjt,...Kjt};({...pBt,...mBt});function yBt(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function yEe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const wEe=yEe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),vG=yEe("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=yBt(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),wBt={utf8:wEe,"utf-8":wEe,hex:mEe.base16,latin1:vG,ascii:vG,binary:vG,...mEe};function vBt(t,e="utf8"){const n=wBt[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var bBt=Object.defineProperty,xBt=(t,e,n)=>e in t?bBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kf=(t,e,n)=>xBt(t,typeof e!="symbol"?e+"":e,n);let EBt=class{constructor(e,n){this.core=e,this.logger=n,Kf(this,"keychain",new Map),Kf(this,"name",_Mt),Kf(this,"version",AMt),Kf(this,"initialized",!1),Kf(this,"storagePrefix",Hf),Kf(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Kf(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Kf(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Kf(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=br("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Kf(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Xa(n,this.name)}get context(){return qc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,LK(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?UK(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}};var CBt=Object.defineProperty,_Bt=(t,e,n)=>e in t?CBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qo=(t,e,n)=>_Bt(t,typeof e!="symbol"?e+"":e,n);let ABt=class{constructor(e,n,r){this.core=e,this.logger=n,qo(this,"name",EMt),qo(this,"keychain"),qo(this,"randomSessionIdentifier",hG()),qo(this,"initialized",!1),qo(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),qo(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),qo(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Sk(i);return xz(s.publicKey)}),qo(this,"generateKeyPair",()=>{this.isInitialized();const i=KRt();return this.setPrivateKey(i.publicKey,i.privateKey)}),qo(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=Sk(s),a=this.randomSessionIdentifier;return await fge(a,i,CMt,o)}),qo(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=GRt(a,s);return this.setSymKey(c,o)}),qo(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||ZRt(i);return await this.keychain.set(o,i),o}),qo(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),qo(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),qo(this,"encode",async(i,s,o)=>{this.isInitialized();const a=zxe(o),c=Nc(s);if(qxe(a))return QRt(c,o==null?void 0:o.encoding);if(Wxe(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return YRt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),qo(this,"decode",async(i,s,o)=>{this.isInitialized();const a=eMt(s,o);if(qxe(a)){const c=XRt(s,o==null?void 0:o.encoding);return Xd(c)}if(Wxe(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=JRt({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Xd(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),qo(this,"getPayloadType",(i,s=Uw)=>{const o=_C({encoded:i,encoding:s});return Fw(o.type)}),qo(this,"getPayloadSenderPublicKey",(i,s=Uw)=>{const o=_C({encoded:i,encoding:s});return o.senderPublicKey?Ia(o.senderPublicKey,ac):void 0}),this.core=e,this.logger=Xa(n,this.name),this.keychain=r||new EBt(this.core,this.logger)}get context(){return qc(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Jxe)}catch{e=hG(),await this.keychain.set(Jxe,e)}return vBt(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}};var SBt=Object.defineProperty,IBt=Object.defineProperties,kBt=Object.getOwnPropertyDescriptors,vEe=Object.getOwnPropertySymbols,$Bt=Object.prototype.hasOwnProperty,TBt=Object.prototype.propertyIsEnumerable,bG=(t,e,n)=>e in t?SBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PBt=(t,e)=>{for(var n in e||(e={}))$Bt.call(e,n)&&bG(t,n,e[n]);if(vEe)for(var n of vEe(e))TBt.call(e,n)&&bG(t,n,e[n]);return t},NBt=(t,e)=>IBt(t,kBt(e)),ou=(t,e,n)=>bG(t,typeof e!="symbol"?e+"":e,n);let OBt=class extends $Pt{constructor(e,n){super(e,n),this.logger=e,this.core=n,ou(this,"messages",new Map),ou(this,"messagesWithoutClientAck",new Map),ou(this,"name",SMt),ou(this,"version",IMt),ou(this,"initialized",!1),ou(this,"storagePrefix",Hf),ou(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ou(this,"set",async(r,i,s)=>{this.isInitialized();const o=DP(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===UP.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,NBt(PBt({},c),{[o]:i}))}return await this.persist(),o}),ou(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),ou(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),ou(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=DP(i);return typeof s[o]<"u"}),ou(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=DP(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),ou(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Xa(e,this.name),this.core=n}get context(){return qc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,LK(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,LK(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?UK(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?UK(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}};var RBt=Object.defineProperty,MBt=Object.defineProperties,jBt=Object.getOwnPropertyDescriptors,bEe=Object.getOwnPropertySymbols,BBt=Object.prototype.hasOwnProperty,DBt=Object.prototype.propertyIsEnumerable,xG=(t,e,n)=>e in t?RBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zP=(t,e)=>{for(var n in e||(e={}))BBt.call(e,n)&&xG(t,n,e[n]);if(bEe)for(var n of bEe(e))DBt.call(e,n)&&xG(t,n,e[n]);return t},EG=(t,e)=>MBt(t,jBt(e)),_h=(t,e,n)=>xG(t,typeof e!="symbol"?e+"":e,n);class LBt extends TPt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,_h(this,"events",new ms.EventEmitter),_h(this,"name",kMt),_h(this,"queue",new Map),_h(this,"publishTimeout",me.toMiliseconds(me.ONE_MINUTE)),_h(this,"initialPublishTimeout",me.toMiliseconds(me.ONE_SECOND*15)),_h(this,"needsTransportRestart",!1),_h(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||Qxe,c=LP(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,d=(s==null?void 0:s.id)||zc().toString(),h={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async m=>{const w=({id:b})=>{h.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(so.publish,w),m(h))};this.relayer.events.on(so.publish,w);const y=Gm(new Promise((b,v)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(b).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await y,this.events.removeListener(so.publish,w)}catch(b){this.queue.set(d,EG(zP({},h),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:i,opts:s}}),await Gm(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),_h(this,"on",(r,i)=>{this.events.on(r,i)}),_h(this,"once",(r,i)=>{this.events.once(r,i)}),_h(this,"off",(r,i)=>{this.events.off(r,i)}),_h(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Xa(n,this.name),this.registerEventListeners()}get context(){return qc(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=Qxe,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:AC(LP().protocol).publish,params:zP({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};fG((n=p.params)==null?void 0:n.prompt)&&((r=p.params)==null||delete r.prompt),fG((i=p.params)==null?void 0:i.tag)&&((s=p.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const m=await this.relayer.request(p);return this.relayer.events.emit(so.publish,e),this.logger.debug("Successfully Published Payload"),m}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,EG(zP({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(EG(zP({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ul.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(so.connection_stalled);return}this.checkQueue()}),this.relayer.on(so.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var UBt=Object.defineProperty,FBt=(t,e,n)=>e in t?UBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k5=(t,e,n)=>FBt(t,typeof e!="symbol"?e+"":e,n);class zBt{constructor(){k5(this,"map",new Map),k5(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),k5(this,"get",e=>this.map.get(e)||[]),k5(this,"exists",(e,n)=>this.get(e).includes(n)),k5(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),k5(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var WBt=Object.defineProperty,qBt=Object.defineProperties,HBt=Object.getOwnPropertyDescriptors,xEe=Object.getOwnPropertySymbols,VBt=Object.prototype.hasOwnProperty,KBt=Object.prototype.propertyIsEnumerable,CG=(t,e,n)=>e in t?WBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PC=(t,e)=>{for(var n in e||(e={}))VBt.call(e,n)&&CG(t,n,e[n]);if(xEe)for(var n of xEe(e))KBt.call(e,n)&&CG(t,n,e[n]);return t},_G=(t,e)=>qBt(t,HBt(e)),qr=(t,e,n)=>CG(t,typeof e!="symbol"?e+"":e,n);let GBt=class extends OPt{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,qr(this,"subscriptions",new Map),qr(this,"topicMap",new zBt),qr(this,"events",new ms.EventEmitter),qr(this,"name",MMt),qr(this,"version",jMt),qr(this,"pending",new Map),qr(this,"cached",[]),qr(this,"initialized",!1),qr(this,"storagePrefix",Hf),qr(this,"subscribeTimeout",me.toMiliseconds(me.ONE_MINUTE)),qr(this,"initialSubscribeTimeout",me.toMiliseconds(me.ONE_SECOND*15)),qr(this,"clientId"),qr(this,"batchSubscribeTopicsLimit",500),qr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),qr(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=LP(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),qr(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),qr(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),qr(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),qr(this,"on",(r,i)=>{this.events.on(r,i)}),qr(this,"once",(r,i)=>{this.events.once(r,i)}),qr(this,"off",(r,i)=>{this.events.off(r,i)}),qr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),qr(this,"start",async()=>{await this.onConnect()}),qr(this,"stop",async()=>{await this.onDisconnect()}),qr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),qr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),qr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ul.pulse,async()=>{await this.checkPending()}),this.events.on(su.created,async r=>{const i=su.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(su.deleted,async r=>{const i=su.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Xa(n,this.name),this.clientId=""}get context(){return qc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=LP(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=SC("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===pi.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:AC(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===pi.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},me.toMiliseconds(me.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(su.created,d),u(h.id))};this.events.on(su.created,d);try{const h=await Gm(new Promise((f,p)=>{this.relayer.request(s).catch(m=>{this.logger.warn(m,m==null?void 0:m.message),p(m)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(su.created,d),u(h)}catch{}}),l=await Gm(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(so.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:AC(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Gm(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(so.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:AC(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Gm(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(so.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:AC(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,_G(PC({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,PC({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,PC({},n)),this.topicMap.set(n.topic,e),this.events.emit(su.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=br("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(su.deleted,_G(PC({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(su.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(su.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=br("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>_G(PC({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await cOt(me.toMiliseconds(me.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return DP(e+await this.getClientId())}};var ZBt=Object.defineProperty,EEe=Object.getOwnPropertySymbols,YBt=Object.prototype.hasOwnProperty,JBt=Object.prototype.propertyIsEnumerable,AG=(t,e,n)=>e in t?ZBt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CEe=(t,e)=>{for(var n in e||(e={}))YBt.call(e,n)&&AG(t,n,e[n]);if(EEe)for(var n of EEe(e))JBt.call(e,n)&&AG(t,n,e[n]);return t},ar=(t,e,n)=>AG(t,typeof e!="symbol"?e+"":e,n);let QBt=class extends PPt{constructor(e){super(e),ar(this,"protocol","wc"),ar(this,"version",2),ar(this,"core"),ar(this,"logger"),ar(this,"events",new ms.EventEmitter),ar(this,"provider"),ar(this,"messages"),ar(this,"subscriber"),ar(this,"publisher"),ar(this,"name",TMt),ar(this,"transportExplicitlyClosed",!1),ar(this,"initialized",!1),ar(this,"connectionAttemptInProgress",!1),ar(this,"relayUrl"),ar(this,"projectId"),ar(this,"packageName"),ar(this,"bundleId"),ar(this,"hasExperiencedNetworkDisruption",!1),ar(this,"pingTimeout"),ar(this,"heartBeatTimeout",me.toMiliseconds(me.THIRTY_SECONDS+me.FIVE_SECONDS)),ar(this,"reconnectTimeout"),ar(this,"connectPromise"),ar(this,"reconnectInProgress",!1),ar(this,"requestsInFlight",[]),ar(this,"connectTimeout",me.toMiliseconds(me.ONE_SECOND*15)),ar(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||zc().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),ar(this,"resetPingTimeout",()=>{IP()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),ar(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ar(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(so.connect)}),ar(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ar(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(so.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ar(this,"registerProviderListeners",()=>{this.provider.on(ud.payload,this.onPayloadHandler),this.provider.on(ud.connect,this.onConnectHandler),this.provider.on(ud.disconnect,this.onDisconnectHandler),this.provider.on(ud.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Xa(e.logger,this.name):K2(G2({level:e.logger||$Mt})),this.messages=new OBt(this.logger,e.core),this.subscriber=new GBt(this,this.logger),this.publisher=new LBt(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||eEe,this.projectId=e.projectId,JNt()?this.packageName=U8e():QNt()&&(this.bundleId=U8e()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return qc(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:pi.relay},UP.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(su.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(su.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,CEe({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Gm(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Gxe())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=pC(me.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(so.message,e),await this.recordMessageEvent(e,UP.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ud.disconnect,s),await Gm(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(ud.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ud.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ud.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,me.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(IP())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new bi(new rye(rOt({sdkVersion:mG,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),D2(e)){if(!e.method.endsWith(PMt))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:pi.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(CEe({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else qy(e)&&this.events.emit(so.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,UP.inbound),this.events.emit(so.message,e))}async acknowledgePayload(e){const n=o0(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ud.payload,this.onPayloadHandler),this.provider.off(ud.connect,this.onConnectHandler),this.provider.off(ud.disconnect,this.onDisconnectHandler),this.provider.off(ud.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Gxe();gMt(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ul.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&wMt())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(so.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},me.toMiliseconds(NMt)))))}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function XBt(){}function _Ee(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function AEe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function SEe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const eDt="[object RegExp]",tDt="[object String]",nDt="[object Number]",rDt="[object Boolean]",IEe="[object Arguments]",iDt="[object Symbol]",sDt="[object Date]",oDt="[object Map]",aDt="[object Set]",cDt="[object Array]",lDt="[object Function]",uDt="[object ArrayBuffer]",SG="[object Object]",dDt="[object Error]",hDt="[object DataView]",fDt="[object Uint8Array]",pDt="[object Uint8ClampedArray]",gDt="[object Uint16Array]",mDt="[object Uint32Array]",yDt="[object BigUint64Array]",wDt="[object Int8Array]",vDt="[object Int16Array]",bDt="[object Int32Array]",xDt="[object BigInt64Array]",EDt="[object Float32Array]",CDt="[object Float64Array]";function _Dt(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function ADt(t,e,n){return NC(t,e,void 0,void 0,void 0,void 0,n)}function NC(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return OC(t,e,s,o)}return OC(t,e,s,o)}function OC(t,e,n,r){if(Object.is(t,e))return!0;let i=SEe(t),s=SEe(e);if(i===IEe&&(i=SG),s===IEe&&(s=SG),i!==s)return!1;switch(i){case tDt:return t.toString()===e.toString();case nDt:{const c=t.valueOf(),l=e.valueOf();return _Dt(c,l)}case rDt:case sDt:case iDt:return Object.is(t.valueOf(),e.valueOf());case eDt:return t.source===e.source&&t.flags===e.flags;case lDt:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case oDt:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!NC(l,e.get(c),c,t,e,n,r))return!1;return!0}case aDt:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>NC(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case cDt:case fDt:case pDt:case gDt:case mDt:case yDt:case wDt:case vDt:case bDt:case xDt:case EDt:case CDt:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!NC(t[c],e[c],c,t,e,n,r))return!1;return!0}case uDt:return t.byteLength!==e.byteLength?!1:OC(new Uint8Array(t),new Uint8Array(e),n,r);case hDt:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:OC(new Uint8Array(t),new Uint8Array(e),n,r);case dDt:return t.name===e.name&&t.message===e.message;case SG:{if(!(OC(t.constructor,e.constructor,n,r)||_Ee(t)&&_Ee(e)))return!1;const c=[...Object.keys(t),...AEe(t)],l=[...Object.keys(e),...AEe(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!NC(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function SDt(t,e){return ADt(t,e,XBt)}var IDt=Object.defineProperty,kEe=Object.getOwnPropertySymbols,kDt=Object.prototype.hasOwnProperty,$Dt=Object.prototype.propertyIsEnumerable,IG=(t,e,n)=>e in t?IDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$Ee=(t,e)=>{for(var n in e||(e={}))kDt.call(e,n)&&IG(t,n,e[n]);if(kEe)for(var n of kEe(e))$Dt.call(e,n)&&IG(t,n,e[n]);return t},ll=(t,e,n)=>IG(t,typeof e!="symbol"?e+"":e,n);let Hw=class extends NPt{constructor(e,n,r,i=Hf,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ll(this,"map",new Map),ll(this,"version",OMt),ll(this,"cached",[]),ll(this,"initialized",!1),ll(this,"getKey"),ll(this,"storagePrefix",Hf),ll(this,"recentlyDeleted",[]),ll(this,"recentlyDeletedLimit",200),ll(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!fG(o)?this.map.set(this.getKey(o),o):uMt(o)?this.map.set(o.id,o):dMt(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ll(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ll(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ll(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>SDt(a[c],o[c]))):this.values)),ll(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=$Ee($Ee({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ll(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Xa(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return qc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=br("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=br("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=br("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}};var TDt=Object.defineProperty,PDt=(t,e,n)=>e in t?TDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Un=(t,e,n)=>PDt(t,typeof e!="symbol"?e+"":e,n);let NDt=class{constructor(e,n){this.core=e,this.logger=n,Un(this,"name",BMt),Un(this,"version",DMt),Un(this,"events",new g2),Un(this,"pairings"),Un(this,"initialized",!1),Un(this,"storagePrefix",Hf),Un(this,"ignoredPayloadTypes",[I5]),Un(this,"registeredMethods",[]),Un(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Un(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Un(this,"create",async r=>{this.isInitialized();const i=hG(),s=await this.core.crypto.setSymKey(i),o=pC(me.FIVE_MINUTES),a={protocol:Xxe},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=Vxe({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(zw.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),Un(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Vf.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=Hxe(r.uri);i.props.properties.topic=s,i.addTrace(Vf.pairing_uri_validation_success),i.addTrace(Vf.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Vf.existing_pairing),u.active)throw i.setError(N0.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Vf.pairing_not_expired)}const d=c||pC(me.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(Vf.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(zw.create,h),i.addTrace(Vf.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Vf.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(N0.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(N0.subscribe_pairing_topic_failure),f}return i.addTrace(Vf.subscribe_pairing_topic_success),h}),Un(this,"activate",async({topic:r})=>{this.isInitialized();const i=pC(me.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Un(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=iOt();this.events.once(FK("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Un(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Un(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Un(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Un(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",SC("USER_DISCONNECTED")),await this.deletePairing(i))}),Un(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return Vxe({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Un(this,"sendRequest",async(r,i,s)=>{const o=Io(i,s),a=await this.core.crypto.encode(r,o),c=IC[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Un(this,"sendResult",async(r,i,s)=>{const o=o0(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=IC[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Un(this,"sendError",async(r,i,s)=>{const o=B2(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=IC[c]?IC[c].res:IC.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Un(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,SC("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Un(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>W8e(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Un(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Un(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Un(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(zw.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Un(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{js(i)?this.events.emit(FK("pairing_ping",s),{}):Di(i)&&this.events.emit(FK("pairing_ping",s),{error:i.error})},500)}),Un(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(zw.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Un(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=SC("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Un(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(SC("WC_METHOD_UNSUPPORTED",r))}),Un(this,"isValidPair",(r,i)=>{var s;if(!pG(r)){const{message:a}=br("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(N0.malformed_pairing_uri),new Error(a)}if(!lMt(r.uri)){const{message:a}=br("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(N0.malformed_pairing_uri),new Error(a)}const o=Hxe(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=br("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(N0.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=br("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(N0.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&me.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(N0.pairing_expired);const{message:a}=br("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Un(this,"isValidPing",async r=>{if(!pG(r)){const{message:s}=br("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Un(this,"isValidDisconnect",async r=>{if(!pG(r)){const{message:s}=br("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Un(this,"isValidPairingTopic",async r=>{if(!Kxe(r)){const{message:i}=br("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=br("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(W8e(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=br("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Xa(n,this.name),this.pairings=new Hw(this.core,this.logger,this.name,this.storagePrefix)}get context(){return qc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(so.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==pi.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);D2(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):qy(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(dd.expired,async e=>{const{topic:n}=aOt(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(zw.expire,{topic:n}))})}};var ODt=Object.defineProperty,RDt=(t,e,n)=>e in t?ODt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ho=(t,e,n)=>RDt(t,typeof e!="symbol"?e+"":e,n);let MDt=class extends kPt{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ho(this,"records",new Map),Ho(this,"events",new ms.EventEmitter),Ho(this,"name",LMt),Ho(this,"version",UMt),Ho(this,"cached",[]),Ho(this,"initialized",!1),Ho(this,"storagePrefix",Hf),Ho(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ho(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:pC(me.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Eh.created,o)}),Ho(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Di(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Eh.updated,i))}),Ho(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ho(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Eh.deleted,s)}}),this.persist()}),Ho(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ho(this,"on",(r,i)=>{this.events.on(r,i)}),Ho(this,"once",(r,i)=>{this.events.once(r,i)}),Ho(this,"off",(r,i)=>{this.events.off(r,i)}),Ho(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Xa(n,this.name)}get context(){return qc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Io(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=br("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Eh.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=br("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Eh.created,e=>{const n=Eh.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Eh.updated,e=>{const n=Eh.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Eh.deleted,e=>{const n=Eh.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Ul.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{me.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Eh.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}};var jDt=Object.defineProperty,BDt=(t,e,n)=>e in t?jDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ka=(t,e,n)=>BDt(t,typeof e!="symbol"?e+"":e,n);let DDt=class extends RPt{constructor(e,n){super(e,n),this.core=e,this.logger=n,ka(this,"expirations",new Map),ka(this,"events",new ms.EventEmitter),ka(this,"name",FMt),ka(this,"version",zMt),ka(this,"cached",[]),ka(this,"initialized",!1),ka(this,"storagePrefix",Hf),ka(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ka(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),ka(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(dd.created,{target:s,expiration:o})}),ka(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),ka(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(dd.deleted,{target:i,expiration:s})}}),ka(this,"on",(r,i)=>{this.events.on(r,i)}),ka(this,"once",(r,i)=>{this.events.once(r,i)}),ka(this,"off",(r,i)=>{this.events.off(r,i)}),ka(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Xa(n,this.name)}get context(){return qc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return sOt(e);if(typeof e=="number")return oOt(e);const{message:n}=br("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dd.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=br("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=br("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;me.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(dd.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ul.pulse,()=>this.checkExpirations()),this.events.on(dd.created,e=>{const n=dd.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(dd.expired,e=>{const n=dd.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(dd.deleted,e=>{const n=dd.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=br("NOT_INITIALIZED",this.name);throw new Error(e)}}};var LDt=Object.defineProperty,UDt=(t,e,n)=>e in t?LDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cs=(t,e,n)=>UDt(t,typeof e!="symbol"?e+"":e,n);let FDt=class extends MPt{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Cs(this,"name",WMt),Cs(this,"abortController"),Cs(this,"isDevEnv"),Cs(this,"verifyUrlV3",HMt),Cs(this,"storagePrefix",Hf),Cs(this,"version",Yxe),Cs(this,"publicKey"),Cs(this,"fetchPromise"),Cs(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&me.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Cs(this,"register",async i=>{if(!fC()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Za(),u=this.startAbortTimer(me.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const w=y=>{if(y.data&&typeof y.data=="string")try{const b=JSON.parse(y.data);if(b.type==="verify_attestation"){if(C2(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Cs(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(C2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Cs(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(me.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Cs(this,"getVerifyUrl",i=>{let s=i||kC;return VMt.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${kC}`),s=kC),s}),Cs(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(me.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Cs(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Cs(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Cs(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Cs(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Cs(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Cs(this,"validateAttestation",(i,s)=>{const o=nMt(i,s.publicKey),a={hasExpired:me.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Xa(n,this.name),this.abortController=new AbortController,this.isDevEnv=H8e(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return qc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),me.toMiliseconds(e))}};var zDt=Object.defineProperty,WDt=(t,e,n)=>e in t?zDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TEe=(t,e,n)=>WDt(t,typeof e!="symbol"?e+"":e,n);let qDt=class extends jPt{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,TEe(this,"context",KMt),TEe(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${GMt}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Xa(n,this.context)}};var HDt=Object.defineProperty,PEe=Object.getOwnPropertySymbols,VDt=Object.prototype.hasOwnProperty,KDt=Object.prototype.propertyIsEnumerable,kG=(t,e,n)=>e in t?HDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RC=(t,e)=>{for(var n in e||(e={}))VDt.call(e,n)&&kG(t,n,e[n]);if(PEe)for(var n of PEe(e))KDt.call(e,n)&&kG(t,n,e[n]);return t},oo=(t,e,n)=>kG(t,typeof e!="symbol"?e+"":e,n);class GDt extends BPt{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,oo(this,"context",YMt),oo(this,"storagePrefix",Hf),oo(this,"storageVersion",ZMt),oo(this,"events",new Map),oo(this,"shouldPersist",!1),oo(this,"init",async()=>{if(!H8e())try{const i={eventId:q8e(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:F8e(this.core.relayer.protocol,this.core.relayer.version,mG)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),oo(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=q8e(),u=this.core.projectId||"",d=Date.now(),h=RC({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),oo(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return RC(RC({},a),this.setMethods(a.eventId))}),oo(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),oo(this,"setEventListeners",()=>{this.core.heartbeat.on(Ul.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{me.fromMiliseconds(Date.now())-me.fromMiliseconds(i.timestamp)>JMt&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),oo(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),oo(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),oo(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),oo(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),oo(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,RC(RC({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),oo(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),oo(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${QMt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${mG}${s}`,{method:"POST",body:JSON.stringify(i)})}),oo(this,"getAppDomain",()=>eOt().url),this.logger=Xa(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var ZDt=Object.defineProperty,NEe=Object.getOwnPropertySymbols,YDt=Object.prototype.hasOwnProperty,JDt=Object.prototype.propertyIsEnumerable,$G=(t,e,n)=>e in t?ZDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OEe=(t,e)=>{for(var n in e||(e={}))YDt.call(e,n)&&$G(t,n,e[n]);if(NEe)for(var n of NEe(e))JDt.call(e,n)&&$G(t,n,e[n]);return t},ni=(t,e,n)=>$G(t,typeof e!="symbol"?e+"":e,n);const QDt=class WAe extends _Pt{constructor(e){var n;super(e),ni(this,"protocol",Zxe),ni(this,"version",Yxe),ni(this,"name",gG),ni(this,"relayUrl"),ni(this,"projectId"),ni(this,"customStoragePrefix"),ni(this,"events",new ms.EventEmitter),ni(this,"logger"),ni(this,"heartbeat"),ni(this,"relayer"),ni(this,"crypto"),ni(this,"storage"),ni(this,"history"),ni(this,"expirer"),ni(this,"pairing"),ni(this,"verify"),ni(this,"echoClient"),ni(this,"linkModeSupportedApps"),ni(this,"eventClient"),ni(this,"initialized",!1),ni(this,"logChunkController"),ni(this,"on",(a,c)=>this.events.on(a,c)),ni(this,"once",(a,c)=>this.events.once(a,c)),ni(this,"off",(a,c)=>this.events.off(a,c)),ni(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),ni(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:pi.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||eEe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=G2({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:bMt.logger,name:gG}),{logger:s,chunkLoggerController:o}=lwe({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Xa(s,this.name),this.heartbeat=new I1e,this.crypto=new ABt(this,this.logger,e==null?void 0:e.keychain),this.history=new MDt(this,this.logger),this.expirer=new DDt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new xPt(OEe(OEe({},xMt),e==null?void 0:e.storageOptions)),this.relayer=new QBt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new NDt(this,this.logger),this.verify=new FDt(this,this.logger,this.storage),this.echoClient=new qDt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new GDt(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new WAe(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(RMt,r),n}get context(){return qc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(tEe,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(tEe)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&vMt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},Vw={getSIWX(){return Ne.state.siwx},async initializeIfEnabled(){var s;const t=Ne.state.siwx,e=ie.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(ie.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await vr.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),jn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=at._getClient())==null?void 0:s.disconnect().catch(console.error)),Qe.reset("Connect"),ts.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Ne.state.siwx,e=Ze.getPlainAddress(ie.getActiveCaipAddress()),n=ie.getActiveCaipNetwork(),r=at._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();We.getConnectorId(n.chainNamespace)===Ft.CONNECTOR_ID.AUTH&&Qe.pushTransactionStack({});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),vr.close(),jn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!vr.state.open||Qe.state.view==="ApproveTransaction")&&await vr.open({view:"SIWXSignMessage"}),s.isSmartAccount?ts.showError("This application might not support Smart Accounts"):ts.showError("Signature declined"),jn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await at.disconnect():vr.close(),Qe.reset("Connect"),jn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=Ne.state.siwx,e=Ze.getPlainAddress(ie.getActiveCaipAddress()),n=ie.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Qe.state.view==="ApproveTransaction",r=Qe.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=Vw.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:((a=ie.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(u=>u!==s.chainId)]});if(ts.showLoading("Authenticating...",{autoClose:!1}),Mt.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||s.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),jn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Vw.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),jn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Vw.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{ts.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=ie.state.activeChain;return{network:((e=ie.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=Mt.state.preferredAccountTypes)==null?void 0:n[t])===rC.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},REe={isUnsupportedChainView(){return Qe.state.view==="UnsupportedChain"||Qe.state.view==="SwitchNetwork"&&Qe.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){vr.shake();return}if(await Vw.isSIWXCloseDisabled()){vr.shake();return}vr.close()}};var XDt=Object.defineProperty,eLt=(t,e,n)=>e in t?XDt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MEe=(t,e,n)=>eLt(t,typeof e!="symbol"?e+"":e,n);let tLt=class{constructor(e){this.opts=e,MEe(this,"protocol","wc"),MEe(this,"version",2)}},nLt=class{constructor(e){this.client=e}};function MC(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function jEe(t){return MC(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const BEe="2.23.2";let jC={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${BEe}`},WP=class fJ extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof fJ?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof fJ&&n.cause.docsPath||n.docsPath,s=(a=jC.getDocsUrl)==null?void 0:a.call(jC,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...jC.version?[`Version: ${jC.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=BEe}walk(e){return DEe(this,e)}};function DEe(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?DEe(t.cause,e):e?null:t}let LEe=class extends WP{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function $5(t,{dir:e,size:n=32}={}){return typeof t=="string"?rLt(t,{dir:e,size:n}):iLt(t,{dir:e,size:n})}function rLt(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new LEe({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function iLt(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new LEe({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let sLt=class extends WP{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},oLt=class extends WP{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function T5(t,{size:e}){if(jEe(t)>e)throw new oLt({givenSize:jEe(t),maxSize:e})}function TG(t,e={}){const{signed:n}=e;e.size&&T5(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function aLt(t,e={}){return Number(TG(t,e))}const cLt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function PG(t,e={}){return typeof t=="number"||typeof t=="bigint"?FEe(t,e):typeof t=="string"?dLt(t,e):typeof t=="boolean"?lLt(t,e):UEe(t,e)}function lLt(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(T5(n,{size:e.size}),$5(n,{size:e.size})):n}function UEe(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=cLt[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(T5(r,{size:e.size}),$5(r,{dir:"right",size:e.size})):r}function FEe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new sLt({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?$5(a,{size:r}):a}const uLt=new TextEncoder;function dLt(t,e={}){const n=uLt.encode(t);return UEe(n,e)}const hLt=new TextEncoder;function fLt(t,e={}){return typeof t=="number"||typeof t=="bigint"?gLt(t,e):typeof t=="boolean"?pLt(t,e):MC(t)?WEe(t,e):qEe(t,e)}function pLt(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(T5(n,{size:e.size}),$5(n,{size:e.size})):n}const O0={zero:48,nine:57,A:65,F:70,a:97,f:102};function zEe(t){if(t>=O0.zero&&t<=O0.nine)return t-O0.zero;if(t>=O0.A&&t<=O0.F)return t-(O0.A-10);if(t>=O0.a&&t<=O0.f)return t-(O0.a-10)}function WEe(t,e={}){let n=t;e.size&&(T5(n,{size:e.size}),n=$5(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=zEe(r.charCodeAt(a++)),l=zEe(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new WP(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function gLt(t,e){const n=FEe(t,e);return WEe(n)}function qEe(t,e={}){const n=hLt.encode(t);return typeof e.size=="number"?(T5(n,{size:e.size}),$5(n,{dir:"right",size:e.size})):n}function HEe(t,e){const n=e||"hex",r=sNt(MC(t,{strict:!1})?fLt(t):t);return n==="bytes"?r:PG(r)}class mLt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const NG=new mLt(8192);function yLt(t,e){if(NG.has(`${t}.${e}`))return NG.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=HEe(qEe(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return NG.set(`${t}.${e}`,s),s}function wLt(t){const e=HEe(`0x${t.substring(4)}`).substring(26);return yLt(`0x${e}`)}async function vLt({hash:t,signature:e}){const n=MC(t)?t:PG(t),{secp256k1:r}=await Ge(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>KNt);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=VEe(f);return new r.Signature(TG(l),TG(u)).addRecoveryBit(p)}const o=MC(e)?e:PG(e),a=aLt(`0x${o.slice(130)}`),c=VEe(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function VEe(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function bLt({hash:t,signature:e}){return wLt(await vLt({hash:t,signature:e}))}var xLt={};const ELt=":";function P5(t){const[e,n]=t.split(ELt);return{namespace:e,reference:n}}function KEe(t,e){return t.includes(":")?[t]:e.chains||[]}var CLt=Object.defineProperty,_Lt=Object.defineProperties,ALt=Object.getOwnPropertyDescriptors,GEe=Object.getOwnPropertySymbols,SLt=Object.prototype.hasOwnProperty,ILt=Object.prototype.propertyIsEnumerable,ZEe=(t,e,n)=>e in t?CLt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YEe=(t,e)=>{for(var n in e||(e={}))SLt.call(e,n)&&ZEe(t,n,e[n]);if(GEe)for(var n of GEe(e))ILt.call(e,n)&&ZEe(t,n,e[n]);return t},kLt=(t,e)=>_Lt(t,ALt(e));const $Lt="ReactNative",N5={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function JEe(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function QEe(){return!Za()&&!!Py()&&navigator.product===$Lt}function XEe(){return!JEe()&&!!Py()&&!!Za()}function TLt(){return QEe()?N5.reactNative:JEe()?N5.node:XEe()?N5.browser:N5.unknown}function PLt(t){var e,n;const r=NLt();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),kLt(YEe(YEe({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function NLt(){return ik()||{name:"",description:"",url:"",icons:[""]}}function Kw(t,e){return t.filter(n=>e.includes(n)).length===t.length}function O5(t=me.FIVE_MINUTES,e){const n=me.toMiliseconds(t||me.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function OLt(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ul(t,e){return me.fromMiliseconds(Date.now()+me.toMiliseconds(t))}function R5(t){return Date.now()>=me.toMiliseconds(t)}function Hr(t,e){return`${t}${e?`:${e}`:""}`}function Gf(t=[],e=[]){return[...new Set([...t,...e])]}async function RLt({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=MLt(s,t,e),a=TLt();if(a===N5.browser){if(!((r=Za())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}jLt(o)}else a===N5.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function MLt(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${FLt(r,!0)}`}else i=`${i}/wc?${r}`;return i}function jLt(t){let e="_self";ULt()?e="_top":(LLt()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function BLt(t,e){let n="";try{if(XEe()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function e9e(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function DLt(){return typeof process<"u"&&xLt.IS_VITEST==="true"}function LLt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function ULt(){try{return window.self!==window.top}catch{return!1}}function FLt(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function qP(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function zLt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function BC(t,...e){if(!zLt(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function WLt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qP(t.outputLen),qP(t.blockLen)}function M5(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function t9e(t,e){BC(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const HP=BigInt(2**32-1),n9e=BigInt(32);function qLt(t,e=!1){return e?{h:Number(t&HP),l:Number(t>>n9e&HP)}:{h:Number(t>>n9e&HP)|0,l:Number(t&HP)|0}}function HLt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=qLt(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const VLt=(t,e,n)=>t<<n|e>>>32-n,KLt=(t,e,n)=>e<<n|t>>>32-n,GLt=(t,e,n)=>e<<n-32|t>>>64-n,ZLt=(t,e,n)=>t<<n-32|e>>>64-n,j5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function YLt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function OG(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zf(t,e){return t<<32-e|t>>>e}const r9e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function JLt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function i9e(t){for(let e=0;e<t.length;e++)t[e]=JLt(t[e])}function QLt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function VP(t){return typeof t=="string"&&(t=QLt(t)),BC(t),t}function XLt(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];BC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let RG=class{clone(){return this._cloneInto()}};function s9e(t){const e=r=>t().update(VP(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function o9e(t=32){if(j5&&typeof j5.getRandomValues=="function")return j5.getRandomValues(new Uint8Array(t));if(j5&&typeof j5.randomBytes=="function")return j5.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const a9e=[],c9e=[],l9e=[],eUt=BigInt(0),DC=BigInt(1),tUt=BigInt(2),nUt=BigInt(7),rUt=BigInt(256),iUt=BigInt(113);for(let t=0,e=DC,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],a9e.push(2*(5*r+n)),c9e.push((t+1)*(t+2)/2%64);let i=eUt;for(let s=0;s<7;s++)e=(e<<DC^(e>>nUt)*iUt)%rUt,e&tUt&&(i^=DC<<(DC<<BigInt(s))-DC);l9e.push(i)}const[sUt,oUt]=HLt(l9e,!0),u9e=(t,e,n)=>n>32?GLt(t,e,n):VLt(t,e,n),d9e=(t,e,n)=>n>32?ZLt(t,e,n):KLt(t,e,n);function aUt(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=u9e(l,u,1)^n[a],h=d9e(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=c9e[o],c=u9e(i,s,a),l=d9e(i,s,a),u=a9e[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=sUt[r],t[1]^=oUt[r]}n.fill(0)}class MG extends RG{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qP(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=YLt(this.state)}keccak(){r9e||i9e(this.state32),aUt(this.state32,this.rounds),r9e||i9e(this.state32),this.posOut=0,this.pos=0}update(e){M5(this);const{blockLen:n,state:r}=this;e=VP(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){M5(this,!1),BC(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qP(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(t9e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new MG(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const cUt=(t,e,n)=>s9e(()=>new MG(e,t,n)),lUt=cUt(1,136,256/8),uUt="https://rpc.walletconnect.org/v1";function h9e(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(lUt(n)).toString("hex")}async function dUt(t,e,n,r,i,s){switch(n.t){case"eip191":return await hUt(t,e,n.s);case"eip1271":return await fUt(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function hUt(t,e,n){return(await bLt({hash:h9e(e),signature:n})).toLowerCase()===t.toLowerCase()}async function fUt(t,e,n,r,i,s){const o=P5(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=h9e(e).substring(2),h=a+d+c+l+u,f=await fetch(`${s||uUt}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:pUt(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function pUt(){return Date.now()+Math.floor(Math.random()*1e3)}function gUt(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return nm.encode(s)}var mUt=Object.defineProperty,yUt=Object.defineProperties,wUt=Object.getOwnPropertyDescriptors,f9e=Object.getOwnPropertySymbols,vUt=Object.prototype.hasOwnProperty,bUt=Object.prototype.propertyIsEnumerable,p9e=(t,e,n)=>e in t?mUt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xUt=(t,e)=>{for(var n in e||(e={}))vUt.call(e,n)&&p9e(t,n,e[n]);if(f9e)for(var n of f9e(e))bUt.call(e,n)&&p9e(t,n,e[n]);return t},EUt=(t,e)=>yUt(t,wUt(e));const CUt="did:pkh:",jG=t=>t==null?void 0:t.split(":"),_Ut=t=>{const e=t&&jG(t);if(e)return t.includes(CUt)?e[3]:e[1]},BG=t=>{const e=t&&jG(t);if(e)return e[2]+":"+e[3]},KP=t=>{const e=t&&jG(t);if(e)return e.pop()};async function g9e(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=m9e(i,i.iss),o=KP(i.iss);return await dUt(o,s,r,BG(i.iss),n)}const m9e=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=KP(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${_Ut(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=GP(t.resources);if(p){const m=LC(p);i=OUt(i,m)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function AUt(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function SUt(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Gw(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function IUt(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:kUt(e,n,r)}}}function kUt(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function y9e(t){return Gw(t),`urn:recap:${AUt(t).replace(/=/g,"")}`}function LC(t){const e=SUt(t.replace("urn:recap:",""));return Gw(e),e}function $Ut(t,e,n){const r=IUt(t,e,n);return y9e(r)}function TUt(t){return t&&t.includes("urn:recap:")}function PUt(t,e){const n=LC(t),r=LC(e),i=NUt(n,r);return y9e(i)}function NUt(t,e){Gw(t),Gw(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=EUt(xUt({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function OUt(t="",e){Gw(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function w9e(t){var e;const n=LC(t);Gw(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function v9e(t){const e=LC(t);Gw(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function GP(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return TUt(e)?e:void 0}function DG(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function b9e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function au(t,...e){if(!b9e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function x9e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function RUt(t,e){au(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function E9e(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Qm=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),MUt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function jUt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function LG(t){if(typeof t=="string")t=jUt(t);else if(b9e(t))t=UG(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function BUt(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function DUt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const LUt=(t,e)=>{function n(r,...i){if(au(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?au(l):au(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&au(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");au(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,au(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(au(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function C9e(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!UUt(e))throw new Error("invalid output, must be aligned");return e}function _9e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function UUt(t){return t.byteOffset%4===0}function UG(t){return Uint8Array.from(t)}function B5(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const A9e=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),FUt=A9e("expand 16-byte k"),zUt=A9e("expand 32-byte k"),WUt=Qm(FUt),qUt=Qm(zUt);function cr(t,e){return t<<e|t>>>32-e}function FG(t){return t.byteOffset%4===0}const ZP=64,HUt=16,S9e=2**32-1,I9e=new Uint32Array;function VUt(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(ZP),u=Qm(l),d=FG(i)&&FG(s),h=d?Qm(i):I9e,f=d?Qm(s):I9e;for(let p=0;p<c;o++){if(t(e,n,r,u,o,a),o>=S9e)throw new Error("arx: counter overflow");const m=Math.min(ZP,c-p);if(d&&m===ZP){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let y=0,b;y<HUt;y++)b=w+y,f[b]=h[b]^u[y];p+=ZP;continue}for(let w=0,y;w<m;w++)y=p+w,s[y]=i[y]^l[w];p+=m}}function KUt(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=BUt({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return DG(i),DG(o),E9e(s),E9e(n),(a,c,l,u,d=0)=>{au(a),au(c),au(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),au(u),DG(d),d<0||d>=S9e)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,w;if(p===32)f.push(m=UG(a)),w=qUt;else if(p===16&&n)m=new Uint8Array(32),m.set(a),m.set(a,16),w=WUt,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);FG(c)||f.push(c=UG(c));const y=Qm(m);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,y,Qm(c.subarray(0,16)),y),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const v=Qm(c);return VUt(t,w,y,v,l,u,d,o),B5(...f),u}}const Vo=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class GUt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=LG(e),au(e,32);const n=Vo(e,0),r=Vo(e,2),i=Vo(e,4),s=Vo(e,6),o=Vo(e,8),a=Vo(e,10),c=Vo(e,12),l=Vo(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Vo(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],w=o[9],y=Vo(e,n+0),b=Vo(e,n+2),v=Vo(e,n+4),E=Vo(e,n+6),_=Vo(e,n+8),T=Vo(e,n+10),I=Vo(e,n+12),R=Vo(e,n+14);let S=s[0]+(y&8191),B=s[1]+((y>>>13|b<<3)&8191),j=s[2]+((b>>>10|v<<6)&8191),U=s[3]+((v>>>7|E<<9)&8191),M=s[4]+((E>>>4|_<<12)&8191),C=s[5]+(_>>>1&8191),x=s[6]+((_>>>14|T<<2)&8191),A=s[7]+((T>>>11|I<<5)&8191),N=s[8]+((I>>>8|R<<8)&8191),O=s[9]+(R>>>5|i),P=0,D=P+S*a+B*(5*w)+j*(5*m)+U*(5*p)+M*(5*f);P=D>>>13,D&=8191,D+=C*(5*h)+x*(5*d)+A*(5*u)+N*(5*l)+O*(5*c),P+=D>>>13,D&=8191;let L=P+S*c+B*a+j*(5*w)+U*(5*m)+M*(5*p);P=L>>>13,L&=8191,L+=C*(5*f)+x*(5*h)+A*(5*d)+N*(5*u)+O*(5*l),P+=L>>>13,L&=8191;let $=P+S*l+B*c+j*a+U*(5*w)+M*(5*m);P=$>>>13,$&=8191,$+=C*(5*p)+x*(5*f)+A*(5*h)+N*(5*d)+O*(5*u),P+=$>>>13,$&=8191;let q=P+S*u+B*l+j*c+U*a+M*(5*w);P=q>>>13,q&=8191,q+=C*(5*m)+x*(5*p)+A*(5*f)+N*(5*h)+O*(5*d),P+=q>>>13,q&=8191;let V=P+S*d+B*u+j*l+U*c+M*a;P=V>>>13,V&=8191,V+=C*(5*w)+x*(5*m)+A*(5*p)+N*(5*f)+O*(5*h),P+=V>>>13,V&=8191;let F=P+S*h+B*d+j*u+U*l+M*c;P=F>>>13,F&=8191,F+=C*a+x*(5*w)+A*(5*m)+N*(5*p)+O*(5*f),P+=F>>>13,F&=8191;let Z=P+S*f+B*h+j*d+U*u+M*l;P=Z>>>13,Z&=8191,Z+=C*c+x*a+A*(5*w)+N*(5*m)+O*(5*p),P+=Z>>>13,Z&=8191;let X=P+S*p+B*f+j*h+U*d+M*u;P=X>>>13,X&=8191,X+=C*l+x*c+A*a+N*(5*w)+O*(5*m),P+=X>>>13,X&=8191;let Y=P+S*m+B*p+j*f+U*h+M*d;P=Y>>>13,Y&=8191,Y+=C*u+x*l+A*c+N*a+O*(5*w),P+=Y>>>13,Y&=8191;let te=P+S*w+B*m+j*p+U*f+M*h;P=te>>>13,te&=8191,te+=C*d+x*u+A*l+N*c+O*a,P+=te>>>13,te&=8191,P=(P<<2)+P|0,P=P+D|0,D=P&8191,P=P>>>13,L+=P,s[0]=D,s[1]=L,s[2]=$,s[3]=q,s[4]=V,s[5]=F,s[6]=Z,s[7]=X,s[8]=Y,s[9]=te}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;B5(r)}update(e){x9e(this);const{buffer:n,blockLen:r}=this;e=LG(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){B5(this.h,this.r,this.buffer,this.pad)}digestInto(e){x9e(this),RUt(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function ZUt(t){const e=(r,i)=>t(i).update(LG(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const YUt=ZUt(t=>new GUt(t));function JUt(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],w=e[6],y=e[7],b=i,v=n[0],E=n[1],_=n[2],T=o,I=a,R=c,S=l,B=u,j=d,U=h,M=f,C=p,x=m,A=w,N=y,O=b,P=v,D=E,L=_;for(let q=0;q<s;q+=2)T=T+B|0,O=cr(O^T,16),C=C+O|0,B=cr(B^C,12),T=T+B|0,O=cr(O^T,8),C=C+O|0,B=cr(B^C,7),I=I+j|0,P=cr(P^I,16),x=x+P|0,j=cr(j^x,12),I=I+j|0,P=cr(P^I,8),x=x+P|0,j=cr(j^x,7),R=R+U|0,D=cr(D^R,16),A=A+D|0,U=cr(U^A,12),R=R+U|0,D=cr(D^R,8),A=A+D|0,U=cr(U^A,7),S=S+M|0,L=cr(L^S,16),N=N+L|0,M=cr(M^N,12),S=S+M|0,L=cr(L^S,8),N=N+L|0,M=cr(M^N,7),T=T+j|0,L=cr(L^T,16),A=A+L|0,j=cr(j^A,12),T=T+j|0,L=cr(L^T,8),A=A+L|0,j=cr(j^A,7),I=I+U|0,O=cr(O^I,16),N=N+O|0,U=cr(U^N,12),I=I+U|0,O=cr(O^I,8),N=N+O|0,U=cr(U^N,7),R=R+M|0,P=cr(P^R,16),C=C+P|0,M=cr(M^C,12),R=R+M|0,P=cr(P^R,8),C=C+P|0,M=cr(M^C,7),S=S+B|0,D=cr(D^S,16),x=x+D|0,B=cr(B^x,12),S=S+B|0,D=cr(D^S,8),x=x+D|0,B=cr(B^x,7);let $=0;r[$++]=o+T|0,r[$++]=a+I|0,r[$++]=c+R|0,r[$++]=l+S|0,r[$++]=u+B|0,r[$++]=d+j|0,r[$++]=h+U|0,r[$++]=f+M|0,r[$++]=p+C|0,r[$++]=m+x|0,r[$++]=w+A|0,r[$++]=y+N|0,r[$++]=b+O|0,r[$++]=v+P|0,r[$++]=E+D|0,r[$++]=_+L|0}const QUt=KUt(JUt,{counterRight:!1,counterLength:4,allowShortKeys:!1}),XUt=new Uint8Array(16),k9e=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(XUt.subarray(n))},eFt=new Uint8Array(32);function $9e(t,e,n,r,i){const s=t(e,n,eFt),o=YUt.create(s);i&&k9e(o,i),k9e(o,r);const a=new Uint8Array(16),c=MUt(a);_9e(c,0,BigInt(i?i.length:0),!0),_9e(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return B5(s,a),l}LUt({blockSize:64,nonceLength:12,tagLength:16},(t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=C9e(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=$9e(t,e,n,a,r);return s.set(c,o),B5(c),s},decrypt(i,s){s=C9e(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=$9e(t,e,n,o,r);if(!DUt(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),B5(c),s}}))(QUt));class T9e extends RG{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,WLt(e);const r=VP(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return M5(this),this.iHash.update(e),this}digestInto(e){M5(this),BC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const P9e=(t,e,n)=>new T9e(t,e).update(n).digest();P9e.create=(t,e)=>new T9e(t,e);function tFt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function nFt(t,e,n){return t&e^~t&n}function rFt(t,e,n){return t&e^t&n^e&n}let iFt=class extends RG{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=OG(this.buffer)}update(e){M5(this);const{view:n,buffer:r,blockLen:i}=this;e=VP(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=OG(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){M5(this),t9e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;tFt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=OG(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const sFt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e1=new Uint32Array(64);class oFt extends iFt{constructor(){super(64,32,8,!1),this.A=Xm[0]|0,this.B=Xm[1]|0,this.C=Xm[2]|0,this.D=Xm[3]|0,this.E=Xm[4]|0,this.F=Xm[5]|0,this.G=Xm[6]|0,this.H=Xm[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)e1[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=e1[d-15],f=e1[d-2],p=Zf(h,7)^Zf(h,18)^h>>>3,m=Zf(f,17)^Zf(f,19)^f>>>10;e1[d]=m+e1[d-7]+p+e1[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Zf(a,6)^Zf(a,11)^Zf(a,25),f=u+h+nFt(a,c,l)+sFt[d]+e1[d]|0,p=(Zf(r,2)^Zf(r,13)^Zf(r,22))+rFt(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){e1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zG=s9e(()=>new oFt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YP=BigInt(0),JP=BigInt(1),aFt=BigInt(2);function Zw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function UC(t){if(!Zw(t))throw new Error("Uint8Array expected")}function D5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const cFt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function L5(t){UC(t);let e="";for(let n=0;n<t.length;n++)e+=cFt[t[n]];return e}function U5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function WG(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?YP:BigInt("0x"+t)}const R0={_0:48,_9:57,A:65,F:70,a:97,f:102};function N9e(t){if(t>=R0._0&&t<=R0._9)return t-R0._0;if(t>=R0.A&&t<=R0.F)return t-(R0.A-10);if(t>=R0.a&&t<=R0.f)return t-(R0.a-10)}function F5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=N9e(t.charCodeAt(s)),a=N9e(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Yw(t){return WG(L5(t))}function FC(t){return UC(t),WG(L5(Uint8Array.from(t).reverse()))}function z5(t,e){return F5(t.toString(16).padStart(e*2,"0"))}function QP(t,e){return z5(t,e).reverse()}function lFt(t){return F5(U5(t))}function cu(t,e,n){let r;if(typeof e=="string")try{r=F5(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Zw(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function zC(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];UC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function uFt(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function dFt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const qG=t=>typeof t=="bigint"&&YP<=t;function XP(t,e,n){return qG(t)&&qG(e)&&qG(n)&&e<=t&&t<n}function M0(t,e,n,r){if(!XP(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function O9e(t){let e;for(e=0;t>YP;t>>=JP,e+=1);return e}function hFt(t,e){return t>>BigInt(e)&JP}function fFt(t,e,n){return t|(n?JP:YP)<<BigInt(e)}const HG=t=>(aFt<<BigInt(t-1))-JP,VG=t=>new Uint8Array(t),R9e=t=>Uint8Array.from(t);function M9e(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=VG(t),i=VG(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=VG())=>{i=a(R9e([0]),u),r=a(),u.length!==0&&(i=a(R9e([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return zC(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const pFt={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Zw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function W5(t,e,n={}){const r=(i,s,o)=>{const a=pFt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const gFt=()=>{throw new Error("not implemented")};function KG(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var mFt=Object.freeze({__proto__:null,isBytes:Zw,abytes:UC,abool:D5,bytesToHex:L5,numberToHexUnpadded:U5,hexToNumber:WG,hexToBytes:F5,bytesToNumberBE:Yw,bytesToNumberLE:FC,numberToBytesBE:z5,numberToBytesLE:QP,numberToVarBytesBE:lFt,ensureBytes:cu,concatBytes:zC,equalBytes:uFt,utf8ToBytes:dFt,inRange:XP,aInRange:M0,bitLen:O9e,bitGet:hFt,bitSet:fFt,bitMask:HG,createHmacDrbg:M9e,validateObject:W5,notImplemented:gFt,memoized:KG});const ao=BigInt(0),is=BigInt(1),Jw=BigInt(2),yFt=BigInt(3),GG=BigInt(4),j9e=BigInt(5),B9e=BigInt(8);function dl(t,e){const n=t%e;return n>=ao?n:e+n}function D9e(t,e,n){if(e<ao)throw new Error("invalid exponent, negatives unsupported");if(n<=ao)throw new Error("invalid modulus");if(n===is)return ao;let r=is;for(;e>ao;)e&is&&(r=r*t%n),t=t*t%n,e>>=is;return r}function Ah(t,e,n){let r=t;for(;e-- >ao;)r*=r,r%=n;return r}function ZG(t,e){if(t===ao)throw new Error("invert: expected non-zero number");if(e<=ao)throw new Error("invert: expected positive modulus, got "+e);let n=dl(t,e),r=e,i=ao,s=is;for(;n!==ao;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==is)throw new Error("invert: does not exist");return dl(i,e)}function wFt(t){const e=(t-is)/Jw;let n,r,i;for(n=t-is,r=0;n%Jw===ao;n/=Jw,r++);for(i=Jw;i<t&&D9e(i,e,t)!==t-is;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+is)/GG;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+is)/Jw;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,is<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function vFt(t){if(t%GG===yFt){const e=(t+is)/GG;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%B9e===j9e){const e=(t-j9e)/B9e;return function(n,r){const i=n.mul(r,Jw),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Jw),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return wFt(t)}const bFt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xFt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=bFt.reduce((r,i)=>(r[i]="function",r),e);return W5(t,n)}function EFt(t,e,n){if(n<ao)throw new Error("invalid exponent, negatives unsupported");if(n===ao)return t.ONE;if(n===is)return e;let r=t.ONE,i=e;for(;n>ao;)n&is&&(r=t.mul(r,i)),i=t.sqr(i),n>>=is;return r}function CFt(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function L9e(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function U9e(t,e,n=!1,r={}){if(t<=ao)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=L9e(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:HG(i),ZERO:ao,ONE:is,create:c=>dl(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ao<=c&&c<t},is0:c=>c===ao,isOdd:c=>(c&is)===is,neg:c=>dl(-c,t),eql:(c,l)=>c===l,sqr:c=>dl(c*c,t),add:(c,l)=>dl(c+l,t),sub:(c,l)=>dl(c-l,t),mul:(c,l)=>dl(c*l,t),pow:(c,l)=>EFt(a,c,l),div:(c,l)=>dl(c*ZG(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ZG(c,t),sqrt:r.sqrt||(c=>(o||(o=vFt(t)),o(a,c))),invertBatch:c=>CFt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?QP(c,s):z5(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?FC(c):Yw(c)}});return Object.freeze(a)}function F9e(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function z9e(t){const e=F9e(t);return e+Math.ceil(e/2)}function _Ft(t,e,n=!1){const r=t.length,i=F9e(e),s=z9e(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?FC(t):Yw(t),a=dl(o,e-is)+is;return n?QP(a,i):z5(a,i)}const W9e=BigInt(0),eN=BigInt(1);function YG(t,e){const n=e.negate();return t?n:e}function q9e(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function JG(t,e){q9e(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function AFt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function SFt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const QG=new WeakMap,H9e=new WeakMap;function XG(t){return H9e.get(t)||1}function IFt(t,e){return{constTimeNegate:YG,hasPrecomputes(n){return XG(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>W9e;)r&eN&&(i=i.add(s)),s=s.double(),r>>=eN;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=JG(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=JG(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let p=Number(i&l);i>>=d,p>o&&(p-=u,i+=eN);const m=f,w=f+Math.abs(p)-1,y=h%2!==0,b=p<0;p===0?c=c.add(YG(y,r[m])):a=a.add(YG(b,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=JG(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===W9e)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=eN),f===0)continue;let p=r[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(n,r,i){let s=QG.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&QG.set(r,i(s))),s},wNAFCached(n,r,i){const s=XG(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=XG(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){q9e(r,e),H9e.set(n,r),QG.delete(n)}}}function kFt(t,e,n,r){if(AFt(n,t),SFt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=O9e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const p=r[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(n[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function V9e(t){return xFt(t.Fp),W5(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L9e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const q5=BigInt(0),eZ=BigInt(1);function $Ft(t){return W5(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function TFt(t){const e=$Ft(t),{P:n}=e,r=b=>dl(b,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>D9e(b,n-BigInt(2),n));function l(b,v,E){const _=r(b*(v-E));return v=r(v-_),E=r(E+_),[v,E]}const u=(e.a-BigInt(2))/BigInt(4);function d(b,v){M0("u",b,q5,n),M0("scalar",v,q5,n);const E=v,_=b;let T=eZ,I=q5,R=b,S=eZ,B=q5,j;for(let M=BigInt(i-1);M>=q5;M--){const C=E>>M&eZ;B^=C,j=l(B,T,R),T=j[0],R=j[1],j=l(B,I,S),I=j[0],S=j[1],B=C;const x=T+I,A=r(x*x),N=T-I,O=r(N*N),P=A-O,D=R+S,L=R-S,$=r(L*x),q=r(D*N),V=$+q,F=$-q;R=r(V*V),S=r(_*r(F*F)),T=r(A*O),I=r(P*(A+r(u*P)))}j=l(B,T,R),T=j[0],R=j[1],j=l(B,I,S),I=j[0],S=j[1];const U=c(I);return r(T*U)}function h(b){return QP(r(b),s)}function f(b){const v=cu("u coordinate",b,s);return o===32&&(v[31]&=127),FC(v)}function p(b){const v=cu("scalar",b),E=v.length;if(E!==s&&E!==o){let _=""+s+" or "+o;throw new Error("invalid scalar, expected "+_+" bytes, got "+E)}return FC(a(v))}function m(b,v){const E=f(v),_=p(b),T=d(E,_);if(T===q5)throw new Error("invalid private or public key received");return h(T)}const w=h(e.Gu);function y(b){return m(b,w)}return{scalarMult:m,scalarMultBase:y,getSharedSecret:(b,v)=>m(b,v),getPublicKey:b=>y(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}const tZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const PFt=BigInt(1),K9e=BigInt(2),NFt=BigInt(3),OFt=BigInt(5);BigInt(8);function RFt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=tZ,o=t*t%s*t%s,a=Ah(o,K9e,s)*o%s,c=Ah(a,PFt,s)*t%s,l=Ah(c,OFt,s)*c%s,u=Ah(l,e,s)*l%s,d=Ah(u,n,s)*u%s,h=Ah(d,r,s)*d%s,f=Ah(h,i,s)*h%s,p=Ah(f,i,s)*h%s,m=Ah(p,e,s)*l%s;return{pow_p_5_8:Ah(m,K9e,s)*t%s,b2:o}}function MFt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}TFt({P:tZ,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=tZ,{pow_p_5_8:n,b2:r}=RFt(t);return dl(Ah(n,NFt,e)*r,e)},adjustScalarBytes:MFt,randomBytes:o9e});function G9e(t){t.lowS!==void 0&&D5("lowS",t.lowS),t.prehash!==void 0&&D5("prehash",t.prehash)}function jFt(t){const e=V9e(t);W5(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:BFt,hexToBytes:DFt}=mFt;class LFt extends Error{constructor(e=""){super(e)}}const j0={Err:LFt,_tlv:{encode:(t,e)=>{const{Err:n}=j0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=U5(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?U5(i.length/2|128):"";return U5(t)+s+i+e},decode(t,e){const{Err:n}=j0;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=j0;if(t<B0)throw new e("integer: negative integers are not allowed");let n=U5(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=j0;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return BFt(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=j0,i=typeof t=="string"?DFt(t):t;UC(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=j0,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},B0=BigInt(0),co=BigInt(1);BigInt(2);const Z9e=BigInt(3);BigInt(4);function UFt(t){const e=jFt(t),{Fp:n}=e,r=U9e(e.n,e.nBitLength),i=e.toBytes||((m,w,y)=>{const b=w.toAffine();return zC(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const w=m.subarray(1),y=n.fromBytes(w.subarray(0,n.BYTES)),b=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function o(m){const{a:w,b:y}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,w)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return XP(m,co,e.n)}function c(m){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:b,n:v}=e;if(w&&typeof m!="bigint"){if(Zw(m)&&(m=L5(m)),typeof m!="string"||!w.includes(m.length))throw new Error("invalid private key");m=m.padStart(y*2,"0")}let E;try{E=typeof m=="bigint"?m:Yw(cu("private key",m,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof m)}return b&&(E=dl(E,v)),M0("private key",E,co,v),E}function l(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const u=KG((m,w)=>{const{px:y,py:b,pz:v}=m;if(n.eql(v,n.ONE))return{x:y,y:b};const E=m.is0();w==null&&(w=E?n.ONE:n.inv(v));const _=n.mul(y,w),T=n.mul(b,w),I=n.mul(v,w);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:_,y:T}}),d=KG(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=m.toAffine();if(!n.isValid(w)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),v=o(w);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(w,y,b){if(this.px=w,this.py=y,this.pz=b,w==null||!n.isValid(w))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:y,y:b}=w||{};if(!w||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(y)&&v(b)?h.ZERO:new h(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=n.invertBatch(w.map(b=>b.pz));return w.map((b,v)=>b.toAffine(y[v])).map(h.fromAffine)}static fromHex(w){const y=h.fromAffine(s(cu("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return h.BASE.multiply(c(w))}static msm(w,y){return kFt(h,r,w,y)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:y,py:b,pz:v}=this,{px:E,py:_,pz:T}=w,I=n.eql(n.mul(y,T),n.mul(E,v)),R=n.eql(n.mul(b,T),n.mul(_,v));return I&&R}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:y}=e,b=n.mul(y,Z9e),{px:v,py:E,pz:_}=this;let T=n.ZERO,I=n.ZERO,R=n.ZERO,S=n.mul(v,v),B=n.mul(E,E),j=n.mul(_,_),U=n.mul(v,E);return U=n.add(U,U),R=n.mul(v,_),R=n.add(R,R),T=n.mul(w,R),I=n.mul(b,j),I=n.add(T,I),T=n.sub(B,I),I=n.add(B,I),I=n.mul(T,I),T=n.mul(U,T),R=n.mul(b,R),j=n.mul(w,j),U=n.sub(S,j),U=n.mul(w,U),U=n.add(U,R),R=n.add(S,S),S=n.add(R,S),S=n.add(S,j),S=n.mul(S,U),I=n.add(I,S),j=n.mul(E,_),j=n.add(j,j),S=n.mul(j,U),T=n.sub(T,S),R=n.mul(j,B),R=n.add(R,R),R=n.add(R,R),new h(T,I,R)}add(w){l(w);const{px:y,py:b,pz:v}=this,{px:E,py:_,pz:T}=w;let I=n.ZERO,R=n.ZERO,S=n.ZERO;const B=e.a,j=n.mul(e.b,Z9e);let U=n.mul(y,E),M=n.mul(b,_),C=n.mul(v,T),x=n.add(y,b),A=n.add(E,_);x=n.mul(x,A),A=n.add(U,M),x=n.sub(x,A),A=n.add(y,v);let N=n.add(E,T);return A=n.mul(A,N),N=n.add(U,C),A=n.sub(A,N),N=n.add(b,v),I=n.add(_,T),N=n.mul(N,I),I=n.add(M,C),N=n.sub(N,I),S=n.mul(B,A),I=n.mul(j,C),S=n.add(I,S),I=n.sub(M,S),S=n.add(M,S),R=n.mul(I,S),M=n.add(U,U),M=n.add(M,U),C=n.mul(B,C),A=n.mul(j,A),M=n.add(M,C),C=n.sub(U,C),C=n.mul(B,C),A=n.add(A,C),U=n.mul(M,A),R=n.add(R,U),U=n.mul(N,A),I=n.mul(x,I),I=n.sub(I,U),U=n.mul(x,M),S=n.mul(N,S),S=n.add(S,U),new h(I,R,S)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return p.wNAFCached(this,w,h.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:b}=e;M0("scalar",w,B0,b);const v=h.ZERO;if(w===B0)return v;if(this.is0()||w===co)return this;if(!y||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,h.normalizeZ);let{k1neg:E,k1:_,k2neg:T,k2:I}=y.splitScalar(w),R=v,S=v,B=this;for(;_>B0||I>B0;)_&co&&(R=R.add(B)),I&co&&(S=S.add(B)),B=B.double(),_>>=co,I>>=co;return E&&(R=R.negate()),T&&(S=S.negate()),S=new h(n.mul(S.px,y.beta),S.py,S.pz),R.add(S)}multiply(w){const{endo:y,n:b}=e;M0("scalar",w,co,b);let v,E;if(y){const{k1neg:_,k1:T,k2neg:I,k2:R}=y.splitScalar(w);let{p:S,f:B}=this.wNAF(T),{p:j,f:U}=this.wNAF(R);S=p.constTimeNegate(_,S),j=p.constTimeNegate(I,j),j=new h(n.mul(j.px,y.beta),j.py,j.pz),v=S.add(j),E=B.add(U)}else{const{p:_,f:T}=this.wNAF(w);v=_,E=T}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(w,y,b){const v=h.BASE,E=(T,I)=>I===B0||I===co||!T.equals(v)?T.multiplyUnsafe(I):T.multiply(I),_=E(this,y).add(E(w,b));return _.is0()?void 0:_}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=e;if(w===co)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=e;return w===co?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return D5("isCompressed",w),this.assertValidity(),i(h,this,w)}toHex(w=!0){return D5("isCompressed",w),L5(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=IFt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function FFt(t){const e=V9e(t);return W5(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function zFt(t){const e=FFt(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(C){return dl(C,r)}function a(C){return ZG(C,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=UFt({...e,toBytes(C,x,A){const N=x.toAffine(),O=n.toBytes(N.x),P=zC;return D5("isCompressed",A),A?P(Uint8Array.from([x.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,n.toBytes(N.y))},fromBytes(C){const x=C.length,A=C[0],N=C.subarray(1);if(x===i&&(A===2||A===3)){const O=Yw(N);if(!XP(O,co,n.ORDER))throw new Error("Point is not on curve");const P=u(O);let D;try{D=n.sqrt(P)}catch($){const q=$ instanceof Error?": "+$.message:"";throw new Error("Point is not on curve"+q)}const L=(D&co)===co;return(A&1)===1!==L&&(D=n.neg(D)),{x:O,y:D}}else if(x===s&&A===4){const O=n.fromBytes(N.subarray(0,n.BYTES)),P=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:O,y:P}}else{const O=i,P=s;throw new Error("invalid Point, expected length of "+O+", or uncompressed "+P+", got "+x)}}}),h=C=>L5(z5(C,e.nByteLength));function f(C){const x=r>>co;return C>x}function p(C){return f(C)?o(-C):C}const m=(C,x,A)=>Yw(C.slice(x,A));class w{constructor(x,A,N){this.r=x,this.s=A,this.recovery=N,this.assertValidity()}static fromCompact(x){const A=e.nByteLength;return x=cu("compactSignature",x,A*2),new w(m(x,0,A),m(x,A,2*A))}static fromDER(x){const{r:A,s:N}=j0.toSig(cu("DER",x));return new w(A,N)}assertValidity(){M0("r",this.r,co,r),M0("s",this.s,co,r)}addRecoveryBit(x){return new w(this.r,this.s,x)}recoverPublicKey(x){const{r:A,s:N,recovery:O}=this,P=T(cu("msgHash",x));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?A+e.n:A;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const L=O&1?"03":"02",$=c.fromHex(L+h(D)),q=a(D),V=o(-P*q),F=o(N*q),Z=c.BASE.multiplyAndAddUnsafe($,V,F);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return F5(this.toDERHex())}toDERHex(){return j0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return F5(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(C){try{return l(C),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const C=z9e(e.n);return _Ft(e.randomBytes(C),e.n)},precompute(C=8,x=c.BASE){return x._setWindowSize(C),x.multiply(BigInt(3)),x}};function b(C,x=!0){return c.fromPrivateKey(C).toRawBytes(x)}function v(C){const x=Zw(C),A=typeof C=="string",N=(x||A)&&C.length;return x?N===i||N===s:A?N===2*i||N===2*s:C instanceof c}function E(C,x,A=!0){if(v(C))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(l(C)).toRawBytes(A)}const _=e.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const x=Yw(C),A=C.length*8-e.nBitLength;return A>0?x>>BigInt(A):x},T=e.bits2int_modN||function(C){return o(_(C))},I=HG(e.nBitLength);function R(C){return M0("num < 2^"+e.nBitLength,C,B0,I),z5(C,e.nByteLength)}function S(C,x,A=B){if(["recovered","canonical"].some(Y=>Y in A))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:L}=A;P==null&&(P=!0),C=cu("msgHash",C),G9e(A),D&&(C=cu("prehashed msgHash",N(C)));const $=T(C),q=l(x),V=[R(q),R($)];if(L!=null&&L!==!1){const Y=L===!0?O(n.BYTES):L;V.push(cu("extraEntropy",Y))}const F=zC(...V),Z=$;function X(Y){const te=_(Y);if(!d(te))return;const fe=a(te),he=c.BASE.multiply(te).toAffine(),pe=o(he.x);if(pe===B0)return;const be=o(fe*o(Z+pe*q));if(be===B0)return;let ge=(he.x===pe?0:2)|Number(he.y&co),ye=be;return P&&f(be)&&(ye=p(be),ge^=1),new w(pe,ye,ge)}return{seed:F,k2sig:X}}const B={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function U(C,x,A=B){const{seed:N,k2sig:O}=S(C,x,A),P=e;return M9e(P.hash.outputLen,P.nByteLength,P.hmac)(N,O)}c.BASE._setWindowSize(8);function M(C,x,A,N=j){var be;const O=C;x=cu("msgHash",x),A=cu("publicKey",A);const{lowS:P,prehash:D,format:L}=N;if(G9e(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(L!==void 0&&L!=="compact"&&L!=="der")throw new Error("format must be compact or der");const $=typeof O=="string"||Zw(O),q=!$&&!L&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!$&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,F;try{if(q&&(V=new w(O.r,O.s)),$){try{L!=="compact"&&(V=w.fromDER(O))}catch(ge){if(!(ge instanceof j0.Err))throw ge}!V&&L!=="der"&&(V=w.fromCompact(O))}F=c.fromHex(A)}catch{return!1}if(!V||P&&V.hasHighS())return!1;D&&(x=e.hash(x));const{r:Z,s:X}=V,Y=T(x),te=a(X),fe=o(Y*te),he=o(Z*te),pe=(be=c.BASE.multiplyAndAddUnsafe(F,fe,he))==null?void 0:be.toAffine();return pe?o(pe.x)===Z:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:U,verify:M,ProjectivePoint:c,Signature:w,utils:y}}function WFt(t){return{hash:t,hmac:(e,...n)=>P9e(t,e,XLt(...n)),randomBytes:o9e}}function qFt(t,e){const n=r=>zFt({...t,...WFt(r)});return{...n(e),create:n}}const Y9e=U9e(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),HFt=Y9e.create(BigInt("-3")),VFt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");qFt({a:HFt,b:VFt,Fp:Y9e,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},zG);const nZ="base16",tN="base64pad",WC="base64url",KFt="utf8",rZ=1,GFt=2;function iZ(t){const e=zG(al(t,nZ));return Ia(e,nZ)}function H5(t){const e=zG(al(t,KFt));return Ia(e,nZ)}function nN(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var ZFt=Object.defineProperty,YFt=Object.defineProperties,JFt=Object.getOwnPropertyDescriptors,J9e=Object.getOwnPropertySymbols,QFt=Object.prototype.hasOwnProperty,XFt=Object.prototype.propertyIsEnumerable,Q9e=(t,e,n)=>e in t?ZFt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ezt=(t,e)=>{for(var n in e||(e={}))QFt.call(e,n)&&Q9e(t,n,e[n]);if(J9e)for(var n of J9e(e))XFt.call(e,n)&&Q9e(t,n,e[n]);return t},tzt=(t,e)=>YFt(t,JFt(e));function V5(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function nzt(t){const e=[];return Object.values(t).forEach(n=>{e.push(...V5(n.accounts))}),e}function rzt(t,e){const n=[];return Object.values(t).forEach(r=>{V5(r.accounts).includes(e)&&n.push(...r.methods)}),n}function izt(t,e){const n=[];return Object.values(t).forEach(r=>{V5(r.accounts).includes(e)&&n.push(...r.events)}),n}function rN(t){return t.includes(":")}function K5(t){return rN(t)?t.split(":")[0]:t}function X9e(t){var e,n,r;const i={};if(!n1(t))return i;for(const[s,o]of Object.entries(t)){const a=rN(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=K5(s);i[u]=tzt(ezt({},i[u]),{chains:Gf(a,(e=i[u])==null?void 0:e.chains),methods:Gf(c,(n=i[u])==null?void 0:n.methods),events:Gf(l,(r=i[u])==null?void 0:r.events)})}return i}function szt(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function eCe(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=szt(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Gf(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function ozt(t,e){var n,r,i,s,o,a;const c=X9e(t),l=X9e(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Gf((n=c[h])==null?void 0:n.chains,(r=l[h])==null?void 0:r.chains),methods:Gf((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:Gf((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const azt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},czt={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Yt(t,e){const{message:n,code:r}=czt[t];return{message:e?`${n} ${e}`:n,code:r}}function Ti(t,e){const{message:n,code:r}=azt[t];return{message:e?`${n} ${e}`:n,code:r}}function t1(t,e){return!!Array.isArray(t)}function n1(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function hl(t){return typeof t>"u"}function lo(t,e){return e&&hl(t)?!0:typeof t=="string"&&!!t.trim().length}function sZ(t,e){return e&&hl(t)?!0:typeof t=="number"&&!isNaN(t)}function lzt(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Kw(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=V5(a),d=n[o];(!Kw(KEe(o,d),u)||!Kw(d.methods,c)||!Kw(d.events,l))&&(s=!1)}),s):!1}function iN(t){return lo(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function uzt(t){if(lo(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&iN(n)}}return!1}function dzt(t,e){let n=null;return lo(t==null?void 0:t.publicKey,!1)||(n=Yt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function tCe(t){let e=!0;return t1(t)?t.length&&(e=t.every(n=>lo(n,!1))):e=!1,e}function hzt(t,e,n){let r=null;return t1(e)&&e.length?e.forEach(i=>{r||iN(i)||(r=Ti("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):iN(t)||(r=Ti("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function fzt(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=hzt(i,KEe(i,s),`${e} ${n}`);o&&(r=o)}),r}function pzt(t,e){let n=null;return t1(t)?t.forEach(r=>{n||uzt(r)||(n=Ti("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ti("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function gzt(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=pzt(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function mzt(t,e){let n=null;return tCe(t==null?void 0:t.methods)?tCe(t==null?void 0:t.events)||(n=Ti("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Ti("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function nCe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=mzt(r,`${e}, namespace`);i&&(n=i)}),n}function yzt(t,e,n){let r=null;if(t&&n1(t)){const i=nCe(t,e);i&&(r=i);const s=fzt(t,e,n);s&&(r=s)}else r=Yt("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function oZ(t,e){let n=null;if(t&&n1(t)){const r=nCe(t,e);r&&(n=r);const i=gzt(t,e);i&&(n=i)}else n=Yt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function rCe(t){return lo(t.protocol,!0)}function wzt(t,e){let n=!1;return t?t&&t1(t)&&t.length&&t.forEach(r=>{n=rCe(r)}):n=!0,n}function vzt(t){return typeof t=="number"}function Sh(t){return typeof t<"u"&&typeof t!==null}function bzt(t){return!(!t||typeof t!="object"||!t.code||!sZ(t.code,!1)||!t.message||!lo(t.message,!1))}function xzt(t){return!(hl(t)||!lo(t.method,!1))}function Ezt(t){return!(hl(t)||hl(t.result)&&hl(t.error)||!sZ(t.id,!1)||!lo(t.jsonrpc,!1))}function Czt(t){return!(hl(t)||!lo(t.name,!1))}function iCe(t,e){return!(!iN(e)||!nzt(t).includes(e))}function _zt(t,e,n){return lo(n,!1)?rzt(t,e).includes(n):!1}function Azt(t,e,n){return lo(n,!1)?izt(t,e).includes(n):!1}function sCe(t,e,n){let r=null;const i=Szt(t),s=Izt(e),o=Object.keys(i),a=Object.keys(s),c=oCe(Object.keys(t)),l=oCe(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Yt("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Kw(o,a)||(r=Yt("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=V5(e[d].accounts);h.includes(d)||(r=Yt("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(Kw(i[d].methods,s[d].methods)?Kw(i[d].events,s[d].events)||(r=Yt("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Yt("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Szt(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function oCe(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Izt(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=V5(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function kzt(t,e){return sZ(t,!1)&&t<=e.max&&t>=e.min}const aZ={};class qC{static get(e){return aZ[e]}static set(e,n){aZ[e]=n}static delete(e){delete aZ[e]}}const aCe="wc",cCe=2,lCe="client",cZ=`${aCe}@${cCe}:${lCe}:`,lZ={name:lCe,logger:"error"},uCe="WALLETCONNECT_DEEPLINK_CHOICE",$zt="proposal",dCe="Proposal expired",Tzt="session",G5=me.SEVEN_DAYS,Pzt="engine",uo={wc_sessionPropose:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:me.ONE_DAY,prompt:!1,tag:1114},res:{ttl:me.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:me.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:me.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:me.FIVE_MINUTES,prompt:!1,tag:1119}}},uZ={min:me.FIVE_MINUTES,max:me.SEVEN_DAYS},Yf={idle:"IDLE",active:"ACTIVE"},hCe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Nzt="request",Ozt=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Rzt="wc",Mzt="auth",jzt="authKeys",Bzt="pairingTopics",Dzt="requests",sN=`${Rzt}@${1.5}:${Mzt}:`,oN=`${sN}:PUB_KEY`;var Lzt=Object.defineProperty,Uzt=Object.defineProperties,Fzt=Object.getOwnPropertyDescriptors,fCe=Object.getOwnPropertySymbols,zzt=Object.prototype.hasOwnProperty,Wzt=Object.prototype.propertyIsEnumerable,dZ=(t,e,n)=>e in t?Lzt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vr=(t,e)=>{for(var n in e||(e={}))zzt.call(e,n)&&dZ(t,n,e[n]);if(fCe)for(var n of fCe(e))Wzt.call(e,n)&&dZ(t,n,e[n]);return t},cc=(t,e)=>Uzt(t,Fzt(e)),ze=(t,e,n)=>dZ(t,typeof e!="symbol"?e+"":e,n);class qzt extends nLt{constructor(e){super(e),ze(this,"name",Pzt),ze(this,"events",new g2),ze(this,"initialized",!1),ze(this,"requestQueue",{state:Yf.idle,queue:[]}),ze(this,"sessionRequestQueue",{state:Yf.idle,queue:[]}),ze(this,"requestQueueDelay",me.ONE_SECOND),ze(this,"expectedPairingMethodMap",new Map),ze(this,"recentlyDeletedMap",new Map),ze(this,"recentlyDeletedLimit",200),ze(this,"relayMessageCache",[]),ze(this,"pendingSessions",new Map),ze(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(uo)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},me.toMiliseconds(this.requestQueueDelay)))}),ze(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=cc(Vr({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=ozt(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const T=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),T}if(!u||!h){const{topic:T,uri:I}=await this.client.core.pairing.create();u=T,d=I}if(!u){const{message:T}=Yt("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(T)}const f=await this.client.core.crypto.generateKeyPair(),p=uo.wc_sessionPropose.req.ttl||me.FIVE_MINUTES,m=ul(p),w=cc(Vr(Vr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Xxe}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Js()}),y=Hr("session_connect",w.id),{reject:b,resolve:v,done:E}=O5(p,dCe),_=({id:T})=>{T===w.id&&(this.client.events.off("proposal_expire",_),this.pendingSessions.delete(w.id),this.events.emit(y,{error:{message:dCe,code:0}}))};return this.client.events.on("proposal_expire",_),this.events.once(y,({error:T,session:I})=>{this.client.events.off("proposal_expire",_),T?b(T):I&&v(I)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:E}}),ze(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ze(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ch.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(S){throw o.setError(Ww.no_internet_connection),S}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(S){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Ww.proposal_not_found),S}try{await this.isValidApprove(n)}catch(S){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Ww.session_approve_namespace_validation_failure),S}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:w,optionalNamespaces:y}=f;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ch.session_approve_started,properties:{topic:p,trace:[Ch.session_approve_started,Ch.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,_=await this.client.core.crypto.generateSharedKey(v,E),T=Vr(Vr(Vr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:ul(G5)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),I=pi.relay;b.addTrace(Ch.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:I})}catch(S){throw b.setError(Ww.subscribe_session_topic_failure),S}b.addTrace(Ch.subscribe_session_topic_success);const R=cc(Vr({},T),{topic:_,requiredNamespaces:w,optionalNamespaces:y,pairingTopic:p,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:v,transportType:pi.relay});await this.client.session.set(_,R),b.addTrace(Ch.store_session);try{b.addTrace(Ch.publishing_session_settle),await this.sendRequest({topic:_,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(S=>{throw b==null||b.setError(Ww.session_settle_publish_failure),S}),b.addTrace(Ch.session_settle_publish_success),b.addTrace(Ch.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(S=>{throw b==null||b.setError(Ww.session_approve_publish_failure),S}),b.addTrace(Ch.session_approve_publish_success)}catch(S){throw this.client.logger.error(S),this.client.session.delete(_,Ti("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),S}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.client.proposal.delete(a,Ti("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(_,ul(G5)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),ze(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:uo.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Ti("USER_DISCONNECTED")))}),ze(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=O5(),c=Js(),l=zc().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Hr("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),ze(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Js(),{done:s,resolve:o,reject:a}=O5();return this.events.once(Hr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,ul(G5)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ze(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:o=uo.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===pi.relay&&await this.confirmOnlineStateOrThrow();const c=Js(),l=zc().toString(),{done:u,resolve:d,reject:h}=O5(o,"Request expired. Please try again.");this.events.once(Hr("session_request",c),({error:y,result:b})=>{y?h(y):d(b)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:cc(Vr({},i),{expiryTimestamp:ul(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const m={request:cc(Vr({},i),{expiryTimestamp:ul(o)}),chainId:r},w=this.shouldSetTVF(f,m);return await Promise.all([new Promise(async y=>{await this.sendRequest(Vr({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:o,throwOnFailedPublish:!0},w&&{tvf:this.getTVFParams(c,m)})).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),y()}),new Promise(async y=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const v=await BLt(this.client.core.storage,uCe);await RLt({id:c,topic:s,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),ze(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===pi.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);js(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Di(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),ze(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Js(),s=zc().toString(),{done:o,resolve:a,reject:c}=O5();this.events.once(Hr("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ze(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=zc().toString(),a=Js();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ze(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ti("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Yt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ze(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>lzt(r,n)))),ze(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ze(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?pi.link_mode:pi.relay;o===pi.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:w}=n,y=[...n.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const E=await this.client.core.crypto.generateKeyPair(),_=iZ(E);if(await Promise.all([this.client.auth.authKeys.set(oN,{responseTopic:_,publicKey:E}),this.client.auth.pairingTopics.set(_,{topic:_,pairingTopic:b})]),await this.client.core.relayer.subscribe(_,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),m.length>0){const{namespace:P}=P5(a[0]);let D=$Ut(P,"request",m);GP(y)&&(D=PUt(D,y.pop())),y.push(D)}const T=w&&w>uo.wc_sessionAuthenticate.req.ttl?w:uo.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:y},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:ul(T)},R={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},S={requiredNamespaces:{},optionalNamespaces:R,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:ul(uo.wc_sessionPropose.req.ttl),id:Js()},{done:B,resolve:j,reject:U}=O5(T,"Request expired"),M=Js(),C=Hr("session_connect",S.id),x=Hr("session_request",M),A=async({error:P,session:D})=>{this.events.off(x,N),P?U(P):D&&j({session:D})},N=async P=>{var D,L,$;if(await this.deletePendingAuthRequest(M,{message:"fulfilled",code:0}),P.error){const te=Ti("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===te.code?void 0:(this.events.off(C,A),U(P.error.message))}await this.deleteProposal(S.id),this.events.off(C,A);const{cacaos:q,responder:V}=P.result,F=[],Z=[];for(const te of q){await g9e({cacao:te,projectId:this.client.core.projectId})||(this.client.logger.error(te,"Signature verification failed"),U(Ti("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:fe}=te,he=GP(fe.resources),pe=[BG(fe.iss)],be=KP(fe.iss);if(he){const ge=w9e(he),ye=v9e(he);F.push(...ge),pe.push(...ye)}for(const ge of pe)Z.push(`${ge}:${be}`)}const X=await this.client.core.crypto.generateSharedKey(E,V.publicKey);let Y;F.length>0&&(Y={topic:X,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:ul(G5),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:eCe([...new Set(F)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(X,{transportType:o}),await this.client.session.set(X,Y),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:V.metadata}),Y=this.client.session.get(X)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(L=V.metadata.redirect)!=null&&L.linkMode&&($=V.metadata.redirect)!=null&&$.universal&&r&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(X,{transportType:pi.link_mode})),j({auths:q,session:Y})};this.events.once(C,A),this.events.once(x,N);let O;try{if(s){const P=Io("wc_sessionAuthenticate",I,M);this.client.core.history.set(b,P);const D=await this.client.core.crypto.encode("",P,{type:GFt,encoding:WC});O=nN(r,b,D)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:I,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:M}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:S,expiry:uo.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:S.id})])}catch(P){throw this.events.off(C,A),this.events.off(x,N),P}return await this.setProposal(S.id,S),await this.setAuthRequest(M,{request:cc(Vr({},I),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:O??v,response:B}}),ze(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[qw.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError($C.no_internet_connection),w}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError($C.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||pi.relay;a===pi.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=iZ(c),d={type:rZ,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of i){if(!await g9e({cacao:w,projectId:this.client.core.projectId})){s.setError($C.invalid_cacao);const _=Ti("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:_,encodeOpts:d}),new Error(_.message)}s.addTrace(qw.cacaos_verified);const{p:y}=w,b=GP(y.resources),v=[BG(y.iss)],E=KP(y.iss);if(b){const _=w9e(b),T=v9e(b);h.push(..._),v.push(...T)}for(const _ of v)f.push(`${_}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(qw.create_authenticated_session_topic);let m;if((h==null?void 0:h.length)>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:ul(G5),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:eCe([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(qw.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError($C.subscribe_authenticated_session_topic_failure),w}s.addTrace(qw.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),s.addTrace(qw.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(qw.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError($C.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),ze(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===pi.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=iZ(o),l={type:rZ,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:uo.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,Ti("USER_DISCONNECTED"))}),ze(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return m9e(r,i)}),ze(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ze(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ze(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ti("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(uCe).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Ti("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Yf.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ze(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Ww.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ti("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ze(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Yf.idle,this.client.events.emit("session_request_expire",{id:n}))}),ze(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ze(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ze(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ul(uo.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ze(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=pi.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ze(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||ul(uo.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),ze(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Io(i,s,c);let f;const p=!!u;try{const y=p?WC:tN;f=await this.client.core.crypto.encode(r,h,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let m;if(Ozt.includes(i)){const y=H5(JSON.stringify(h)),b=H5(f);m=await this.client.core.verify.register({id:b,decryptedId:y})}const w=uo[i].req;if(w.attestation=m,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(r,h),p){const y=nN(u,r,f);await global.Linking.openURL(y,this.client.name)}else{const y=uo[i].req;o&&(y.ttl=o),a&&(y.id=a),y.tvf=cc(Vr({},d),{correlationId:h.id}),l?(y.internal=cc(Vr({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,y)):this.client.core.relayer.publish(r,f,y).catch(b=>this.client.logger.error(b))}return h.id}),ze(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=o0(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?WC:tN;u=await this.client.core.crypto.encode(i,l,cc(Vr({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let h,f;try{h=await this.client.core.history.get(i,r);const p=h.request;try{this.shouldSetTVF(p.method,p.params)&&(f=this.getTVFParams(r,p.params,s))}catch(m){this.client.logger.warn("sendResult() -> getTVFParams() failed",m)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),p}if(d){const p=nN(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=uo[p].res;m.tvf=cc(Vr({},f),{correlationId:r}),o?(m.internal=cc(Vr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),ze(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=B2(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?WC:tN;u=await this.client.core.crypto.encode(i,l,cc(Vr({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=nN(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||uo[f].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),ze(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;R5(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{R5(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ze(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ze(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ze(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Yf.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Yf.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Yf.idle}),ze(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ze(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ze(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Yt("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ze(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ze(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(N0.proposal_listener_not_found)),this.isValidConnect(Vr({},i.params));const u=a.expiryTimestamp||ul(uo.wc_sessionPropose.req.ttl),d=Vr({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:H5(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Vf.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:uo.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ze(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(js(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(Di(r)){await this.client.proposal.delete(s,Ti("USER_DISCONNECTED"));const o=Hr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ze(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const p=this.client.proposal.get(f.proposalId),m=cc(Vr(Vr(Vr({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:pi.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Hr("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ze(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;js(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Hr("session_approve",i),{})):Di(r)&&(await this.client.session.delete(n,Ti("USER_DISCONNECTED")),this.events.emit(Hr("session_approve",i),{error:r.error}))}),ze(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=qC.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Ti("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Vr({topic:n},i));try{qC.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw qC.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ze(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ze(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Hr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(Hr("session_update",i),{}):Di(r)&&this.events.emit(Hr("session_update",i),{error:r.error})}),ze(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ul(G5)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ze(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Hr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(Hr("session_extend",i),{}):Di(r)&&this.events.emit(Hr("session_extend",i),{error:r.error})}),ze(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ze(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Hr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);js(r)?this.events.emit(Hr("session_ping",i),{}):Di(r)&&this.events.emit(Hr("session_ping",i),{error:r.error})},500)}),ze(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(so.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ti("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ze(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Vr({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:H5(JSON.stringify(Io("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===pi.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ze(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Hr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);js(r)?this.events.emit(Hr("session_request",i),{result:r.result}):Di(r)&&this.events.emit(Hr("session_request",i),{error:r.error})}),ze(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=qC.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Vr({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),qC.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ze(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),js(r)?this.events.emit(Hr("session_request",i),{result:r.result}):Di(r)&&this.events.emit(Hr("session_request",i),{error:r.error})}),ze(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:H5(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===pi.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:rZ,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:uo.wc_sessionAuthenticate.autoReject,appLink:h})}}),ze(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ze(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Yf.idle,this.processSessionRequestQueue()},me.toMiliseconds(this.requestQueueDelay))}),ze(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Hr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Hr("session_request",s.request.id),{error:r})})}),ze(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Yf.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Yf.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ze(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ze(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Io("wc_sessionPropose",cc(Vr({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),ze(this,"isValidConnect",async n=>{if(!Sh(n)){const{message:l}=Yt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(hl(r)||await this.isValidPairingTopic(r),!wzt(c)){const{message:l}=Yt("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!hl(i)&&n1(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!hl(s)&&n1(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),hl(o)||this.validateSessionProps(o,"sessionProperties"),!hl(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ze(this,"validateNamespaces",(n,r)=>{const i=yzt(n,"connect()",r);if(i)throw new Error(i.message)}),ze(this,"isValidApprove",async n=>{if(!Sh(n))throw new Error(Yt("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=oZ(i,"approve()");if(l)throw new Error(l.message);const u=sCe(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!lo(s,!0)){const{message:d}=Yt("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(hl(o)||this.validateSessionProps(o,"sessionProperties"),!hl(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ze(this,"isValidReject",async n=>{if(!Sh(n)){const{message:s}=Yt("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!bzt(i)){const{message:s}=Yt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ze(this,"isValidSessionSettleRequest",n=>{if(!Sh(n)){const{message:l}=Yt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!rCe(r)){const{message:l}=Yt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=dzt(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=oZ(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(R5(o)){const{message:l}=Yt("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ze(this,"isValidUpdate",async n=>{if(!Sh(n)){const{message:c}=Yt("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=oZ(i,"update()");if(o)throw new Error(o.message);const a=sCe(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ze(this,"isValidExtend",async n=>{if(!Sh(n)){const{message:i}=Yt("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ze(this,"isValidRequest",async n=>{if(!Sh(n)){const{message:c}=Yt("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!iCe(a,s)){const{message:c}=Yt("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!xzt(i)){const{message:c}=Yt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!_zt(a,s,i.method)){const{message:c}=Yt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!kzt(o,uZ)){const{message:c}=Yt("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${uZ.min} and ${uZ.max}`);throw new Error(c)}}),ze(this,"isValidRespond",async n=>{var r;if(!Sh(n)){const{message:o}=Yt("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Ezt(s)){const{message:o}=Yt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ze(this,"isValidPing",async n=>{if(!Sh(n)){const{message:i}=Yt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ze(this,"isValidEmit",async n=>{if(!Sh(n)){const{message:a}=Yt("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!iCe(o,s)){const{message:a}=Yt("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Czt(i)){const{message:a}=Yt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Azt(o,s,i.name)){const{message:a}=Yt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ze(this,"isValidDisconnect",async n=>{if(!Sh(n)){const{message:i}=Yt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ze(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!lo(i,!1))throw new Error("uri is required parameter");if(!lo(s,!1))throw new Error("domain is required parameter");if(!lo(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>P5(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=P5(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ze(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||kC,validation:"UNKNOWN",origin:o.url||""}};try{if(a===pi.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ze(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Yt("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),ze(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ze(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ze(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Yt("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ze(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==pi.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ze(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),ze(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=e9e(n,"topic")||"",i=decodeURIComponent(e9e(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:pi.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ze(this,"registerLinkModeListeners",async()=>{var n;if(DLt()||QEe()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ze(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(hCe).includes(i.method)}),ze(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return cc(Vr({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ze(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ze(this,"extractTxHashesFromResult",(n,r)=>{try{const i=hCe[n];if(typeof r=="string")return[r];const s=r[i.key];if(t1(s))return n==="solana_signAllTransactions"?s.map(o=>gUt(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Yt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(so.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(oN)?this.client.auth.authKeys.get(oN):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===pi.link_mode?WC:tN});D2(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:H5(r)})):qy(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(dd.expired,async e=>{const{topic:n,id:r}=OLt(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Yt("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Yt("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(zw.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(zw.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!lo(e,!1)){const{message:n}=Yt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Yt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(R5(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Yt("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!lo(e,!1)){const{message:n}=Yt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Yt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(R5(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Yt("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Yt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(lo(e,!1)){const{message:n}=Yt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Yt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!vzt(e)){const{message:n}=Yt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Yt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(R5(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Yt("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Hzt extends Hw{constructor(e,n){super(e,n,$zt,cZ),this.core=e,this.logger=n}}let Vzt=class extends Hw{constructor(e,n){super(e,n,Tzt,cZ),this.core=e,this.logger=n}};class Kzt extends Hw{constructor(e,n){super(e,n,Nzt,cZ,r=>r.id),this.core=e,this.logger=n}}class Gzt extends Hw{constructor(e,n){super(e,n,jzt,sN,()=>oN),this.core=e,this.logger=n}}class Zzt extends Hw{constructor(e,n){super(e,n,Bzt,sN),this.core=e,this.logger=n}}class Yzt extends Hw{constructor(e,n){super(e,n,Dzt,sN,r=>r.id),this.core=e,this.logger=n}}var Jzt=Object.defineProperty,Qzt=(t,e,n)=>e in t?Jzt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hZ=(t,e,n)=>Qzt(t,typeof e!="symbol"?e+"":e,n);class Xzt{constructor(e,n){this.core=e,this.logger=n,hZ(this,"authKeys"),hZ(this,"pairingTopics"),hZ(this,"requests"),this.authKeys=new Gzt(this.core,this.logger),this.pairingTopics=new Zzt(this.core,this.logger),this.requests=new Yzt(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var eWt=Object.defineProperty,tWt=(t,e,n)=>e in t?eWt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fn=(t,e,n)=>tWt(t,typeof e!="symbol"?e+"":e,n);let nWt=class qAe extends tLt{constructor(e){super(e),Fn(this,"protocol",aCe),Fn(this,"version",cCe),Fn(this,"name",lZ.name),Fn(this,"metadata"),Fn(this,"core"),Fn(this,"logger"),Fn(this,"events",new ms.EventEmitter),Fn(this,"engine"),Fn(this,"session"),Fn(this,"proposal"),Fn(this,"pendingRequest"),Fn(this,"auth"),Fn(this,"signConfig"),Fn(this,"on",(r,i)=>this.events.on(r,i)),Fn(this,"once",(r,i)=>this.events.once(r,i)),Fn(this,"off",(r,i)=>this.events.off(r,i)),Fn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Fn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Fn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Fn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Fn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Fn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||lZ.name,this.metadata=PLt(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:K2(G2({level:(e==null?void 0:e.logger)||lZ.logger}));this.core=(e==null?void 0:e.core)||new QDt(e),this.logger=Xa(n,this.name),this.session=new Vzt(this.core,this.logger),this.proposal=new Hzt(this.core,this.logger),this.pendingRequest=new Kzt(this.core,this.logger),this.engine=new qzt(this),this.auth=new Xzt(this.core,this.logger)}static async init(e){const n=new qAe(e);return await n.initialize(),n}get context(){return qc(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},me.toMiliseconds(me.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const pCe="error",rWt="wss://relay.walletconnect.org",iWt="wc",sWt="universal_provider",aN=`${iWt}@2:${sWt}:`,gCe="https://rpc.walletconnect.org/v1/",Z5="generic",oWt=`${gCe}bundler`,hd={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function aWt(){}function fZ(t){return t==null||typeof t!="object"&&typeof t!="function"}function pZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cWt(t){if(fZ(t))return t;if(Array.isArray(t)||pZ(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function mCe(t){return typeof t=="object"&&t!==null}function yCe(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wCe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const lWt="[object RegExp]",vCe="[object String]",bCe="[object Number]",xCe="[object Boolean]",ECe="[object Arguments]",uWt="[object Symbol]",dWt="[object Date]",hWt="[object Map]",fWt="[object Set]",pWt="[object Array]",gWt="[object ArrayBuffer]",mWt="[object Object]",yWt="[object DataView]",wWt="[object Uint8Array]",vWt="[object Uint8ClampedArray]",bWt="[object Uint16Array]",xWt="[object Uint32Array]",EWt="[object Int8Array]",CWt="[object Int16Array]",_Wt="[object Int32Array]",AWt="[object Float32Array]",SWt="[object Float64Array]";function IWt(t,e){return Y5(t,void 0,t,new Map,e)}function Y5(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(fZ(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Y5(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Y5(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Y5(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(pZ(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Y5(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Qw(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Qw(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Qw(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Qw(o,t,n,r,i),o}if(typeof t=="object"&&kWt(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Qw(o,t,n,r,i),o}return t}function Qw(t,e,n=t,r,i){const s=[...Object.keys(e),...yCe(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Y5(e[a],a,n,r,i))}}function kWt(t){switch(wCe(t)){case ECe:case pWt:case gWt:case yWt:case xCe:case dWt:case AWt:case SWt:case EWt:case CWt:case _Wt:case hWt:case bCe:case mWt:case lWt:case fWt:case vCe:case uWt:case wWt:case vWt:case bWt:case xWt:return!0;default:return!1}}function $Wt(t,e){return IWt(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case bCe:case vCe:case xCe:{const o=new t.constructor(t==null?void 0:t.valueOf());return Qw(o,t),o}case ECe:{const o={};return Qw(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function CCe(t){return $Wt(t)}function _Ce(t){return t!==null&&typeof t=="object"&&wCe(t)==="[object Arguments]"}function TWt(t){return pZ(t)}function PWt(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function NWt(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=gZ(i,o,r,new Map)}return i}function gZ(t,e,n,r){if(fZ(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return cWt(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...yCe(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(_Ce(a)&&(a={...a}),_Ce(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=CCe(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||mCe(c)&&mCe(a)?t[o]=gZ(c,a,n,r):c==null&&PWt(a)?t[o]=gZ({},a,n,r):c==null&&TWt(a)?t[o]=CCe(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function OWt(t,...e){return NWt(t,...e,aWt)}var RWt=Object.defineProperty,MWt=Object.defineProperties,jWt=Object.getOwnPropertyDescriptors,ACe=Object.getOwnPropertySymbols,BWt=Object.prototype.hasOwnProperty,DWt=Object.prototype.propertyIsEnumerable,SCe=(t,e,n)=>e in t?RWt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cN=(t,e)=>{for(var n in e||(e={}))BWt.call(e,n)&&SCe(t,n,e[n]);if(ACe)for(var n of ACe(e))DWt.call(e,n)&&SCe(t,n,e[n]);return t},LWt=(t,e)=>MWt(t,jWt(e));function lu(t,e,n){var r;const i=P5(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${gCe}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Xw(t){return t.includes(":")?t.split(":")[1]:t}function ICe(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function UWt(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function lN(t={},e={}){const n=kCe(t),r=kCe(e);return OWt(n,r)}function kCe(t){var e,n,r,i,s;const o={};if(!n1(t))return o;for(const[a,c]of Object.entries(t)){const l=rN(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=K5(a);o[f]=LWt(cN(cN({},o[f]),c),{chains:Gf(l,(e=o[f])==null?void 0:e.chains),methods:Gf(u,(n=o[f])==null?void 0:n.methods),events:Gf(d,(r=o[f])==null?void 0:r.events)}),(n1(h)||n1(((i=o[f])==null?void 0:i.rpcMap)||{}))&&(o[f].rpcMap=cN(cN({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function $Ce(t){return t.includes(":")?t.split(":")[2]:t}function TCe(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=rN(n)?[n]:r.chains?r.chains:ICe(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function mZ(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const PCe={},lr=t=>PCe[t],yZ=(t,e)=>{PCe[t]=e};var FWt=Object.defineProperty,zWt=(t,e,n)=>e in t?FWt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J5=(t,e,n)=>zWt(t,typeof e!="symbol"?e+"":e,n);class WWt{constructor(e){J5(this,"name","polkadot"),J5(this,"client"),J5(this,"httpProviders"),J5(this,"events"),J5(this,"namespace"),J5(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Xw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var qWt=Object.defineProperty,HWt=Object.defineProperties,VWt=Object.getOwnPropertyDescriptors,NCe=Object.getOwnPropertySymbols,KWt=Object.prototype.hasOwnProperty,GWt=Object.prototype.propertyIsEnumerable,wZ=(t,e,n)=>e in t?qWt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OCe=(t,e)=>{for(var n in e||(e={}))KWt.call(e,n)&&wZ(t,n,e[n]);if(NCe)for(var n of NCe(e))GWt.call(e,n)&&wZ(t,n,e[n]);return t},RCe=(t,e)=>HWt(t,VWt(e)),Q5=(t,e,n)=>wZ(t,typeof e!="symbol"?e+"":e,n);class ZWt{constructor(e){Q5(this,"name","eip155"),Q5(this,"client"),Q5(this,"chainId"),Q5(this,"namespace"),Q5(this,"httpProviders"),Q5(this,"events"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||lu(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Xw(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d==null?void 0:d[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:RCe(OCe({},u.sessionProperties||{}),{capabilities:RCe(OCe({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Io("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${oWt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var YWt=Object.defineProperty,JWt=(t,e,n)=>e in t?YWt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X5=(t,e,n)=>JWt(t,typeof e!="symbol"?e+"":e,n);class QWt{constructor(e){X5(this,"name","solana"),X5(this,"client"),X5(this,"httpProviders"),X5(this,"events"),X5(this,"namespace"),X5(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Xw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var XWt=Object.defineProperty,eqt=(t,e,n)=>e in t?XWt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e6=(t,e,n)=>eqt(t,typeof e!="symbol"?e+"":e,n);class tqt{constructor(e){e6(this,"name","cosmos"),e6(this,"client"),e6(this,"httpProviders"),e6(this,"events"),e6(this,"namespace"),e6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Xw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var nqt=Object.defineProperty,rqt=(t,e,n)=>e in t?nqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t6=(t,e,n)=>rqt(t,typeof e!="symbol"?e+"":e,n);class iqt{constructor(e){t6(this,"name","algorand"),t6(this,"client"),t6(this,"httpProviders"),t6(this,"events"),t6(this,"namespace"),t6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||lu(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new bi(new Li(r,lr("disableProviderPing")))}}var sqt=Object.defineProperty,oqt=(t,e,n)=>e in t?sqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n6=(t,e,n)=>oqt(t,typeof e!="symbol"?e+"":e,n);class aqt{constructor(e){n6(this,"name","cip34"),n6(this,"client"),n6(this,"httpProviders"),n6(this,"events"),n6(this,"namespace"),n6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Xw(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var cqt=Object.defineProperty,lqt=(t,e,n)=>e in t?cqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r6=(t,e,n)=>lqt(t,typeof e!="symbol"?e+"":e,n);class uqt{constructor(e){r6(this,"name","elrond"),r6(this,"client"),r6(this,"httpProviders"),r6(this,"events"),r6(this,"namespace"),r6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Xw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var dqt=Object.defineProperty,hqt=(t,e,n)=>e in t?dqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i6=(t,e,n)=>hqt(t,typeof e!="symbol"?e+"":e,n);class fqt{constructor(e){i6(this,"name","multiversx"),i6(this,"client"),i6(this,"httpProviders"),i6(this,"events"),i6(this,"namespace"),i6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Xw(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var pqt=Object.defineProperty,gqt=(t,e,n)=>e in t?pqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s6=(t,e,n)=>gqt(t,typeof e!="symbol"?e+"":e,n);class mqt{constructor(e){s6(this,"name","near"),s6(this,"client"),s6(this,"httpProviders"),s6(this,"events"),s6(this,"namespace"),s6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||lu(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace);return typeof r>"u"?void 0:new bi(new Li(r,lr("disableProviderPing")))}}var yqt=Object.defineProperty,wqt=(t,e,n)=>e in t?yqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o6=(t,e,n)=>wqt(t,typeof e!="symbol"?e+"":e,n);class vqt{constructor(e){o6(this,"name","tezos"),o6(this,"client"),o6(this,"httpProviders"),o6(this,"events"),o6(this,"namespace"),o6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||lu(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace);return typeof r>"u"?void 0:new bi(new Li(r))}}var bqt=Object.defineProperty,xqt=(t,e,n)=>e in t?bqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a6=(t,e,n)=>xqt(t,typeof e!="symbol"?e+"":e,n);class Eqt{constructor(e){a6(this,"name",Z5),a6(this,"client"),a6(this,"httpProviders"),a6(this,"events"),a6(this,"namespace"),a6(this,"chainId"),this.namespace=e.namespace,this.events=lr("events"),this.client=lr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(hd.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=P5(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||lu(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new bi(new Li(r,lr("disableProviderPing")))}}var Cqt=Object.defineProperty,_qt=Object.defineProperties,Aqt=Object.getOwnPropertyDescriptors,MCe=Object.getOwnPropertySymbols,Sqt=Object.prototype.hasOwnProperty,Iqt=Object.prototype.propertyIsEnumerable,vZ=(t,e,n)=>e in t?Cqt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uN=(t,e)=>{for(var n in e||(e={}))Sqt.call(e,n)&&vZ(t,n,e[n]);if(MCe)for(var n of MCe(e))Iqt.call(e,n)&&vZ(t,n,e[n]);return t},bZ=(t,e)=>_qt(t,Aqt(e)),fd=(t,e,n)=>vZ(t,typeof e!="symbol"?e+"":e,n);let kqt=class HAe{constructor(e){fd(this,"client"),fd(this,"namespaces"),fd(this,"optionalNamespaces"),fd(this,"sessionProperties"),fd(this,"scopedProperties"),fd(this,"events",new g2),fd(this,"rpcProviders",{}),fd(this,"session"),fd(this,"providerOpts"),fd(this,"logger"),fd(this,"uri"),fd(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:K2(G2({level:(e==null?void 0:e.logger)||pCe})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new HAe(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:uN({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,o0(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ti("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=TCe(this.session.namespaces);this.namespaces=lN(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=TCe(i.namespaces);return this.namespaces=lN(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===Z5?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(t1(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await nWt.init({core:this.providerOpts.core,logger:this.providerOpts.logger||pCe,relayUrl:this.providerOpts.relayUrl||rWt,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>K5(n)))];yZ("client",this.client),yZ("events",this.events),yZ("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=UWt(n,this.session),i=ICe(r),s=lN(this.namespaces,this.optionalNamespaces),o=bZ(uN({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new ZWt({namespace:o});break;case"algorand":this.rpcProviders[n]=new iqt({namespace:o});break;case"solana":this.rpcProviders[n]=new QWt({namespace:o});break;case"cosmos":this.rpcProviders[n]=new tqt({namespace:o});break;case"polkadot":this.rpcProviders[n]=new WWt({namespace:o});break;case"cip34":this.rpcProviders[n]=new aqt({namespace:o});break;case"elrond":this.rpcProviders[n]=new uqt({namespace:o});break;case"multiversx":this.rpcProviders[n]=new fqt({namespace:o});break;case"near":this.rpcProviders[n]=new mqt({namespace:o});break;case"tezos":this.rpcProviders[n]=new vqt({namespace:o});break;default:this.rpcProviders[Z5]?this.rpcProviders[Z5].updateNamespace(o):this.rpcProviders[Z5]=new Eqt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&t1(o)&&this.events.emit("accountsChanged",o.map($Ce))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=K5(o),l=mZ(o)!==mZ(a)?`${c}:${mZ(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=bZ(uN({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",bZ(uN({},Ti("USER_DISCONNECTED")),{data:e.topic})))}),this.on(hd.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Z5]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=lN(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>K5(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=K5(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map($Ce);if(!t1(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${aN}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${aN}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${aN}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(aN)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};function dN(t,e){return We.getConnectorId(t)===e}function $qt(t){const e=Array.from(ie.state.chains.keys());let n=[];return t?(n.push([t,ie.state.chains.get(t)]),dN(t,Ft.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&dN(r,Ft.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,ie.state.chains.get(r)])}):dN(t,Ft.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&dN(r,Ft.CONNECTOR_ID.AUTH)&&n.push([r,ie.state.chains.get(r)])})):n=Array.from(ie.state.chains.entries()),n}const r1={EIP155:"eip155",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},hN={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ft.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ft.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ft.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ft.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ft.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ft.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ft.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ft.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ft.CONNECTOR_ID.COINBASE]:"Coinbase",[Ft.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ft.CONNECTOR_ID.LEDGER]:"Ledger",[Ft.CONNECTOR_ID.SAFE]:"Safe"}},xZ={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${r1.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}};new AbortController;const c6={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Tqt()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function Tqt(){return typeof window<"u"}const Pqt={createLogger(t,e="error"){const n=G2({level:e}),{logger:r}=lwe({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},Nqt="rpc.walletconnect.org";function jCe(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const EZ=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],l6={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Nqt}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ft.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ft.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return EZ.includes(e)?jCe(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,p,m,w;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,s,n),c=((m=(p=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:p.http)==null?void 0:m[0])||o,l=((w=r==null?void 0:r[s])==null?void 0:w.map(y=>y.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:hN.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>l6.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(Ua(a.url,a.config))}),EZ.includes(t.caipNetworkId)&&r.push(Ua(jCe(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(Ua(a))}),moe(r)},extendWagmiTransports(t,e,n){if(EZ.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return moe([n,Ua(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ft.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Tt.getActiveCaipNetworkId(),n=ie.getAllRequestedCaipNetworks(),r=Array.from(((c=ie.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},fN={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},fl=ei({providers:{...fN},providerIds:{...fN}}),Pi={state:fl,subscribeKey(t,e){return Uo(fl,t,e)},subscribe(t){return Lo(fl,()=>{t(fl)})},subscribeProviders(t){return Lo(fl.providers,()=>t(fl.providers))},setProvider(t,e){e&&(fl.providers[t]=$w(e))},getProvider(t){return fl.providers[t]},setProviderId(t,e){e&&(fl.providerIds[t]=e)},getProviderId(t){if(t)return fl.providerIds[t]},reset(){fl.providers={...fN},fl.providerIds={...fN}},resetChain(t){fl.providers[t]=void 0,fl.providerIds[t]=void 0}},i1={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},ev={filterOutDuplicatesByRDNS(t){const e=Ne.state.enableEIP6963?We.state.connectors:[],n=Tt.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&Ze.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=We.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Tt.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=We.state,{featuredWalletIds:n}=Ne.state,r=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=Ne.state.features)==null?void 0:c.connectMethodsOrder),r=e||We.state.connectors;if(n)return n;const{injected:i,announced:s}=D0.getConnectorsByType(r,Xe.state.recommended,Xe.state.featured),o=i.filter(D0.showConnector),a=s.filter(D0.showConnector);return o.length||a.length?["wallet","email","social"]:i1.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Xe.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Xe.state.excludedWallets.some(r=>xZ.isLowerCaseMatch(r.name,t.name));return e||n}},D0={getConnectorsByType(t,e,n){const{customWallets:r}=Ne.state,i=Tt.getRecentWallets(),s=ev.filterOutDuplicateWallets(e),o=ev.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&Xe.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&Xe.state.excludedWallets.some(s=>xZ.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ze.isMobile()||Ze.isMobile()&&!e&&!at.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(ie.state.chains.values()).some(n=>We.getConnectorId(n.namespace)===Ft.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Ne.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=D0.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:Ne.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(y=>y.isEnabled),p=new Set(f.map(y=>y.type)),m=c.filter(y=>p.has(y)).map(y=>({type:y,isEnabled:!0})),w=f.filter(({type:y})=>!m.some(({type:v})=>v===y));return Array.from(new Set([...m,...w].map(({type:y})=>y)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pN=globalThis,CZ=pN.ShadowRoot&&(pN.ShadyCSS===void 0||pN.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,_Z=Symbol(),BCe=new WeakMap;let DCe=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==_Z)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(CZ&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=BCe.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&BCe.set(n,e))}return e}toString(){return this.cssText}};const pd=t=>new DCe(typeof t=="string"?t:t+"",void 0,_Z),Jt=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new DCe(n,t,_Z)},Oqt=(t,e)=>{if(CZ)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=pN.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},LCe=CZ?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return pd(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Rqt,defineProperty:Mqt,getOwnPropertyDescriptor:jqt,getOwnPropertyNames:Bqt,getOwnPropertySymbols:Dqt,getPrototypeOf:Lqt}=Object,s1=globalThis,UCe=s1.trustedTypes,Uqt=UCe?UCe.emptyScript:"",AZ=s1.reactiveElementPolyfillSupport,HC=(t,e)=>t,gN={toAttribute(t,e){switch(e){case Boolean:t=t?Uqt:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},SZ=(t,e)=>!Rqt(t,e),FCe={attribute:!0,type:String,converter:gN,reflect:!1,useDefault:!1,hasChanged:SZ};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),s1.litPropertyMetadata??(s1.litPropertyMetadata=new WeakMap);let u6=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=FCe){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Mqt(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=jqt(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??FCe}static _$Ei(){if(this.hasOwnProperty(HC("elementProperties")))return;const e=Lqt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(HC("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(HC("properties"))){const n=this.properties,r=[...Bqt(n),...Dqt(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(LCe(i))}else e!==void 0&&n.push(LCe(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Oqt(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:gN).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:gN;this._$Em=i;const l=c.fromAttribute(n,a.type);this[i]=l??((o=this._$Ej)==null?void 0:o.get(i))??l,this._$Em=null}}requestUpdate(e,n,r,i=!1,s){var o;if(e!==void 0){const a=this.constructor;if(i===!1&&(s=this[e]),r??(r=a.getPropertyOptions(e)),!((r.hasChanged??SZ)(s,n)||r.useDefault&&r.reflect&&s===((o=this._$Ej)==null?void 0:o.get(e))&&!this.hasAttribute(a._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};u6.elementStyles=[],u6.shadowRootOptions={mode:"open"},u6[HC("elementProperties")]=new Map,u6[HC("finalized")]=new Map,AZ==null||AZ({ReactiveElement:u6}),(s1.reactiveElementVersions??(s1.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const VC=globalThis,zCe=t=>t,mN=VC.trustedTypes,WCe=mN?mN.createPolicy("lit-html",{createHTML:t=>t}):void 0,qCe="$lit$",o1=`lit$${Math.random().toFixed(9).slice(2)}$`,HCe="?"+o1,Fqt=`<${HCe}>`,tv=document,KC=()=>tv.createComment(""),GC=t=>t===null||typeof t!="object"&&typeof t!="function",IZ=Array.isArray,zqt=t=>IZ(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",kZ=`[ 	
\f\r]`,ZC=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,VCe=/-->/g,KCe=/>/g,nv=RegExp(`>|${kZ}(?:([^\\s"'>=/]+)(${kZ}*=${kZ}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),GCe=/'/g,ZCe=/"/g,YCe=/^(?:script|style|textarea|title)$/i,JCe=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),ue=JCe(1),ot=JCe(2),L0=Symbol.for("lit-noChange"),ss=Symbol.for("lit-nothing"),QCe=new WeakMap,rv=tv.createTreeWalker(tv,129);function XCe(t,e){if(!IZ(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return WCe!==void 0?WCe.createHTML(e):e}const Wqt=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=ZC;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===ZC?u[1]==="!--"?o=VCe:u[1]!==void 0?o=KCe:u[2]!==void 0?(YCe.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=nv):u[3]!==void 0&&(o=nv):o===nv?u[0]===">"?(o=i??ZC,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?nv:u[3]==='"'?ZCe:GCe):o===ZCe||o===GCe?o=nv:o===VCe||o===KCe?o=ZC:(o=nv,i=void 0);const f=o===nv&&t[a+1].startsWith("/>")?" ":"";s+=o===ZC?c+Fqt:d>=0?(r.push(l),c.slice(0,d)+qCe+c.slice(d)+o1+f):c+o1+(d===-2?a:f)}return[XCe(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class YC{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Wqt(e,n);if(this.el=YC.createElement(l,r),rv.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=rv.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(qCe)){const h=u[o++],f=i.getAttribute(d).split(o1),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:p[2],strings:f,ctor:p[1]==="."?Hqt:p[1]==="?"?Vqt:p[1]==="@"?Kqt:yN}),i.removeAttribute(d)}else d.startsWith(o1)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(YCe.test(i.tagName)){const d=i.textContent.split(o1),h=d.length-1;if(h>0){i.textContent=mN?mN.emptyScript:"";for(let f=0;f<h;f++)i.append(d[f],KC()),rv.nextNode(),c.push({type:2,index:++s});i.append(d[h],KC())}}}else if(i.nodeType===8)if(i.data===HCe)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(o1,d+1))!==-1;)c.push({type:7,index:s}),d+=o1.length-1}s++}}static createElement(e,n){const r=tv.createElement("template");return r.innerHTML=e,r}}function d6(t,e,n=t,r){var o,a;if(e===L0)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=GC(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=d6(t,i._$AS(t,e.values),i,r)),e}class qqt{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??tv).importNode(n,!0);rv.currentNode=i;let s=rv.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new JC(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new Gqt(s,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=rv.nextNode(),o++)}return rv.currentNode=tv,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class JC{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=ss,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=d6(this,e,n),GC(e)?e===ss||e==null||e===""?(this._$AH!==ss&&this._$AR(),this._$AH=ss):e!==this._$AH&&e!==L0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):zqt(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ss&&GC(this._$AH)?this._$AA.nextSibling.data=e:this.T(tv.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=YC.createElement(XCe(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new qqt(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=QCe.get(e.strings);return n===void 0&&QCe.set(e.strings,n=new YC(e)),n}k(e){IZ(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new JC(this.O(KC()),this.O(KC()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e!==this._$AB;){const i=zCe(e).nextSibling;zCe(e).remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class yN{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=ss,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ss}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=d6(this,e,n,0),o=!GC(e)||e!==this._$AH&&e!==L0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=d6(this,a[r+c],n,c),l===L0&&(l=this._$AH[c]),o||(o=!GC(l)||l!==this._$AH[c]),l===ss?e=ss:e!==ss&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===ss?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Hqt extends yN{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ss?void 0:e}}class Vqt extends yN{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ss)}}class Kqt extends yN{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=d6(this,e,n,0)??ss)===L0)return;const r=this._$AH,i=e===ss&&r!==ss||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==ss&&(r===ss||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class Gqt{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){d6(this,e)}}const $Z=VC.litHtmlPolyfillSupport;$Z==null||$Z(YC,JC),(VC.litHtmlVersions??(VC.litHtmlVersions=[])).push("3.3.2");const Zqt=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new JC(e.insertBefore(KC(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iv=globalThis;let Pt=class extends u6{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Zqt(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return L0}};Pt._$litElement$=!0,Pt.finalized=!0,(AAe=iv.litElementHydrateSupport)==null||AAe.call(iv,{LitElement:Pt});const TZ=iv.litElementPolyfillSupport;TZ==null||TZ({LitElement:Pt}),(iv.litElementVersions??(iv.litElementVersions=[])).push("4.2.2");let QC,a1,c1;function Yqt(t,e){QC=document.createElement("style"),a1=document.createElement("style"),c1=document.createElement("style"),QC.textContent=h6(t).core.cssText,a1.textContent=h6(t).dark.cssText,c1.textContent=h6(t).light.cssText,document.head.appendChild(QC),document.head.appendChild(a1),document.head.appendChild(c1),e7e(e)}function e7e(t){a1&&c1&&(t==="light"?(a1.removeAttribute("media"),c1.media="enabled"):(c1.removeAttribute("media"),a1.media="enabled"))}function Jqt(t){QC&&a1&&c1&&(QC.textContent=h6(t).core.cssText,a1.textContent=h6(t).dark.cssText,c1.textContent=h6(t).light.cssText)}function h6(t){return{core:Jt`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${pd(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${pd((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${pd((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${pd((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${pd((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Jt`
      :root {
        --w3m-color-mix: ${pd((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${pd(Fm(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${pd(Fm(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Jt`
      :root {
        --w3m-color-mix: ${pd((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${pd(Fm(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${pd(Fm(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const mr=Jt`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ko=Jt`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,XC=Jt`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,ho={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r==="end"?`${t.substring(0,e)}...`:r==="start"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i==null?void 0:i.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(r,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){var e;return t||(typeof window<"u"&&window.matchMedia?(e=window.matchMedia("(prefers-color-scheme: dark)"))!=null&&e.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}};function Qqt(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function Xqt(t,e){return customElements.get(t)||customElements.define(t,e),e}function It(t){return function(n){return typeof n=="function"?Xqt(t,n):Qqt(t,n)}}const e7={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function t7(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const t7e=t7({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),n7e=t7({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});t7({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),t7({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),t7({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const eHt={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},wN={getMethodsByChainNamespace(t){return eHt[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case t7e.caipNetworkId:u.chains.push(t7e.deprecatedCaipNetworkId);break;case n7e.caipNetworkId:u.chains.push(n7e.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await oC.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class r7e{constructor({provider:e,namespace:n}){this.id=Ft.CONNECTOR_ID.WALLET_CONNECT,this.name=hN.ConnectorNamesMap[Ft.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=hN.ConnectorImageIds[Ft.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=ie.getCaipNetworks.bind(ie),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Ne.state.universalProviderConfigOverride,i=wN.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Vw.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:tHt})}}const tHt=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class nHt{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>ie.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Ft.CONNECTOR_ID.AUTH,type:"AUTH",name:Ft.CONNECTOR_NAMES.AUTH,provider:e,imageId:hN.ConnectorImageIds[Ft.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Mt.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const o=i,a=(s=Mt.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof r7e);if(!e)throw new Error("WalletConnectConnector not found");return e}}class rHt extends nHt{setUniversalProvider(e){this.addConnector(new r7e({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Ze.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,l;if(!(e.caipNetwork&&Tr.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(Mt.state.balanceLoading&&e.chainId===((c=ie.state.activeCaipNetwork)==null?void 0:c.id))return{balance:Mt.state.balance||"0.00",symbol:Mt.state.balanceSymbol||""};const i=(await Mt.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=ie.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ft.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:nm.encode(new TextEncoder().encode(r)),pubkey:i}},(a=ie.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(c=ie.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Ft.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:Cr(n.id)}]}))}catch(u){if(u.code===e7.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===e7.ERROR_INVALID_CHAIN_ID||u.code===e7.ERROR_CODE_DEFAULT||((o=(s=u==null?void 0:u.data)==null?void 0:s.originalError)==null?void 0:o.code)===e7.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Cr(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const iHt=["email","socials","swaps","onramp","activity","reownBranding"],vN={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Tr.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?Tr.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Tr.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Tr.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Tr.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Tr.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Tr.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Tr.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Tr.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},sHt={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=vN[e],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=vN[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return vN[t].processApi(e)},processFallbackFeature(t,e){return vN[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await Xe.fetchProjectConfig(),i=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?Tr.DEFAULT_REMOTE_FEATURES:Tr.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of iHt){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Tr.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;yh.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return s}};class oHt{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o,a;if(n){const c=(s=(i=ie.getNetworkData(n))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(d=>d.id===r);if(c)return c;const l=(o=ie.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=ie.getRequestedCaipNetworks(n).filter(d=>d.chainNamespace===n))==null?void 0:a[0])}return ie.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>ie.getCaipNetworks(n),this.getActiveChainNamespace=()=>ie.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{ie.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>ie.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>ie.state.activeChain===n||!n?ie.state.activeCaipAddress:ie.getAccountProp("caipAddress",n),this.setClientId=n=>{Xt.setClientId(n)},this.getProvider=n=>Pi.getProvider(n),this.getProviderType=n=>Pi.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=Mt.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{Mt.setCaipAddress(n,r),n&&Ne.state.enableEmbedded&&this.close()},this.setBalance=(n,r,i)=>{Mt.setBalance(n,r,i)},this.setProfileName=(n,r)=>{Mt.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Mt.setProfileImage(n,r)},this.setUser=(n,r)=>{Mt.setUser(n,r)},this.resetAccount=n=>{Mt.resetAccount(n)},this.setCaipNetwork=n=>{ie.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{ie.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Mt.setAllAccounts(n,r),Ne.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{Mt.setStatus(n,r),We.isConnected()?Tt.setConnectionStatus("connected"):Tt.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>ie.getAccountProp("address",n),this.setConnectors=n=>{const r=[...We.state.allConnectors,...n];We.setConnectors(r)},this.setConnections=(n,r)=>{at.setConnections(n,r)},this.fetchIdentity=n=>Xt.fetchIdentity(n),this.getReownName=n=>oC.getNamesForAddress(n),this.getConnectors=()=>We.getConnectors(),this.getConnectorImage=n=>Us.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=Pi.getProviderId(r),s=n?{...n,type:i}:void 0;Mt.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!ie.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{Mt.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{Mt.removeAddressLabel(n,r)},this.getAddress=n=>ie.state.activeChain===n||!n?Mt.state.address:ie.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>ie.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{ie.resetNetwork(n)},this.addConnector=n=>{We.addConnector(n)},this.resetWcConnection=()=>{at.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Mt.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Mt.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{ie.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Mt.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{Ne.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){var n,r,i;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await sHt.fetchRemoteFeatures(e),Ne.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&yK.setOnrampProviders(this.remoteFeatures.onramp),((n=Ne.state.remoteFeatures)!=null&&n.email||Array.isArray((r=Ne.state.remoteFeatures)==null?void 0:r.socials)&&((i=Ne.state.remoteFeatures)==null?void 0:i.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await Xe.fetchAllowedOrigins();if(e&&Ze.isClient()){const n=window.location.origin;wN.isOriginAllowed(n,e,e7.DEFAULT_ALLOWED_ANCESTORS)||yh.open(c6.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else yh.open(c6.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,jn.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Fo.setThemeMode(e.themeMode),e.themeVariables&&Fo.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");ie.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&ie.setActiveCaipNetwork(n)}initializeConnectionController(e){at.setWcBasic(e.basic??!1)}initializeConnectorController(){We.initialize(this.chainNamespaces)}initializeProjectSettings(e){Ne.setProjectId(e.projectId),Ne.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;Ne.setDebug(e.debug!==!1),Ne.setEnableWalletConnect(e.enableWalletConnect!==!1),Ne.setEnableWalletGuide(e.enableWalletGuide!==!1),Ne.setEnableWallets(e.enableWallets!==!1),Ne.setEIP6963Enabled(e.enableEIP6963!==!1),Ne.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Ne.setEnableAuthLogger(e.enableAuthLogger!==!1),Ne.setCustomRpcUrls(e.customRpcUrls),Ne.setEnableEmbedded(e.enableEmbedded),Ne.setAllWallets(e.allWallets),Ne.setIncludeWalletIds(e.includeWalletIds),Ne.setExcludeWalletIds(e.excludeWalletIds),Ne.setFeaturedWalletIds(e.featuredWalletIds),Ne.setTokens(e.tokens),Ne.setTermsConditionsUrl(e.termsConditionsUrl),Ne.setPrivacyPolicyUrl(e.privacyPolicyUrl),Ne.setCustomWallets(e.customWallets),Ne.setFeatures(e.features),Ne.setAllowUnsupportedChain(e.allowUnsupportedChain),Ne.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Ne.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Ne.setDefaultAccountTypes(e.defaultAccountTypes);const n=Tt.getPreferredAccountTypes()||{},r={...Ne.state.defaultAccountTypes,...n};Mt.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Ne.setMetadata(e.metadata),Ne.setDisableAppend(e.disableAppend),Ne.setEnableEmbedded(e.enableEmbedded),Ne.setSIWX(e.siwx),!e.projectId){yh.open(c6.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Ft.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Ne.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return Ze.isClient()?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=l6.getUnsupportedNetwork(`${n}:${e}`);ie.setActiveCaipNetwork(r)}}getDefaultNetwork(){return l6.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return l6.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return l6.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?l6.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=Pi.getProvider(e),i=Pi.getProviderId(e),{caipAddress:s}=ie.getAccountData(e)||{};this.setLoading(!0,e),s&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:i}),Tt.removeConnectedNamespace(e),Pi.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),We.removeConnectorId(e),ie.resetAccount(e),ie.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=ie.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),Tt.setConnectedNamespaces([...ie.state.chains.keys()]),this.chainNamespaces.forEach(o=>{We.setConnectorId(r1.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{var m,w,y,b,v,E;const c=ie.state.activeChain,l=s||c,u=this.getAdapter(l);if(s&&s!==c&&!o){const _=this.getCaipNetworks().find(T=>T.chainNamespace===s);_&&this.setCaipNetwork(_)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:n,type:r,provider:i,socialUri:a,chainId:(o==null?void 0:o.id)||(d==null?void 0:d.id),rpcUrl:((y=(w=(m=o==null?void 0:o.rpcUrls)==null?void 0:m.default)==null?void 0:w.http)==null?void 0:y[0])||((E=(v=(b=d==null?void 0:d.rpcUrls)==null?void 0:b.default)==null?void 0:v.http)==null?void 0:E[0])});if(!h)return;Tt.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=Mt.state.allAccounts,{accounts:p}=(f==null?void 0:f.length)>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=ie.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Tt.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=$qt(e);try{const r=await Promise.allSettled(n.map(async([s])=>this.disconnectNamespace(s)));gr.resetSend(),at.resetWcConnection(),await Vw.clearSessions(),We.setFilterByNamespace(void 0);const i=r.filter(s=>s.status==="rejected");if(i.length>0)throw new Error(i.map(s=>s.reason.message).join(", "));Tt.deleteConnectedSocialProvider(),jn.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(ie.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:Mt.state.address,provider:Pi.getProvider(ie.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(Tr.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(ie.state.activeChain),i=Pi.getProvider(n),s=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ft.CHAIN.EVM){const n=this.getAdapter(ie.state.activeChain),r=Pi.getProvider(ie.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Mt.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:ie.state.activeChain}),Mt.state.profileImage||!1},getEnsAddress:async e=>await wN.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(ie.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=Pi.getProvider(ie.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(ie.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(ie.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(ie.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(ie.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(ie.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(ie.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Mt.state.address||this.updateNativeBalance(Mt.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},at.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(Pi.getProviderId(ie.state.activeChain)===r1.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Pi.getProvider(n),s=Pi.getProviderId(n);if(e.chainNamespace===ie.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===r1.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Um.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new rHt({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Tt.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Tt.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=ie.state.activeChain===e,c=ie.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=Mt.state.address,s=ie.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=ie.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=ie.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=ie.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===Ft.CHAIN.EVM&&Ze.isSafeApp()&&We.setConnectorId(Ft.CONNECTOR_ID.SAFE,e);const n=We.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Ft.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ft.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=We.getConnectorId(e),i=this.getCaipNetwork(e),o=We.getConnectors(e).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:(l=(c=(a=i==null?void 0:i.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(u){const d=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));d&&d.accounts.length>0?this.setAllAccounts(d.accounts,e):this.setAllAccounts([Ze.createAccount(e,u.address,"eoa")],e),this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,u,d;const r=this.getAdapter(n),i=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:u.accounts)||[],s=(d=ie.state.activeCaipNetwork)==null?void 0:d.id,o=i.find(h=>{const{chainId:f}=Um.parseCaipAddress(h);return f===(s==null?void 0:s.toString())})||i[0];if(o){const h=Um.validateCaipAddress(o),{chainId:f,address:p}=Um.parseCaipAddress(h);if(Pi.setProviderId(n,r1.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&ie.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Ft.CHAIN.EVM){const m=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:ie.state.activeCaipNetwork});Pi.setProvider(n,m)}else Pi.setProvider(n,this.universalProvider);We.setConnectorId(Ft.CONNECTOR_ID.WALLET_CONNECT,n),Tt.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:p,chainId:f,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await ie.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Um.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Ze.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){Pi.setProviderId(i,e),Pi.setProvider(i,n),We.setConnectorId(r,i)}async syncAllAccounts(e){const n=We.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),i=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,e)}async syncAccount(e){var d,h;const n=e.chainNamespace===ie.state.activeChain,r=ie.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Tt.getActiveNetworkProps(),c=s||a,l=((d=ie.state.activeCaipNetwork)==null?void 0:d.name)===Ft.UNSUPPORTED_NETWORK_NAME,u=ie.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(w=>w.id.toString()===c.toString()),p=this.getCaipNetworks().find(w=>w.chainNamespace===o);if(!u&&!f&&!p){const w=this.getApprovedCaipNetworkIds()||[],y=w.find(v=>{var E;return((E=Um.parseCaipNetworkId(v))==null?void 0:E.chainId)===c.toString()}),b=w.find(v=>{var E;return((E=Um.parseCaipNetworkId(v))==null?void 0:E.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===y),p=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const m=f||p;(m==null?void 0:m.chainNamespace)===ie.state.activeChain?Ne.state.enableNetworkSwitch&&!Ne.state.allowUnsupportedChain&&((h=ie.state.activeCaipNetwork)==null?void 0:h.name)===Ft.UNSUPPORTED_NETWORK_NAME?ie.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),xZ.isLowerCaseMatch(i,Mt.state.address)||this.syncAccountInfo(i,m==null?void 0:m.id,o),n?await this.syncBalance({address:i,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=We.getConnectorId(e),r=Pi.getProviderId(e);if(r===r1.CONNECTOR_TYPE_ANNOUNCED||r===r1.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===r1.CONNECTOR_TYPE_WALLET_CONNECT){const s=Pi.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n&&n===Ft.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Ft.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}}async syncBalance(e){!F4e.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=ie.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,i,s,o,a,c,l,u,d,h;const e=Pqt.createLogger((f,...p)=>{f&&this.handleAlertError(f),console.error(...p)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};Ne.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await kqt.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{at.setUri(e)}),this.universalProvider.on("connect",at.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),at.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(wN.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Ze.isCaipAddress(r[0])&&this.syncAccount(Um.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ze.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){jn.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(c6.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=c6.ALERT_ERRORS[o];a&&(yh.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&at.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return vr.open({...e,data:{swap:e.arguments}})}return vr.open(e)}async close(){await this.injectModalUi(),vr.close()}setLoading(e,n){vr.setLoading(e,n)}async disconnect(e){await at.disconnect(e)}getSIWX(){return Ne.state.siwx}getError(){return""}getChainId(){var e;return(e=ie.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){yh.open(c6.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await ie.switchActiveNetwork(n)}getWalletProvider(){return ie.state.activeChain?Pi.state.providers[ie.state.activeChain]:null}getWalletProviderType(){return Pi.getProviderId(ie.state.activeChain)}subscribeProviders(e){return Pi.subscribeProviders(e)}getThemeMode(){return Fo.state.themeMode}getThemeVariables(){return Fo.state.themeVariables}setThemeMode(e){Fo.setThemeMode(e),e7e(Fo.state.themeMode)}setTermsConditionsUrl(e){Ne.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Ne.setPrivacyPolicyUrl(e)}setThemeVariables(e){Fo.setThemeVariables(e),Jqt(Fo.state.themeVariables)}subscribeTheme(e){return Fo.subscribe(e)}getWalletInfo(){return Mt.state.connectedWalletInfo}getAccount(e){var o;const n=We.getAuthConnector(e),r=ie.getAccountData(e),i=ie.state.activeChain,s=Tt.getConnectedConnectorId(e||i);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Ze.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===Ft.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:Tt.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?ie.subscribeChainProp("accountState",r,n):ie.subscribe(r),We.subscribe(r)}subscribeNetwork(e){return ie.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return Mt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Mt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){ie.subscribeKey("activeCaipNetwork",e)}getState(){return Hm.state}subscribeState(e){return Hm.subscribe(e)}showErrorMessage(e){ts.showError(e)}showSuccessMessage(e){ts.showSuccess(e)}getEvent(){return{...jn.state}}subscribeEvents(e){return jn.subscribe(e)}replace(e){Qe.replace(e)}redirect(e){Qe.push(e)}popTransactionStack(e){Qe.popTransactionStack(e)}isOpen(){return vr.state.open}isTransactionStackEmpty(){return Qe.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Ne.setFeatures(e)}updateRemoteFeatures(e){Ne.setRemoteFeatures(e)}updateOptions(e){const r={...Ne.state||{},...e};Ne.setOptions(r)}setConnectMethodsOrder(e){Ne.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Ne.setWalletFeaturesOrder(e)}setCollapseWallets(e){Ne.setCollapseWallets(e)}setSocialsOrder(e){Ne.setSocialsOrder(e)}getConnectMethodsOrder(){return ev.getConnectOrderMethod(Ne.state.features,We.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||ie.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&ie.removeNetwork(e,n)}}let i7e=!1;class s7e extends oHt{async open(e){We.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&at.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!i7e&&Ze.isClient()){if(await Ge(()=>Promise.resolve().then(()=>pJt),void 0),await Ge(()=>Promise.resolve().then(()=>TJt),void 0),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!Ne.state.disableAppend&&!Ne.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}i7e=!0}}}const aHt="1.7.8";function cHt(t){return new s7e({...t,basic:!0,sdkVersion:`html-core-${aHt}`})}const lHt=Object.freeze(Object.defineProperty({__proto__:null,AppKit:s7e,createAppKit:cHt},Symbol.toStringTag,{value:"Module"}));function uHt(t){return new TextEncoder().encode(t)}function Jf(t){const e=new Uint8Array(t);let n="";for(const i of e)n+=String.fromCharCode(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function bN(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4,r=e.padEnd(e.length+n,"="),i=atob(r),s=new ArrayBuffer(i.length),o=new Uint8Array(s);for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return s}function xN(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function o7e(t){const{id:e}=t;return{...t,id:bN(e),transports:t.transports}}function a7e(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}class Go extends Error{constructor({message:e,code:n,cause:r,name:i}){super(e,{cause:r}),this.name=i??r.name,this.code=n}}function dHt({error:t,options:e}){var r,i;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Go({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=n.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new Go({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(((i=n.authenticatorSelection)==null?void 0:i.userVerification)==="required")return new Go({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Go({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Go({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return n.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Go({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Go({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(a7e(s)){if(n.rp.id!==s)return new Go({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Go({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new Go({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Go({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return t}class hHt{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const PZ=new hHt,fHt=["cross-platform","platform"];function c7e(t){if(t&&!(fHt.indexOf(t)<0))return t}async function pHt(t){var h;if(!xN())throw new Error("WebAuthn is not supported in this browser");const n={publicKey:{...t,challenge:bN(t.challenge),user:{...t.user,id:uHt(t.user.id)},excludeCredentials:(h=t.excludeCredentials)==null?void 0:h.map(o7e)}};n.signal=PZ.createNewAbortSignal();let r;try{r=await navigator.credentials.create(n)}catch(f){throw dHt({error:f,options:n})}if(!r)throw new Error("Registration was not completed");const{id:i,rawId:s,response:o,type:a}=r;let c;typeof o.getTransports=="function"&&(c=o.getTransports());let l;if(typeof o.getPublicKeyAlgorithm=="function")try{l=o.getPublicKeyAlgorithm()}catch(f){NZ("getPublicKeyAlgorithm()",f)}let u;if(typeof o.getPublicKey=="function")try{const f=o.getPublicKey();f!==null&&(u=Jf(f))}catch(f){NZ("getPublicKey()",f)}let d;if(typeof o.getAuthenticatorData=="function")try{d=Jf(o.getAuthenticatorData())}catch(f){NZ("getAuthenticatorData()",f)}return{id:i,rawId:Jf(s),response:{attestationObject:Jf(o.attestationObject),clientDataJSON:Jf(o.clientDataJSON),transports:c,publicKeyAlgorithm:l,publicKey:u,authenticatorData:d},type:a,clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:c7e(r.authenticatorAttachment)}}function NZ(t,e){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${t}. You should report this error to them.
`,e)}function gHt(t){return new TextDecoder("utf-8").decode(t)}function l7e(){const t=window.PublicKeyCredential;return t.isConditionalMediationAvailable===void 0?new Promise(e=>e(!1)):t.isConditionalMediationAvailable()}function mHt({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Go({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Go({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(a7e(r)){if(n.rpId!==r)return new Go({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Go({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Go({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return t}async function yHt(t,e=!1){var d,h;if(!xN())throw new Error("WebAuthn is not supported in this browser");let n;((d=t.allowCredentials)==null?void 0:d.length)!==0&&(n=(h=t.allowCredentials)==null?void 0:h.map(o7e));const r={...t,challenge:bN(t.challenge),allowCredentials:n},i={};if(e){if(!await l7e())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');i.mediation="conditional",r.allowCredentials=[]}i.publicKey=r,i.signal=PZ.createNewAbortSignal();let s;try{s=await navigator.credentials.get(i)}catch(f){throw mHt({error:f,options:i})}if(!s)throw new Error("Authentication was not completed");const{id:o,rawId:a,response:c,type:l}=s;let u;return c.userHandle&&(u=gHt(c.userHandle)),{id:o,rawId:Jf(a),response:{authenticatorData:Jf(c.authenticatorData),clientDataJSON:Jf(c.clientDataJSON),signature:Jf(c.signature),userHandle:u},type:l,clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:c7e(s.authenticatorAttachment)}}function wHt(){return xN()?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():new Promise(t=>t(!1))}const n7=Object.freeze(Object.defineProperty({__proto__:null,WebAuthnAbortService:PZ,WebAuthnError:Go,base64URLStringToBuffer:bN,browserSupportsWebAuthn:xN,browserSupportsWebAuthnAutofill:l7e,bufferToBase64URLString:Jf,platformAuthenticatorIsAvailable:wHt,startAuthentication:yHt,startRegistration:pHt},Symbol.toStringTag,{value:"Module"})),u7e={name:"@base-org/account",version:"1.1.1"},vHt="https://keys.coinbase.com/connect",d7e="https://rpc.wallet.coinbase.com",EN=u7e.name,f6=u7e.version;function h7e(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const OZ=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return OZ(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return OZ(r)(n)}}}},bHt=(t,e)=>(n,r,i)=>{let s={storage:h7e(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=s.partialize({...r()});return l.setItem(s.name,{state:m,version:s.version})},d=i.setState;i.setState=(m,w)=>{d(m,w),u()};const h=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>h;let f;const p=()=>{var m,w;if(!l)return;o=!1,a.forEach(b=>{var v;return b((v=r())!=null?v:h)});const y=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(m=r())!=null?m:h))||void 0;return OZ(l.getItem.bind(l))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const v=s.migrate(b.state,b.version);return v instanceof Promise?v.then(E=>[!0,E]):[!0,v]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[E,_]=b;if(f=s.merge(_,(v=r())!=null?v:h),n(f,!0),E)return u()}).then(()=>{y==null||y(f,void 0),f=r(),o=!0,c.forEach(b=>b(f))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:m=>{s={...s,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},s.skipHydration||p(),f||h},f7e=t=>{let e;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},RZ=t=>t?f7e(t):f7e,xHt=()=>({chains:[]}),EHt=()=>({keys:{}}),CHt=()=>({account:{}}),_Ht=()=>({subAccount:void 0}),AHt=()=>({subAccountConfig:{}}),SHt=()=>({spendPermissions:[]}),IHt=()=>({config:{version:f6}}),os=RZ(bHt((...t)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xHt(...t)),EHt(...t)),CHt(...t)),_Ht(...t)),SHt(...t)),IHt(...t)),AHt(...t)),{name:"base-acc-sdk.store",storage:h7e(()=>localStorage),partialize:t=>({chains:t.chains,keys:t.keys,account:t.account,subAccount:t.subAccount,spendPermissions:t.spendPermissions,config:t.config})})),kHt={get:()=>os.getState().subAccountConfig,set:t=>{os.setState(e=>({subAccountConfig:Object.assign(Object.assign({},e.subAccountConfig),t)}))},clear:()=>{os.setState({subAccountConfig:{}})}},$Ht={get:()=>os.getState().subAccount,set:t=>{os.setState(e=>({subAccount:e.subAccount?Object.assign(Object.assign({},e.subAccount),t):Object.assign({address:t.address},t)}))},clear:()=>{os.setState({subAccount:void 0})}},THt={get:()=>os.getState().spendPermissions,set:t=>{os.setState({spendPermissions:t})},clear:()=>{os.setState({spendPermissions:[]})}},PHt={get:()=>os.getState().account,set:t=>{os.setState(e=>({account:Object.assign(Object.assign({},e.account),t)}))},clear:()=>{os.setState({account:{}})}},NHt={get:()=>os.getState().chains,set:t=>{os.setState({chains:t})},clear:()=>{os.setState({chains:[]})}},OHt={get:t=>os.getState().keys[t],set:(t,e)=>{os.setState(n=>({keys:Object.assign(Object.assign({},n.keys),{[t]:e})}))},clear:()=>{os.setState({keys:{}})}},p7e={get:()=>os.getState().config,set:t=>{os.setState(e=>({config:Object.assign(Object.assign({},e.config),t)}))}},RHt={subAccounts:$Ht,subAccountsConfig:kHt,spendPermissions:THt,account:PHt,chains:NHt,keys:OHt,config:p7e},ut=Object.assign(Object.assign({},os),RHt),MHt='!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClientAnalytics=t():e.ClientAnalytics=t()}(this,(function(){return(()=>{var e={792:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},562:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},335:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},762:(e,t,n)=>{var r,i,a,o,s;r=n(562),i=n(792).utf8,a=n(335),o=n(792).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,m=0;m<n.length;m++)n[m]=16711935&(n[m]<<8|n[m]>>>24)|4278255360&(n[m]<<24|n[m]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=s._ff,v=s._gg,g=s._hh,b=s._ii;for(m=0;m<n.length;m+=16){var h=u,w=l,y=d,T=p;u=f(u,l,d,p,n[m+0],7,-680876936),p=f(p,u,l,d,n[m+1],12,-389564586),d=f(d,p,u,l,n[m+2],17,606105819),l=f(l,d,p,u,n[m+3],22,-1044525330),u=f(u,l,d,p,n[m+4],7,-176418897),p=f(p,u,l,d,n[m+5],12,1200080426),d=f(d,p,u,l,n[m+6],17,-1473231341),l=f(l,d,p,u,n[m+7],22,-45705983),u=f(u,l,d,p,n[m+8],7,1770035416),p=f(p,u,l,d,n[m+9],12,-1958414417),d=f(d,p,u,l,n[m+10],17,-42063),l=f(l,d,p,u,n[m+11],22,-1990404162),u=f(u,l,d,p,n[m+12],7,1804603682),p=f(p,u,l,d,n[m+13],12,-40341101),d=f(d,p,u,l,n[m+14],17,-1502002290),u=v(u,l=f(l,d,p,u,n[m+15],22,1236535329),d,p,n[m+1],5,-165796510),p=v(p,u,l,d,n[m+6],9,-1069501632),d=v(d,p,u,l,n[m+11],14,643717713),l=v(l,d,p,u,n[m+0],20,-373897302),u=v(u,l,d,p,n[m+5],5,-701558691),p=v(p,u,l,d,n[m+10],9,38016083),d=v(d,p,u,l,n[m+15],14,-660478335),l=v(l,d,p,u,n[m+4],20,-405537848),u=v(u,l,d,p,n[m+9],5,568446438),p=v(p,u,l,d,n[m+14],9,-1019803690),d=v(d,p,u,l,n[m+3],14,-187363961),l=v(l,d,p,u,n[m+8],20,1163531501),u=v(u,l,d,p,n[m+13],5,-1444681467),p=v(p,u,l,d,n[m+2],9,-51403784),d=v(d,p,u,l,n[m+7],14,1735328473),u=g(u,l=v(l,d,p,u,n[m+12],20,-1926607734),d,p,n[m+5],4,-378558),p=g(p,u,l,d,n[m+8],11,-2022574463),d=g(d,p,u,l,n[m+11],16,1839030562),l=g(l,d,p,u,n[m+14],23,-35309556),u=g(u,l,d,p,n[m+1],4,-1530992060),p=g(p,u,l,d,n[m+4],11,1272893353),d=g(d,p,u,l,n[m+7],16,-155497632),l=g(l,d,p,u,n[m+10],23,-1094730640),u=g(u,l,d,p,n[m+13],4,681279174),p=g(p,u,l,d,n[m+0],11,-358537222),d=g(d,p,u,l,n[m+3],16,-722521979),l=g(l,d,p,u,n[m+6],23,76029189),u=g(u,l,d,p,n[m+9],4,-640364487),p=g(p,u,l,d,n[m+12],11,-421815835),d=g(d,p,u,l,n[m+15],16,530742520),u=b(u,l=g(l,d,p,u,n[m+2],23,-995338651),d,p,n[m+0],6,-198630844),p=b(p,u,l,d,n[m+7],10,1126891415),d=b(d,p,u,l,n[m+14],15,-1416354905),l=b(l,d,p,u,n[m+5],21,-57434055),u=b(u,l,d,p,n[m+12],6,1700485571),p=b(p,u,l,d,n[m+3],10,-1894986606),d=b(d,p,u,l,n[m+10],15,-1051523),l=b(l,d,p,u,n[m+1],21,-2054922799),u=b(u,l,d,p,n[m+8],6,1873313359),p=b(p,u,l,d,n[m+15],10,-30611744),d=b(d,p,u,l,n[m+6],15,-1560198380),l=b(l,d,p,u,n[m+13],21,1309151649),u=b(u,l,d,p,n[m+4],6,-145523070),p=b(p,u,l,d,n[m+11],10,-1120210379),d=b(d,p,u,l,n[m+2],15,718787259),l=b(l,d,p,u,n[m+9],21,-343485551),u=u+h>>>0,l=l+w>>>0,d=d+y>>>0,p=p+T>>>0}return r.endian([u,l,d,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Perfume:()=>ze,incrementUjNavigation:()=>Le,markStep:()=>Re,markStepOnce:()=>qe});var r,i,a={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{},enableNavigationTracking:!0},o=window,s=o.console,c=o.navigator,u=o.performance,l=function(){return c.deviceMemory},d=function(){return c.hardwareConcurrency},p="mark.",m=function(){return u&&!!u.getEntriesByType&&!!u.now&&!!u.mark},f="4g",v=!1,g={},b={value:0},h={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},w={value:0},y={value:0},T={},k={isHidden:!1,didChange:!1},_=function(){k.isHidden=!1,document.hidden&&(k.isHidden=document.hidden,k.didChange=!0)},S=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){s.warn("Perfume.js:",e)}return null},E=function(){return!!(d()&&d()<=4)||!!(l()&&l()<=4)},x=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return E()||t}},O=function(e){return parseFloat(e.toFixed(4))},j=function(e){return"number"!=typeof e?null:O(e/Math.pow(1024,2))},N=function(e,t,n,r,i){var s,u=function(){a.analyticsTracker&&(k.isHidden&&!["CLS","INP"].includes(e)||a.analyticsTracker({attribution:r,metricName:e,data:t,navigatorInformation:c?{deviceMemory:l()||0,hardwareConcurrency:d()||0,serviceWorkerStatus:"serviceWorker"in c?c.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:E(),isLowEndExperience:x(f,v)}:{},rating:n,navigationType:i}))};["CLS","INP"].includes(e)?u():(s=u,"requestIdleCallback"in o?o.requestIdleCallback(s,{timeout:3e3}):s())},I=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<b.value)){var t=e.duration-50;t>0&&(w.value+=t,y.value+=t)}}))};!function(e){e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable"}(r||(r={}));var P,M,B,C,D,A=((i={})[r.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},i[r.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},i[r.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},i[r.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},i[r.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4},i),L={RT:[100,200],TBT:[200,600],NTBT:[200,600]},U=function(e,t){return L[e]?t<=L[e][0]?"good":t<=L[e][1]?"needsImprovement":"poor":null},R=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=O(t[e]))})),N(e,t,null,n||{})},q=function(e){var t=e.attribution,n=e.name,r=e.rating,i=e.value,o=e.navigationType;"FCP"===n&&(b.value=i),["FCP","LCP"].includes(n)&&!T[0]&&(T[0]=S("longtask",I)),"FID"===n&&setTimeout((function(){k.didChange||(q({attribution:t,name:"TBT",rating:U("TBT",w.value),value:w.value,navigationType:o}),R("dataConsumption",h.value))}),1e4);var s=O(i);s<=a.maxTime&&s>=0&&N(n,s,r,t,o)},F=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},z=function(e){if("loading"===document.readyState)return"loading";var t=F();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},K=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},$=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:K(r)+(r.className&&r.className.length?"."+r.className.replace(/\\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},Q=-1,W=function(){return Q},H=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Q=t.timeStamp,e(t))}),!0)},V=function(){var e=F();return e&&e.activationStart||0},J=function(e,t){var n=F(),r="navigate";return W()>=0?r="back-forward-cache":n&&(r=document.prerendering||V()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},X=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},G=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Z=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Y=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ee=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},te=-1,ne=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},re=function(e){"hidden"===document.visibilityState&&te>-1&&(te="visibilitychange"===e.type?e.timeStamp:0,ae())},ie=function(){addEventListener("visibilitychange",re,!0),addEventListener("prerenderingchange",re,!0)},ae=function(){removeEventListener("visibilitychange",re,!0),removeEventListener("prerenderingchange",re,!0)},oe=function(){return te<0&&(te=ne(),ie(),H((function(){setTimeout((function(){te=ne(),ie()}),0)}))),{get firstHiddenTime(){return te}}},se=function(e,t){t=t||{},ee((function(){var n,r=[1800,3e3],i=oe(),a=J("FCP"),o=X("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(a.value=Math.max(e.startTime-V(),0),a.entries.push(e),n(!0)))}))}));o&&(n=Z(e,a,r,t.reportAllChanges),H((function(i){a=J("FCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,n(!0)}))})))}))},ce={passive:!0,capture:!0},ue=new Date,le=function(e,t){P||(P=t,M=e,B=new Date,me(removeEventListener),de())},de=function(){if(M>=0&&M<B-ue){var e={entryType:"first-input",name:P.type,target:P.target,cancelable:P.cancelable,startTime:P.timeStamp,processingStart:P.timeStamp+M};C.forEach((function(t){t(e)})),C=[]}},pe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){le(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ce),removeEventListener("pointercancel",r,ce)};addEventListener("pointerup",n,ce),addEventListener("pointercancel",r,ce)}(t,e):le(t,e)}},me=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,pe,ce)}))},fe=0,ve=1/0,ge=0,be=function(e){e.forEach((function(e){e.interactionId&&(ve=Math.min(ve,e.interactionId),ge=Math.max(ge,e.interactionId),fe=ge?(ge-ve)/7+1:0)}))},he=function(){return D?fe:performance.interactionCount||0},we=0,ye=function(){return he()-we},Te=[],ke={},_e=function(e){var t=Te[Te.length-1],n=ke[e.interactionId];if(n||Te.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ke[r.id]=r,Te.push(r)}Te.sort((function(e,t){return t.latency-e.latency})),Te.splice(10).forEach((function(e){delete ke[e.id]}))}},Se={},Ee=function e(t){document.prerendering?ee((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},xe=function(e,t){t=t||{};var n=[800,1800],r=J("TTFB"),i=Z(e,r,n,t.reportAllChanges);Ee((function(){var a=F();if(a){var o=a.responseStart;if(o<=0||o>performance.now())return;r.value=Math.max(o-V(),0),r.entries=[a],i(!0),H((function(){r=J("TTFB",0),(i=Z(e,r,n,t.reportAllChanges))(!0)}))}}))},Oe=function(e){e.forEach((function(e){e.identifier&&q({attribution:{identifier:e.identifier},name:"ET",rating:null,value:e.startTime})}))},je=function(e){e.forEach((function(e){if(a.isResourceTiming&&R("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;h.value[e.initiatorType]+=t,h.value.total+=t}}))},Ne=function(){!function(e,t){xe((function(e){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(e),function(e){e.value>0&&q(e)}(e)}),t)}(0,a.reportOptions.ttfb),function(e,t){!function(e,t){t=t||{},ee((function(){var e,n=[.1,.25],r=J("CLS"),i=-1,a=0,o=[],s=function(e){i>-1&&function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:$(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:z(t.startTime)})}}var r;e.attribution={}}(e),function(e){q(e)}(e)}(e)},c=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=o[0],i=o[o.length-1];a&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(a+=t.value,o.push(t)):(a=t.value,o=[t]),a>r.value&&(r.value=a,r.entries=o,e())}}))},u=X("layout-shift",c);u&&(e=Z(s,r,n,t.reportAllChanges),se((function(t){i=t.value,r.value<0&&(r.value=0,e())})),G((function(){c(u.takeRecords()),e(!0)})),H((function(){a=0,i=-1,r=J("CLS",0),e=Z(s,r,n,t.reportAllChanges),Y((function(){return e()}))})))}))}(0,t)}(0,a.reportOptions.cls),function(e,t){se((function(e){!function(e){if(e.entries.length){var t=F(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:z(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:z(W())}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[100,300],i=oe(),a=J("FID"),o=function(e){e.startTime<i.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},s=function(e){e.forEach(o)},c=X("first-input",s);n=Z(e,a,r,t.reportAllChanges),c&&G((function(){s(c.takeRecords()),c.disconnect()}),!0),c&&H((function(){var i;a=J("FID"),n=Z(e,a,r,t.reportAllChanges),C=[],M=-1,P=null,me(addEventListener),i=o,C.push(i),de()}))}))}((function(e){!function(e){var t=e.entries[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.fid),function(e,t){!function(e,t){t=t||{},ee((function(){var n,r=[2500,4e3],i=oe(),a=J("LCP"),o=function(e){var t=e[e.length-1];if(t){var r=Math.max(t.startTime-V(),0);r<i.firstHiddenTime&&(a.value=r,a.entries=[t],n())}},s=X("largest-contentful-paint",o);if(s){n=Z(e,a,r,t.reportAllChanges);var c=function(){Se[a.id]||(o(s.takeRecords()),s.disconnect(),Se[a.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),G(c,!0),H((function(i){a=J("LCP"),n=Z(e,a,r,t.reportAllChanges),Y((function(){a.value=performance.now()-i.timeStamp,Se[a.id]=!0,n(!0)}))}))}}))}((function(e){!function(e){if(e.entries.length){var t=F();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],a=Math.max(0,t.responseStart-n),o=Math.max(a,i?(i.requestStart||i.startTime)-n:0),s=Math.max(o,i?i.responseEnd-n:0),c=Math.max(s,r?r.startTime-n:0),u={element:$(r.element),timeToFirstByte:a,resourceLoadDelay:o-a,resourceLoadTime:s-o,elementRenderDelay:c-s,navigationEntry:t,lcpEntry:r};return r.url&&(u.url=r.url),i&&(u.lcpResourceEntry=i),void(e.attribution=u)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(e),function(e){q(e)}(e)}),t)}(0,a.reportOptions.lcp),function(e,t){!function(e,t){t=t||{},ee((function(){var n=[200,500];"interactionCount"in performance||D||(D=X("event",be,{type:"event",buffered:!0,durationThreshold:0}));var r,i=J("INP"),a=function(e){e.forEach((function(e){e.interactionId&&_e(e),"first-input"===e.entryType&&!Te.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&_e(e)}));var t,n=(t=Math.min(Te.length-1,Math.floor(ye()/50)),Te[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=X("event",a,{durationThreshold:t.durationThreshold||40});r=Z(e,i,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),G((function(){a(o.takeRecords()),i.value<0&&ye()>0&&(i.value=0,i.entries=[]),r(!0)})),H((function(){Te=[],we=he(),i=J("INP"),r=Z(e,i,n,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:$(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:z(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){return q(e)}),a.reportOptions.inp),a.isResourceTiming&&S("resource",je),a.isElementTiming&&S("element",Oe)},Ie=function(e){var t="usageDetails"in e?e.usageDetails:{};R("storageEstimate",{quota:j(e.quota),usage:j(e.usage),caches:j(t.caches),indexedDB:j(t.indexedDB),serviceWorker:j(t.serviceWorkerRegistrations)})},Pe={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}},Me=function(e){delete Pe.active[e]},Be=function(){return Pe.navigationSteps},Ce=function(e){var t;return null!==(t=Be()[e])&&void 0!==t?t:{}},De=function(e,t,n){var r="step."+e,i=u.getEntriesByName(p+t).length>0;if(u.getEntriesByName(p+n).length>0&&a.steps){var o=A[a.steps[e].threshold],s=o.maxOutlierThreshold,c=o.vitalsThresholds;if(i){var l=u.measure(r,p+t,p+n),d=l.duration;if(d<=s){var m=function(e,t){return e<=t[0]?"good":e<=t[1]?"needsImprovement":"poor"}(d,c);d>=0&&(N("userJourneyStep",d,m,{stepName:e},void 0),u.measure("step.".concat(e,"_vitals_").concat(m),{start:l.startTime+l.duration,end:l.startTime+l.duration,detail:{type:"stepVital",duration:d}}))}}}},Ae=function(){var e=Be(),t=Pe.startMarkToStepsMap,n=Object.keys(e).length;if(0===n)return{};var r={},i=n-1,a=Ce(i);if(Object.keys(a).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))})),n>1){var o=Ce(i-1);Object.keys(o).forEach((function(e){var n,i=null!==(n=t[e])&&void 0!==n?n:[];Object.keys(i).forEach((function(e){r[e]=!0}))}))}return r},Le=function(){var e,t=Object.keys(Pe.navigationSteps).length;Pe.navigationSteps[t]={};var n=Ae();null===(e=a.onMarkStep)||void 0===e||e.call(a,"",Object.keys(n))},Ue=function(e){var t,n,r,i,o,s,c;if(Pe.finalMarkToStepsMap[e]){!function(e){var t=Pe.navigationSteps,n=Pe.finalMarkToStepsMap,r=Object.keys(t).length;if(0!==r){var i=r-1,a=Ce(i);if(a&&n[e]){var o=n[e];o&&Object.keys(o).forEach((function(e){if(a[e]){var n=Ce(i)||{};n[e]=!1,t[i]=n}if(r>1){var o=i-1,s=Ce(o);s[e]&&(s[e]=!1,t[o]=s)}}))}}}(e);var u=Pe.finalMarkToStepsMap[e];Object.keys(u).forEach((function(t){var n=u[t];n.forEach(Me),Promise.all(n.map((function(n){return function(e,t,n,r){return new(n||(n=Promise))((function(e,t){function i(e){try{o(r.next(e))}catch(e){t(e)}}function a(e){try{o(r.throw(e))}catch(e){t(e)}}function o(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}o((r=r.apply(undefined,[])).next())}))}(0,0,void 0,(function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return[4,De(n,t,e)];case 1:return r.sent(),[2]}}))}))}))).catch((function(){}))}))}else r=e,i=Pe.navigationSteps,o=Object.keys(i).length,(c=Ce(s=(o>0?o:1)-1)||[])[r]=!0,i[s]=c,function(e){var t,n=null!==(t=Pe.startMarkToStepsMap[e])&&void 0!==t?t:[];Object.keys(n).forEach((function(e){Pe.active[e]||(Pe.active[e]=!0)}))}(e);if(a.enableNavigationTracking){var l=Ae();null===(t=a.onMarkStep)||void 0===t||t.call(a,e,Object.keys(l))}else null===(n=a.onMarkStep)||void 0===n||n.call(a,e,Object.keys(Pe.active))},Re=function(e){u.mark(p+e),Ue(e)},qe=function(e){0===u.getEntriesByName(p+e).length&&(u.mark(p+e),Ue(e))},Fe=0,ze=function(){function e(e){if(void 0===e&&(e={}),this.v="9.0.0-rc.3",a.analyticsTracker=e.analyticsTracker,a.isResourceTiming=!!e.resourceTiming,a.isElementTiming=!!e.elementTiming,a.maxTime=e.maxMeasureTime||a.maxTime,a.reportOptions=e.reportOptions||a.reportOptions,a.steps=e.steps,a.onMarkStep=e.onMarkStep,a.enableNavigationTracking=e.enableNavigationTracking,m()){"PerformanceObserver"in o&&Ne(),void 0!==document.hidden&&document.addEventListener("visibilitychange",_);var t=function(){if(!m())return{};var e=u.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();R("navigationTiming",t),t.redirectTime&&q({attribution:{},name:"RT",rating:U("RT",t.redirectTime),value:t.redirectTime}),R("networkInformation",function(){if("connection"in c){var e=c.connection;return"object"!=typeof e?{}:(f=e.effectiveType,v=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),c&&c.storage&&"function"==typeof c.storage.estimate&&c.storage.estimate().then(Ie),a.steps&&a.steps&&(Pe.startMarkToStepsMap={},Pe.finalMarkToStepsMap={},Pe.active={},Pe.navigationSteps={},Object.entries(a.steps).forEach((function(e){var t,n,r=e[0],i=e[1].marks,a=i[0],o=i[1],s=null!==(n=Pe.startMarkToStepsMap[a])&&void 0!==n?n:{};if(s[r]=!0,Pe.startMarkToStepsMap[a]=s,Pe.finalMarkToStepsMap[o]){var c=Pe.finalMarkToStepsMap[o][a]||[];c.push(r),Pe.finalMarkToStepsMap[o][a]=c}else Pe.finalMarkToStepsMap[o]=((t={})[a]=[r],t)})))}}return e.prototype.start=function(e){m()&&!g[e]&&(g[e]=!0,u.mark("mark_".concat(e,"_start")))},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),m()&&g[e]){u.mark("mark_".concat(e,"_end")),delete g[e];var r=function(e){u.measure(e,"mark_".concat(e,"_start"),"mark_".concat(e,"_end"));var t=u.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&R(e,O(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete g[e],u.clearMarks&&(u.clearMarks("mark_".concat(e,"_start")),u.clearMarks("mark_".concat(e,"_end")))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),y.value=0,clearTimeout(Fe),Fe=setTimeout((function(){e.end("ntbt",{},!1),q({attribution:{},name:"NTBT",rating:U("NTBT",y.value),value:y.value}),y.value=0}),2e3)},e}()},426:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r=Object.assign,i={};function a(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}function o(){}function s(e,t,r){this.props=e,this.context=t,this.refs=i,this.updater=r||n}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var c=s.prototype=new o;c.constructor=s,r(c,a.prototype),c.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;var u={current:null};t.useCallback=function(e,t){return u.current.useCallback(e,t)},t.useEffect=function(e,t){return u.current.useEffect(e,t)},t.useRef=function(e){return u.current.useRef(e)}},784:(e,t,n)=>{"use strict";e.exports=n(426)},353:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",c="object",u="string",l="major",d="model",p="name",m="type",f="vendor",v="version",g="architecture",b="console",h="mobile",w="tablet",y="smarttv",T="wearable",k="embedded",_="Amazon",S="Apple",E="ASUS",x="BlackBerry",O="Browser",j="Chrome",N="Firefox",I="Google",P="Huawei",M="LG",B="Microsoft",C="Motorola",D="Opera",A="Samsung",L="Sharp",U="Sony",R="Xiaomi",q="Zebra",F="Facebook",z="Chromium OS",K="Mac OS",$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Q=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===u)return e=e.replace(/^\\s\\s*/,""),typeof t===s?e:e.substring(0,350)},V=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var p=t[d],m=t[d+1];for(n=r=0;n<p.length&&!u&&p[n];)if(u=p[n++].exec(e))for(i=0;i<m.length;i++)l=u[++r],typeof(s=m[i])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(Q(t[n][r],e))return"?"===n?a:n}else if(Q(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[p,v],[/opios[\\/ ]+([\\w\\.]+)/i],[v,[p,D+" Mini"]],[/\\bopr\\/([\\w\\.]+)/i],[v,[p,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(heytap|ovi)browser\\/([\\d\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[p,v],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[v,[p,"UC"+O]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[v,[p,"WeChat(Win) Desktop"]],[/micromessenger\\/([\\w\\.]+)/i],[v,[p,"WeChat"]],[/konqueror\\/([\\w\\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\\/([\\w\\.]+)/i],[v,[p,"Yandex"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 Secure "+O],v],[/\\bfocus\\/([\\w\\.]+)/i],[v,[p,N+" Focus"]],[/\\bopt\\/([\\w\\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\\/([\\w\\.]+)/i],[v,[p,"Dolphin"]],[/coast\\/([\\w\\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\\/([\\w\\.]+)/i],[v,[p,"MIUI "+O]],[/fxios\\/([-\\w\\.]+)/i],[v,[p,N]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[p,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[p,/_/g," "],v],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[p,v],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[p],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[p,F],v],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[p,v],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[v,[p,j+" Headless"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[p,j+" WebView"],v],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[p,v],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[p,[v,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[p,v],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[v,[p,N+" Reality"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\\/([\\w\\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,W]],[/((?:i[346]|x)86)[;\\)]/i],[[g,"ia32"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[g,"arm64"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[g,/ower/,"",W]],[/(sun4\\w)[;\\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[g,W]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,A],[m,w]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[f,A],[m,h]],[/(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i],[d,[f,S],[m,h]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[f,S],[m,w]],[/(macintosh);/i],[d,[f,S]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[f,L],[m,h]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[f,P],[m,w]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[f,P],[m,h]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,h]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g," "],[f,R],[m,w]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[f,"OPPO"],[m,h]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[m,h]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[f,"Realme"],[m,h]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[f,C],[m,h]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[f,C],[m,w]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,M],[m,w]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[f,M],[m,h]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[f,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[m,h]],[/(pixel c)\\b/i],[d,[f,I],[m,w]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[f,I],[m,h]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[f,U],[m,h]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,"Xperia Tablet"],[f,U],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[f,"OnePlus"],[m,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[f,_],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[m,h]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,f,[m,w]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[f,x],[m,h]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[f,E],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[f,E],[m,h]],[/(nexus 9)/i],[d,[f,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[f,[d,/_/g," "],[m,h]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[f,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[f,"Meizu"],[m,h]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[f,d,[m,h]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[f,d,[m,w]],[/(surface duo)/i],[d,[f,B],[m,w]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[f,"Fairphone"],[m,h]],[/(u304aa)/i],[d,[f,"AT&T"],[m,h]],[/\\bsie-(\\w*)/i],[d,[f,"Siemens"],[m,h]],[/\\b(rct\\w+) b/i],[d,[f,"RCA"],[m,w]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[f,"Dell"],[m,w]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[f,"Verizon"],[m,w]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[f,"Barnes & Noble"],[m,w]],[/\\b(tm\\d{3}\\w+) b/i],[d,[f,"NuVision"],[m,w]],[/\\b(k88) b/i],[d,[f,"ZTE"],[m,w]],[/\\b(nx\\d{3}j) b/i],[d,[f,"ZTE"],[m,h]],[/\\b(gen\\d{3}) b.+49h/i],[d,[f,"Swiss"],[m,h]],[/\\b(zur\\d{3}) b/i],[d,[f,"Swiss"],[m,w]],[/\\b((zeki)?tb.*\\b) b/i],[d,[f,"Zeki"],[m,w]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[f,"Dragon Touch"],d,[m,w]],[/\\b(ns-?\\w{0,9}) b/i],[d,[f,"Insignia"],[m,w]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[f,"NextBook"],[m,w]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[m,h]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[f,"LvTel"],d,[m,h]],[/\\b(ph-1) /i],[d,[f,"Essential"],[m,h]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[f,"Envizen"],[m,w]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[f,"MachSpeed"],[m,w]],[/\\btu_(1491) b/i],[d,[f,"Rotor"],[m,w]],[/(shield[\\w ]+) b/i],[d,[f,"Nvidia"],[m,w]],[/(sprint) (\\w+)/i],[f,d,[m,h]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g," "],[f,B],[m,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[f,q],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[f,q],[m,h]],[/smart-tv.+(samsung)/i],[f,[m,y]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,"SmartTV"],[f,A],[m,y]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[f,M],[m,y]],[/(apple) ?tv/i],[f,[d,S+" TV"],[m,y]],[/crkey/i],[[d,j+"cast"],[f,I],[m,y]],[/droid.+aft(\\w)( bui|\\))/i],[d,[f,_],[m,y]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[f,L],[m,y]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[f,U],[m,y]],[/(mitv-\\w{5}) bui/i],[d,[f,R],[m,y]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[m,y]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[f,H],[d,H],[m,y]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[m,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[m,b]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[m,b]],[/(playstation [345portablevi]+)/i],[d,[f,U],[m,b]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[f,B],[m,b]],[/((pebble))app/i],[f,d,[m,T]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[f,S],[m,T]],[/droid.+; (glass) \\d/i],[d,[f,I],[m,T]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[f,q],[m,T]],[/(quest( 2| pro)?)/i],[d,[f,F],[m,T]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[f,[m,k]],[/(aeobc)\\b/i],[d,[f,_],[m,k]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[m,h]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[m,h]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[v,[p,"EdgeHTML"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[v,[p,"Blink"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,/\\b(libweb)/i],[p,v],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[p,[v,J,X]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[p,"Windows"],[v,J,X]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/ios;fbsv\\/([\\d\\.]+)/i,/cfnetwork\\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[p,K],[v,/_/g,"."]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[p,v],[/\\(bb(10);/i],[v,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[v,[p,"Symbian"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[v,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[v,[p,"watchOS"]],[/crkey\\/([\\d\\.]+)/i],[v,[p,j+"cast"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[p,z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[p,v],[/(sunos) ?([\\w\\.\\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\\w\\.]*)/i],[p,v]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),b=n&&n.userAgentData?n.userAgentData:a,y=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,t):G,T=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=a,t[v]=a,V.call(t,r,y.browser),t[l]=typeof(e=t[v])===u?e.replace(/[^\\d\\.]/g,"").split(".")[0]:a,T&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,V.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[d]=a,e[m]=a,V.call(e,r,y.device),T&&!e[m]&&b&&b.mobile&&(e[m]=h),T&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[p]=a,e[v]=a,V.call(e,r,y.os),T&&!e[p]&&b&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,z).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?H(e,350):e,this},this.setUA(r),this};Z.VERSION="1.0.35",Z.BROWSER=$([p,v,l]),Z.CPU=$([g]),Z.DEVICE=$([d,f,m,b,h,y,w,T,k]),Z.ENGINE=Z.OS=$([p,v]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=Z);var Y=typeof i!==s&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var ee=new Z;Y.ua=ee.getResult(),Y.ua.get=function(){return ee.getUA()},Y.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ActionType:()=>f,AmplitudePlatformName:()=>g,AnalyticsEventImportance:()=>l,AnalyticsQueries:()=>e,AuthStatus:()=>b,ComponentType:()=>m,IThresholdTier:()=>Jt,MetricType:()=>d,PlatformName:()=>v,SessionActions:()=>h,SessionAutomatedEvents:()=>w,SessionRank:()=>y,SubjectType:()=>p,UserTypeCommerce:()=>c,UserTypeInsto:()=>i,UserTypeRetail:()=>t,UserTypeRetailBusinessBanking:()=>s,UserTypeRetailEmployeeInternal:()=>a,UserTypeRetailEmployeePersonal:()=>o,UserTypeWallet:()=>u,automatedEvents:()=>xn,automatedMappingConfig:()=>In,clearMarkEntry:()=>Vn,clearPerformanceMarkEntries:()=>Xn,config:()=>A,createEventConfig:()=>On,createNewSpan:()=>Ln,createNewTrace:()=>Un,device:()=>W,endPerfMark:()=>Jn,exposeExperiment:()=>wn,flushQueue:()=>or,generateUUID:()=>V,getAnalyticsHeaders:()=>sr,getReferrerData:()=>le,getTracingHeaders:()=>An,getTracingId:()=>Dn,getUrlHostname:()=>pe,getUrlParams:()=>me,getUrlPathname:()=>fe,getUserContext:()=>ar,identify:()=>Tn,identifyFlow:()=>xe,identity:()=>H,identityFlow:()=>Se,incrementUjNavigation:()=>an,init:()=>yn,initNextJsTrackPageview:()=>_n,initTrackPageview:()=>kn,isEventKeyFormatValid:()=>we,isSessionEnded:()=>pt,location:()=>re,logEvent:()=>$t,logMetric:()=>Ht,logPageView:()=>on,logTrace:()=>Rn,markNTBT:()=>tn,markStep:()=>nn,markStepOnce:()=>rn,onVisibilityChange:()=>ln,optIn:()=>En,optOut:()=>Sn,perfMark:()=>Wn,persistentData:()=>oe,postMessage:()=>K,recordSessionDuration:()=>pn,removeFromIdentifyFlow:()=>Ee,savePersistentData:()=>st,sendScheduledEvents:()=>Bt,setBreadcrumbs:()=>ie,setConfig:()=>U,setLocation:()=>ae,setPagePath:()=>ve,setPageview:()=>Kt,setPersistentData:()=>se,setSessionStart:()=>dt,setTime:()=>Ue,startPerfMark:()=>Hn,timeStone:()=>Le,useEventLogger:()=>Yn,useLogEventOnMount:()=>tr,usePerformanceMarks:()=>rr});let e=function(e){return e.fbclid="fbclid",e.gclid="gclid",e.msclkid="msclkid",e.ptclid="ptclid",e.ttclid="ttclid",e.utm_source="utm_source",e.utm_medium="utm_medium",e.utm_campaign="utm_campaign",e.utm_term="utm_term",e.utm_content="utm_content",e}({});const t=0,i=1,a=2,o=3,s=4,c=5,u=6;let l=function(e){return e.low="low",e.high="high",e}({}),d=function(e){return e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram",e}({}),p=function(e){return e.commerce_merchant="commerce_merchant",e.device="device",e.edp_fingerprint_id="edp_fingerprint_id",e.nft_user="nft_user",e.user="user",e.wallet_user="wallet_user",e.uuid="user_uuid",e}({}),m=function(e){return e.unknown="unknown",e.banner="banner",e.button="button",e.card="card",e.chart="chart",e.content_script="content_script",e.dropdown="dropdown",e.link="link",e.page="page",e.modal="modal",e.table="table",e.search_bar="search_bar",e.service_worker="service_worker",e.text="text",e.text_input="text_input",e.tray="tray",e.checkbox="checkbox",e.icon="icon",e}({}),f=function(e){return e.unknown="unknown",e.blur="blur",e.click="click",e.change="change",e.dismiss="dismiss",e.focus="focus",e.hover="hover",e.select="select",e.measurement="measurement",e.move="move",e.process="process",e.render="render",e.scroll="scroll",e.view="view",e.search="search",e.keyPress="keyPress",e}({}),v=function(e){return e.unknown="unknown",e.web="web",e.android="android",e.ios="ios",e.mobile_web="mobile_web",e.tablet_web="tablet_web",e.server="server",e.windows="windows",e.macos="macos",e.extension="extension",e}({}),g=function(e){return e.web="Web",e.ios="iOS",e.android="Android",e}({}),b=function(e){return e[e.notLoggedIn=0]="notLoggedIn",e[e.loggedIn=1]="loggedIn",e}({}),h=function(e){return e.ac="ac",e.af="af",e.ah="ah",e.al="al",e.am="am",e.ar="ar",e.as="as",e}({}),w=function(e){return e.pv="pv",e}({}),y=function(e){return e.xs="xs",e.s="s",e.m="m",e.l="l",e.xl="xl",e.xxl="xxl",e}({});const T="https://analytics-service-dev.cbhq.net",k=3e5,_=5e3,S="analytics-db",E="experiment-exposure-db",x="Analytics SDK:",O=Object.values(e),j="pageview",N="session_duration",I={navigationTiming:{eventName:"perf_navigation_timing"},redirectTime:{eventName:"perf_redirect_time"},RT:{eventName:"perf_redirect_time"},TTFB:{eventName:"perf_time_to_first_byte"},networkInformation:{eventName:"perf_network_information"},storageEstimate:{eventName:"perf_storage_estimate"},FCP:{eventName:"perf_first_contentful_paint"},FID:{eventName:"perf_first_input_delay"},LCP:{eventName:"perf_largest_contentful_paint"},CLS:{eventName:"perf_cumulative_layout_shift"},TBT:{eventName:"perf_total_blocking_time"},NTBT:{eventName:"perf_navigation_total_blocking_time"},INP:{eventName:"perf_interact_to_next_paint"},ET:{eventName:"perf_element_timing"},userJourneyStep:{eventName:"perf_user_journey_step"}},P="1",M="web";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const C=/^(https?:\\/\\/)/;function D(e){return{eventsEndpoint:e+"/amp",metricsEndPoint:e+"/metrics",exposureEndpoint:e+"/track-exposures",tracesEndpoint:e+"/traces"}}const A=B({authCookie:"logged_in",amplitudeApiKey:"",batchEventsPeriod:_,batchEventsThreshold:30,batchMetricsPeriod:_,batchMetricsThreshold:30,batchTracesPeriod:_,batchTracesThreshold:30,headers:{},interactionManager:null,isAlwaysAuthed:!1,isProd:!1,isInternalApplication:!1,onError:(e,t)=>{console.error(x,e,t)},platform:v.unknown,projectName:"",ricTimeoutScheduleEvent:1e3,ricTimeoutSetDevice:500,showDebugLogging:!1,trackUserId:!1,version:null,apiEndpoint:T},D(T),{steps:{}}),L=[].reduce(((e,t)=>n=>e(t(n))),(e=>{if(!e.isProd)return e.isInternalApplication?(e.apiEndpoint="https://analytics-service-internal-dev.cbhq.net",B({},e,D(e.apiEndpoint))):e;const t=(e=>e.apiEndpoint?C.test(e.apiEndpoint)?e.apiEndpoint:`https://${e.apiEndpoint}`:e.isInternalApplication?"https://analytics-service-internal.cbhq.net":"https://as.coinbase.com")(e);return B({},e,{apiEndpoint:t},D(t))})),U=e=>{const{batchEventsThreshold:t,batchMetricsThreshold:n,batchTracesThreshold:r}=e,i=[t,n,r];for(const e of i)if((e||0)>30){console.warn("You are setting the threshhold for the batch limit to be greater than 30. This may cause request overload.");break}Object.assign(A,L(e))},R=[v.web,v.mobile_web,v.tablet_web];function q(){return"android"===A.platform}function F(){return"ios"===A.platform}function z(){return R.includes(A.platform)}function K(e){if(z()&&navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.controller)try{navigator.serviceWorker.controller.postMessage(e)}catch(e){e instanceof Error&&A.onError(e)}}var $=n(353),Q=n.n($);const W={amplitudeOSName:null,amplitudeOSVersion:null,amplitudeDeviceModel:null,amplitudePlatform:null,browserName:null,browserMajor:null,osName:null,userAgent:null,width:null,height:null},H={countryCode:null,deviceId:null,device_os:null,isOptOut:!1,languageCode:null,locale:null,jwt:null,session_lcc_id:null,userAgent:null,userId:null},V=e=>e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,V),J=()=>A.isAlwaysAuthed||!!H.userId,X=()=>{const e={};return H.countryCode&&(e.country_code=H.countryCode),e},G=()=>{const{platform:e}=A;if(e===v.web)switch(!0){case window.matchMedia("(max-width: 560px)").matches:return v.mobile_web;case window.matchMedia("(max-width: 1024px, min-width: 561px)").matches:return v.tablet_web}return e},Z=()=>{var e,t,n,r,i;z()?("requestIdleCallback"in window?window.requestIdleCallback(ne,{timeout:A.ricTimeoutSetDevice}):ne(),W.amplitudePlatform=g.web,W.userAgent=(null==(e=window)||null==(e=e.navigator)?void 0:e.userAgent)||null,ee({height:null!=(t=null==(n=window)?void 0:n.innerHeight)?t:null,width:null!=(r=null==(i=window)?void 0:i.innerWidth)?r:null})):F()?(W.amplitudePlatform=g.ios,W.userAgent=H.userAgent,W.userAgent&&ne()):q()&&(W.userAgent=H.userAgent,W.amplitudePlatform=g.android,W.userAgent&&ne())},Y=e=>{Object.assign(H,e),z()&&K({identity:{isAuthed:!!H.userId,locale:H.locale||null}})},ee=e=>{W.height=e.height,W.width=e.width},te=()=>{U({platform:G()}),z()&&K({config:{platform:A.platform}})},ne=()=>{var e;performance.mark&&performance.mark("ua_parser_start");const t=new(Q())(null!=(e=W.userAgent)?e:"").getResult();W.browserName=t.browser.name||null,W.browserMajor=t.browser.major||null,W.osName=t.os.name||null,W.amplitudeOSName=W.browserName,W.amplitudeOSVersion=W.browserMajor,W.amplitudeDeviceModel=W.osName,K({device:{browserName:W.browserName,osName:W.osName}}),performance.mark&&(performance.mark("ua_parser_end"),performance.measure("ua_parser","ua_parser_start","ua_parser_end"))},re={breadcrumbs:[],initialUAAData:{},pageKey:"",pageKeyRegex:{},pagePath:"",prevPageKey:"",prevPagePath:""};function ie(e){Object.assign(re,{breadcrumbs:e})}function ae(e){Object.assign(re,e)}const oe={eventId:0,sequenceNumber:0,sessionId:0,lastEventTime:0,sessionStart:0,sessionUUID:null,userId:null,ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0};function se(e){Object.assign(oe,e)}function ce(){var e,t;return null!=(e=null==(t=document)?void 0:t.referrer)?e:""}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}const le=()=>{const e=ce();if(!e)return{};const t=new URL(e);return t.hostname===pe()?{}:{referrer:e,referring_domain:t.hostname}},de=()=>{const e=new URLSearchParams(me()),t={};return O.forEach((n=>{e.has(n)&&(t[n]=(e.get(n)||"").toLowerCase())})),t},pe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.hostname)||""},me=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.search)||""},fe=()=>{var e;return(null==(e=window)||null==(e=e.location)?void 0:e.pathname)||""},ve=()=>{const e=A.overrideWindowLocation?re.pagePath:fe()+me();e&&e!==re.pagePath&&(e!==re.pagePath&&ge(),re.pagePath=e,re.pageKeyRegex&&Object.keys(re.pageKeyRegex).some((e=>{if(re.pageKeyRegex[e].test(re.pagePath))return re.pageKey=e,!0})))},ge=()=>{if(z()){const e=ce();if(!re.prevPagePath&&e){const t=new URL(e);if(t.hostname===pe())return void(re.prevPagePath=t.pathname)}}re.prevPagePath=re.pagePath,re.prevPageKey=re.pageKey},be=e=>{z()&&Object.assign(e,z()?(Object.keys(re.initialUAAData).length>0||(new URLSearchParams(me()),re.initialUAAData=ue({},(()=>{const e={};return O.forEach((t=>{oe[t]&&(e[t]=oe[t])})),e})(),de(),le())),re.initialUAAData):re.initialUAAData)},he=/^[a-zd]+(_[a-zd]+)*$/;function we(e){return he.test(e)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const Te=["action","component_type","component_name","context","logging_id"],ke=["num_non_hardware_accounts","ujs"],_e="ujs_",Se={};function Ee(e){e.forEach((e=>{ke.includes(e)&&delete Se[e]}))}function xe(e){var t;const n=Object.entries(e).reduce(((e,t)=>{const[n,r]=t;return!Te.includes(n)&&ke.includes(n)?we(n)?ye({},e,{[n]:r}):(A.onError(new Error("IdentityFlow property names must have snake case format"),{[n]:r}),e):e}),{});null!=(t=n.ujs)&&t.length&&(n.ujs=n.ujs.map((e=>`${_e}${e}`))),Object.assign(Se,n)}function Oe(){return A.platform!==v.unknown||(A.onError(new Error("SDK platform not initialized")),!1)}const je={eventsQueue:[],eventsScheduled:!1,metricsQueue:[],metricsScheduled:!1,tracesQueue:[],tracesScheduled:!1};function Ne(e){Object.assign(je,e)}const Ie={ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0},Pe={ac:20,af:5,ah:1,al:1,am:0,ar:10,as:20},Me={pv:25},Be={xs:0,s:1,m:1,l:2,xl:2,xxl:2},Ce=e=>e<15?y.xs:e<60?y.s:e<240?y.m:e<960?y.l:e<3840?y.xl:y.xxl,De=e=>{Object.assign(Ie,e)};function Ae(){return(new Date).getTime()}const Le={timeStart:Ae(),timeOnPagePath:0,timeOnPageKey:0,prevTimeOnPagePath:0,prevTimeOnPageKey:0,sessionDuration:0,sessionEnd:0,sessionStart:0,prevSessionDuration:0};function Ue(e){Object.assign(Le,e)}const Re=(e,t)=>t.some((t=>e instanceof t));let qe,Fe;const ze=new WeakMap,Ke=new WeakMap,$e=new WeakMap,Qe=new WeakMap,We=new WeakMap;let He={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ke.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$e.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Je(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Xe(this),e),Je(ze.get(this))}:function(...e){return Je(t.apply(Xe(this),e))}:function(e,...n){const r=t.call(Xe(this),e,...n);return $e.set(r,e.sort?e.sort():[e]),Je(r)}:(e instanceof IDBTransaction&&function(e){if(Ke.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ke.set(e,t)}(e),Re(e,qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,He):e);var t}function Je(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Je(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ze.set(t,e)})).catch((()=>{})),We.set(t,e),t}(e);if(Qe.has(e))return Qe.get(e);const t=Ve(e);return t!==e&&(Qe.set(e,t),We.set(t,e)),t}const Xe=e=>We.get(e),Ge=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],Ye=new Map;function et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ye.get(t))return Ye.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ge.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Ye.set(t,a),a}var tt;tt=He,He={...tt,get:(e,t,n)=>et(e,t)||tt.get(e,t,n),has:(e,t)=>!!et(e,t)||tt.has(e,t)};const nt={isReady:!1,idbKeyval:null};function rt(e){Object.assign(nt,e)}const it={},at=async e=>{if(!nt.idbKeyval)return Promise.resolve(null);try{return await nt.idbKeyval.get(e)}catch(e){return A.onError(new Error("IndexedDB:Get:InternalError")),Promise.resolve(null)}},ot=async(e,t)=>{if(nt.idbKeyval)try{await nt.idbKeyval.set(e,t)}catch(e){A.onError(new Error("IndexedDB:Set:InternalError"))}},st=()=>{"server"!==A.platform&&(se({sessionStart:Le.sessionStart,ac:Ie.ac,af:Ie.af,ah:Ie.ah,al:Ie.al,am:Ie.am,ar:Ie.ar,as:Ie.as,pv:Ie.pv}),H.userId&&se({userId:H.userId}),ot(S,oe))},ct="rgb(5,177,105)",ut=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`%c ${x}`,a=`color:${ct};font-size:11px;`,o=`Importance: ${r}`;console.group(i,a,t,o),n.forEach((e=>{e.event_type?console.log(e.event_type,e):console.log(e)})),console.groupEnd()},lt=e=>{const{metricName:t,data:n}=e,r=e.importance||l.low;if(!A.showDebugLogging||!console)return;const i=`color:${ct};font-size:11px;`,a=`%c ${x}`,o=`Importance: ${r}`;console.log(a,i,t,n,o)},dt=()=>{const e=Ae();oe.sessionId&&oe.lastEventTime&&oe.sessionUUID&&!pt(e)||(oe.sessionId=e,oe.sessionUUID=V(),Ue({sessionStart:e}),lt({metricName:"Started new session:",data:{persistentData:oe,timeStone:Le}})),oe.lastEventTime=e},pt=e=>e-oe.lastEventTime>18e5;function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const ft=e=>{var t;(e=>{switch(e.action){case f.click:Ie.ac+=1;break;case f.focus:Ie.af+=1;break;case f.hover:Ie.ah+=1;break;case f.move:Ie.am+=1;break;case f.scroll:Ie.al+=1;break;case f.search:Ie.ar+=1;break;case f.select:Ie.as+=1}})(t=e),t.event_type!==j?t.event_type===N&&((e=>{if(!e.session_rank)return;const t=e.session_rank;Object.values(h).forEach((e=>{Ie.sqs+=Ie[e]*Pe[e]})),Object.values(w).forEach((e=>{Ie.sqs+=Ie[e]*Me[e]})),Ie.sqs*=Be[t]})(t),Object.assign(t,Ie),De({ac:0,af:0,ah:0,al:0,am:0,ar:0,as:0,pv:0,sqs:0})):Ie.pv+=1;const n=e.event_type;delete e.event_type;const r=e.deviceId?e.deviceId:null,i=e.timestamp;return delete e.timestamp,se({eventId:oe.eventId+1}),se({sequenceNumber:oe.sequenceNumber+1}),dt(),st(),{device_id:H.deviceId||r||null,user_id:H.userId,timestamp:i,event_id:oe.eventId,session_id:oe.sessionId||-1,event_type:n,version_name:A.version||null,platform:W.amplitudePlatform,os_name:W.amplitudeOSName,os_version:W.amplitudeOSVersion,device_model:W.amplitudeDeviceModel,language:H.languageCode,event_properties:mt({},e,{session_uuid:oe.sessionUUID,height:W.height,width:W.width}),user_properties:X(),uuid:V(),library:{name:"@cbhq/client-analytics",version:"10.6.0"},sequence_number:oe.sequenceNumber,user_agent:W.userAgent||H.userAgent}},vt=e=>e.map((e=>ft(e)));function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}const bt=e=>e.map((e=>(e=>{const t=e.tags||{},n=gt({authed:J()?"true":"false",platform:A.platform},t,{project_name:A.projectName,version_name:A.version||null});return{metric_name:e.metricName,page_path:e.pagePath||null,value:e.value,tags:n,type:e.metricType}})(e))),ht=e=>0!==je.metricsQueue.length&&(je.metricsQueue.length>=A.batchMetricsThreshold||(je.metricsScheduled||(je.metricsScheduled=!0,setTimeout((()=>{je.metricsScheduled=!1,e(bt(je.metricsQueue)),je.metricsQueue=[]}),A.batchMetricsPeriod)),!1)),wt=e=>0!==je.tracesQueue.length&&(je.tracesQueue.length>=A.batchTracesThreshold||(je.tracesScheduled||(je.tracesScheduled=!0,setTimeout((()=>{je.tracesScheduled=!1,e(je.tracesQueue),je.tracesQueue=[]}),A.batchTracesPeriod)),!1)),yt=e=>{var t;z()&&null!=(t=window)&&t.requestIdleCallback?window.requestIdleCallback(e,{timeout:A.ricTimeoutScheduleEvent}):(q()||F())&&A.interactionManager?A.interactionManager.runAfterInteractions(e):e()};function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}const kt="application/x-www-form-urlencoded; charset=UTF-8",_t=e=>{const{data:t,importance:n,isJSON:r,onError:i,url:a}=e,o=r?"application/json":kt,s=n||l.low,c=r?JSON.stringify(t):new URLSearchParams(t).toString();function u(){const e=new XMLHttpRequest;e.open("POST",a,!0),Object.keys(A.headers||{}).forEach((t=>{e.setRequestHeader(t,A.headers[t])})),e.setRequestHeader("Content-Type",kt),H.jwt&&e.setRequestHeader("authorization",`Bearer ${H.jwt}`),e.send(c)}if(!z()||r||!("sendBeacon"in navigator)||s!==l.low||A.headers&&0!==Object.keys(A.headers).length)if(z()&&!r)u();else{const e=Tt({},A.headers,{"Content-Type":o});H.jwt&&(e.Authorization=`Bearer ${H.jwt}`),fetch(a,{method:"POST",mode:"no-cors",headers:e,body:c}).catch((e=>{i(e,{context:"AnalyticsSDKApiError"})}))}else{const e=new Blob([c],{type:kt});try{navigator.sendBeacon.bind(navigator)(a,e)||u()}catch(e){console.error(e),u()}}};var St=n(762),Et=n.n(St);const xt=(e,t,n)=>{const r=e||"";return Et()("2"+r+t+n)};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}class jt extends Error{constructor(e){super(e),this.name="CircularJsonReference",this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}}class Nt extends jt{constructor(...e){super(...e),this.name="DomReferenceInAnalyticsEvent"}}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}const Pt=(e,t=l.low)=>{var n;e&&je.eventsQueue.push(e),nt.isReady&&(!A.trackUserId||H.userId?(t===l.high||(n=Mt,0!==je.eventsQueue.length&&(je.eventsQueue.length>=A.batchEventsThreshold||(je.eventsScheduled||(je.eventsScheduled=!0,setTimeout((()=>{je.eventsScheduled=!1,n(vt(je.eventsQueue)),je.eventsQueue=[]}),A.batchEventsPeriod)),0))))&&Bt():je.eventsQueue.length>10&&(A.trackUserId=!1,A.onError(new Error("userId not set in Logged-in"))))},Mt=(e,t=l.low)=>{if(H.isOptOut||0===e.length)return;let n;try{n=JSON.stringify(e)}catch(t){const r=e.map((e=>e.event_type)).join(", "),[i,a]=(e=>{try{const n=[];for(const r of e){const e=Ot({},r);r.event_properties&&(e.event_properties=Ot({},e.event_properties,{currentTarget:null,target:null,relatedTarget:null,_dispatchInstances:null,_targetInst:null,view:(t=r.event_properties.view,["string","number","boolean"].includes(typeof t)?r.event_properties.view:null)})),n.push(e)}return[!0,JSON.stringify(n)]}catch(e){return[!1,""]}var t})(e);if(!i)return void A.onError(new jt(t instanceof Error?t.message:"unknown"),{listEventType:r});n=a,A.onError(new Nt("Found DOM element reference"),{listEventType:r,stringifiedEventData:n})}const r=Ae().toString(),i=It({},{e:n,v:"2",upload_time:r},{client:A.amplitudeApiKey,checksum:xt(A.amplitudeApiKey,n,r)});_t({url:A.eventsEndpoint,data:i,importance:t,onError:A.onError}),ut({metricName:"Batch Events",data:e,importance:t})},Bt=()=>{Mt(vt(je.eventsQueue)),Ne({eventsQueue:[]})};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}const Dt=Object.values(f),At=Object.values(m),Lt=e=>Dt.includes(e)?e:f.unknown,Ut=e=>At.includes(e)?e:m.unknown,Rt=(e,t,n)=>{const r={auth:J()?b.loggedIn:b.notLoggedIn,action:Lt(e),component_type:Ut(t),logging_id:n,platform:A.platform,project_name:A.projectName};return"number"==typeof H.userTypeEnum&&(r.user_type_enum=H.userTypeEnum),r},qt=e=>{const t=Ae();if(!e)return A.onError(new Error("missing logData")),Ct({},Rt(f.unknown,m.unknown),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});const n=Ct({},e,Rt(e.action,e.componentType,e.loggingId),{locale:H.locale,session_lcc_id:H.session_lcc_id,timestamp:t,time_start:Le.timeStart});return delete n.componentType,delete n.loggingId,n},Ft={blacklistRegex:[],isEnabled:!1};function zt(){return{page_key:re.pageKey,page_path:re.pagePath,prev_page_key:re.prevPageKey,prev_page_path:re.prevPagePath}}function Kt(e){Object.assign(Ft,e)}function $t(e,t,n=l.low){if(H.isOptOut)return;if(!Oe())return;const r=qt(t);!function(e){Ft.isEnabled&&(ve(),Object.assign(e,zt()))}(r),be(r),function(e){Object.keys(Se).length>0&&Object.assign(e,Se)}(r),r.has_double_fired=!1,r.event_type=e,n===l.high?Pt(r,n):yt((()=>{Pt(r)}))}function Qt(e,t=!1){t?_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.metricsEndPoint,data:{metrics:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Metrics",data:e})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e){if(!Oe())return;v.server!==A.platform&&!e.pagePath&&re.pagePath&&(e.pagePath=re.pagePath);const t=Object.keys(Se).length?Wt({},e.tags,Se):e.tags;t&&Object.assign(e,{tags:t}),je.metricsQueue.push(e),ht(Qt)&&(Qt(bt(je.metricsQueue)),je.metricsQueue=[])}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}let Jt=function(e){return e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable",e}({});function Xt(e){return e.toLowerCase()}let Gt={};const Zt=(e,t)=>{null!=A&&A.onMarkStep&&A.onMarkStep(e,t),xe({ujs:t})};let Yt;const en={Perfume:()=>{},markStep:e=>{},markStepOnce:e=>{},incrementUjNavigation:()=>{}},tn=()=>{z()&&Yt&&Yt.markNTBT&&Yt.markNTBT()},nn=e=>{z()&&Yt&&en.markStep&&en.markStep(e)},rn=e=>{z()&&Yt&&en.markStepOnce&&en.markStepOnce(e)},an=()=>{z()&&Yt&&en.incrementUjNavigation&&en.incrementUjNavigation()};function on(e={callMarkNTBT:!0}){"unknown"!==A.platform&&(Ft.blacklistRegex.some((e=>e.test(fe())))||($t(j,{action:f.render,componentType:m.page}),e.callMarkNTBT&&tn()))}let sn=!1,cn=!1;const un=e=>{sn=!e.persisted},ln=(e,t="hidden",n=!1)=>{cn||(addEventListener("pagehide",un),addEventListener("beforeunload",(()=>{})),cn=!0),addEventListener("visibilitychange",(({timeStamp:n})=>{document.visibilityState===t&&e({timeStamp:n,isUnloading:sn})}),{capture:!0,once:n})},dn=36e3;function pn(){const e=pt(Ae());if(e&&(O.forEach((e=>{oe[e]&&delete oe[e]})),st()),!oe.lastEventTime||!Le.sessionStart||!e)return;const t=Math.round((oe.lastEventTime-Le.sessionStart)/1e3);if(t<1||t>dn)return;const n=Ce(t);$t(N,{action:f.measurement,componentType:m.page,session_duration:t,session_end:oe.lastEventTime,session_start:Le.sessionStart,session_rank:n})}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}const fn=[],vn=[],gn=()=>{const e=fn.shift();e&&e()},bn=()=>{const e=vn.shift();e&&e()};let hn={};function wn(e){const t=function(e){return{test_name:e.testName,group_name:e.group,subject_id:e.subjectId,exposed_at:Ae(),subject_type:e.subjectType,platform:A.platform}}(e);hn[e.testName]=hn[e.testName]||0,hn[e.testName]+k>Ae()?lt({metricName:`Event: exposeExperiment ${e.testName} not sent`,data:t}):(hn[e.testName]=Ae(),ot(E,hn),lt({metricName:`Event: exposeExperiment ${e.testName} sent`,data:t}),_t({url:A.exposureEndpoint,data:[t],onError:(t,n)=>{hn[e.testName]=0,ot(E,hn),A.onError(t,n)},isJSON:!0,importance:l.high}))}const yn=e=>{var t,r,i;U(e),z()&&(H.languageCode=(null==(t=navigator)?void 0:t.languages[0])||(null==(r=navigator)?void 0:r.language)||""),te(),(()=>{var e;if(z()&&null!=(e=window)&&e.indexedDB){const e=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Je(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Je(o.result),e.oldVersion,e.newVersion,Je(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("keyval-store",1,{upgrade(e){e.createObjectStore("keyval")}});rt({idbKeyval:{get:async t=>(await e).get("keyval",t),set:async(t,n)=>(await e).put("keyval",n,t),delete:async t=>(await e).delete("keyval",t),keys:async()=>(await e).getAllKeys("keyval")}})}else rt({idbKeyval:{get:async e=>new Promise((t=>{t(it[e])})),set:async(e,t)=>new Promise((n=>{it[e]=t,n(e)})),delete:async e=>new Promise((()=>{delete it[e]})),keys:async()=>new Promise((e=>{e(Object.keys(it))}))}})})(),lt({metricName:"Initialized Analytics:",data:{deviceId:H.deviceId}}),fn.push((()=>{Pt()})),(async()=>{const e=await at(S);rt({isReady:!0}),gn(),e&&(bn(),se({eventId:e.eventId||oe.eventId,sequenceNumber:e.sequenceNumber||oe.sequenceNumber,sessionId:e.sessionId||oe.sessionId,lastEventTime:e.lastEventTime||oe.lastEventTime,sessionUUID:e.sessionUUID||oe.sessionUUID}),function(e){se(mn({},function(e){const t={};return O.forEach((n=>{e[n]&&(t[n]=e[n])})),t}(e),de()))}(e),Ue({sessionStart:e.sessionStart||oe.sessionStart}),De({ac:e.ac||Ie.ac,af:e.af||Ie.af,ah:e.ah||Ie.ah,al:e.al||Ie.al,am:e.am||Ie.am,ar:e.ar||Ie.ar,as:e.as||Ie.as,pv:e.pv||Ie.pv}),A.trackUserId&&Y({userId:e.userId||H.userId}),pn(),lt({metricName:"Initialized Analytics IndexedDB:",data:e}))})(),async function(){at(E).then((e=>{hn=null!=e?e:{}})).catch((e=>{e instanceof Error&&A.onError(e)}))}(),Z(),z()&&(ln((()=>{se({lastEventTime:Ae()}),st(),Bt()}),"hidden"),ln((()=>{pn()}),"visible")),z()&&(i=()=>{var e,t,n,r;te(),ee({width:null!=(e=null==(t=window)?void 0:t.innerWidth)?e:null,height:null!=(n=null==(r=window)?void 0:r.innerHeight)?n:null})},addEventListener("resize",(()=>{requestAnimationFrame((()=>{i()}))}))),(()=>{if(z())try{const e=n(2);en.markStep=e.markStep,en.markStepOnce=e.markStepOnce,en.incrementUjNavigation=e.incrementUjNavigation,Yt=new e.Perfume({analyticsTracker:e=>{const{data:t,attribution:n,metricName:r,navigatorInformation:i,rating:a}=e,o=I[r],s=(null==n?void 0:n.category)||null;if(!o&&!s)return;const c=(null==i?void 0:i.deviceMemory)||0,u=(null==i?void 0:i.hardwareConcurrency)||0,l=(null==i?void 0:i.isLowEndDevice)||!1,p=(null==i?void 0:i.isLowEndExperience)||!1,v=(null==i?void 0:i.serviceWorkerStatus)||"unsupported",g=Vt({deviceMemory:c,hardwareConcurrency:u,isLowEndDevice:l,isLowEndExperience:p,serviceWorkerStatus:v},Gt),b={is_low_end_device:l,is_low_end_experience:p,page_key:re.pageKey||"",save_data:t.saveData||!1,service_worker:v,is_perf_metric:!0};if("navigationTiming"===r)t&&"number"==typeof t.redirectTime&&Ht({metricName:I.redirectTime.eventName,metricType:d.histogram,tags:b,value:t.redirectTime||0});else if("TTFB"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),Ht({metricName:I.TTFB.eventName,metricType:d.histogram,tags:Vt({},b),value:t}),a&&Ht({metricName:`perf_web_vitals_ttfb_${a}`,metricType:d.count,tags:b,value:1});else if("networkInformation"===r)null!=t&&t.effectiveType&&(Gt=t,$t(o.eventName,{action:f.measurement,componentType:m.page,networkInformationDownlink:t.downlink,networkInformationEffectiveType:t.effectiveType,networkInformationRtt:t.rtt,networkInformationSaveData:t.saveData,navigatorDeviceMemory:c,navigatorHardwareConcurrency:u}));else if("storageEstimate"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page},t,g)),Ht({metricName:"perf_storage_estimate_caches",metricType:d.histogram,tags:b,value:t.caches}),Ht({metricName:"perf_storage_estimate_indexed_db",metricType:d.histogram,tags:b,value:t.indexedDB});else if("CLS"===r)$t(o.eventName,Vt({action:f.measurement,componentType:m.page,score:100*t||null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_cls_${a}`,metricType:d.count,tags:b,value:1});else if("FID"===r){const e=(null==n?void 0:n.performanceEntry)||null,r=parseInt((null==e?void 0:e.processingStart)||"");$t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,processingStart:null!=e&&e.processingStart?r:null,startTime:null!=e&&e.startTime?parseInt(e.startTime):null,vitalsScore:a||null},g)),a&&Ht({metricName:`perf_web_vitals_fidVitals_${a}`,metricType:d.count,tags:b,value:1})}else"userJourneyStep"===r?($t("perf_user_journey_step",Vt({action:f.measurement,componentType:m.page,duration:t||null,rating:null!=a?a:null,step_name:(null==n?void 0:n.stepName)||""},g)),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}_vitals_${a}`,metricType:d.count,tags:b,value:1}),Ht({metricName:`user_journey_step.${A.projectName}.${A.platform}.${(null==n?void 0:n.stepName)||""}`,metricType:d.distribution,tags:b,value:t||null})):I[r]&&t&&($t(o.eventName,Vt({action:f.measurement,componentType:m.page,duration:t||null,vitalsScore:a||null},g)),a&&(Ht({metricName:`perf_web_vitals_${Xt(r)}_${a}`,metricType:d.count,tags:b,value:1}),"LCP"===r&&Ht({metricName:`perf_web_vitals_${Xt(r)}`,metricType:d.distribution,tags:b,value:t})))},maxMeasureTime:3e4,steps:A.steps,onMarkStep:Zt})}catch(e){e instanceof Error&&A.onError(e)}})()},Tn=e=>{Y(e),e.userAgent&&Z(),lt({metricName:"Identify:",data:{countryCode:H.countryCode,deviceId:H.deviceId,userId:H.userId}})},kn=({blacklistRegex:e,pageKeyRegex:t,browserHistory:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.listen((()=>{on()}))},_n=({blacklistRegex:e,pageKeyRegex:t,nextJsRouter:n})=>{Kt({blacklistRegex:e||[],isEnabled:!0}),ae({pageKeyRegex:t}),on({callMarkNTBT:!1}),n.events.on("routeChangeComplete",(()=>{on()}))},Sn=()=>{Y({isOptOut:!0}),ot(S,{})},En=()=>{Y({isOptOut:!1})},xn={Button:{label:"cb_button",uuid:"e921a074-40e6-4371-8700-134d5cd633e6",componentType:m.button}};function On(e,t,n){return{componentName:e,actions:t,data:n}}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Nn(e,t,n){const{componentName:r,data:i}=n;$t(e.label,jn({componentType:e.componentType,action:t,loggingId:e.uuid,component_name:r},i))}const In={actionMapping:{onPress:f.click,onHover:f.hover},handlers:{Button:{[f.click]:e=>Nn(xn.Button,f.click,e),[f.hover]:e=>Nn(xn.Button,f.hover,e)}}};function Pn(e,t=!1){t?_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError}):yt((()=>{_t({url:A.tracesEndpoint,data:{traces:e},isJSON:!0,onError:A.onError})})),ut({metricName:"Batch Traces",data:e})}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}const Bn=1e6;function Cn(e){return e*Bn}function Dn(e=function(){var e;return null==(e=window)?void 0:e.crypto}()){const t=new Uint32Array(2);return null==e||e.getRandomValues(t),((BigInt(t[0])<<BigInt(32))+BigInt(t[1])).toString()}function An(e,t){return{"x-datadog-origin":"rum","x-datadog-parent-id":t,"x-datadog-sampling-priority":"1","x-datadog-trace-id":e}}function Ln(e){var t;const{name:n,traceId:r,spanId:i,start:a,duration:o,resource:s,meta:c}=e;return{duration:o?Cn(o):0,name:n,resource:s,service:A.projectName,span_id:null!=i?i:Dn(),start:a?Cn(a):0,trace_id:null!=r?r:Dn(),parent_id:P,type:M,meta:Mn({platform:A.platform},re.pageKey?{page_key:re.pageKey}:{},null!=(t=Se.ujs)&&t.length?{last_ujs:Se.ujs[Se.ujs.length-1]}:{},null!=c?c:{})}}function Un(e){return[Ln(e)]}function Rn(e,t){Oe()&&function(e){return e.length>0}(e)&&(t&&function(e,t){e.forEach((e=>function(e,t){const n=Mn({},e.meta,t.meta),r={start:t.start?Cn(t.start):e.start,duration:t.duration?Cn(t.duration):e.duration};Object.assign(e,t,Mn({meta:n},r))}(e,t)))}(e,t),je.tracesQueue.push(e),wt(Pn)&&(Pn(je.tracesQueue),je.tracesQueue=[]))}function qn(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function zn(){return void 0!==typeof window&&"performance"in window&&"mark"in performance&&"getEntriesByName"in performance}function Kn(e,t){return`perf_${e}${null!=t&&t.label?`_${t.label}`:""}`}function $n(e,t,n){return`${Kn(e,n)}__${t}`}let Qn={};function Wn(e,t,n){if(!zn())return;const r=$n(e,t,n);if(performance.mark(r),"end"===t){const t=Kn(e,n);!function(e,t,n){try{performance.measure(e,t,n)}catch(e){A.onError(e)}}(t,$n(e,"start",n),r);const i=performance.getEntriesByName(t).pop();i&&Ht(Fn({metricName:e,metricType:d.distribution,value:i.duration},null!=n&&n.tags?{tags:n.tags}:{}))}}function Hn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]||(Wn(e,"start",t),Qn[n]=!0)}function Vn(e,t){const n=$n(e,"start",t),r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(Qn,[n].map(qn));Qn=r}function Jn(e,t){if(!zn())return;const n=$n(e,"start",t);Qn[n]&&(Wn(e,"end",t),Vn(e,t))}function Xn(){zn()&&(performance.clearMarks(),Qn={})}var Gn=n(784);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Yn(e,t,n=l.low){const r=(0,Gn.useRef)(t);return(0,Gn.useEffect)((()=>{r.current=t}),[t]),(0,Gn.useCallback)((t=>{$t(e,Zn({},r.current,t),n)}),[e,n])}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t,n=l.low){(0,Gn.useEffect)((()=>{const r=er({},t,{action:f.render});$t(e,r,n)}),[])}function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}const rr=function(e,t){return{markStartPerf:(0,Gn.useCallback)((()=>Hn(e,t)),[e,t]),markEndPerf:(0,Gn.useCallback)((n=>Jn(e,nr({},t,n))),[e,t])}};function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)}function ar(){return Object.entries(ir({},Se,zt(),{sessionUUID:oe.sessionUUID,userId:oe.userId})).reduce(((e,t)=>{return null!=(n=t[1])&&""!==n?ir({},e,{[t[0]]:t[1]}):e;var n}),{})}async function or(){return new Promise((e=>{Mt(vt(je.eventsQueue)),Qt(bt(je.metricsQueue),!0),Pn(je.tracesQueue,!0),Ne({eventsQueue:[],metricsQueue:[],tracesQueue:[]}),e()}))}function sr(){return{"X-CB-Device-ID":H.deviceId||"unknown","X-CB-Is-Logged-In":H.userId?"true":"false","X-CB-Pagekey":re.pageKey||"unknown","X-CB-UJS":(e=Se.ujs,void 0===e||0===e.length?"":e.join(",")),"X-CB-Platform":A.platform||"unknown","X-CB-Project-Name":A.projectName||"unknown","X-CB-Session-UUID":oe.sessionUUID||"unknown","X-CB-Version-Name":A.version?String(A.version):"unknown"};var e}})(),r})()}));',jHt=()=>new Promise((t,e)=>{if(window.ClientAnalytics)return t();try{const n=document.createElement("script");n.textContent=MHt,n.type="text/javascript",document.head.appendChild(n),BHt(),document.head.removeChild(n),t()}catch{console.error("Failed to execute inlined telemetry script"),e()}}),BHt=()=>{var t,e,n;if(typeof window<"u"){const r=(n=(t=ut.config.get().deviceId)!==null&&t!==void 0?t:(e=window.crypto)===null||e===void 0?void 0:e.randomUUID())!==null&&n!==void 0?n:"";if(window.ClientAnalytics){const{init:i,identify:s,PlatformName:o}=window.ClientAnalytics;i({isProd:!0,amplitudeApiKey:"c66737ad47ec354ced777935b0af822e",platform:o.web,projectName:"base_account_sdk",showDebugLogging:!1,version:"1.0.0",apiEndpoint:"https://cca-lite.coinbase.com"}),s({deviceId:r}),ut.config.set({deviceId:r})}}},DHt="0xba5ed110efdba3d005bfc882d75358acbbb85842",g7e="0xf85210B21cC50302F477BA56686d2019dC9b67Ad",Ih=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"owner",type:"bytes"}],name:"AlreadyOwner",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidEthereumAddressOwner",type:"error"},{inputs:[{name:"key",type:"uint256"}],name:"InvalidNonceKey",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidOwnerBytesLength",type:"error"},{inputs:[],name:"LastOwner",type:"error"},{inputs:[{name:"index",type:"uint256"}],name:"NoOwnerAtIndex",type:"error"},{inputs:[{name:"ownersRemaining",type:"uint256"}],name:"NotLastOwner",type:"error"},{inputs:[{name:"selector",type:"bytes4"}],name:"SelectorNotAllowed",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnauthorizedCallContext",type:"error"},{inputs:[],name:"UpgradeFailed",type:"error"},{inputs:[{name:"index",type:"uint256"},{name:"expectedOwner",type:"bytes"},{name:"actualOwner",type:"bytes"}],name:"WrongOwnerAtIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"REPLAYABLE_NONCE_KEY",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"addOwnerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"addOwnerPublicKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"functionSelector",type:"bytes4"}],name:"canSkipChainIdValidation",outputs:[{name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"calls",type:"bytes[]"}],name:"executeWithoutChainIdValidation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHashWithoutChainId",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"$",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"owners",type:"bytes[]"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"isOwnerAddress",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"bytes"}],name:"isOwnerBytes",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"isOwnerPublicKey",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOwnerIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"ownerAtIndex",outputs:[{name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeLastOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeOwnerAtIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"removedOwnersCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"}],name:"replaySafeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"newImplementation",type:"address"},{name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],m7e=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],as={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},MZ={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},y7e="Unspecified error message.",LHt="Unspecified server error.";function jZ(t,e=y7e){if(t&&Number.isInteger(t)){const n=t.toString();if(BZ(MZ,n))return MZ[n].message;if(w7e(t))return LHt}return e}function UHt(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(MZ[e]||w7e(t))}function FHt(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&BZ(t,"code")&&UHt(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,BZ(r,"data")&&(n.data=r.data)):(n.message=jZ(n.code),n.data={originalError:v7e(t)})}else n.code=as.rpc.internal,n.message=b7e(t,"message")?t.message:y7e,n.data={originalError:v7e(t)};return e&&(n.stack=b7e(t,"stack")?t.stack:void 0),n}function w7e(t){return t>=-32099&&t<=-32e3}function v7e(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function BZ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function b7e(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const vt={rpc:{parse:t=>gd(as.rpc.parse,t),invalidRequest:t=>gd(as.rpc.invalidRequest,t),invalidParams:t=>gd(as.rpc.invalidParams,t),methodNotFound:t=>gd(as.rpc.methodNotFound,t),internal:t=>gd(as.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return gd(e,t)},invalidInput:t=>gd(as.rpc.invalidInput,t),resourceNotFound:t=>gd(as.rpc.resourceNotFound,t),resourceUnavailable:t=>gd(as.rpc.resourceUnavailable,t),transactionRejected:t=>gd(as.rpc.transactionRejected,t),methodNotSupported:t=>gd(as.rpc.methodNotSupported,t),limitExceeded:t=>gd(as.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>p6(as.provider.userRejectedRequest,t),unauthorized:t=>p6(as.provider.unauthorized,t),unsupportedMethod:t=>p6(as.provider.unsupportedMethod,t),disconnected:t=>p6(as.provider.disconnected,t),chainDisconnected:t=>p6(as.provider.chainDisconnected,t),unsupportedChain:t=>p6(as.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new E7e(e,n,r)}}};function gd(t,e){const[n,r]=x7e(e);return new DZ(t,n||jZ(t),r)}function p6(t,e){const[n,r]=x7e(e);return new E7e(t,n||jZ(t),r)}function x7e(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class DZ extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class E7e extends DZ{constructor(e,n,r){if(!zHt(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function zHt(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function C7e(t){return typeof t=="object"&&t!==null&&"code"in t&&"data"in t&&t.code===-32090&&typeof t.data=="object"&&t.data!==null&&"type"in t.data&&t.data.type==="INSUFFICIENT_FUNDS"}function _7e(t){return typeof t=="object"&&t!==null&&"details"in t}function WHt(t){try{const e=JSON.parse(t.details);return new DZ(e.code,e.message,e.data)}catch{return null}}function md(t,e,n){if(t==null)throw e??vt.rpc.invalidParams({message:"value must be present",data:t})}function l1(t,e){if(!Array.isArray(t))throw vt.rpc.invalidParams({message:e??"value must be an array",data:t})}const qHt=`Base Account SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Base Account app.

Please see https://docs.base.org/smart-wallet/quickstart#cross-origin-opener-policy for more information.`,HHt=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(qHt)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:VHt,getCrossOriginOpenerPolicy:KHt}=HHt();function GHt(t){if(t){if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties");if(t.telemetry&&typeof t.telemetry!="boolean")throw new Error("Telemetry must be a boolean")}}function A7e(t){if(typeof t!="function")throw new Error("toAccount is not a function")}var ur;(function(t){t.unknown="unknown",t.banner="banner",t.button="button",t.card="card",t.chart="chart",t.content_script="content_script",t.dropdown="dropdown",t.link="link",t.page="page",t.modal="modal",t.table="table",t.search_bar="search_bar",t.service_worker="service_worker",t.text="text",t.text_input="text_input",t.tray="tray",t.checkbox="checkbox",t.icon="icon"})(ur||(ur={}));var dr;(function(t){t.unknown="unknown",t.blur="blur",t.click="click",t.change="change",t.dismiss="dismiss",t.focus="focus",t.hover="hover",t.select="select",t.measurement="measurement",t.move="move",t.process="process",t.render="render",t.scroll="scroll",t.view="view",t.search="search",t.keyPress="keyPress",t.error="error"})(dr||(dr={}));var hr;(function(t){t.low="low",t.high="high"})(hr||(hr={}));function xr(t,e,n){var r,i,s;window.ClientAnalytics&&((r=window.ClientAnalytics)===null||r===void 0||r.logEvent(t,Object.assign(Object.assign({},e),{sdkVersion:f6,sdkName:EN,appName:(s=(i=ut.config.get().metadata)===null||i===void 0?void 0:i.appName)!==null&&s!==void 0?s:"",appOrigin:window.location.origin}),n))}const ZHt=()=>{xr("communicator.popup_setup.started",{action:dr.unknown,componentType:ur.unknown},hr.high)},YHt=()=>{xr("communicator.popup_setup.completed",{action:dr.unknown,componentType:ur.unknown},hr.high)},JHt=()=>{xr("communicator.popup_unload.received",{action:dr.unknown,componentType:ur.unknown},hr.high)},LZ=({dialogContext:t})=>{xr(`dialog.${t}.shown`,{action:dr.render,componentType:ur.modal,dialogContext:t},hr.high)},S7e=({dialogContext:t})=>{xr(`dialog.${t}.dismissed`,{action:dr.dismiss,componentType:ur.modal,dialogContext:t},hr.high)},sv=({dialogContext:t,dialogAction:e})=>{xr(`dialog.${t}.action_clicked`,{action:dr.click,componentType:ur.button,dialogContext:t,dialogAction:e},hr.high)},QHt=`
@font-face {
  font-family: "BaseSans-Regular";
  src: url("data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAJigAA8AAAACCywAAJg8AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGoIuG4L7BhzCdAZgAJIGEQgKg+k0gv4NC4p0AAE2AiQDlWQEIAWGfgeublsIz5EGVeP2TiXfSAJ0G0LBr7Zlqf6pcAA3dwBbquuITJr6o7y2YrpNHoSyAwBKe/rZ//////+/IlmMMf8PuQcEUUitMtva1oSQhGamQkxJxpSLWVScqgQ1RW16VovNJTZ2uagkVSeuNje11QubnvZpYVB7yUGi4thNqJYBdoegR2V9jiA4dEhCOgf3Va7muEqhcRKz0dDNOVV47+hxPO9qkzFCUg5glpCZxKbOGFxehX5nYwGEBZOQwyRFIY5oljSrLwkSIj35dugPRJKk8G3GwUgw06hpknM0qqcUdO/UkzLvviWielabhCp59zPCaOnnqLtK3qXfP4Jz+vAum7Q0/NuZGXK9lUJKTpCEJ7ENfKrSzrLJy8uqLLgUD5sssqscpk8OS7HhGv36H+Ct59wJukpOmwpgFOqL6vCNd0ISNjq/nA5E/OXNVV0dR7EKTAKiB1ZvW+tSlyr7EWdJ3qxDtA8codE8WQY4xkT9EJF26FGP+iQKnwv66klyovCkLwlr8Lxu3nv/5/MNMUKMiAhhDtdkGsM0RAwRI8QYaRhCUNgOUAO4Bi0u3DhL0aZoKaLFsXHublwTFwWef9oP2rlv3sxftRCxRCOKSDVvItZINGlFPFkmbqay38SW9hmQLI2pME5qCPQ47vfu8GC3f2SvxM2MUAmZO8ThjH049p2ZcUbGnTPWOHudo8vMLNEQRUvt3y9qA6U5Uu9ZONvHHhBR/BdN1Kcsoz6KD7j59iAmJA4eESNxvpq3Y6fp1ru163hU2GRzm8rmg0BhMJKgMIaf9nO3qg2ztI6m8ncflWgaGnQInYUqlufvbIecf9zg3KdoiqIpiqLnHzctBAhpSGNI+CSBCoxSmdVel2WMzJgqpdvlRLu9sTnXnnhOLGfKTLCJOTM9UWa8ezmfeyz//739L9vet2xVfdv8v/dtfXvfXldd46q+pW+rqhpVVXVV1biGGqPGGGOMMSIiRkSEOCIiIiIiIiKOIyJEHBHHETH/+Nz8/5kozOTkkPZ9M9uZRYC0pVwIQS5XK0nOJvA8lOVX3YrZypBnvvvmw25iURRFUTRNURRFURRFURRFURRF0TRNUzRN0TRN0/zRttoUsFC40OU9euRGFjGNjc8DAIWhNhWIqEFFnL7nFu2CjlFaJxxJRqf6Ung+Jvp73GVuoRtcHv8zeSKBU33dLOlWLJ0kBS4NEvIIaJvcM3ZuaDO0PkAHB26nUXSKoiiKorCiM7PySCWqIBxaeL2g/EBoVNGFPYv0QhLD6BUFa7FVDM8hh4gg8ggWk0GkW3K9iQBYnQnPTdjg3A60rt4SpU4u7oiFDsrYvgxqdHDejpIzYZgbzk8QuuLh/8fU3Bf+KRCpqkoCWRYOgAZ6Z5rQmDGR2/bhWlmYKohLc8ntExu5JXwnk4LxI3Dc4OHi4/9eZ9m+b3l93mMfUbzJKYRFQ1QlXco0TebrSbL0JXsjyd5bw4HXPtI6YPvIcDe3DiFVQLb3iLxBgC4dNk2KLk2ZpkxREncp6io8fL/sm+2zzdT+IY9D0m6/Y4Tb+s6iqZrfMxvuf9tUfXJvk9JjSEMeYnYhCoOwOIYhfWJUUa2kkNlJpML5EP/eVKu0P5sQZjyxnCmOds/xprjWpqAZcY3TaO585D3x+jeeuj+aGBIYUWAPxDGOwjgjW4Pf//+GJyFLEJQZZ5xG63XOmMhaQ53VznlFa3y22daGl256F+cXhBeFxoYXXhZfePD8O32lcfRutrIm2gQ7oUjxl7L8lWnl5GWsjrVZocNaAAtYi4twUQmBxeWB71Q+jf0X4QkWtlmSCs9F9QVYKjgMPC1YEQfHiQ1IA75IGACGQSXDpvfmW2GhW4TDy9KXWhTKEVQViiAk0uAR7iVCIrxEwlP9Tf+zRMPFdQxv5oIEg///pmZK8yodlcqgE4BywtDq/vc9azWnlY7kGdlbOg4NZKEs8O+WPP07CTSbOoxcSiiOX6QEN+t/J+H/fye5TqG9dlWtqrVWRESMyIsRI0bEWhVH3///6xjuE3wV5isP2bQlhMJa/PCAB7e9XrJlnx4vRqoCxJEeHtsI0x9/s5owdGxp17TXIikE8RSCxh6y+31+b1Pbj1sa9nZsapXA6RS3w2leokH/w4wAP/6mRgHw09uiJICffvQeEZQY/BH8E+WJYYuQkGD11BMhJcNy5oJw5Yrlxg3hzh3LQxgiXDhWhAjEGGOw5BSISJFYUWIQsWKx4oxHJEjAmiARoaHBmqgMMc8ClDkxSGKjw2RK5iCZm1JsyrIcyYqswGZl9iDZmxNoTuYrkm/pRNNFvZHyqUC0gupnpCx1EFOHqhHBggLBgJnAPGAJFElsNCDYJGVStElG0cRmItSr1aA7AqYxnAnd7KY4NcTHPZpvggwLTE5jQFCdzRz7ZK4J0n+yOBxfPLubEYQhClMafQx9v+JB6UbImj03AQYbTS6OWrJUJhSP0p/2es1yt0Omr7Egj5366fr4ua6v3dbt9Ruc/3R947/ZvnkHjg3y7lUgoL2UBP/MNpUuiyQu8YoquufZv6iCKqyOV+sY2sKGZqwbj8bn9uvFkxPI5wJN4YqTdR3cr39S/T4cB2JUjhcpltUvgRzIldzOJ3mQJ8XXdymUZumXYxErv47qa0tRnWmroa07s59NsWk3Q2f+HEC/bJfPh/PLFdHXxHmv5nfeueJkzg3Zs+zvMTCTf967JdTaNjTKjk5xsRvd5QGPed4r3vZnH/nrwvoTeZY4lfsvixW3mtfjU+A83xeuevacM9d5qon6fOTg/79PrhPLMWMcwa3bv3J36RZlxnBgAJ2KMoyFYTREKn+ZKsvGlEcUkroTk15wKDTCoMoIwHgRFQNDXIa8HgfEacoFAzxuOQ7CC3jkglmPV3om8ky0iIPACWPlXBxA16FBIDBeeJaRPVKUYhqoHSvO1VEgVUajSwqlmlIalK25HF6e7le5QsHuVNO9EEUGvScieDTMCFZkT4wSprN3PWQynglxJhmiQBMhZVkvQGCuhy3sGznDAIAvIckysxSNLSamjH8rL/iQ6kCmCWULlOP5La5Cs7pTIL3W4dKITAHf4EO4q5DGYsYTJxAmKicRJgvAnGZ4X3BH3jdqsaKPhrAlcd9II/pGQ57oVzQUSmFQLm+lopVwjzel0YxGq1ZiNdKcpfuGqsZq1tfw2zUtj7I82jLYr2C4PWYaWZ7sU0shbvISKvr5PPYncRCxIBcTsIcjEmiZi+j6+xZjUG3QSJJkOZ0oBjriBHZXeDFRTOILE8ls/Z1QmBmC1XFrmI7FjqdMACayJ1Eg7HQJdDV0dWgN4VgRHHE5ABPlwkwJvi3SNGU/lasiDqPyamkvpWzzBjsBryYXJNXRm2tksf66FHEGdBmprXMO/1yFsdTx4ATRRPEkkcqIE5HnoBB2PKcIq8ZzlSN8HCKVJBHWJzP1NxSViSkoDNOJZpubo9BJtAXOIPRT0X9kVclq8tUZa+iMJY1nT2BPZE5i7yWMRBxEHkXREryFuA1pTeFkz16JKs2eU2cambRkOYZ51DBJkZdkdOBO1AQu0xoxEcLlwSSBqtBzWJOQp2j/YPUah4IrAyPcIIRHuRyjYm79IrehQq6t9gjOo6A5WAlDn6G/Slwapo9gn6z1M9KX/NyrefcT219m/6T9N1+VuBqwus3JnHV46zL3MhVy1okYqZS3Xcm8i7xvbUEzwFWV2XeQ5F6iBJcLUUfaS0gcx2wRFtPjKKVzUzgM0nCXr5JMDXgZL8jbNiPYm2wRUCU4+QQoQ91iwHod68TgjVRIY/cPoxKynq70EPJKDlY+WP8/iJENKyo2DdZO0RFCRWl8qYaUyVu2HuXo8nyFlO7UrXuhigi9UUMhCoNpZKOmo7sejsnhitMeFwkw4jbF6eKNCUQeE6I3hF/ZyCJFXdBcy2HclbkniyIr5XDCacLlCrDJrYNzhmcQdHmIRFtGVnnvci45/f5axEx9ZsTly7CRjYpavpZsBLBW4871xpXwuoQwsnGRf67JdGbERWSYIk+XT4QhBZrEundut/S4Oy7OUn2eBVcfMACKZwtZ7vfPkikU8liT8fgJ5pPMqQKnI5sNt3bV9WYXwYCRCmnsJx3RJ0l+6/QvNvRMxawtzC4Ve/pNF9wma6m7xmLp3uXhEaPZS1FUrC1TzWgWUWglgRYfAJF3xGHMqRcDDrmxOBMSnoPnyRB33z8pwsi4oobUmtOoPmfI6dsqlqf6FaTnHQrVMCiFey0ybwY8BcJphGVwiQEUb5+AImiIJCpVoEz+stnFThmZ5E4N86YgEtlZrpMAyaHS6KGQgEAbv7A3kKrhuJCjbuekZkO95mq0dxThTHgj4YjVXu1K1PWIIag9EYMgwH0ZijiLLKJU4NcXx1Mn0CaKJlGNAIcDCHic5Z4StDNOHDZbv7+bRDOSrhiJiqUFgdtxi51Q7pTJTgfRP3jnYS57EIs1CW8ysRQSOk7m7p9jnJzgFFd83PHxxGcIp4ThMwUXE6dU7Um6wBbQywdbvtjyw5Y/tgKwFYjFERNm1a5XNt/KwddMfBXgEfF6P19vBIZYb/EKsmGvtlsHs+XFXT+ugvmLV07hpJyoQKWFFlnspNPOvvt2rlm7l9m0J0S8iAXrI96AQ2JiYmJiYmLiEdmal3VYUVKSJGl/JWzgCM7bBzojlGUlYKF0vU265E+2EO5klB3PUFBWMSOTWolpoaFoor5MkPQ+o6HQ6Cn1jcK8p1zf/YRhp1TgHVfurATSOreWKNSiPbLa8byeBD23wXWgdW5KdhHedfE2EVhUMJNDKaHcdLor9Imh3DvtcFL4Y17E00B5ZStaY9uaXDZpgKZvEZQWWXJKPeq0IL6r24RivS9KJYVHJYSovb2ndPFvOUyxNC5yeXqLW8iJswKBh0zx3z52tby6PyMqltMpj0zteLz4NqK7DmHRrSN3WD3G46yxswltmY2NwFA2nSDKgZ0E5DEBoia2rObDAAy4OTgcRC0G2k3EcdVx6veK9H6BhqHA7y3odv5qPTAUKppb7vWymulmK8NNz9UZ5jiQJkwI7CAgGWfJEzgo9yDmmkgT4PNBHqF2vDigI4wa1Xv17/28Vbquyn7/PLcDQ2HYy7B08iq8MdA4eUgQlpf5zvZaqBf15lCE0M6cNvZpEiAZ2F45nOBqF+dUbKHUUI6ne4MAYbiTVO3lqVfKb1ayIi5FXpcDlGlyjhzkw/MZmPmoh5QQiZDYcpOgDpXi/1NnChbIDPU5wLQ8scKEcyYn50pPz42BgbtUaTxkyOAjWzZfOXL4yZXLX74iAWabrb8yZQYwMxtoo40GOeywwYlIhCGZk0WGZllWGJNV+Z4i1dkqNtuzgyY7s0tSbuYmbe7mgcmlLKUppSoVfU2oCabWxNIxlKGMMiujZsip3MpVVPmVr7gKa5aSKq1SpTW/Fiir8qowv6qqihnd6DqwsPbVo8IQKQ1qjbIrwYlZoLkRJG+6WZugMZshWKeMxCutGYpJve3Mw28xpYiLzi/bdEFwn1ZxmiUMnnpvH8aVtrQW0e6ZDVGIx3ato8cXg9yY3yVwTMWfoZlZasK15xoRJu19atJdVE3aaQooW7py90yx2b0cRnPzQLBQ9HYIGRn2cTuDUU7mqC7QMta7GWFHwDrFdMaTcOwsxz9wFp3hDa95kR4xMURdxCne5kuXVot3fK/AUBFTYyTNwCHho0m3WELrjocfdeK8R76XC8sKb0xtLZNbrPCKR+W4yRFYr8cdWSVxbPijn5fJ7dmOHZjFHoTyqEnGo/iRX/s9m7fejl9nco980fKEe9ZO25rQGIkA8mLmLDUilOb3hTSBN5ZhC0Ppw8fWDJvl6bLWs0om0vNerrzWNo7vz22ZHyX5BJRxLb61CbxsxLC/f5mvCpm9CxpgTGm0mMU2ZFnhZmZoe6P4i3wiNZ1xall2cbaXQ86Jfv1ui0W+Kk5xF7+1CfzDjUdlRyiYgjb1nopTbRc0MOZlydBSGxnHwAhJUwDznPM7XDt5mXHPiztGft91q4ufPGYV8ntnHuOxMKEus9qnCt4NAkC+2EOcjJKkrO8V9zTVQBEfQC4jeS/RQnV12bAEfNhtdUrQOHvFgfxCMpQbaavfRzKKxDFTDhQebuPIyrNyoFCxIqVGLXIygcMhw8uTcy82JZhpiA9XPjuXa+2v0tRpHrJVh8XK5SMI2G7k5DKT7ct2NPJACAlHBetq03f4yQjYWor/KH89NyFNy6aAZfcCPXd/KIF6JBZmc5T156XLzGXJ6MrrokXOWYTZ8OxwfvkjfV6609pkows0w3++aaoWq81hGOyO+h91VBj9Q4+GbwdWiL4yGuSCYyG/BJvVEvDPNPPUi95/VtmyVu0ZmtjUTqqtrR1eiucax2SM5Dze5puIrOflYNPzPKDLhEOv3R+QCE6s+kYtThtQN9QWNv4pwg7GeX2ZlZuQjUN0+tJo0EhUQYT74ymt1oWww35CO+AP+pL6ZgkTZ3Wao8595eNLZjMLXf7QO+Lga81u4TXJUfseAUH/HUsQlPWkQjsn53QV0IokfPU5gcVDN5ey+5t/vund2zM6bridM6h2XdYc2rWHOxatInPllyuGRjh9IZYZl58tA2aPqPK1Vr4jdOa288nZZpQ7JVr4H9lus4hh34OJSGzsgMM+54OzceTY8RNo+nDGutrGPteGPgeE/1zbksih71QDck2qru1lzrsO3fCRj3u9a7IvUWQeivblx00HrgguaQaOhFNG90eTaTPiE1hZsmZF3DoqkHkvm96X74dPYlNQzL1amVzbtptuuJlbeG4gNT2/YNDl+QW7XZ5fkHRZPkP5+kcReN5h0kWyvX/e6p5gc8+NRL07spHCH+2Qx+WzOq7LbDniVvfiXkpoeJQHO8Z8SBxht2BXAhj2Jzm3n1Im7V6xn69XYgk4QIRv5rxFPj8O0co68Vyf//bCf8Fdw3aZ8cS8HAX5tR4zee2G0yXLKziJFiw3a1ETRLImUkmXNb/o1KSR2LTx660Fb7pEx70N2SQQlMaVbODmgGOQwr/lRE1Naqc4ZRbi6VjvlJin37FoOqdevRtc19fpT1/qnqn9a7tHFY9UqzpDo4lLkicwxZgdbr9cQCcL1RYpOzfhViLum2j+Hnr7rNbUcezQpcv7btFZt8+vKrMfwG8XH9DENOGzsdKbtETTVWkl6BjpCUxSzIwsRFY+FBM7HQcNJx2XKLdBHj1eA2j9GG2sFk4fnkLQJKZdoRCW0eXQY6bw6Be3zWpH2S6bfVUHeKfKLuRdIdxWSx49aXgT8KHhi8rvIQzms9Wgl3JkmrVAPwXDALqp6NfGsA66abA76rEfTJLcIyD2OFRj6qpzORp7s0x9OhT37VXoWOfVutBNcpUfkaoEq8FVJ1bjYKkZTRvzQ4rFHwcVj707OBPwdhdXInSbuJNg2oJsG3U7kO2ibo9sh5H7jLb0UDpluIKgmT4x+uSJAOBQmWiNQQRgp2FnNM+socVkyhyrmnpmqXIthgZ8WW3FNxaLAtcGHLOJ0KEdPfjPSVqMTgKwC5BtUnQpWD2btmzZtGnRIsWirkXLJP2yfHL8AkYsiAL6FAAAACwAgAmAGgBkAAAQFAQAwAwgCOAAAJDmvbEQSgEE221AWyelstEKZQgqgS17Ej9CG6DoT/ltRouXPH2bsuOGbsfK9G09wEGh4y1CwT5bvHuo4CIDCMJTw/imZd1CkGbc0X+fJB8VfwstEHU8nbbw/prowT8+QDElmOTENPMhPIH9OQwAY8EO+eTC1Th7grqzUhB/I1P+/I3cdwFOBijV1cHNzpc6XwlnuwudrXY2QLDwulnjduhXzAMbOs1tlEOFU1xSlYtN8eoOA+w8CNgeIvGjEgKjpnY+hnqUGC5KXJEuF23bJdl3IFBvylAZLiNltIyViTJZpsq0zCt1ZKeNV9uDOlFOm+lumh2D4PCme846TPbB1MXXp3yFqIH4JP8RF11Bj434iCvhEOiRndy7bVvxImrlRTeGPuoGbPiNuBXvhXvfwIzyVM/q0ZzssNlH5Vcqb+SwNJ2pDLqSJ5+Hc/lXeG4XoQ7qsBXatFHt2dGdHRtzHAKuLkEVuXdjU/sV4SF9YE4eRKDEp+LMDkVJ4f1PoJ05MGcPtuP3oN9kGHGc2FGjN9Wg2Mhtt2HbxjUPPOE2DFtBYFdh27IrOa97qTg45+w4N67GmJ2NPCR+O0x/mXMr0ZNELM3b1MpG1Fl31zhRqA4lMITwfGI9ewFaNvwzZrtnHbH8exZX+Lvw9NW3LWYvzO2H9S5cCgamDlK9FTIzok2VzzHx/kQbCYZI0Mr3sN4rIdGlYuJTlb8ScvMb59MEnj7zfC6chza9q1d/Hvky/H30h3/umz/OpVwXd+FEPVKVRRliMamNSkN9LpaDbA2WRweqpS6Yy9p0D8ORZ/l/4NsJ40YQ8nSWzTI8aDIqSy659mEfsseNVcQrJJwGjBxsL0R3XUw1ejDUQYu83qwQRIIkDC4y0IGUaE8HhEIkhYM8EQRFTlPBbx+BWhn+tSyXCpUNlx+gquaWmKKCHh7suwwjoEiFYNYLUCDaN7J7C6vmUgFUnIqg4gvR349ExWJcCTbVyzSJJCiVWFoiU3CsDfPyxG/ho23WoejWZMFlH14J+MbuKdOgjMrPh+CrCtNwxfZkUXRnqkyp2wzVszCYMSfzZIud10vRzY1qXpiOvBgHn3NT64jZwVZ5kySmxqOgbzXvdVjvs+9D9aFHrHYun+nXgMm0OvpteB/2jJaVtkzUmKTw870LUPiqSwL0d1/xEAke1Q06jlw3zEYA61w2Ir3G7KQ4JYNugXpEpR2YwArLWQ/wYz8s5CkFI0leRyjairkhOrLH821NEizyjCVWLXXTMg2rPGqNh631pFTjSgMyiWUb0jqr1vurjf5sk4bNHrbHjn2ec8CaY5ac8miK4nxWFz3setysXvs7f/SrxQBdieVDKnqGnjwUOgNpC8+faj7452LYUnbKOQkPjtCu12aD/tW0ZkvOIz0TYz3ObsDK3HBpPoS7iNmi/ri4taWB5TyzXussUmqZYFm1Qqg7anpwGCzUZj0dZcruDQ4JVsGlAEy51TgJQcmj4Ofqr1kE3xzWDpkbLmGoIy7VNk0myZJqQmmhTFRBGL95ptCU7lRXEUePHfRUmJs4Q80q8dJEPGFZc3viyQyl2U7JUVJVoLS4YbPfiAMDeQiEnz1VkZEpI47g7AB5bFN4xoH3Q6JY7VTT5eIiCW0dUXXC1EAa6HOapEqqIaXVsgXLEW0lMNgEhg7WZSLepw1qXp+/G112mm4fEqbzM6q7qtPVtLfH5YrWMLdA8wJ1VJ/Gl8RJNaM0VbbIuCxTbilV1KKHEOizScXw5VxEECO1Ahq9DlxEjwwnI9hKFQQNMSa7l1xGKMryIZn1IsSRazKku35uq48KArOpuFsizFNpYXXzQpJ19VSjyiQUzYTwZk4j6VWW9YnPGhl9QjBXj12TgQ/C0i5j2iqz6Ni9YiLUoFvGVPHmZc8ygVeJvpRtBDhCQdSjgp0H5cMgPI2v5kSIhBUek11XqFDo4mFsOUigHZHDdfWsbj1mjHds0eTdhqHqvA90JAyFA2h4IdOtFuXCdGjBnBzrhytcHpxG7EPsDGq6ajZKOMgLPwvseVivwsGprWFci0EgWSNXm2D4KZPRGsxfO/qiYWLnUrWQj+1EeAb9l9Yh3vF7Jaoo60gWWsO8XVO1ZWWLqxyKmimiCkSUjt0qKmsk6MeTa+M6LvPikN21Tbur9GYGjxhqRfZ4dPHzoNRF22K37yMi2L5ybdg8LCFAgy9qGrCVgV/d+RouxrozXm+C/kTDSfpKEDRy8rpYeEC1Dnr1KgPZeDLVrjsQ+f3TtIJ0wszCrDYpJu2atbhuyr/+88fyAGJhnCK8tnBpMIkmAxw8tCQ6QWZBlEUhfygkuxi3Nj0NMv5uf8my9FrKiujULNoLEkkpuACFOsdLy0VHmPmwVjJKVMg0hWxXy60qzvgT93/zDASBgCVgtcBgG1jZnHjySL/3ZzfjYxEpJJKwKZn9XSrqMalXd3QKM0aady60NbvEV2VaqBXKCmUFs55Fe0yGh78QlMvhliIGqsuC7PVcFiqeN5opodCSHG31djSKAfni6uKLWywMFItABqchMUzVGFio2Ad6cAjHfTh5OFu4nGSv05+FeRAtSJKBLFOW0opy+kOt2rTr0Kmr6j79rh69+vTn0dO7jWE8JjCJipbnT3+3cBKLackdy7FKrLu7NmNrrataPMh4ZHZiF0/tox256Ts/+Om6v2XyN1yIm5lHWMXOVXkgyicgFJE1YkhIycjN5y0qqCqmEhyR59AWsBQrFavW5hmoA7BDyAHQmX8EzQTjmWFhZWPn4OTiHvYhpgXhhYRFRMXEJSSlpKuMfFk5eQVFJThCj97hJjQKHB1bFDunKhGNT/69RdwlJKiy7icdSERzFqFwoQizItXka1Jy8xoU1fCoRsQ0MqZRUY2OSilRvDqypmQ1bJnSkpGtdkf1i9+6QjcFS9xD0R/06q+o/i3+7w+pS3cvudth65kq91eN1shK0tQs2jPnQajzio9fYFhs3ikFDxTqI4XytRoCkEFMCCzwMwg13CKih/oycDtOgcMxcEzqwb7JaAND0R2sT1PQwgq6gtxl+/IrNLbI8cknFDopKXsILgtvOG+kcfl6LTk2Ja54rWjUqFGpRuUse0rggAr1ehnLRfDMVn0jzkfeD1Th1KJBU9fyyPD1QR8rt+xqJWtzNmh0+iOv4xqK+DDjI/nYJz6tG6f45iR2VWOPV4dxjjruZOTNDbd878dJk1Va2Q25vMYvWOUXKcLTZBWdXWnaWTMZq6t6bLhmsAS339Wo7Z2130MJPb/l3W2TtpN2bwrIHst6ab2cp0kYBRuLZbmBiIjKYDfEMONMyJPUpmBqKLVuhjALsagei2WJpZZZbkW1UmWV1dZYa70NNtpks6222W6HndU+xAGH4giOOeGUM84676LLrsZ13PSdH/w0IclskQdW+RAQqhLqUjJyVa+qfoOGjaZxHlSr1XWda8sYbnSg6FBYRYzWGooyIKVmtInOiCOGHwlngtXMLKxs7BycXNzLRflkKSPitEqURLUIzygCOj1XQragBIvj9frEeBDeD1rDdH4QxAJlV0ENCCP2lpf7BdQf3yys/2ZT8q6dcGL1B8J9l/kA8jK0xzG+YrPE61KZS74wXRyoAtQCGgBNgJZgA70hommwpiGahgKGaRqBGIkYY8tYW8ZpGm/LBE0TbZlkx2SKKXZEfaVVS8xNbfZN1fAQoJ1lhoNGPz/jyItzvCQve8WrXjvjdaBkAQAAgAZ0CNo3LDZLuqXe7RLE8hErrFqpaZXV1lj77lJFStNk6lG2UOtsWb+LDdhok822Vtvs2G6HndUu+/bM73VgnzfsTwccdGj4MOCIpqOOOe6Ek07FGWouibMW581Fl111PW5U3Ixb5jvf+8GPfrpdh8KMRVL3EEUb/uD6es39batbEeYRVrFzzbshyAObeZ2PX0BQKCLfy2P6JeyUslemwzHYL58LlIqmNOl4mLY79XsMmmGjxvOkVtMneU6jBeUle614rNr8GiXSRnViwzUzoxlXzQe+6hDyMPB4HUsdLX7koMeOgv8HQ1SZYHNmFlY2dg5OLu5hH8Jd0MZCwjmiu2hGDHEJSanhNGYZzWXl5BUUleAIPXqrPmD9BgwaMlw1HYxCn7Gly93bunW1PtWkTPOBSYdeyGO+4Js/Y8Vcgdc3g0zMAxp/aaFuK8bjtm8J2Yl8vBZKtUgmS/XXpuSHmc4Sh3Qy6tLThb8JIzBnwLC0yxn7xJ1qvy89S0echGytnerg/JiPTcSUpqGwbuNxRkzdcGygjsGu7nFMfL/DENmeLkHp1fynBiH0ynteEoxFXT9I+Vr+B5anb3EBJlGoBIZn0nV3zUtD9IatheS/H5dgdFZWEGyiMvAXCjawqQm1N73m4sVrqbPOevVinyb2eZsb09bZkZlzoutt361x6dOnz4rCezI8zIQNHxzY3u1t6nh48qaDvxdMIP8vJ6J3rUFd4aW3U6uSiOXsZFZ4Nhuac7DT6hMtx/L9LnxCcKmZgcSuLeU8q+JBSq0l8u8kfro7GwBYuk05Y6HhN7TPOsF5nAFRc2sLiWIfOTpRNJsQdqYmwRmnG4HUEUvkLmgnjF2NdbtsygZEX2AmglWeVUQBR+CSuS0PvJUeVIJa90Ku8pkJmHzUUMrG4M17auJ2czdRWGMLxcCLBJIICx5dcMChQ8N7rXTnRvwVj4dewe7Esnx+gWtUFdQfLuxjoT6r5keqifKmEJrFY0N16Aomg6XLMaD9PBy1IhGP8cmxxE6kFKMT8U90oFSHPoXPrMhaI2684f4UD6/jqfNWgiZS6lSfUdS2t0dnH7XBDTWVci2LmYQIIqiABtkywWquj6Hu0VlRv6Yu44ghDjR8Fu841TSWaBg5fmUC3iDEQoxUUoe49WfKcYxkChEYhz5xhw6zwoL7GTHSKVRV3zZtMOUq79yxmfNhOAszMrOsFo/7XR/rNa+thcgfPexJnnnquozk2OZKmdas5POZW/UdvA6oMoaNlrXMad0vW/LWcl2vkC9Sb8ZfCsYRd/mxLUp4qQICWjPJSqkk9Whi3pADZ5Rad3S7OWSTUZuLM39Tzg3dVOBBZDGHPkhuoVdQOZyi5vRKO+a1gFK7X0RQTFbxqiQ7onb0A86RzqgPVUhwrcvyk4wBISNOfIK2bKn4KC9475hNcCxRU4tRxSp+5fzwiBlEtjuxqDn8nN9hP+9MdHtV0zKBn2v7YbL5JvaafwUtKcnIitUrwtoFbrXZE2KnN9Itxs8W9/Uc07Z2/MDjfutJH5kve9dCZYXLXoyegoRZ5nZtVnIpZ7tZwhjjbnE3V2wwPQhyDhwIgTtmBEXlxRnTnDR0yB56ft1jdaYtg34ykR4qjo4FqCNMmjkUJbFiL1Q1dK+PZJSKFpSDx7p4WkhYjLq5S0uKU4ncgXZcEgLETSTAcVEzVXU3hjAolG6dNu0Ol0+65WKwinN7trbxHLdxNEnQeCDpK6eycMoLpT1QTb1patlVYlyRP+WKnbli9nOuuvYcRWIvulGSsZaT1BWPhGYYvgw+myFRcv1KfKSBAhmLk8llXmKeR4d9YIGo2jaIxkw18YrAD0GzvcbK5CHpSCYlqlhmUL7l2VySneUSBHI9PCuTospHSSLtKXer+hiKJOohWaacxc1TfwkksrENmoHAzS1mt+u4ICa+hwJW3XRVXp4h0zKcagHxR10Z38irUa6Br8uZhCdMvqZUGcu9vyEw7n30XQ3DWT73UJsRLMrClf06BSU6xDWYdFOhH8MA3d41bQziQ5Ep04pQtpehdhAd8Y6BTP85SNLDv6Y6/IwjJ15jK4XQ1ODsGRucRNsLmeXdUBQPVC3Hr2MpVXgNiobDPpOkitgn3lwaLkAx0zke6ofyp5INMlU8IGpKfOHtQmhkaruTMC7gcWfpQQwgdGOmSI2rSYAMkdmcDPzCojyQUkhxZH8QXuzxXk/FrUEvtC7PMqahRBKXZIAjPLGiC1K+srkjJY/9SwXdbiw8EccNzYR3ZM64ccyP9WVy6JTCVXycajLWzzMdODwSC3tk/LhBmzWqjZnnsQ1bQvyPvKfZ0ON5UqvDZpjJuW12mUSf61q5CnkspBdpWypdrJYEjKwK3X7ZanYjAaIo4L1UmEgqLv5P8k3GKDkjQ0Fe0jbGbDcvGqs1EEKTB9eTvkT/ZsnpiZ4Izp5YEfh8sjSXotXrE6d2GBF7tbp+e8Vp9wmXzJ4fIy9qk5Cc2NrNM3n7dIGLOrZYs1pnoK6rDLquD6NltTMrqR00iRjsVR6xZ0zyhB6wEYboNuNfXOhESlibm02RZQ+wyyY641qIpyaBMCwMBgIQyKoljZFogNeXyoAcOFIVtbu77mZyjK7kqltvHlx4FpBZ3ikDm60Cphpu6EMf26Ps+N/SYVfpy2DkmEwJx9vttsCQXqk0kk31RX+AC0vY9soc8Dsgp05VC9MzAQfa4SyCeyEeQIDOkCHyL2ZOYQCiQq0kP5iB6xDabQ9c/ZjAW+raaBa06pTAvKyPcU6iEZ+jR2ol+fmQatsfh7BmjO0xXCxYX6CD5F4yH9Dye8RFsEsCPWgvBS92iUd7Q84vm1sSGH1okwRxlPC4pUNJD2bZwEwzwd4dkbhMJaYYIbD9W2EyMxnp8BTZGMq1z7Pbi9bgYF2XaEJjvyYhFKWBxRHZuXSEmZxemyKm2f4sAyStAyKQr67qXutE11TfDvZJq+OzTk3UrQ8rWcLqWQCcIhU21QWXEtazl18N5p7IzkQZNQdSgL2BQELveSwRlOVBvxsHI0bmKPlioCYAiDDxA0jNiKxR43ZYLBEI51wqIiXK5JnevaxKOc5DtEaWbWeWkd7tRX3iSGzMinwUCUZX9+NvfnHgzotYrvykZQjMkbvFEKaiDorBLBhPa429dkDk8sqGTas9e+2IfCgJYe1gjko47PQXI6kmT13UNTv+9cFXiyEC6Y/k9fGZ8y++YYigsbSDkkVtyraImbyL2f0C9tdg71A/jOA/5K6/Z7XVw1bNlKIdcyLKaFZLtnsScr2jm6r8Epa4VgSOvK/tBsCUex7TFGXzDXazqFWbduPoHZM8xvMm/rjllPiRtMYzv1M4mbRyr1Vdk87EjrGkCmq571UZ50RWA+a3RZU0HrXaZSNLsQm5BDF3b9WKVerXfWKRXx7HswZfuIqYDWJ5qw0vLEkPrsthb5DxajQuXeOL2NPEmqQKpfyQSyTDgHcXUw4zvkW+3D6T4CCpPRJIZCOStZ3ze8lrfW+Hb5E8mRbD3FHEfPExn9GNHW1PXlj3/qSvpOk5iL/hgdMbpBYK1hE4VNzUm/qZ3wJw1xqMEVJxxGc4XtIhIfWOX8QQlfBWK7uKXyh7L7nPKxVbzpXsGn1DYW9neWF3Dk4d3aGeowbag+tWTOxtdK9qLY9dCZzjKbIgmNpUhJGRgZRv345AUnFQ03xBWkhD47i+Iu2LbmbhYeVFsTmvm8bi8EQSRoCvt/rxAt9qhrAYYVExcXlJBSlpf7areSI2HKJCUEFAY5P4EdoAA8tbTXHLodtEHDHgs7OA0AaExFMpbLQA9PQELkQS3mSeiji9GrOjRqC9L6BN6fhJ6/FABJu3RmC4DhmEAEK4RmGY3iTaYhabsUWcfjxnpWixSUcdx8rnL+AE9OAfH8yJFoJtNNNmtu7i+vBQipl3S0ZQj3SeYJI/eGyWYqatKtJVpaGCQy6r3MumX1COw1ktFr33B9TELSqLiigpmhIzZ07PnzdJtoIAfuhi1Q3XBqRJquJ0u7R8FOJJZOiIOsMoeksZGIc1cpNhMmpRRvTfnZzcPKq8xtHaAEAEuAAyQQkm7RQ21rLpYOlVc9I8Qb4MrINSAEGiDSCoU1orrVAHQSowYofxI7QBFE+KNhwtMt30BGrHFfqOqekJRsBBoeMRUod9Nnr3UMFRBhCEp4bxJKduUXHPWM1znxpeWnRLQzvqeDqNsPlrogf/+GBLSYFgkhOtWIfY2LWewyEL/EE1M9GicHnubCKIl6k5FcoyQNCZPjjcebPzsXDDRgLfc2VGwCABYoUboD/UkyLfch+z2e3mXjNZUx8l2T7Cal6k9vkVMtO6miH95X9GXFgZ/9oECBUZpHFmJCMbD56jQsqIPk5tpPZdtT8SZayFKCax0UL2SzKb+qUa2OqJUCLUCC1CjzAishC5iGJEKaIcsQSxClEN7gOPgKfAC4gGRBOSdw0kRVD/9qsAUfg94hBiCAsl7SW9N+mcToMKPiutrqb7xgsqqCH/OmYwHm1CZ5hDlO7sUOjr9YiOamWroe/T+jZ2VudCP6tLoV/WS3pVV3dNb4f+FPQXuqGbuqVPd2tfg/5N6N+H/lPov4b+x27vjkkFPDBmAMZswwHGQsNrBIyBY/gIgbHZjJmqqZnJ0wDjqGma+XMWjItgXAHjOhi3wLgLxgMwHoPxDIyXYLwB4715fJ6F8RUYX4XxbRg/hPFzGL+F8WcY/5ydi20E9+4DAAgIMBCgMMEMDDgIkKBAgwELDvyFi5AgQ4EKDRZYYbv9OhxwwoALbnjuve8E8RVwQinokIVH+EX/GBqjIyKiKKlp6RllyVWsVLlshcrVatahzwgqukVr7nscj+KfeBZvoj06hDMyjmyeL6vPiKlRyZrt0dgRo6NUY6A21ldi6LF+pIxd48A4NtLGWQk5Fa3ZPBgPx49OUhfNbuje/sDg0PDI6FduTgobn5icmp6ZnZtfWFxaXlld27IVbWhHHR3oRANdu/dMaz5/J+ffAuaMVqYXD504d+XmylErV69dv/Gsc3PxpZeffeHl1+btd+T6R6bmlhdfy9d+/LP8z+//ktvvEGD3TGxdP4lPsEl6UpiUJvVJdzKeLEIbU5dL7aeMmIpzWdVN2/XTnWlj2p6eTAfT4fRx+jr9nJrRH9rrB4KhcCTa1ByLJ5KpdCabyxeKpXKlWmtpbWuvd3Q2urp7evu6kozh3Ye/LGaIz1vOilb9atDvNLe10XY1xv4OdaTjnGyis13octe62a4We5CqmhVIc9XrnLnbMFatCzmxF3eI00YfVulA4nCWyxB/tyeWvbPabsuretVtnpu6Xxu8GZIKlFFQBf26zV0yMxMc3EHylA49G6K93h5o9vRwFhZIvYiyWYMDmDcM2zxcCUuT9kuqzk2Hw34HhwvOKf0K7Q1SNv0mh0u7eq9qEz5ZzRFh1SV66tkJxamGU489rswd2Jv49DfWCzDRAKyZRW8W6MBu27KbkH/7qaezYDMbBYK3AUttq/OwdWmYGoIaE3hgnIHoMAPGm+m1AFiRZqHweA8SHqFzjNdUlQhWSKmIwZ6ZB5YMr0c6dNspeEgQMdsNsFU1VHcDZTGHHJUx/5A+2TeAQXokjRHS0ezFzJnHAiZ69Q1f9o16MJvFz9h3Q2qi9bYivfmSA5oicO8C9w2oRHd2HpyNMsp2mzCh01OepYCrSul1am2HRpbnHhMF7oWXhafrBv1vXV1EXUgYdzyVz1C3NEBtt108GDTzgH5uqLA4Ka0l37TY2DrNNqPTz+mcvmFow+L32Dl6EYPJplvnqy7KT1XtOoy3CUtr2LJU33oH6eAZ2uRCVmClFwztmy/22GLQF+u39Zu9wcWJfFNp6KaCCDMojpVb291NCEOxTNt87m3P1P1p33gqgG0WD08jYnGChImoo7PrJBaDHDV5pPjWI/LvR6AfK66OZrCs8dQBqLzJfDXbx90Izo3GVMKgAJdgL1a1YqtqLEk36gAobM0X9wyrYmbbME1VaVV/Gt/bBGDmgTX60BP0BJKgBETtly34FrsFVW5x7HmGYKl/30YEGIA1yGBCQ40kMtpotkKEklBQkIoSo5c449hTGc/BBIkcTZTMmc4Unspt4K3GNiFq/ULuoCZqzY7ROuENvXc+WKE93bA61kRiZ6QJ91P0yXA/02PybzFUhKclpt7et82LAAAAAAAAAIIgCEB8NsTlJ51/HEK8INJLgIGGCyEXQ0UjmUE6k3yzzFNpmTXW2awWSVkD6YZwd1Mjva+Ne1GDU2aWfuvHSKPhjM94s+JtPxPoZYBo4yWa5Lqbvunwv05dDCAhlLjGPZ4JiyHTELQsdRAF04CZEJl+yHXoZzDT9eqJiDhw4ZWC/UirmNXZbs9N8hLZ8Hvqz4WIRBsnEfEH6qnnmVpi2oPalC2CJAUBUyBh2KmReMTsUf38xVCjRYiipKalZ5QlV7FS5ZZYpVqN7fao16BJi9NaETUNrV+cJtWvh12MdOH7/dbrvYmE3Qk03AcCTHjSDWysiTW4klQfVuVU3nqkJzDRzOBUSiGWmkM5YtIblVLiZ576vR6c8Tp0BqTINN8BnVmC/6Bst4YSaQ+IpLvmjkf+8cwb7TpCdxPkeFh8REhRoEabfgawEHGYUB4BgUmKZliOh4BDwSIgo2GC0ow+UZ9fIBSJJVInZ5lcoVSpNVqd3mA0mS1Wm4urm7vdw9Ph5e3j6+fl2wwwUzAiRtLsm6x5NL/Wvw1to5EhBen1IFkK0raCtDaQJgYk2SD1FWwVnuBJDI9HlkIwMezSti6IH49kPx71NTmkIP1O9npQAX6DURbPVoHlUmZMwZjWV8WjG6XUpJ9PynqVLnbV/i+yzG5QNzXSDIVZMRZQmqOdHCvlFuMtU0Vsk63s1NrLQZ1fuDiihY+TzglwywMDPfLYCC98NCpeGWBspifL+EqeCRxCSmvydL1gR3byuSPYWhqzzfPEL4Y/YE+VaC4t8MbFauyiFUp/2WYiYjIe/PRn8DuSd0yfgmf92688ROH3iENIaliQdLOJO510Qkfmwy+b9ytlefRL59XjYINDDW2jnbQHin8atR84BBwFTgCngXPAReAKcB24RaTwYuTCYRqvauAX2AfDAlL8nno8/dJzwc9RbUn0JD3UXSez6bVqF8jvjI9zQf598eMeP93BsuNeI8lfu9ZtAbsQ9/YOjQYZvlrL/UaO8gOlvr64cFCNDQ0KAG1YfBgO9Py/EegDQ/9Z2Bs8DA3zDQV7MO8L/A1cJHgbFllIgc/h/6wDHEUF4f3B76goAtt/AIGFBhIuNIiIQoOJZPwQYv+/GXALItNm9HmcdnCzxA8EUHHBCkxeRz2CoCSETzuBmWI50/t+F95POAQ4IsPZDvrbVZDdBNidnz342BPoQ9+hbLj8GYD896WANCAdA6TKUmyBZb5Xo1adQ/7zSrvOcERM7CKLV4IyNCFRRBlNdDHGlMKUpjKrsi5bsycH0piWnM2V3MkfeZZ3+VqUCqmkHDAgOYpjg0757IAIMAWoqdymisKBmlp7cB4KMnUNAjK1BQcy9UksyNRvcKCm+XzYCwdmP6w9/OJI6VG2+5JjrLj02Ivj2uPNJ2Q2+bbzY7XV2WtO3iuUbCBJdSzBgsxyFQ5k1nMWHpNv29nm4xj5lJ19GbnPzjFPcE1zrgPyXTvXNUPvIPyWv8p/7dxzlQvBg5p7qT5xm3iEkk/ZefbhMvnz1LwHgY133LK/t/A78x1HhumHEDb6EkSG+BbwEZ/ic3xJfv0X558BpB/3a/JTnDlZkMosyYqsSXVqsicNaUlr7uSfvElH8VRa9uVYLuVVfqLryeEVUhGV/JmHogId6h6Y0MAIDY2OuLiTEhmRHVoc5aH10RxZl44FNXQ2FkM34n7ceRIH8Sr0Y3wJ/RwdoSJDL4RCJYCFyqIQByqoxz8GfYwxxwoUaJxxBwOWQEIJJwYCyaSRQTb5FFNONfU000YXfYwwAQ0689xhjXts85g9DnjFWz7yhQ98pkOQlDp0SUhikhBM5yUrBSlKRerSlr6MZS4roYSWs9wPUWeChVf0lNKUoaWqjObV1CjKVPVo4H9HnhCt7xCYyCq0sSM5QgMXFRFULN+1PEdWK59mHE6ur6IXLocz61V2RzFc2Kyqe1fCFWrV083Dje1qZliEO7vVzrQMD/arm2UVntCrn20dXhzWMMemqI+aqCskISif0xm9FHKFh7GQJyJ2Fp11BnQHYiCJnuklHMIpfYYpZkdO1MbUWFhYgYlFsTLmxLwojB0xP7ZFWVlpAvlGURhiffCABRwQAStgDewLG1jhFrJwCdfoBgRACGyiB5BG77CLXtEn+oZjFpyFZKFZWHiHRziHV7iHZ/wSDXEwbCMzpkdq/BDFUVJYio4lsSyWR2UsiH3xY9TFT7EutkdNbI0thWpmjAl5jA1FREZUREdMxEZEDI8RMTJGxegIjpAIjbAIj/rYHwfi59RMLdRKbdROHdRJXdRNPUiP/CgIc1ab9uiAytm2Ylvp2fZsR9F+RelQ7GHtqY7dpM+i/+vTALtHg9TPHrD7dMvu0gVt04Io2Zt+y1cuVam6muo01Fqn/YRva7ce/e6g4TN1/xNx1px5C7alEGmcBBOoTaSVQm8qg2m+Y5QmXYZM2XLMkKvALLOVMduo1k677LbHXgcddsRRv2txyhnnPPV8oKIKSsoqmr284PNH48l0Nr9+/Ub5UNaycvMam5pbKK2LOEGqpmU7rucHYRQnaZYXXT+M07ys236cV8dD3AKIMKGMexEpSpIMHJ5AJJEpVBqXxxcIRWKJVCZXKFVqjbZsGRA1SG1SBnFJK/8ZIRLG9quuuq6sgCRi2VRkvVQs0i8bOZ1NGn4WHst23C4pef99+U9YWzt7B0cnZxc0BovDE4gkMoVKozOYLDaHy+MLhGKJVCZXKP1hCBQGRyBRaAwWhycQSWQKlUZn8NWR737645+hT1ZeUVKlRp3D5aFZXvQFQpFYIpXJFUqVqtxodbYrtcZtinZQs9Nb0jF50MasQB0EtEgTduekMlQs5fNDMh5B00WBIsYmOCEJTRiCpfFCCB4hziyZzTjGIAOoDsFy4IVCCJZ9/3eyItXfSOtsd88LDJ4NuzRjSLiHRSGH2ZhQ9rH1B4qQHRc++hsujEKcBEk5iiVxmHMUs2ybuaRUawLjEdKCCp80Cs+tM7epNCcSpCH04ymOOGKyTmcivzvaY5ZtM5eUsiM+9CMNR4zYC0S4RRuXsOKmua7CjSl5IzvEAYIzjztZPkOkoCxcK4NXpqFkNpY944MMtiYkT2DpvX7vNNZ8DDSagopWKlNjcAjhBjpMOilfGIQxUJYbpo0PjSvkRcx/DJdTSmKQpdA8hAvc+JSU4YJjY0GwYd14CDJchDgaepnyEaN5nbyxl5SFntxBGd9s39pQYWKo6aQ356ZxssVYwjHcZAy0Pisu/AwWIkqCZN4pwC33sRR1CDF5vNdyZEyx1gh79DzmIvZ+c+1xSMCxeGsIO5T+Yyuw85UbL2mWQ0HBGtH4hSFP6u6nY5ph38vKkwRVCxWXuChbMyoRxhE23sU+HRs7GQtRXS5/hdDfvZ6xIuWiUo1mZz1CsPkNkxXspcuDR1FJos+PkY+MnV7ZZ+PK0rA0O2Vvs2MszX1T3+xgXnOf1DXbm9/aO42oTXUy++2S+clsiqu0fQ76dQ74aVxgYHR+3lJn55CV/gvra9R/JU4pqhcpmK8X52Ro4QqpOSpjngXwPRjHZbI3v2EpxGipCewZ+TIMBce0HYZhZO/qXobssdyrflf3WONAULlU7v57h7Rz0kDBf24D1ZGxEmjK99wHHe+CryRr0WjG3X8E9dx0q89rJdece+7R1PdwxCYJo7X80qt77pFNNKIiW59rXntzV0c58ZiqxuO56Z0fd3XE3g194WErkbM2vralVHMt0690nqvBiWUxgG1NYfMtvNfffNQhbWUv3Llf4YyZs2bPsV+acAgfZiLDiK69R9GIZfP4CVs4Jlwz3P27yS1qz4Hyti3vr91h+w73VN3O+uy/gd/eBvXHR8Wu2+24sG1BKsoK0lzGp5VUa2sKsHuvjWXz9EN+KZJo1JbqGU2l6Km5ErHTNszylW7lV8ZNwx3Mcuv6lkMLtjuSgxduEWf1CrkOIc3FdyGG8pSlHBVRK2pNu1EBFUKp5c4l7VZ+akeTOiulYiph4yZwqeBRphyFpFIsJweAwwvw8eqikh+dOnuo8BP/2QkV9EC53qfzQMCMBkjqR35kkiAYVMJBI909PL2Y3j6+fnSGTu8G39ipSsNmzdt36sqT/wnL+6bxp11QV6IeQb3qaovGNdWPMROmzJi7xoIlQ+pa9CLqTdJHSF8GRbFHe8sqyO/TzhphQPBYQi6Gisr/hMZTi6M2iU6iGO7pIBRJIUmMBAoTqbinE288tSgqWonc8w0viYbWrMUY5UhcP2rCTCHBuYhH6qVsmdggAUY10sD+3QYKFmCtjqtUObgFwqkbDj+OZ7ebdrYP/k6mnC622X82fuAn2hc2PqFsJXiC9Us5cuNTfhixxpfvMqwsf/QiAT1ryAd1CQJM4rY4wVYgatLeTVFC1PuEI7eEeA7Jn9iPhDV54RKz32EvB4T0xD4qHFlnRWlqYiXVpNLW5EqulNLVFBQhJQOL90fpK67GlbLiS1XjK6EmlLoSUZRmAcRId3MfJqUPAON4YMMU1Nh+L6sIYKzaL0JWXe4EbRo0VjLUtBxDp8+s7Fb4w3Wo9k2wFLDx9S4uaIHJqZX/E8CUj5QRBOgEl4OFdAcDNLAc6FB/RIAp/otB9poZwptj6yR4yjyc//fe9Erjn5AkprT61rA6XGfq4YHpq5Kezb35tGGtJfzLpCBqEBKkHjIN+QbjhNnChGDiMAgMAZOGKcKUYZowY1g4LB6WBaPAemBU2DTsFlwUjoBLwy/BveBZ8Cp4F3wYPg6fgi/CjxGMCA7RAyFBiCMgCHmEOQKD8EMsnA88//78abhJalXqrkyyDFmmWJ7/gOkP7ew6/ecUAOXNwUAjwyViwJDEaH9xF+njM3dE2ENImrnaeh6iCklZHw3yFQZgfDBBmBhMAga7NCvBNGYUDUshqEcshHfCB+BjcCoRhNsSrI4JNUqt3FqMTIpMljzPAflDLv9nUsyp7rV5s+hmTv2nxm/hSdIJ7sTyxOLk2onxydUT5ROZf5dqZpdeu+9frL3o335hhRRcQP755ZNLztlnETQ+p38de3twePD6IF8HsMeFomocJzsGisj+vf2N/bX9+f25fdr+5H7vftE+YT92X+xp8t6/vXd71/bge5AncU88Abj1Dv6bpZOh1NYCEFPLDDCB/PxAqp9IbdunC999z9He6R+6hVxgnIeuLBsOg6zQG4A/Qja2u9jLBfccUHPNvMP61rSmjb3rXZv4jM/a1Dd9rzeHBlq3rSlMZSfTmM6uZjGrPSxqUXtZwlL2tro17bcfQeRAgE12fqSAoUqNjxQkWPXqBaOZFuKrb40DwAUAuHAKw4dfAkFCkogRd5MEiDQwCCTSpGVSpCiLEmXZNGjKZcxYvnDhCkSLVyhFlnIUFI169GhCRdVs2rSWvQVJKAC4ioIHrRAQ2kiT1u6SSzqgeOmUJcukQlWoOnWZN2DYojHjVlBNWbNo0cYeQ5K7AG6M4ME9zFhs4sVrCz8B28SJewgC4hF58h4zZ24HBsYTWH52dwGC3fI9WOyReQbfd9FFv7Db+5ew+Lew+Hd+5We/+M3+AZHfwZKv/O8A+T3e86nv+9znfu6L/cr8LXvM+iSQf8AP0w3kP/CfnCJ6WybA/++vAkz+3UcVyJ8OsyMYv1i4EgIEmr+vFtTj34WEeY6wLP4qFtNpZy6Ceo178DxExvMDKbmxziKH6LgxYj++AVkDd5JgqYNonl6SSbQmS5ZCZ8opA4Zj6A/+Usv9YIOtdqq1yx677fWjn9Spt9/P38HxhfGgXx3SqMlvjjridzcEPVLR+RdQCHKEWkSG01ZcoZ6UrbZH3bBrr6Di3bNti5fH4UsOYB+adH6Fexggwv3CuikzbERkVQkICsMNSZPuppSm+tBcqvlg2nZW4b3bRUGuMDvzU57FKq1QYaVlB+ls1SG6C3ccoP8yYJP3GZNoeRkbRSLNSUyiIgeZdEWBehsYp8BYGba6DDj2ewB7AZqwmt/mDAEGyacLoSEGja50GmAEKkC7SqiJ94eg5FgKOAKUsEIAHWIxYElnwgZpHrPw5mJkN59cddZcybgSRqRBCWbOEh8OWQsAE+iVymLsFldeV0L5WDC4AJmcB9S4J+UqoBduVfMuTlOc3GUmWd/jGFY0564i8uOG5hlftgDwCnNA8BZBsYhOswIQwhWF6dt8OALaYSwedKH7ODOW3cHE8IN+0E6nfF5xJfRNCE86capKMYhKsFEI3cRbBu1TKtGVrpDcceKfMJ4EBDz5VqvSlNEcgZU0Q/md2J4sBIi/OSuuRUiEeZqejHxEAabquj14d3ZCXWknVh0SBfQc/xJD0hMm2uUpMNfQBydaWoaaHrVoDJbLlPFWXvjkc7Wd1IPvAEfG1c6s2uRxV7mVjbzAxfU9vsjzwRrwV4A4Ot6873uQJcEILvfYBkDN+l7hnSLW07szHQYINAavQA2BE1DXZWI4ZMDEyGwTRAMEqQrbklKBrgoKYWB6uoCLINAYvGpq/iE+YwdBIFJdkjXpKXfNDBgEKQMZU1XrTI2YfBygIN8IzbjIvsebn2DGicziVGOSaoi8GrtJMe+yyMZ2o7DL+KUcvIXcM19CRxAT7YoNTQcEp9IrYLaD4pIR67lELxDHGlifUAER6tFtYs+phQwZ31TKbsO5SUUKVNEzySPu8Ch337aiQvNaYi1NJyDZUuPrgfjlZQjCJmOGA5ExiFi2XaniIpKhFn0eKA2ZKaOQRsVESFodpNZvmaIjP/01266JYZx/nxRjtcNKScAA8dhU8O5sdV1oa0JED/fhukPe+8t2nE5TYphEQy/WtFe19cAymvH7FXcWTt1nD4Z3Wkg3/QyoF8rSfWKmnXm6mtilee+apxT3tJYb5vn83NP23KeE6wEDbClbr6+rQuFl1AYWuPd6V8az0Mp4iEZVF0oTI9j3yijllD6kLBDKAqGMhDK2QpVBylR27vdVnLQ9KnCWe7y6msGEF3g02EWCoUYLa7RoIYFWK6ro0bZylTBCssCuwzRv6jurXd3gCvVe7NVR5nZ/Lyw0nKGxxH14F2exhmiFrkkHVRkWdh+ADs4Ca9yiUWBouV+pjZyFceDFlLRVkhcXqoXrtf9rfW998zlFsA1DST4M+snX29OUFjnYtcjD+7ZPz+31tioL3AUhPioWfFFUVXg558jr6/5aQbUejIEJO1A+d9wt5eWFVG4e+mE0QDA/P4gLzprIoA54jwWvFztN6hKJLtzs4jtsnFBLFzc05DUJ9Jf/y4xFyBBQaR/VXvanlgkl+FCUeekryLdbnJ0uIK1GOJO8EFDycBF9v1AFUJJ9xVku500rusFrT9AyZqyT6iyTbJFviRInXD2LxoOVeLDOtjj2/xFPHjKvv+AVh1IE6kHjulPayttxNgonYXwu6ra52QsOW367pzsodNYEOForJl1ozRglsFtLoDj7L+O2a+V2SW6d8z8tpbrkDVUcylydDrHHOWPa6liftrZ3glbgH4KEaWUWx89jCRG6JWyxCNbMn1jqLiphMZB2RZg0rISoOFQeuE3essXR3IKgEEl4sdzicHQ/A+vah1u6PFbooidTGW6QsoTy6qC9gyqKHJ1FQllTDPE1zN3KT3syUUa0AmD5UBI0LFbCmWJjIB1/tnyFqtAVXILLnW4FnBvhVbyCuZZW5xG967u1PyxX+LevfHthAe0/Na+0zUHAdL8epNilHrYtEHGSk72IkY2yc5y8Diut3tucMg5WY1xG5NR2mx1xQLNfzrlxr8YBmnLS0UzxMpycfF36/ZzGHJRrkIh45UpqeiAmv0eCBEL1GisPGiXB1TzU4QaMwe92I1EHZfmKrNiQJudkugYXzp+GFwU1rHOtBCIFfCqOjp0TQtGahAmIk5i0TplTUC1MX2o59XUkzhWensTqnvuWe9IKZx2KI55yDuQYhRDp6wyKeF/QByer1ebuEMoMw3iRLKV+dqKkctIejQctap+V1FC6Q4NheBhbZnapibToTUHwCCxSybqDu5za9CzoNlu7RnBnMXei4JwVZ0QTFKfWkYwnYzHiCQ9HzpiGQi9Yzs40RoWNHQWgtt4aQJkJ02oDVO5gmLBTmSPCLMjfUYUi6B6VMduod9gIywWtXAL6RIoyf3sgBvqTNj1eFtDC43sf/hoZc3KjhdNGtDQ6eVcwlSgfRyvgzcQGhSqBawnm6Mm5tKAxV8geHMvqNtuEXC3MAlbzKQMwkNVCuRiijnWqJNap45HQx5LUrq+HKQIGmWJZMLjOtQIZmtjI+wiDQrEKFqfcH9GANAl3TRNwb0vL70oz+w61y+M/mp+7qWlqieSrGTNIVdCCRI2zdTVw3OPyaJR7A3N8LUQZvtE0aPuk+0m+qaQ3EvmXCm7ogk1C1lljIKOsMMM0HmSjUdHdf3CsstIBtziejYltarbw8ajuS6Jik6xWxHj6XLYegYSkRn32bAuOtEV5SCvhzfDrNSrIMLQU52qGhABmgGGRwwp6+G34m68OvUhV9L2v/0HTb1Zu5BR9ZEoj3/O6708zMs0flqpMclIxEE7xB0f5ZUq1ZWyPmKCQMZhBxgpTLYeE/PinUCa/JnHXrqYYCHBelC0hCqPNtR5eYEAvj1XUGuHqXTPuGXpNuMBJ0EEes8ZJx5OZjtYx2chAuzwrSqH/Rs9LXElbfXf+2opglvwHzE1P/wJh6qd9fTYyuAbef20xw61zfs99S3u7Fb8U6pa56FXLLumMBZOqUBztxx0eq8cwJZDRuGwXk6pByv3EvctSeiNee/TA6W7aN+8gR4S6J84LAgo/kyaIxEs4+4ophRL+Pwwk7uPQp5wcPVcCh6Mr7MEAX5hi+yBg8otaHjsFBIgn9YnlBtjFqEj4LbV9dWtVK14vgbWp6cJvhWWRk6I81oWWxNxUJvkYsfVvhkiWnMJi0jgdcNLnu0DMQh9/Bpx56OCEDQaCgdCpWb//xFlsKuluyldPj1r9t3+r/NuRk4ym7Mi9f3jNu7ZbXPc+R41mW8+ctfQWJ6UUnUvMLQp/F1f0nRuqEG36cfnvWPMixWtYkeWVV/JR/f8fnNl4CYsWtzarHpSEGKldP443V0NjOM2JMAkanKIfczMQOGURiuDt1iPhX0j1fxx737DP8PIAD8hpwYEG8/fUlAvt7wMgsbU4Bg46jcskoIEZmKSZJZkIqdeT4Hnpn4/Dv6hBP0wHUZIG/SSvsE/RBthg7vZwoYkcDhdf4mw9LovKTCagCBOeqGH6E0iLkcTeo1bA4jN4VRMg7JqWFn/QupgY/AAW2TOmcw2A3wlhDANfkEGZCakZ0vSQzneKuNO8TlGCT+f0OGL7uleP8ia+10EUFQK1kHZcURuaBZfEu8FBDEEa9DE/1RD4pUksRnek0V/xHvZxcjKAkA55QDFICoSdkXjSg4j/9ybe4MMw2oTR+h29wF/f+jcNCzstcBouomHJOv6nkP6n8fTa9M9JRDp6wJ+Pfp8OrUV1Yi5+h9JRhf3e4vuR/ro9kyYCTC4SNaAEEkpiR3EgOoADIRpRiL1gEpMk6F1Ny+GV0tlNqtkwtcrgHVvZuYyQP121Bp7CKyU8fbY8lodukc+RSIl8BWBt7wL8rEC01uAsl2Qje96JRAWfDIsgp6PQoMKL204CU5ISXjVkuIAGlXJ2mwNfZvNESeLshKPE5NNTS/3ZIh9IcLwQ7sLaqgdUk+ERxiyPBNOUlnBklrJZC/63WcRcPBGFuc66xM0MQ2PrQUqW3xDB9cQuN7ivwdUY89bf9mMq1mcwPQDfKU6vCNN6xGpZIXM1+ZADMClVZfIT54NkbgerD3r1keGXYYVVy1Q/IqYR8dWdKWKf4UjNhJ3iYxJ0fyFCduRmBp4DbIlu3UkLcEAMALiU0wF/KlVPgXu/BDI8sMTeRRJiD9tY2gZr/RuyubYhYUIpl87wUhBkCk0HXiTP+HBHieZ5Yk4IP/BZxtj+RPMHRdGPLXXWaDYSUxJ4MD7Ej0ST+d6zyRS5WQBRA3ObPkYmGz041CS8OXEEvpGqgDohwIBKjgr7JsK0nsemHRQj6VOskHPEy8iLFuLLJomavW8JdHmKo0x5xGtZGWqJy7IlhDqRNBU+Xi+F4nyjagJXFoddRj16yNj9Oy/L7rGG+ecPjA0ZGETn+SKgshQ7V0246IgZetQ7PGb2zBLCgMQcdAElMSX5lbeGTnzJSQKbT3JNK+8Tpv/9wpCA+HICNr9KHEUfTiZt9CsAaEl4fBtJQzKlF+OGQjMTQqeD4MQ2ygYd2eCGAasoPpexzoKgXIpJpG4ClCAKNQI23hMLOPgmkaB3SivgF5AFKqJ6LRBEjTfhUJENX/2S+wFT0Y14VrNn9t3cxFJVmDMx33knNwIqM97hvhiC/nN5fHjLk6ZHBk9RuvU47LPloMGLP9ikja5/04UKEWXi3PkxVZM1R4/DHdMI8h4AAi5BPoRdBxvx4IcUcIk6CIjc4cVsRY62PkroGG5KuwNAxXTIJpCLqTPUEgdcORx1ew4W8vrQVo8fvAr5NN2/Y5FNuOsBB63WBotLqKShinMJbJGmp8jqJ6Rc+RLSoo7M3JCymzXFXux9gSm6FapRfcbY0wdeKMX5aYhMWYjnJVIezYlVVtMC8YZ3A4QsQ77Tz8QbUFADDQBArPXNvFJI9o0cS4xGd6BbV6UM1rr6bzw3Ptspzdh8sCSrxRwpfIeUSNntozq8ZxBmPdkRVZ6cI1KcTfC9pBz2pKGTj5vOiz827EhwfP4iPzeiZDX+2Cdmks5X7fM2JLd8nbgShuoujeX9Rv8l8Waodi4GM2+fTTMr7HREX+KkRCklv41dTpIWpyUHKtmSAdHDNEmKJadKknxpl8iZga1Oki770+LMVK3uM+6geBWZYMLn2PvfD+ZV8KR9xFqw7e342fQ4jy9992OonFNxh5djiymPhXCfOms9OISUtpCpPe1R7iFGQiNhitQwksIOgDmaZYrzAvNShO8Y31KEBE7PS1zzrCLxdEDRCeYdn5q8zx02yKQ9OiDD9U0oYT9GgXMHthQMQfnv7+JWGtUimMiz5eRiz8kdp6MFq3sKT88HTr3oyPLjLkciLxuehPm7nGlN9iDtXWNL46FkTPU9uuHtGIjqe4mUCWq9cngqdw1JfXhEQg2fljC9GmwleeiCbKq3bpVcBOdXMHzEfjIEH/NNTFhsqmfP99g6O83G/5RmI4U+0xe4gg1vMzQk/slp0AdpUz88PfYHZHU8HETHR2GKDV7SpMHRSZTwRS+Nu9cTO5LL1xrrt7Aa02OhTmifbM8FOI7CUzyP3qIOqWM+YKuRKZ6o4AguQmPjPe4N0sAHmagmQtXIdC4EKozQbfNCDMARQ+J+8sSzHQj8G5KWIPsd6zPu7Ci23OuGUNr3EnNtleF0AI6C/kACzEZTFgmyf5VcF73JQhJaYSdheeaLFGJqkSkhBCW0fo+jdi3z30UaFBMGStvMW4HTT5OQsWtHMBKjO9lNSvquTX6YJhIlKwsrbrPFXYlQPuOuPC699mSUljyqwrlQNLnAZzqOuFMce95rhSwoUYQKKCfl5i2cjHFXw2gIng56kgNCsT/8S/Qqei2cKPo8fkHY+lxGGn02PfOtVxyFlCkfLZl9q8gPpFRDNVRANxCcqUOiKm56mBtFhIJrbEwajuL4AlwfgPq+Og9TrRHvYbyIFzDXMvSk8r468F86rbl8dbiwWsLOfb18Wtwb3S+q3soLQTPKUcizoPjSVE+uF/NW9o79QWk8KN8u2VLz1KhciCZ7U48QYWjqY2Pl4PwYhagGk7z/rIX1Ao7t88el3Xrad3PfmdJaXo71n9HMqOjj3bBV560dHppOD6VuQk3SdmbiXYRESIR8mYYYT8RoGPJkTLkmiF5w4fRqvsC2vIjORQR8qdei27yoWOSqUmvF2Oo0KkqxWSdF5PykQLFv9Ro3R3lWb3Mc02WUZpdwgALXuD5k757oK9ZhSFGl7FnG+xJWmaaa0kSfVlpwka9cnOLR0+4K8goTOEqAENi55IAAv1gurQ9/YT99BpRpvkBPBBks58t8sHw4ON6cBVUHmoh1JhGjLpK0iX3ioZ6ySJt7d1nbae2SoOVtC3XYCYssL9ZDSJlcD1+NrHKnJxUnEDqJnWXUvPJ4KHFWwUD+lcI7ECApRbUnStANoSbvEZWmIzPOC4HgUcWzrCrX1tRPAPdmoQLQqmKwIWLQIvu8wJIjc3aeOGaeel5Lt5BbfDxF7J2cqgxgF5SSBpS+0KBSTfF7kwsrRGWOfEgVElWQZuEw2x/twehokNrhb4wxnmNiIuwZt6Jo60bbIsiSfGldKCu0K7iPyoWOtArE/pxz9CyOCkTiQjtTqC223x8lXNZHKUbIsorGibLFmfCmYXFyZcrDsz0qItomoK+yLXdo15hzhEauTMjybjuf20dvopwMJObw+pPTapzTxwsCiuusVXoZwSjs19WuCXhWNDdN72FTFw+eg8kR+O+Y08kHgd52cpY3li+W901elrebiiXCVbe8/ZiWt52flsivuiU97OcrUN07Vqasu2zFyvrwqZJlA/CucFk8tcpX8adOCbL+kSpk3f2lEBUy6tRSTle453C5l8dlOyJd0V8xUUaVdLmdI9Dl5jqZwhzBLq+VHCnnSlfSQNxp7Nf6J6EAvaKUf6+u9grsTMt0Wlw4agFipWqlVm1HF/JYWCsPy3B746Xgs1GCEG+8gu5S/PhNZmXdtZWK6yqdYAlwdPkvKAR7FZne3H9v7s9W+JV23bn1g/nxErr89MLnZeryBzsYHZnLLaPxuwC16INVBghGoUTMZAcza3OtgiIgcwDR+OgIPwhADvRwgh+/5/1jeygkVoPVldogNTUdwdbH5sYCQ0uE8uvtEAvZD42qxMUFmjY73HinqqI5q7FcIKMsbH2Gpn6QWy1nJlpnmTdRRpZ76NuJFZU+5E7J9yeU8NqhkhXediXcbHsD02DRQMVS7tSN7QQ1sqFsVm2hr/ra3RGe7sSxlPxMXT0oFmsaknOVL3zHIkLTa7YAX5OFy0u324kSc9O3dc3lyCXLk7BaWdyiLey5ggx7yL25o99XtqZR7XUeChfD1gFR1du1PucsU7Ep4I92Rj7+d1lH3iWUBjLBL5mE83gfqwoOfuEGHiL5SnRTj+hmH5yMhZO9eK6UniRSH7q0W51UdGMIm3spyBoO8Xqoh11UPiizgCKtTazeG1wtbfBTeJD7VORDsAevVQYoKypulqKogKQiHiZ4IahuBEGHrab+HM5gCScGuhtv0F+hGBg4T8MuMsr/QiE/GAhE1JqqDK/QrsOtprsxi+6XAMxnHS06XUGWCZgRP+INmgCW9xvaDBUHhvuOABapBjhRdFozTUw+kRkTY4tMw8yyg/kmRsG/fzK8//tJ08nfTrBFxXNbXxZzHszXdrk7J0B8NLoczTqayW0Hk5EKy3mEbaJoADQ96B/F4vEyj64VQxuqoMG/yQa60PuHQk3rwu4pQe68NzMineXqnj8c52smUfr5NxYkapevdDVKzqwY8GbJBhiaouXirnX+d7DAWSdsvGLvjQ2F1GO4snHCRov+nLOjHV2D/OIQoOWwfZpx7SKNoaNtEmysTTK2Vri4thcUuba5uLu1FRXKgj4my5tEjMpLRaiEC7XTGNic7dvE0Fr+EgQ2kKIXmHRaMpDOhhqZmmfalj9Y6B6Ym88KJzYWm0pKnJcJmlxl41b3QhD8Gdmdnaeb6T4EAjHoij/R1a8pK/heyMXAUGMLVzdLC2/Pa6q62DG719BiYhJ1ho4N3+2YqV5+/6n6Tgcd8PpRjCOZGHnYbkRq6VUtROWnqqpnzHXujZHPeG1ddUaNEoW8Zvi9TZI1h+1dnwlW4mfOg7cVOeQhctZ0FmmIlAPCRVJEElgoN08EBMzT7eggiYVykOiWZkHNcv8hAaUUqN0xLd6IEm94PGV3NBVnSIkzUmdQ3Sjxo0n/XR45sKZO8vg7nKOQrBXrJtM0wOwPgh9Qk/MJ0T3egWlJ2JDym1x5+4ILIv8tz/95e0sPFqXm7RXs62qhLfAa0nwbuEG2IPfObbwRi6wPioquTArBZ0fFpfeEhBOCvX1T4/ywxcFCfgcSVP5Hc3d+bvZu3bdB3BDN6SDfzJx65g6+a1EOpc6YSBEeDD7QGvtw2AKfTwG+kHWWbZfB52JO+Th8YjUl+WZJcyo+K0r0+kNWxioN09lSwRaYvFmLU/jcR46Nm+f4QBwkfNgyLtV2FLkWbS+X85t2SD/XtiNoEeXuWXKbnfGj+wXsAC6KuJ6E205bFxV6OBNT00ZIqm6Mja9pTCLUtYG7SJV0+NZs1yP4dgEIgHwRftafUkiJRyJ9YQmVEU0nT/fwozoxgfrZ1yMIlVgYMhZe2JbSL/zs8wypKTUA20wipjeSsIENKekxNwoSaYXJ0VH5ybT8RHD+NSl82CIuFdUvyO32+jbn4XTjNlYhJvhwOqbWXdPkrm6C2oybLJQjXz4WiHdjbMr5FzvT8EuldpEPE/y9X//B7P7pDCJfDC8Oa3unDi0OgbSKjeMz7h+ZL46O8GFCON3frtBRC9vzkiBqIu+bFhvgXxbO77d/dkLoYGnh98G46floY4fv3cZWKhrutjt8DSe/O6H+ZWvgYtjuauKlseE0jaePLyZ2VLPYTueTbhnsxcYYzOISsgyv2flacsrhcKMca9eejd9ThMCN0Vi8faLRBMyHEuZobhM/1pDh8LKx8zemNvc4qH8cC0rudF6Ub7i9W+djFE2NOyceQq4j3MioCQxJqYkl3KwBAhASSU9ylPQy0s/1ht8wZP9xixQYAswkzOqnid43e5ZwdjXp6K/lZc7p8PQbgVhSJL5x1C8Knx62SAzDRQElPuiS8RTV9n4dToA2yxJWdjrzrNK7Q7n8z73Nj7guP6uMPXqal9/wvvEy+a3GQTCP2tvCSOHwHxz3OqlcazEymtmRph/z9H3zHyfbZ8qS2vk8K5zdRe8aQ869fqwfzZ5kl8+Wx4IrX6BlLLgpeih/Q32oAG2WDV/5y41t2F9vLpEf19Y+5r38rDLuaD+vYO54h7NnfKI86fbohat14vaO413HXWfsLu4u7p0AiwDC8z+VZhQD92jeYTjvqkW4Sym4sSwZbr93VtVLCvMxNPuqF/nxIkx9SBFsH47aS30yIkQAY72vIRICn/fZKrn5wfCjPqk+oBQOrWQPm74dKlC3RUWZ0lYr2PHTdJxAfR3RE3p6HZCL4vsF8Uflh3zKPfzKh+XxRyqefqkLP3YJv17MdVgBI64NYemR2KD0uLBqoDbo7oz1cSFzndeUIurxAtN0dnx5GRv+Fh0vUA+1LWGXHmdlWd3jcOZ6T9VX5YTj/Tyx/byE4/IyCu4XKP0nd3P+Db336IUlPFTE5wZjGnfLffYKRizWPaDWFRgJkSLSov380yPDSSAZ8p/8c+jUU0QUNTQlrTnOE5PmXwBtl7bkS9IIddHOchwUfD/EfM9rclf37vuUkmgX53jPLGirrD5PpkyggZm9PMGCKvEJsMw9nx2a/TgHHkJYLw7i8dm1Hul50t3VuztsvevD4zcIvJQgkT6IqszKiJbOvpR4QAKBAsyklzzRszK8lFlrPuysFA96dk/AgeTFx9R1nhfbBbj+XToYZXHhh3vw/3zW++Mha5giMk4RfD9yTi/66dWLdOt9B7UvOgLWX5WiRpDctJOvA42GkMozjrjK9a6/gLn8bxdItNc956VFjgGXolRONKoJeH80/hCsMqu6s6rCYZuURQLi50m/TvnaT6HDkOrVjgJ73dhoU5KUM1s/FzWXmIAQ30RHAetlgbIPU9OL+7MjR5F1TGsSNFLOgmLx28gK7+RMamrDO36QSOFOuQ5WIP4dDgpOiIJNwEzalEQouPS7B22zKTz7JKTxm5rdt1xd1b+SRR5Y1ExWDtwg+5cUXj0G+1Psax79dyFuhb5BGUO3GlsG6eTgkkCI5yZigGsLcpAt1otPaxL/PsvPCmx3vugME1M8XRHsskO/iwpV0cuYnN2zrNK7DFwgnyQUjj7DL72qepV/46gGeZm5ZHCIvKpf+EC+kHHkfaYrd1F9YVxsZy54iaE2Uh85eHqieWr7pJVka382fseAb8QeNV0jLXmkgtegZ8gjdvg/hxKKO9gmJwUXZMl8dVRcbAzPyEXDtxWHb2Xm9s2WVYgFaofySLAhAm2qbL0aaMu9HfcCw3CZ4fjMIv9AUAs2AbfKrv0H+8Ce2Eaxsi7aXHfyxjgx7JKPS2KL0EEUjP989Ok//pOmacQMEgAv7st0hIJ1pZ03tsJB1kYqqHWzc2G9v3kThw8ihoVkZ2JiNwPxIVlhwRn5PmG0u2cAad6Qw4vKD0fv4evLKtsre0XLHl5U9Wbn9S+on2ngIho6wSqS9qxZ/hGsBRs0pDSGGkrgfcxcXtbX3vQZcEN+/9krUnZX2DrbyssjydpI30/HlydfsE6sMzs9/3nvSPdBFbRw+XLGoCveMsbxqi9vnpAlZ54cxkQJZ17+YRhksqKcXO2p9MZ5oSWhv42/E6T5ZAfagBFk/cO7TewmJiomPwIfnR+F2cTef/MWRAgbg6d8SDSc7wz6kTARAE+eeWxxItVIzm9qPWBIuso1XhUYcp6geNkAoZjTkNP//gHwzwGv/H8QWN92hSP/hQMDYkefZq8bzE2MIrrHh2RE2JQw7sjO7yA8oq+HAutH1zzgql3IB9e8oN49gGhi7uJuibQwc6Q7mplLWTm5WVxpmzA1XTHQcafD6DpuRstV/kQbGCQCVo77aCxEWin0xNxlPmDSxHTV4bYyd6M7piaTT5RaUQ8qWs24g1+yCnbNxgfNJ0IRlGjtm8i1u6F+NbPHRPaymQ3GXlCwTUyktXcChHowMn9/Yvgbfv+JEZ9smBc7DVFPffNiDaS6Vr7DO7DGu+LWERhbzmY77gLfs7ab0Kb3dzv46iKnstPGgsVHgs6mjwIsVRCXGRKkxHJ2wrMBygnED5WaOrvsdeP2ySOhuR3B4LRIbwW0xDV1BV99Q2FzEZOEAWMbfv2rBCd9eDkVPGkICMjN9E1G+SbnZgYEZufedGtozsAUFgUGlhS6JjY3uSaWFAUGFBYSvSgNN90gLkmdgyedg0mJHYMnHYPgo7wKSSVHJfNtXPOnK7YwDdunic3vMpVzlEnK8mDwgLJL4R7xt16VQIk4ftQr0bSk2LTuFe9qaepjnyQTLV3sKu2mrW0mhdXx9i5yFYcbSlkQ3UpezI72v2qXbKJfqplzD3exMvFGJ8rGSDc7S7traZpJBejO0w2gJbYTZe9mozauR7tY24Y7pV4g7cCvxzra2kc6pF1wYIcURbeZOZQFyl+gtYIR83MR/CpszM9ON7/2Lpo+Z1s7Z4emJ+BdJSkt0L50zJvW1kNMaq9kSzPUHW+ZLcjg16/NU0df95c+pkCzetSKu4Pzqj/n1QS36eZ3QEiPKEB3zTsV5zH2S5guAFU01NJWM7vSXcPpW5OYlFqaFKNjlcy2yVRUzWV5W27/ipWbh558OrcFW6Q8UDwIhPfBm1/JNsv2ZT/dAqBmK9DFPbXkB0Ln6bZ0IMuw1J3z1GkujrMQPn2Ka85Pqdl6UFd/f7sWPXz1dfcf8BesPTe20NWysxARMOKk4WcWBTIUyGv6DrEFiX84K/pBPAjwoGcoVhQAK9H5OzKafHNk+C/P92ay0jl9N1c9fVdXAz0XV300HxA7tDikL4YmDZFQNJTwKkQDppfCDtbHyZYoP00dMzMNbXtzlvBhPvJkFTm9vfqmG64o2rOKIFJaDMqOjW9AMfq6eJboSfG0PEO0qbaWtYGpy01zAzMdvLmRuoatXu2YYNp4YQa5lYzLTFcSMeOd6I9OnskDfERS+yn94xRsJNqrt3hgWFAmLoRU7Be4KSoHk9dqi7F3NGWLRiha1rq5xRup1QOxtZMn3J8PT3N9vP8csNhlAeZHlwHzIyQ/Y2Hk4EYcFG+zFQfc34RHRNoxtfcTq24AvRXZpYXyisVFucXFivJOhVovnIOTZ1i9Z5iTA7APkOuTa36JaEQMzD1lgl9/mkXbvcp+xatv+P6RN4kYkZeKgM51tcZyXQ/MJGXODZsJpov+CWXZ588Jc6OvbcMQX+aqREuLQPthvYHO+ifW57w+u1Vk4shpSqLgd/Jb+TyH/SFxPJlEnhs5tBbdKEBbK5wHnf440dRZ5/UA466wP0fY4TrPfAjKPQg7CcZw7H4jf5wKKX+NMRvZ7pEPdxgeFVdFVbFuPW3+kQrpyBgUDVEyuySPCspiNZSOCrS6fslMUsnikhwqkMxqKBUVYCXx8qVQP9TRMVtmMBGHMRfpAwMTfj4UG9YVGzEUE9F1DKy+SEn/b8Xg5cm+bWD8di/y8muSxeyjbDwdP/ZmjhbxcSFcVjarWiqaSHZMW2MeKUMSOTZlXlVJqbbR8kJ7KI9N0kkVVUVX1c86u/gpMWZIcrZJxnc29xJoNKKjnGtje0I+jjtIM2v6GTLkEPNvZPAZ10xvdma8HzbYorZW6cVy4DYHjpICnf06AbpAT0yxgjCW+fI77rhO88/f/3XK33bK5/LeuHbmfqMahtp7U+S36J7QkZWR0OQ2kexvc87Nf5ulW9Hg67K1RdmmpKDuevpUcoo1XR9Q+gJ9PZbsEfRp4UXnxrlo7AbY8GUfRpLdgj4vbptWJetA9vdaZYt5BwUJx2WDrgVygkzxTtbioy7ZckjGRKfK3P08wnFidA0J+1/4dcrffkpyRR0vjLkUqpHKkJlWKYo0p7/FWXqnT9Vct/Rkzo5UR0w6JFN2+OPnmyfBP+a6pJSKzPibGSkxhc0BiTF4TwwhJpSc093YvDKRZEEnRnVoYJc+3q3DReW5SiDj4eTxXH+L+nTfXqXAZMo9U07Zd/Vcgpi4ymc1LnM+5dONsYgRqhGkNNvZtcs+p5P2pZAjv/aSBQR+7fKFPb52Id+cu0iz5C+YtrXLZZ+q6KmwsrOHYsK6YsKHYsO7vlt87f+6nHO31T4Ta5C2e+2FRhcCTIwDL+PPGrMECTtHBwRjEj4dlb+jTiV3OUqjkKrWI87hJU/y8Uc1SB7mHzoH0qk6hQ9kCv6OduRsxV4MQCoFrsdoG2Zxx1QURUQ15QomdBtb4Z0c0xracY5vJRJb8iOJdg67EZX42OXDUnblQFI8TlaidwXQFD0doQxUAyM2792VMy0mkmbBLmjzwKFWaaTXLmcpacjGq5240aS2xh8150rTuzE+DDBEh+q/OhoAqf2en/GjMj/h215Rhi1ZFQt3JlamCbpJx93SddKylN5RuX6pi9lBOpqm21y2dOP2qZTum4lc6nJ13eRKXv70am319HLSvUpiKkmbfAebwEyVxHyfM1ttPy2CCo3L8K1tt6ugA7nsX+/qsQrbWuXf2u/5HO5tfpy/aSIRQ4tDbb3RKJSmBsom2tpGQ8u6/c0dg6zOYXzR/AcF5cORDJ9r11f1a+EKFz5c1EbXbXo9rTVn+E5NiJz1wqGV6mNf9xpafGWhHpQzdCfmTwow2VIpUlLwyD5KoWoEk82TopjFJmRfFDIDB7Dt4miLPm6CleOSE1LBZdA9KOey7ychjftHKcdACl2F5fRmTrQ+rU9eXlwIbnmFpguztstbLFvgWKlA1F8jd9X4jp5SLCnIqCqT5hlafweB9FW6t5IhuS3BxtzEzM7MncKQjFQJ7a4+R3mupLpSyOed36gFvC8kMzwwJcUz3I139npz86O2YZf2r8j8yOlWjlr/16dmy3RUnC+pykPAWvpIBJ+y5Cwt5X7H/kL364TdfxfaT6nvp+Y5KZnfiv52Ue3RHgj50VK1K5P59fmszpvT5s+fPv9hzTH668dYW/ZWvIfYza+Mq3z0mGGLnmjEV5LF1FiPNXv0Uch8Hbh8ButAnM8gznNEZL808HCt5ErYTKguqE4g7jVL678ifT8r9Y3Hk9x+SrGiuNj3i14EMsKkr9J9DYygdFslcrWM6Fx83W65omuIp6QyLmyz4nDhAuaeP3veovH0RTfa7AvNDPI2QGGrkHBicDc23b0i+42QAJ70hmYFeevouS1CX4NzsntBaxf1/vU8EndOKUTLYS6jfbUV6bd88bHki/HEN+THxHZmCybF1ZVmYSt/PVYpwfnbNSuvc8SSC7ldNWyxwfqudKjh8l3vx3MRgzqM5fwVq7X4noz6/FvjrDsX8ekXKGcrvscgxfDyVaVchPnluMrboGn/g90Dv+lwv7gZz1x+7DcTFTzjty+P7WeoFr5od0mxvKxoiXNjfJU73eLKGcpZ2lm6u7S7lDeUx0Xma8flu0/vglr/ysLKgs0CnkKedy/Ik5nFGCNMKdOGgwAD4rmMpUmXLAd6HcqyC54OPB8ZcJ3gUcS+G7dYtfhJiL0S+d6oeG8oORRLzMYA5qTcD0Q6/7ht2MUDRSm1nG7wpzc0C+ebWeb+cxOMda1wT45jP4QWOSW4Y1oNCA4vkw+Z5dfaLsFnqdFmcOa7P6/qruVV8BTi3k7Etg5WbU3DVPNJ57BQJZ4cY6UCzV+kmssEsWZOB9AIvCucsEdlelJrjGOGkrwkt+PQD13jOkHg0dqJ0igR43iyr4ADcSGD+Ggz/4fMH3R0ocl+a7y3rB0xWOnWgz96OQc+Xmx32hom3TvX7uyUruSvJfmkhR6yExaXTU1yFvsdOLXcI5LHOLHwxMdq3jaGK/v+2mH9YN5l2MurjMPZYG61VUiL//7dff8W8IdI/an2XDlQntgjFd68zohvNCnaOmDZ324YPgB4E7uK5VTkv91YuBnkeX3DxcvTWaCWYkrkugwqM6EUOwV2TfwmXB+6TWXQShO3pb+82xr7nqV5vr/ffortXX12tUrWrqxlfN+0n1o9aiiw4G+MBeNpqt3m/Sk7k6mlwkOshRuyueO9+n/bkNaeH/1SFzU6DucBeamg/HD84eR16v1gHS+Ehtfd4JSX3FdeIi8zFw8OZ6zrFz6QKzwzMkDeClXxQGh4boXcTMiXscJVN57ipoKY+E5wiMvBCQfpVdhjLRGh1NplEKrAUSJVzV5Zu1ck41uAs0rThxR/E3YYdFNcUZYL929ulexJwRHOzmRIUo2UqcxwJbcxq4a/mr9MhsQlX/mJyHKarFcUk35D4q224lVZlSHDBHNrVAupDGIRxOQEqTMlYBWJg0QXxKzhUeUpVgZ/nezzJgfSQgYJnMN63Pao/1hqoQ/17rfdsaAOdz6BucY5tttbF/CN/Gn8xfZp648taVBFipufZo2BK0ME4xNEMiKaFWQSEjdLRZlCPPS92aWI9kOjeSVyyV26I//USYrIMs684oBIkUxzPIT6safgBNFSZF1WdALuWxE+FBPedSyX3WOUX2g/xTY2LpftPhVKgSn7V8/Azb6QzGCMuj76O+Irp3QAY5CLPLwl2as0YI0f/bndIHMu98Wgbuj4HTYocOc1PejFGjMfJF/otgue+alB56qZ/Md0auCeGtYbZpmot2qo+hyLbFlBADfAXBmmKJAB8F256qmzl5RR7XC8dIaScHT/IsBlIqNjL6tPhZIgsHrLO5+6j3cYvMdH+ppN4vFDv8vbkezpu3fgP32cJf923IhsJv5snCxzGnA4HZDyw/wbAKJlpBThBFZqZU8I2LHp1dkvzlQAgTz3wgiu0RW0NtAE91GxuvLb7o3GU+UzCOJ6+YuHtf0XEKM4pTmgGyga8/tlZ1vjeIQqGhYCMFFHhY+pOjkTfCOdDg6kJJUh73jxRTTI+6piitsUNIOdhwVrFdriv7+xOX4LsLx2sHUAVuYFqB0jUTw/nIuMN5IbAQv2e0FsAfDb3oKJbwGNAzY7J1f7ClOdTR3K3OW5Fncpfhnr5pk0Ow1HegZt57ri9Mm+eoYndg8ptSOGBgThV2IgSTZ1qakRS7Ifzv3UUJIl9d5XQwPCi4J/peMcAeO2FuiHX01WmmFKASEqIv9GqnBXXCiSww4dtjPhFYzz9Pxgbwm/6lZ7JdbLqNon+FpzGrZHOUB4WOEiOENNmEhlv0I+A6IBPgHemjc7TXL8p5+iwJKTHJXVR5eymF8xWT7ozsTqxMX5wcAEECExhjGsUYFLIZqjRX41X15wDv5Ns/a5AI8eiAa1zeDPDY08xnUE+QdSPjQf0g7Jl+YrBbYPSD4zPi8uaCQ0mKkBGBV7paXNpKV6eaakzqSkAVI51gkRVSPA36ZFSWO0Giucl6cyrLdSwU0tfBJwRTMD5rmSOM6Lqzl/GMOxdpdVnCAgADxYAmQLgq2wvVcjQOcxMHqmQAesc4zewiKXVlfSOot2ABHkmNvXFsepR9YwbCaQLvInoOI4qz9fILpn315X19zR3czc3uOaro3BXgubeA+ZqkbOT/bTfsoGyWXd6Tmj/aD12DXLzC5ZtsFrd+lP282qNH5cx4qh0lV0VCkjWXQpRNs4vaErhTQ5+KA4083D2NzFzdjUzd3MGLApC53WhGklwSXXn4OK44aR/AiUU5CFiMh3C2/T4I7ckoLuvCBzK+8jEUtRxyCbiOH82mwL5+s6Wi7W1yzcbDR13a1YK9NszENRFvoGqGtqqiD5OKUqVQDf1YWGO0aVgEyoTxCpQ7lx7JV0obFc+ZyZq7uZsYuHqZFkG5s7uoFOs5xSqkmpUsWYrg08U6KJtHvBCi/vulIH6+MUSxssPJIP6pmL1tzU045ycr6uC/XbusxM6thgmF+DpqRv0Ew+OFCa7WqL47oeRCaRZ4dNBYgVM8WsA53XYhW3kSkNfmzIbTTTG0PJ1el1z3kGmXcbelCimxG33dOU+N6FaKXBpdcPgmaaKMGQPC3/MEuMvpAoasjRNTu11szC0wi5vVYgucP5b7QsqiCOHBIkfO4qWfBi1msyVdjBKDV19o6ec1jqTWsLmueTfeWy1MlnRQUOWtmnGS069AgvqfVuKWNAREFcZ4i0rPMGJ/n/b6OAyqtd+bwPvU3NXwdVKkIVic46YqI6MkqkRyplX4eaG9/UXyI9VXuCZYOyxYZl3sjKvx4udB0RnpEPrex3c/PCyY+2/3CwFy4zFPp+He3lwlDAyUl1V3lB+UD5zS8LP3enaT/3F+BZoV2hJ59FIlIi/ILT4sJEwBBg9me6aF7PZFmv2M2VbBgghYRVBiOQN8VyWtJKbs3XiD8gr+euk9Zh0+HpEf7exOAwFAWNDCOGeGNIwXgkUIEI3/vmVkPd5oMzH/cvDBys9E3dzS2DB9jw4n+U/ojjweKHqv/jxAVjxd9XJYgLEc4uJZ8VEFeS2E+yTtqXABE0CclsVD5X1zLNyHK0Er+ynzFa7ixgz0VLQmkJd4fPH0Dn9s5d6BO/sDe/LzF6fhNchUEr+aJm5yP5Kqsi+ebmeCMV+SLn5yL5qoREmjucHN54ptf9jXMINdXyIcAzZez582ucnT/6koiHHk4OerR5A3RX6odTrVK4UBMnkbqI3hDPa4sKFhFx1ZyEpOJlTXqFjASZtURsrkqhkHvxVf80dow+78U0MzDXVVU7aCIxDQi63+sPE1nECoXV0DE3V4cMI5pXEYI2sDU3rq/UgyVF/WE1jcpfba9IHIgND7kuHH+jSLslTLimnM3qD3Jyz0d7sm3dmpCz99HA9bHPNNYqR9rYyHgnVWuyHQIHhEilvSI5pZvA0ZiX6u8gRXrm6/CenU7y1Z9WNhRIzqBdYFp4zrWoV5pyY9LFxTukQhfqekrd6SEDwTtMDD4MOF/qoOwwc6AgWi13P4FDeYeoSKF5D4iRsEcmrhIJTyoKMf9tAy1JO+lpsNKsGgKn1mVbuBBX4trgpqGILbHJdalCMjQ+fbgjiwbL1WxWrn3KSY6OKF8eELcO3W+34Y/TmtB0aUjp9QOGwm2nX2DZvwqRFBpg/dOOYckNgdbDYY3kcLXXoRUTrueAIyK5N2LMw/n+8vrCKGYm5WlGQrYVg4cGQ6pktzmPpFHMw/L0Jjy4MZUZl8eZoRLm61v6Yfh4sFXMdah5pkoUU4GvYnr8DzChc7oHqjqTVc4N5HNKavi2QJ3LuCnmibXLuKeM4g3t6IKRsArL00dJWz9XwgDYTU5DTVdqUz05xNPUDO7YFuXTaBDHlqHKyepe8PanZiRNd0bU/tnV+9thII/EPyuYmoKyPWtVT1Z68Q/yqai7v7s3OW58GHqZUFXxsaqSsLA4t83HdeccH/t2IGR8EBinSCYmjg9CLm/zsJ87y8t1/cTiHKG68mN1BeEydHw4Ma63F+QgJ6Djg8mJAamEOA8o6Q3ArrwhQScGEwm9fbg/MRHp0CmgPiqwfqJK/ggnx3XTPPuTE8aHJCaAiIkAYhIyMbSU/HITNVi0oG6WtBASKijJD6D9o4Tk3hwjMTnWBt15wMZ57So71w31OsCtordZua5eDxl3Jc+FPLW7bz82eWhU4kFyOSUhvpQCCHhY6GoDg6r00boL2c6EuiCDsJ20DQGh1WVewcsvajKRZxANrn497xgkW6bP0vtUrw4AFX3oLUenh5kucYt27j1DD9Z1iAHhWk1+eZdb8MIKn9BGGm4n0IBQl+1cd2GUPqiqNgCYZdeUFhclJjbUiLPc5iS3VD47yLx11edY6MamKsynqAz40yQGhwmE/t7uXittWJKm/EVypsfp/aPitHWapHtWERKBGWSbW+xuRsjjzdSchOEgWQxSiMlzjDxwg1Cpd5K6/CgicSyhqTsnt6knIa6uJzenrhuowKCHw4m5DcTwwpbueYl1qoXJxOKbi5WTIgua2hfO3ixL48mFxdxnWfGfS/pdsmu+xdtacza4ZdYcx9pXH90z2YT/gAXkKgkFuUHSC7/9VESI7zyQIwIW0+V5B30wvwJYTJ8A4Xk4QDjx02HVYdknPpoU8r+W/9qRUjTgixhaGgL/iN+Om7tQrz7IQE0dV5BqHODen4qVfUMuWzEfPaWPtIubpJWvrSluXrlfqYuutzXM2gBb6OjUjrNNVHVRdUKl4a1DkkcS/+dvhjVut6xqThou1xOBPbGxUUZIFjCHObp7oJm2LDgpcJsBqAvU2karKS9L5Lwd5/raR6s5UFzrkZX/2OM8wZ2g/B+vhyzjNuaH5fO/j4zhN8PXKbw4dPEoDxjd+67tfUEM0leOdhBHD+dQeREkHq8fP0Qc76xoRyRbkdAimYfT/1o2KG11FCraGqWuTecKdDFQxbEkiZgnf1VlJN/8fJtAP7ytXXp4BGXhrf3E994dHT6fycOrbESb38K0WOvKL6jYiwg0xy2s4jp+5mbqa9/2KuJVpgaNo6He+rp41k5QLxi9gS04mvqmyGNmpNaZNpLGRSHjMlPQYMqbFGC/V0XYvLcwz1eWjO1VQS24dzCzL18ouu+enY6emaOHqdnoKmFjONUqIFjh+3rOj3akEib2spxqO5jPak2pShPEDfo3XLWpsHiAHzAe8O9VITYhFqYfYLMXEbD6Bzt0h+25iOgLW/gINIgVCXugLS1dW1yt2DW70boadXXl4Bypa1FNS3/KNJcWE2f3HIWYdhy05jk9Q+3U0+M/72AX946CQrc2Vzf3tsKC+ZhgCqLIFzVPtGl+jq+JN3Kuge/UzM5b1t96J4METW191UZVLX3NAk2tn5r2yQGO18Jr8wZKqChbK6s4Ktue/N7B76rZqtuMPdVXUCXDMrI8st1l/LhTqZIKlbcB1yE2pYK14glDrEiFwNgM1LMbFaLL2BxiKSreV1ZzPdtQS1VOWIPaGzZ/FayxptQ3cRXyY5NX34zfL8wLkgtUaP9wXGJ3b39vYmLvMOS7J0AvuX+TPJidmDygZ3fHJce9oFRg+cpddD8yAv0aZObETwKJDi/nHZb85g7UdHQyxj6SrmXr/jEbMHNmGjyC2bsrtegU4OwmD4DvjHTposMBop8+wwHlAeiCY5lULAACEmCUCrJptHTbAHLvP/FrMb4uKu/Lzqrsf1/aLV7abap4WLnWnW+vFRdmnibtwBYg0zAOtPVwDjaV/C5Q8f/04vJ7+tiSgd/yj92VztsSi+hxBZUBygfiwZzTjA113U0twm/PngwLV/y1ide3sQ7QU1NxveTBO52/6VxnIbHs3QB16GUdtPC7TFD5dU8txcsW8s7c0/mtuYoVfMyV8eaN/41HfIJe+PG/t/ybd9xX317kYptdU4zvUg1n8V7DPmFRwuObH+0TUBbJ71c0Y6IPsqYFztAoyK5ZYiRFCqflc+24WyvOUvwlBrO6X8uRrMEmhmGsSku8lYuTJfFbEFT5bFoKDVgyfarLbt+4aL2i8s2rRNr7c0o2gda+NhG4c9pV1/SueHTPDH+Q9vp3Q33BrS04iX8313D4voMr+OcrzUvhUjj6d3KZWz5I4vyzBlm3PaTZg3rwPljxvhml7jleSgX6zgIaj9WKWUVMzGc/KxH3sWJWrOSlbJOqot+bJDE7J1eHRgcnV7vwYVl+aTZpW9n2Svsv2j+UkxsadY9JBjJ5Vvrehf6WEJPXIRc6smwF+ALsvigHR1c7SgzuFLXJJG0rE2+1aRUvyy/NdM/hoe2d3G0u2Di7268GkZVfTfZS0VuQ9BVXgQrIuVdLt2Epcsd4om6x3Gk1PYWSSuB4bsSuYnkV+QIfWWQOlXTx9nQuHDd75KyT53nS2lhL2tNuCeEryPJc/YMBe+cgNad5UfeYpG1ljWUZXpS3eTXpR8xFKbel+4Q2fDm86v70la9yGHtMb72j5VyT1sSmK2UlHhEhYDv1t52WyGH0/TV9mkHnS8u4iIY2vlnIF662yo8dfC+H7ilKywWzbL1bI5XDHQhIpAUp8IygA7Gj/iD2SRlEb3IyK5gIjBc9dSpvbb/0TVqBTUw8ZhVzE6MtpHPhB0FnoZ/KXScncCko0JFiUNjUM5CFAfmQ9k/j0YaPd6INPo52tEuPf8Z2rvEu/jlTXnzuZ7P22wyyX0XJuR8/MRd8prmOb+f5KMbT010mNDBG0hvLiHBnf8ML+95WkIasUHB4QiDtTd2XmOJ72MSn1XbjSBMk4dHgI63RD29aEF9azRTWUFhiFSl+fdnRolYaPNCsiXdrS9BRm2/MbywIEvQbU+OrsFBS0E6INJFGEh0seJLKlIlnpfuqYkWswSKCySzx6IpHRgbNeOTs3FCrFLvWOYtl3G2ImAvnhGKfdRRGROaCBD0tUGJi7qV5xjlg4bVdksTeauW3ReZ+mgOoXkSIVGjjErFfslRkzkcqPbU+EBGXoKNEYGnIPKNKZnlsDuK8Mo5E5njEuUsuYrL15YgisBUSvAsblMUeq6Eo+JsClQMYgp85pEdl3NUXFDykTmUya0fa9zetKpOeQDbqkHKVb1pTUum/6Vg9nWNi9Juqld80MaRx9dSNdctvileOZO2cV/5N/xV2gjby9nW3iljvbtdwrX0mPVUuiBBxyHm+PxuvVVexIIQAUXcI5qfrbTUKdhKIknKtVsEaJUFAnYrcGVDwTwuw/IOwEhmkHypVihiVeqbpwYEBlI1pdIiVAij8T/cfkkPBe2U0XnT45T8B+Lok93LB367IUcu3+zhY1FhBCKPxar9uP8OAhXK4fuCVmjaTqjF7JJitNAtqbr9jO/lnwzxL2aWRNeDeVKT3bbvbIMZvcnXy6y35wcAkaBk0iTpDNtGfcmcLf7UCFpMsJYiDO7I+4DUzx9uOZmbNE6YmDL6JKzHZB4i0qXkKISzMp5g/5qQJbN2aGRwELO/2ZCZl4+DSan9yiXLXTczd3C0Bc7Wls8u50jVmbg6YWdKisS4gckwxd72+HitnNwulrnEz02y8hHPQVQVmXVgju35Xc1WJCNHcFZ+fg/fCW17Jtsj2Zv+cO7ARl+uVa3mJaEL0zz0cNwgQdz0FUP8Ssa/7sJ1Lie3rf+q02ggbJ/5thFylhdRUh2/pJj0ThX5Pa7xJPakm1Xm1YHAWsHLehyQ4kbVbv5KAXAAbV9U20ADMoMULRRVNB6oz2hrVbfn5IWl2wgZwhEmutXN0b4zzPGHqFXOHbaLRBNKnSSM/XlP3msVzZeUQZeUiFWU7PtCgOAtCsusIMZnVQXvJf9MBD8ih5Mf7ZZOrZNGW63bmZOey/r5qcmljCyli2dHIxFrP0dTc0lhByv6hULdDXr1sSN8KG1tCj4SsYFqm1fUDl661lOaikkksIaXUWyCcCC6t/eXIjIzF5eMibwR/2GFUg/dT+1LQd6WpRV65onOlZ8rWDVI+3zjw/9fmqa9f95c9pkCyelSK+zaMTaGjLc4ZPd+n4JMsRAj+AMoAfa5r8MRAV9uJezH3Ta7F3FFnRW6Kns3Erz03ttTVsrMUETDe0NURBD7OwHggoP933QbKebjVF4MK/4sJ+6Iq8ekKAzCHwnfab5SNnfe15LmK2EulSJlr9NQTbvhK++kTSOW19Q4CPhduk6cZsqbIkwxBjDNMRpLDKVpeU5+2BGd3+AJjwtyVHSDmBtIxDCqGxAJy3pmsLDKZxxLpBoX/pgI31YEpphXiTUeSwlsdT/q6KTtOeuZQ6UAhYyn2Yn5Rlak8tj5BwOfMfjAHnd3YZJLTCQo2LkQUAVy2XIaTjTwB+6HYs6h7jggSpIq5wwGebZpsFBXNay8udCFQWlwIxYcnoAjt72t/LYXr25TvXIYhH5Q7Q0z3M7i5I7rvyeIcem3UVvk5oX6Nqk+KxF1YM3SpzqtZC/XNqb2cGgfNVAFcJqh6qwUU1pe2Mg0hyzyyT381sti+2elEQxiEQdhGhHU6l/Xfwq+9uF9mT1wXziV60omCgv2sF3hBXpmknKOc+Sau+bOiLVx9Q+q692NBApWHVnvSyTQPlTyhUB35WLezOxFEu6lndtuHgoaUDBQwcL+d3sHHv3q9SoihO0MeDn9/dnz6ZJaBG4wpLD4xqi4qSYQNhMX9hLgKts//hhESouqjCCkET1F7bELY9WKbGhO0SY3NWcs9Y7TxnqV5xF+b7ljfbhux0Tr3CnT+7AIMUw6hKcU/Et13PPouqt8rCX3U8v8xWj3E5pBA8V/b6J1wKE13t1NiK38VEbNBktvY571aNpvRERsB9uXHeSHofjG8NKwdkUpGP9VEAivHwspGC76/HbaGJSjY5/i/S5loiqnUTvUCXKn178zu7WfQq5MUM/3y/YwqdeWQFsbDuX1kCXRJfoOdsp3TR0xNSbfKYVPXtmd5/NADmnCBLq6pRT+gdmVrea37r0q4Au0I9QcRPTCvdl5COrWqOm0yITF9srpqrpSQi126g/W+s8TpHctRSR9PTEgbV7kr3sucX12eXwbctRU6+y8PeSpBleV6rXJxtpdHu7ig0uPXkQta3t7FGaWZcsVf/qlCwBWeS0UKT+ViL50XvOGl5768v6mokTrkqAjUh3alBGQioOODiYm9/b29iTqS2lP1SJbaKvBfU1PHVNuFTgwmE7p7u/uToZLJCBkG6ddLoYZ2drPd1ZmkF4s4jQJfVSm4TARkYigxgZxr4l1YARevCji4O6EEZOKfQo8Mn4zwIkAvCUnzyXYpxg0B1FvdQTlOLwh/6XsK4mEYOthDQQmoyWfskuWTFloCXNubxCzAL5SeTwcsWC6LCx0MrbR017h8b/r53i69DTZq8pPHu3oyROSRF+/oj2zWPP4fRuWdYP797K3HmnoRXnbIsaL8++62AjDXNR/uL4tjgphWWW/3/yx61zNC+d7jV742tH14KZk3jGqz4O2G0LlTUlqU1Hq6Wq9v2wvt5Qx5bebwkJ5v5g4dp/7GWP8KbDN1H6DsfyV0vZw+zdhi9OsrDH2aoYALS4iytjB2nby2MLeM58YjaQaSzCSWJaGd11imEJY+yrJ8aGcbSwWz1GuS/sTSi1m2QSzzIcsaRzvdFtDdK32bvNv0nXttn1J9N4uo6UXUj+6LPktZJ1nwCkRCO7qWO4RmPLans1jHBO7rpZSVduq1VHWUb38b6dvUFI8NSnTVtQ9Q3NsI3Ev0SUoX98R9OGRqxv9Cq41rV1jaYjitfCPakbQpJKONsl5TVGgcqRHTS0naO7KIqt5E06elTqm83sHb/JpoLV0P0LZKJY1+kjuSok9KH4GyO566W/077CV1g6IhxIjhZsi4HZ69raYtBuR/Zd2c5KJwHUlUHUm95hu1WozadKLaxoiU79Yjua3ewzxwQgVu85kKnni29Oz3mGI6xOUgqn7rObKXXlQexgD4bQaztEVNypPq4BaIIgdjapZLXU3eWzdssPd/dyuligP0uvOSbx7aCrA8VzROQkUX4iZ0J2X0vDOHKvY7wE5UXeVaDZWhUweVV3ptR7ft3FwUD7EVPB4V31VNr97z+CDvQ+B6lrImhbeF2FAWj4vt2lMa0NMe5WJzvW7Jqobm3eetEqqOPGekLapzNeve5JA0RpeDB/UHt/uUG5R3VZSUHvTvpChLKw1Xv02JfgNYlRLkZSqKkqasAGBQ2pRXdImGJUXw16NuVa0jp8b7M93qceR+qlQU7Bb+BE9BpgLckXr1M/BpP7jlLyC3gh9t/d8Rthv+ImQ/yOWmwZyWI9TYbjIit0peGmti2NVl/GxQRxclvqkBUwHlrqdJrSJ7wJhvQf+BAHsA8DM+VtZbZG5ey5D79DmvKB8VjBlyhmHUjzn6J95elryqYFgs5h4eIDQPJY8xNrC2Udwydc7uJvEUY5hhw1HcGEBRBziPfuSmyfeRYxQO2j02j2A/p11baPpPqf239P7G0un0a4RBa7WZa6O89daoddeIgz5GrEYjth/ErdOZv5NyWy9ia/iC+6vYdohZD1n9ynaOVb42ql+KuWUR8y3djCef76XOCRTbJ8lzMf0ErlfDAdNHdsOeFSmhYWa/pg9sWOx1y04BK2xfBgUpvbx1tK7kG5fZ7Fkv5iti6D/PIiulzu0rV7KcMZZ6DjGfdyJNirT9mFsHXFxb5LRfsJ6zrMfq+yP9luw+gFsgb9pLniKok8SlR833vp6Wxn1qwn1BY2X9A9/eUQRM/SVDOGuPwmq6RU3vBdbaufc0m5vq3gGBKlCgRz1vTN/ucWj4wnc9hMc+rOYMxeOoYgWvbGWWaZfVDlk8y08KjYQFdnG9L5RGm2Yew6xRNuwgZgwirD7po8xaZ8vIS4yFtV72yOVq7zPnYjEf/v8IM0xeNyraQhXJrn3qLYVcAOkS8dbQaravN3jZu8dQ0KqqjRS2Sk5FUcuHWi3d5qif9bR9XBSl9h2Hzc2Uiz5J7+eSp6MTqFZksYXymFVYKdXsKxeUxd2u/zrGtoP2UBttv9hmHzTNulen0Wb1zZ6tvKYa1BVJJ5d4f2rs13Sl6K3px/rWBlq3gC/LdYS79U9g3oN/gUC9bR0eUCAI2AgAc8ULAbCYmDcfVAFfiDl8E+ge39GI+aF7AodPwSYpawjMUNF80Lt68gVxbpBWt7t6B595GKR3A+KSgSdYOTxFFfMMrVKexYbnBRxiO5zjklFrIMB85c8TBOVvnsIxhwhTt7h2FjYxSWTyojIpZxjnIXIhhW3oCbt9B1LefcM/DAU5BWWDLj4dFS/KXAwWGoThHdLC6GQxUN7mCZHxRWRAWk46KBErrVTOIStnGcHjUx+lADnYnOeJFbOfJTkqIZBnmbmgKq0iLZsGzmypFOaONJQyOV+daXLDHlpZs02FeGuhmq6khWsrlL54JGIFz4wZ8qLgrwB47wtfyeS4EYIp6w0zNVEfLuvMTA4GbCdHGhTmKzHDd6AiW1Tcmw3samYlXGNbmYmOymaQww8mXWXO3G4YTXk8T8l5ObKcjehz4ZZBgJWlZ9mZKcsdFeR9aEi5pLd7sveY9uTWDEIXk8EkTVaNLP8Fs0ronlOBX1iDH7zMVKD8fNMmYRZK1tufwr9DhxIGDJbcz75hsYNu7kMeUe2JSiv+/rzJXrURYIl7zKrCESssD49FTniUbthsn48+aLfdT845o57BNKukuuA7Z513WauLLnnK6LorrtovzRur3XLDTemee2mxTBmmy5bFZKscM82QK0+BfIWKPFNslhKzzTVHo23KlJpnvhdeafoIDWMd1+tfnYKdg7MfQ+XmQfhoDBaHJxBJfPwCHX1xKSQsIiomLiEpJS0jK9fVbaigqKSsoqpGVtfQ1CrK/lhEj6JPP2GgvQ0bET56xozHlnaZNGXajFlz5u/T98dfr7zOgSMnWvKOG8G1z3xeMLz58IXlx1+AQEGCmypEKBx8h94UJlyESFGie+y5XXueOrBjvxtixIoTjyBBIimizE0pUqkRrZ+IJANZZjVlyZazGZevgAzfN4lyFSpVqVajVp16DYSPDYJHZOxz77wRoxakmUXWbbE27c24hVaHTl269ejVp9+AQUOGjRg1ZtyESVRTaKbNlNstdLfNmjNvgRbd9w0rVq1Zt+Guezbdt2XbAw898phucl+VwvfMd1Wr8p9WxWq1K1CqrPc++OgTHeVkk5uPQbfH6zM5AFGSFVXTjfCmmJb99R8YhPRu3sXNw4vGYCnohQTiEX38AoISCX/JRsXEJSSlpGn5CQneLcONCp6QNpyQcNx6PABEmGRT1GYeFTugbZeKJS+WEaoDSnZurSFod3O9wWgyW+jupdKkv0qT6DiDcWkWK1GqjJozJcYXJc2Ha900DlHE+3Njxk2YRDWFZtqMW+g+f7qfc/yci0+Wxt4RBFjS2yQYvVHba6TtmT0MT2CGWmu3B7h0NxsJz34tgTeuVhfa2bGiBWe1qnCerixYGhQz8mJLLC9hSVheaf1fDjm+gYbx2iDhhmoVXko7ufdBBCEHX1lJ/+vVtUB5J7dudxqtPkEi61uevxXMuU8WbhBVwVXehdvSCy0Cb5PYreziuXWQS7yf5m4/cp5fvasw5/sGE5t15IuAI7+gAZi/EfAAIjUE4TLExzTWuhvfYhNW8JQtHyfRxZqRN0y8Vn1QMPDn4uuJS3keO3mSxJ5Fj/IlkGcjz+vPbnrv/v0ijUJMTV16Knhr1CgH34hRFbyHlPp/vfp+BJbUycg65iY/8HOWR4tdwz/qrUcSyDFBPJZWAnM8bgZXRrvm8b+rIpB80XGyg5cqHr+b89HXp06+lcsrq905U9So/fZaojghbITFohKSPezfZ5ZnpNAzJGS0KVdYmI3oNc42pt3+IhDFwnAKQUpnke7xghOjpMHPSoxUEgQlViMkGb5xPJBAtEADR978daOC3UPz+0iZ3Y/lb/Zo5uXsl3c7X6Sqw5PNxfESfnOX/w9FRMGlYliAEIygGE6hEpIWocKGAcQmqMHQIzkAQTE8NICnAgAhGEExnPJ0vQo9hQWlT/tAygC9GYcR/YxsqppEj6QAEIIRFMMp1HsxlTEpNHHPrSkN0TsLump727KmLMWwCkWClG+VOoVcyR3XhyU7HKVJZb2h0vqYQg2IflGwiBjLaSorzh+reFQqdTMsCZsAQjCGE5KxSzoadcLA4pEms9omODzkxLDR2MCJGFggBCMohkvpGeJ4HMsMOB5t5D5wQwMbXTrxd83uiEZ/M+J45t4iSDp6M/QmyGgRWjHyjyAcDr+24qsVHF8uAS/f2sLld2UOfYA7DNjChs1d32q+6yvoGzwbPYBQL05R3KXh23B5Bv2+p6bHFC43+P84NW4xncptt3AzzpuvXgxmSltF/7O4mo+wKtKeRhWj6TUUZ+z10CDBLZrIfpmZ5dV85JSjJ8XtrbLKjfAsXYA2P6dpVSlbwGbajXkuWjhyuFo4TrNKxVsiv7q0LbsIV/68zaUw71X59WXD5jnGZ9/PIGNaHjWNLEsDQC4XjFFIFgwCJB3T3t527K03IHYWlrvsV6U3c3HwLqfxS3JoOBFCM1GUp0bjZnGUIfGARIkqkS8OkzYRZrInSqUjcSzadAtfvW5T8KozAYu2LVH+0IXgc/FDcZc8IAgdAkHeUIKLGlBOpeSbmRiW+qc9coGyIpCZZVkSOyCCstC0wWqVbY0pFfUYVD3f7wTQHgAHpsBBAEBZBODgEQhlQ9M02rp3srA5pxUvYzSOoIlKTVvxlCFQdXmtrIU6M23TVHXnxpybFR2q0n0oGtxUtrZLDQrx9VX8xWL2MQ1TqQ/dLnEbObO+tMox40BUNWblCpOi7bKmbV0AFHbZirNFCzOtBwGZTd32dTB53RcxFFjyCLV2PEsIu915+ZmaNkSyxlHXLzOkKfTNxHHI38JVhtawdFurteI9E7eSVO9nK4gSUgx3msEz1qCOpAhB0ZjbF6w5z7RVvThX0nYhtKQon2eZu1hmrcOB8RrPzrLotXhZc9RU2dTMaVVWSycJnKNhUUqOPNeC2PX6ployg2P53yvWtdRW18JNkgT08wtzVXM2OBXqyg9VnhwPGOw07JshDKrapPfl/JZ9U1UQv8muyogzfjq3zcXfBk5dUaandemo1Lpu+gfxRS0quGhm0MTixgxyGUTXdZZIb8fSeJ5iIbyL6xxlDU1z1Ondoq5WK/TiBmGFViZDOT9TXHjq9J/1n/df9F/2X2XX2eLqMYT6Bda7m7tPU7tesjePu86yzG/3v77fxWK6k+sviyhq2vJhA9bGk3/X5eN/AAAA")
    format("woff2");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
`,I7e="BaseSans-Regular";function XHt(){if(document.head.querySelector(`style[base-sdk-font="${I7e}"]`))return;const e=document.createElement("style");e.setAttribute("base-sdk-font",I7e),e.textContent=QHt,document.head.appendChild(e)}var eVt=0;function Wi(t,e,n,r,i,s){e||(e={});var o,a,c=e;"ref"in e&&(o=e.ref,delete e.ref);var l={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--eVt,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return Ur.vnode&&Ur.vnode(l),l}async function tVt(t){return nVt(t)}function nVt(t,e=4){return`${t.slice(0,2+e)}...${t.slice(-e)}`}const rVt="#FFF",iVt="#0000FF",sVt=({fill:t})=>Wi("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Wi("path",{d:"M0 2.014C0 1.58105 0 1.36457 0.0815779 1.19805C0.159686 1.03861 0.288611 0.909686 0.448049 0.831578C0.61457 0.75 0.831047 0.75 1.264 0.75H14.736C15.169 0.75 15.3854 0.75 15.552 0.831578C15.7114 0.909686 15.8403 1.03861 15.9184 1.19805C16 1.36457 16 1.58105 16 2.014V15.486C16 15.919 16 16.1354 15.9184 16.302C15.8403 16.4614 15.7114 16.5903 15.552 16.6684C15.3854 16.75 15.169 16.75 14.736 16.75H1.264C0.831047 16.75 0.61457 16.75 0.448049 16.6684C0.288611 16.5903 0.159686 16.4614 0.0815779 16.302C0 16.1354 0 15.919 0 15.486V2.014Z",fill:t==="blue"?iVt:rVt})}),oVt='.-base-acc-sdk-css-reset{-webkit-font-smoothing:antialiased;pointer-events:auto !important}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2147483647}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-container *{user-select:none;box-sizing:border-box}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;padding:20px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-backdrop{align-items:flex-end;justify-content:stretch;padding:0}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog{position:relative;z-index:2147483648}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog{width:100%}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{background:#fff;border-radius:12px;box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);width:380px;max-height:90vh;overflow:hidden;transform:scale(0.95);opacity:0;transition:all .2s ease-in-out}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{touch-action:pan-y;user-select:none}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:scale(0.9);opacity:0}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:translateY(100%)}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:scale(1);opacity:1}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:translateY(0)}}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance{width:100%;max-width:100%;border-radius:20px 20px 0 0;box-shadow:0 -10px 25px rgba(0,0,0,.15);max-height:80vh;transform:translateY(0)}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-hidden{transform:translateY(100%);opacity:1}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance:not(.-base-acc-sdk-dialog-instance-hidden){transform:translateY(0);opacity:1}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px 0 20px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header{padding:16px 20px 12px 20px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-icon-and-title{display:flex;align-items:center;gap:8px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-icon-and-title-title{font-family:"BaseSans-Regular",sans-serif;font-size:14px;font-weight:400;color:#5b616e}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-cblogo{width:32px;height:32px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close{display:flex;align-items:center;justify-content:center;width:32px;height:32px;cursor:pointer;border-radius:6px;transition:background-color .2s}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close:hover{background-color:#f5f7f8}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close-icon{width:14px;height:14px}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-header-close-icon{display:none}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content{padding:20px 20px 16px 20px;font-family:"BaseSans-Regular",sans-serif}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content{padding:8px 20px 12px 20px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content-title{font-size:20px;font-weight:600;line-height:28px;color:#0a0b0d;margin-bottom:10px}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-content-message{font-size:16px;font-weight:400;line-height:24px;color:#5b616e;margin-bottom:0}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-actions{display:flex;padding:16px 20px 20px 20px;flex-direction:column}@media(max-width: 600px)and (orientation: portrait){.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-actions{padding:16px 20px calc(20px + env(safe-area-inset-bottom)) 20px;gap:6px}}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button{font-family:"BaseSans-Regular",sans-serif;font-size:16px;font-weight:500;line-height:24px;border:none;border-radius:12px;padding:16px 24px;cursor:pointer;transition:all .2s ease-in-out;width:100%;margin:4px 0}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button:disabled{opacity:.5;cursor:not-allowed}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary{background-color:#0a0b0d;color:#fff}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary:hover:not(:disabled){background-color:#1c1e20}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-primary:active:not(:disabled){background-color:#2a2d31}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary{background-color:#eef0f3;color:#0a0b0d}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary:hover:not(:disabled){background-color:#e1e4e8}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-instance-button-secondary:active:not(:disabled){background-color:#d4d8dd}.-base-acc-sdk-css-reset .-base-acc-sdk-dialog-handle-bar{position:absolute;top:-16px;left:50%;transform:translateX(-50%);width:64px;height:4px;background-color:#d1d5db;border-radius:2px;opacity:0;animation:handleBarFadeIn .2s ease-in-out .2s forwards}@keyframes handleBarFadeIn{from{opacity:0}to{opacity:1}}',aVt="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzIDFMMSAxM20wLTEyTDEzIDEzIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+";function k7e(){return window.innerWidth<=600&&window.innerHeight>window.innerWidth}const cVt=()=>{const[t,e]=Fp(!1);return GS(()=>{const n=()=>{e(k7e())};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),t?Wi("div",{class:"-base-acc-sdk-dialog-handle-bar"}):null};class lVt{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null}attach(e){this.root=document.createElement("div"),this.root.className="-base-acc-sdk-dialog-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;this.items.set(n,e),this.render()}clear(){this.items.clear(),this.root&&rx(null,this.root)}render(){this.root&&rx(Wi("div",{children:Wi(uVt,{children:Array.from(this.items.entries()).map(([e,n])=>_r(dVt,Object.assign({},n,{key:e,handleClose:()=>{var r;this.clear(),(r=n.onClose)===null||r===void 0||r.call(n)}})))})}),this.root)}}const uVt=t=>{const[e,n]=Fp(0),[r,i]=Fp(!1),[s,o]=Fp(0),a=u=>{if(!k7e())return;const d=u.touches[0];o(d.clientY),i(!0)},c=u=>{if(!r)return;const h=u.touches[0].clientY-s;h>0&&(n(h),u.preventDefault())},l=()=>{if(r)if(i(!1),e>100){const u=document.querySelector(".-base-acc-sdk-dialog-instance-header-close");u&&u.click()}else n(0)};return Wi("div",{class:Hg("-base-acc-sdk-dialog-container"),children:[Wi("style",{children:oVt}),Wi("div",{class:"-base-acc-sdk-dialog-backdrop",onTouchStart:a,onTouchMove:c,onTouchEnd:l,children:Wi("div",{class:"-base-acc-sdk-dialog",style:{transform:`translateY(${e}px)`,transition:r?"none":"transform 0.2s ease-out"},children:[Wi(cVt,{}),t.children]})})]})},dVt=({title:t,message:e,actionItems:n,handleClose:r})=>{const[i,s]=Fp(!0),[o,a]=Fp(!0),[c,l]=Fp(null);GS(()=>{const h=window.setTimeout(()=>{s(!1)},1);return()=>{window.clearTimeout(h)}},[]),GS(()=>{(async()=>{var f;const p=(f=ut.account.get().accounts)===null||f===void 0?void 0:f[0];if(p){const m=await tVt(p);l(m)}a(!1)})()},[]);const u=nJe(()=>c?`Signed in as ${c}`:"Base Account",[c]),d=!o;return Wi("div",{class:Hg("-base-acc-sdk-dialog-instance",i&&"-base-acc-sdk-dialog-instance-hidden"),children:[Wi("div",{class:"-base-acc-sdk-dialog-instance-header",children:[Wi("div",{class:"-base-acc-sdk-dialog-instance-header-icon-and-title",children:[Wi(sVt,{fill:"blue"}),d&&Wi("div",{class:"-base-acc-sdk-dialog-instance-header-icon-and-title-title",children:u})]}),Wi("div",{class:"-base-acc-sdk-dialog-instance-header-close",onClick:r,children:Wi("img",{src:aVt,class:"-base-acc-sdk-dialog-instance-header-close-icon"})})]}),Wi("div",{class:"-base-acc-sdk-dialog-instance-content",children:[Wi("div",{class:"-base-acc-sdk-dialog-instance-content-title",children:t}),Wi("div",{class:"-base-acc-sdk-dialog-instance-content-message",children:e})]}),n&&n.length>0&&Wi("div",{class:"-base-acc-sdk-dialog-instance-actions",children:n.map((h,f)=>Wi("button",{class:Hg("-base-acc-sdk-dialog-instance-button",h.variant==="primary"&&"-base-acc-sdk-dialog-instance-button-primary",h.variant==="secondary"&&"-base-acc-sdk-dialog-instance-button-secondary"),onClick:h.onClick,children:h.text},f))})]})};let CN=null;function UZ(){if(!CN){const t=document.createElement("div");t.className="-base-acc-sdk-css-reset",document.body.appendChild(t),CN=new lVt,CN.attach(t)}return XHt(),CN}const $7e=420,T7e=700,hVt="{app} wants to continue in Base Account",fVt="This action requires your permission to open a new window.";function pVt(t){const e=(window.innerWidth-$7e)/2+window.screenX,n=(window.innerHeight-T7e)/2+window.screenY;mVt(t);function r(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${$7e}, height=${T7e}, left=${e}, top=${n}`);return o==null||o.focus(),o||null}const i=r();return i?Promise.resolve(i):yVt(r)}function gVt(t){t&&!t.closed&&t.close()}function mVt(t){const e={sdkName:EN,sdkVersion:f6,origin:window.location.origin,coop:KHt()};for(const[n,r]of Object.entries(e))t.searchParams.has(n)||t.searchParams.append(n,r.toString())}function yVt(t){var e,n;const r=(n=(e=ut.config.get().metadata)===null||e===void 0?void 0:e.appName)!==null&&n!==void 0?n:"App",i=UZ();return new Promise((s,o)=>{LZ({dialogContext:"popup_blocked"}),i.presentItem({title:hVt.replace("{app}",r),message:fVt,onClose:()=>{sv({dialogContext:"popup_blocked",dialogAction:"cancel"}),o(vt.rpc.internal("Popup window was blocked"))},actionItems:[{text:"Try again",variant:"primary",onClick:()=>{sv({dialogContext:"popup_blocked",dialogAction:"confirm"});const a=t();a?s(a):o(vt.rpc.internal("Popup window was blocked")),i.clear()}},{text:"Cancel",variant:"secondary",onClick:()=>{sv({dialogContext:"popup_blocked",dialogAction:"cancel"}),o(vt.rpc.internal("Popup window was blocked")),i.clear()}}]})})}class wVt{constructor({url:e=vHt,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{gVt(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(vt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(ZHt(),this.popup=await pVt(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(()=>{this.disconnect(),JHt()}).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:f6,sdkName:EN,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw vt.rpc.internal();return YHt(),this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function vVt(t){const e=FHt(xVt(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",f6),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function bVt(t){return t.errorMessage!==void 0}function xVt(t){var e;if(typeof t=="string")return{message:t,code:as.rpc.internal};if(bVt(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?as.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class EVt extends rf{}const CVt=({method:t,correlationId:e})=>{xr("provider.request.started",{action:dr.unknown,componentType:ur.unknown,method:t,signerType:"base-account",correlationId:e},hr.high)},_Vt=({method:t,correlationId:e,errorMessage:n})=>{xr("provider.request.error",{action:dr.error,componentType:ur.unknown,method:t,signerType:"base-account",correlationId:e,errorMessage:n},hr.high)},AVt=({method:t,correlationId:e})=>{xr("provider.request.responded",{action:dr.unknown,componentType:ur.unknown,method:t,signerType:"base-account",correlationId:e},hr.high)};function SVt(){return t=>t}const _N=SVt();function FZ(t){return Math.floor(t)}const IVt=/^[0-9]*$/,P7e=/^[a-f0-9]*$/;function kVt(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function $Vt(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function N7e(t){return _N(`0x${BigInt(t).toString(16)}`)}function TVt(t){return t.startsWith("0x")||t.startsWith("0X")}function O7e(t){return TVt(t)?t.slice(2):t}function PVt(t){if(typeof t!="string")return!1;const e=O7e(t).toLowerCase();return P7e.test(e)}function zZ(t,e=!1){if(typeof t=="string"){const n=O7e(t).toLowerCase();if(P7e.test(n))return _N(e?`0x${n}`:n)}throw vt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function NVt(t,e=!1){let n=zZ(t,!1);return n.length%2===1&&(n=_N(`0${n}`)),e?_N(`0x${n}`):n}function OVt(t){if(typeof t=="number"&&Number.isInteger(t))return FZ(t);if(typeof t=="string"){if(IVt.test(t))return FZ(Number(t));if(PVt(t))return FZ(Number(BigInt(NVt(t,!0))))}throw vt.rpc.invalidParams(`Not an integer: ${String(t)}`)}const RVt=({method:t,correlationId:e})=>{var n;xr("scw_signer.handshake.started",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},MVt=({method:t,correlationId:e,errorMessage:n})=>{var r;xr("scw_signer.handshake.error",{action:dr.error,componentType:ur.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=ut.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},hr.high)},jVt=({method:t,correlationId:e})=>{var n;xr("scw_signer.handshake.completed",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},BVt=({method:t,correlationId:e})=>{var n;xr("scw_signer.request.started",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},DVt=({method:t,correlationId:e,errorMessage:n})=>{var r;xr("scw_signer.request.error",{action:dr.error,componentType:ur.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=ut.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},hr.high)},LVt=({method:t,correlationId:e})=>{var n;xr("scw_signer.request.completed",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},UVt=({method:t,correlationId:e})=>{var n;xr("scw_sub_account.request.started",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},FVt=({method:t,correlationId:e})=>{var n;xr("scw_sub_account.request.completed",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},zVt=({method:t,correlationId:e,errorMessage:n})=>{var r;xr("scw_sub_account.request.error",{action:dr.error,componentType:ur.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=ut.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},hr.high)},WVt=({method:t,correlationId:e})=>{var n;xr("scw_sub_account.add_owner.started",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},qVt=({method:t,correlationId:e})=>{var n;xr("scw_sub_account.add_owner.completed",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},HVt=({method:t,correlationId:e,errorMessage:n})=>{var r;xr("scw_sub_account.add_owner.error",{action:dr.error,componentType:ur.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=ut.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},hr.high)},VVt=({method:t,correlationId:e})=>{var n;xr("scw_sub_account.insufficient_balance.error_handling.started",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},KVt=({method:t,correlationId:e})=>{var n;xr("scw_sub_account.insufficient_balance.error_handling.completed",{action:dr.unknown,componentType:ur.unknown,method:t,correlationId:e,enableAutoSubAccounts:(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.enableAutoSubAccounts},hr.high)},GVt=({method:t,correlationId:e,errorMessage:n})=>{var r;xr("scw_sub_account.insufficient_balance.error_handling.error",{action:dr.error,componentType:ur.unknown,method:t,correlationId:e,errorMessage:n,enableAutoSubAccounts:(r=ut.subAccountsConfig.get())===null||r===void 0?void 0:r.enableAutoSubAccounts},hr.high)},r7=t=>"message"in t&&typeof t.message=="string"?t.message:"",ZVt=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],YVt="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789";function R7e(t,e={}){const{forHash:n}=e,{authorization:r,factory:i,factoryData:s}=t;return n&&(i==="0x7702"||i==="0x7702000000000000000000000000000000000000")?r?Is([r.address,s??"0x"]):"0x7702000000000000000000000000000000000000":i?Is([i,s??"0x"]):"0x"}const M7e="0x22e325a297439656";function j7e(t,e={}){const{callGasLimit:n,callData:r,maxPriorityFeePerGas:i,maxFeePerGas:s,paymaster:o,paymasterData:a,paymasterPostOpGasLimit:c,paymasterSignature:l,paymasterVerificationGasLimit:u,sender:d,signature:h="0x",verificationGasLimit:f}=t,p=Is([ls(Fe(f||0n),{size:16}),ls(Fe(n||0n),{size:16})]),m=R7e(t,e),w=Is([ls(Fe(i||0n),{size:16}),ls(Fe(s||0n),{size:16})]),y=t.nonce??0n,b=o?Is([o,ls(Fe(u||0n),{size:16}),ls(Fe(c||0n),{size:16}),a||"0x",...l?e.forHash?[M7e]:[l,ls(Fe(yi(l)),{size:2}),M7e]:[]]):"0x",v=t.preVerificationGas??0n;return{accountGasLimits:p,callData:r,initCode:m,gasFees:w,nonce:y,paymasterAndData:b,preVerificationGas:v,sender:d,signature:h}}const JVt={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function QVt(t){const{chainId:e,entryPointAddress:n,userOperation:r}=t,i=j7e(r,{forHash:!0});return{types:JVt,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:e,verifyingContract:n},message:i}}function XVt(t){const{chainId:e,entryPointAddress:n,entryPointVersion:r}=t,i=t.userOperation,{authorization:s,callData:o="0x",callGasLimit:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymasterAndData:d="0x",preVerificationGas:h,sender:f,verificationGasLimit:p}=i;if(r==="0.8"||r==="0.9")return a8(QVt({chainId:e,entryPointAddress:n,userOperation:i}));const m=(()=>{var w,y;if(r==="0.6"){const b=(w=i.initCode)==null?void 0:w.slice(0,42),v=(y=i.initCode)==null?void 0:y.slice(42),E=R7e({authorization:s,factory:b,factoryData:v},{forHash:!0});return vc([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[f,u,Yr(E),Yr(o),a,p,h,c,l,Yr(d)])}if(r==="0.7"){const b=j7e(i,{forHash:!0});return vc([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[b.sender,b.nonce,Yr(b.initCode),Yr(b.callData),b.accountGasLimits,b.preVerificationGas,b.gasFees,Yr(b.paymasterAndData)])}throw new Error(`entryPointVersion "${r}" not supported.`)})();return Yr(vc([{type:"bytes32"},{type:"address"},{type:"uint256"}],[Yr(m),n,BigInt(e)]))}async function eKt(t){const{extend:e,nonceKeyManager:n=XOe({source:{get(){return Date.now()},set(){}}}),...r}=t;let i=!1;const s=await t.getAddress();return{...e,...r,address:s,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:t.getFactoryArgs()},async getNonce(o){const a=(o==null?void 0:o.key)??BigInt(await n.consume({address:s,chainId:t.client.chain.id,client:t.client}));return t.getNonce?await t.getNonce({...o,key:a}):await Cc(t.client,{abi:sj(["function getNonce(address, uint192) pure returns (uint256)"]),address:t.entryPoint.address,functionName:"getNonce",args:[s,a]})},async isDeployed(){return i?!0:(i=!!await lt(t.client,S8,"getCode")({address:s}),i)},...t.sign?{async sign(o){const[{factory:a,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.sign(o)]);return a&&c?SB({address:a,data:c,signature:l}):l}}:{},async signMessage(o){const[{factory:a,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signMessage(o)]);return a&&c&&a!=="0x7702"?SB({address:a,data:c,signature:l}):l},async signTypedData(o){const[{factory:a,factoryData:c},l]=await Promise.all([this.getFactoryArgs(),t.signTypedData(o)]);return a&&c&&a!=="0x7702"?SB({address:a,data:c,signature:l}):l},type:"smart"}}class WZ extends xe{constructor({cause:e}){super("Smart Account is not deployed.",{cause:e,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(WZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class g6 extends xe{constructor({cause:e,data:n,message:r}={}){var s;const i=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n}}Object.defineProperty(g6,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521}),Object.defineProperty(g6,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class qZ extends xe{constructor({cause:e}){super("Failed to send funds to beneficiary.",{cause:e,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(qZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class HZ extends xe{constructor({cause:e}){super("Gas value overflowed.",{cause:e,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(HZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class VZ extends xe{constructor({cause:e}){super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:e,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(VZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class KZ extends xe{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Failed to simulate deployment for Smart Account.",{cause:e,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)",`- Smart Account deployment execution reverted with an error
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(KZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class GZ extends xe{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Smart Account initialization implementation did not create an account.",{cause:e,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid",`- Smart Account initialization implementation is incorrect
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(GZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class ZZ extends xe{constructor({cause:e,factory:n,factoryData:r,initCode:i,sender:s}){super("Smart Account initialization implementation does not return the expected sender.",{cause:e,metaMessages:["This could arise when:",`Smart Account initialization implementation does not return a sender address
`,n&&`factory: ${n}`,r&&`factoryData: ${r}`,i&&`initCode: ${i}`,s&&`sender: ${s}`].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(ZZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class YZ extends xe{constructor({cause:e}){super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:e,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(YZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class JZ extends xe{constructor({cause:e}){super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:e,name:"InternalCallOnlyError"})}}Object.defineProperty(JZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class QZ extends xe{constructor({cause:e}){super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:e,name:"InvalidAggregatorError"})}}Object.defineProperty(QZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class XZ extends xe{constructor({cause:e,nonce:n}){super("Invalid Smart Account nonce used for User Operation.",{cause:e,metaMessages:[n&&`nonce: ${n}`].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(XZ,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class eY extends xe{constructor({cause:e}){super("Bundler has not set a beneficiary address.",{cause:e,name:"InvalidBeneficiaryError"})}}Object.defineProperty(eY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class AN extends xe{constructor({cause:e}){super("Invalid fields set on User Operation.",{cause:e,name:"InvalidFieldsError"})}}Object.defineProperty(AN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class tY extends xe{constructor({cause:e,paymasterAndData:n}){super("Paymaster properties provided are invalid.",{cause:e,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",n&&`paymasterAndData: ${n}`].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(tY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class ov extends xe{constructor({cause:e}){super("Paymaster deposit for the User Operation is too low.",{cause:e,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(ov,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508}),Object.defineProperty(ov,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class nY extends xe{constructor({cause:e}){super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:e,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(nY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class rY extends xe{constructor({cause:e}){super("The Paymaster contract has not been deployed.",{cause:e,name:"PaymasterNotDeployedError"})}}Object.defineProperty(rY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class SN extends xe{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterRateLimitError"})}}Object.defineProperty(SN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class IN extends xe{constructor({cause:e}){super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:e,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(IN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class iY extends xe{constructor({cause:e}){super("Paymaster `postOp` function reverted.",{cause:e,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(iY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class sY extends xe{constructor({cause:e,factory:n,factoryData:r,initCode:i}){super("Smart Account has already been deployed.",{cause:e,metaMessages:["Remove the following properties and try again:",n&&"`factory`",r&&"`factoryData`",i&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(sY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class kN extends xe{constructor({cause:e}){super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:e,name:"SignatureCheckFailedError"})}}Object.defineProperty(kN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class oY extends xe{constructor({cause:e}){super("The `validateUserOp` function on the Smart Account reverted.",{cause:e,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(oY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class $N extends xe{constructor({cause:e}){super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:e,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty($N,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class aY extends xe{constructor({cause:e}){super("User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(aY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class cY extends xe{constructor({cause:e}){super("Paymaster for User Operation expired.",{cause:e,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(cY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class lY extends xe{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(lY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class uY extends xe{constructor({cause:e}){super("Signature provided for the User Operation is invalid.",{cause:e,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(uY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class TN extends xe{constructor({cause:e}){super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:e,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(TN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class PN extends xe{constructor({cause:e}){super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:e,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(PN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class NN extends xe{constructor({cause:e}){super("User Operation rejected with op code validation error.",{cause:e,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(NN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class ON extends xe{constructor({cause:e}){super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:e,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(ON,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class tKt extends xe{constructor({cause:e}){super(`An error occurred while executing user operation: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownBundlerError"})}}class dY extends xe{constructor({cause:e}){super("User Operation verification gas limit exceeded.",{cause:e,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(dY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class hY extends xe{constructor({cause:e}){super("User Operation verification gas limit is too low.",{cause:e,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(hY,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});class nKt extends xe{constructor(e,{callData:n,callGasLimit:r,docsPath:i,factory:s,factoryData:o,initCode:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,paymaster:d,paymasterAndData:h,paymasterData:f,paymasterPostOpGasLimit:p,paymasterVerificationGasLimit:m,preVerificationGas:w,sender:y,signature:b,verificationGasLimit:v}){const E=cb({callData:n,callGasLimit:r,factory:s,factoryData:o,initCode:a,maxFeePerGas:typeof c<"u"&&`${na(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${na(l)} gwei`,nonce:u,paymaster:d,paymasterAndData:h,paymasterData:f,paymasterPostOpGasLimit:p,paymasterVerificationGasLimit:m,preVerificationGas:w,sender:y,signature:b,verificationGasLimit:v});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",E].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class rKt extends xe{constructor({hash:e}){super(`User Operation receipt with hash "${e}" could not be found. The User Operation may not have been processed yet.`,{name:"UserOperationReceiptNotFoundError"})}}class iKt extends xe{constructor({hash:e}){super(`User Operation with hash "${e}" could not be found.`,{name:"UserOperationNotFoundError"})}}class B7e extends xe{constructor({hash:e}){super(`Timed out while waiting for User Operation with hash "${e}" to be confirmed.`,{name:"WaitForUserOperationReceiptTimeoutError"})}}const sKt=[g6,AN,ov,SN,IN,kN,$N,ON,TN,PN,NN];function oKt(t,e){const n=(t.details||"").toLowerCase();if(WZ.message.test(n))return new WZ({cause:t});if(qZ.message.test(n))return new qZ({cause:t});if(HZ.message.test(n))return new HZ({cause:t});if(VZ.message.test(n))return new VZ({cause:t});if(KZ.message.test(n))return new KZ({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(GZ.message.test(n))return new GZ({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(ZZ.message.test(n))return new ZZ({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode,sender:e.sender});if(YZ.message.test(n))return new YZ({cause:t});if(JZ.message.test(n))return new JZ({cause:t});if(XZ.message.test(n))return new XZ({cause:t,nonce:e.nonce});if(QZ.message.test(n))return new QZ({cause:t});if(eY.message.test(n))return new eY({cause:t});if(tY.message.test(n))return new tY({cause:t});if(ov.message.test(n))return new ov({cause:t});if(nY.message.test(n))return new nY({cause:t});if(rY.message.test(n))return new rY({cause:t});if(iY.message.test(n))return new iY({cause:t});if(oY.message.test(n))return new oY({cause:t});if(sY.message.test(n))return new sY({cause:t,factory:e.factory,factoryData:e.factoryData,initCode:e.initCode});if(aY.message.test(n))return new aY({cause:t});if(cY.message.test(n))return new cY({cause:t});if(uY.message.test(n))return new uY({cause:t});if(lY.message.test(n))return new lY({cause:t});if(dY.message.test(n))return new dY({cause:t});if(hY.message.test(n))return new hY({cause:t});const r=t.walk(i=>sKt.some(s=>s.code===i.code));if(r){if(r.code===g6.code)return new g6({cause:t,data:r.data,message:r.details});if(r.code===AN.code)return new AN({cause:t});if(r.code===ov.code)return new ov({cause:t});if(r.code===SN.code)return new SN({cause:t});if(r.code===IN.code)return new IN({cause:t});if(r.code===kN.code)return new kN({cause:t});if(r.code===$N.code)return new $N({cause:t});if(r.code===ON.code)return new ON({cause:t});if(r.code===TN.code)return new TN({cause:t});if(r.code===PN.code)return new PN({cause:t});if(r.code===NN.code)return new NN({cause:t})}return new tKt({cause:t})}function D7e(t,{calls:e,docsPath:n,...r}){const i=(()=>{const s=oKt(t,r);if(e&&s instanceof g6){const o=aKt(s),a=e==null?void 0:e.filter(c=>c.abi);if(o&&a.length>0)return cKt({calls:a,revertData:o})}return s})();return new nKt(i,{docsPath:n,...r})}function aKt(t){let e;return t.walk(n=>{var i,s,o,a;const r=n;if(typeof r.data=="string"||typeof((i=r.data)==null?void 0:i.revertData)=="string"||!(r instanceof xe)&&typeof r.message=="string"){const c=(a=(o=((s=r.data)==null?void 0:s.revertData)||r.data||r.message).match)==null?void 0:a.call(o,/(0x[A-Za-z0-9]*)/);if(c)return e=c[1],!0}return!1}),e}function cKt(t){const{calls:e,revertData:n}=t,{abi:r,functionName:i,args:s,to:o}=(()=>{const c=e==null?void 0:e.filter(u=>!!u.abi);if(c.length===1)return c[0];const l=c.filter(u=>{try{return!!Ej({abi:u.abi,data:n})}catch{return!1}});return l.length===1?l[0]:{abi:[],functionName:c.reduce((u,d)=>`${u?`${u} | `:""}${d.functionName}`,""),args:void 0,to:void 0}})(),a=n==="0x"?new qre({functionName:i}):new bA({abi:r,data:n,functionName:i});return new Zj(a,{abi:r,args:s,contractAddress:o,functionName:i})}function lKt(t){const e={};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),e}function RN(t){const e={};return typeof t.callData<"u"&&(e.callData=t.callData),typeof t.callGasLimit<"u"&&(e.callGasLimit=Fe(t.callGasLimit)),typeof t.factory<"u"&&(e.factory=t.factory),typeof t.factoryData<"u"&&(e.factoryData=t.factoryData),typeof t.initCode<"u"&&(e.initCode=t.initCode),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Fe(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Fe(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Fe(t.nonce)),typeof t.paymaster<"u"&&(e.paymaster=t.paymaster),typeof t.paymasterAndData<"u"&&(e.paymasterAndData=t.paymasterAndData||"0x"),typeof t.paymasterData<"u"&&(e.paymasterData=t.paymasterData),typeof t.paymasterPostOpGasLimit<"u"&&(e.paymasterPostOpGasLimit=Fe(t.paymasterPostOpGasLimit)),typeof t.paymasterSignature<"u"&&(e.paymasterSignature=t.paymasterSignature),typeof t.paymasterVerificationGasLimit<"u"&&(e.paymasterVerificationGasLimit=Fe(t.paymasterVerificationGasLimit)),typeof t.preVerificationGas<"u"&&(e.preVerificationGas=Fe(t.preVerificationGas)),typeof t.sender<"u"&&(e.sender=t.sender),typeof t.signature<"u"&&(e.signature=t.signature),typeof t.verificationGasLimit<"u"&&(e.verificationGasLimit=Fe(t.verificationGasLimit)),typeof t.authorization<"u"&&(e.eip7702Auth=uKt(t.authorization)),e}function uKt(t){return{address:t.address,chainId:Fe(t.chainId),nonce:Fe(t.nonce),r:t.r?Fe(BigInt(t.r),{size:32}):ls("0x",{size:32}),s:t.s?Fe(BigInt(t.s),{size:32}):ls("0x",{size:32}),yParity:t.yParity?Fe(t.yParity,{size:1}):ls("0x",{size:32})}}async function dKt(t,e){const{chainId:n,entryPointAddress:r,context:i,...s}=e,o=RN(s),{paymasterPostOpGasLimit:a,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,Fe(n),i]});return{...l,...a&&{paymasterPostOpGasLimit:Ki(a)},...c&&{paymasterVerificationGasLimit:Ki(c)}}}async function hKt(t,e){const{chainId:n,entryPointAddress:r,context:i,...s}=e,o=RN(s),{paymasterPostOpGasLimit:a,paymasterVerificationGasLimit:c,...l}=await t.request({method:"pm_getPaymasterStubData",params:[{...o,callGasLimit:o.callGasLimit??"0x0",verificationGasLimit:o.verificationGasLimit??"0x0",preVerificationGas:o.preVerificationGas??"0x0"},r,Fe(n),i]});return{...l,...a&&{paymasterPostOpGasLimit:Ki(a)},...c&&{paymasterVerificationGasLimit:Ki(c)}}}const fKt=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function fY(t,e){var T;const n=e,{account:r=t.account,parameters:i=fKt,stateOverride:s}=n;if(!r)throw new Rd;const o=Br(r),a=t,c=n.paymaster??(a==null?void 0:a.paymaster),l=typeof c=="string"?c:void 0,{getPaymasterStubData:u,getPaymasterData:d}=(()=>{if(c===!0)return{getPaymasterStubData:I=>lt(a,hKt,"getPaymasterStubData")(I),getPaymasterData:I=>lt(a,dKt,"getPaymasterData")(I)};if(typeof c=="object"){const{getPaymasterStubData:I,getPaymasterData:R}=c;return{getPaymasterStubData:R&&I?I:R,getPaymasterData:R&&I?R:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),h=n.paymasterContext?n.paymasterContext:a==null?void 0:a.paymasterContext;let f={...n,paymaster:l,sender:o.address};const[p,m,w,y,b]=await Promise.all([(async()=>n.calls?o.encodeCalls(n.calls.map(I=>{const R=I;return R.abi?{data:wi(R),to:R.to,value:R.value}:R})):n.callData)(),(async()=>{if(!i.includes("factory"))return;if(n.initCode)return{initCode:n.initCode};if(n.factory&&n.factoryData)return{factory:n.factory,factoryData:n.factoryData};const{factory:I,factoryData:R}=await o.getFactoryArgs();return o.entryPoint.version==="0.6"?{initCode:I&&R?Is([I,R]):void 0}:{factory:I,factoryData:R}})(),(async()=>{var I;if(i.includes("fees")){if(typeof n.maxFeePerGas=="bigint"&&typeof n.maxPriorityFeePerGas=="bigint")return f;if((I=a==null?void 0:a.userOperation)!=null&&I.estimateFeesPerGas){const R=await a.userOperation.estimateFeesPerGas({account:o,bundlerClient:a,userOperation:f});return{...f,...R}}try{const R=a.client??t,S=await lt(R,Wse,"estimateFeesPerGas")({chain:R.chain,type:"eip1559"});return{maxFeePerGas:typeof n.maxFeePerGas=="bigint"?n.maxFeePerGas:BigInt(2n*S.maxFeePerGas),maxPriorityFeePerGas:typeof n.maxPriorityFeePerGas=="bigint"?n.maxPriorityFeePerGas:BigInt(2n*S.maxPriorityFeePerGas)}}catch{return}}})(),(async()=>{if(i.includes("nonce"))return typeof n.nonce=="bigint"?n.nonce:o.getNonce()})(),(async()=>{if(i.includes("authorization")){if(typeof n.authorization=="object")return n.authorization;if(o.authorization&&!await o.isDeployed())return{...await mD(o.client,o.authorization),r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1}}})()]);typeof p<"u"&&(f.callData=p),typeof m<"u"&&(f={...f,...m}),typeof w<"u"&&(f={...f,...w}),typeof y<"u"&&(f.nonce=y),typeof b<"u"&&(f.authorization=b),i.includes("signature")&&(typeof n.signature<"u"?f.signature=n.signature:f.signature=await o.getStubSignature(f)),o.entryPoint.version==="0.6"&&!f.initCode&&(f.initCode="0x");let v;async function E(){return v||(t.chain?t.chain.id:(v=await lt(t,zh,"getChainId")({}),v))}let _=!1;if(i.includes("paymaster")&&u&&!l&&!n.paymasterAndData){const{isFinal:I=!1,sponsor:R,...S}=await u({chainId:await E(),entryPointAddress:o.entryPoint.address,context:h,...f});_=I,f={...f,...S}}if(o.entryPoint.version==="0.6"&&!f.paymasterAndData&&(f.paymasterAndData="0x"),i.includes("gas")){if((T=o.userOperation)!=null&&T.estimateGas){const I=await o.userOperation.estimateGas(f);f={...f,...I}}if(typeof f.callGasLimit>"u"||typeof f.preVerificationGas>"u"||typeof f.verificationGasLimit>"u"||f.paymaster&&typeof f.paymasterPostOpGasLimit>"u"||f.paymaster&&typeof f.paymasterVerificationGasLimit>"u"){const I=await lt(a,L7e,"estimateUserOperationGas")({account:o,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:s,...f.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{},...f});f={...f,callGasLimit:f.callGasLimit??I.callGasLimit,preVerificationGas:f.preVerificationGas??I.preVerificationGas,verificationGasLimit:f.verificationGasLimit??I.verificationGasLimit,paymasterPostOpGasLimit:f.paymasterPostOpGasLimit??I.paymasterPostOpGasLimit,paymasterVerificationGasLimit:f.paymasterVerificationGasLimit??I.paymasterVerificationGasLimit}}}if(i.includes("paymaster")&&d&&!l&&!n.paymasterAndData&&!_){const I=await d({chainId:await E(),entryPointAddress:o.entryPoint.address,context:h,...f});f={...f,...I}}return delete f.calls,delete f.parameters,delete f.paymasterContext,typeof f.paymaster!="string"&&delete f.paymaster,f}async function L7e(t,e){var c;const{account:n=t.account,entryPointAddress:r,stateOverride:i}=e;if(!n&&!e.sender)throw new Rd;const s=n?Br(n):void 0,o=CA(i),a=s?await lt(t,fY,"prepareUserOperation")({...e,parameters:["authorization","factory","nonce","paymaster","signature"]}):e;try{const l=[RN(a),r??((c=s==null?void 0:s.entryPoint)==null?void 0:c.address)],u=await t.request({method:"eth_estimateUserOperationGas",params:o?[...l,o]:[...l]});return lKt(u)}catch(l){const u=e.calls;throw D7e(l,{...a,...u?{calls:u}:{}})}}function pKt(t){return t.request({method:"eth_supportedEntryPoints"})}function gKt(t){const e={...t};return t.callGasLimit&&(e.callGasLimit=BigInt(t.callGasLimit)),t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t.nonce&&(e.nonce=BigInt(t.nonce)),t.paymasterPostOpGasLimit&&(e.paymasterPostOpGasLimit=BigInt(t.paymasterPostOpGasLimit)),t.paymasterVerificationGasLimit&&(e.paymasterVerificationGasLimit=BigInt(t.paymasterVerificationGasLimit)),t.preVerificationGas&&(e.preVerificationGas=BigInt(t.preVerificationGas)),t.verificationGasLimit&&(e.verificationGasLimit=BigInt(t.verificationGasLimit)),e}async function mKt(t,{hash:e}){const n=await t.request({method:"eth_getUserOperationByHash",params:[e]},{dedupe:!0});if(!n)throw new iKt({hash:e});const{blockHash:r,blockNumber:i,entryPoint:s,transactionHash:o,userOperation:a}=n;return{blockHash:r,blockNumber:BigInt(i),entryPoint:s,transactionHash:o,userOperation:gKt(a)}}function yKt(t){const e={...t};return t.actualGasCost&&(e.actualGasCost=BigInt(t.actualGasCost)),t.actualGasUsed&&(e.actualGasUsed=BigInt(t.actualGasUsed)),t.logs&&(e.logs=t.logs.map(n=>Fh(n))),t.receipt&&(e.receipt=eB(e.receipt)),e}async function U7e(t,{hash:e}){const n=await t.request({method:"eth_getUserOperationReceipt",params:[e]},{dedupe:!0});if(!n)throw new rKt({hash:e});return yKt(n)}async function wKt(t,e){var c,l;const{account:n=t.account,entryPointAddress:r}=e;if(!n&&!e.sender)throw new Rd;const i=n?Br(n):void 0,s=i?await lt(t,fY,"prepareUserOperation")(e):e,o=e.signature||await((c=i==null?void 0:i.signUserOperation)==null?void 0:c.call(i,s)),a=RN({...s,signature:o});try{return await t.request({method:"eth_sendUserOperation",params:[a,r??((l=i==null?void 0:i.entryPoint)==null?void 0:l.address)]},{retryCount:0})}catch(u){const d=e.calls;throw D7e(u,{...s,...d?{calls:d}:{},signature:o})}}function vKt(t,e){const{hash:n,pollingInterval:r=t.pollingInterval,retryCount:i,timeout:s=12e4}=e;let o=0;const a=Oi(["waitForUserOperationReceipt",t.uid,n]);return new Promise((c,l)=>{const u=Wh(a,{resolve:c,reject:l},d=>{const h=m=>{p(),m(),u()},f=s?setTimeout(()=>h(()=>d.reject(new B7e({hash:n}))),s):void 0,p=J1(async()=>{i&&o>=i&&(clearTimeout(f),h(()=>d.reject(new B7e({hash:n}))));try{const m=await lt(t,U7e,"getUserOperationReceipt")({hash:n});clearTimeout(f),h(()=>d.resolve(m))}catch(m){const w=m;w.name!=="UserOperationReceiptNotFoundError"&&(clearTimeout(f),h(()=>d.reject(w)))}o++},{emitOnBegin:!0,interval:r});return p})})}function bKt(t){return{estimateUserOperationGas:e=>L7e(t,e),getChainId:()=>zh(t),getSupportedEntryPoints:()=>pKt(t),getUserOperation:e=>mKt(t,e),getUserOperationReceipt:e=>U7e(t,e),prepareUserOperation:e=>fY(t,e),sendUserOperation:e=>wKt(t,e),waitForUserOperationReceipt:e=>vKt(t,e)}}function xKt(t){const{client:e,key:n="bundler",name:r="Bundler Client",paymaster:i,paymasterContext:s,transport:o,userOperation:a}=t;return Object.assign(iD({...t,chain:t.chain??(e==null?void 0:e.chain),key:n,name:r,transport:o,type:"bundlerClient"}),{client:e,paymaster:i,paymasterContext:s,userOperation:a}).extend(bKt)}const F7e=RZ(()=>({}));function z7e(t){t.forEach(e=>{var n,r,i,s,o,a,c,l;if(!e.rpcUrl)return;const u=GOe({id:e.id,rpcUrls:{default:{http:[e.rpcUrl]}},name:(r=(n=e.nativeCurrency)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",nativeCurrency:{name:(s=(i=e.nativeCurrency)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",symbol:(a=(o=e.nativeCurrency)===null||o===void 0?void 0:o.symbol)!==null&&a!==void 0?a:"",decimals:(l=(c=e.nativeCurrency)===null||c===void 0?void 0:c.decimal)!==null&&l!==void 0?l:18}}),d=Hh({chain:u,transport:Ua(e.rpcUrl)}),h=xKt({client:d,transport:Ua(e.rpcUrl)});F7e.setState({[e.id]:{client:d,bundlerClient:h}})})}function W7e(t){var e;return(e=F7e.getState()[t])===null||e===void 0?void 0:e.client}const MN=RZ(()=>({correlationIds:new Map})),U0={get:t=>MN.getState().correlationIds.get(t),set:(t,e)=>{MN.setState(n=>{const r=new Map(n.correlationIds);return r.set(t,e),{correlationIds:r}})},delete:t=>{MN.setState(e=>{const n=new Map(e.correlationIds);return n.delete(t),{correlationIds:n}})},clear:()=>{MN.setState({correlationIds:new Map})}};function jN(t){if(typeof t!="object"||t===null)throw vt.rpc.internal("sub account info is not an object");if(!("address"in t))throw vt.rpc.internal("sub account is invalid");if("address"in t&&typeof t.address=="string"&&!us(t.address))throw vt.rpc.internal("sub account address is invalid");if("factory"in t&&typeof t.factory=="string"&&!us(t.factory))throw vt.rpc.internal("sub account factory address is invalid");if("factoryData"in t&&typeof t.factoryData=="string"&&!Si(t.factoryData))throw vt.rpc.internal("sub account factory data is invalid")}async function EKt(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function CKt(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function _Kt(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function AKt(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function q7e(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function H7e(t,e){const n=q7e(t),r=await crypto.subtle.exportKey(n,e);return kVt(new Uint8Array(r))}async function V7e(t,e){const n=q7e(t),r=$Vt(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function SKt(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return _Kt(e,n)}async function IKt(t,e){return JSON.parse(await AKt(e,t))}async function BN(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":f6,"X-Cbw-Sdk-Platform":EN}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function kKt(t){if(!t||typeof t!="object"||Array.isArray(t))throw vt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw vt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw vt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw vt.provider.unsupportedMethod()}}const $Kt="0.1.1";function TKt(){return $Kt}class Ei extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof Ei){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof Ei&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${TKt()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return K7e(this,e)}}function K7e(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?K7e(t.cause,e):e?null:t}const PKt="#__bigint";function DN(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+PKt:i,n)}function NKt(t,e){if(y6(t)>e)throw new GKt({givenSize:y6(t),maxSize:e})}function OKt(t,e){if(typeof e=="number"&&e>0&&e>y6(t)-1)throw new a_e({offset:e,position:"start",size:y6(t)})}function RKt(t,e,n){if(typeof e=="number"&&typeof n=="number"&&y6(t)!==n-e)throw new a_e({offset:n,position:"end",size:y6(t)})}const F0={zero:48,nine:57,A:65,F:70,a:97,f:102};function G7e(t){if(t>=F0.zero&&t<=F0.nine)return t-F0.zero;if(t>=F0.A&&t<=F0.F)return t-(F0.A-10);if(t>=F0.a&&t<=F0.f)return t-(F0.a-10)}function pY(t,e){if(d1(t)>e)throw new qKt({givenSize:d1(t),maxSize:e})}function MKt(t,e){if(typeof e=="number"&&e>0&&e>d1(t)-1)throw new t_e({offset:e,position:"start",size:d1(t)})}function jKt(t,e,n){if(typeof e=="number"&&typeof n=="number"&&d1(t)!==n-e)throw new t_e({offset:n,position:"end",size:d1(t)})}function Z7e(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new HKt({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const BKt=new TextEncoder,DKt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function LKt(t,e={}){const{strict:n=!1}=e;if(!t)throw new X7e(t);if(typeof t!="string")throw new X7e(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new e_e(t);if(!t.startsWith("0x"))throw new e_e(t)}function LN(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Y7e(t){return t instanceof Uint8Array?m6(t):Array.isArray(t)?m6(new Uint8Array(t)):t}function m6(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=DKt[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(pY(r,e.size),Q7e(r,e.size)):r}function u1(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new WKt({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?UKt(c,r):c}function J7e(t,e={}){return m6(BKt.encode(t),e)}function UKt(t,e){return Z7e(t,{dir:"left",size:e})}function Q7e(t,e){return Z7e(t,{dir:"right",size:e})}function uu(t,e,n,r={}){const{strict:i}=r;MKt(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&jKt(s,e,n),s}function d1(t){return Math.ceil((t.length-2)/2)}function FKt(t,e={}){const{signed:n}=e;e.size&&pY(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function zKt(t,e={}){const{strict:n=!1}=e;try{return LKt(t,{strict:n}),!0}catch{return!1}}class WKt extends Ei{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class X7e extends Ei{constructor(e){super(`Value \`${typeof e=="object"?DN(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class e_e extends Ei{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let qKt=class extends Ei{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},t_e=class extends Ei{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}};class HKt extends Ei{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function VKt(t){if(!(t instanceof Uint8Array)){if(!t)throw new UN(t);if(typeof t!="object")throw new UN(t);if(!("BYTES_PER_ELEMENT"in t))throw new UN(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new UN(t)}}function n_e(t){return t instanceof Uint8Array?t:typeof t=="string"?i_e(t):r_e(t)}function r_e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function i_e(t,e={}){const{size:n}=e;let r=t;n&&(pY(t,n),r=Q7e(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=G7e(i.charCodeAt(c++)),u=G7e(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Ei(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function y6(t){return t.length}function s_e(t,e,n,r={}){const{strict:i}=r;OKt(t,e);const s=t.slice(e,n);return i&&RKt(s,e,n),s}function o_e(t,e={}){const{size:n}=e;typeof n<"u"&&NKt(t,n);const r=m6(t,e);return FKt(r,e)}function KKt(t){try{return VKt(t),!0}catch{return!1}}class UN extends Ei{constructor(e){super(`Value \`${typeof e=="object"?DN(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class GKt extends Ei{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class a_e extends Ei{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}function c_e(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=R4(n_e(t));return n==="Bytes"?r:m6(r)}function l_e(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new d_e({prefix:r,cause:new XKt});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new d_e({prefix:r,cause:new QKt});return}throw new JKt({publicKey:t})}function ZKt(t){const e=(()=>{if(zKt(t))return u_e(t);if(KKt(t))return YKt(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return l_e(e),e}function YKt(t){return u_e(m6(t))}function u_e(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new eGt({publicKey:t});if(t.length===130){const r=BigInt(uu(t,0,32)),i=BigInt(uu(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(uu(t,0,1)),i=BigInt(uu(t,1,33)),s=BigInt(uu(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(uu(t,0,1)),n=BigInt(uu(t,1,33));return{prefix:e,x:n}}function FN(t,e={}){l_e(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return LN(s?u1(n,{size:1}):"0x",u1(r,{size:32}),typeof i=="bigint"?u1(i,{size:32}):"0x")}class JKt extends Ei{constructor({publicKey:e}){super(`Value \`${DN(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class d_e extends Ei{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class QKt extends Ei{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class XKt extends Ei{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let eGt=class extends Ei{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${d1(Y7e(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const h_e=2n**256n-1n;function tGt(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new gY({signature:t});if(typeof t.s>"u")throw new gY({signature:t});if(n&&typeof t.yParity>"u")throw new gY({signature:t});if(t.r<0n||t.r>h_e)throw new oGt({value:t.r});if(t.s<0n||t.s>h_e)throw new aGt({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new mY({value:t.yParity})}function f_e(t){if(t.length!==130&&t.length!==132)throw new sGt({signature:t});const e=BigInt(uu(t,0,32)),n=BigInt(uu(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return rGt(i)}catch{throw new mY({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function nGt(t){tGt(t);const e=t.r,n=t.s;return LN(u1(e,{size:32}),u1(n,{size:32}),typeof t.yParity=="number"?u1(iGt(t.yParity),{size:1}):"0x")}function rGt(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new cGt({value:t})}function iGt(t){if(t===0)return 27;if(t===1)return 28;throw new mY({value:t})}class sGt extends Ei{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${d1(Y7e(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class gY extends Ei{constructor({signature:e}){super(`Signature \`${DN(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class oGt extends Ei{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class aGt extends Ei{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class mY extends Ei{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class cGt extends Ei{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}const lGt=new TextDecoder,zN=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)]));({...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e]))});function uGt(t,e={}){const{pad:n=!0,url:r=!1}=e,i=new Uint8Array(Math.ceil(t.length/3)*4);for(let c=0,l=0;l<t.length;c+=4,l+=3){const u=(t[l]<<16)+(t[l+1]<<8)+(t[l+2]|0);i[c]=zN[u>>18],i[c+1]=zN[u>>12&63],i[c+2]=zN[u>>6&63],i[c+3]=zN[u&63]}const s=t.length%3,o=Math.floor(t.length/3)*4+(s&&s+1);let a=lGt.decode(new Uint8Array(i.buffer,0,o));return n&&s===1&&(a+="=="),n&&s===2&&(a+="="),r&&(a=a.replaceAll("+","-").replaceAll("/","_")),a}function dGt(t,e={}){return uGt(i_e(t),e)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p_e={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},g_e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},m_e={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},hGt=jf(p_e.p),fGt=jf(g_e.p),pGt=jf(m_e.p),gGt=QT({...p_e,Fp:hGt,lowS:!1},O4);QT({...g_e,Fp:fGt,lowS:!1},kNe),QT({...m_e,Fp:pGt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},ore);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y_e=gGt;Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233]);function mGt(t={}){const{flag:e=5,rpId:n=window.location.hostname,signCount:r=0}=t,i=c_e(J7e(n)),s=u1(e,{size:1}),o=u1(r,{size:4});return LN(i,s,o)}function yGt(t){const{challenge:e,crossOrigin:n=!1,extraClientData:r,origin:i=window.location.origin}=t;return JSON.stringify({type:"webauthn.get",challenge:dGt(e,{url:!0,pad:!1}),origin:i,crossOrigin:n,...r})}function wGt(t){const{challenge:e,crossOrigin:n,extraClientData:r,flag:i,origin:s,rpId:o,signCount:a,userVerification:c="required"}=t,l=mGt({flag:i,rpId:o,signCount:a}),u=yGt({challenge:e,crossOrigin:n,extraClientData:r,origin:s}),d=c_e(J7e(u)),h=u.indexOf('"challenge"'),f=u.indexOf('"type"'),p={authenticatorData:l,clientDataJSON:u,challengeIndex:h,typeIndex:f,userVerificationRequired:c==="required"},m=LN(l,d);return{metadata:p,payload:m}}async function vGt(t={}){const{extractable:e=!1}=t,n=await globalThis.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},e,["sign","verify"]),r=await globalThis.crypto.subtle.exportKey("raw",n.publicKey),i=ZKt(new Uint8Array(r));return{privateKey:n.privateKey,publicKey:i}}async function bGt(t){const{payload:e,privateKey:n}=t,r=await globalThis.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},n,n_e(e)),i=r_e(new Uint8Array(r)),s=o_e(s_e(i,0,32));let o=o_e(s_e(i,32,64));return o>y_e.CURVE.n/2n&&(o=y_e.CURVE.n-o),{r:s,s:o}}function xGt(t,e){const n=typeof indexedDB<"u"?r$(t,e):void 0;return{getItem:async r=>{const i=await pE(r,n);return i||null},removeItem:async r=>fW(r,n),setItem:async(r,i)=>hW(r,i,n)}}const EGt="base-acc-sdk",CGt="keys",WN="activeId",h1=xGt(EGt,CGt);async function _Gt(){const t=await vGt({extractable:!1}),e=uu(FN(t.publicKey),1);return await h1.setItem(e,t),await h1.setItem(WN,e),t}async function w_e(){const t=await h1.getItem(WN);if(!t)return null;const e=await h1.getItem(t);return e||null}async function AGt(){const t=await w_e();if(!t){const e=await _Gt(),n=uu(FN(e.publicKey),1);return await h1.setItem(n,e),await h1.setItem(WN,n),e}return t}async function SGt(){const t=await AGt(),e=uu(FN(t.publicKey),1),n=async r=>{const{payload:i,metadata:s}=wGt({challenge:r,origin:"https://keys.coinbase.com",userVerification:"preferred"}),o=await bGt({payload:i,privateKey:t.privateKey});return{signature:nGt(o),raw:{},webauthn:s}};return{id:e,publicKey:e,async sign({hash:r}){return n(r)},async signMessage({message:r}){return n(AA(r))},async signTypedData(r){return n(a8(r))},type:"webAuthn"}}async function qN(){return{account:await SGt()}}async function IGt(){const t=await w_e();t&&(await h1.removeItem(uu(FN(t.publicKey),1)),await h1.removeItem(WN))}const v_e={storageKey:"ownPrivateKey",keyType:"private"},b_e={storageKey:"ownPublicKey",keyType:"public"},x_e={storageKey:"peerPublicKey",keyType:"public"};class kGt{constructor(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(x_e,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,ut.keys.clear()}async generateKeyPair(){const e=await EKt();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(v_e,e.privateKey),await this.storeKey(b_e,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(v_e)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(b_e)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(x_e)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await CKt(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=ut.keys.get(e.storageKey);return n?V7e(e.keyType,n):null}async storeKey(e,n){const r=await H7e(e.keyType,n);ut.keys.set(e.storageKey,r)}}function i7(t,e){if(!(typeof t!="object"||t===null))return e.split(/[.[\]]+/).filter(Boolean).reduce((n,r)=>{if(typeof n=="object"&&n!==null)return n[r]},t)}function E_e(t){var e;if(!Array.isArray(t.params))return null;switch(t.method){case"personal_sign":return t.params[1];case"eth_signTypedData_v4":return t.params[0];case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":return(e=t.params[0])===null||e===void 0?void 0:e.from;default:return null}}function $Gt(t,e){if(!Array.isArray(t.params))throw vt.rpc.invalidParams();const n=[...t.params];switch(t.method){case"eth_signTransaction":case"eth_sendTransaction":case"wallet_sendCalls":n[0].from=e;break;case"eth_signTypedData_v4":n[0]=e;break;case"personal_sign":n[1]=e;break}return Object.assign(Object.assign({},t),{params:n})}function C_e(t){var e;if(!t||!Array.isArray(t)||!(!((e=t[0])===null||e===void 0)&&e.chainId)||typeof t[0].chainId!="string"&&typeof t[0].chainId!="number")throw vt.rpc.invalidParams()}function TGt(t){if(!t||!Array.isArray(t)||t.length!==1&&t.length!==2||typeof t[0]!="string"||!us(t[0]))throw vt.rpc.invalidParams();if(t.length===2){if(!Array.isArray(t[1]))throw vt.rpc.invalidParams();for(const e of t[1])if(typeof e!="string"||!e.startsWith("0x"))throw vt.rpc.invalidParams()}}function HN(t,e){const n=Object.assign({},t);if(e&&t.method.startsWith("wallet_")){let r=i7(n,"params.0.capabilities");if(typeof r>"u"&&(r={}),typeof r!="object")throw vt.rpc.invalidParams();r=Object.assign(Object.assign({},e),r),n.params&&Array.isArray(n.params)&&(n.params[0]=Object.assign(Object.assign({},n.params[0]),{capabilities:r}))}return n}async function yY(){var t;const e=(t=ut.subAccountsConfig.get())!==null&&t!==void 0?t:{},n={};if(e.enableAutoSubAccounts){const{account:r}=e.toOwnerAccount?await e.toOwnerAccount():await qN();if(!r)throw vt.provider.unauthorized("No owner account found");n.addSubAccount={account:{type:"create",keys:[{type:r.address?"address":"webauthn-p256",publicKey:r.address||r.publicKey}]}}}ut.subAccountsConfig.set({capabilities:n})}function PGt(t){if(!(t.method==="coinbase_fetchPermissions"&&t.params===void 0)){if(t.method==="coinbase_fetchPermissions"&&Array.isArray(t.params)&&t.params.length===1&&typeof t.params[0]=="object"){if(typeof t.params[0].account!="string"||!t.params[0].chainId.startsWith("0x"))throw vt.rpc.invalidParams("FetchPermissions - Invalid params: params[0].account must be a hex string");if(typeof t.params[0].chainId!="string"||!t.params[0].chainId.startsWith("0x"))throw vt.rpc.invalidParams("FetchPermissions - Invalid params: params[0].chainId must be a hex string");if(typeof t.params[0].spender!="string"||!t.params[0].spender.startsWith("0x"))throw vt.rpc.invalidParams("FetchPermissions - Invalid params: params[0].spender must be a hex string");return}throw vt.rpc.invalidParams()}}function NGt(t){var e,n,r;if(t.params!==void 0)return t;const i=(e=ut.getState().account.accounts)===null||e===void 0?void 0:e[0],s=(n=ut.getState().account.chain)===null||n===void 0?void 0:n.id,o=(r=ut.getState().subAccount)===null||r===void 0?void 0:r.address;if(!i||!o||!s)throw vt.rpc.invalidParams("FetchPermissions - one or more of account, sub account, or chain id is missing, connect to sub account via wallet_connect first");return{method:"coinbase_fetchPermissions",params:[{account:i,chainId:Fe(s),spender:o}]}}function OGt({spendPermission:t,chainId:e}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:e,verifyingContract:g7e},types:{SpendPermission:[{name:"account",type:"address"},{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermission",message:{account:t.account,spender:t.spender,token:t.token,allowance:t.allowance,period:t.period,start:t.start,end:t.end,salt:t.salt,extraData:t.extraData}}}function RGt({spendPermissionBatch:t,chainId:e}){return{domain:{name:"Spend Permission Manager",version:"1",chainId:e,verifyingContract:g7e},types:{SpendPermissionBatch:[{name:"account",type:"address"},{name:"period",type:"uint48"},{name:"start",type:"uint48"},{name:"end",type:"uint48"},{name:"permissions",type:"PermissionDetails[]"}],PermissionDetails:[{name:"spender",type:"address"},{name:"token",type:"address"},{name:"allowance",type:"uint160"},{name:"salt",type:"uint256"},{name:"extraData",type:"bytes"}]},primaryType:"SpendPermissionBatch",message:{account:t.account,period:t.period,start:t.start,end:t.end,permissions:t.permissions.map(n=>({spender:n.spender,token:n.token,allowance:n.allowance,salt:n.salt,extraData:n.extraData}))}}}async function __e({client:t,id:e}){var n;const r=await UA(t,{id:e});if(r.status==="success")return(n=r.receipts)===null||n===void 0?void 0:n[0].transactionHash;throw vt.rpc.internal("failed to send transaction")}function A_e({calls:t,from:e,chainId:n,capabilities:r}){const i=p7e.get().paymasterUrls;let s={method:"wallet_sendCalls",params:[{version:"1.0",calls:t,chainId:Fe(n),from:e,atomicRequired:!0,capabilities:r}]};return i!=null&&i[n]&&(s=HN(s,{paymasterService:{url:i==null?void 0:i[n]}})),s}async function MGt(){const t=UZ();return await new Promise(n=>{LZ({dialogContext:"sub_account_insufficient_balance"}),t.presentItem({title:"Insufficient spend permission",message:"Your spend permission's remaining balance cannot cover this transaction. Please choose how to proceed:",onClose:()=>{S7e({dialogContext:"sub_account_insufficient_balance"}),t.clear()},actionItems:[{text:"Edit spend permission",variant:"primary",onClick:()=>{sv({dialogContext:"sub_account_insufficient_balance",dialogAction:"create_permission"}),t.clear(),n("update_permission")}},{text:"Use primary account",variant:"secondary",onClick:()=>{sv({dialogContext:"sub_account_insufficient_balance",dialogAction:"continue_in_popup"}),t.clear(),n("continue_popup")}}]})})}function jGt({errorData:t,sourceAddress:e}){var n;const r=[];for(const[i,{amount:s,sources:o}]of Object.entries((n=t==null?void 0:t.required)!==null&&n!==void 0?n:{})){if(o.filter(c=>Ki(c.balance)>=Ki(s)&&c.address.toLowerCase()===(e==null?void 0:e.toLowerCase())).length===0)throw new Error("Source address has insufficient balance for a token");r.push({token:i,requiredAmount:Ki(s)})}return r}function BGt(t){return typeof t=="object"&&t!==null&&"calls"in t}function DGt(t){return Array.isArray(t)&&t.length===1&&typeof t[0]=="object"&&t[0]!==null&&"to"in t[0]}function LGt(t){return M1(Yr(Cr(t)),0,16)}function UGt({attribution:t,dappOrigin:e}){if(t){if("auto"in t&&t.auto&&e)return LGt(e);if("dataSuffix"in t)return t.dataSuffix}}function FGt(t,e){var n;if(!Array.isArray(t==null?void 0:t.params))return!1;const r=(n=t.params[0])===null||n===void 0?void 0:n.capabilities;return!r||typeof r!="object"?!1:e in r}function VN(t,e){const n=t.filter(r=>r!==e);return[e,...n]}function KN(t,e){return[...t.filter(r=>r!==e),e]}async function zGt(){const t=ut.spendPermissions.get(),e=ut.subAccounts.get(),n=ut.account.get().accounts;return n?{accounts:n==null?void 0:n.map(i=>({address:i,capabilities:{subAccounts:e?[e]:void 0,spendPermissions:t.length>0?{permissions:t}:void 0}}))}:null}function WGt(t){return t.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function GN(t){const e=btoa(String.fromCharCode(...new Uint8Array(t)));return WGt(e)}function qGt({webauthn:t,signature:e,id:n}){const r=f_e(e);return{id:n,rawId:GN(wp(n)),response:{authenticatorData:GN(ja(t.authenticatorData)),clientDataJSON:GN(wp(t.clientDataJSON)),signature:GN(HGt(r.r,r.s))},type:JSON.parse(t.clientDataJSON).type}}function HGt(t,e){const n=ja(Id(Fe(t))),r=ja(Id(Fe(e))),i=n.length,s=r.length,o=i+s+4,a=new Uint8Array(o+2);return a[0]=48,a[1]=o,a[2]=2,a[3]=i,a.set(n,4),a[i+4]=2,a[i+5]=s,a.set(r,i+6),a}var VGt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};async function KGt(t){const{owner:e,ownerIndex:n,address:r,client:i,factoryData:s}=t,o={abi:ZVt,address:YVt,version:"0.6"},a={abi:m7e,address:DHt};return eKt({client:i,entryPoint:o,extend:{abi:Ih,factory:a},async decodeCalls(c){const l=sA({abi:Ih,data:c});if(l.functionName==="execute")return[{to:l.args[0],value:l.args[1],data:l.args[2]}];if(l.functionName==="executeBatch")return l.args[0].map(u=>({to:u.target,value:u.value,data:u.data}));throw new xe(`unable to decode calls for "${l.functionName}"`)},async encodeCalls(c){var l,u;return c.length===1?wi({abi:Ih,functionName:"execute",args:[c[0].to,(l=c[0].value)!==null&&l!==void 0?l:BigInt(0),(u=c[0].data)!==null&&u!==void 0?u:"0x"]}):wi({abi:Ih,functionName:"executeBatch",args:[c.map(d=>{var h,f;return{data:(h=d.data)!==null&&h!==void 0?h:"0x",target:d.to,value:(f=d.value)!==null&&f!==void 0?f:BigInt(0)}})]})},async getAddress(){return r},async getFactoryArgs(){return s?{factory:a.address,factoryData:s}:{factory:a.address,factoryData:s}},async getStubSignature(){return e.type==="webAuthn"?"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001949fc7c88032b9fcb5f6efc7a7b8c63668eae9871b765e23123bb473ff57aa831a7c0d9276168ebcc29f2875a0239cffdf2a9cd1c2007c5c77c071db9264df1d000000000000000000000000000000000000000000000000000000000000002549960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97630500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a2273496a396e6164474850596759334b7156384f7a4a666c726275504b474f716d59576f4d57516869467773222c226f726967696e223a2268747470733a2f2f7369676e2e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d00000000000000000000000000000000000000000000":s7({ownerIndex:n,signature:"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"})},async sign(c){const l=await this.getAddress(),u=wY({address:l,chainId:i.chain.id,hash:c.hash}),d=await ZN({hash:u,owner:e});return s7({ownerIndex:n,signature:d})},async signMessage(c){const{message:l}=c,u=await this.getAddress(),d=wY({address:u,chainId:i.chain.id,hash:AA(l)}),h=await ZN({hash:d,owner:e});return s7({ownerIndex:n,signature:h})},async signTypedData(c){const{domain:l,types:u,primaryType:d,message:h}=c,f=await this.getAddress(),p=wY({address:f,chainId:i.chain.id,hash:a8({domain:l,message:h,primaryType:d,types:u})}),m=await ZN({hash:p,owner:e});return s7({ownerIndex:n,signature:m})},async signUserOperation(c){const{chainId:l=i.chain.id}=c,u=VGt(c,["chainId"]),d=await this.getAddress(),h=XVt({chainId:l,entryPointAddress:o.address,entryPointVersion:o.version,userOperation:Object.assign(Object.assign({},u),{sender:d})}),f=await ZN({hash:h,owner:e});return s7({ownerIndex:n,signature:f})},userOperation:{async estimateGas(c){var l;if(e.type==="webAuthn")return{verificationGasLimit:BigInt(Math.max(Number((l=c.verificationGasLimit)!==null&&l!==void 0?l:BigInt(0)),8e5))}}}})}async function ZN({hash:t,owner:e}){if(e.type==="webAuthn"){const{signature:n,webauthn:r}=await e.sign({hash:t});return GGt({signature:n,webauthn:r})}if(e.sign)return e.sign({hash:t});throw new xe("`owner` does not support raw sign.")}function wY({address:t,chainId:e,hash:n}){return a8({domain:{chainId:e,name:"Coinbase Smart Wallet",verifyingContract:t,version:"1"},types:{CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:n}})}function GGt({webauthn:t,signature:e}){const{r:n,s:r}=f_e(e);return vc([{components:[{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"bytes"},{name:"challengeIndex",type:"uint256"},{name:"typeIndex",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"}],type:"tuple"}],[{authenticatorData:t.authenticatorData,clientDataJSON:vg(t.clientDataJSON),challengeIndex:BigInt(t.challengeIndex),typeIndex:BigInt(t.typeIndex),r:n,s:r}])}function s7(t){const{ownerIndex:e=0}=t,n=(()=>{if(yi(t.signature)!==65)return t.signature;const r=HFe(t.signature);return lNe(["bytes32","bytes32","uint8"],[r.r,r.s,r.yParity===0?27:28])})();return vc([{components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],type:"tuple"}],[{ownerIndex:e,signatureData:n}])}async function ZGt({address:t,client:e,factory:n,factoryData:r,owner:i,ownerIndex:s,parentAddress:o,attribution:a}){var c;const l={address:t,factory:n,factoryData:r},u=(c=e.chain)===null||c===void 0?void 0:c.id;if(!u)throw vt.rpc.internal("chainId not found");const d=await KGt({owner:i,ownerIndex:s??1,address:t,client:e,factoryData:r}),h=async f=>{var p,m,w,y,b,v;try{switch(f.method){case"wallet_addSubAccount":return l;case"eth_accounts":return[l.address];case"eth_coinbase":return l.address;case"net_version":return u.toString();case"eth_chainId":return Fe(u);case"eth_sendTransaction":{l1(f.params);const E=f.params[0];md(E.to,vt.rpc.invalidParams("to is required"));const _={to:E.to,data:zZ((p=E.data)!==null&&p!==void 0?p:"0x",!0),value:zZ((m=E.value)!==null&&m!==void 0?m:"0x",!0),from:(w=E.from)!==null&&w!==void 0?w:l.address},T=A_e({calls:[_],chainId:u,from:_.from}),I=await h(T);return __e({client:e,id:I})}case"wallet_sendCalls":{l1(f.params);const E=i7(f.params[0],"chainId");if(!E)throw vt.rpc.invalidParams("chainId is required");if(!Si(E))throw vt.rpc.invalidParams("chainId must be a hex encoded integer");if(!f.params[0])throw vt.rpc.invalidParams("params are required");if(!("calls"in f.params[0]))throw vt.rpc.invalidParams("calls are required");let _={method:"wallet_prepareCalls",params:[{version:"1.0",calls:f.params[0].calls,chainId:E,from:l.address,capabilities:"capabilities"in f.params[0]?f.params[0].capabilities:{}}]};o&&(_=HN(_,{funding:[{type:"spendPermission",data:{autoApply:!0,sources:[o],preference:"PREFER_DIRECT_BALANCE"}}]}));let T=await h(_);const I=await((b=(y=i).sign)===null||b===void 0?void 0:b.call(y,{hash:aj(T.signatureRequest.hash)}));let R;if(!I)throw vt.rpc.internal("signature not found");return Si(I)?R={type:"secp256k1",data:{address:i.address,signature:I}}:R={type:"webauthn",data:{signature:JSON.stringify(qGt(Object.assign({id:(v=i.id)!==null&&v!==void 0?v:"1"},I))),publicKey:i.publicKey}},(await h({method:"wallet_sendPreparedCalls",params:[{version:"1.0",type:T.type,data:T.userOp,chainId:T.chainId,signature:R}]}))[0]}case"wallet_sendPreparedCalls":{l1(f.params);const E=i7(f.params[0],"chainId");if(!E)throw vt.rpc.invalidParams("chainId is required");if(!Si(E))throw vt.rpc.invalidParams("chainId must be a hex encoded integer");return await e.request({method:"wallet_sendPreparedCalls",params:f.params})}case"wallet_prepareCalls":{l1(f.params);const E=i7(f.params[0],"chainId");if(!E)throw vt.rpc.invalidParams("chainId is required");if(!Si(E))throw vt.rpc.invalidParams("chainId must be a hex encoded integer");if(!f.params[0])throw vt.rpc.invalidParams("params are required");if(!i7(f.params[0],"calls"))throw vt.rpc.invalidParams("calls are required");const _=f.params[0];return a&&_.capabilities&&!("attribution"in _.capabilities)&&(_.capabilities.attribution=a),await e.request({method:"wallet_prepareCalls",params:[Object.assign(Object.assign({},f.params[0]),{chainId:E})]})}case"personal_sign":{if(l1(f.params),!Si(f.params[0]))throw vt.rpc.invalidParams("message must be a hex encoded string");const E=aj(f.params[0]);return d.signMessage({message:E})}case"eth_signTypedData_v4":{l1(f.params);const E=typeof f.params[1]=="string"?JSON.parse(f.params[1]):f.params[1];return d.signTypedData(E)}case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":default:throw vt.rpc.methodNotSupported()}}catch(E){if(_7e(E)){const _=WHt(E);if(_)throw _}throw E}};return{request:h}}async function S_e({address:t,client:e,publicKey:n,factory:r,factoryData:i}){if(!await S8(e,{address:t})&&r&&i){const a=sA({abi:m7e,data:i});if(a.functionName!=="createAccount")throw vt.rpc.internal("unknown factory function");const[c]=a.args;return c.findIndex(l=>l.toLowerCase()===I_e(n).toLowerCase())}const o=await Cc(e,{address:t,abi:Ih,functionName:"ownerCount"});for(let a=Number(o)-1;a>=0;a--){const c=await Cc(e,{address:t,abi:Ih,functionName:"ownerAtIndex",args:[BigInt(a)]}),l=I_e(n);if(c.toLowerCase()===l.toLowerCase())return a}return-1}function I_e(t){return us(t)?ls(t):t}async function YGt(){var t,e;const n=(e=(t=ut.config.get().metadata)===null||t===void 0?void 0:t.appName)!==null&&e!==void 0?e:"App",r=UZ();return new Promise(i=>{LZ({dialogContext:"sub_account_add_owner"}),r.presentItem({title:`Re-authorize ${n}`,message:`${n} has lost access to your account. Please sign at the next step to re-authorize ${n}`,onClose:()=>{S7e({dialogContext:"sub_account_add_owner"}),i("cancel")},actionItems:[{text:"Continue",variant:"primary",onClick:()=>{sv({dialogContext:"sub_account_add_owner",dialogAction:"confirm"}),r.clear(),i("authenticate")}},{text:"Not now",variant:"secondary",onClick:()=>{sv({dialogContext:"sub_account_add_owner",dialogAction:"cancel"}),r.clear(),i("cancel")}}]})})}async function JGt({ownerAccount:t,globalAccountRequest:e}){var n,r;const i=ut.account.get(),s=ut.subAccounts.get(),o=(n=i.accounts)===null||n===void 0?void 0:n.find(p=>p.toLowerCase()!==(s==null?void 0:s.address.toLowerCase()));md(o,vt.provider.unauthorized("no global account")),md((r=i.chain)===null||r===void 0?void 0:r.id,vt.provider.unauthorized("no chain id")),md(s==null?void 0:s.address,vt.provider.unauthorized("no sub account"));const a=[];if(t.type==="local"&&t.address&&a.push({to:s.address,data:wi({abi:Ih,functionName:"addOwnerAddress",args:[t.address]}),value:Cr(0)}),t.publicKey){const[p,m]=Cg([{type:"bytes32"},{type:"bytes32"}],t.publicKey);a.push({to:s.address,data:wi({abi:Ih,functionName:"addOwnerPublicKey",args:[p,m]}),value:Cr(0)})}const c={method:"wallet_sendCalls",params:[{version:"1",calls:a,chainId:Fe(84532),from:o}]};if(await YGt()==="cancel")throw vt.provider.unauthorized("user cancelled");const u=await e(c),d=W7e(i.chain.id);if(md(d,vt.rpc.internal(`client not found for chainId ${i.chain.id}`)),(await UA(d,{id:u})).status!=="success")throw vt.rpc.internal("add owner call failed");const f=await S_e({address:s.address,publicKey:t.type==="local"&&t.address?t.address:t.publicKey,client:d});if(f===-1)throw vt.rpc.internal("failed to find owner index");return f}async function QGt({errorData:t,globalAccountAddress:e,subAccountAddress:n,client:r,request:i,subAccountRequest:s,globalAccountRequest:o}){var a;const c=(a=r.chain)===null||a===void 0?void 0:a.id;md(c,vt.rpc.internal("invalid chainId"));const l=jGt({errorData:t,sourceAddress:e}),u=await MGt();if(u==="cancel")throw new Error("User cancelled funding");let d;const h=60*60*24,f=3;if(u==="update_permission"){if(l.length===1){const v=l[0],E=OGt({spendPermission:{token:v.token,allowance:Fe(v.requiredAmount*BigInt(f)),period:h,account:e,spender:n,start:0,end:0xffffffffffff,salt:Fe(BigInt(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),extraData:"0x"},chainId:c});d={method:"eth_signTypedData_v4",params:[e,E]}}else{const v=RGt({spendPermissionBatch:{account:e,period:h,start:0,end:0xffffffffffff,permissions:l.map(E=>({token:E.token,allowance:Fe(E.requiredAmount*BigInt(f)),period:h,account:e,spender:n,salt:"0x0",extraData:"0x"}))},chainId:c});d={method:"eth_signTypedData_v4",params:[e,v]}}try{await o(d)}catch(v){throw console.error(v),new Error("User denied spend permission request")}return s(i)}const p=l.map(v=>v.token.toLowerCase()==="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE".toLowerCase()?{to:n,value:Fe(v.requiredAmount),data:"0x"}:{to:v.token,value:"0x0",data:wi({abi:SOe,functionName:"transfer",args:[n,v.requiredAmount]})});let m;if(i.method==="wallet_sendCalls"&&BGt(i.params))m=i.params[0];else if(i.method==="eth_sendTransaction"&&DGt(i.params))m=A_e({calls:[i.params[0]],chainId:c,from:i.params[0].from}).params[0];else throw new Error("Could not get original call");const w=wi({abi:Ih,functionName:"executeBatch",args:[m.calls.map(v=>{var E,_;return{target:v.to,value:Ki((E=v.value)!==null&&E!==void 0?E:"0x0"),data:(_=v.data)!==null&&_!==void 0?_:"0x"}})]}),y=[...p,{data:w,to:n,value:"0x0"}],b=await o({method:"wallet_sendCalls",params:[Object.assign(Object.assign({},m),{calls:y,from:e})]});return i.method==="eth_sendTransaction"?__e({client:r,id:b}):b}class XGt{constructor(e){var n,r,i,s;this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new kGt;const{account:o,chains:a}=ut.getState();this.accounts=(n=o.accounts)!==null&&n!==void 0?n:[],this.chain=(r=o.chain)!==null&&r!==void 0?r:{id:(s=(i=e.metadata.appChainIds)===null||i===void 0?void 0:i[0])!==null&&s!==void 0?s:1},a&&z7e(a)}get isConnected(){return this.accounts.length>0}async handshake(e){var n,r,i;const s=U0.get(e);RVt({method:e.method,correlationId:s});try{await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const o=await this.createRequestMessage({handshake:{method:e.method,params:(i=e.params)!==null&&i!==void 0?i:[]}},s),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await V7e("public",a.sender);await this.keyManager.setPeerPublicKey(c);const l=await this.decryptResponseMessage(a);this.handleResponse(e,l),jVt({method:e.method,correlationId:s})}catch(o){throw MVt({method:e.method,correlationId:s,errorMessage:r7(o)}),o}}async request(e){const n=U0.get(e);BVt({method:e.method,correlationId:n});try{const r=await this._request(e);return LVt({method:e.method,correlationId:n}),r}catch(r){throw DVt({method:e.method,correlationId:n,errorMessage:r7(r)}),r}}async _request(e){var n,r,i,s,o,a,c,l,u,d;if(this.accounts.length===0)switch(e.method){case"wallet_switchEthereumChain":{C_e(e.params),this.chain.id=Number(e.params[0].chainId);return}case"wallet_connect":{await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n)),await yY();let h={};FGt(e,"addSubAccount")&&(h=(s=(i=ut.subAccountsConfig.get())===null||i===void 0?void 0:i.capabilities)!==null&&s!==void 0?s:{});const f=HN(e,h);return this.sendRequestToPopup(f)}case"wallet_sendCalls":case"wallet_sign":return this.sendRequestToPopup(e);default:throw vt.provider.unauthorized()}if(this.shouldRequestUseSubAccountSigner(e)){const h=U0.get(e);UVt({method:e.method,correlationId:h});try{const f=await this.sendRequestToSubAccountSigner(e);return FVt({method:e.method,correlationId:h}),f}catch(f){throw zVt({method:e.method,correlationId:h,errorMessage:r7(f)}),f}}switch(e.method){case"eth_requestAccounts":case"eth_accounts":{const h=ut.subAccounts.get(),f=ut.subAccountsConfig.get();return h!=null&&h.address&&(this.accounts=f!=null&&f.enableAutoSubAccounts?VN(this.accounts,h.address):KN(this.accounts,h.address)),(o=this.callback)===null||o===void 0||o.call(this,"connect",{chainId:Fe(this.chain.id)}),this.accounts}case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Fe(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(e);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);case"wallet_connect":{const h=await zGt();if(h)return h;await((c=(a=this.communicator).waitForPopupLoaded)===null||c===void 0?void 0:c.call(a)),await yY();const f=ut.subAccountsConfig.get(),p=HN(e,(l=f==null?void 0:f.capabilities)!==null&&l!==void 0?l:{}),m=await this.sendRequestToPopup(p);return(u=this.callback)===null||u===void 0||u.call(this,"connect",{chainId:Fe(this.chain.id)}),m}case"wallet_getSubAccounts":{const h=ut.subAccounts.get();if(h!=null&&h.address)return{subAccounts:[h]};if(!this.chain.rpcUrl)throw vt.rpc.internal("No RPC URL set for chain");const f=await BN(e,this.chain.rpcUrl);if(l1(f.subAccounts,"subAccounts"),f.subAccounts.length>0){jN(f.subAccounts[0]);const p=f.subAccounts[0];ut.subAccounts.set({address:p.address,factory:p.factory,factoryData:p.factoryData})}return f}case"wallet_addSubAccount":return this.addSubAccount(e);case"coinbase_fetchPermissions":{PGt(e);const h=NGt(e),f=await BN(h,d7e),p=wc((d=h.params)===null||d===void 0?void 0:d[0].chainId);return ut.spendPermissions.set(f.permissions.map(m=>Object.assign(Object.assign({},m),{chainId:p}))),f}default:if(!this.chain.rpcUrl)throw vt.rpc.internal("No RPC URL set for chain");return BN(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),s=await this.decryptResponseMessage(i);return this.handleResponse(e,s)}async handleResponse(e,n){var r,i,s,o,a;const c=n.result;if("error"in c)throw c.error;switch(e.method){case"eth_requestAccounts":{const l=c.value;this.accounts=l,ut.account.set({accounts:l,chain:this.chain}),(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",l);break}case"wallet_connect":{const l=c.value,u=l.accounts.map(y=>y.address);this.accounts=u,ut.account.set({accounts:u});const d=l.accounts.at(0),h=d==null?void 0:d.capabilities;if(h!=null&&h.subAccounts){const y=h==null?void 0:h.subAccounts;l1(y,"subAccounts"),jN(y[0]),ut.subAccounts.set({address:y[0].address,factory:y[0].factory,factoryData:y[0].factoryData})}let f=[this.accounts[0]];const p=ut.subAccounts.get(),m=ut.subAccountsConfig.get();p!=null&&p.address&&(this.accounts=m!=null&&m.enableAutoSubAccounts?VN(this.accounts,p.address):KN(this.accounts,p.address));const w=(s=(i=l==null?void 0:l.accounts)===null||i===void 0?void 0:i[0].capabilities)===null||s===void 0?void 0:s.spendPermissions;w&&"permissions"in w&&ut.spendPermissions.set(w==null?void 0:w.permissions),(o=this.callback)===null||o===void 0||o.call(this,"accountsChanged",f);break}case"wallet_addSubAccount":{jN(c.value);const l=c.value;ut.subAccounts.set(l);const u=ut.subAccountsConfig.get();this.accounts=u!=null&&u.enableAutoSubAccounts?VN(this.accounts,l.address):KN(this.accounts,l.address),(a=this.callback)===null||a===void 0||a.call(this,"accountsChanged",this.accounts);break}}return c.value}async cleanup(){var e,n;const r=ut.config.get().metadata;await this.keyManager.clear(),ut.account.clear(),ut.subAccounts.clear(),ut.spendPermissions.clear(),ut.chains.clear(),this.accounts=[],this.chain={id:(n=(e=r==null?void 0:r.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){C_e(e.params);const n=OVt(e.params[0].chainId);if(this.updateChain(n))return null;const i=await this.sendRequestToPopup(e);return i===null&&this.updateChain(n),i}async handleGetCapabilitiesRequest(e){TGt(e.params);const n=e.params[0],r=e.params[1];if(!this.accounts.some(a=>D1(a,n)))throw vt.provider.unauthorized("no active account found when getting capabilities");const i=ut.getState().account.capabilities;if(!i)return{};if(!r||r.length===0)return i;const s=new Set(r.map(a=>wc(a)));return Object.fromEntries(Object.entries(i).filter(([a])=>{try{const c=wc(a);return s.has(c)}catch{return!1}}))}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw vt.provider.unauthorized("No shared secret found when encrypting request");const r=await SKt({action:e,chainId:this.chain.id},n),i=U0.get(e),s=await this.createRequestMessage({encrypted:r},i);return this.communicator.postRequestAndWaitForResponse(s)}async createRequestMessage(e,n){const r=await H7e("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),correlationId:n,sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r,i;const s=e.content;if("failure"in s)throw s.failure;const o=await this.keyManager.getSharedSecret();if(!o)throw vt.provider.unauthorized("Invalid session: no shared secret found when decrypting response");const a=await IKt(s.encrypted,o),c=(n=a.data)===null||n===void 0?void 0:n.chains;if(c){const u=(r=a.data)===null||r===void 0?void 0:r.nativeCurrencies,d=Object.entries(c).map(([h,f])=>{const p=u==null?void 0:u[Number(h)];return Object.assign({id:Number(h),rpcUrl:f},p?{nativeCurrency:p}:{})});ut.chains.set(d),this.updateChain(this.chain.id,d),z7e(d)}const l=(i=a.data)===null||i===void 0?void 0:i.capabilities;return l&&ut.account.set({capabilities:l}),a}updateChain(e,n){var r;const i=ut.getState(),s=n??i.chains,o=s==null?void 0:s.find(a=>a.id===e);return o?(o!==this.chain&&(this.chain=o,ut.account.set({chain:o}),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",N7e(o.id))),!0):!1}async addSubAccount(e){var n,r,i,s;const a=ut.getState().subAccount,c=ut.subAccountsConfig.get();if(a!=null&&a.address)return this.accounts=c!=null&&c.enableAutoSubAccounts?VN(this.accounts,a.address):KN(this.accounts,a.address),(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",this.accounts),a;if(await((i=(r=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(r)),Array.isArray(e.params)&&e.params.length>0&&e.params[0].account&&e.params[0].account.type==="create"){let u;if(e.params[0].account.keys&&e.params[0].account.keys.length>0)u=e.params[0].account.keys;else{const d=(s=ut.subAccountsConfig.get())!==null&&s!==void 0?s:{},{account:h}=d.toOwnerAccount?await d.toOwnerAccount():await qN();if(!h)throw vt.provider.unauthorized("could not get subaccount owner account when adding sub account");u=[{type:h.address?"address":"webauthn-p256",publicKey:h.address||h.publicKey}]}e.params[0].account.keys=u}const l=await this.sendRequestToPopup(e);return jN(l),l}shouldRequestUseSubAccountSigner(e){const n=E_e(e),r=ut.subAccounts.get();return n?n.toLowerCase()===(r==null?void 0:r.address.toLowerCase()):!1}async sendRequestToSubAccountSigner(e){var n;const r=ut.subAccounts.get(),i=ut.subAccountsConfig.get(),s=ut.config.get();md(r==null?void 0:r.address,vt.provider.unauthorized("no active sub account when sending request to sub account signer"));const o=i!=null&&i.toOwnerAccount?await i.toOwnerAccount():await qN();md(o==null?void 0:o.account,vt.provider.unauthorized("no active sub account owner when sending request to sub account signer")),E_e(e)===void 0&&(e=$Gt(e,r.address));const c=W7e(this.chain.id);md(c,vt.rpc.internal(`client not found for chainId ${this.chain.id} when sending request to sub account signer`));const l=this.accounts.find(p=>p.toLowerCase()!==r.address.toLowerCase());md(l,vt.provider.unauthorized("no global account found when sending request to sub account signer"));const u=UGt({attribution:(n=s.preference)===null||n===void 0?void 0:n.attribution,dappOrigin:window.location.origin}),d=o.account.type==="local"?o.account.address:o.account.publicKey;let h=await S_e({address:r.address,factory:r.factory,factoryData:r.factoryData,publicKey:d,client:c});if(h===-1){const p=U0.get(e);WVt({method:e.method,correlationId:p});try{h=await JGt({ownerAccount:o.account,globalAccountRequest:this.sendRequestToPopup.bind(this)}),qVt({method:e.method,correlationId:p})}catch(m){return HVt({method:e.method,correlationId:p,errorMessage:r7(m)}),vt.provider.unauthorized("failed to add sub account owner when sending request to sub account signer")}}const{request:f}=await ZGt({address:r.address,owner:o.account,client:c,factory:r.factory,factoryData:r.factoryData,parentAddress:l,attribution:u?{suffix:u}:void 0,ownerIndex:h});try{return await f(e)}catch(p){let m;if(_7e(p))m=JSON.parse(p.details);else if(C7e(p))m=p;else throw p;if(!(C7e(m)&&m.data)||!m.data)throw p;const w=U0.get(e);VVt({method:e.method,correlationId:w});try{const y=await QGt({errorData:m.data,globalAccountAddress:l,subAccountAddress:r.address,client:c,request:e,subAccountRequest:f,globalAccountRequest:this.request.bind(this)});return KVt({method:e.method,correlationId:w}),y}catch(y){throw console.error(y),GVt({method:e.method,correlationId:w,errorMessage:r7(y)}),p}}}}var eZt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class tZt extends EVt{constructor(e){var{metadata:n}=e,r=e.preference,{walletUrl:i}=r,s=eZt(r,["walletUrl"]);super(),this.isBaseAccount=!0,this.communicator=new wVt({url:i,metadata:n,preference:s}),this.signer=new XGt({metadata:n,communicator:this.communicator,callback:this.emit.bind(this)})}async request(e){const n=crypto.randomUUID();U0.set(e,n),CVt({method:e.method,correlationId:n});try{const r=await this._request(e);return AVt({method:e.method,correlationId:n}),r}catch(r){throw _Vt({method:e.method,correlationId:n,errorMessage:r instanceof Error?r.message:""}),r}finally{U0.delete(e)}}async _request(e){var n,r;try{if(kKt(e),!this.signer.isConnected)switch(e.method){case"eth_requestAccounts":{await this.signer.handshake({method:"handshake"}),await yY(),await this.signer.request({method:"wallet_connect",params:[{version:"1",capabilities:Object.assign({},(r=(n=ut.subAccountsConfig.get())===null||n===void 0?void 0:n.capabilities)!==null&&r!==void 0?r:{})}]});break}case"wallet_connect":return await this.signer.handshake({method:"handshake"}),await this.signer.request(e);case"wallet_sendCalls":case"wallet_sign":try{return await this.signer.handshake({method:"handshake"}),await this.signer.request(e)}finally{await this.signer.cleanup()}case"wallet_getCallsStatus":return await BN(e,d7e);case"eth_accounts":return[];case"net_version":return 1;case"eth_chainId":return N7e(1);default:throw vt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(i){const{code:s}=i;return s===as.provider.unauthorized&&await this.disconnect(),Promise.reject(vVt(i))}}async disconnect(){await this.signer.cleanup(),U0.clear(),this.emit("disconnect",vt.provider.disconnected("User initiated disconnection"))}}const nZt="isCoinbaseBrowser";function rZt(){var t,e;const n=(t=window.ethereum)!==null&&t!==void 0?t:(e=window.top)===null||e===void 0?void 0:e.ethereum;return n!=null&&n[nZt]?n:null}function k_e(t){var e,n,r,i;const s={metadata:{appName:t.appName||"App",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:(e=t.preference)!==null&&e!==void 0?e:{},paymasterUrls:t.paymasterUrls};!((n=t.subAccounts)===null||n===void 0)&&n.toOwnerAccount&&A7e(t.subAccounts.toOwnerAccount),ut.subAccountsConfig.set({toOwnerAccount:(r=t.subAccounts)===null||r===void 0?void 0:r.toOwnerAccount,enableAutoSubAccounts:(i=t.subAccounts)===null||i===void 0?void 0:i.enableAutoSubAccounts}),ut.config.set(s),ut.persist.rehydrate(),VHt(),GHt(s.preference),s.preference.telemetry!==!1&&jHt();let o=null;const a={getProvider:()=>{var c;return o||(o=(c=rZt())!==null&&c!==void 0?c:new tZt(s)),o},subAccount:{async create(c){var l;return await((l=a.getProvider())===null||l===void 0?void 0:l.request({method:"wallet_addSubAccount",params:[{version:"1",account:c}]}))},async get(){var c,l;const u=ut.subAccounts.get();if(u!=null&&u.address)return u;const h=(l=(await((c=a.getProvider())===null||c===void 0?void 0:c.request({method:"wallet_connect",params:[{version:"1",capabilities:{}}]}))).accounts[0].capabilities)===null||l===void 0?void 0:l.subAccounts;return Array.isArray(h)?h[0]:null},addOwner:async({address:c,publicKey:l,chainId:u})=>{var d,h;const f=ut.subAccounts.get(),p=ut.account.get();md(p,new Error("account does not exist")),md(f==null?void 0:f.address,new Error("subaccount does not exist"));const m=[];if(l){const[w,y]=Cg([{type:"bytes32"},{type:"bytes32"}],l);m.push({to:f.address,data:wi({abi:Ih,functionName:"addOwnerPublicKey",args:[w,y]}),value:Cr(0)})}return c&&m.push({to:f.address,data:wi({abi:Ih,functionName:"addOwnerAddress",args:[c]}),value:Cr(0)}),await((d=a.getProvider())===null||d===void 0?void 0:d.request({method:"wallet_sendCalls",params:[{calls:m,chainId:Cr(u),from:(h=p.accounts)===null||h===void 0?void 0:h[0],version:"1"}]}))},setToOwnerAccount(c){A7e(c),ut.subAccountsConfig.set({toOwnerAccount:c})}}};return a}const YN={USDC:{decimals:6,addresses:{base:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",baseSepolia:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"}}},vY={base:8453,baseSepolia:84532},$_e=[{name:"transfer",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{name:"Transfer",type:"event",anonymous:!1,inputs:[{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}]}],iZt=({amount:t,testnet:e,correlationId:n})=>{xr("payment.pay.started",{action:dr.process,componentType:ur.unknown,method:"pay",correlationId:n,signerType:"base-account",amount:t,testnet:e},hr.high)},sZt=({amount:t,testnet:e,correlationId:n,errorMessage:r})=>{xr("payment.pay.error",{action:dr.error,componentType:ur.unknown,method:"pay",correlationId:n,signerType:"base-account",amount:t,testnet:e,errorMessage:r},hr.high)},oZt=({amount:t,testnet:e,correlationId:n})=>{xr("payment.pay.completed",{action:dr.process,componentType:ur.unknown,method:"pay",correlationId:n,signerType:"base-account",amount:t,testnet:e},hr.high)},aZt=({testnet:t,correlationId:e})=>{xr("payment.status_check.started",{action:dr.process,componentType:ur.unknown,method:"getPaymentStatus",correlationId:e,signerType:"base-account",testnet:t},hr.low)},JN=({testnet:t,status:e,correlationId:n})=>{xr("payment.status_check.completed",{action:dr.process,componentType:ur.unknown,method:"getPaymentStatus",correlationId:n,signerType:"base-account",testnet:t,status:e},hr.low)},T_e=({testnet:t,correlationId:e,errorMessage:n})=>{xr("payment.status_check.error",{action:dr.error,componentType:ur.unknown,method:"getPaymentStatus",correlationId:e,errorMessage:n,signerType:"base-account",testnet:t},hr.low)};async function P_e(t){var e;const{id:n,testnet:r=!1,telemetry:i=!0}=t,s=crypto.randomUUID();i&&aZt({testnet:r,correlationId:s});try{const o=r?"https://api.developer.coinbase.com/rpc/v1/base-sepolia/S-fOd2n2Oi4fl4e1Crm83XeDXZ7tkg8O":"https://api.developer.coinbase.com/rpc/v1/base/S-fOd2n2Oi4fl4e1Crm83XeDXZ7tkg8O",a=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_getUserOperationReceipt",params:[n]})}).then(d=>d.json());if(a.error){console.error("[getPaymentStatus] RPC error:",a.error);const d=a.error.message||"Network error";return i&&T_e({testnet:r,correlationId:s,errorMessage:d}),{status:"failed",id:n,message:"Unable to check payment status. Please try again later.",error:d}}if(!a.result){const d=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:2,method:"eth_getUserOperationByHash",params:[n]})}).then(f=>f.json());return d.result?(i&&JN({testnet:r,status:"pending",correlationId:s}),{status:"pending",id:n,message:"Your payment is being processed. This usually takes a few seconds.",sender:d.result.sender}):(i&&JN({testnet:r,status:"not_found",correlationId:s}),{status:"not_found",id:n,message:"Payment not found. Please check your transaction ID."})}const{success:c,receipt:l,reason:u}=a.result;if(c){let d,h;if(l!=null&&l.logs){const p=r?"baseSepolia":"base",m=YN.USDC.addresses[p].toLowerCase();for(const w of l.logs)if(((e=w.address)===null||e===void 0?void 0:e.toLowerCase())===m)try{const y=P4({abi:$_e,data:w.data,topics:w.topics});if(y.eventName==="Transfer"&&y.args){const b=y.args;if(b.value&&b.to){d=ks(b.value,6),h=b.to;break}}}catch(y){console.error("[getPaymentStatus] Error parsing log:",y)}}return i&&JN({testnet:r,status:"completed",correlationId:s}),{status:"completed",id:n,message:"Payment completed successfully",sender:a.result.sender,amount:d,recipient:h}}else{let d="Payment could not be completed";return u&&(u.toLowerCase().includes("insufficient")?d="Insufficient USDC balance":u.toLowerCase().includes("revert")?d="Payment was rejected":d=u),i&&JN({testnet:r,status:"failed",correlationId:s}),{status:"failed",id:n,message:"Payment failed",sender:a.result.sender,error:d}}}catch(o){console.error("[getPaymentStatus] Error checking status:",o);const a=o instanceof Error?o.message:"Connection error";return i&&T_e({testnet:r,correlationId:s,errorMessage:a}),{status:"failed",id:n,message:"Unable to check payment status",error:a}}}function cZt(t,e,n=!0){const r=typeof window<"u"?window.location.origin:"Base Pay SDK";return k_e({appName:r,appChainIds:[t],preference:{telemetry:n,walletUrl:e}})}async function lZt(t,e){var n;const i=await t.getProvider().request({method:"wallet_sendCalls",params:[e]});let s,o;if(typeof i=="string"&&i.length>=66)s=i.slice(0,66);else if(typeof i=="object"&&i!==null){const a=i;if(typeof a.id=="string"&&a.id.length>=66)s=a.id.slice(0,66),!((n=a.capabilities)===null||n===void 0)&&n.dataCallback&&(o=a.capabilities.dataCallback);else throw new Error(`Could not extract transaction hash from object response. Available fields: ${Object.keys(a).join(", ")}`)}else throw new Error(`Unexpected response format from wallet_sendCalls: expected string with length > 66 or object with id, got ${typeof i}`);return{transactionHash:s,payerInfoResponses:o}}async function uZt(t,e,n,r=!0){const s=vY[e?"baseSepolia":"base"],o=cZt(s,n,r),a=o.getProvider();try{return await lZt(o,t)}finally{await a.disconnect()}}function dZt(t,e){const n=Uie(e,YN.USDC.decimals);return wi({abi:$_e,functionName:"transfer",args:[t,n]})}function hZt(t,e,n){const r=e?"baseSepolia":"base",i=vY[r],o={to:YN.USDC.addresses[r],data:t,value:"0x0"},a={};return n&&n.requests.length>0&&(a.dataCallback={requests:n.requests.map(l=>{var u;return{type:l.type,optional:(u=l.optional)!==null&&u!==void 0?u:!1}}),callbackURL:n.callbackURL}),{version:"2.0.0",chainId:i,calls:[o],capabilities:a}}function fZt(t,e,n,r){const i=dZt(t,e);return hZt(i,n,r)}function pZt(t,e){if(typeof t!="string")throw new Error("Invalid amount: must be a string");const n=parseFloat(t);if(isNaN(n))throw new Error("Invalid amount: must be a valid number");if(n<=0)throw new Error("Invalid amount: must be greater than 0");const r=t.indexOf(".");if(r!==-1&&t.length-r-1>e)throw new Error(`Invalid amount: pay only supports up to ${e} decimal places`)}function gZt(t){if(!t)throw new Error("Invalid address: address is required");if(!us(t))throw new Error("Invalid address: must be a valid Ethereum address")}async function N_e(t){var e;const{amount:n,to:r,testnet:i=!1,payerInfo:s,walletUrl:o,telemetry:a=!0}=t,c=crypto.randomUUID();a&&iZt({amount:n,testnet:i,correlationId:c});try{pZt(n,2),gZt(r);const l=fZt(r,n,i,s),u=await uZt(l,i,o,a);return a&&oZt({amount:n,testnet:i,correlationId:c}),{success:!0,id:u.transactionHash,amount:n,to:r,payerInfoResponses:u.payerInfoResponses}}catch(l){let u="Unknown error occurred";if(l instanceof Error)u=l.message;else if(typeof l=="string")u=l;else if(l&&typeof l=="object"){const d=l;typeof(d==null?void 0:d.message)=="string"?u=d.message:typeof((e=d==null?void 0:d.error)===null||e===void 0?void 0:e.message)=="string"?u=d.error.message:typeof(d==null?void 0:d.reason)=="string"&&(u=d.reason)}return a&&sZt({amount:n,testnet:i,correlationId:c,errorMessage:u}),{success:!1,error:u,amount:n,to:r}}}const mZt=Object.freeze(Object.defineProperty({__proto__:null,base:{pay:N_e,getPaymentStatus:P_e,constants:{CHAIN_IDS:vY,TOKENS:YN},types:{}},createBaseAccountSDK:k_e,getCryptoKeyAccount:qN,getPaymentStatus:P_e,pay:N_e,removeCryptoKey:IGt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yZt={attribute:!0,type:String,converter:gN,reflect:!1,hasChanged:SZ},wZt=(t=yZt,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r==="accessor"){const{name:o}=n;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t,!0,a)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t,!0,a)}}throw Error("Unsupported decorator location: "+r)};function ve(t){return(e,n)=>typeof n=="object"?wZt(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function bt(t){return ve({...t,state:!0,attribute:!1})}const vZt=Jt`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var du=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let lc=class extends Pt{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&ho.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&ho.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&ho.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&ho.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&ho.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&ho.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&ho.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&ho.getSpacingStyles(this.margin,3)};
    `,ue`<slot></slot>`}};lc.styles=[mr,vZt],du([ve()],lc.prototype,"flexDirection",void 0),du([ve()],lc.prototype,"flexWrap",void 0),du([ve()],lc.prototype,"flexBasis",void 0),du([ve()],lc.prototype,"flexGrow",void 0),du([ve()],lc.prototype,"flexShrink",void 0),du([ve()],lc.prototype,"alignItems",void 0),du([ve()],lc.prototype,"justifyContent",void 0),du([ve()],lc.prototype,"columnGap",void 0),du([ve()],lc.prototype,"rowGap",void 0),du([ve()],lc.prototype,"gap",void 0),du([ve()],lc.prototype,"padding",void 0),du([ve()],lc.prototype,"margin",void 0),lc=du([It("wui-flex")],lc);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qt=t=>t??ss;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bZt=t=>t===null||typeof t!="object"&&typeof t!="function",xZt=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const O_e={ATTRIBUTE:1,CHILD:2},bY=t=>(...e)=>({_$litDirective$:t,values:e});let R_e=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o7=(t,e)=>{var r;const n=t._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,e,!1),o7(i,e);return!0},QN=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},M_e=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),_Zt(e)}};function EZt(t){this._$AN!==void 0?(QN(this),this._$AM=t,M_e(this)):this._$AM=t}function CZt(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)o7(r[s],!1),QN(r[s]);else r!=null&&(o7(r,!1),QN(r));else o7(this,t)}const _Zt=t=>{t.type==O_e.CHILD&&(t._$AP??(t._$AP=CZt),t._$AQ??(t._$AQ=EZt))};class j_e extends R_e{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),M_e(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(o7(this,e),QN(this))}setValue(e){if(xZt(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class AZt{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class SZt{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??(this.Y=new Promise(e=>this.Z=e))}resume(){var e;(e=this.Z)==null||e.call(this),this.Y=this.Z=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const B_e=t=>!bZt(t)&&typeof t.then=="function",D_e=1073741823;class IZt extends j_e{constructor(){super(...arguments),this._$Cwt=D_e,this._$Cbt=[],this._$CK=new AZt(this),this._$CX=new SZt}render(...e){return e.find(n=>!B_e(n))??L0}update(e,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const c=n[a];if(!B_e(c))return this._$Cwt=a,c;a<i&&c===r[a]||(this._$Cwt=D_e,i=0,Promise.resolve(c).then(async l=>{for(;o.get();)await o.get();const u=s.deref();if(u!==void 0){const d=u._$Cbt.indexOf(c);d>-1&&d<u._$Cwt&&(u._$Cwt=d,u.setValue(l))}}))}return L0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const kZt=bY(IZt);class $Zt{constructor(){this.cache=new Map}set(e,n){this.cache.set(e,n)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const xY=new $Zt,TZt=Jt`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var a7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const L_e={add:async()=>(await Ge(async()=>{const{addSvg:t}=await Promise.resolve().then(()=>NJt);return{addSvg:t}},void 0)).addSvg,allWallets:async()=>(await Ge(async()=>{const{allWalletsSvg:t}=await Promise.resolve().then(()=>RJt);return{allWalletsSvg:t}},void 0)).allWalletsSvg,arrowBottomCircle:async()=>(await Ge(async()=>{const{arrowBottomCircleSvg:t}=await Promise.resolve().then(()=>jJt);return{arrowBottomCircleSvg:t}},void 0)).arrowBottomCircleSvg,appStore:async()=>(await Ge(async()=>{const{appStoreSvg:t}=await Promise.resolve().then(()=>DJt);return{appStoreSvg:t}},void 0)).appStoreSvg,apple:async()=>(await Ge(async()=>{const{appleSvg:t}=await Promise.resolve().then(()=>UJt);return{appleSvg:t}},void 0)).appleSvg,arrowBottom:async()=>(await Ge(async()=>{const{arrowBottomSvg:t}=await Promise.resolve().then(()=>zJt);return{arrowBottomSvg:t}},void 0)).arrowBottomSvg,arrowLeft:async()=>(await Ge(async()=>{const{arrowLeftSvg:t}=await Promise.resolve().then(()=>qJt);return{arrowLeftSvg:t}},void 0)).arrowLeftSvg,arrowRight:async()=>(await Ge(async()=>{const{arrowRightSvg:t}=await Promise.resolve().then(()=>VJt);return{arrowRightSvg:t}},void 0)).arrowRightSvg,arrowTop:async()=>(await Ge(async()=>{const{arrowTopSvg:t}=await Promise.resolve().then(()=>GJt);return{arrowTopSvg:t}},void 0)).arrowTopSvg,bank:async()=>(await Ge(async()=>{const{bankSvg:t}=await Promise.resolve().then(()=>YJt);return{bankSvg:t}},void 0)).bankSvg,browser:async()=>(await Ge(async()=>{const{browserSvg:t}=await Promise.resolve().then(()=>QJt);return{browserSvg:t}},void 0)).browserSvg,card:async()=>(await Ge(async()=>{const{cardSvg:t}=await Promise.resolve().then(()=>eQt);return{cardSvg:t}},void 0)).cardSvg,checkmark:async()=>(await Ge(async()=>{const{checkmarkSvg:t}=await Promise.resolve().then(()=>nQt);return{checkmarkSvg:t}},void 0)).checkmarkSvg,checkmarkBold:async()=>(await Ge(async()=>{const{checkmarkBoldSvg:t}=await Promise.resolve().then(()=>iQt);return{checkmarkBoldSvg:t}},void 0)).checkmarkBoldSvg,chevronBottom:async()=>(await Ge(async()=>{const{chevronBottomSvg:t}=await Promise.resolve().then(()=>oQt);return{chevronBottomSvg:t}},void 0)).chevronBottomSvg,chevronLeft:async()=>(await Ge(async()=>{const{chevronLeftSvg:t}=await Promise.resolve().then(()=>cQt);return{chevronLeftSvg:t}},void 0)).chevronLeftSvg,chevronRight:async()=>(await Ge(async()=>{const{chevronRightSvg:t}=await Promise.resolve().then(()=>uQt);return{chevronRightSvg:t}},void 0)).chevronRightSvg,chevronTop:async()=>(await Ge(async()=>{const{chevronTopSvg:t}=await Promise.resolve().then(()=>hQt);return{chevronTopSvg:t}},void 0)).chevronTopSvg,chromeStore:async()=>(await Ge(async()=>{const{chromeStoreSvg:t}=await Promise.resolve().then(()=>pQt);return{chromeStoreSvg:t}},void 0)).chromeStoreSvg,clock:async()=>(await Ge(async()=>{const{clockSvg:t}=await Promise.resolve().then(()=>mQt);return{clockSvg:t}},void 0)).clockSvg,close:async()=>(await Ge(async()=>{const{closeSvg:t}=await Promise.resolve().then(()=>wQt);return{closeSvg:t}},void 0)).closeSvg,compass:async()=>(await Ge(async()=>{const{compassSvg:t}=await Promise.resolve().then(()=>bQt);return{compassSvg:t}},void 0)).compassSvg,coinPlaceholder:async()=>(await Ge(async()=>{const{coinPlaceholderSvg:t}=await Promise.resolve().then(()=>EQt);return{coinPlaceholderSvg:t}},void 0)).coinPlaceholderSvg,copy:async()=>(await Ge(async()=>{const{copySvg:t}=await Promise.resolve().then(()=>_Qt);return{copySvg:t}},void 0)).copySvg,cursor:async()=>(await Ge(async()=>{const{cursorSvg:t}=await Promise.resolve().then(()=>SQt);return{cursorSvg:t}},void 0)).cursorSvg,cursorTransparent:async()=>(await Ge(async()=>{const{cursorTransparentSvg:t}=await Promise.resolve().then(()=>kQt);return{cursorTransparentSvg:t}},void 0)).cursorTransparentSvg,desktop:async()=>(await Ge(async()=>{const{desktopSvg:t}=await Promise.resolve().then(()=>TQt);return{desktopSvg:t}},void 0)).desktopSvg,disconnect:async()=>(await Ge(async()=>{const{disconnectSvg:t}=await Promise.resolve().then(()=>NQt);return{disconnectSvg:t}},void 0)).disconnectSvg,discord:async()=>(await Ge(async()=>{const{discordSvg:t}=await Promise.resolve().then(()=>RQt);return{discordSvg:t}},void 0)).discordSvg,etherscan:async()=>(await Ge(async()=>{const{etherscanSvg:t}=await Promise.resolve().then(()=>jQt);return{etherscanSvg:t}},void 0)).etherscanSvg,extension:async()=>(await Ge(async()=>{const{extensionSvg:t}=await Promise.resolve().then(()=>DQt);return{extensionSvg:t}},void 0)).extensionSvg,externalLink:async()=>(await Ge(async()=>{const{externalLinkSvg:t}=await Promise.resolve().then(()=>UQt);return{externalLinkSvg:t}},void 0)).externalLinkSvg,facebook:async()=>(await Ge(async()=>{const{facebookSvg:t}=await Promise.resolve().then(()=>zQt);return{facebookSvg:t}},void 0)).facebookSvg,farcaster:async()=>(await Ge(async()=>{const{farcasterSvg:t}=await Promise.resolve().then(()=>qQt);return{farcasterSvg:t}},void 0)).farcasterSvg,filters:async()=>(await Ge(async()=>{const{filtersSvg:t}=await Promise.resolve().then(()=>VQt);return{filtersSvg:t}},void 0)).filtersSvg,github:async()=>(await Ge(async()=>{const{githubSvg:t}=await Promise.resolve().then(()=>GQt);return{githubSvg:t}},void 0)).githubSvg,google:async()=>(await Ge(async()=>{const{googleSvg:t}=await Promise.resolve().then(()=>YQt);return{googleSvg:t}},void 0)).googleSvg,helpCircle:async()=>(await Ge(async()=>{const{helpCircleSvg:t}=await Promise.resolve().then(()=>QQt);return{helpCircleSvg:t}},void 0)).helpCircleSvg,image:async()=>(await Ge(async()=>{const{imageSvg:t}=await Promise.resolve().then(()=>eXt);return{imageSvg:t}},void 0)).imageSvg,id:async()=>(await Ge(async()=>{const{idSvg:t}=await Promise.resolve().then(()=>nXt);return{idSvg:t}},void 0)).idSvg,infoCircle:async()=>(await Ge(async()=>{const{infoCircleSvg:t}=await Promise.resolve().then(()=>iXt);return{infoCircleSvg:t}},void 0)).infoCircleSvg,lightbulb:async()=>(await Ge(async()=>{const{lightbulbSvg:t}=await Promise.resolve().then(()=>oXt);return{lightbulbSvg:t}},void 0)).lightbulbSvg,mail:async()=>(await Ge(async()=>{const{mailSvg:t}=await Promise.resolve().then(()=>cXt);return{mailSvg:t}},void 0)).mailSvg,mobile:async()=>(await Ge(async()=>{const{mobileSvg:t}=await Promise.resolve().then(()=>uXt);return{mobileSvg:t}},void 0)).mobileSvg,more:async()=>(await Ge(async()=>{const{moreSvg:t}=await Promise.resolve().then(()=>hXt);return{moreSvg:t}},void 0)).moreSvg,networkPlaceholder:async()=>(await Ge(async()=>{const{networkPlaceholderSvg:t}=await Promise.resolve().then(()=>pXt);return{networkPlaceholderSvg:t}},void 0)).networkPlaceholderSvg,nftPlaceholder:async()=>(await Ge(async()=>{const{nftPlaceholderSvg:t}=await Promise.resolve().then(()=>mXt);return{nftPlaceholderSvg:t}},void 0)).nftPlaceholderSvg,off:async()=>(await Ge(async()=>{const{offSvg:t}=await Promise.resolve().then(()=>wXt);return{offSvg:t}},void 0)).offSvg,playStore:async()=>(await Ge(async()=>{const{playStoreSvg:t}=await Promise.resolve().then(()=>bXt);return{playStoreSvg:t}},void 0)).playStoreSvg,plus:async()=>(await Ge(async()=>{const{plusSvg:t}=await Promise.resolve().then(()=>EXt);return{plusSvg:t}},void 0)).plusSvg,qrCode:async()=>(await Ge(async()=>{const{qrCodeIcon:t}=await Promise.resolve().then(()=>_Xt);return{qrCodeIcon:t}},void 0)).qrCodeIcon,recycleHorizontal:async()=>(await Ge(async()=>{const{recycleHorizontalSvg:t}=await Promise.resolve().then(()=>SXt);return{recycleHorizontalSvg:t}},void 0)).recycleHorizontalSvg,refresh:async()=>(await Ge(async()=>{const{refreshSvg:t}=await Promise.resolve().then(()=>kXt);return{refreshSvg:t}},void 0)).refreshSvg,search:async()=>(await Ge(async()=>{const{searchSvg:t}=await Promise.resolve().then(()=>TXt);return{searchSvg:t}},void 0)).searchSvg,send:async()=>(await Ge(async()=>{const{sendSvg:t}=await Promise.resolve().then(()=>NXt);return{sendSvg:t}},void 0)).sendSvg,swapHorizontal:async()=>(await Ge(async()=>{const{swapHorizontalSvg:t}=await Promise.resolve().then(()=>RXt);return{swapHorizontalSvg:t}},void 0)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await Ge(async()=>{const{swapHorizontalMediumSvg:t}=await Promise.resolve().then(()=>jXt);return{swapHorizontalMediumSvg:t}},void 0)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await Ge(async()=>{const{swapHorizontalBoldSvg:t}=await Promise.resolve().then(()=>DXt);return{swapHorizontalBoldSvg:t}},void 0)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await Ge(async()=>{const{swapHorizontalRoundedBoldSvg:t}=await Promise.resolve().then(()=>UXt);return{swapHorizontalRoundedBoldSvg:t}},void 0)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await Ge(async()=>{const{swapVerticalSvg:t}=await Promise.resolve().then(()=>zXt);return{swapVerticalSvg:t}},void 0)).swapVerticalSvg,telegram:async()=>(await Ge(async()=>{const{telegramSvg:t}=await Promise.resolve().then(()=>qXt);return{telegramSvg:t}},void 0)).telegramSvg,threeDots:async()=>(await Ge(async()=>{const{threeDotsSvg:t}=await Promise.resolve().then(()=>VXt);return{threeDotsSvg:t}},void 0)).threeDotsSvg,twitch:async()=>(await Ge(async()=>{const{twitchSvg:t}=await Promise.resolve().then(()=>GXt);return{twitchSvg:t}},void 0)).twitchSvg,twitter:async()=>(await Ge(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>_Ae);return{xSvg:t}},void 0)).xSvg,twitterIcon:async()=>(await Ge(async()=>{const{twitterIconSvg:t}=await Promise.resolve().then(()=>JXt);return{twitterIconSvg:t}},void 0)).twitterIconSvg,verify:async()=>(await Ge(async()=>{const{verifySvg:t}=await Promise.resolve().then(()=>XXt);return{verifySvg:t}},void 0)).verifySvg,verifyFilled:async()=>(await Ge(async()=>{const{verifyFilledSvg:t}=await Promise.resolve().then(()=>ten);return{verifyFilledSvg:t}},void 0)).verifyFilledSvg,wallet:async()=>(await Ge(async()=>{const{walletSvg:t}=await Promise.resolve().then(()=>ren);return{walletSvg:t}},void 0)).walletSvg,walletConnect:async()=>(await Ge(async()=>{const{walletConnectSvg:t}=await Promise.resolve().then(()=>oJ);return{walletConnectSvg:t}},void 0)).walletConnectSvg,walletConnectLightBrown:async()=>(await Ge(async()=>{const{walletConnectLightBrownSvg:t}=await Promise.resolve().then(()=>oJ);return{walletConnectLightBrownSvg:t}},void 0)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await Ge(async()=>{const{walletConnectBrownSvg:t}=await Promise.resolve().then(()=>oJ);return{walletConnectBrownSvg:t}},void 0)).walletConnectBrownSvg,walletPlaceholder:async()=>(await Ge(async()=>{const{walletPlaceholderSvg:t}=await Promise.resolve().then(()=>cen);return{walletPlaceholderSvg:t}},void 0)).walletPlaceholderSvg,warningCircle:async()=>(await Ge(async()=>{const{warningCircleSvg:t}=await Promise.resolve().then(()=>uen);return{warningCircleSvg:t}},void 0)).warningCircleSvg,x:async()=>(await Ge(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>_Ae);return{xSvg:t}},void 0)).xSvg,info:async()=>(await Ge(async()=>{const{infoSvg:t}=await Promise.resolve().then(()=>hen);return{infoSvg:t}},void 0)).infoSvg,exclamationTriangle:async()=>(await Ge(async()=>{const{exclamationTriangleSvg:t}=await Promise.resolve().then(()=>pen);return{exclamationTriangleSvg:t}},void 0)).exclamationTriangleSvg,reown:async()=>(await Ge(async()=>{const{reownSvg:t}=await Promise.resolve().then(()=>men);return{reownSvg:t}},void 0)).reownSvg};async function PZt(t){if(xY.has(t))return xY.get(t);const n=(L_e[t]??L_e.copy)();return xY.set(t,n),n}let av=class extends Pt{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,ue`${kZt(PZt(this.name),ue`<div class="fallback"></div>`)}`}};av.styles=[mr,XC,TZt],a7([ve()],av.prototype,"size",void 0),a7([ve()],av.prototype,"name",void 0),a7([ve()],av.prototype,"color",void 0),a7([ve()],av.prototype,"aspectRatio",void 0),av=a7([It("wui-icon")],av);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const U_e=bY(class extends R_e{constructor(t){var e;if(super(t),t.type!==O_e.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(e)}const n=t.element.classList;for(const s of this.st)s in e||(n.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return L0}}),NZt=Jt`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var c7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let cv=class extends Pt{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,ue`<slot class=${U_e(e)}></slot>`}};cv.styles=[mr,NZt],c7([ve()],cv.prototype,"variant",void 0),c7([ve()],cv.prototype,"color",void 0),c7([ve()],cv.prototype,"align",void 0),c7([ve()],cv.prototype,"lineClamp",void 0),cv=c7([It("wui-text")],cv);const OZt=Jt`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var z0=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let kh=class extends Pt{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,n=this.size==="lg",r=this.size==="xl",i=n?"12%":"16%",s=n?"xxs":r?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${l};
       --local-bg-mix: ${c||o?"100%":i};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,ue` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};kh.styles=[mr,Ko,OZt],z0([ve()],kh.prototype,"size",void 0),z0([ve()],kh.prototype,"backgroundColor",void 0),z0([ve()],kh.prototype,"iconColor",void 0),z0([ve()],kh.prototype,"iconSize",void 0),z0([ve()],kh.prototype,"background",void 0),z0([ve({type:Boolean})],kh.prototype,"border",void 0),z0([ve()],kh.prototype,"borderColor",void 0),z0([ve()],kh.prototype,"icon",void 0),kh=z0([It("wui-icon-box")],kh);const RZt=Jt`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var XN=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let w6=class extends Pt{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,ue`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};w6.styles=[mr,XC,RZt],XN([ve()],w6.prototype,"src",void 0),XN([ve()],w6.prototype,"alt",void 0),XN([ve()],w6.prototype,"size",void 0),w6=XN([It("wui-image")],w6);const MZt=Jt`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var lv=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let W0=class extends Pt{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),ue`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?ue`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?ue`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:ue`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};W0.styles=[Ko,mr,MZt],lv([ve()],W0.prototype,"size",void 0),lv([ve()],W0.prototype,"name",void 0),lv([ve()],W0.prototype,"imageSrc",void 0),lv([ve()],W0.prototype,"walletIcon",void 0),lv([ve({type:Boolean})],W0.prototype,"installed",void 0),lv([ve()],W0.prototype,"badgeSize",void 0),W0=lv([It("wui-wallet-image")],W0);const jZt=Jt`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var F_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const EY=4;let eO=class extends Pt{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<EY;return ue`${this.walletImages.slice(0,EY).map(({src:n,walletName:r})=>ue`
            <wui-wallet-image
              size="inherit"
              imageSrc=${n}
              name=${Qt(r)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(EY-this.walletImages.length)].map(()=>ue` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};eO.styles=[mr,jZt],F_e([ve({type:Array})],eO.prototype,"walletImages",void 0),eO=F_e([It("wui-all-wallets-image")],eO);const BZt=Jt`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var CY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let l7=class extends Pt{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"mini-700":"micro-700";return ue`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};l7.styles=[mr,BZt],CY([ve()],l7.prototype,"variant",void 0),CY([ve()],l7.prototype,"size",void 0),l7=CY([It("wui-tag")],l7);const DZt=Jt`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var pl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $a=class extends Pt{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return ue`
      <button ?disabled=${this.disabled} tabindex=${Qt(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?ue` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?ue` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?ue`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?ue`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?ue`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?ue`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?ue`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};$a.styles=[mr,Ko,DZt],pl([ve({type:Array})],$a.prototype,"walletImages",void 0),pl([ve()],$a.prototype,"imageSrc",void 0),pl([ve()],$a.prototype,"name",void 0),pl([ve()],$a.prototype,"tagLabel",void 0),pl([ve()],$a.prototype,"tagVariant",void 0),pl([ve()],$a.prototype,"icon",void 0),pl([ve()],$a.prototype,"walletIcon",void 0),pl([ve()],$a.prototype,"tabIdx",void 0),pl([ve({type:Boolean})],$a.prototype,"installed",void 0),pl([ve({type:Boolean})],$a.prototype,"disabled",void 0),pl([ve({type:Boolean})],$a.prototype,"showAllWallets",void 0),pl([ve({type:Boolean})],$a.prototype,"loading",void 0),pl([ve({type:String})],$a.prototype,"loadingSpinnerColor",void 0),$a=pl([It("wui-list-wallet")],$a);var v6=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let uv=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.count=Xe.state.count,this.filteredCount=Xe.state.filteredWallets.length,this.isFetchingRecommendedWallets=Xe.state.isFetchingRecommendedWallets,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e),Xe.subscribeKey("count",e=>this.count=e),Xe.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),Xe.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(c=>c.id==="walletConnect"),{allWallets:n}=Ne.state;if(!e||n==="HIDE"||n==="ONLY_MOBILE"&&!Ze.isMobile())return null;const r=Xe.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;return this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`),ue`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${Qt(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){jn.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),Qe.push("AllWallets")}};v6([ve()],uv.prototype,"tabIdx",void 0),v6([bt()],uv.prototype,"connectors",void 0),v6([bt()],uv.prototype,"count",void 0),v6([bt()],uv.prototype,"filteredCount",void 0),v6([bt()],uv.prototype,"isFetchingRecommendedWallets",void 0),uv=v6([It("w3m-all-wallets-widget")],uv);var _Y=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let tO=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="ANNOUNCED");return e!=null&&e.length?ue`
      <wui-flex flexDirection="column" gap="xs">
        ${e.filter(D0.showConnector).map(n=>ue`
              <wui-list-wallet
                imageSrc=${Qt(Us.getConnectorImage(n))}
                name=${n.name??"Unknown"}
                @click=${()=>this.onConnector(n)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${n.id}`}
                .installed=${!0}
                tabIdx=${Qt(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?Ze.isMobile()?Qe.push("AllWallets"):Qe.push("ConnectingWalletConnect"):Qe.push("ConnectingExternal",{connector:e})}};_Y([ve()],tO.prototype,"tabIdx",void 0),_Y([bt()],tO.prototype,"connectors",void 0),tO=_Y([It("w3m-connect-announced-widget")],tO);var nO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let u7=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.loading=!1,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e)),Ze.isTelegram()&&Ze.isIos()&&(this.loading=!at.state.wcUri,this.unsubscribe.push(at.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Ne.state;if(!(e!=null&&e.length))return this.style.cssText="display: none",null;const n=this.filterOutDuplicateWallets(e);return ue`<wui-flex flexDirection="column" gap="xs">
      ${n.map(r=>ue`
          <wui-list-wallet
            imageSrc=${Qt(Us.getWalletImage(r))}
            name=${r.name??"Unknown"}
            @click=${()=>this.onConnectWallet(r)}
            data-testid=${`wallet-selector-${r.id}`}
            tabIdx=${Qt(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const n=Tt.getRecentWallets(),r=this.connectors.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&Ze.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))}onConnectWallet(e){this.loading||Qe.push("ConnectingWalletConnect",{wallet:e})}};nO([ve()],u7.prototype,"tabIdx",void 0),nO([bt()],u7.prototype,"connectors",void 0),nO([bt()],u7.prototype,"loading",void 0),u7=nO([It("w3m-connect-custom-widget")],u7);var AY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let rO=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const r=this.connectors.filter(i=>i.type==="EXTERNAL").filter(D0.showConnector).filter(i=>i.id!==Ft.CONNECTOR_ID.COINBASE_SDK);return r!=null&&r.length?ue`
      <wui-flex flexDirection="column" gap="xs">
        ${r.map(i=>ue`
            <wui-list-wallet
              imageSrc=${Qt(Us.getConnectorImage(i))}
              .installed=${!0}
              name=${i.name??"Unknown"}
              data-testid=${`wallet-selector-external-${i.id}`}
              @click=${()=>this.onConnector(i)}
              tabIdx=${Qt(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){Qe.push("ConnectingExternal",{connector:e})}};AY([ve()],rO.prototype,"tabIdx",void 0),AY([bt()],rO.prototype,"connectors",void 0),rO=AY([It("w3m-connect-external-widget")],rO);var SY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let iO=class extends Pt{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?ue`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(e=>ue`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${e.id}`}
              imageSrc=${Qt(Us.getWalletImage(e))}
              name=${e.name??"Unknown"}
              @click=${()=>this.onConnectWallet(e)}
              tabIdx=${Qt(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){We.selectWalletConnector(e)}};SY([ve()],iO.prototype,"tabIdx",void 0),SY([ve()],iO.prototype,"wallets",void 0),iO=SY([It("w3m-connect-featured-widget")],iO);var IY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sO=class extends Pt{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const e=this.connectors.filter(D0.showConnector);return e.length===0?(this.style.cssText="display: none",null):ue`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>ue`
            <wui-list-wallet
              imageSrc=${Qt(Us.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${Qt(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(e){We.setActiveConnector(e),Qe.push("ConnectingExternal",{connector:e})}};IY([ve()],sO.prototype,"tabIdx",void 0),IY([ve()],sO.prototype,"connectors",void 0),sO=IY([It("w3m-connect-injected-widget")],sO);var kY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let oO=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type==="MULTI_CHAIN"&&n.name!=="WalletConnect");return e!=null&&e.length?ue`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(n=>ue`
            <wui-list-wallet
              imageSrc=${Qt(Us.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${Qt(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){We.setActiveConnector(e),Qe.push("ConnectingMultiChain")}};kY([ve()],oO.prototype,"tabIdx",void 0),kY([bt()],oO.prototype,"connectors",void 0),oO=kY([It("w3m-connect-multi-chain-widget")],oO);var aO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let d7=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.loading=!1,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e)),Ze.isTelegram()&&Ze.isIos()&&(this.loading=!at.state.wcUri,this.unsubscribe.push(at.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const n=Tt.getRecentWallets().filter(r=>!ev.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r));return n.length?ue`
      <wui-flex flexDirection="column" gap="xs">
        ${n.map(r=>ue`
            <wui-list-wallet
              imageSrc=${Qt(Us.getWalletImage(r))}
              name=${r.name??"Unknown"}
              @click=${()=>this.onConnectWallet(r)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${Qt(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){this.loading||We.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(n=>n.id===e.id||n.name===e.name)}isWalletCompatibleWithCurrentChain(e){const n=ie.state.activeChain;return n&&e.chains?e.chains.some(r=>{const i=r.split(":")[0];return n===i}):!0}};aO([ve()],d7.prototype,"tabIdx",void 0),aO([bt()],d7.prototype,"connectors",void 0),aO([bt()],d7.prototype,"loading",void 0),d7=aO([It("w3m-connect-recent-widget")],d7);var cO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let h7=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,Ze.isTelegram()&&Ze.isIos()&&(this.loading=!at.state.wcUri,this.unsubscribe.push(at.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=We.state,{customWallets:n,featuredWalletIds:r}=Ne.state,i=Tt.getRecentWallets(),s=e.find(d=>d.id==="walletConnect"),a=e.filter(d=>d.type==="INJECTED"||d.type==="ANNOUNCED"||d.type==="MULTI_CHAIN").filter(d=>d.name!=="Browser Wallet");if(!s)return null;if(r||n||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,l=Math.max(0,2-c),u=ev.filterOutDuplicateWallets(this.wallets).slice(0,l);return u.length?ue`
      <wui-flex flexDirection="column" gap="xs">
        ${u.map(d=>ue`
            <wui-list-wallet
              imageSrc=${Qt(Us.getWalletImage(d))}
              name=${(d==null?void 0:d.name)??"Unknown"}
              @click=${()=>this.onConnectWallet(d)}
              tabIdx=${Qt(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){if(this.loading)return;const n=We.getConnector(e.id,e.rdns);n?Qe.push("ConnectingExternal",{connector:n}):Qe.push("ConnectingWalletConnect",{wallet:e})}};cO([ve()],h7.prototype,"tabIdx",void 0),cO([ve()],h7.prototype,"wallets",void 0),cO([bt()],h7.prototype,"loading",void 0),h7=cO([It("w3m-connect-recommended-widget")],h7);var lO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let f7=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.connectorImages=tl.state.connectorImages,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e),tl.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(Ze.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(r=>r.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const n=e.imageUrl||this.connectorImages[(e==null?void 0:e.imageId)??""];return ue`
      <wui-list-wallet
        imageSrc=${Qt(n)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${Qt(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(e){We.setActiveConnector(e),Qe.push("ConnectingWalletConnect")}};lO([ve()],f7.prototype,"tabIdx",void 0),lO([bt()],f7.prototype,"connectors",void 0),lO([bt()],f7.prototype,"connectorImages",void 0),f7=lO([It("w3m-connect-walletconnect-widget")],f7);const LZt=Jt`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var p7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let dv=class extends Pt{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.recommended=Xe.state.recommended,this.featured=Xe.state.featured,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e),Xe.subscribeKey("recommended",e=>this.recommended=e),Xe.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return ue`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}=D0.getConnectorsByType(this.connectors,this.recommended,this.featured);return D0.getConnectorTypeOrder({custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(u=>{switch(u){case"injected":return ue`
            ${s.length?ue`<w3m-connect-multi-chain-widget
                  tabIdx=${Qt(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${r.length?ue`<w3m-connect-announced-widget
                  tabIdx=${Qt(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?ue`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${Qt(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return ue`<w3m-connect-walletconnect-widget
            tabIdx=${Qt(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return ue`<w3m-connect-recent-widget
            tabIdx=${Qt(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return ue`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${Qt(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return ue`<w3m-connect-custom-widget
            tabIdx=${Qt(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return ue`<w3m-connect-external-widget
            tabIdx=${Qt(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return ue`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${Qt(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${u}`),null}})}};dv.styles=LZt,p7([ve()],dv.prototype,"tabIdx",void 0),p7([bt()],dv.prototype,"connectors",void 0),p7([bt()],dv.prototype,"recommended",void 0),p7([bt()],dv.prototype,"featured",void 0),dv=p7([It("w3m-connector-list")],dv);const UZt=Jt`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var f1=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Qf=class extends Pt{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,n)=>{var i;const r=n===this.activeTab;return ue`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(n)}
          data-active=${r}
          data-testid="tab-${(i=e.label)==null?void 0:i.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?ue`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,n){const r=this.buttons[this.activeTab],i=this.buttons[e],s=r==null?void 0:r.querySelector("wui-text"),o=i==null?void 0:i.querySelector("wui-text"),a=i==null?void 0:i.getBoundingClientRect(),c=o==null?void 0:o.getBoundingClientRect();r&&s&&!n&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),r.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),i&&a&&c&&o&&(e!==this.activeTab||n)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:n?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:n?0:125,delay:n?0:200,fill:"forwards",easing:"ease"}))}};Qf.styles=[mr,Ko,UZt],f1([ve({type:Array})],Qf.prototype,"tabs",void 0),f1([ve()],Qf.prototype,"onTabChange",void 0),f1([ve({type:Array})],Qf.prototype,"buttons",void 0),f1([ve({type:Boolean})],Qf.prototype,"disabled",void 0),f1([ve()],Qf.prototype,"localTabWidth",void 0),f1([bt()],Qf.prototype,"activeTab",void 0),f1([bt()],Qf.prototype,"isDense",void 0),Qf=f1([It("wui-tabs")],Qf);var $Y=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let uO=class extends Pt{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return ue`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(n=>n==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:n==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:n==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:n==="web"?{label:"Webapp",icon:"browser",platform:"web"}:n==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){var r;const n=this.platformTabs[e];n&&((r=this.onSelectPlatfrom)==null||r.call(this,n))}};$Y([ve({type:Array})],uO.prototype,"platforms",void 0),$Y([ve()],uO.prototype,"onSelectPlatfrom",void 0),uO=$Y([It("w3m-connecting-header")],uO);const FZt=Jt`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var TY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let g7=class extends Pt{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,ue`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};g7.styles=[mr,FZt],TY([ve()],g7.prototype,"color",void 0),TY([ve()],g7.prototype,"size",void 0),g7=TY([It("wui-loading-spinner")],g7);const zZt=Jt`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var Xf=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const z_e={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},WZt={lg:"paragraph-600",md:"small-600"},qZt={lg:"md",md:"md"};let yd=class extends Pt{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??WZt[this.size];return ue`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=qZt[this.size],n=this.disabled?z_e.disabled:z_e[this.variant];return ue`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return ue``}};yd.styles=[mr,Ko,zZt],Xf([ve()],yd.prototype,"size",void 0),Xf([ve({type:Boolean})],yd.prototype,"disabled",void 0),Xf([ve({type:Boolean})],yd.prototype,"fullWidth",void 0),Xf([ve({type:Boolean})],yd.prototype,"loading",void 0),Xf([ve()],yd.prototype,"variant",void 0),Xf([ve({type:Boolean})],yd.prototype,"hasIconLeft",void 0),Xf([ve({type:Boolean})],yd.prototype,"hasIconRight",void 0),Xf([ve()],yd.prototype,"borderRadius",void 0),Xf([ve()],yd.prototype,"textVariant",void 0),yd=Xf([It("wui-button")],yd);const HZt=Jt`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var dO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let b6=class extends Pt{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return ue`
      <button ?disabled=${this.disabled} tabindex=${Qt(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};b6.styles=[mr,Ko,HZt],dO([ve()],b6.prototype,"tabIdx",void 0),dO([ve({type:Boolean})],b6.prototype,"disabled",void 0),dO([ve()],b6.prototype,"color",void 0),b6=dO([It("wui-link")],b6);const VZt=Jt`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var W_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hO=class extends Pt{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return ue`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};hO.styles=[mr,VZt],W_e([ve({type:Number})],hO.prototype,"radius",void 0),hO=W_e([It("wui-loading-thumbnail")],hO);const KZt=Jt`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var hv=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let q0=class extends Pt{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return ue`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?ue`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};q0.styles=[mr,Ko,KZt],hv([ve()],q0.prototype,"variant",void 0),hv([ve()],q0.prototype,"imageSrc",void 0),hv([ve({type:Boolean})],q0.prototype,"disabled",void 0),hv([ve()],q0.prototype,"icon",void 0),hv([ve()],q0.prototype,"size",void 0),hv([ve()],q0.prototype,"text",void 0),q0=hv([It("wui-chip-button")],q0);const GZt=Jt`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var fO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let x6=class extends Pt{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return ue`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};x6.styles=[mr,Ko,GZt],fO([ve({type:Boolean})],x6.prototype,"disabled",void 0),fO([ve()],x6.prototype,"label",void 0),fO([ve()],x6.prototype,"buttonLabel",void 0),x6=fO([It("wui-cta-button")],x6);const ZZt=Jt`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var q_e=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pO=class extends Pt{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=Ze.isMobile(),a=Ze.isIos(),c=Ze.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,u=ho.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?ue`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>Qe.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?ue`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:n&&a?ue`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&c?ue`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&Ze.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&Ze.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&Ze.openHref(this.wallet.homepage,"_blank")}};pO.styles=[ZZt],q_e([ve({type:Object})],pO.prototype,"wallet",void 0),pO=q_e([It("w3m-mobile-download-links")],pO);const YZt=Jt`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var ep=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class Ta extends Pt{constructor(){var e,n,r,i,s;super(),this.wallet=(e=Qe.state.data)==null?void 0:e.wallet,this.connector=(n=Qe.state.data)==null?void 0:n.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Us.getWalletImage(this.wallet)??Us.getConnectorImage(this.connector),this.name=((r=this.wallet)==null?void 0:r.name)??((i=this.connector)==null?void 0:i.name)??"Wallet",this.isRetrying=!1,this.uri=at.state.wcUri,this.error=at.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(at.subscribeKey("wcUri",o=>{var a;this.uri=o,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(a=this.onConnect)==null||a.call(this))}),at.subscribeKey("wcError",o=>this.error=o)),(Ze.isTelegram()||Ze.isSafari())&&Ze.isIos()&&at.state.wcUri&&((s=this.onConnect)==null||s.call(this))}firstUpdated(){var e;(e=this.onAutoConnect)==null||e.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),at.setWcError(!1),clearTimeout(this.timeout)}render(){var r;(r=this.onRender)==null||r.call(this),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let n=`Continue in ${this.name}`;return this.error&&(n="Connection declined"),ue`
      <wui-flex
        data-error=${Qt(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Qt(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${n}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?ue`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?ue`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){var e;if(this.error&&!this.showRetry){this.showRetry=!0;const n=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-button");n==null||n.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}onTryAgain(){var e,n;at.setWcError(!1),this.onRetry?(this.isRetrying=!0,(e=this.onRetry)==null||e.call(this)):(n=this.onConnect)==null||n.call(this)}loaderTemplate(){const e=Fo.state.themeVariables["--w3m-border-radius-master"],n=e?parseInt(e.replace("px",""),10):4;return ue`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(Ze.copyToClopboard(this.uri),ts.showSuccess("Link copied"))}catch{ts.showError("Failed to copy")}}}Ta.styles=YZt,ep([bt()],Ta.prototype,"isRetrying",void 0),ep([bt()],Ta.prototype,"uri",void 0),ep([bt()],Ta.prototype,"error",void 0),ep([bt()],Ta.prototype,"ready",void 0),ep([bt()],Ta.prototype,"showRetry",void 0),ep([bt()],Ta.prototype,"secondaryBtnLabel",void 0),ep([bt()],Ta.prototype,"secondaryLabel",void 0),ep([bt()],Ta.prototype,"isLoading",void 0),ep([ve({type:Boolean})],Ta.prototype,"isMobile",void 0),ep([ve()],Ta.prototype,"onRetry",void 0);var JZt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let H_e=class extends Ta{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),jn.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){var e;try{this.error=!1;const{connectors:n}=We.state,r=n.find(i=>{var s,o,a;return i.type==="ANNOUNCED"&&((s=i.info)==null?void 0:s.rdns)===((o=this.wallet)==null?void 0:o.rdns)||i.type==="INJECTED"||i.name===((a=this.wallet)==null?void 0:a.name)});if(r)await at.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");vr.close(),jn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:((e=this.wallet)==null?void 0:e.name)||"Unknown"}})}catch(n){jn.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(n==null?void 0:n.message)??"Unknown"}}),this.error=!0}}};H_e=JZt([It("w3m-connecting-wc-browser")],H_e);var QZt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let V_e=class extends Ta{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),jn.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){var e;!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:n,name:r}=this.wallet,{redirect:i,href:s}=Ze.formatNativeUrl(n,this.uri);at.setWcLinking({name:r,href:s}),at.setRecentWallet(this.wallet),Ze.openHref(i,"_blank")}catch{this.error=!0}}};V_e=QZt([It("w3m-connecting-wc-desktop")],V_e);var E6=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fv=class extends Ta{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=Ne.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{var e;if((e=this.wallet)!=null&&e.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:n,link_mode:r,name:i}=this.wallet,{redirect:s,redirectUniversalLink:o,href:a}=Ze.formatNativeUrl(n,this.uri,r);this.redirectDeeplink=s,this.redirectUniversalLink=o,this.target=Ze.isIframe()?"_top":"_self",at.setWcLinking({name:i,href:a}),at.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?Ze.openHref(this.redirectUniversalLink,this.target):Ze.openHref(this.redirectDeeplink,this.target)}catch(n){jn.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:n instanceof Error?n.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=Tr.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(at.subscribeKey("wcUri",()=>{this.onHandleURI()})),jn.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){var e;this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onTryAgain(){var e;at.setWcError(!1),(e=this.onConnect)==null||e.call(this)}};E6([bt()],fv.prototype,"redirectDeeplink",void 0),E6([bt()],fv.prototype,"redirectUniversalLink",void 0),E6([bt()],fv.prototype,"target",void 0),E6([bt()],fv.prototype,"preferUniversalLinks",void 0),E6([bt()],fv.prototype,"isLoading",void 0),fv=E6([It("w3m-connecting-wc-mobile")],fv);var m7={},XZt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},K_e={},hu={};let PY;const eYt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];hu.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},hu.getSymbolTotalCodewords=function(e){return eYt[e]},hu.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},hu.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');PY=e},hu.isKanjiModeEnabled=function(){return typeof PY<"u"},hu.toSJIS=function(e){return PY(e)};var gO={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(gO);function G_e(){this.buffer=[],this.length=0}G_e.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var tYt=G_e;function y7(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}y7.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},y7.prototype.get=function(t,e){return this.data[t*this.size+e]},y7.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},y7.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var nYt=y7,Z_e={};(function(t){const e=hu.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(Z_e);var Y_e={};const rYt=hu.getSymbolSize,J_e=7;Y_e.getPositions=function(e){const n=rYt(e);return[[0,0],[n-J_e,0],[0,n-J_e]]};var Q_e={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=i.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=i.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(Q_e);var mO={};const p1=gO,yO=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],wO=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];mO.getBlocksCount=function(e,n){switch(n){case p1.L:return yO[(e-1)*4+0];case p1.M:return yO[(e-1)*4+1];case p1.Q:return yO[(e-1)*4+2];case p1.H:return yO[(e-1)*4+3];default:return}},mO.getTotalCodewordsCount=function(e,n){switch(n){case p1.L:return wO[(e-1)*4+0];case p1.M:return wO[(e-1)*4+1];case p1.Q:return wO[(e-1)*4+2];case p1.H:return wO[(e-1)*4+3];default:return}};var X_e={},vO={};const w7=new Uint8Array(512),bO=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)w7[n]=e,bO[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)w7[n]=w7[n-255]})(),vO.log=function(e){if(e<1)throw new Error("log("+e+")");return bO[e]},vO.exp=function(e){return w7[e]},vO.mul=function(e,n){return e===0||n===0?0:w7[bO[e]+bO[n]]},function(t){const e=vO;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(X_e);const eAe=X_e;function NY(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}NY.prototype.initialize=function(e){this.degree=e,this.genPoly=eAe.generateECPolynomial(this.degree)},NY.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=eAe.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var iYt=NY,tAe={},g1={},OY={};OY.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var tp={};const nAe="[0-9]+",sYt="[A-Z $%*+\\-./:]+";let v7="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";v7=v7.replace(/u/g,"\\u");const oYt="(?:(?![A-Z0-9 $%*+\\-./:]|"+v7+`)(?:.|[\r
]))+`;tp.KANJI=new RegExp(v7,"g"),tp.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),tp.BYTE=new RegExp(oYt,"g"),tp.NUMERIC=new RegExp(nAe,"g"),tp.ALPHANUMERIC=new RegExp(sYt,"g");const aYt=new RegExp("^"+v7+"$"),cYt=new RegExp("^"+nAe+"$"),lYt=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");tp.testKanji=function(e){return aYt.test(e)},tp.testNumeric=function(e){return cYt.test(e)},tp.testAlphanumeric=function(e){return lYt.test(e)},function(t){const e=OY,n=tp;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}}(g1),function(t){const e=hu,n=mO,r=gO,i=g1,s=OY,o=7973,a=e.getBCHDigit(o);function c(h,f,p){for(let m=1;m<=40;m++)if(f<=t.getCapacity(m,p,h))return m}function l(h,f){return i.getCharCountIndicator(h,f)+4}function u(h,f){let p=0;return h.forEach(function(m){const w=l(m.mode,f);p+=w+m.getBitsLength()}),p}function d(h,f){for(let p=1;p<=40;p++)if(u(h,p)<=t.getCapacity(p,f,i.MIXED))return p}t.from=function(f,p){return s.isValid(f)?parseInt(f,10):p},t.getCapacity=function(f,p,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const w=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,p),b=(w-y)*8;if(m===i.MIXED)return b;const v=b-l(m,f);switch(m){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(f,p){let m;const w=r.from(p,r.M);if(Array.isArray(f)){if(f.length>1)return d(f,w);if(f.length===0)return 1;m=f[0]}else m=f;return c(m.mode,m.getLength(),w)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let p=f<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return f<<12|p}}(tAe);var rAe={};const RY=hu,iAe=1335,uYt=21522,sAe=RY.getBCHDigit(iAe);rAe.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;RY.getBCHDigit(i)-sAe>=0;)i^=iAe<<RY.getBCHDigit(i)-sAe;return(r<<10|i)^uYt};var oAe={};const dYt=g1;function C6(t){this.mode=dYt.NUMERIC,this.data=t.toString()}C6.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},C6.prototype.getLength=function(){return this.data.length},C6.prototype.getBitsLength=function(){return C6.getBitsLength(this.data.length)},C6.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var hYt=C6;const fYt=g1,MY=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _6(t){this.mode=fYt.ALPHANUMERIC,this.data=t}_6.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},_6.prototype.getLength=function(){return this.data.length},_6.prototype.getBitsLength=function(){return _6.getBitsLength(this.data.length)},_6.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=MY.indexOf(this.data[n])*45;r+=MY.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(MY.indexOf(this.data[n]),6)};var pYt=_6,gYt=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const mYt=gYt,yYt=g1;function A6(t){this.mode=yYt.BYTE,typeof t=="string"&&(t=mYt(t)),this.data=new Uint8Array(t)}A6.getBitsLength=function(e){return e*8},A6.prototype.getLength=function(){return this.data.length},A6.prototype.getBitsLength=function(){return A6.getBitsLength(this.data.length)},A6.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var wYt=A6;const vYt=g1,bYt=hu;function S6(t){this.mode=vYt.KANJI,this.data=t}S6.getBitsLength=function(e){return e*13},S6.prototype.getLength=function(){return this.data.length},S6.prototype.getBitsLength=function(){return S6.getBitsLength(this.data.length)},S6.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=bYt.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var xYt=S6;(function(t){const e=g1,n=hYt,r=pYt,i=wYt,s=xYt,o=tp,a=hu,c=wve;function l(y){return unescape(encodeURIComponent(y)).length}function u(y,b,v){const E=[];let _;for(;(_=y.exec(v))!==null;)E.push({data:_[0],index:_.index,mode:b,length:_[0].length});return E}function d(y){const b=u(o.NUMERIC,e.NUMERIC,y),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let E,_;return a.isKanjiModeEnabled()?(E=u(o.BYTE,e.BYTE,y),_=u(o.KANJI,e.KANJI,y)):(E=u(o.BYTE_KANJI,e.BYTE,y),_=[]),b.concat(v,E,_).sort(function(I,R){return I.index-R.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function h(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return r.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,v){const E=b.length-1>=0?b[b.length-1]:null;return E&&E.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function p(y){const b=[];for(let v=0;v<y.length;v++){const E=y[v];switch(E.mode){case e.NUMERIC:b.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:b.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:b.push([E,{data:E.data,mode:e.BYTE,length:l(E.data)}]);break;case e.BYTE:b.push([{data:E.data,mode:e.BYTE,length:l(E.data)}])}}return b}function m(y,b){const v={},E={start:{}};let _=["start"];for(let T=0;T<y.length;T++){const I=y[T],R=[];for(let S=0;S<I.length;S++){const B=I[S],j=""+T+S;R.push(j),v[j]={node:B,lastCount:0},E[j]={};for(let U=0;U<_.length;U++){const M=_[U];v[M]&&v[M].node.mode===B.mode?(E[M][j]=h(v[M].lastCount+B.length,B.mode)-h(v[M].lastCount,B.mode),v[M].lastCount+=B.length):(v[M]&&(v[M].lastCount=B.length),E[M][j]=h(B.length,B.mode)+4+e.getCharCountIndicator(B.mode,b))}}_=R}for(let T=0;T<_.length;T++)E[_[T]].end=0;return{map:E,table:v}}function w(y,b){let v;const E=e.getBestModeForData(y);if(v=e.from(b,E),v!==e.BYTE&&v.bit<E.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(E));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new r(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(b){return b.reduce(function(v,E){return typeof E=="string"?v.push(w(E,null)):E.data&&v.push(w(E.data,E.mode)),v},[])},t.fromString=function(b,v){const E=d(b,a.isKanjiModeEnabled()),_=p(E),T=m(_,v),I=c.find_path(T.map,"start","end"),R=[];for(let S=1;S<I.length-1;S++)R.push(T.table[I[S]].node);return t.fromArray(f(R))},t.rawSplit=function(b){return t.fromArray(d(b,a.isKanjiModeEnabled()))}})(oAe);const xO=hu,jY=gO,EYt=tYt,CYt=nYt,_Yt=Z_e,AYt=Y_e,BY=Q_e,DY=mO,SYt=iYt,EO=tAe,IYt=rAe,kYt=g1,LY=oAe;function $Yt(t,e){const n=t.size,r=AYt.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function TYt(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function PYt(t,e){const n=_Yt.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function NYt(t,e){const n=t.size,r=EO.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function UY(t,e,n){const r=t.size,i=IYt.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function OYt(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function RYt(t,e,n){const r=new EYt;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),kYt.getCharCountIndicator(c.mode,t)),c.write(r)});const i=xO.getSymbolTotalCodewords(t),s=DY.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return MYt(r,t,e)}function MYt(t,e,n){const r=xO.getSymbolTotalCodewords(e),i=DY.getTotalCodewordsCount(e,n),s=r-i,o=DY.getBlocksCount(e,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=l-u,f=new SYt(h);let p=0;const m=new Array(o),w=new Array(o);let y=0;const b=new Uint8Array(t.buffer);for(let I=0;I<o;I++){const R=I<c?u:d;m[I]=b.slice(p,p+R),w[I]=f.encode(m[I]),p+=R,y=Math.max(y,R)}const v=new Uint8Array(r);let E=0,_,T;for(_=0;_<y;_++)for(T=0;T<o;T++)_<m[T].length&&(v[E++]=m[T][_]);for(_=0;_<h;_++)for(T=0;T<o;T++)v[E++]=w[T][_];return v}function jYt(t,e,n,r){let i;if(Array.isArray(t))i=LY.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=LY.rawSplit(t);l=EO.getBestVersionForData(u,n)}i=LY.fromString(t,l||40)}else throw new Error("Invalid data");const s=EO.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=RYt(e,n,i),a=xO.getSymbolSize(e),c=new CYt(a);return $Yt(c,e),TYt(c),PYt(c,e),UY(c,n,0),e>=7&&NYt(c,e),OYt(c,o),isNaN(r)&&(r=BY.getBestMask(c,UY.bind(null,c,n))),BY.applyMask(r,c),UY(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}K_e.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=jY.M,i,s;return typeof n<"u"&&(r=jY.from(n.errorCorrectionLevel,jY.M),i=EO.from(n.version),s=BY.from(n.maskPattern),n.toSJISFunc&&xO.setToSJISFunction(n.toSJISFunc)),jYt(e,i,r,s)};var aAe={},FY={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let p=(h*l+f)*4,m=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const w=Math.floor((h-u)/c),y=Math.floor((f-u)/c);m=d[a[w*o+y]?1:0]}r[p++]=m.r,r[p++]=m.g,r[p++]=m.b,r[p]=m.a}}})(FY),function(t){const e=FY;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),n(d,l,u),d.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(aAe);var cAe={};const BYt=FY;function lAe(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function zY(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function DYt(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(r+=s?zY("M",c+n,.5+l+n):zY("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(r+=zY("h",o),o=0)):i++}return r}cAe.render=function(e,n,r){const i=BYt.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+lAe(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+lAe(i.color.dark,"stroke")+' d="'+DYt(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,h),h};const LYt=XZt,WY=K_e,uAe=aAe,UYt=cAe;function qY(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!LYt())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=WY.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=WY.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}m7.create=WY.create,m7.toCanvas=qY.bind(null,uAe.render),m7.toDataURL=qY.bind(null,uAe.renderToDataURL),m7.toString=qY.bind(null,function(t,e,n){return UYt.render(t,n)});const FYt=.1,dAe=2.5,H0=7;function HY(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+FYt}function zYt(t,e){const n=Array.prototype.slice.call(m7.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const WYt={generate({uri:t,size:e,logoSize:n,dotColor:r="#141414"}){const i="transparent",o=[],a=zYt(t,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:m,y:w})=>{const y=(a.length-H0)*c*m,b=(a.length-H0)*c*w,v=.45;for(let E=0;E<l.length;E+=1){const _=c*(H0-E*2);o.push(ot`
            <rect
              fill=${E===2?r:i}
              width=${E===0?_-5:_}
              rx= ${E===0?(_-5)*v:_*v}
              ry= ${E===0?(_-5)*v:_*v}
              stroke=${r}
              stroke-width=${E===0?5:0}
              height=${E===0?_-5:_}
              x= ${E===0?b+c*E+5/2:b+c*E}
              y= ${E===0?y+c*E+5/2:y+c*E}
            />
          `)}});const u=Math.floor((n+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,f=[];a.forEach((m,w)=>{m.forEach((y,b)=>{if(a[w][b]&&!(w<H0&&b<H0||w>a.length-(H0+1)&&b<H0||w<H0&&b>a.length-(H0+1))&&!(w>d&&w<h&&b>d&&b<h)){const v=w*c+c/2,E=b*c+c/2;f.push([v,E])}})});const p={};return f.forEach(([m,w])=>{var y;p[m]?(y=p[m])==null||y.push(w):p[m]=[w]}),Object.entries(p).map(([m,w])=>{const y=w.filter(b=>w.every(v=>!HY(b,v,c)));return[Number(m),y]}).forEach(([m,w])=>{w.forEach(y=>{o.push(ot`<circle cx=${m} cy=${y} fill=${r} r=${c/dAe} />`)})}),Object.entries(p).filter(([m,w])=>w.length>1).map(([m,w])=>{const y=w.filter(b=>w.some(v=>HY(b,v,c)));return[Number(m),y]}).map(([m,w])=>{w.sort((b,v)=>b<v?-1:1);const y=[];for(const b of w){const v=y.find(E=>E.some(_=>HY(b,_,c)));v?v.push(b):y.push([b])}return[m,y.map(b=>[b[0],b[b.length-1]])]}).forEach(([m,w])=>{w.forEach(([y,b])=>{o.push(ot`
              <line
                x1=${m}
                x2=${m}
                y1=${y}
                y2=${b}
                stroke=${r}
                stroke-width=${c/(dAe/2)}
                stroke-linecap="round"
              />
            `)})}),o}},qYt=Jt`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var V0=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const HYt="#3396ff";let $h=class extends Pt{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??HYt}
    `,ue`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return ot`
      <svg height=${e} width=${e}>
        ${WYt.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?ue`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?ue`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:ue`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};$h.styles=[mr,qYt],V0([ve()],$h.prototype,"uri",void 0),V0([ve({type:Number})],$h.prototype,"size",void 0),V0([ve()],$h.prototype,"theme",void 0),V0([ve()],$h.prototype,"imageSrc",void 0),V0([ve()],$h.prototype,"alt",void 0),V0([ve()],$h.prototype,"color",void 0),V0([ve({type:Boolean})],$h.prototype,"arenaClear",void 0),V0([ve({type:Boolean})],$h.prototype,"farcaster",void 0),$h=V0([It("wui-qr-code")],$h);const VYt=Jt`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var b7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let pv=class extends Pt{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,ue`<slot></slot>`}};pv.styles=[VYt],b7([ve()],pv.prototype,"width",void 0),b7([ve()],pv.prototype,"height",void 0),b7([ve()],pv.prototype,"borderRadius",void 0),b7([ve()],pv.prototype,"variant",void 0),pv=b7([It("wui-shimmer")],pv);const KYt="https://reown.com",GYt=Jt`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }

  a {
    text-decoration: none;
    cursor: pointer;
  }

  a:hover {
    opacity: 0.9;
  }
`;var ZYt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let VY=class extends Pt{render(){return ue`
      <a
        data-testid="ux-branding-reown"
        href=${KYt}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="xs"
          .padding=${["0","0","l","0"]}
        >
          <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
          <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};VY.styles=[mr,Ko,GYt],VY=ZYt([It("wui-ux-by-reown")],VY);const YYt=Jt`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var JYt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let KY=class extends Ta{constructor(){var e;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),jn.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:((e=this.wallet)==null?void 0:e.name)??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.unsubscribe)==null||e.forEach(n=>n()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),ue`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,n=this.wallet?this.wallet.name:void 0;return at.setWcLinking(void 0),at.setRecentWallet(this.wallet),ue` <wui-qr-code
      size=${e}
      theme=${Fo.state.themeMode}
      uri=${this.uri}
      imageSrc=${Qt(Us.getWalletImage(this.wallet))}
      color=${Qt(Fo.state.themeVariables["--w3m-qr-color"])}
      alt=${Qt(n)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return ue`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};KY.styles=YYt,KY=JYt([It("w3m-connecting-wc-qrcode")],KY);var QYt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let hAe=class extends Pt{constructor(){var e;if(super(),this.wallet=(e=Qe.state.data)==null?void 0:e.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");jn.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return ue`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Qt(Us.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};hAe=QYt([It("w3m-connecting-wc-unsupported")],hAe);var fAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let GY=class extends Ta{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=Tr.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(at.subscribeKey("wcUri",()=>{this.updateLoadingState()})),jn.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:n,name:r}=this.wallet,{redirect:i,href:s}=Ze.formatUniversalUrl(n,this.uri);at.setWcLinking({name:r,href:s}),at.setRecentWallet(this.wallet),Ze.openHref(i,"_blank")}catch{this.error=!0}}};fAe([bt()],GY.prototype,"isLoading",void 0),GY=fAe([It("w3m-connecting-wc-web")],GY);var x7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let I6=class extends Pt{constructor(){var e;super(),this.wallet=(e=Qe.state.data)==null?void 0:e.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Ne.state.siwx,this.remoteFeatures=Ne.state.remoteFeatures,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(Ne.subscribeKey("remoteFeatures",n=>this.remoteFeatures=n))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return ue`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){var e;return(e=this.remoteFeatures)!=null&&e.reownBranding?ue`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(e=!1){if(!(this.platform==="browser"||Ne.state.manualWCControl&&!e))try{const{wcPairingExpiry:n,status:r}=at.state;(e||Ne.state.enableEmbedded||Ze.isPairingExpired(n)||r==="connecting")&&(await at.connectWalletConnect(),this.isSiwxEnabled||vr.close())}catch(n){jn.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(n==null?void 0:n.message)??"Unknown"}}),at.setWcError(!0),ts.showError(n.message??"Connection error"),at.resetWcConnection(),Qe.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i==null?void 0:i.map(({injected_id:p})=>p).filter(Boolean),a=[...s?[s]:o??[]],c=Ne.state.isUniversalProvider?!1:a.length,l=e,u=r,d=at.checkInstalled(a),h=c&&d,f=n&&!Ze.isMobile();h&&!ie.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(Ze.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),f&&this.platforms.push("desktop"),!h&&c&&!ie.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return ue`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return ue`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return ue`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return ue`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return ue`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return ue`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?ue`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){var r;const n=(r=this.shadowRoot)==null?void 0:r.querySelector("div");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};x7([bt()],I6.prototype,"platform",void 0),x7([bt()],I6.prototype,"platforms",void 0),x7([bt()],I6.prototype,"isSiwxEnabled",void 0),x7([bt()],I6.prototype,"remoteFeatures",void 0),I6=x7([It("w3m-connecting-wc-view")],I6);var pAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let CO=class extends Pt{constructor(){super(...arguments),this.isMobile=Ze.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:n}=Xe.state,{customWallets:r}=Ne.state,i=Tt.getRecentWallets(),s=e.length||n.length||(r==null?void 0:r.length)||i.length;return ue`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?ue`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return ue`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};pAe([bt()],CO.prototype,"isMobile",void 0),CO=pAe([It("w3m-connecting-wc-basic-view")],CO);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ZY=()=>new XYt;class XYt{}const YY=new WeakMap,JY=bY(class extends j_e{render(t){return ss}update(t,[e]){var r;const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=(r=t.options)==null?void 0:r.host,this.rt(this.ct=t.element)),ss}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=YY.get(e);n===void 0&&(n=new WeakMap,YY.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G=="function"?(t=YY.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),eJt=Jt`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var gAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _O=class extends Pt{constructor(){super(...arguments),this.inputElementRef=ZY(),this.checked=void 0}render(){return ue`
      <label>
        <input
          ${JY(this.inputElementRef)}
          type="checkbox"
          ?checked=${Qt(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){var e;this.dispatchEvent(new CustomEvent("switchChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.checked,bubbles:!0,composed:!0}))}};_O.styles=[mr,Ko,XC,eJt],gAe([ve({type:Boolean})],_O.prototype,"checked",void 0),_O=gAe([It("wui-switch")],_O);const tJt=Jt`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var mAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let AO=class extends Pt{constructor(){super(...arguments),this.checked=void 0}render(){return ue`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${Qt(this.checked)}></wui-switch>
      </button>
    `}};AO.styles=[mr,Ko,tJt],mAe([ve({type:Boolean})],AO.prototype,"checked",void 0),AO=mAe([It("wui-certified-switch")],AO);const nJt=Jt`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var yAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let SO=class extends Pt{constructor(){super(...arguments),this.icon="copy"}render(){return ue`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};SO.styles=[mr,Ko,nJt],yAe([ve()],SO.prototype,"icon",void 0),SO=yAe([It("wui-input-element")],SO);const rJt=Jt`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var np=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wd=class extends Pt{constructor(){super(...arguments),this.inputElementRef=ZY(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,r={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return ue`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${JY(this.inputElementRef)}
        class=${U_e(r)}
        type=${this.type}
        enterkeyhint=${Qt(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${Qt(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?ue`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){var e;this.dispatchEvent(new CustomEvent("inputChange",{detail:(e=this.inputElementRef.value)==null?void 0:e.value,bubbles:!0,composed:!0}))}};wd.styles=[mr,Ko,rJt],np([ve()],wd.prototype,"size",void 0),np([ve()],wd.prototype,"icon",void 0),np([ve({type:Boolean})],wd.prototype,"disabled",void 0),np([ve()],wd.prototype,"placeholder",void 0),np([ve()],wd.prototype,"type",void 0),np([ve()],wd.prototype,"keyHint",void 0),np([ve()],wd.prototype,"value",void 0),np([ve()],wd.prototype,"inputRightPadding",void 0),np([ve()],wd.prototype,"tabIdx",void 0),wd=np([It("wui-input-text")],wd);const iJt=Jt`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var sJt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let QY=class extends Pt{constructor(){super(...arguments),this.inputComponentRef=ZY()}render(){return ue`
      <wui-input-text
        ${JY(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const e=this.inputComponentRef.value,n=e==null?void 0:e.inputElementRef.value;n&&(n.value="",n.focus(),n.dispatchEvent(new Event("input")))}};QY.styles=[mr,iJt],QY=sJt([It("wui-search-bar")],QY);const oJt=ot`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,aJt=Jt`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var wAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let IO=class extends Pt{constructor(){super(...arguments),this.type="wallet"}render(){return ue`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?ue` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${oJt}`:ue`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};IO.styles=[mr,Ko,aJt],wAe([ve()],IO.prototype,"type",void 0),IO=wAe([It("wui-card-select-loader")],IO);const cJt=Jt`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var vd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gl=class extends Pt{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&ho.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&ho.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&ho.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&ho.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&ho.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&ho.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&ho.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&ho.getSpacingStyles(this.margin,3)};
    `,ue`<slot></slot>`}};gl.styles=[mr,cJt],vd([ve()],gl.prototype,"gridTemplateRows",void 0),vd([ve()],gl.prototype,"gridTemplateColumns",void 0),vd([ve()],gl.prototype,"justifyItems",void 0),vd([ve()],gl.prototype,"alignItems",void 0),vd([ve()],gl.prototype,"justifyContent",void 0),vd([ve()],gl.prototype,"alignContent",void 0),vd([ve()],gl.prototype,"columnGap",void 0),vd([ve()],gl.prototype,"rowGap",void 0),vd([ve()],gl.prototype,"gap",void 0),vd([ve()],gl.prototype,"padding",void 0),vd([ve()],gl.prototype,"margin",void 0),gl=vd([It("wui-grid")],gl);const lJt=Jt`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var E7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let gv=class extends Pt{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var n,r;const e=((n=this.wallet)==null?void 0:n.badge_type)==="certified";return ue`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${Qt(e?"certified":void 0)}
            >${(r=this.wallet)==null?void 0:r.name}</wui-text
          >
          ${e?ue`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){var e,n;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():ue`
      <wui-wallet-image
        size="md"
        imageSrc=${Qt(this.imageSrc)}
        name=${(e=this.wallet)==null?void 0:e.name}
        .installed=${(n=this.wallet)==null?void 0:n.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return ue`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Us.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Us.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};gv.styles=lJt,E7([bt()],gv.prototype,"visible",void 0),E7([bt()],gv.prototype,"imageSrc",void 0),E7([bt()],gv.prototype,"imageLoading",void 0),E7([ve()],gv.prototype,"wallet",void 0),gv=E7([It("w3m-all-wallets-list-item")],gv);const uJt=Jt`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var k6=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const vAe="local-paginator";let m1=class extends Pt{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Xe.state.wallets.length,this.wallets=Xe.state.wallets,this.recommended=Xe.state.recommended,this.featured=Xe.state.featured,this.filteredWallets=Xe.state.filteredWallets,this.unsubscribe.push(Xe.subscribeKey("wallets",e=>this.wallets=e),Xe.subscribeKey("recommended",e=>this.recommended=e),Xe.subscribeKey("featured",e=>this.featured=e),Xe.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var e;this.unsubscribe.forEach(n=>n()),(e=this.paginationObserver)==null||e.disconnect()}render(){return ue`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var n;this.loading=!0;const e=(n=this.shadowRoot)==null?void 0:n.querySelector("wui-grid");e&&(await Xe.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>ue`
        <wui-card-select-loader type="wallet" id=${Qt(n)}></wui-card-select-loader>
      `)}walletsTemplate(){var r;const e=((r=this.filteredWallets)==null?void 0:r.length)>0?Ze.uniqueBy([...this.featured,...this.recommended,...this.filteredWallets],"id"):Ze.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return ev.markWalletsAsInstalled(e).map(i=>ue`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(i)}
          .wallet=${i}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i}=Xe.state,s=window.innerWidth<352?3:4,o=e.length+n.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?r.length%s:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i?this.shimmerTemplate(c,vAe):null}createPaginationObserver(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(`#${vAe}`);e&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r!=null&&r.isIntersecting&&!this.loading){const{page:i,count:s,wallets:o}=Xe.state;o.length<s&&Xe.fetchWalletsByPage({page:i+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){We.selectWalletConnector(e)}};m1.styles=uJt,k6([bt()],m1.prototype,"loading",void 0),k6([bt()],m1.prototype,"wallets",void 0),k6([bt()],m1.prototype,"recommended",void 0),k6([bt()],m1.prototype,"featured",void 0),k6([bt()],m1.prototype,"filteredWallets",void 0),m1=k6([It("w3m-all-wallets-list")],m1);const dJt=Jt`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var kO=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $6=class extends Pt{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?ue`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Xe.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=Xe.state,n=ev.markWalletsAsInstalled(e);return e.length?ue`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${n.map(r=>ue`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:ue`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){We.selectWalletConnector(e)}};$6.styles=dJt,kO([bt()],$6.prototype,"loading",void 0),kO([ve()],$6.prototype,"query",void 0),kO([ve()],$6.prototype,"badge",void 0),$6=kO([It("w3m-all-wallets-search")],$6);var XY=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let C7=class extends Pt{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=Ze.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return ue`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?ue`<w3m-all-wallets-search
            query=${this.search}
            badge=${Qt(this.badge)}
          ></w3m-all-wallets-search>`:ue`<w3m-all-wallets-list badge=${Qt(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",ts.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return Ze.isMobile()?ue`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){Qe.push("ConnectingWalletConnect")}};XY([bt()],C7.prototype,"search",void 0),XY([bt()],C7.prototype,"badge",void 0),C7=XY([It("w3m-all-wallets-view")],C7);const hJt=Jt`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var Th=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let fu=class extends Pt{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return ue`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${Qt(this.iconVariant)}
        tabindex=${Qt(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return ue`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return ue`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",n=this.iconVariant==="square-blue"?"mdl":"md",r=this.iconSize?this.iconSize:n;return ue`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${r}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${n}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?ue`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:ue``}chevronTemplate(){return this.chevron?ue`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};fu.styles=[mr,Ko,hJt],Th([ve()],fu.prototype,"icon",void 0),Th([ve()],fu.prototype,"iconSize",void 0),Th([ve()],fu.prototype,"tabIdx",void 0),Th([ve()],fu.prototype,"variant",void 0),Th([ve()],fu.prototype,"iconVariant",void 0),Th([ve({type:Boolean})],fu.prototype,"disabled",void 0),Th([ve()],fu.prototype,"imageSrc",void 0),Th([ve()],fu.prototype,"alt",void 0),Th([ve({type:Boolean})],fu.prototype,"chevron",void 0),Th([ve({type:Boolean})],fu.prototype,"loading",void 0),fu=Th([It("wui-list-item")],fu);var fJt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let eJ=class extends Pt{constructor(){var e;super(...arguments),this.wallet=(e=Qe.state.data)==null?void 0:e.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return ue`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var e;return(e=this.wallet)!=null&&e.chrome_store?ue`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var e;return(e=this.wallet)!=null&&e.app_store?ue`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var e;return(e=this.wallet)!=null&&e.play_store?ue`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var e;return(e=this.wallet)!=null&&e.homepage?ue`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){var e;(e=this.wallet)!=null&&e.chrome_store&&Ze.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&Ze.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&Ze.openHref(this.wallet.play_store,"_blank")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&Ze.openHref(this.wallet.homepage,"_blank")}};eJ=fJt([It("w3m-downloads-view")],eJ);const pJt=Object.freeze(Object.defineProperty({__proto__:null,get W3mAllWalletsView(){return C7},get W3mConnectingWcBasicView(){return CO},get W3mDownloadsView(){return eJ}},Symbol.toStringTag,{value:"Module"})),gJt=Jt`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var mJt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let tJ=class extends Pt{render(){return ue`<slot></slot>`}};tJ.styles=[mr,gJt],tJ=mJt([It("wui-card")],tJ);const yJt=Jt`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var _7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let mv=class extends Pt{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,ue`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){yh.close()}};mv.styles=[mr,yJt],_7([ve()],mv.prototype,"message",void 0),_7([ve()],mv.prototype,"backgroundColor",void 0),_7([ve()],mv.prototype,"iconColor",void 0),_7([ve()],mv.prototype,"icon",void 0),mv=_7([It("wui-alertbar")],mv);const wJt=Jt`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var bAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const vJt={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let $O=class extends Pt{constructor(){super(),this.unsubscribe=[],this.open=yh.state.open,this.onOpen(!0),this.unsubscribe.push(yh.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n}=yh.state,r=vJt[n];return ue`
      <wui-alertbar
        message=${e}
        backgroundColor=${r==null?void 0:r.backgroundColor}
        iconColor=${r==null?void 0:r.iconColor}
        icon=${r==null?void 0:r.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};$O.styles=wJt,bAe([bt()],$O.prototype,"open",void 0),$O=bAe([It("w3m-alertbar")],$O);const bJt=Jt`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var A7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yv=class extends Pt{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",n=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${n});
`,ue`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};yv.styles=[mr,Ko,XC,bJt],A7([ve()],yv.prototype,"size",void 0),A7([ve({type:Boolean})],yv.prototype,"disabled",void 0),A7([ve()],yv.prototype,"icon",void 0),A7([ve()],yv.prototype,"iconColor",void 0),yv=A7([It("wui-icon-link")],yv);const xJt=Jt`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var xAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let TO=class extends Pt{constructor(){super(...arguments),this.imageSrc=""}render(){return ue`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?ue`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:ue`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};TO.styles=[mr,Ko,XC,xJt],xAe([ve()],TO.prototype,"imageSrc",void 0),TO=xAe([It("wui-select")],TO);const EJt=Jt`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var K0=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const CJt=["SmartSessionList"];function nJ(){var o,a,c,l,u,d,h;const t=(a=(o=Qe.state.data)==null?void 0:o.connector)==null?void 0:a.name,e=(l=(c=Qe.state.data)==null?void 0:c.wallet)==null?void 0:l.name,n=(d=(u=Qe.state.data)==null?void 0:u.network)==null?void 0:d.name,r=e??t,i=We.getConnectors();return{Connect:`Connect ${i.length===1&&((h=i[0])==null?void 0:h.id)==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:r??"Connect Wallet",ConnectingWalletConnect:r??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:r?`Get ${r}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:n??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:Mt.state.socialProvider?Mt.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}let Ph=class extends Pt{constructor(){super(),this.unsubscribe=[],this.heading=nJ()[Qe.state.view],this.network=ie.state.activeCaipNetwork,this.networkImage=Us.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=Qe.state.view,this.viewDirection="",this.headerText=nJ()[Qe.state.view],this.unsubscribe.push(tl.subscribeNetworkImages(()=>{this.networkImage=Us.getNetworkImage(this.network)}),Qe.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=nJ()[e]},i1.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),ie.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Us.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return ue`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){jn.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),Qe.push("WhatIsAWallet")}async onClose(){await REe.safeClose()}rightHeaderTemplate(){var n,r;const e=(r=(n=Ne==null?void 0:Ne.state)==null?void 0:n.features)==null?void 0:r.smartSessions;return Qe.state.view!=="Account"||!e?this.closeButtonTemplate():ue`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>Qe.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return ue`
      <wui-icon-link
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=CJt.includes(this.view);return ue`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?ue`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){var l;const{view:e}=Qe.state,n=e==="Connect",r=Ne.state.enableEmbedded,i=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=Ne.state.enableNetworkSwitch,c=i||s||n&&r;return o&&a?ue`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Qt((l=this.network)==null?void 0:l.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Qt(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?ue`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:ue`<wui-icon-link
      data-hidden=${!n}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(jn.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Qe.push("Networks"))}isAllowedNetworkSwitch(){const e=ie.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e==null?void 0:e.find(({id:i})=>{var s;return i===((s=this.network)==null?void 0:s.id)});return n||!r}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=Qe.state;let n=i1.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(n=i1.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=n}async onHistoryChange(){var r;const{history:e}=Qe.state,n=(r=this.shadowRoot)==null?void 0:r.querySelector("#dynamic");e.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){Qe.goBack()}};Ph.styles=EJt,K0([bt()],Ph.prototype,"heading",void 0),K0([bt()],Ph.prototype,"network",void 0),K0([bt()],Ph.prototype,"networkImage",void 0),K0([bt()],Ph.prototype,"showBack",void 0),K0([bt()],Ph.prototype,"prevHistoryLength",void 0),K0([bt()],Ph.prototype,"view",void 0),K0([bt()],Ph.prototype,"viewDirection",void 0),K0([bt()],Ph.prototype,"headerText",void 0),Ph=K0([It("w3m-header")],Ph);const _Jt=Jt`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var wv=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let G0=class extends Pt{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return ue`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?ue`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?ue`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:ue`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};G0.styles=[mr,_Jt],wv([ve()],G0.prototype,"backgroundColor",void 0),wv([ve()],G0.prototype,"iconColor",void 0),wv([ve()],G0.prototype,"icon",void 0),wv([ve()],G0.prototype,"message",void 0),wv([ve()],G0.prototype,"loading",void 0),wv([ve()],G0.prototype,"iconType",void 0),G0=wv([It("wui-snackbar")],G0);const AJt=Jt`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var EAe=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const SJt={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let PO=class extends Pt{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=ts.state.open,this.unsubscribe.push(ts.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n,svg:r}=ts.state,i=SJt[n],{icon:s,iconColor:o}=r??i??{};return ue`
      <wui-snackbar
        message=${e}
        backgroundColor=${i==null?void 0:i.backgroundColor}
        iconColor=${o}
        icon=${s}
        .loading=${n==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),ts.state.autoClose&&(this.timeout=setTimeout(()=>ts.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};PO.styles=AJt,EAe([bt()],PO.prototype,"open",void 0),PO=EAe([It("w3m-snackbar")],PO);const IJt=Jt`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var S7=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vv=class extends Pt{constructor(){super(),this.unsubscribe=[],this.open=a5.state.open,this.message=a5.state.message,this.triggerRect=a5.state.triggerRect,this.variant=a5.state.variant,this.unsubscribe.push(a5.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${n}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,ue`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};vv.styles=[IJt],S7([bt()],vv.prototype,"open",void 0),S7([bt()],vv.prototype,"message",void 0),S7([bt()],vv.prototype,"triggerRect",void 0),S7([bt()],vv.prototype,"variant",void 0),vv=S7([It("w3m-tooltip"),It("w3m-tooltip")],vv);const kJt=Jt`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var rJ=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let I7=class extends Pt{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=Qe.state.view,this.viewDirection="",this.unsubscribe.push(Qe.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){var e;this.resizeObserver=new ResizeObserver(([n])=>{const r=`${n==null?void 0:n.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",r),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=r,this.style.animation="unset"},i1.ANIMATION_DURATIONS.ModalHeight)}),(e=this.resizeObserver)==null||e.observe(this.getWrapper())}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.unobserve(this.getWrapper()),this.unsubscribe.forEach(n=>n())}render(){return ue`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return ue`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return ue`<w3m-account-view></w3m-account-view>`;case"AllWallets":return ue`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return ue`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return ue`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return ue`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return ue`<w3m-connect-view></w3m-connect-view>`;case"Create":return ue`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return ue`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return ue`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return ue`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return ue`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return ue`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return ue`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return ue`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return ue`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return ue`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return ue`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return ue`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return ue`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return ue`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return ue`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return ue`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return ue`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return ue`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return ue`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return ue`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return ue`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return ue`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return ue`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return ue`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return ue`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return ue`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return ue`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return ue`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return ue`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return ue`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return ue`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return ue`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return ue`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return ue`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return ue`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return ue`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return ue`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return ue`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return ue`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return ue`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return ue`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return ue`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return ue`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return ue`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return ue`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return ue`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return ue`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return ue`<w3m-pay-loading-view></w3m-pay-loading-view>`;default:return ue`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){a5.hide();let n=i1.VIEW_DIRECTION.Next;const{history:r}=Qe.state;r.length<this.prevHistoryLength&&(n=i1.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=n,setTimeout(()=>{this.view=e},i1.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("div")}};I7.styles=kJt,rJ([bt()],I7.prototype,"view",void 0),rJ([bt()],I7.prototype,"viewDirection",void 0),I7=rJ([It("w3m-router")],I7);const $Jt=Jt`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var y1=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const CAe="scroll-lock";class rp extends Pt{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Ne.state.enableEmbedded,this.open=vr.state.open,this.caipAddress=ie.state.activeCaipAddress,this.caipNetwork=ie.state.activeCaipNetwork,this.shake=vr.state.shake,this.filterByNamespace=We.state.filterByNamespace,this.initializeTheming(),Xe.prefetchAnalyticsConfig(),this.unsubscribe.push(vr.subscribeKey("open",e=>e?this.onOpen():this.onClose()),vr.subscribeKey("shake",e=>this.shake=e),ie.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),ie.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),Ne.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),We.subscribeKey("filterByNamespace",e=>{var n;this.filterByNamespace!==e&&!((n=ie.getAccountData(e))!=null&&n.caipAddress)&&(Xe.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){vr.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?ue`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?ue`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return ue` <wui-card
      shake="${this.shake}"
      data-embedded="${Qt(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await REe.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:n}=Fo.state,r=ho.getColorTheme(n);Yqt(e,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),ts.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=CAe,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${CAe}"]`);e&&e.remove()}onAddKeyboardListener(){var n;this.abortController=new AbortController;const e=(n=this.shadowRoot)==null?void 0:n.querySelector("wui-card");e==null||e.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){const{tagName:i}=r.target;i&&!i.includes("W3M-")&&!i.includes("WUI-")&&(e==null||e.focus())}},this.abortController)}onRemoveKeyboardListener(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}async onNewAddress(e){const n=ie.state.isSwitchingNamespace,r=Ze.getPlainAddress(e);!r&&!n?vr.close():n&&r&&Qe.goBack(),await Vw.initializeIfEnabled(),this.caipAddress=e,ie.setIsSwitchingNamespace(!1)}onNewNetwork(e){var w,y,b;const n=this.caipNetwork,r=(w=n==null?void 0:n.caipNetworkId)==null?void 0:w.toString(),i=n==null?void 0:n.chainNamespace,s=(y=e==null?void 0:e.caipNetworkId)==null?void 0:y.toString(),o=e==null?void 0:e.chainNamespace,a=r!==s,l=a&&!(i!==o),u=(n==null?void 0:n.name)===Ft.UNSUPPORTED_NETWORK_NAME,d=Qe.state.view==="ConnectingExternal",h=!((b=ie.getAccountData(e==null?void 0:e.chainNamespace))!=null&&b.caipAddress),f=Qe.state.view==="UnsupportedChain",p=vr.state.open;let m=!1;p&&!d&&(h?a&&(m=!0):(f||l&&!u)&&(m=!0)),m&&Qe.state.view!=="SIWXSignMessage"&&Qe.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(Xe.prefetch(),Xe.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}rp.styles=$Jt,y1([ve({type:Boolean})],rp.prototype,"enableEmbedded",void 0),y1([bt()],rp.prototype,"open",void 0),y1([bt()],rp.prototype,"caipAddress",void 0),y1([bt()],rp.prototype,"caipNetwork",void 0),y1([bt()],rp.prototype,"shake",void 0),y1([bt()],rp.prototype,"filterByNamespace",void 0);let iJ=class extends rp{};iJ=y1([It("w3m-modal")],iJ);let sJ=class extends rp{};sJ=y1([It("appkit-modal")],sJ);const TJt=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return sJ},get W3mModal(){return iJ},W3mModalBase:rp},Symbol.toStringTag,{value:"Module"})),PJt=ot`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,NJt=Object.freeze(Object.defineProperty({__proto__:null,addSvg:PJt},Symbol.toStringTag,{value:"Module"})),OJt=ot`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,RJt=Object.freeze(Object.defineProperty({__proto__:null,allWalletsSvg:OJt},Symbol.toStringTag,{value:"Module"})),MJt=ot`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,jJt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomCircleSvg:MJt},Symbol.toStringTag,{value:"Module"})),BJt=ot`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,DJt=Object.freeze(Object.defineProperty({__proto__:null,appStoreSvg:BJt},Symbol.toStringTag,{value:"Module"})),LJt=ot`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,UJt=Object.freeze(Object.defineProperty({__proto__:null,appleSvg:LJt},Symbol.toStringTag,{value:"Module"})),FJt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,zJt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomSvg:FJt},Symbol.toStringTag,{value:"Module"})),WJt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,qJt=Object.freeze(Object.defineProperty({__proto__:null,arrowLeftSvg:WJt},Symbol.toStringTag,{value:"Module"})),HJt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,VJt=Object.freeze(Object.defineProperty({__proto__:null,arrowRightSvg:HJt},Symbol.toStringTag,{value:"Module"})),KJt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,GJt=Object.freeze(Object.defineProperty({__proto__:null,arrowTopSvg:KJt},Symbol.toStringTag,{value:"Module"})),ZJt=ot`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,YJt=Object.freeze(Object.defineProperty({__proto__:null,bankSvg:ZJt},Symbol.toStringTag,{value:"Module"})),JJt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,QJt=Object.freeze(Object.defineProperty({__proto__:null,browserSvg:JJt},Symbol.toStringTag,{value:"Module"})),XJt=ot`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,eQt=Object.freeze(Object.defineProperty({__proto__:null,cardSvg:XJt},Symbol.toStringTag,{value:"Module"})),tQt=ot`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,nQt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkSvg:tQt},Symbol.toStringTag,{value:"Module"})),rQt=ot`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,iQt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkBoldSvg:rQt},Symbol.toStringTag,{value:"Module"})),sQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,oQt=Object.freeze(Object.defineProperty({__proto__:null,chevronBottomSvg:sQt},Symbol.toStringTag,{value:"Module"})),aQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,cQt=Object.freeze(Object.defineProperty({__proto__:null,chevronLeftSvg:aQt},Symbol.toStringTag,{value:"Module"})),lQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,uQt=Object.freeze(Object.defineProperty({__proto__:null,chevronRightSvg:lQt},Symbol.toStringTag,{value:"Module"})),dQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,hQt=Object.freeze(Object.defineProperty({__proto__:null,chevronTopSvg:dQt},Symbol.toStringTag,{value:"Module"})),fQt=ot`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,pQt=Object.freeze(Object.defineProperty({__proto__:null,chromeStoreSvg:fQt},Symbol.toStringTag,{value:"Module"})),gQt=ot`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,mQt=Object.freeze(Object.defineProperty({__proto__:null,clockSvg:gQt},Symbol.toStringTag,{value:"Module"})),yQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,wQt=Object.freeze(Object.defineProperty({__proto__:null,closeSvg:yQt},Symbol.toStringTag,{value:"Module"})),vQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,bQt=Object.freeze(Object.defineProperty({__proto__:null,compassSvg:vQt},Symbol.toStringTag,{value:"Module"})),xQt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,EQt=Object.freeze(Object.defineProperty({__proto__:null,coinPlaceholderSvg:xQt},Symbol.toStringTag,{value:"Module"})),CQt=ot`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,_Qt=Object.freeze(Object.defineProperty({__proto__:null,copySvg:CQt},Symbol.toStringTag,{value:"Module"})),AQt=ot` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,SQt=Object.freeze(Object.defineProperty({__proto__:null,cursorSvg:AQt},Symbol.toStringTag,{value:"Module"})),IQt=ot`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,kQt=Object.freeze(Object.defineProperty({__proto__:null,cursorTransparentSvg:IQt},Symbol.toStringTag,{value:"Module"})),$Qt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,TQt=Object.freeze(Object.defineProperty({__proto__:null,desktopSvg:$Qt},Symbol.toStringTag,{value:"Module"})),PQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,NQt=Object.freeze(Object.defineProperty({__proto__:null,disconnectSvg:PQt},Symbol.toStringTag,{value:"Module"})),OQt=ot`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,RQt=Object.freeze(Object.defineProperty({__proto__:null,discordSvg:OQt},Symbol.toStringTag,{value:"Module"})),MQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,jQt=Object.freeze(Object.defineProperty({__proto__:null,etherscanSvg:MQt},Symbol.toStringTag,{value:"Module"})),BQt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,DQt=Object.freeze(Object.defineProperty({__proto__:null,extensionSvg:BQt},Symbol.toStringTag,{value:"Module"})),LQt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,UQt=Object.freeze(Object.defineProperty({__proto__:null,externalLinkSvg:LQt},Symbol.toStringTag,{value:"Module"})),FQt=ot`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,zQt=Object.freeze(Object.defineProperty({__proto__:null,facebookSvg:FQt},Symbol.toStringTag,{value:"Module"})),WQt=ot`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,qQt=Object.freeze(Object.defineProperty({__proto__:null,farcasterSvg:WQt},Symbol.toStringTag,{value:"Module"})),HQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,VQt=Object.freeze(Object.defineProperty({__proto__:null,filtersSvg:HQt},Symbol.toStringTag,{value:"Module"})),KQt=ot`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,GQt=Object.freeze(Object.defineProperty({__proto__:null,githubSvg:KQt},Symbol.toStringTag,{value:"Module"})),ZQt=ot`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,YQt=Object.freeze(Object.defineProperty({__proto__:null,googleSvg:ZQt},Symbol.toStringTag,{value:"Module"})),JQt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,QQt=Object.freeze(Object.defineProperty({__proto__:null,helpCircleSvg:JQt},Symbol.toStringTag,{value:"Module"})),XQt=ot`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,eXt=Object.freeze(Object.defineProperty({__proto__:null,imageSvg:XQt},Symbol.toStringTag,{value:"Module"})),tXt=ot`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,nXt=Object.freeze(Object.defineProperty({__proto__:null,idSvg:tXt},Symbol.toStringTag,{value:"Module"})),rXt=ot`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,iXt=Object.freeze(Object.defineProperty({__proto__:null,infoCircleSvg:rXt},Symbol.toStringTag,{value:"Module"})),sXt=ot`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,oXt=Object.freeze(Object.defineProperty({__proto__:null,lightbulbSvg:sXt},Symbol.toStringTag,{value:"Module"})),aXt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,cXt=Object.freeze(Object.defineProperty({__proto__:null,mailSvg:aXt},Symbol.toStringTag,{value:"Module"})),lXt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,uXt=Object.freeze(Object.defineProperty({__proto__:null,mobileSvg:lXt},Symbol.toStringTag,{value:"Module"})),dXt=ot`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,hXt=Object.freeze(Object.defineProperty({__proto__:null,moreSvg:dXt},Symbol.toStringTag,{value:"Module"})),fXt=ot`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,pXt=Object.freeze(Object.defineProperty({__proto__:null,networkPlaceholderSvg:fXt},Symbol.toStringTag,{value:"Module"})),gXt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,mXt=Object.freeze(Object.defineProperty({__proto__:null,nftPlaceholderSvg:gXt},Symbol.toStringTag,{value:"Module"})),yXt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,wXt=Object.freeze(Object.defineProperty({__proto__:null,offSvg:yXt},Symbol.toStringTag,{value:"Module"})),vXt=ot` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,bXt=Object.freeze(Object.defineProperty({__proto__:null,playStoreSvg:vXt},Symbol.toStringTag,{value:"Module"})),xXt=ot`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,EXt=Object.freeze(Object.defineProperty({__proto__:null,plusSvg:xXt},Symbol.toStringTag,{value:"Module"})),CXt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,_Xt=Object.freeze(Object.defineProperty({__proto__:null,qrCodeIcon:CXt},Symbol.toStringTag,{value:"Module"})),AXt=ot`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,SXt=Object.freeze(Object.defineProperty({__proto__:null,recycleHorizontalSvg:AXt},Symbol.toStringTag,{value:"Module"})),IXt=ot`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,kXt=Object.freeze(Object.defineProperty({__proto__:null,refreshSvg:IXt},Symbol.toStringTag,{value:"Module"})),$Xt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,TXt=Object.freeze(Object.defineProperty({__proto__:null,searchSvg:$Xt},Symbol.toStringTag,{value:"Module"})),PXt=ot`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,NXt=Object.freeze(Object.defineProperty({__proto__:null,sendSvg:PXt},Symbol.toStringTag,{value:"Module"})),OXt=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,RXt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalSvg:OXt},Symbol.toStringTag,{value:"Module"})),MXt=ot`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,jXt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalMediumSvg:MXt},Symbol.toStringTag,{value:"Module"})),BXt=ot`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,DXt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalBoldSvg:BXt},Symbol.toStringTag,{value:"Module"})),LXt=ot`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,UXt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalRoundedBoldSvg:LXt},Symbol.toStringTag,{value:"Module"})),FXt=ot`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,zXt=Object.freeze(Object.defineProperty({__proto__:null,swapVerticalSvg:FXt},Symbol.toStringTag,{value:"Module"})),WXt=ot`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,qXt=Object.freeze(Object.defineProperty({__proto__:null,telegramSvg:WXt},Symbol.toStringTag,{value:"Module"})),HXt=ot`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,VXt=Object.freeze(Object.defineProperty({__proto__:null,threeDotsSvg:HXt},Symbol.toStringTag,{value:"Module"})),KXt=ot`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,GXt=Object.freeze(Object.defineProperty({__proto__:null,twitchSvg:KXt},Symbol.toStringTag,{value:"Module"})),ZXt=ot`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,_Ae=Object.freeze(Object.defineProperty({__proto__:null,xSvg:ZXt},Symbol.toStringTag,{value:"Module"})),YXt=ot`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,JXt=Object.freeze(Object.defineProperty({__proto__:null,twitterIconSvg:YXt},Symbol.toStringTag,{value:"Module"})),QXt=ot`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,XXt=Object.freeze(Object.defineProperty({__proto__:null,verifySvg:QXt},Symbol.toStringTag,{value:"Module"})),een=ot`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,ten=Object.freeze(Object.defineProperty({__proto__:null,verifyFilledSvg:een},Symbol.toStringTag,{value:"Module"})),nen=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,ren=Object.freeze(Object.defineProperty({__proto__:null,walletSvg:nen},Symbol.toStringTag,{value:"Module"})),ien=ot`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,sen=ot`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,oen=ot`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,oJ=Object.freeze(Object.defineProperty({__proto__:null,walletConnectBrownSvg:oen,walletConnectLightBrownSvg:sen,walletConnectSvg:ien},Symbol.toStringTag,{value:"Module"})),aen=ot`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,cen=Object.freeze(Object.defineProperty({__proto__:null,walletPlaceholderSvg:aen},Symbol.toStringTag,{value:"Module"})),len=ot`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,uen=Object.freeze(Object.defineProperty({__proto__:null,warningCircleSvg:len},Symbol.toStringTag,{value:"Module"})),den=ot`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,hen=Object.freeze(Object.defineProperty({__proto__:null,infoSvg:den},Symbol.toStringTag,{value:"Module"})),fen=ot`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`,pen=Object.freeze(Object.defineProperty({__proto__:null,exclamationTriangleSvg:fen},Symbol.toStringTag,{value:"Module"})),gen=ot`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`,men=Object.freeze(Object.defineProperty({__proto__:null,reownSvg:gen},Symbol.toStringTag,{value:"Module"}))})();
